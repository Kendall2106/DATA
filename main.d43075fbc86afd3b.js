"use strict";(self.webpackChunkTrackify=self.webpackChunkTrackify||[]).push([[179],{516:(vo,qr,hl)=>{function Je(n){return"function"==typeof n}function Qt(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Zt=Qt(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Tn(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Oe{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Je(i))try{i()}catch(s){t=s instanceof Zt?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ye(s)}catch(o){t=t??[],o instanceof Zt?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Zt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ye(t);else{if(t instanceof Oe){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Tn(e,t)}remove(t){const{_finalizers:e}=this;e&&Tn(e,t),t instanceof Oe&&t._removeParent(this)}}Oe.EMPTY=(()=>{const n=new Oe;return n.closed=!0,n})();const ze=Oe.EMPTY;function Et(n){return n instanceof Oe||n&&"closed"in n&&Je(n.remove)&&Je(n.add)&&Je(n.unsubscribe)}function ye(n){Je(n)?n():n.unsubscribe()}const ge={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vt={setTimeout(n,t,...e){const{delegate:i}=vt;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=vt;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Le(n){vt.setTimeout(()=>{const{onUnhandledError:t}=ge;if(!t)throw n;t(n)})}function Ut(){}const Ls=Fh("C",void 0,void 0);function Fh(n,t,e){return{kind:n,value:t,error:e}}let Vs=null;function fl(n){if(ge.useDeprecatedSynchronousErrorHandling){const t=!Vs;if(t&&(Vs={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Vs;if(Vs=null,e)throw i}}else n()}class qc extends Oe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Et(t)&&t.add(this)):this.destination=Vm}static create(t,e,i){return new pl(t,e,i)}next(t){this.isStopped?Bh(function Fs(n){return Fh("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Bh(function Ar(n){return Fh("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Bh(Ls,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Vh=Function.prototype.bind;function Yr(n,t){return Vh.call(n,t)}class Fm{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ha(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ha(i)}else ha(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ha(e)}}}class pl extends qc{constructor(t,e,i){let r;if(super(),Je(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&ge.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Yr(t.next,s),error:t.error&&Yr(t.error,s),complete:t.complete&&Yr(t.complete,s)}):r=t}this.destination=new Fm(r)}}function ha(n){ge.useDeprecatedSynchronousErrorHandling?function Lm(n){ge.useDeprecatedSynchronousErrorHandling&&Vs&&(Vs.errorThrown=!0,Vs.error=n)}(n):Le(n)}function Bh(n,t){const{onStoppedNotification:e}=ge;e&&vt.setTimeout(()=>e(n,t))}const Vm={closed:!0,next:Ut,error:function Ux(n){throw n},complete:Ut},Hh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kr(n){return n}function Bm(n){return 0===n.length?Kr:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let ut=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function zx(n){return n&&n instanceof qc||function $m(n){return n&&Je(n.next)&&Je(n.error)&&Je(n.complete)}(n)&&Et(n)}(e)?e:new pl(e,i,r);return fl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Hm(i))((r,s)=>{const o=new pl({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Hh](){return this}pipe(...e){return Bm(e)(this)}toPromise(e){return new(e=Hm(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function Hm(n){var t;return null!==(t=n??ge.Promise)&&void 0!==t?t:Promise}const Um=Qt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let we=(()=>{class n extends ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new jx(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Um}next(e){fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?ze:(this.currentObservers=null,s.push(e),new Oe(()=>{this.currentObservers=null,Tn(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new ut;return e.source=this,e}}return n.create=(t,e)=>new jx(t,e),n})();class jx extends we{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:ze}}function Gm(n){return Je(n?.lift)}function Jt(n){return t=>{if(Gm(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Mt(n,t,e,i,r){return new zm(n,t,e,i,r)}class zm extends qc{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Fe(n,t){return Jt((e,i)=>{let r=0;e.subscribe(Mt(i,s=>{i.next(n.call(t,s,r++))}))})}function gl(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}function $n(n){return this instanceof $n?(this.v=n,this):new $n(n)}function fa(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Hn(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Kx=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function oN(n){return Je(n?.then)}function aN(n){return Je(n[Hh])}function lN(n){return Symbol.asyncIterator&&Je(n?.[Symbol.asyncIterator])}function cN(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const uN=function Vq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function dN(n){return Je(n?.[uN])}function hN(n){return function _l(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof $n?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield $n(e.read());if(r)return yield $n(void 0);yield yield $n(i)}}finally{e.releaseLock()}})}function fN(n){return Je(n?.getReader)}function Gn(n){if(n instanceof ut)return n;if(null!=n){if(aN(n))return function Bq(n){return new ut(t=>{const e=n[Hh]();if(Je(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Kx(n))return function Hq(n){return new ut(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(oN(n))return function $q(n){return new ut(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Le)})}(n);if(lN(n))return pN(n);if(dN(n))return function Uq(n){return new ut(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(fN(n))return function Gq(n){return pN(hN(n))}(n)}throw cN(n)}function pN(n){return new ut(t=>{(function zq(n,t){var e,i,r,s;return function pe(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=fa(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function bo(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Xn(n,t,e=1/0){return Je(t)?Xn((i,r)=>Fe((s,o)=>t(i,s,r,o))(Gn(n(i,r))),e):("number"==typeof t&&(e=t),Jt((i,r)=>function jq(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{s&&t.next(m),c++;let g=!1;Gn(e(m,u++)).subscribe(Mt(t,v=>{r?.(v),s?f(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const v=l.shift();o?bo(t,o,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return n.subscribe(Mt(t,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function Kc(n=1/0){return Xn(Kr,n)}const Xr=new ut(n=>n.complete());function gN(n){return n&&Je(n.schedule)}function Xx(n){return n[n.length-1]}function Ym(n){return Je(Xx(n))?n.pop():void 0}function Gh(n){return gN(Xx(n))?n.pop():void 0}function Km(n,t=0){return Jt((e,i)=>{e.subscribe(Mt(i,r=>bo(i,n,()=>i.next(r),t),()=>bo(i,n,()=>i.complete(),t),r=>bo(i,n,()=>i.error(r),t)))})}function Xm(n,t=0){return Jt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function mN(n,t){if(!n)throw new Error("Iterable cannot be null");return new ut(e=>{bo(e,t,()=>{const i=n[Symbol.asyncIterator]();bo(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Qn(n,t){return t?function Jq(n,t){if(null!=n){if(aN(n))return function Yq(n,t){return Gn(n).pipe(Xm(t),Km(t))}(n,t);if(Kx(n))return function Xq(n,t){return new ut(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(oN(n))return function Kq(n,t){return Gn(n).pipe(Xm(t),Km(t))}(n,t);if(lN(n))return mN(n,t);if(dN(n))return function Qq(n,t){return new ut(e=>{let i;return bo(e,t,()=>{i=n[uN](),bo(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>Je(i?.return)&&i.return()})}(n,t);if(fN(n))return function Zq(n,t){return mN(hN(n),t)}(n,t)}throw cN(n)}(n,t):Gn(n)}function zh(...n){const t=Gh(n),e=function qq(n,t){return"number"==typeof Xx(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Gn(i[0]):Kc(e)(Qn(i,t)):Xr}class zn extends we{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function Se(...n){return Qn(n,Gh(n))}function _N(n={}){const{connector:t=(()=>new we),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Jt((m,g)=>{c++,!d&&!u&&h();const v=l=l??t();g.add(()=>{c--,0===c&&!d&&!u&&(a=Qx(p,r))}),v.subscribe(g),!o&&c>0&&(o=new pl({next:_=>v.next(_),error:_=>{d=!0,h(),a=Qx(f,e,_),v.error(_)},complete:()=>{u=!0,h(),a=Qx(f,i),v.complete()}}),Gn(m).subscribe(o))})(s)}}function Qx(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new pl({next:()=>{i.unsubscribe(),n()}});return Gn(t(...e)).subscribe(i)}function di(n,t){return Jt((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(Mt(i,l=>{r?.unsubscribe();let c=0;const u=s++;Gn(n(l,u)).subscribe(r=Mt(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function eY(n,t){return n===t}function Nt(n){for(let t in n)if(n[t]===Nt)return t;throw Error("Could not find renamed property on target object.")}function Zm(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Zn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Zn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Zx(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const tY=Nt({__forward_ref__:Nt});function yt(n){return n.__forward_ref__=yt,n.toString=function(){return Zn(this())},n}function Re(n){return Jx(n)?n():n}function Jx(n){return"function"==typeof n&&n.hasOwnProperty(tY)&&n.__forward_ref__===yt}function eT(n){return n&&!!n.\u0275providers}const vN="https://g.co/ng/security#xss";class O extends Error{constructor(t,e){super(function Jm(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Ve(n){return"string"==typeof n?n:null==n?"":String(n)}function tT(n,t){throw new O(-201,!1)}function Qr(n,t){null==n&&function ke(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function be(n){return{providers:n.providers||[],imports:n.imports||[]}}function e_(n){return yN(n,n_)||yN(n,bN)}function yN(n,t){return n.hasOwnProperty(t)?n[t]:null}function t_(n){return n&&(n.hasOwnProperty(nT)||n.hasOwnProperty(cY))?n[nT]:null}const n_=Nt({\u0275prov:Nt}),nT=Nt({\u0275inj:Nt}),bN=Nt({ngInjectableDef:Nt}),cY=Nt({ngInjectorDef:Nt});var tt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(tt||{});let iT;function ur(n){const t=iT;return iT=n,t}function TN(n,t,e){const i=e_(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&tt.Optional?null:void 0!==t?t:void tT(Zn(n))}const zt=globalThis;class X{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=z({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const jh={},lT="__NG_DI_FLAG__",i_="ngTempTokenPath",hY=/\n/gm,wN="__source";let Xc;function pa(n){const t=Xc;return Xc=n,t}function gY(n,t=tt.Default){if(void 0===Xc)throw new O(-203,!1);return null===Xc?TN(n,void 0,t):Xc.get(n,t&tt.Optional?null:void 0,t)}function P(n,t=tt.Default){return(function xN(){return iT}()||gY)(Re(n),t)}function ne(n,t=tt.Default){return P(n,r_(t))}function r_(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function cT(n){const t=[];for(let e=0;e<n.length;e++){const i=Re(n[e]);if(Array.isArray(i)){if(0===i.length)throw new O(900,!1);let r,s=tt.Default;for(let o=0;o<i.length;o++){const a=i[o],l=mY(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(P(r,s))}else t.push(P(i))}return t}function Wh(n,t){return n[lT]=t,n.prototype[lT]=t,n}function mY(n){return n[lT]}function xo(n){return{toString:n}.toString()}var s_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(s_||{}),Zr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Zr||{});const Bs={},bt=[],o_=Nt({\u0275cmp:Nt}),uT=Nt({\u0275dir:Nt}),dT=Nt({\u0275pipe:Nt}),DN=Nt({\u0275mod:Nt}),To=Nt({\u0275fac:Nt}),qh=Nt({__NG_ELEMENT_ID__:Nt}),EN=Nt({__NG_ENV_ID__:Nt});function AN(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function hT(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];kN(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function IN(n){return 3===n||4===n||6===n}function kN(n){return 64===n.charCodeAt(0)}function Yh(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||MN(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function MN(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const RN="ng-template";function yY(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==AN(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function NN(n){return 4===n.type&&n.value!==RN}function bY(n,t,e){return t===(4!==n.type||e?n.value:RN)}function xY(n,t,e){let i=4;const r=n.attrs||[],s=function wY(n){for(let t=0;t<n.length;t++)if(IN(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!bY(n,l,e)||""===l&&1===t.length){if(gs(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!yY(n.attrs,c,e)){if(gs(i))return!1;o=!0}continue}const d=TY(8&i?"class":l,r,NN(n),e);if(-1===d){if(gs(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==AN(f,c,0)||2&i&&c!==h){if(gs(i))return!1;o=!0}}}}else{if(!o&&!gs(i)&&!gs(l))return!1;if(o&&gs(l))continue;o=!1,i=l|1&i}}return gs(i)||o}function gs(n){return 0==(1&n)}function TY(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function SY(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function PN(n,t,e=!1){for(let i=0;i<t.length;i++)if(xY(n,t[i],e))return!0;return!1}function DY(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function ON(n,t){return n?":not("+t.trim()+")":t}function EY(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!gs(o)&&(t+=ON(s,r),r=""),i=o,s=s||!gs(i);e++}return""!==r&&(t+=ON(s,r)),t}function Be(n){return xo(()=>{const t=FN(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===s_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Zr.Emulated,styles:n.styles||bt,_:null,schemas:n.schemas||null,tView:null,id:""};VN(e);const i=n.dependencies;return e.directiveDefs=a_(i,!1),e.pipeDefs=a_(i,!0),e.id=function OY(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function MY(n){return ht(n)||Ci(n)}function RY(n){return null!==n}function Te(n){return xo(()=>({type:n.type,bootstrap:n.bootstrap||bt,declarations:n.declarations||bt,imports:n.imports||bt,exports:n.exports||bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function LN(n,t){if(null==n)return Bs;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function ee(n){return xo(()=>{const t=FN(n);return VN(t),t})}function ht(n){return n[o_]||null}function Ci(n){return n[uT]||null}function Qi(n){return n[dT]||null}function kr(n,t){const e=n[DN]||null;if(!e&&!0===t)throw new Error(`Type ${Zn(n)} does not have '\u0275mod' property.`);return e}function FN(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Bs,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LN(n.inputs,t),outputs:LN(n.outputs)}}function VN(n){n.features?.forEach(t=>t(n))}function a_(n,t){if(!n)return null;const e=t?Qi:MY;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(RY)}const Cn=0,ue=1,je=2,an=3,ms=4,Kh=5,Vi=6,Zc=7,In=8,ga=9,Jc=10,He=11,Xh=12,BN=13,eu=14,kn=15,Qh=16,tu=17,Hs=18,Zh=19,HN=20,ma=21,Co=22,Jh=23,ef=24,nt=25,fT=1,$N=2,$s=7,nu=9,wi=11;function hr(n){return Array.isArray(n)&&"object"==typeof n[fT]}function Zi(n){return Array.isArray(n)&&!0===n[fT]}function pT(n){return 0!=(4&n.flags)}function yl(n){return n.componentOffset>-1}function c_(n){return 1==(1&n.flags)}function _s(n){return!!n.template}function gT(n){return 0!=(512&n[je])}function bl(n,t){return n.hasOwnProperty(To)?n[To]:null}let Si=null,u_=!1;function Jr(n){const t=Si;return Si=n,t}const zN={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function WN(n){if(!nf(n)||n.dirty){if(!n.producerMustRecompute(n)&&!KN(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function YN(n){n.dirty=!0,function qN(n){if(void 0===n.liveConsumerNode)return;const t=u_;u_=!0;try{for(const e of n.liveConsumerNode)e.dirty||YN(e)}finally{u_=t}}(n),n.consumerMarkedDirty?.(n)}function _T(n){return n&&(n.nextProducerIndex=0),Jr(n)}function vT(n,t){if(Jr(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(nf(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)d_(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function KN(n){iu(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(WN(e),i!==e.version))return!0}return!1}function XN(n){if(iu(n),nf(n))for(let t=0;t<n.producerNode.length;t++)d_(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function d_(n,t){if(function ZN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),iu(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)d_(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];iu(r),r.producerIndexOfThis[i]=t}}function nf(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function iu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let JN=null;const iP=()=>{},YY=(()=>({...zN,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:iP}))();class KY{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function kt(){return rP}function rP(n){return n.type.prototype.ngOnChanges&&(n.setInput=QY),XY}function XY(){const n=oP(this),t=n?.current;if(t){const e=n.previous;if(e===Bs)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function QY(n,t,e,i){const r=this.declaredInputs[e],s=oP(n)||function ZY(n,t){return n[sP]=t}(n,{previous:Bs,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new KY(l&&l.currentValue,t,a===Bs),n[i]=t}kt.ngInherit=!0;const sP="__ngSimpleChanges__";function oP(n){return n[sP]||null}const Us=function(n,t,e){};function jt(n){for(;Array.isArray(n);)n=n[Cn];return n}function h_(n,t){return jt(t[n])}function fr(n,t){return jt(t[n.index])}function cP(n,t){return n.data[t]}function Mr(n,t){const e=t[n];return hr(e)?e:e[Cn]}function va(n,t){return null==t?null:n[t]}function uP(n){n[tu]=0}function rK(n){1024&n[je]||(n[je]|=1024,hP(n,1))}function dP(n){1024&n[je]&&(n[je]&=-1025,hP(n,-1))}function hP(n,t){let e=n[an];if(null===e)return;e[Kh]+=t;let i=e;for(e=e[an];null!==e&&(1===t&&1===i[Kh]||-1===t&&0===i[Kh]);)e[Kh]+=t,i=e,e=e[an]}const Me={lFrame:CP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gP(){return Me.bindingsEnabled}function su(){return null!==Me.skipHydrationRootTNode}function H(){return Me.lFrame.lView}function ft(){return Me.lFrame.tView}function Qe(n){return Me.lFrame.contextLView=n,n[In]}function Ze(n){return Me.lFrame.contextLView=null,n}function Di(){let n=mP();for(;null!==n&&64===n.type;)n=n.parent;return n}function mP(){return Me.lFrame.currentTNode}function Gs(n,t){const e=Me.lFrame;e.currentTNode=n,e.isParent=t}function CT(){return Me.lFrame.isParent}function wT(){Me.lFrame.isParent=!1}function Ji(){const n=Me.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ou(){return Me.lFrame.bindingIndex++}function So(n){const t=Me.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function mK(n,t){const e=Me.lFrame;e.bindingIndex=e.bindingRootIndex=n,ST(t)}function ST(n){Me.lFrame.currentDirectiveIndex=n}function bP(){return Me.lFrame.currentQueryIndex}function ET(n){Me.lFrame.currentQueryIndex=n}function vK(n){const t=n[ue];return 2===t.type?t.declTNode:1===t.type?n[Vi]:null}function xP(n,t,e){if(e&tt.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&tt.Host||(r=vK(s),null===r||(s=s[eu],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Me.lFrame=TP();return i.currentTNode=t,i.lView=n,!0}function AT(n){const t=TP(),e=n[ue];Me.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function TP(){const n=Me.lFrame,t=null===n?null:n.child;return null===t?CP(n):t}function CP(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function wP(){const n=Me.lFrame;return Me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const SP=wP;function IT(){const n=wP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function er(){return Me.lFrame.selectedIndex}function xl(n){Me.lFrame.selectedIndex=n}function pn(){const n=Me.lFrame;return cP(n.tView,n.selectedIndex)}function gn(){Me.lFrame.currentNamespace="svg"}let EP=!0;function p_(){return EP}function ya(n){EP=n}function g_(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function m_(n,t,e){AP(n,t,3,e)}function __(n,t,e,i){(3&n[je])===e&&AP(n,t,e,i)}function kT(n,t){let e=n[je];(3&e)===t&&(e&=8191,e+=1,n[je]=e)}function AP(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[tu]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[tu]+=65536),(a<s||-1==s)&&(wK(n,e,t,l),n[tu]=(4294901760&n[tu])+l+2),l++}function IP(n,t){Us(4,n,t);const e=Jr(null);try{t.call(n)}finally{Jr(e),Us(5,n,t)}}function wK(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];r?n[je]>>13<n[tu]>>16&&(3&n[je])===t&&(n[je]+=8192,IP(a,s)):IP(a,s)}const au=-1;class sf{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function RT(n){return n!==au}function af(n){return 32767&n}function lf(n,t){let e=function AK(n){return n>>16}(n),i=t;for(;e>0;)i=i[eu],e--;return i}let NT=!0;function v_(n){const t=NT;return NT=n,t}const kP=255,MP=5;let IK=0;const zs={};function y_(n,t){const e=RP(n,t);if(-1!==e)return e;const i=t[ue];i.firstCreatePass&&(n.injectorIndex=t.length,PT(i.data,n),PT(t,null),PT(i.blueprint,null));const r=b_(n,t),s=n.injectorIndex;if(RT(r)){const o=af(r),a=lf(r,t),l=a[ue].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function PT(n,t){n.push(0,0,0,0,0,0,0,0,t)}function RP(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function b_(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=BP(r),null===i)return au;if(e++,r=r[eu],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return au}function OT(n,t,e){!function kK(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(qh)&&(i=e[qh]),null==i&&(i=e[qh]=IK++);const r=i&kP;t.data[n+(r>>MP)]|=1<<r}(n,t,e)}function NP(n,t,e){if(e&tt.Optional||void 0!==n)return n;tT()}function PP(n,t,e,i){if(e&tt.Optional&&void 0===i&&(i=null),!(e&(tt.Self|tt.Host))){const r=n[ga],s=ur(void 0);try{return r?r.get(t,i,e&tt.Optional):TN(t,i,e&tt.Optional)}finally{ur(s)}}return NP(i,0,e)}function OP(n,t,e,i=tt.Default,r){if(null!==n){if(2048&t[je]&&!(i&tt.Self)){const o=function LK(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[je]&&!(512&o[je]);){const a=LP(s,o,e,i|tt.Self,zs);if(a!==zs)return a;let l=s.parent;if(!l){const c=o[HN];if(c){const u=c.get(e,zs,i);if(u!==zs)return u}l=BP(o),o=o[eu]}s=l}return r}(n,t,e,i,zs);if(o!==zs)return o}const s=LP(n,t,e,i,zs);if(s!==zs)return s}return PP(t,e,i,r)}function LP(n,t,e,i,r){const s=function NK(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(qh)?n[qh]:void 0;return"number"==typeof t?t>=0?t&kP:OK:t}(e);if("function"==typeof s){if(!xP(t,n,i))return i&tt.Host?NP(r,0,i):PP(t,e,i,r);try{let o;if(o=s(i),null!=o||i&tt.Optional)return o;tT()}finally{SP()}}else if("number"==typeof s){let o=null,a=RP(n,t),l=au,c=i&tt.Host?t[kn][Vi]:null;for((-1===a||i&tt.SkipSelf)&&(l=-1===a?b_(n,t):t[a+8],l!==au&&VP(i,!1)?(o=t[ue],a=af(l),t=lf(l,t)):a=-1);-1!==a;){const u=t[ue];if(FP(s,a,u.data)){const d=RK(a,t,e,o,i,c);if(d!==zs)return d}l=t[a+8],l!==au&&VP(i,t[ue].data[a+8]===c)&&FP(s,a,t)?(o=u,a=af(l),t=lf(l,t)):a=-1}}return r}function RK(n,t,e,i,r,s){const o=t[ue],a=o.data[n+8],u=x_(a,o,e,null==i?yl(a)&&NT:i!=o&&0!=(3&a.type),r&tt.Host&&s===a);return null!==u?Tl(t,o,u,a):zs}function x_(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=o[l];if(f&&_s(f)&&f.type===e)return l}return null}function Tl(n,t,e,i){let r=n[e];const s=t.data;if(function SK(n){return n instanceof sf}(r)){const o=r;o.resolving&&function nY(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new O(-200,`Circular dependency in DI detected for ${n}${e}`)}(function It(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ve(n)}(s[e]));const a=v_(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?ur(o.injectImpl):null;xP(n,i,tt.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function CK(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=rP(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&ur(c),v_(a),o.resolving=!1,SP()}}return r}function FP(n,t,e){return!!(e[t+(n>>MP)]&1<<n)}function VP(n,t){return!(n&tt.Self||n&tt.Host&&t)}class tr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return OP(this._tNode,this._lView,t,r_(i),e)}}function OK(){return new tr(Di(),H())}function Mn(n){return xo(()=>{const t=n.prototype.constructor,e=t[To]||LT(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[To]||LT(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function LT(n){return Jx(n)?()=>{const t=LT(Re(n));return t&&t()}:bl(n)}function BP(n){const t=n[ue],e=t.type;return 2===e?t.declTNode:1===e?n[Vi]:null}const uu="__parameters__";function hu(n,t,e){return xo(()=>{const i=function FT(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(uu)?l[uu]:Object.defineProperty(l,uu,{value:[]})[uu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function pu(n,t){n.forEach(e=>Array.isArray(e)?pu(e,t):t(e))}function $P(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function T_(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function df(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Rr(n,t,e){let i=gu(n,t);return i>=0?n[1|i]=e:(i=~i,function GK(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function VT(n,t){const e=gu(n,t);if(e>=0)return n[1|e]}function gu(n,t){return function UP(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const ts=Wh(hu("Optional"),8),w_=Wh(hu("SkipSelf"),4);function I_(n){return 128==(128&n.flags)}var ba=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ba||{});const uX=/^>|^->|<!--|-->|--!>|<!-$/g,dX=/(<|>)/g,hX="\u200b$1\u200b";const GT=new Map;let fX=0;const jT="__ngContext__";function Bi(n,t){hr(t)?(n[jT]=t[Zh],function gX(n){GT.set(n[Zh],n)}(t)):n[jT]=t}let WT;function qT(n,t){return WT(n,t)}function pf(n){const t=n[an];return Zi(t)?t[an]:t}function lO(n){return uO(n[Xh])}function cO(n){return uO(n[ms])}function uO(n){for(;null!==n&&!Zi(n);)n=n[ms];return n}function vu(n,t,e,i,r){if(null!=i){let s,o=!1;Zi(i)?s=i:hr(i)&&(o=!0,i=i[Cn]);const a=jt(i);0===n&&null!==e?null==r?pO(t,e,a):Cl(t,e,a,r||null,!0):1===n&&null!==e?Cl(t,e,a,r||null,!0):2===n?function L_(n,t,e){const i=P_(n,t);i&&function PX(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function FX(n,t,e,i,r){const s=e[$s];s!==jt(e)&&vu(t,n,i,s,r);for(let a=wi;a<e.length;a++){const l=e[a];mf(l[ue],l,n,t,i,s)}}(t,n,s,e,r)}}function YT(n,t){return n.createComment(function eO(n){return n.replace(uX,t=>t.replace(dX,hX))}(t))}function R_(n,t,e){return n.createElement(t,e)}function hO(n,t){const e=n[nu],i=e.indexOf(t);dP(t),e.splice(i,1)}function N_(n,t){if(n.length<=wi)return;const e=wi+t,i=n[e];if(i){const r=i[Qh];null!==r&&r!==n&&hO(r,i),t>0&&(n[e-1][ms]=i[ms]);const s=T_(n,wi+t);!function DX(n,t){mf(n,t,t[He],2,null,null),t[Cn]=null,t[Vi]=null}(i[ue],i);const o=s[Hs];null!==o&&o.detachView(s[ue]),i[an]=null,i[ms]=null,i[je]&=-129}return i}function KT(n,t){if(!(256&t[je])){const e=t[He];t[Jh]&&XN(t[Jh]),t[ef]&&XN(t[ef]),e.destroyNode&&mf(n,t,e,3,null,null),function IX(n){let t=n[Xh];if(!t)return XT(n[ue],n);for(;t;){let e=null;if(hr(t))e=t[Xh];else{const i=t[wi];i&&(e=i)}if(!e){for(;t&&!t[ms]&&t!==n;)hr(t)&&XT(t[ue],t),t=t[an];null===t&&(t=n),hr(t)&&XT(t[ue],t),e=t&&t[ms]}t=e}}(t)}}function XT(n,t){if(!(256&t[je])){t[je]&=-129,t[je]|=256,function NX(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof sf)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Us(4,a,l);try{l.call(a)}finally{Us(5,a,l)}}else{Us(4,r,s);try{s.call(r)}finally{Us(5,r,s)}}}}}(n,t),function RX(n,t){const e=n.cleanup,i=t[Zc];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[Zc]=null);const r=t[ma];if(null!==r){t[ma]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[ue].type&&t[He].destroy();const e=t[Qh];if(null!==e&&Zi(t[an])){e!==t[an]&&hO(e,t);const i=t[Hs];null!==i&&i.detachView(n)}!function mX(n){GT.delete(n[Zh])}(t)}}function QT(n,t,e){return function fO(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[Cn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Zr.None||s===Zr.Emulated)return null}return fr(i,e)}}(n,t.parent,e)}function Cl(n,t,e,i,r){n.insertBefore(t,e,i,r)}function pO(n,t,e){n.appendChild(t,e)}function gO(n,t,e,i,r){null!==i?Cl(n,t,e,i,r):pO(n,t,e)}function P_(n,t){return n.parentNode(t)}function mO(n,t,e){return vO(n,t,e)}let ZT,F_,nC,V_,vO=function _O(n,t,e){return 40&n.type?fr(n,e):null};function O_(n,t,e,i){const r=QT(n,i,t),s=t[He],a=mO(i.parent||t[Vi],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)gO(s,r,e[l],a,!1);else gO(s,r,e,a,!1);void 0!==ZT&&ZT(s,i,t,e,r)}function gf(n,t){if(null!==t){const e=t.type;if(3&e)return fr(t,n);if(4&e)return JT(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return gf(n,i);{const r=n[t.index];return Zi(r)?JT(-1,r):jt(r)}}if(32&e)return qT(t,n)()||jt(n[t.index]);{const i=bO(n,t);return null!==i?Array.isArray(i)?i[0]:gf(pf(n[kn]),i):gf(n,t.next)}}return null}function bO(n,t){return null!==t?n[kn][Vi].projection[t.projection]:null}function JT(n,t){const e=wi+n+1;if(e<t.length){const i=t[e],r=i[ue].firstChild;if(null!==r)return gf(i,r)}return t[$s]}function eC(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&Bi(jt(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)eC(n,t,e.child,i,r,s,!1),vu(t,n,r,a,s);else if(32&l){const c=qT(e,i);let u;for(;u=c();)vu(t,n,r,u,s);vu(t,n,r,a,s)}else 16&l?TO(n,t,i,e,r,s):vu(t,n,r,a,s);e=o?e.projectionNext:e.next}}function mf(n,t,e,i,r,s){eC(e,i,n.firstChild,t,r,s,!1)}function TO(n,t,e,i,r,s){const o=e[kn],l=o[Vi].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)vu(t,n,r,l[c],s);else{let c=l;const u=o[an];I_(i)&&(c.flags|=128),eC(n,t,c,u,r,s,!0)}}function CO(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function wO(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&hT(n,t,i),null!==r&&CO(n,t,r),null!==s&&function BX(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function yu(n){return function tC(){if(void 0===F_&&(F_=null,zt.trustedTypes))try{F_=zt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return F_}()?.createHTML(n)||n}function bu(){if(void 0!==nC)return nC;if(typeof document<"u")return document;throw new O(210,!1)}function SO(n){return function iC(){if(void 0===V_&&(V_=null,zt.trustedTypes))try{V_=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return V_}()?.createHTML(n)||n}class AO{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vN})`}}function xa(n){return n instanceof AO?n.changingThisBreaksApplicationSecurity:n}function _f(n,t){const e=function KX(n){return n instanceof AO&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${vN})`)}return e===t}class XX{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(yu(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class QX{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=yu(t),e}}const JX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rC(n){return(n=String(n)).match(JX)?n:"unsafe:"+n}function Do(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function vf(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const kO=Do("area,br,col,hr,img,wbr"),MO=Do("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),RO=Do("rp,rt"),sC=vf(kO,vf(MO,Do("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vf(RO,Do("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vf(RO,MO)),oC=Do("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),NO=vf(oC,Do("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Do("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),eQ=Do("script,style,template");class tQ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sC.hasOwnProperty(e))return this.sanitizedSomething=!0,!eQ.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!NO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;oC[a]&&(l=rC(l)),this.buf.push(" ",o,'="',PO(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sC.hasOwnProperty(e)&&!kO.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(PO(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const nQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iQ=/([^\#-~ |!])/g;function PO(n){return n.replace(/&/g,"&amp;").replace(nQ,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(iQ,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let B_;function aC(n){return"content"in n&&function sQ(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var xu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(xu||{});function OO(n){const t=yf();return t?SO(t.sanitize(xu.HTML,n)||""):_f(n,"HTML")?SO(xa(n)):function rQ(n,t){let e=null;try{B_=B_||function IO(n){const t=new QX(n);return function ZX(){try{return!!(new window.DOMParser).parseFromString(yu(""),"text/html")}catch{return!1}}()?new XX(t):t}(n);let i=t?String(t):"";e=B_.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=B_.getInertBodyElement(i)}while(i!==s);return yu((new tQ).sanitizeChildren(aC(e)||e))}finally{if(e){const i=aC(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(bu(),Ve(n))}function Ta(n){const t=yf();return t?t.sanitize(xu.URL,n)||"":_f(n,"URL")?xa(n):rC(Ve(n))}function yf(){const n=H();return n&&n[Jc].sanitizer}const bf=new X("ENVIRONMENT_INITIALIZER"),VO=new X("INJECTOR",-1),BO=new X("INJECTOR_DEF_TYPES");class lC{get(t,e=jh){if(e===jh){const i=new Error(`NullInjectorError: No provider for ${Zn(t)}!`);throw i.name="NullInjectorError",i}return e}}function dQ(...n){return{\u0275providers:HO(0,n),\u0275fromNgModule:!0}}function HO(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return pu(t,o=>{const a=o;H_(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&$O(r,s),e}function $O(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];uC(r,s=>{t(s,i)})}}function H_(n,t,e,i){if(!(n=Re(n)))return!1;let r=null,s=t_(n);const o=!s&&ht(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=t_(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)H_(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{pu(s.imports,u=>{H_(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&$O(c,t)}if(!a){const c=bl(r)||(()=>new r);t({provide:r,useFactory:c,deps:bt},r),t({provide:BO,useValue:r,multi:!0},r),t({provide:bf,useValue:()=>P(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;uC(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function uC(n,t){for(let e of n)eT(e)&&(e=e.\u0275providers),Array.isArray(e)?uC(e,t):t(e)}const hQ=Nt({provide:String,useValue:Nt});function dC(n){return null!==n&&"object"==typeof n&&hQ in n}function wl(n){return"function"==typeof n}const hC=new X("Set Injector scope."),$_={},pQ={};let fC;function U_(){return void 0===fC&&(fC=new lC),fC}class gr{}class Tu extends gr{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gC(t,o=>this.processProvider(o)),this.records.set(VO,Cu(void 0,this)),r.has("environment")&&this.records.set(gr,Cu(void 0,this));const s=this.records.get(hC);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(BO.multi,bt,tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=pa(this),i=ur(void 0);try{return t()}finally{pa(e),ur(i)}}get(t,e=jh,i=tt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(EN))return t[EN](this);i=r_(i);const s=pa(this),o=ur(void 0);try{if(!(i&tt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function yQ(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(t)&&e_(t);l=c&&this.injectableDefInScope(c)?Cu(pC(t),$_):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&tt.Self?U_():this.parent).get(t,e=i&tt.Optional&&e===jh?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[i_]=a[i_]||[]).unshift(Zn(t)),s)throw a;return function _Y(n,t,e,i){const r=n[i_];throw t[wN]&&r.unshift(t[wN]),n.message=function vY(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Zn(t);if(Array.isArray(t))r=t.map(Zn).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Zn(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(hY,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[i_]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{ur(o),pa(s)}}resolveInjectorInitializers(){const t=pa(this),e=ur(void 0);try{const r=this.get(bf.multi,bt,tt.Self);for(const s of r)s()}finally{pa(t),ur(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Zn(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(t){let e=wl(t=Re(t))?t:Re(t&&t.provide);const i=function mQ(n){return dC(n)?Cu(void 0,n.useValue):Cu(zO(n),$_)}(t);if(wl(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Cu(void 0,$_,!0),r.factory=()=>cT(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===$_&&(e.value=pQ,e.value=e.factory()),"object"==typeof e.value&&e.value&&function vQ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Re(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function pC(n){const t=e_(n),e=null!==t?t.factory:bl(n);if(null!==e)return e;if(n instanceof X)throw new O(204,!1);if(n instanceof Function)return function gQ(n){const t=n.length;if(t>0)throw df(t,"?"),new O(204,!1);const e=function lY(n){return n&&(n[n_]||n[bN])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new O(204,!1)}function zO(n,t,e){let i;if(wl(n)){const r=Re(n);return bl(r)||pC(r)}if(dC(n))i=()=>Re(n.useValue);else if(function GO(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...cT(n.deps||[]));else if(function UO(n){return!(!n||!n.useExisting)}(n))i=()=>P(Re(n.useExisting));else{const r=Re(n&&(n.useClass||n.provide));if(!function _Q(n){return!!n.deps}(n))return bl(r)||pC(r);i=()=>new r(...cT(n.deps))}return i}function Cu(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function gC(n,t){for(const e of n)Array.isArray(e)?gC(e,t):e&&eT(e)?gC(e.\u0275providers,t):t(e)}const G_=new X("AppId",{providedIn:"root",factory:()=>bQ}),bQ="ng",jO=new X("Platform Initializer"),hi=new X("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),WO=new X("AnimationModuleType"),mC=new X("CSP nonce",{providedIn:"root",factory:()=>bu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qO=(n,t,e)=>null;function wC(n,t,e=!1){return qO(n,t,e)}class kQ{}class XO{}class RQ{resolveComponentFactory(t){throw function MQ(n){const t=Error(`No component factory found for ${Zn(n)}.`);return t.ngComponent=n,t}(t)}}let Sl=(()=>{class n{static#e=this.NULL=new RQ}return n})();function NQ(){return Du(Di(),H())}function Du(n,t){return new Ue(fr(n,t))}let Ue=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=NQ}return n})();function PQ(n){return n instanceof Ue?n.nativeElement:n}class Ca{}let Ei=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function OQ(){const n=H(),e=Mr(Di().index,n);return(hr(e)?e:n)[He]}()}return n})(),LQ=(()=>{class n{static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:()=>null})}return n})();class Eu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ZO=new Eu("16.2.12"),EC={};function nL(n,t=null,e=null,i){const r=iL(n,t,e,i);return r.resolveInjectorInitializers(),r}function iL(n,t=null,e=null,i,r=new Set){const s=[e||bt,dQ(n)];return i=i||("object"==typeof n?void 0:Zn(n)),new Tu(s,t||U_(),i||null,r)}let mn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=jh;static#t=this.NULL=new lC;static create(e,i){if(Array.isArray(e))return nL({name:""},i,e,"");{const r=e.name??"";return nL({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=z({token:n,providedIn:"any",factory:()=>P(VO)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function IC(n){return n.ngOriginalError}class Eo{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&IC(t);for(;e&&IC(e);)e=IC(e);return e||null}}function MC(n){return t=>{setTimeout(n,void 0,t)}}const K=class GQ extends we{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=MC(s),r&&(r=MC(r)),o&&(o=MC(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof Oe&&t.add(a),a}};function sL(...n){}class Ae{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new K(!1),this.onMicrotaskEmpty=new K(!1),this.onStable=new K(!1),this.onError=new K(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function zQ(){const n="function"==typeof zt.requestAnimationFrame;let t=zt[n?"requestAnimationFrame":"setTimeout"],e=zt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function qQ(n){const t=()=>{!function WQ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(zt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,NC(n),n.isCheckStableRunning=!0,RC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),NC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{if(function KQ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,s,o,a);try{return oL(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),aL(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return oL(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),aL(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,NC(n),RC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new O(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,jQ,sL,sL);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const jQ={};function RC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function NC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function oL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function aL(n){n._nesting--,RC(n)}class YQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new K,this.onMicrotaskEmpty=new K,this.onStable=new K,this.onError=new K}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const lL=new X("",{providedIn:"root",factory:cL});function cL(){const n=ne(Ae);let t=!0;return zh(new ut(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new ut(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(_N()))}function K_(n){return n.ownerDocument.defaultView}function Ao(n){return n instanceof Function?n():n}let PC=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();function Cf(n){for(;n;){n[je]|=64;const t=pf(n);if(gT(n)&&!t)return n;n=t}return null}const pL=new X("",{providedIn:"root",factory:()=>!1});let Q_=null;function vL(n,t){return n[t]??xL()}function yL(n,t){const e=xL();e.producerNode?.length&&(n[t]=Q_,e.lView=n,Q_=bL())}const rZ={...zN,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Cf(n.lView)},lView:null};function bL(){return Object.create(rZ)}function xL(){return Q_??=bL(),Q_}const Ge={};function w(n){TL(ft(),H(),er()+n,!1)}function TL(n,t,e,i){if(!i)if(3==(3&t[je])){const s=n.preOrderCheckHooks;null!==s&&m_(t,s,e)}else{const s=n.preOrderHooks;null!==s&&__(t,s,0,e)}xl(e)}function y(n,t=tt.Default){const e=H();return null===e?P(n,t):OP(Di(),e,Re(n),t)}function Z_(n,t,e,i,r,s,o,a,l,c,u){const d=t.blueprint.slice();return d[Cn]=r,d[je]=140|i,(null!==c||n&&2048&n[je])&&(d[je]|=2048),uP(d),d[an]=d[eu]=n,d[In]=e,d[Jc]=o||n&&n[Jc],d[He]=a||n&&n[He],d[ga]=l||n&&n[ga]||null,d[Vi]=s,d[Zh]=function pX(){return fX++}(),d[Co]=u,d[HN]=c,d[kn]=2==t.type?n[kn]:d,d}function ku(n,t,e,i,r){let s=n.data[t];if(null===s)s=function OC(n,t,e,i,r){const s=mP(),o=CT(),l=n.data[t]=function hZ(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,a=0;return su()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,t,e,i,r),function gK(){return Me.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function rf(){const n=Me.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Gs(s,!0),s}function wf(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function wL(n,t,e,i,r){const s=vL(t,Jh),o=er(),a=2&i;try{xl(-1),a&&t.length>nt&&TL(n,t,nt,!1),Us(a?2:0,r);const c=a?s:null,u=_T(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{vT(c,u)}}finally{a&&null===t[Jh]&&yL(t,Jh),xl(o),Us(a?3:1,r)}}function LC(n,t,e){if(pT(t)){const i=Jr(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{Jr(i)}}}function FC(n,t,e){gP()&&(function yZ(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;yl(e)&&function DZ(n,t,e){const i=fr(t,n),r=SL(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=J_(n,Z_(n,r,null,o,i,t,null,n[Jc].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||y_(e,t),Bi(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=Tl(t,n,a,e);Bi(c,t),null!==o&&EZ(0,a-r,c,l,0,o),_s(l)&&(Mr(e.index,t)[In]=Tl(t,n,a,e))}}(n,t,e,fr(e,t)),64==(64&e.flags)&&kL(n,t,e))}function VC(n,t,e=fr){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function SL(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=BC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function BC(n,t,e,i,r,s,o,a,l,c,u){const d=nt+i,h=d+r,f=function oZ(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Ge);return e}(d,h),p="function"==typeof c?c():c;return f[ue]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let DL=n=>null;function EL(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?AL(e,t,r,s):i.hasOwnProperty(r)&&AL(e,t,i[r],s)}return e}function AL(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function Nr(n,t,e,i,r,s,o,a){const l=fr(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(zC(n,e,u,i,r),yl(t)&&function gZ(n,t){const e=Mr(t,n);16&e[je]||(e[je]|=64)}(e,t.index)):3&t.type&&(i=function pZ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}function HC(n,t,e,i){if(gP()){const r=null===i?null:{"":-1},s=function xZ(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(PN(t,o.selectors,!1))if(i||(i=[]),_s(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),$C(n,t,a.length)}else i.unshift(o),$C(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&IL(n,t,e,o,r,a),r&&function TZ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new O(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=Yh(e.mergedAttrs,e.attrs)}function IL(n,t,e,i,r,s){for(let c=0;c<i.length;c++)OT(y_(e,t),n,i[c].type);!function wZ(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=wf(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=Yh(e.mergedAttrs,u.hostAttrs),SZ(n,e,t,l,u),CZ(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function fZ(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const d=s[u],h=e?e.get(d):null,p=h?h.outputs:null;l=EL(d.inputs,u,l,h?h.inputs:null),c=EL(d.outputs,u,c,p);const m=null===l||null===o||NN(t)?null:AZ(l,u,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function kL(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function _K(){return Me.lFrame.currentDirectiveIndex}();try{xl(s);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];ST(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&bZ(l,c)}}finally{xl(-1),ST(o)}}function bZ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function $C(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function CZ(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;_s(t)&&(e[""]=n)}}function SZ(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=bl(r.type)),o=new sf(s,_s(r),y);n.blueprint[i]=o,e[i]=o,function _Z(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function vZ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,wf(n,e,r.hostVars,Ge),r)}function js(n,t,e,i,r,s){const o=fr(n,t);!function UC(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?Ve(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[He],o,s,n.value,e,i,r)}function EZ(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)ML(i,e,o[a++],o[a++],o[a++])}function ML(n,t,e,i,r){const s=Jr(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Jr(s)}}function AZ(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function RL(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function NL(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];ET(e[i]),o.contentQueries(2,t[s],s)}}}function J_(n,t){return n[Xh]?n[BN][ms]=t:n[Xh]=t,n[BN]=t,t}function GC(n,t,e){ET(0);const i=Jr(null);try{t(n,e)}finally{Jr(i)}}function PL(n){return n[Zc]||(n[Zc]=[])}function OL(n){return n.cleanup||(n.cleanup=[])}function FL(n,t){const e=n[ga],i=e?e.get(Eo,null):null;i&&i.handleError(t)}function zC(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++];ML(n.data[o],t[o],i,a,r)}}function IZ(n,t){const e=Mr(t,n),i=e[ue];!function kZ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[Cn];null!==r&&null===e[Co]&&(e[Co]=wC(r,e[ga])),jC(i,e,e[In])}function jC(n,t,e){AT(t);try{const i=n.viewQuery;null!==i&&GC(1,i,e);const r=n.template;null!==r&&wL(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&NL(n,t),n.staticViewQueries&&GC(2,n.viewQuery,e);const s=n.components;null!==s&&function MZ(n,t){for(let e=0;e<t.length;e++)IZ(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[je]&=-5,IT()}}let VL=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function qY(n,t,e){const i=Object.create(YY);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>YN(i),run:()=>{if(i.dirty=!1,i.hasRun&&!KN(i))return;i.hasRun=!0;const o=_T(i);try{i.cleanupFn(),i.cleanupFn=iP,i.fn(r)}finally{vT(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();function ev(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=Zx(r,a):2==s&&(i=Zx(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function Sf(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(jt(s)),Zi(s)&&BL(s,i);const o=e.type;if(8&o)Sf(n,t,e.child,i);else if(32&o){const a=qT(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=bO(t,e);if(Array.isArray(a))i.push(...a);else{const l=pf(t[kn]);Sf(l[ue],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function BL(n,t){for(let e=wi;e<n.length;e++){const i=n[e],r=i[ue].firstChild;null!==r&&Sf(i[ue],i,r,t)}n[$s]!==n[Cn]&&t.push(n[$s])}function tv(n,t,e,i=!0){const r=t[Jc],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{HL(n,t,n.template,e)}catch(l){throw i&&FL(t,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function HL(n,t,e,i){const r=t[je];if(256!=(256&r)){t[Jc].effectManager?.flush(),AT(t);try{uP(t),function vP(n){return Me.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&wL(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&m_(t,c,null)}else{const c=n.preOrderHooks;null!==c&&__(t,c,0,null),kT(t,0)}if(function PZ(n){for(let t=lO(n);null!==t;t=cO(t)){if(!t[$N])continue;const e=t[nu];for(let i=0;i<e.length;i++){rK(e[i])}}}(t),$L(t,2),null!==n.contentQueries&&NL(n,t),o){const c=n.contentCheckHooks;null!==c&&m_(t,c)}else{const c=n.contentHooks;null!==c&&__(t,c,1),kT(t,1)}!function sZ(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=vL(t,ef);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)xl(~s);else{const o=s,a=e[++r],l=e[++r];mK(a,o),i.dirty=!1;const c=_T(i);try{l(2,t[o])}finally{vT(i,c)}}}}finally{null===t[ef]&&yL(t,ef),xl(-1)}}(n,t);const a=n.components;null!==a&&GL(t,a,0);const l=n.viewQuery;if(null!==l&&GC(2,l,i),o){const c=n.viewCheckHooks;null!==c&&m_(t,c)}else{const c=n.viewHooks;null!==c&&__(t,c,2),kT(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[je]&=-73,dP(t)}finally{IT()}}}function $L(n,t){for(let e=lO(n);null!==e;e=cO(e))for(let i=wi;i<e.length;i++)UL(e[i],t)}function OZ(n,t,e){UL(Mr(t,n),e)}function UL(n,t){if(!function nK(n){return 128==(128&n[je])}(n))return;const e=n[ue],i=n[je];if(80&i&&0===t||1024&i||2===t)HL(e,n,e.template,n[In]);else if(n[Kh]>0){$L(n,1);const r=e.components;null!==r&&GL(n,r,1)}}function GL(n,t,e){for(let i=0;i<t.length;i++)OZ(n,t[i],e)}class Df{get rootNodes(){const t=this._lView,e=t[ue];return Sf(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[In]}set context(t){this._lView[In]=t}get destroyed(){return 256==(256&this._lView[je])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[an];if(Zi(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(N_(t,i),T_(e,i))}this._attachedToViewContainer=!1}KT(this._lView[ue],this._lView)}onDestroy(t){!function fP(n,t){if(256==(256&n[je]))throw new O(911,!1);null===n[ma]&&(n[ma]=[]),n[ma].push(t)}(this._lView,t)}markForCheck(){Cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[je]&=-129}reattach(){this._lView[je]|=128}detectChanges(){tv(this._lView[ue],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function AX(n,t){mf(n,t,t[He],2,null,null)}(this._lView[ue],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=t}}class LZ extends Df{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;tv(t[ue],t,t[In],!1)}checkNoChanges(){}get context(){return null}}class zL extends Sl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ht(t);return new Ef(e,this.ngModule)}}function jL(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class VZ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=r_(i);const r=this.injector.get(t,EC,i);return r!==EC||e===EC?r:this.parentInjector.get(t,e,i)}}class Ef extends XO{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=jL(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return jL(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function AY(n){return n.map(EY).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof gr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new VZ(t,s):t,a=o.get(Ca,null);if(null===a)throw new O(407,!1);const d={rendererFactory:a,sanitizer:o.get(LQ,null),effectManager:o.get(VL,null),afterRenderEventManager:o.get(PC,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function aZ(n,t,e,i){const s=i.get(pL,!1)||e===Zr.ShadowDom,o=n.selectRootElement(t,s);return function lZ(n){DL(n)}(o),o}(h,i,this.componentDef.encapsulation,o):R_(h,f,function FZ(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=wC(p,o,!0));const b=BC(0,null,null,1,0,null,null,null,null,null,null),C=Z_(null,b,null,v,null,null,d,h,o,null,_);let M,R;AT(C);try{const W=this.componentDef;let J,De=null;W.findHostDirectiveDefs?(J=[],De=new Map,W.findHostDirectiveDefs(W,J,De),J.push(W)):J=[W];const me=function HZ(n,t){const e=n[ue],i=nt;return n[i]=t,ku(e,i,2,"#host",null)}(C,p),ce=function $Z(n,t,e,i,r,s,o){const a=r[ue];!function UZ(n,t,e,i){for(const r of n)t.mergedAttrs=Yh(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(ev(t,t.mergedAttrs,!0),null!==e&&wO(i,e,t))}(i,n,t,o);let l=null;null!==t&&(l=wC(t,r[ga]));const c=s.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const d=Z_(r,SL(e),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&$C(a,n,i.length-1),J_(r,d),r[n.index]=d}(me,p,W,J,C,d,h);R=cP(b,nt),p&&function zZ(n,t,e,i){if(i)hT(n,e,["ng-version",ZO.full]);else{const{attrs:r,classes:s}=function IY(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!gs(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&hT(n,e,r),s&&s.length>0&&CO(n,e,s.join(" "))}}(h,W,p,i),void 0!==e&&function jZ(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(R,this.ngContentSelectors,e),M=function GZ(n,t,e,i,r,s){const o=Di(),a=r[ue],l=fr(o,r);IL(a,r,o,e,null,i);for(let u=0;u<e.length;u++)Bi(Tl(r,a,o.directiveStart+u,o),r);kL(a,r,o),l&&Bi(l,r);const c=Tl(r,a,o.directiveStart+o.componentOffset,o);if(n[In]=r[In]=c,null!==s)for(const u of s)u(c,t);return LC(a,o,n),c}(ce,W,J,De,C,[WZ]),jC(b,C,null)}finally{IT()}return new BZ(this.componentType,M,Du(R,C),C,R)}}class BZ extends kQ{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new LZ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;zC(s[ue],s,r,t,e),this.previousInputValues.set(t,e),Cf(Mr(this._tNode.index,s))}}get injector(){return new tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function WZ(){const n=Di();g_(H()[ue],n)}function pt(n){let t=function WL(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(_s(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new O(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=nv(n.inputs),o.inputTransforms=nv(n.inputTransforms),o.declaredInputs=nv(n.declaredInputs),o.outputs=nv(n.outputs);const a=r.hostBindings;a&&XZ(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&YZ(n,l),c&&KZ(n,c),Zm(n.inputs,r.inputs),Zm(n.declaredInputs,r.declaredInputs),Zm(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Zm(o.inputTransforms,r.inputTransforms)),_s(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===pt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function qZ(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Yh(r.hostAttrs,e=Yh(e,r.hostAttrs))}}(i)}function nv(n){return n===Bs?{}:n===bt?[]:n}function YZ(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function KZ(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function XZ(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function ko(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function iv(n){return!!WC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function WC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ws(n,t,e){return n[t]=e}function Hi(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Dl(n,t,e,i){const r=Hi(n,t,e);return Hi(n,t+1,i)||r}function xe(n,t,e,i){const r=H();return Hi(r,ou(),t)&&(ft(),js(pn(),r,n,t,e,i)),xe}function Ru(n,t,e,i){return Hi(n,ou(),e)?t+Ve(e)+i:Ge}function F(n,t,e,i,r,s,o,a){const l=H(),c=ft(),u=n+nt,d=c.firstCreatePass?function xJ(n,t,e,i,r,s,o,a,l){const c=t.consts,u=ku(t,n,4,o||null,va(c,a));HC(t,e,u,va(c,l)),g_(t,u);const d=u.tView=BC(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,s,o):c.data[u];Gs(d,!1);const h=c2(c,l,d,n);p_()&&O_(c,l,h,d),Bi(h,l),J_(l,l[u]=RL(h,l,h,d)),c_(d)&&FC(c,l,d),null!=o&&VC(l,d,a)}let c2=function u2(n,t,e,i){return ya(!0),t[He].createComment("")};function D(n,t,e){const i=H();return Hi(i,ou(),t)&&Nr(ft(),pn(),i,n,t,i[He],e,!1),D}function ZC(n,t,e,i,r){const o=r?"class":"style";zC(n,e,t.inputs[o],o,i)}function x(n,t,e,i){const r=H(),s=ft(),o=nt+n,a=r[He],l=s.firstCreatePass?function SJ(n,t,e,i,r,s){const o=t.consts,l=ku(t,n,2,i,va(o,r));return HC(t,e,l,va(o,s)),null!==l.attrs&&ev(l,l.attrs,!1),null!==l.mergedAttrs&&ev(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,e,i):s.data[o],c=d2(s,r,l,a,t,n);r[o]=c;const u=c_(l);return Gs(l,!0),wO(a,c,l),32!=(32&l.flags)&&p_()&&O_(s,r,c,l),0===function oK(){return Me.lFrame.elementDepthCount}()&&Bi(c,r),function aK(){Me.lFrame.elementDepthCount++}(),u&&(FC(s,r,l),LC(s,l,r)),null!==i&&VC(r,l),x}function T(){let n=Di();CT()?wT():(n=n.parent,Gs(n,!1));const t=n;(function cK(n){return Me.skipHydrationRootTNode===n})(t)&&function fK(){Me.skipHydrationRootTNode=null}(),function lK(){Me.lFrame.elementDepthCount--}();const e=ft();return e.firstCreatePass&&(g_(e,n),pT(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function DK(n){return 0!=(8&n.flags)}(t)&&ZC(e,t,H(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function EK(n){return 0!=(16&n.flags)}(t)&&ZC(e,t,H(),t.stylesWithoutHost,!1),T}function te(n,t,e,i){return x(n,t,e,i),T(),te}let d2=(n,t,e,i,r,s)=>(ya(!0),R_(i,r,function DP(){return Me.lFrame.currentNamespace}()));function Rf(n,t,e){const i=H(),r=ft(),s=n+nt,o=r.firstCreatePass?function AJ(n,t,e,i,r){const s=t.consts,o=va(s,i),a=ku(t,n,8,"ng-container",o);return null!==o&&ev(a,o,!0),HC(t,e,a,va(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];Gs(o,!0);const a=h2(r,i,o,n);return i[s]=a,p_()&&O_(r,i,a,o),Bi(a,i),c_(o)&&(FC(r,i,o),LC(r,o,i)),null!=e&&VC(i,o),Rf}function Nf(){let n=Di();const t=ft();return CT()?wT():(n=n.parent,Gs(n,!1)),t.firstCreatePass&&(g_(t,n),pT(n)&&t.queries.elementEnd(n)),Nf}function El(n,t,e){return Rf(n,t,e),Nf(),El}let h2=(n,t,e,i)=>(ya(!0),YT(t[He],""));function Bt(){return H()}function Pf(n){return!!n&&"function"==typeof n.then}function f2(n){return!!n&&"function"==typeof n.subscribe}function $(n,t,e,i){const r=H(),s=ft(),o=Di();return function g2(n,t,e,i,r,s,o){const a=c_(i),c=n.firstCreatePass&&OL(n),u=t[In],d=PL(t);let h=!0;if(3&i.type||o){const m=fr(i,t),g=o?o(m):m,v=d.length,_=o?C=>o(jt(C[i.index])):i.index;let b=null;if(!o&&a&&(b=function MJ(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[Zc],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=_2(i,t,u,s,!1);const C=e.listen(g,r,s);d.push(s,C),c&&c.push(r,_,v,v+1)}}else s=_2(i,t,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const M=t[p[g]][p[g+1]].subscribe(s),R=d.length;d.push(s,M),c&&c.push(r,i.index,R,-(R+1))}}}(s,r,r[He],o,n,t,i),$}function m2(n,t,e,i){try{return Us(6,t,e),!1!==e(i)}catch(r){return FL(n,r),!1}finally{Us(7,t,e)}}function _2(n,t,e,i,r){return function s(o){if(o===Function)return i;Cf(n.componentOffset>-1?Mr(n.index,t):t);let l=m2(t,e,i,o),c=s.__ngNextListenerFn__;for(;c;)l=m2(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function V(n=1){return function yK(n){return(Me.lFrame.contextLView=function bK(n,t){for(;n>0;)t=t[eu],n--;return t}(n,Me.lFrame.contextLView))[In]}(n)}function RJ(n,t){let e=null;const i=function CY(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?PN(n,s,!0):DY(i,s))return r}else e=r}return e}function Mo(n){const t=H()[kn][Vi];if(!t.projection){const i=t.projection=df(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?RJ(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function qs(n,t=0,e){const i=H(),r=ft(),s=ku(r,nt+n,16,null,e||null);null===s.projection&&(s.projection=t),wT(),(!i[Co]||su())&&32!=(32&s.flags)&&function LX(n,t,e){TO(t[He],0,t,e,QT(n,e,t),mO(e.parent||t[Vi],e,t))}(r,i,s)}function lv(n,t,e){return cv(n,"",t,"",e),lv}function cv(n,t,e,i,r){const s=H(),o=Ru(s,t,e,i);return o!==Ge&&Nr(ft(),pn(),s,n,o,s[He],r,!1),cv}function uv(n,t){return n<<17|t<<2}function wa(n){return n>>17&32767}function JC(n){return 2|n}function Al(n){return(131068&n)>>2}function ew(n,t){return-131069&n|t<<2}function tw(n){return 1|n}function D2(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?wa(s):Al(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];VJ(n[a],t)&&(l=!0,n[a+1]=i?tw(u):JC(u)),a=i?wa(u):Al(u)}l&&(n[e+1]=i?JC(s):tw(s))}function VJ(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&gu(n,t)>=0}const ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function E2(n){return n.substring(ei.key,ei.keyEnd)}function A2(n,t){const e=ei.textEnd;return e===t?-1:(t=ei.keyEnd=function UJ(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,ei.key=t,e),Hu(n,t,e))}function Hu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Rn(n,t,e){return ys(n,t,e,!1),Rn}function xt(n,t){return ys(n,t,null,!0),xt}function Ai(n){bs(QJ,Ks,n,!0)}function Ks(n,t){for(let e=function HJ(n){return function k2(n){ei.key=0,ei.keyEnd=0,ei.value=0,ei.valueEnd=0,ei.textEnd=n.length}(n),A2(n,Hu(n,0,ei.textEnd))}(t);e>=0;e=A2(t,e))Rr(n,E2(t),!0)}function ys(n,t,e,i){const r=H(),s=ft(),o=So(2);s.firstUpdatePass&&P2(s,n,o,i),t!==Ge&&Hi(r,o,t)&&L2(s,s.data[er()],r,r[He],n,r[o+1]=function JJ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Zn(xa(n)))),n}(t,e),i,o)}function bs(n,t,e,i){const r=ft(),s=So(2);r.firstUpdatePass&&P2(r,null,s,i);const o=H();if(e!==Ge&&Hi(o,s,e)){const a=r.data[er()];if(V2(a,i)&&!N2(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Zx(l,e||"")),ZC(r,a,o,e,i)}else!function ZJ(n,t,e,i,r,s,o,a){r===Ge&&(r=bt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),null!==p&&L2(n,t,e,i,p,m,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[He],o[s+1],o[s+1]=function XJ(n,t,e){if(null==e||""===e)return bt;const i=[],r=xa(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function N2(n,t){return t>=n.expandoStartIndex}function P2(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[er()],o=N2(n,e);V2(s,i)&&null===t&&!o&&(t=!1),t=function WJ(n,t,e,i){const r=function DT(n){const t=Me.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Of(e=nw(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=nw(r,n,t,e,i),null===s){let l=function qJ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Al(i))return n[wa(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=nw(null,n,t,l[1],i),l=Of(l,t.attrs,i),function YJ(n,t,e,i){n[wa(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function KJ(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Of(i,n[s].hostAttrs,e);return Of(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function LJ(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=wa(o),l=Al(o);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||gu(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const h=wa(n[a+1]);n[i+1]=uv(h,a),0!==h&&(n[h+1]=ew(n[h+1],i)),n[a+1]=function PJ(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=uv(a,0),0!==a&&(n[a+1]=ew(n[a+1],i)),a=i;else n[i+1]=uv(l,0),0===a?a=i:n[l+1]=ew(n[l+1],i),l=i;c&&(n[i+1]=JC(n[i+1])),D2(n,u,i,!0),D2(n,u,i,!1),function FJ(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&gu(s,t)>=0&&(e[i+1]=tw(e[i+1]))}(t,u,n,i,s),o=uv(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function nw(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=Of(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Of(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Rr(n,o,!!e||t[++s]))}return void 0===n?null:n}function QJ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Rr(n,i,e)}function L2(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function OJ(n){return 1==(1&n)}(c)?F2(l,t,e,r,Al(c),o):void 0;dv(u)||(dv(s)||function NJ(n){return 2==(2&n)}(c)&&(s=F2(l,null,e,r,a,o)),function VX(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:ba.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ba.Important),n.setStyle(e,i,r,s))}}(i,o,h_(er(),e),r,s))}function F2(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===Ge&&(h=d?bt:void 0);let f=d?VT(h,i):u===i?h:void 0;if(c&&!dv(f)&&(f=VT(l,i)),dv(f)&&(a=f,o))return a;const p=n[r+1];r=o?wa(p):Al(p)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=VT(l,i))}return a}function dv(n){return void 0!==n}function V2(n,t){return 0!=(n.flags&(t?8:16))}function B(n,t=""){const e=H(),i=ft(),r=n+nt,s=i.firstCreatePass?ku(i,r,1,t,null):i.data[r],o=B2(i,e,s,t,n);e[r]=o,p_()&&O_(i,e,o,s),Gs(s,!1)}let B2=(n,t,e,i,r)=>(ya(!0),function M_(n,t){return n.createText(t)}(t[He],i));function Nn(n){return Ht("",n,""),Nn}function Ht(n,t,e){const i=H(),r=Ru(i,n,t,e);return r!==Ge&&function Io(n,t,e){const i=h_(t,n);!function dO(n,t,e){n.setValue(t,e)}(n[He],i,e)}(i,er(),r),Ht}const Uu="en-US";let aF=Uu;function ow(n,t,e,i,r){if(n=Re(n),Array.isArray(n))for(let s=0;s<n.length;s++)ow(n[s],t,e,i,r);else{const s=ft(),o=H(),a=Di();let l=wl(n)?n:Re(n.provide);const c=zO(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(wl(n)||!n.multi){const f=new sf(c,r,y),p=lw(l,t,r?u:u+h,d);-1===p?(OT(y_(a,o),s,l),aw(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(f),o.push(f)):(e[p]=f,o[p]=f)}else{const f=lw(l,t,u+h,d),p=lw(l,t,u,u+h),g=p>=0&&e[p];if(r&&!g||!r&&!(f>=0&&e[f])){OT(y_(a,o),s,l);const v=function _te(n,t,e,i,r){const s=new sf(n,e,y);return s.multi=[],s.index=t,s.componentProviders=0,RF(s,r,i&&!e),s}(r?mte:gte,e.length,r,i,c);!r&&g&&(e[p].providerFactory=v),aw(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(v),o.push(v)}else aw(s,n,f>-1?f:p,RF(e[r?p:f],c,!r&&i));!r&&i&&g&&e[p].componentProviders++}}}function aw(n,t,e,i){const r=wl(t),s=function fQ(n){return!!n.useClass}(t);if(r||s){const l=(s?Re(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function RF(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function lw(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function gte(n,t,e,i){return cw(this.multi,[])}function mte(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Tl(e,e[ue],this.providerFactory.index,i);s=a.slice(0,o),cw(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],cw(r,s);return s}function cw(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function gt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function pte(n,t,e){const i=ft();if(i.firstCreatePass){const r=_s(n);ow(e,i.data,i.blueprint,r,!0),ow(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Ml{}class NF{}class uw extends Ml{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zL(this);const r=kr(t);this._bootstrapComponents=Ao(r.bootstrap),this._r3Injector=iL(t,e,[{provide:Ml,useValue:this},{provide:Sl,useValue:this.componentFactoryResolver},...i],Zn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class dw extends NF{constructor(t){super(),this.moduleType=t}create(t){return new uw(this.moduleType,t,[])}}class PF extends Ml{constructor(t){super(),this.componentFactoryResolver=new zL(this),this.instance=null;const e=new Tu([...t.providers,{provide:Ml,useValue:this},{provide:Sl,useValue:this.componentFactoryResolver}],t.parent||U_(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function hw(n,t,e=null){return new PF({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let bte=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=HO(0,e.type),r=i.length>0?hw([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(P(gr))})}return n})();function Da(n){n.getStandaloneInjector=t=>t.get(bte).getOrCreateStandaloneInjector(n)}function ti(n,t,e,i){return function $F(n,t,e,i,r,s){const o=t+e;return Hi(n,o,r)?Ws(n,o+1,s?i.call(s,r):i(r)):$f(n,o+1)}(H(),Ji(),n,t,e,i)}function Ro(n,t,e,i,r){return function UF(n,t,e,i,r,s,o){const a=t+e;return Dl(n,a,r,s)?Ws(n,a+2,o?i.call(o,r,s):i(r,s)):$f(n,a+2)}(H(),Ji(),n,t,e,i,r)}function Gu(n,t,e,i,r,s){return function GF(n,t,e,i,r,s,o,a){const l=t+e;return function rv(n,t,e,i,r){const s=Dl(n,t,e,i);return Hi(n,t+2,r)||s}(n,l,r,s,o)?Ws(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):$f(n,l+3)}(H(),Ji(),n,t,e,i,r,s)}function $f(n,t){const e=n[t];return e===Ge?void 0:e}function Gte(){return this._results[Symbol.iterator]()}class pw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new K)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=pw.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Gte)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function es(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function $K(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function jte(n,t,e,i=!0){const r=t[ue];if(function kX(n,t,e,i){const r=wi+i,s=e.length;i>0&&(e[r-1][ms]=t),i<s-wi?(t[ms]=e[r],$P(e,wi+i,t)):(e.push(t),t[ms]=null),t[an]=e;const o=t[Qh];null!==o&&e!==o&&function MX(n,t){const e=n[nu];t[kn]!==t[an][an][kn]&&(n[$N]=!0),null===e?n[nu]=[t]:e.push(t)}(o,t);const a=t[Hs];null!==a&&a.insertView(n),t[je]|=128}(r,t,n,e),i){const s=JT(e,n),o=t[He],a=P_(o,n[$s]);null!==a&&function EX(n,t,e,i,r,s){i[Cn]=r,i[Vi]=t,mf(n,i,e,1,r,s)}(r,n[Vi],o,t,a,s)}}let qt=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Yte}return n})();const Wte=qt,qte=class extends Wte{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function zte(n,t,e,i){const r=t.tView,a=Z_(n,r,e,4096&n[je]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Qh]=n[t.index];const c=n[Hs];return null!==c&&(a[Hs]=c.createEmbeddedView(r)),jC(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new Df(r)}};function Yte(){return mv(Di(),H())}function mv(n,t){return 4&n.type?new qte(t,n,Du(n,t)):null}let Pr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=ene}return n})();function ene(){return ZF(Di(),H())}const tne=Pr,XF=class extends tne{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Du(this._hostTNode,this._hostLView)}get injector(){return new tr(this._hostTNode,this._hostLView)}get parentInjector(){const t=b_(this._hostTNode,this._hostLView);if(RT(t)){const e=lf(t,this._hostLView),i=af(t);return new tr(e[ue].data[i+8],e)}return new tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=QF(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-wi}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,s){const o=t&&!function uf(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const m=e||{};a=m.index,i=m.injector,r=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const l=o?t:new Ef(ht(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const g=(o?c:this.parentInjector).get(gr,null);g&&(s=g)}ht(l.componentType??{});const f=l.create(c,r,null,s);return this.insertImpl(f.hostView,a,false),f}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function iK(n){return Zi(n[an])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[an],u=new XF(c,c[Vi],c[an]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;return jte(a,r,o,!i),t.attachToViewContainerRef(),$P(gw(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=QF(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=N_(this._lContainer,e);i&&(T_(gw(this._lContainer),e),KT(i[ue],i))}detach(t){const e=this._adjustIndex(t,-1),i=N_(this._lContainer,e);return i&&null!=T_(gw(this._lContainer),e)?new Df(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function QF(n){return n[8]}function gw(n){return n[8]||(n[8]=[])}function ZF(n,t){let e;const i=t[n.index];return Zi(i)?e=i:(e=RL(i,t,null,n),t[n.index]=e,J_(t,e)),JF(e,t,n,i),new XF(e,n,t)}let JF=function eV(n,t,e,i){if(n[$s])return;let r;r=8&e.type?jt(i):function nne(n,t){const e=n[He],i=e.createComment(""),r=fr(t,n);return Cl(e,P_(e,r),i,function OX(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[$s]=r};class mw{constructor(t){this.queryList=t,this.matches=null}clone(){return new mw(this.queryList)}setDirty(){this.queryList.setDirty()}}class _w{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new _w(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==sV(t,e).matches&&this.queries[e].setDirty()}}class tV{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class vw{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new vw(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class yw{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new yw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,sne(e,s)),this.matchTNodeWithReadOption(t,e,x_(e,t,s,!1,!1))}else i===qt?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,x_(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ue||r===Pr||r===qt&&4&e.type)this.addMatch(e.index,-2);else{const s=x_(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function sne(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function ane(n,t,e,i){return-1===e?function one(n,t){return 11&n.type?Du(n,t):4&n.type?mv(n,t):null}(t,n):-2===e?function lne(n,t,e){return e===Ue?Du(t,n):e===qt?mv(t,n):e===Pr?ZF(t,n):void 0}(n,t,i):Tl(n,n[ue],e,t)}function nV(n,t,e,i){const r=t[Hs].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:ane(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function bw(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=nV(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=wi;d<u.length;d++){const h=u[d];h[Qh]===h[an]&&bw(h[ue],h,c,i)}if(null!==u[nu]){const d=u[nu];for(let h=0;h<d.length;h++){const f=d[h];bw(f[ue],f,c,i)}}}}}return i}function Pt(n){const t=H(),e=ft(),i=bP();ET(i+1);const r=sV(e,i);if(n.dirty&&function tK(n){return 4==(4&n[je])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?bw(e,t,i,[]):nV(e,t,r,i);n.reset(s,PQ),n.notifyOnChanges()}return!0}return!1}function Rl(n,t,e){const i=ft();i.firstCreatePass&&(rV(i,new tV(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),iV(i,H(),t)}function _n(n,t,e,i){const r=ft();if(r.firstCreatePass){const s=Di();rV(r,new tV(t,e,i),s.index),function une(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}iV(r,H(),e)}function Ot(){return function cne(n,t){return n[Hs].queries[t].queryList}(H(),bP())}function iV(n,t,e){const i=new pw(4==(4&e));(function dZ(n,t,e,i){const r=PL(t);r.push(e),n.firstCreatePass&&OL(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Hs]&&(t[Hs]=new _w),t[Hs].queries.push(new mw(i))}function rV(n,t,e){null===n.queries&&(n.queries=new vw),n.queries.track(new yw(t,e))}function sV(n,t){return n.queries.getByIndex(t)}const Dw=new X("Application Initializer");let Ew=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=ne(Dw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(Pf(s))e.push(s);else if(f2(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TV=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const No=new X("LocaleId",{providedIn:"root",factory:()=>ne(No,tt.Optional|tt.SkipSelf)||function Mne(){return typeof $localize<"u"&&$localize.locale||Uu}()});let yv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new zn(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Pne{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let CV=(()=>{class n{compileModuleSync(e){return new dw(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Ao(kr(e).declarations).reduce((o,a)=>{const l=ht(a);return l&&o.push(new Ef(l)),o},[]);return new Pne(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const EV=new X(""),xv=new X("");let Rw,kw=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rw||(function nie(n){Rw=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ae),P(Mw),P(xv))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Mw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Rw?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ea=null;const AV=new X("AllowMultipleToken"),Nw=new X("PlatformDestroyListeners"),Pw=new X("appBootstrapListener");class kV{constructor(t,e){this.name=t,this.token=e}}function RV(n,t,e=[]){const i=`Platform: ${t}`,r=new X(i);return(s=[])=>{let o=Ow();if(!o||o.injector.get(AV,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function sie(n){if(Ea&&!Ea.get(AV,!1))throw new O(400,!1);(function IV(){!function UY(n){JN=n}(()=>{throw new O(600,!1)})})(),Ea=n;const t=n.get(PV);(function MV(n){n.get(jO,null)?.forEach(e=>e())})(n)}(function NV(n=[],t){return mn.create({name:t,providers:[{provide:hC,useValue:"platform"},{provide:Nw,useValue:new Set([()=>Ea=null])},...n]})}(a,i))}return function aie(n){const t=Ow();if(!t)throw new O(401,!1);return t}()}}function Ow(){return Ea?.get(PV)??null}let PV=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function lie(n="zone.js",t){return"noop"===n?new YQ:"zone.js"===n?new Ae(t):n}(i?.ngZone,function OV(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function yte(n,t,e){return new uw(n,t,e)}(e.moduleType,this.injector,function HV(n){return[{provide:Ae,useFactory:n},{provide:bf,multi:!0,useFactory:()=>{const t=ne(uie,{optional:!0});return()=>t.initialize()}},{provide:BV,useFactory:cie},{provide:lL,useFactory:cL}]}(()=>r)),o=s.injector.get(Eo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Tv(this._modules,s),a.unsubscribe()})}),function LV(n,t,e){try{const i=e();return Pf(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(Ew);return a.runInitializers(),a.donePromise.then(()=>(function lF(n){Qr(n,"Expected localeId to be defined"),"string"==typeof n&&(aF=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(No,Uu)||Uu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=FV({},i);return function iie(n,t,e){const i=new dw(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(xs);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new O(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Nw,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(P(mn))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function FV(n,t){return Array.isArray(t)?t.reduce(FV,n):{...n,...t}}let xs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ne(BV),this.zoneIsStable=ne(lL),this.componentTypes=[],this.components=[],this.isStable=ne(yv).hasPendingTasks.pipe(di(e=>e?Se(!1):this.zoneIsStable),function Qm(n,t=Kr){return n=n??eY,Jt((e,i)=>{let r,s=!0;e.subscribe(Mt(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}(),_N()),this._injector=ne(gr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof XO;if(!this._injector.get(Ew).done)throw!r&&function Qc(n){const t=ht(n)||Ci(n)||Qi(n);return null!==t&&t.standalone}(e),new O(405,!1);let o;o=r?e:this._injector.get(Sl).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function rie(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ml),c=o.create(mn.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(EV,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Tv(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Tv(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(Pw,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Tv(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new O(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const BV=new X("",{providedIn:"root",factory:()=>ne(Eo).handleError.bind(void 0)});function cie(){const n=ne(Ae),t=ne(Eo);return e=>n.runOutsideAngular(()=>t.handleError(e))}let uie=(()=>{class n{constructor(){this.zone=ne(Ae),this.applicationRef=ne(xs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let fi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=hie}return n})();function hie(n){return function fie(n,t,e){if(yl(n)&&!e){const i=Mr(n.index,t);return new Df(i,i)}return 47&n.type?new Df(t[kn],t):null}(Di(),H(),16==(16&n))}class zV{constructor(){}supports(t){return iv(t)}create(t){return new bie(t)}}const yie=(n,t)=>t;class bie{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||yie}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<WV(i,r,s)?e:i,a=WV(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!iv(t))throw new O(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function iJ(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new xie(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new jV),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jV),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xie{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tie{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class jV{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Tie,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WV(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class qV{constructor(){}supports(t){return t instanceof Map||WC(t)}create(){return new Cie}}class Cie{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||WC(t)))throw new O(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new wie(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class wie{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function YV(){return new Sv([new zV])}let Sv=(()=>{class n{static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:YV});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||YV()),deps:[[n,new w_,new ts]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new O(901,!1)}}return n})();function KV(){return new jf([new qV])}let jf=(()=>{class n{static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:KV});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||KV()),deps:[[n,new w_,new ts]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new O(901,!1)}}return n})();const Eie=RV(null,"core",[]);let Aie=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(P(xs))};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({})}return n})();function Ii(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Bie(n,t=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?t:Number(n)}let $w=null;function Aa(){return $w}class zie{}const Ct=new X("DocumentToken");let Uw=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return ne(Wie)},providedIn:"platform"})}return n})();const jie=new X("Location Initialized");let Wie=(()=>{class n extends Uw{constructor(){super(),this._doc=ne(Ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Aa().getBaseHref(this._doc)}onPopState(e){const i=Aa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Aa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Gw(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function rB(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Po(n){return n&&"?"!==n[0]?"?"+n:n}let Pl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return ne(oB)},providedIn:"root"})}return n})();const sB=new X("appBaseHref");let oB=(()=>{class n extends Pl{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ne(Ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Gw(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Po(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+Po(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+Po(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Uw),P(sB,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qie=(()=>{class n extends Pl{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Gw(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+Po(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+Po(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Uw),P(sB,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),zw=(()=>{class n{constructor(e){this._subject=new K,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Xie(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(rB(aB(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Po(i))}normalize(e){return n.stripTrailingSlash(function Kie(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,aB(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Po(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Po(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Po;static#t=this.joinWithSlash=Gw;static#n=this.stripTrailingSlash=rB;static#i=this.\u0275fac=function(i){return new(i||n)(P(Pl))};static#r=this.\u0275prov=z({token:n,factory:function(){return function Yie(){return new zw(P(Pl))}()},providedIn:"root"})}return n})();function aB(n){return n.replace(/\/index.html$/,"")}function mB(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const e1=/\s+/,_B=[];let Fo=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=_B,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(e1):_B}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(e1):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(e1).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(y(Sv),y(jf),y(Ue),y(Ei))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Ore{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pi=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ore(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),yB(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{yB(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(y(Pr),y(qt),y(Sv))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function yB(n,t){n.context.$implicit=t.item}let ni=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Lre,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){bB("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){bB("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(y(Pr),y(qt))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Lre{constructor(){this.$implicit=null,this.ngIf=null}}function bB(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Zn(t)}'.`)}let TB=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:ba.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ue),y(jf),y(Ei))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),Ol=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Pr))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[kt]})}return n})(),vn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({})}return n})();const wB="browser";function vr(n){return n===wB}function Fv(n){return"server"===n}let dse=(()=>{class n{static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new hse(P(Ct),window)})}return n})();class hse{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function fse(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class SB{}class Lse extends zie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class l1 extends Lse{static makeCurrent(){!function Gie(n){$w||($w=n)}(new l1)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Fse(){return Kf=Kf||document.querySelector("base"),Kf?Kf.getAttribute("href"):null}();return null==e?null:function Vse(n){Hv=Hv||document.createElement("a"),Hv.setAttribute("href",n);const t=Hv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Kf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return mB(document.cookie,t)}}let Hv,Kf=null,Hse=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const c1=new X("EventManagerPlugins");let kB=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(P(c1),P(Ae))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class MB{constructor(t){this._doc=t}}const u1="ng-app-id";let RB=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fv(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${u1}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(u1),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(u1,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ct),P(G_),P(mC,8),P(hi))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const d1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},h1=/%COMP%/g,zse=new X("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function PB(n,t){return t.map(e=>e.replace(h1,n))}let f1=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Fv(a),this.defaultRenderer=new p1(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zr.ShadowDom&&(i={...i,encapsulation:Zr.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof LB?r.applyToHost(e):r instanceof g1&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Zr.Emulated:s=new LB(l,c,i,this.appId,u,o,a,d);break;case Zr.ShadowDom:return new Yse(l,c,e,i,o,a,this.nonce,d);default:s=new g1(l,c,i,u,o,a,d)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(P(kB),P(RB),P(G_),P(zse),P(Ct),P(hi),P(Ae),P(mC))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class p1{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(d1[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(OB(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(OB(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new O(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=d1[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=d1[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(ba.DashCase|ba.Important)?t.style.setProperty(e,i,r&ba.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&ba.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Aa().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function OB(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Yse extends p1{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=PB(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class g1 extends p1{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?PB(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class LB extends g1{constructor(t,e,i,r,s,o,a,l){const c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=function jse(n){return"_ngcontent-%COMP%".replace(h1,n)}(c),this.hostAttr=function Wse(n){return"_nghost-%COMP%".replace(h1,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Kse=(()=>{class n extends MB{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ct))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const FB=["alt","control","meta","shift"],Xse={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qse={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Zse=(()=>{class n extends MB{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Aa().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),FB.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=Xse[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),FB.forEach(o=>{o!==r&&(0,Qse[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ct))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const BB=[{provide:hi,useValue:wB},{provide:jO,useValue:function Jse(){l1.makeCurrent()},multi:!0},{provide:Ct,useFactory:function toe(){return function GX(n){nC=n}(document),document},deps:[]}],noe=RV(Eie,"browser",BB),ioe=new X(""),HB=[{provide:xv,useClass:class Bse{addToWindow(t){zt.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new O(5103,!1);return s},zt.getAllAngularTestabilities=()=>t.getAllTestabilities(),zt.getAllAngularRootElements=()=>t.getAllRootElements(),zt.frameworkStabilizers||(zt.frameworkStabilizers=[]),zt.frameworkStabilizers.push(i=>{const r=zt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Aa().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:EV,useClass:kw,deps:[Ae,Mw,xv]},{provide:kw,useClass:kw,deps:[Ae,Mw,xv]}],$B=[{provide:hC,useValue:"root"},{provide:Eo,useFactory:function eoe(){return new Eo},deps:[]},{provide:c1,useClass:Kse,multi:!0,deps:[Ct,Ae,hi]},{provide:c1,useClass:Zse,multi:!0,deps:[Ct]},f1,RB,kB,{provide:Ca,useExisting:f1},{provide:SB,useClass:Hse,deps:[]},[]];let UB=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:G_,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(P(ioe,12))};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({providers:[...$B,...HB],imports:[vn,Aie]})}return n})(),GB=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ct))};static#t=this.\u0275prov=z({token:n,factory:function(i){let r=null;return r=i?new i:function soe(){return new GB(P(Ct))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;class qB{}class uoe{}const Vo="*";function KB(n,t=null){return{type:2,steps:n,options:t}}function ka(n){return{type:6,styles:n,offset:null}}class Xf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class XB{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function QB(n){return new O(3e3,!1)}function Ma(n){switch(n.length){case 0:return new Xf;case 1:return n[0];default:return new XB(n)}}function ZB(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,r),m){case"!":m=e.get(f);break;case Vo:m=i.get(f);break;default:m=n.normalizeStyleValue(f,p,m,r)}d.set(p,m)}),u||s.push(d),a=d,o=c}),r.length)throw function Noe(n){return new O(3502,!1)}();return s}function b1(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&x1(e,"start",n)));break;case"done":n.onDone(()=>i(e&&x1(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&x1(e,"destroy",n)))}}function x1(n,t,e){const s=T1(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function T1(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Lr(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function JB(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const joe=(()=>typeof document>"u"?null:document.documentElement)();function C1(n){const t=n.parentNode||n.host||null;return t===joe?null:t}let Ll=null,e3=!1;function t3(n,t){for(;t;){if(t===n)return!0;t=C1(t)}return!1}function n3(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let r3=(()=>{class n{validateStyleProperty(e){return function qoe(n){Ll||(Ll=function Yoe(){return typeof document<"u"?document.body:null}()||{},e3=!!Ll.style&&"WebkitAppearance"in Ll.style);let t=!0;return Ll.style&&!function Woe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ll.style,!t&&e3&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ll.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return t3(e,i)}getParentElement(e){return C1(e)}query(e,i,r){return n3(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new Xf(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),w1=(()=>{class n{static#e=this.NOOP=new r3}return n})();const Koe=1e3,S1="ng-enter",$v="ng-leave",Uv="ng-trigger",Gv=".ng-trigger",o3="ng-animating",D1=".ng-animating";function Bo(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:E1(parseFloat(t[1]),t[2])}function E1(n,t){return"s"===t?n*Koe:n}function zv(n,t,e){return n.hasOwnProperty("duration")?n:function Qoe(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(QB()),{duration:0,delay:0,easing:""};r=E1(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=E1(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function doe(){return new O(3100,!1)}()),a=!0),s<0&&(t.push(function hoe(){return new O(3101,!1)}()),a=!0),a&&t.splice(l,0,QB())}return{duration:r,delay:s,easing:o}}(n,t,e)}function Qf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function a3(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Ra(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Qs(n,t,e){t.forEach((i,r)=>{const s=I1(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function Fl(n,t){t.forEach((e,i)=>{const r=I1(i);n.style[r]=""})}function Zf(n){return Array.isArray(n)?1==n.length?n[0]:KB(n):n}const A1=new RegExp("{{\\s*(.+?)\\s*}}","g");function c3(n){let t=[];if("string"==typeof n){let e;for(;e=A1.exec(n);)t.push(e[1]);A1.lastIndex=0}return t}function Jf(n,t,e){const i=n.toString(),r=i.replace(A1,(s,o)=>{let a=t[o];return null==a&&(e.push(function poe(n){return new O(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function jv(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const eae=/-+([a-z0-9])/g;function I1(n){return n.replace(eae,(...t)=>t[1].toUpperCase())}function Fr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function goe(n){return new O(3004,!1)}()}}function u3(n,t){return window.getComputedStyle(n)[t]}const Wv="*";function iae(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function rae(n,t,e){if(":"==n[0]){const l=function sae(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Ioe(n){return new O(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Aoe(n){return new O(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(d3(r,o));"<"==s[0]&&!(r==Wv&&o==Wv)&&t.push(d3(o,r))}(i,e,t)):e.push(n),e}const qv=new Set(["true","1"]),Yv=new Set(["false","0"]);function d3(n,t){const e=qv.has(n)||Yv.has(n),i=qv.has(t)||Yv.has(t);return(r,s)=>{let o=n==Wv||n==r,a=t==Wv||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?qv.has(n):Yv.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?qv.has(t):Yv.has(t)),o&&a}}const oae=new RegExp("s*:selfs*,?","g");function k1(n,t,e,i){return new aae(n).build(t,e,i)}class aae{constructor(t){this._driver=t}build(t,e,i){const r=new uae(e);return this._resetContextStyleTimingState(r),Fr(this,Zf(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function _oe(){return new O(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function voe(){return new O(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{c3(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(jv(s.values()),e.errors.push(function yoe(n,t){return new O(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Fr(this,Zf(t.animation),e);return{type:1,matchers:iae(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Vl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Fr(this,i,e)),options:Vl(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=Fr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:Vl(t.options)}}visitAnimate(t,e){const i=function hae(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return M1(zv(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=M1(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=zv(e,t);return M1(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:ka({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=ka(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Vo?i.push(a):e.errors.push(new O(3002,!1)):i.push(a3(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function xoe(n,t,e,i,r){return new O(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&function Joe(n,t,e){const i=t.params||{},r=c3(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function foe(n){return new O(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Toe(){return new O(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(v=>{const _=this._makeStyleAst(v,e);let b=null!=_.offset?_.offset:function dae(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(_.styles),C=0;return null!=b&&(s++,C=_.offset=b),l=l||C<0||C>1,a=a||C<c,c=C,o.push(C),_});l&&e.errors.push(function Coe(){return new O(3012,!1)}()),a&&e.errors.push(function woe(){return new O(3200,!1)}());const d=t.steps.length;let h=0;s>0&&s<d?e.errors.push(function Soe(){return new O(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((v,_)=>{const b=h>0?_==f?1:h*_:o[_],C=b*g;e.currentTime=p+m.delay+C,m.duration=C,this._validateStyleAst(v,e),v.offset=b,i.styles.push(v)}),i}visitReference(t,e){return{type:8,animation:Fr(this,Zf(t.animation),e),options:Vl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Vl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Vl(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function lae(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(oae,"")),n=n.replace(/@\*/g,Gv).replace(/@\w+/g,e=>Gv+"-"+e.slice(1)).replace(/:animating/g,D1),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Lr(e.collectedStyles,e.currentQuerySelector,new Map);const a=Fr(this,Zf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Vl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Doe(){return new O(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:zv(t.timings,e.errors,!0);return{type:12,animation:Fr(this,Zf(t.animation),e),timings:i,options:null}}}class uae{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vl(n){return n?(n=Qf(n)).params&&(n.params=function cae(n){return n?Qf(n):null}(n.params)):n={},n}function M1(n,t,e){return{duration:n,delay:t,easing:e}}function R1(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Kv{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gae=new RegExp(":enter","g"),_ae=new RegExp(":leave","g");function N1(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return(new vae).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class vae{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new Kv;const d=new P1(t,e,c,r,s,u,[]);d.options=l;const h=l.delay?Bo(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Fr(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[R1(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:Bo(Jf(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?Bo(i.duration):null,a=null!=i.delay?Bo(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Fr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Xv);const o=Bo(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Fr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Bo(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Fr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return zv(e.params?Jf(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Bo(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Xv);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),Fr(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Fr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Xv={};class P1{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Qv(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Bo(i.duration)),null!=i.delay&&(r.delay=Bo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Jf(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new P1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Xv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new yae(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(gae,"."+this._enterClassName)).replace(_ae,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function Eoe(n){return new O(3014,!1)}()),a}}class Qv{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Qv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Vo),this._currentKeyframe.set(e,Vo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function bae(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Vo)}else Ra(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=Jf(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Vo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Ra(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===Vo&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=t.size?jv(t.values()):[],o=e.size?jv(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return R1(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class yae extends Qv{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=Ra(t[0]);l.set("offset",0),s.push(l);const c=Ra(t[0]);c.set("offset",p3(a)),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=Ra(t[d]);const f=h.get("offset");h.set("offset",p3((e+f*i)/o)),s.push(h)}i=o,e=0,r="",t=s}return R1(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function p3(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class O1{}const xae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tae extends O1{normalizePropertyName(t,e){return I1(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(xae.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function moe(n,t){return new O(3005,!1)}())}return o+s}}function g3(n,t,e,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const L1={};class m3{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Cae(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||L1,p=this.buildStyles(i,a&&a.params||L1,d),m=l&&l.params||L1,g=this.buildStyles(r,m,d),v=new Set,_=new Map,b=new Map,C="void"===r,M={params:wae(m,h),delay:this.ast.options?.delay},R=u?[]:N1(t,e,this.ast.animation,s,o,p,g,M,c,d);let W=0;if(R.forEach(De=>{W=Math.max(De.duration+De.delay,W)}),d.length)return g3(e,this._triggerName,i,r,C,p,g,[],[],_,b,W,d);R.forEach(De=>{const me=De.element,ce=Lr(_,me,new Set);De.preStyleProps.forEach(Ce=>ce.add(Ce));const lt=Lr(b,me,new Set);De.postStyleProps.forEach(Ce=>lt.add(Ce)),me!==e&&v.add(me)});const J=jv(v.values());return g3(e,this._triggerName,i,r,C,p,g,R,J,_,b,W)}}function wae(n,t){const e=Qf(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Sae{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Qf(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Jf(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class Eae{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Sae(r.style,r.options&&r.options.params||{},i))}),_3(this.states,"true","1"),_3(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new m3(t,r,this.states))}),this.fallbackTransition=function Aae(n,t,e){return new m3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function _3(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Iae=new Kv;class kae{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=k1(this._driver,e,i,[]);if(i.length)throw function Poe(n){return new O(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=ZB(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=N1(this._driver,e,s,S1,$v,new Map,new Map,i,Iae,r),o.forEach(u=>{const d=Lr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function Ooe(){return new O(3300,!1)}()),o=[]),r.length)throw function Loe(n){return new O(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Vo))})});const c=Ma(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Foe(n){return new O(3301,!1)}();return e}listen(t,e,i,r){const s=T1(e,"","","");return b1(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const v3="ng-animate-queued",F1="ng-animate-disabled",Oae=[],y3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ws="__ng_removed";class V1{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Hae(n){return n??null}(i?t.value:t),i){const s=Qf(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const ep="void",B1=new V1(ep);class Fae{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ss(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Voe(n,t){return new O(3302,!1)}();if(null==i||0==i.length)throw function Boe(n){return new O(3303,!1)}();if(!function $ae(n){return"start"==n||"done"==n}(i))throw function Hoe(n,t){return new O(3400,!1)}();const s=Lr(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=Lr(this._engine.statesByElement,t,new Map);return a.has(e)||(ss(t,Uv),ss(t,Uv+"-"+e),a.set(e,B1)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function $oe(n){return new O(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new H1(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(ss(t,Uv),ss(t,Uv+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new V1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=B1),c.value!==ep&&l.value===c.value){if(!function zae(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),v=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Fl(t,g),Qs(t,v)})}return}const h=Lr(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(ss(t,v3),o.onStart(()=>{qu(t,v3)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let v=g.indexOf(o);v>=0&&g.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Gv,!0);i.forEach(r=>{if(r[ws])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,ep,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&Ma(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||B1,u=new V1(ep),d=new H1(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ws];(!s||s===y3)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ss(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=T1(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,b1(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Vae{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Fae(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(Zv(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Zv(e))return;const s=e[ws];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ss(t,F1)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),qu(t,F1))}removeNode(t,e,i){if(Zv(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ws]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Zv(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Gv,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,D1,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ma(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ws];if(e&&e.setForRemoval){if(t[ws]=y3,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(F1)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ss(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ma(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Uoe(n){return new O(3402,!1)}()}_flushAnimations(t,e){const i=new Kv,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(q=>{u.add(q);const Q=this.driver.query(q,".ng-animate-queued",!0);for(let he=0;he<Q.length;he++)u.add(Q[he])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=T3(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((q,Q)=>{const he=S1+m++;p.set(Q,he),q.forEach(de=>ss(de,he))});const g=[],v=new Set,_=new Set;for(let q=0;q<this.collectedLeaveElements.length;q++){const Q=this.collectedLeaveElements[q],he=Q[ws];he&&he.setForRemoval&&(g.push(Q),v.add(Q),he.hasAnimation?this.driver.query(Q,".ng-star-inserted",!0).forEach(de=>v.add(de)):_.add(Q))}const b=new Map,C=T3(h,Array.from(v));C.forEach((q,Q)=>{const he=$v+m++;b.set(Q,he),q.forEach(de=>ss(de,he))}),t.push(()=>{f.forEach((q,Q)=>{const he=p.get(Q);q.forEach(de=>qu(de,he))}),C.forEach((q,Q)=>{const he=b.get(Q);q.forEach(de=>qu(de,he))}),g.forEach(q=>{this.processLeaveNode(q)})});const M=[],R=[];for(let q=this._namespaceList.length-1;q>=0;q--)this._namespaceList[q].drainQueuedTransitions(e).forEach(he=>{const de=he.player,We=he.element;if(M.push(de),this.collectedEnterElements.length){const et=We[ws];if(et&&et.setForMove){if(et.previousTriggersValues&&et.previousTriggersValues.has(he.triggerName)){const xn=et.previousTriggersValues.get(he.triggerName),ie=this.statesByElement.get(he.element);if(ie&&ie.has(he.triggerName)){const Ie=ie.get(he.triggerName);Ie.value=xn,ie.set(he.triggerName,Ie)}}return void de.destroy()}}const ct=!d||!this.driver.containsElement(d,We),Xe=b.get(We),ui=p.get(We),st=this._buildInstruction(he,i,ui,Xe,ct);if(st.errors&&st.errors.length)return void R.push(st);if(ct)return de.onStart(()=>Fl(We,st.fromStyles)),de.onDestroy(()=>Qs(We,st.toStyles)),void r.push(de);if(he.isFallbackTransition)return de.onStart(()=>Fl(We,st.fromStyles)),de.onDestroy(()=>Qs(We,st.toStyles)),void r.push(de);const xi=[];st.timelines.forEach(et=>{et.stretchStartingKeyframe=!0,this.disabledNodes.has(et.element)||xi.push(et)}),st.timelines=xi,i.append(We,st.timelines),o.push({instruction:st,player:de,element:We}),st.queriedElements.forEach(et=>Lr(a,et,[]).push(de)),st.preStyleProps.forEach((et,xn)=>{if(et.size){let ie=l.get(xn);ie||l.set(xn,ie=new Set),et.forEach((Ie,qe)=>ie.add(qe))}}),st.postStyleProps.forEach((et,xn)=>{let ie=c.get(xn);ie||c.set(xn,ie=new Set),et.forEach((Ie,qe)=>ie.add(qe))})});if(R.length){const q=[];R.forEach(Q=>{q.push(function Goe(n,t){return new O(3505,!1)}())}),M.forEach(Q=>Q.destroy()),this.reportError(q)}const W=new Map,J=new Map;o.forEach(q=>{const Q=q.element;i.has(Q)&&(J.set(Q,Q),this._beforeAnimationBuild(q.player.namespaceId,q.instruction,W))}),r.forEach(q=>{const Q=q.element;this._getPreviousPlayers(Q,!1,q.namespaceId,q.triggerName,null).forEach(de=>{Lr(W,Q,[]).push(de),de.destroy()})});const De=g.filter(q=>w3(q,l,c)),me=new Map;x3(me,this.driver,_,c,Vo).forEach(q=>{w3(q,l,c)&&De.push(q)});const lt=new Map;f.forEach((q,Q)=>{x3(lt,this.driver,new Set(q),l,"!")}),De.forEach(q=>{const Q=me.get(q),he=lt.get(q);me.set(q,new Map([...Q?.entries()??[],...he?.entries()??[]]))});const Ce=[],rt=[],hn={};o.forEach(q=>{const{element:Q,player:he,instruction:de}=q;if(i.has(Q)){if(u.has(Q))return he.onDestroy(()=>Qs(Q,de.toStyles)),he.disabled=!0,he.overrideTotalTime(de.totalTime),void r.push(he);let We=hn;if(J.size>1){let Xe=Q;const ui=[];for(;Xe=Xe.parentNode;){const st=J.get(Xe);if(st){We=st;break}ui.push(Xe)}ui.forEach(st=>J.set(st,We))}const ct=this._buildAnimation(he.namespaceId,de,W,s,lt,me);if(he.setRealPlayer(ct),We===hn)Ce.push(he);else{const Xe=this.playersByElement.get(We);Xe&&Xe.length&&(he.parentPlayer=Ma(Xe)),r.push(he)}}else Fl(Q,de.fromStyles),he.onDestroy(()=>Qs(Q,de.toStyles)),rt.push(he),u.has(Q)&&r.push(he)}),rt.forEach(q=>{const Q=s.get(q.element);if(Q&&Q.length){const he=Ma(Q);q.setRealPlayer(he)}}),r.forEach(q=>{q.parentPlayer?q.syncPlayerEvents(q.parentPlayer):q.destroy()});for(let q=0;q<g.length;q++){const Q=g[q],he=Q[ws];if(qu(Q,$v),he&&he.hasAnimation)continue;let de=[];if(a.size){let ct=a.get(Q);ct&&ct.length&&de.push(...ct);let Xe=this.driver.query(Q,D1,!0);for(let ui=0;ui<Xe.length;ui++){let st=a.get(Xe[ui]);st&&st.length&&de.push(...st)}}const We=de.filter(ct=>!ct.destroyed);We.length?Uae(this,Q,We):this.processLeaveNode(Q)}return g.length=0,Ce.forEach(q=>{this.players.push(q),q.onDone(()=>{q.destroy();const Q=this.players.indexOf(q);this.players.splice(Q,1)}),q.play()}),Ce}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==ep;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=Lr(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Fl(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const m=p.element;u.add(m);const g=m[ws];if(g&&g.removedBeforeQueried)return new Xf(p.duration,p.delay);const v=m!==l,_=function Gae(n){const t=[];return C3(n,t),t}((i.get(m)||Oae).map(W=>W.getRealPlayer())).filter(W=>!!W.element&&W.element===m),b=s.get(m),C=o.get(m),M=ZB(this._normalizer,p.keyframes,b,C),R=this._buildPlayer(p,M,_);if(p.subTimeline&&r&&d.add(m),v){const W=new H1(t,a,m);W.setRealPlayer(R),c.push(W)}return R});c.forEach(p=>{Lr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Bae(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>ss(p,o3));const f=Ma(h);return f.onDestroy(()=>{u.forEach(p=>qu(p,o3)),Qs(l,e.toStyles)}),d.forEach(p=>{Lr(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Xf(t.duration,t.delay)}}class H1{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Xf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>b1(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Lr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Zv(n){return n&&1===n.nodeType}function b3(n,t){const e=n.style.display;return n.style.display=t??"none",e}function x3(n,t,e,i,r){const s=[];e.forEach(l=>s.push(b3(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[ws]=Lae,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>b3(l,s[a++])),o}function T3(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function ss(n,t){n.classList?.add(t)}function qu(n,t){n.classList?.remove(t)}function Uae(n,t,e){Ma(e).onDone(()=>n.processLeaveNode(t))}function C3(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof XB?C3(i.players,t):t.push(i)}}function w3(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Jv{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Vae(t,e,i),this._timelineEngine=new kae(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=k1(this._driver,s,l,[]);if(l.length)throw function Roe(n,t){return new O(3404,!1)}();a=function Dae(n,t,e){return new Eae(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=JB(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=JB(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let Wae=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Qs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qs(this._element,this._initialStyles),this._endStyles&&(Qs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fl(this._element,this._endStyles),this._endStyles=null),Qs(this._element,this._initialStyles),this._state=3)}}return n})();function $1(n){let t=null;return n.forEach((e,i)=>{(function qae(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class S3{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:u3(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Yae{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return t3(t,e)}getParentElement(t){return C1(t)}query(t,e,i){return n3(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof S3);(function tae(n,t){return 0===n||0===t})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function Zoe(n){return n.length?n[0]instanceof Map?n:n.map(t=>a3(t)):[]}(e).map(f=>Ra(f));d=function nae(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,u3(n,a)))}}return t}(t,d,c);const h=function jae(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=$1(t[0]),t.length>1&&(i=$1(t[t.length-1]))):t instanceof Map&&(e=$1(t)),e||i?new Wae(n,e,i):null}(t,d);return new S3(t,d,l,h)}}let Kae=(()=>{class n extends qB{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Zr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?KB(e):e;return D3(this._renderer,null,i,"register",[r]),new Xae(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ca),P(Ct))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class Xae extends uoe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Qae(this._id,t,e||{},this._renderer)}}class Qae{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return D3(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function D3(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const E3="@.disabled";let Zae=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new A3("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return i.data.animation.forEach(l),new Jae(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ca),P(Jv),P(Ae))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class A3{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==E3?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Jae extends A3{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==E3?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function ele(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function tle(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let nle=(()=>{class n extends Jv{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ct),P(w1),P(O1),P(xs))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const I3=[{provide:qB,useClass:Kae},{provide:O1,useFactory:function ile(){return new Tae}},{provide:Jv,useClass:nle},{provide:Ca,useFactory:function rle(n,t,e){return new Zae(n,t,e)},deps:[f1,Jv,Ae]}],U1=[{provide:w1,useFactory:()=>new Yae},{provide:WO,useValue:"BrowserAnimations"},...I3],k3=[{provide:w1,useClass:r3},{provide:WO,useValue:"NoopAnimations"},...I3];let sle=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?k3:U1}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({providers:U1,imports:[UB]})}return n})();const{isArray:ale}=Array,{getPrototypeOf:lle,prototype:cle,keys:ule}=Object;function M3(n){if(1===n.length){const t=n[0];if(ale(t))return{args:t,keys:null};if(function dle(n){return n&&"object"==typeof n&&lle(n)===cle}(t)){const e=ule(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:hle}=Array;function G1(n){return Fe(t=>function fle(n,t){return hle(t)?n(...t):n(t)}(n,t))}function R3(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Yu(...n){const t=Gh(n),e=Ym(n),{args:i,keys:r}=M3(n);if(0===i.length)return Qn([],t);const s=new ut(function ple(n,t,e=Kr){return i=>{N3(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)N3(t,()=>{const c=Qn(n[l],t);let u=!1;c.subscribe(Mt(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>R3(r,o):Kr));return e?s.pipe(G1(e)):s}function N3(n,t,e){n?bo(e,n,t):t()}const ty=Qt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ku(...n){return function gle(){return Kc(1)}()(Qn(n,Gh(n)))}function P3(n){return new ut(t=>{Gn(n()).subscribe(t)})}function Xu(n,t){const e=Je(n)?n:()=>n,i=r=>r.error(e());return new ut(t?r=>t.schedule(i,0,r):i)}function z1(){return Jt((n,t)=>{let e=null;n._refCount++;const i=Mt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class O3 extends ut{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Gm(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Oe;const e=this.getSubject();t.add(this.source.subscribe(Mt(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Oe.EMPTY)}return t}refCount(){return z1()(this)}}function Sn(n){return n<=0?()=>Xr:Jt((t,e)=>{let i=0;t.subscribe(Mt(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Bl(...n){const t=Gh(n);return Jt((e,i)=>{(t?Ku(n,e,t):Ku(n,e)).subscribe(i)})}function ki(n,t){return Jt((e,i)=>{let r=0;e.subscribe(Mt(i,s=>n.call(t,s,r++)&&i.next(s)))})}function ny(n){return Jt((t,e)=>{let i=!1;t.subscribe(Mt(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function L3(n=mle){return Jt((t,e)=>{let i=!1;t.subscribe(Mt(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function mle(){return new ty}function Hl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ki((r,s)=>n(r,s,i)):Kr,Sn(1),e?ny(t):L3(()=>new ty))}function Qu(n,t){return Je(t)?Xn(n,t,1):Xn(n,1)}function Wn(n,t,e){const i=Je(n)||t||e?{next:n,error:t,complete:e}:n;return i?Jt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Mt(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Kr}function $l(n){return Jt((t,e)=>{let s,i=null,r=!1;i=t.subscribe(Mt(e,void 0,void 0,o=>{s=Gn(n(o,$l(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function j1(n){return n<=0?()=>Xr:Jt((t,e)=>{let i=[];t.subscribe(Mt(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function tp(n){return Jt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function en(n){return Jt((t,e)=>{Gn(n).subscribe(Mt(e,()=>e.complete(),Ut)),!e.closed&&t.subscribe(e)})}const Ye="primary",np=Symbol("RouteTitle");class ble{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Zu(n){return new ble(n)}function xle(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Zs(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!V3(n[r],t[r]))return!1;return!0}function V3(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function B3(n){return n.length>0?n[n.length-1]:null}function Na(n){return function ole(n){return!!n&&(n instanceof ut||Je(n.lift)&&Je(n.subscribe))}(n)?n:Pf(n)?Qn(Promise.resolve(n)):Se(n)}const Cle={exact:function U3(n,t,e){if(!Ul(n.segments,t.segments)||!iy(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!U3(n.children[i],t.children[i],e))return!1;return!0},subset:G3},H3={exact:function wle(n,t){return Zs(n,t)},subset:function Sle(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>V3(n[e],t[e]))},ignored:()=>!0};function $3(n,t,e){return Cle[e.paths](n.root,t.root,e.matrixParams)&&H3[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function G3(n,t,e){return z3(n,t,t.segments,e)}function z3(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ul(r,e)||t.hasChildren()||!iy(r,e,i))}if(n.segments.length===e.length){if(!Ul(n.segments,e)||!iy(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!G3(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Ul(n.segments,r)&&iy(n.segments,r,i)&&n.children[Ye])&&z3(n.children[Ye],t,s,i)}}function iy(n,t,e){return t.every((i,r)=>H3[e](n[r].parameters,i.parameters))}class Ju{constructor(t=new Lt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zu(this.queryParams)),this._queryParamMap}toString(){return Ale.serialize(this)}}class Lt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ry(this)}}class ip{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Zu(this.parameters)),this._parameterMap}toString(){return q3(this)}}function Ul(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let rp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return new W1},providedIn:"root"})}return n})();class W1{parse(t){const e=new Ble(t);return new Ju(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${sp(t.root,!0)}`,i=function Mle(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${sy(e)}=${sy(r)}`).join("&"):`${sy(e)}=${sy(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Ile(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ale=new W1;function ry(n){return n.segments.map(t=>q3(t)).join("/")}function sp(n,t){if(!n.hasChildren())return ry(n);if(t){const e=n.children[Ye]?sp(n.children[Ye],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Ye&&i.push(`${r}:${sp(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ele(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ye&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ye&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Ye?[sp(n.children[Ye],!1)]:[`${r}:${sp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ye]?`${ry(n)}/${e[0]}`:`${ry(n)}/(${e.join("//")})`}}function j3(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sy(n){return j3(n).replace(/%3B/gi,";")}function q1(n){return j3(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oy(n){return decodeURIComponent(n)}function W3(n){return oy(n.replace(/\+/g,"%20"))}function q3(n){return`${q1(n.path)}${function kle(n){return Object.keys(n).map(t=>`;${q1(t)}=${q1(n[t])}`).join("")}(n.parameters)}`}const Rle=/^[^\/()?;#]+/;function Y1(n){const t=n.match(Rle);return t?t[0]:""}const Nle=/^[^\/()?;=#]+/,Ole=/^[^=?&#]+/,Fle=/^[^&#]+/;class Ble{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ye]=new Lt(t,e)),i}parseSegment(){const t=Y1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(t),new ip(oy(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Ple(n){const t=n.match(Nle);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Y1(this.remaining);r&&(i=r,this.capture(i))}t[oy(e)]=oy(i)}parseQueryParam(t){const e=function Lle(n){const t=n.match(Ole);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function Vle(n){const t=n.match(Fle);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=W3(e),s=W3(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Y1(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new O(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ye);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Ye]:new Lt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new O(4011,!1)}}function Y3(n){return n.segments.length>0?new Lt([],{[Ye]:n}):n}function K3(n){const t={};for(const i of Object.keys(n.children)){const s=K3(n.children[i]);if(i===Ye&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Hle(n){if(1===n.numberOfChildren&&n.children[Ye]){const t=n.children[Ye];return new Lt(n.segments.concat(t.segments),t.children)}return n}(new Lt(n.segments,t))}function Gl(n){return n instanceof Ju}function X3(n){let t;const r=Y3(function e(s){const o={};for(const l of s.children){const c=e(l);o[l.outlet]=c}const a=new Lt(s.url,o);return s===n&&(t=a),a}(n.root));return t??r}function Q3(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return K1(r,r,r,e,i);const s=function Ule(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new J3(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new J3(e,t,i)}(t);if(s.toRoot())return K1(r,r,new Lt([],{}),e,i);const o=function Gle(n,t,e){if(n.isAbsolute)return new ly(t,!0,0);if(!e)return new ly(t,!1,NaN);if(null===e.parent)return new ly(e,!0,0);const i=ay(n.commands[0])?0:1;return function zle(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new O(4005,!1);r=i.segments.length}return new ly(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?ap(o.segmentGroup,o.index,s.commands):eH(o.segmentGroup,o.index,s.commands);return K1(r,o.segmentGroup,a,e,i)}function ay(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function op(n){return"object"==typeof n&&null!=n&&n.outlets}function K1(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===t?e:Z3(n,t,e);const a=Y3(K3(o));return new Ju(a,s,r)}function Z3(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:Z3(s,t,e)}),new Lt(n.segments,i)}class J3{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ay(i[0]))throw new O(4003,!1);const r=i.find(op);if(r&&r!==B3(i))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ly{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function eH(n,t,e){if(n||(n=new Lt([],{})),0===n.segments.length&&n.hasChildren())return ap(n,t,e);const i=function Wle(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(op(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!nH(l,c,o))return s;i+=2}else{if(!nH(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Lt(n.segments.slice(0,i.pathIndex),{});return s.children[Ye]=new Lt(n.segments.slice(i.pathIndex),n.children),ap(s,0,r)}return i.match&&0===r.length?new Lt(n.segments,{}):i.match&&!n.hasChildren()?X1(n,t,e):i.match?ap(n,0,r):X1(n,t,e)}function ap(n,t,e){if(0===e.length)return new Lt(n.segments,{});{const i=function jle(n){return op(n[0])?n[0].outlets:{[Ye]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Ye)&&n.children[Ye]&&1===n.numberOfChildren&&0===n.children[Ye].segments.length){const s=ap(n.children[Ye],t,e);return new Lt(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=eH(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Lt(n.segments,r)}}function X1(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(op(s)){const l=qle(s.outlets);return new Lt(i,l)}if(0===r&&ay(e[0])){i.push(new ip(n.segments[t].path,tH(e[0]))),r++;continue}const o=op(s)?s.outlets[Ye]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&ay(a)?(i.push(new ip(o,tH(a))),r+=2):(i.push(new ip(o,{})),r++)}return new Lt(i,{})}function qle(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=X1(new Lt([],{}),0,i))}),t}function tH(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function nH(n,t,e){return n==e.path&&Zs(t,e.parameters)}const lp="imperative";class Js{constructor(t,e){this.id=t,this.url=e}}class cy extends Js{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pa extends Js{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cp extends Js{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ed extends Js{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class uy extends Js{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iH extends Js{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yle extends Js{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kle extends Js{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xle extends Js{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qle extends Js{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zle{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jle{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ece{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tce{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nce{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ice{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rH{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Q1{}class Z1{constructor(t){this.url=t}}class rce{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new up,this.attachRef=null}}let up=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new rce,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class sH{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=J1(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=J1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=eS(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return eS(t,this._root).map(e=>e.value)}}function J1(n,t){if(n===t.value)return t;for(const e of t.children){const i=J1(n,e);if(i)return i}return null}function eS(n,t){if(n===t.value)return[t];for(const e of t.children){const i=eS(n,e);if(i.length)return i.unshift(t),i}return[]}class Ho{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function td(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class oH extends sH{constructor(t,e){super(t),this.snapshot=e,tS(this,t)}toString(){return this.snapshot.toString()}}function aH(n,t){const e=function sce(n,t){const o=new dy([],{},{},"",{},Ye,t,null,{});return new cH("",new Ho(o,[]))}(0,t),i=new zn([new ip("",{})]),r=new zn({}),s=new zn({}),o=new zn({}),a=new zn(""),l=new nd(i,r,o,a,s,Ye,t,e.root);return l.snapshot=e.root,new oH(new Ho(l,[]),e)}class nd{constructor(t,e,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Fe(c=>c[np]))??Se(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Fe(t=>Zu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Fe(t=>Zu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lH(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function oce(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class dy{get title(){return this.data?.[np]}constructor(t,e,i,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cH extends sH{constructor(t,e){super(e),this.url=t,tS(this,e)}toString(){return uH(this._root)}}function tS(n,t){t.value._routerState=n,t.children.forEach(e=>tS(n,e))}function uH(n){const t=n.children.length>0?` { ${n.children.map(uH).join(", ")} } `:"";return`${n.value}${t}`}function nS(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Zs(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Zs(t.params,e.params)||n.paramsSubject.next(e.params),function Tle(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Zs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Zs(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function iS(n,t){const e=Zs(n.params,t.params)&&function Dle(n,t){return Ul(n,t)&&n.every((e,i)=>Zs(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||iS(n.parent,t.parent))}let rS=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new K,this.deactivateEvents=new K,this.attachEvents=new K,this.detachEvents=new K,this.parentContexts=ne(up),this.location=ne(Pr),this.changeDetector=ne(fi),this.environmentInjector=ne(gr),this.inputBinder=ne(hy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ace(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kt]})}return n})();class ace{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===nd?this.route:t===up?this.childContexts:this.parent.get(t,e)}}const hy=new X("");let dH=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Yu([i.queryParams,i.params,i.data]).pipe(di(([s,o,a],l)=>(a={...s,...o,...a},0===l?Se(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function Uie(n){const t=ht(n);if(!t)return null;const e=new Ef(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function dp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function cce(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return dp(n,i,r);return dp(n,i)})}(n,t,e);return new Ho(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>dp(n,a)),o}}const i=function uce(n){return new nd(new zn(n.url),new zn(n.params),new zn(n.queryParams),new zn(n.fragment),new zn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>dp(n,s));return new Ho(i,r)}}const sS="ngNavigationCancelingError";function hH(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Gl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=fH(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function fH(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[sS]=!0,i.cancellationCode=t,e&&(i.url=e),i}function pH(n){return n&&n[sS]}let gH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Be({type:n,selectors:[["ng-component"]],standalone:!0,features:[Da],decls:1,vars:0,template:function(i,r){1&i&&te(0,"router-outlet")},dependencies:[rS],encapsulation:2})}return n})();function oS(n){const t=n.children&&n.children.map(oS),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ye&&(e.component=gH),e}function Ss(n){return n.outlet||Ye}function hp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class vce{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),nS(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=td(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=td(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=td(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=td(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new ice(s.value.snapshot))}),t.children.length&&this.forwardEvent(new tce(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(nS(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),nS(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=hp(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class mH{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class fy{constructor(t,e){this.component=t,this.route=e}}function yce(n,t,e){const i=n._root;return fp(i,t?t._root:null,e,[i.value])}function id(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function aY(n){return null!==e_(n)}(n)?t.get(n):n:i}function fp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=td(t);return n.children.forEach(o=>{(function xce(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Tce(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ul(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ul(n.url,t.url)||!Zs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iS(n,t)||!Zs(n.queryParams,t.queryParams);default:return!iS(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new mH(i)):(s.data=o.data,s._resolvedData=o._resolvedData),fp(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new fy(a.outlet.component,o))}else o&&pp(t,a,r),r.canActivateChecks.push(new mH(i)),fp(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>pp(a,e.getContext(o),r)),r}function pp(n,t,e){const i=td(n),r=n.value;Object.entries(i).forEach(([s,o])=>{pp(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new fy(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function gp(n){return"function"==typeof n}function _H(n){return n instanceof ty||"EmptyError"===n?.name}const py=Symbol("INITIAL_VALUE");function rd(){return di(n=>Yu(n.map(t=>t.pipe(Sn(1),Bl(py)))).pipe(Fe(t=>{for(const e of t)if(!0!==e){if(e===py)return py;if(!1===e||e instanceof Ju)return e}return!0}),ki(t=>t!==py),Sn(1)))}function vH(n){return function Gx(...n){return Bm(n)}(Wn(t=>{if(Gl(t))throw hH(0,t)}),Fe(t=>!0===t))}class gy{constructor(t){this.segmentGroup=t||null}}class yH{constructor(t){this.urlTree=t}}function sd(n){return Xu(new gy(n))}function bH(n){return Xu(new yH(n))}class Uce{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new O(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Se(i);if(r.numberOfChildren>1||!r.children[Ye])return Xu(new O(4e3,!1));r=r.children[Ye]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Ju(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new Lt(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new O(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const aS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gce(n,t,e,i,r){const s=lS(n,t,e);return s.matched?(i=function hce(n,t){return n.providers&&!n._injector&&(n._injector=hw(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Bce(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Se(r.map(o=>{const a=id(o,n);return Na(function Ace(n){return n&&gp(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(rd(),vH()):Se(!0)}(i,t,e).pipe(Fe(o=>!0===o?s:{...aS}))):Se(s)}function lS(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...aS}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||xle)(e,n,t);if(!r)return{...aS};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function xH(n,t,e,i){return e.length>0&&function Wce(n,t,e){return e.some(i=>my(n,t,i)&&Ss(i)!==Ye)}(n,e,i)?{segmentGroup:new Lt(t,jce(i,new Lt(e,n.children))),slicedSegments:[]}:0===e.length&&function qce(n,t,e){return e.some(i=>my(n,t,i))}(n,e,i)?{segmentGroup:new Lt(n.segments,zce(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Lt(n.segments,n.children),slicedSegments:e}}function zce(n,t,e,i,r){const s={};for(const o of i)if(my(n,e,o)&&!r[Ss(o)]){const a=new Lt([],{});s[Ss(o)]=a}return{...r,...s}}function jce(n,t){const e={};e[Ye]=t;for(const i of n)if(""===i.path&&Ss(i)!==Ye){const r=new Lt([],{});e[Ss(i)]=r}return e}function my(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Qce{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Uce(this.urlSerializer,this.urlTree)}noMatchError(t){return new O(4002,!1)}recognize(){const t=xH(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ye).pipe($l(e=>{if(e instanceof yH)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof gy?this.noMatchError(e):e}),Fe(e=>{const i=new dy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),r=new Ho(i,e),s=new cH("",r),o=function $le(n,t,e=null,i=null){return Q3(X3(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Ye).pipe($l(i=>{throw i instanceof gy?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=lH(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Qn(r).pipe(Qu(s=>{const o=i.children[s],a=function mce(n,t){const e=n.filter(i=>Ss(i)===t);return e.push(...n.filter(i=>Ss(i)!==t)),e}(e,s);return this.processSegmentGroup(t,a,o,s)}),function vle(n,t){return Jt(function _le(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(Mt(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),ny(null),function yle(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ki((r,s)=>n(r,s,i)):Kr,j1(1),e?ny(t):L3(()=>new ty))}(),Xn(s=>{if(null===s)return sd(i);const o=TH(s);return function Zce(n){n.sort((t,e)=>t.value.outlet===Ye?-1:e.value.outlet===Ye?1:t.value.outlet.localeCompare(e.value.outlet))}(o),Se(o)}))}processSegment(t,e,i,r,s,o){return Qn(e).pipe(Qu(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,s,o).pipe($l(l=>{if(l instanceof gy)return Se(null);throw l}))),Hl(a=>!!a),$l(a=>{if(_H(a))return function Kce(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?Se([]):sd(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,s,o,a){return function Yce(n,t,e,i){return!!(Ss(n)===i||i!==Ye&&my(t,e,n))&&("**"===n.path||lS(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):sd(r):sd(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?bH(s):this.applyRedirects.lineralizeSegments(i,s).pipe(Xn(o=>{const a=new Lt(o,{});return this.processSegment(t,e,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=lS(e,r,s);if(!a)return sd(e);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?bH(d):this.applyRedirects.lineralizeSegments(r,d).pipe(Xn(h=>this.processSegment(t,i,e,h.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?B3(r).parameters:{};a=Se({snapshot:new dy(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CH(i),Ss(i),i.component??i._loadedComponent??null,i,wH(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=Gce(e,i,r,t).pipe(Fe(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new dy(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,CH(i),Ss(i),i.component??i._loadedComponent??null,i,wH(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(di(l=>null===l?sd(e):this.getChildConfig(t=i._injector??t,i,r).pipe(di(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:m}=xH(e,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(Fe(v=>null===v?null:[new Ho(d,v)]));if(0===c.length&&0===m.length)return Se([new Ho(d,[])]);const g=Ss(i)===s;return this.processSegment(u,c,p,m,g?Ye:s,!0).pipe(Fe(v=>[new Ho(d,v)]))}))))}getChildConfig(t,e,i){return e.children?Se({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Se({routes:e._loadedRoutes,injector:e._loadedInjector}):function Vce(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Se(!0):Se(r.map(o=>{const a=id(o,n);return Na(function wce(n){return n&&gp(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(rd(),vH())}(t,e,i).pipe(Xn(r=>r?this.configLoader.loadChildren(t,e).pipe(Wn(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function $ce(n){return Xu(fH(!1,3))}())):Se({routes:[],injector:t})}}function Jce(n){const t=n.value.routeConfig;return t&&""===t.path}function TH(n){const t=[],e=new Set;for(const i of n){if(!Jce(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=TH(i.children);t.push(new Ho(i.value,r))}return t.filter(i=>!e.has(i))}function CH(n){return n.data||{}}function wH(n){return n.resolve||{}}function tue(n,t){return Xn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Se(e);let s=0;return Qn(r).pipe(Qu(o=>function nue(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!SH(r)&&(s[np]=r.title),function iue(n,t,e,i){const r=function rue(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Se({});const s={};return Qn(r).pipe(Xn(o=>function sue(n,t,e,i){const r=hp(t)??i,s=id(n,r);return Na(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(Hl(),Wn(a=>{s[o]=a}))),j1(1),function F3(n){return Fe(()=>n)}(s),$l(o=>_H(o)?Xr:Xu(o)))}(s,n,t,i).pipe(Fe(o=>(n._resolvedData=o,n.data=lH(n,e).resolve,r&&SH(r)&&(n.data[np]=r.title),null)))}(o.route,i,n,t)),Wn(()=>s++),j1(1),Xn(o=>s===r.length?Se(e):Xr))})}function SH(n){return"string"==typeof n.title||null===n.title}function cS(n){return di(t=>{const e=n(t);return e?Qn(e).pipe(Fe(()=>t)):Se(t)})}const od=new X("ROUTES");let uS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ne(CV)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Se(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Na(e.loadComponent()).pipe(Fe(DH),Wn(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),tp(()=>{this.componentLoaders.delete(e)})),r=new O3(i,()=>new we).pipe(z1());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function oue(n,t,e,i){return Na(n.loadChildren()).pipe(Fe(DH),Xn(r=>r instanceof NF||Array.isArray(r)?Se(r):Qn(t.compileModuleAsync(r))),Fe(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(od,[],{optional:!0,self:!0}).flat()),{routes:o.map(oS),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(tp(()=>{this.childrenLoaders.delete(i)})),o=new O3(s,()=>new we).pipe(z1());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DH(n){return function aue(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let _y=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new we,this.transitionAbortSubject=new we,this.configLoader=ne(uS),this.environmentInjector=ne(gr),this.urlSerializer=ne(rp),this.rootContexts=ne(up),this.inputBindingEnabled=null!==ne(hy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Jle(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Zle(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new zn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ki(s=>0!==s.id),Fe(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),di(s=>{this.currentTransition=s;let o=!1,a=!1;return Se(s).pipe(Wn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),di(l=>{const c=l.currentBrowserUrl.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const h="";return this.events.next(new ed(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Xr}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Se(l).pipe(di(h=>{const f=this.transitions?.getValue();return this.events.next(new cy(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Xr:Promise.resolve(h)}),function eue(n,t,e,i,r,s){return Xn(o=>function Xce(n,t,e,i,r,s,o="emptyOnly"){return new Qce(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe(Fe(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Wn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new iH(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=l,v=new cy(h,this.urlSerializer.serialize(f),p,m);this.events.next(v);const _=aH(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:_,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},Se(s)}{const h="";return this.events.next(new ed(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Xr}}),Wn(l=>{const c=new Yle(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Fe(l=>(this.currentTransition=s={...l,guards:yce(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function kce(n,t){return Xn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?Se({...e,guardsResult:!0}):function Mce(n,t,e,i){return Qn(n).pipe(Xn(r=>function Fce(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Se(s.map(a=>{const l=hp(t)??r,c=id(a,l);return Na(function Ece(n){return n&&gp(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(Hl())})).pipe(rd()):Se(!0)}(r.component,r.route,e,t,i)),Hl(r=>!0!==r,!0))}(o,i,r,n).pipe(Xn(a=>a&&function Cce(n){return"boolean"==typeof n}(a)?function Rce(n,t,e,i){return Qn(t).pipe(Qu(r=>Ku(function Pce(n,t){return null!==n&&t&&t(new ece(n)),Se(!0)}(r.route.parent,i),function Nce(n,t){return null!==n&&t&&t(new nce(n)),Se(!0)}(r.route,i),function Lce(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function bce(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>P3(()=>Se(o.guards.map(l=>{const c=hp(o.node)??e,u=id(l,c);return Na(function Dce(n){return n&&gp(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Hl())})).pipe(rd())));return Se(s).pipe(rd())}(n,r.path,e),function Oce(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Se(!0);const r=i.map(s=>P3(()=>{const o=hp(t)??e,a=id(s,o);return Na(function Sce(n){return n&&gp(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(Hl())}));return Se(r).pipe(rd())}(n,r.route,e))),Hl(r=>!0!==r,!0))}(i,s,n,t):Se(a)),Fe(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Wn(l=>{if(s.guardsResult=l.guardsResult,Gl(l.guardsResult))throw hH(0,l.guardsResult);const c=new Kle(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ki(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),cS(l=>{if(l.guards.canActivateChecks.length)return Se(l).pipe(Wn(c=>{const u=new Xle(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),di(c=>{let u=!1;return Se(c).pipe(tue(e.paramsInheritanceStrategy,this.environmentInjector),Wn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Wn(c=>{const u=new Qle(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),cS(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Wn(h=>{u.component=h}),Fe(()=>{})));for(const h of u.children)d.push(...c(h));return d};return Yu(c(l.targetSnapshot.root)).pipe(ny(),Sn(1))}),cS(()=>this.afterPreactivation()),Fe(l=>{const c=function lce(n,t,e){const i=dp(n,t._root,e?e._root:void 0);return new oH(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Wn(()=>{this.events.next(new Q1)}),((n,t,e,i)=>Fe(r=>(new vce(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Sn(1),Wn({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),en(this.transitionAbortSubject.pipe(Wn(l=>{throw l}))),tp(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),$l(l=>{if(a=!0,pH(l))this.events.next(new cp(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function dce(n){return pH(n)&&Gl(n.url)}(l)?this.events.next(new Z1(l.url)):s.resolve(!1);else{this.events.next(new uy(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(c){s.reject(c)}}return Xr}))}))}cancelNavigationTransition(e,i,r){const s=new cp(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EH(n){return n!==lp}let AH=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ye);return i}getResolvedTitleForRoute(e){return e.data[np]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return ne(lue)},providedIn:"root"})}return n})(),lue=(()=>{class n extends AH{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(P(GB))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return ne(due)},providedIn:"root"})}return n})();class uue{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let due=(()=>{class n extends uue{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mn(n)))(r||n)}}();static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vy=new X("",{providedIn:"root",factory:()=>({})});let hue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return ne(fue)},providedIn:"root"})}return n})(),fue=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(mp||{});function IH(n,t){n.events.pipe(ki(e=>e instanceof Pa||e instanceof cp||e instanceof uy||e instanceof ed),Fe(e=>e instanceof Pa||e instanceof ed?mp.COMPLETE:e instanceof cp&&(0===e.code||1===e.code)?mp.REDIRECTING:mp.FAILED),ki(e=>e!==mp.REDIRECTING),Sn(1)).subscribe(()=>{t()})}function pue(n){throw n}function gue(n,t,e){return t.parse("/")}const mue={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_ue={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ii=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ne(TV),this.isNgZoneEnabled=!1,this._events=new we,this.options=ne(vy,{optional:!0})||{},this.pendingTasks=ne(yv),this.errorHandler=this.options.errorHandler||pue,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gue,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ne(hue),this.routeReuseStrategy=ne(cue),this.titleStrategy=ne(AH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ne(od,{optional:!0})?.flat()??[],this.navigationTransitions=ne(_y),this.urlSerializer=ne(rp),this.location=ne(zw),this.componentInputBindingEnabled=!!ne(hy,{optional:!0}),this.eventsSubscription=new Oe,this.isNgZoneEnabled=ne(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ju,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=aH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(kH(i)&&this._events.next(i));if(i instanceof cy)EH(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof ed)this.rawUrlTree=r.rawUrl;else if(i instanceof iH){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof Q1)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof cp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof Z1){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||EH(r.source)};this.scheduleNavigation(s,lp,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof uy&&this.restoreHistory(r,!0),i instanceof Pa&&(this.navigated=!0),kH(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),lp,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(oS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=X3(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),d=this.currentUrlTree.root}return Q3(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Gl(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,lp,null,i)}navigate(e,i={skipLocationChange:!1}){return function vue(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new O(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...mue}:!1===i?{..._ue}:i,Gl(e))return $3(this.currentUrlTree,e,r);const s=this.parseUrl(e);return $3(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return IH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kH(n){return!(n instanceof Q1||n instanceof Z1)}class MH{}let xue=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ki(e=>e instanceof Pa),Qu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=hw(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Qn(r).pipe(Kc())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Se(null);const s=r.pipe(Xn(o=>null===o?Se(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?Qn([s,this.loader.loadComponent(i)]).pipe(Kc()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(P(ii),P(CV),P(gr),P(MH),P(uS))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hS=new X("");let RH=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof cy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pa?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof ed&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof rH&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rH(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function CL(){throw new Error("invalid")}()};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function $o(n,t){return{\u0275kind:n,\u0275providers:t}}function PH(){const n=ne(mn);return t=>{const e=n.get(xs);if(t!==e.components[0])return;const i=n.get(ii),r=n.get(OH);1===n.get(fS)&&i.initialNavigation(),n.get(LH,null,tt.Optional)?.setUpPreloading(),n.get(hS,null,tt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const OH=new X("",{factory:()=>new we}),fS=new X("",{providedIn:"root",factory:()=>1}),LH=new X("");function Sue(n){return $o(0,[{provide:LH,useExisting:xue},{provide:MH,useExisting:n}])}const FH=new X("ROUTER_FORROOT_GUARD"),Eue=[zw,{provide:rp,useClass:W1},ii,up,{provide:nd,useFactory:function NH(n){return n.routerState.root},deps:[ii]},uS,[]];function Aue(){return new kV("Router",ii)}let VH=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Eue,[],{provide:od,multi:!0,useValue:e},{provide:FH,useFactory:Rue,deps:[[ii,new ts,new w_]]},{provide:vy,useValue:i||{}},i?.useHash?{provide:Pl,useClass:qie}:{provide:Pl,useClass:oB},{provide:hS,useFactory:()=>{const n=ne(dse),t=ne(Ae),e=ne(vy),i=ne(_y),r=ne(rp);return e.scrollOffset&&n.setOffset(e.scrollOffset),new RH(r,i,n,t,e)}},i?.preloadingStrategy?Sue(i.preloadingStrategy).\u0275providers:[],{provide:kV,multi:!0,useFactory:Aue},i?.initialNavigation?Nue(i):[],i?.bindToComponentInputs?$o(8,[dH,{provide:hy,useExisting:dH}]).\u0275providers:[],[{provide:BH,useFactory:PH},{provide:Pw,multi:!0,useExisting:BH}]]}}static forChild(e){return{ngModule:n,providers:[{provide:od,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(P(FH,8))};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({})}return n})();function Rue(n){return"guarded"}function Nue(n){return["disabled"===n.initialNavigation?$o(3,[{provide:Dw,multi:!0,useFactory:()=>{const t=ne(ii);return()=>{t.setUpLocationChangeListener()}}},{provide:fS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$o(2,[{provide:fS,useValue:0},{provide:Dw,multi:!0,deps:[mn],useFactory:t=>{const e=t.get(jie,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(ii),s=t.get(OH);IH(r,()=>{i(!0)}),t.get(_y).afterPreactivation=()=>(i(!0),s.closed?Se(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const BH=new X("");function HH(n,t,e,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function S(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(l){HH(s,i,r,o,a,"next",l)}function a(l){HH(s,i,r,o,a,"throw",l)}o(void 0)})}}let yy=(()=>{class n{constructor(){this.alertSubject=new we,this.alert$=this.alertSubject.asObservable()}showAlert(e,i,r=3e3){this.alertSubject.next({message:e,type:i,duration:r}),setTimeout(()=>this.alertSubject.next({message:"",type:"",duration:0}),r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $H=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},UH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(e[s>>2],e[(3&s)<<4|a>>4],e[h],e[f])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray($H(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const d=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw new Vue;i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Vue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const by=function(n){return function(n){const t=$H(n);return UH.encodeByteArray(t,!0)}(n).replace(/\./g,"")},xy=function(n){try{return UH.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},Ty=()=>{try{return function $ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&xy(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},zH=()=>{var n;return null===(n=Ty())||void 0===n?void 0:n.config};class jH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function Vr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Oa extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Oa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_p.prototype.create)}}class _p{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?function nde(n,t){return n.replace(ide,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new Oa(r,`${this.serviceName}: ${o} (${r}).`,i)}}const ide=/\{\$([^}]+)}/g;function gS(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(qH(s)&&qH(o)){if(!gS(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function qH(n){return null!==n&&"object"==typeof n}function YH(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class sde{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function ode(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=mS),void 0===r.error&&(r.error=mS),void 0===r.complete&&(r.complete=mS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mS(){}function os(n){return n&&n._delegate?n._delegate:n}class zl{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const jl="[DEFAULT]";class hde{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new jH;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function pde(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:jl})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=jl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return S(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=jl){return this.instances.has(t)}getOptions(t=jl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===jl?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(t=jl){return this.component?this.component.multipleInstances?t:jl:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gde{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new hde(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const vS=[];var dt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(dt||{});const KH={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},mde=dt.INFO,_de={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},vde=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=_de[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class yS{constructor(t){this.name=t,this._logLevel=mde,this._logHandler=vde,this._userLogHandler=null,vS.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?KH[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...t),this._logHandler(this,dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...t),this._logHandler(this,dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...t),this._logHandler(this,dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...t),this._logHandler(this,dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...t),this._logHandler(this,dt.ERROR,...t)}}const yde=(n,t)=>t.some(e=>n instanceof e);let XH,QH;const ZH=new WeakMap,bS=new WeakMap,JH=new WeakMap,xS=new WeakMap,TS=new WeakMap;let CS={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return bS.get(n);if("objectStoreNames"===t)return n.objectStoreNames||JH.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return La(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function Dde(n){return"function"==typeof n?function Sde(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xde(){return QH||(QH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(wS(this),t),La(ZH.get(this))}:function(...t){return La(n.apply(wS(this),t))}:function(t,...e){const i=n.call(wS(this),t,...e);return JH.set(i,t.sort?t.sort():[t]),La(i)}}(n):(n instanceof IDBTransaction&&function Cde(n){if(bS.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});bS.set(n,t)}(n),yde(n,function bde(){return XH||(XH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,CS):n)}function La(n){if(n instanceof IDBRequest)return function Tde(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(La(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&ZH.set(e,n)}).catch(()=>{}),TS.set(t,n),t}(n);if(xS.has(n))return xS.get(n);const t=Dde(n);return t!==n&&(xS.set(n,t),TS.set(t,n)),t}const wS=n=>TS.get(n),Ade=["get","getKey","getAll","getAllKeys","count"],Ide=["put","add","delete","clear"],SS=new Map;function e$(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(SS.get(t))return SS.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Ide.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Ade.includes(e))return;const s=function(){var o=S(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[e](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return SS.set(t,s),s}!function wde(n){CS=n(CS)}(n=>({...n,get:(t,e,i)=>e$(t,e)||n.get(t,e,i),has:(t,e)=>!!e$(t,e)||n.has(t,e)}));class kde{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function Mde(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const DS="@firebase/app",Wl=new yS("@firebase/app"),wy="[DEFAULT]",ihe={[DS]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ql=new Map,Sy=new Map;function rhe(n,t){try{n.container.addComponent(t)}catch(e){Wl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function ad(n){const t=n.name;if(Sy.has(t))return Wl.debug(`There were multiple attempts to register component ${t}.`),!1;Sy.set(t,n);for(const e of ql.values())rhe(e,n);return!0}const Uo=new _p("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ohe{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Uo.create("app-deleted",{appName:this._name})}}const Dy="10.7.1";function i$(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:wy,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw Uo.create("bad-app-name",{appName:String(r)});if(e||(e=zH()),!e)throw Uo.create("no-options");const s=ql.get(r);if(s){if(gS(e,s.options)&&gS(i,s.config))return s;throw Uo.create("duplicate-app",{appName:r})}const o=new gde(r);for(const l of Sy.values())o.addComponent(l);const a=new ohe(e,i,o);return ql.set(r,a),a}function r$(n=wy){const t=ql.get(n);if(!t&&n===wy&&zH())return i$();if(!t)throw Uo.create("no-app",{appName:n});return t}function s$(){return Array.from(ql.values())}function as(n,t,e){var i;let r=null!==(i=ihe[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Wl.warn(a.join(" "))}ad(new zl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const ahe="firebase-heartbeat-database",lhe=1,vp="firebase-heartbeat-store";let AS=null;function o$(){return AS||(AS=function Ede(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),a=La(o);return i&&o.addEventListener("upgradeneeded",l=>{i(La(o.result),l.oldVersion,l.newVersion,La(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(ahe,lhe,{upgrade:(n,t)=>{0===t&&n.createObjectStore(vp)}}).catch(n=>{throw Uo.create("idb-open",{originalErrorMessage:n.message})})),AS}function IS(){return(IS=S(function*(n){try{return yield(yield o$()).transaction(vp).objectStore(vp).get(l$(n))}catch(t){if(t instanceof Oa)Wl.warn(t.message);else{const e=Uo.create("idb-get",{originalErrorMessage:t?.message});Wl.warn(e.message)}}})).apply(this,arguments)}function a$(n,t){return kS.apply(this,arguments)}function kS(){return(kS=S(function*(n,t){try{const i=(yield o$()).transaction(vp,"readwrite");yield i.objectStore(vp).put(t,l$(n)),yield i.done}catch(e){if(e instanceof Oa)Wl.warn(e.message);else{const i=Uo.create("idb-set",{originalErrorMessage:e?.message});Wl.warn(i.message)}}})).apply(this,arguments)}function l$(n){return`${n.name}!${n.options.appId}`}class hhe{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new phe(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return S(function*(){var e,i;const s=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=c$();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==o&&!t._heartbeatsCache.heartbeats.some(a=>a.date===o))return t._heartbeatsCache.heartbeats.push({date:o,agent:s}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return S(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=c$(),{heartbeatsToSend:r,unsentEntries:s}=function fhe(n,t=1024){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),u$(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),u$(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),o=by(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(t._heartbeatsCache.heartbeats=s,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function c$(){return(new Date).toISOString().substring(0,10)}class phe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(function*(){return!!function Jue(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function ede(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return S(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function che(n){return IS.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return S(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return a$(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return S(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return a$(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}})()}}function u$(n){return by(JSON.stringify({version:2,heartbeats:n})).length}!function ghe(n){ad(new zl("platform-logger",t=>new kde(t),"PRIVATE")),ad(new zl("heartbeat",t=>new hhe(t),"PRIVATE")),as(DS,"0.9.25",n),as(DS,"0.9.25","esm2017"),as("fire-js","")}(""),as("firebase","10.7.1","app");class vhe extends Oe{constructor(t,e){super()}schedule(t,e=0){return this}}const Ey={setInterval(n,t,...e){const{delegate:i}=Ey;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Ey;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class Ay extends vhe{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return Ey.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Ey.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Tn(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const d$={now:()=>(d$.delegate||Date).now(),delegate:void 0};class yp{constructor(t,e=yp.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}yp.now=d$.now;class Iy extends yp{constructor(t,e=yp.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const xhe=new class bhe extends Iy{}(class yhe extends Ay{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),ld=new Iy(Ay),The=ld,MS=new Eu("ANGULARFIRE2_VERSION");const RS=(n,t)=>{const e=t?[t]:s$(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};class Che{constructor(){return RS(whe)}}const whe="app-check";function cd(){}class f${zone;delegate;constructor(t,e=xhe){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class She{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cd,{},cd,cd)),e.pipe(Wn({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let p$=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new f$(Zone.current)),this.insideAngular=e.run(()=>new f$(Zone.current,ld)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(P(Ae))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ud(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Yl(n){return ud().ngZone.run(()=>n())}function Ehe(n){return function Ahe(n){return function(e){return(e=e.lift(new She(n.ngZone))).pipe(Xm(n.outsideAngular),Km(n.insideAngular))}}(ud())(n)}const Ihe=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Yl(()=>n.apply(void 0,i))},Fa=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||=Yl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cd,{},cd,cd))),i[s]=Ihe(i[s],e));const r=function Dhe(n){return ud().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof ut){const s=ud();return r.pipe(Xm(s.outsideAngular),Km(s.insideAngular))}return Yl(()=>r)}return r instanceof ut?r.pipe(Ehe):r instanceof Promise?Yl(()=>new Promise((s,o)=>r.then(a=>Yl(()=>s(a)),a=>Yl(()=>o(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:Yl(()=>r)};class bp{constructor(t){return t}}class g${constructor(){return s$()}}const NS=new X("angularfire2._apps"),Mhe={provide:bp,useFactory:function khe(n){return n&&1===n.length?n[0]:new bp(r$())},deps:[[new ts,NS]]},Rhe={provide:g$,deps:[[new ts,NS]]};function Nhe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new bp(i)}}let Phe=(()=>{class n{constructor(e){as("angularfire",MS.full,"core"),as("angularfire",MS.full,"app"),as("angular",ZO.full,e.toString())}static \u0275fac=function(i){return new(i||n)(P(hi))};static \u0275mod=Te({type:n});static \u0275inj=be({providers:[Mhe,Rhe]})}return n})();function Ohe(n,...t){return{ngModule:Phe,providers:[{provide:NS,useFactory:Nhe(n),multi:!0,deps:[Ae,mn,p$,...t]}]}}const Lhe=Fa(i$,!0);const Fhe=function m$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_$=new _p("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ky=new yS("@firebase/auth");function My(n,...t){ky.logLevel<=dt.ERROR&&ky.error(`Auth (${Dy}): ${n}`,...t)}function yr(n,...t){throw PS(n,...t)}function eo(n,...t){return PS(n,...t)}function PS(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return _$.create(n,...t)}function re(n,t,...e){if(!n)throw PS(t,...e)}function to(n){const t="INTERNAL ASSERTION FAILED: "+n;throw My(t),new Error(t)}function Va(n,t){n||to(t)}function y$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function Bhe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function OS(){return"http:"===y$()||"https:"===y$()}()||function Que(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Tp{constructor(t,e){this.shortDelay=t,this.longDelay=e,Va(e>t,"Short delay should be less than long delay!"),this.isMobile=function Kue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vr())}()||function Zue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Bhe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class b${static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void to("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void to("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void to("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Uhe=new Tp(3e4,6e4);function tn(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function nn(n,t,e,i){return FS.apply(this,arguments)}function FS(){return(FS=S(function*(n,t,e,i,r={}){return x$(n,r,S(function*(){let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=YH(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),b$.fetch()(T$(n,n.config.apiHost,e,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function x$(n,t,e){return VS.apply(this,arguments)}function VS(){return(VS=S(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},$he),t);try{const r=new zhe(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Cp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Cp(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Cp(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Cp(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function v$(n,t,e){const i=Object.assign(Object.assign({},Fhe()),{[t]:e});return new _p("auth","Firebase",i).create(t,{appName:n.name})}(n,u,c);yr(n,u)}}catch(r){if(r instanceof Oa)throw r;yr(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function T$(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?function LS(n,t){Va(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}(n.config,r):`${n.config.apiScheme}://${r}`}class zhe{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(eo(this.auth,"network-request-failed")),Uhe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cp(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=eo(n,t,i);return r.customData._tokenResponse=e,r}function US(){return(US=S(function*(n,t){return nn(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function zS(){return(zS=S(function*(n,t){return nn(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function wp(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function jS(){return(jS=S(function*(n,t=!1){const e=os(n),i=yield e.getIdToken(t),r=Ry(i);re(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:wp(WS(r.auth_time)),issuedAtTime:wp(WS(r.iat)),expirationTime:wp(WS(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function WS(n){return 1e3*Number(n)}function Ry(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return My("JWT malformed, contained fewer than 3 sections"),null;try{const r=xy(e);return r?JSON.parse(r):(My("Failed to decode base64 JWT payload"),null)}catch(r){return My("Caught error parsing JWT payload as JSON",r?.toString()),null}}function zo(n,t){return qS.apply(this,arguments)}function qS(){return(qS=S(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof Oa&&function Qhe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Zhe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(S(function*(){yield e.iteration()}),i)}iteration(){var t=this;return S(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class E${constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=wp(this.lastLoginAt),this.creationTime=wp(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sp(n){return YS.apply(this,arguments)}function YS(){return YS=S(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield zo(n,function Yhe(n,t){return zS.apply(this,arguments)}(e,{idToken:i}));re(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?function tfe(n){return n.map(t=>{var{providerId:e}=t,i=gl(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(s.providerUserInfo):[],a=function efe(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new E$(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),YS.apply(this,arguments)}function KS(){return(KS=S(function*(n){const t=os(n);yield Sp(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function XS(){return(XS=S(function*(n,t){const e=yield x$(n,{},S(function*(){const i=YH({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=T$(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",b$.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function QS(){return(QS=S(function*(n,t){return nn(n,"POST","/v2/accounts:revokeToken",tn(n,t))})).apply(this,arguments)}class Dp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){re(t.idToken,"internal-error"),re(typeof t.idToken<"u","internal-error"),re(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function Xhe(n){const t=Ry(n);return re(t,"internal-error"),re(typeof t.exp<"u","internal-error"),re(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return S(function*(){return re(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return S(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function nfe(n,t){return XS.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new Dp;return i&&(re("string"==typeof i,"internal-error",{appName:t}),o.refreshToken=i),r&&(re("string"==typeof r,"internal-error",{appName:t}),o.accessToken=r),s&&(re("number"==typeof s,"internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Dp,this.toJSON())}_performRefresh(){return to("not implemented")}}function Ba(n,t){re("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class Kl{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=gl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zhe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new E$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var e=this;return S(function*(){const i=yield zo(e,e.stsTokenManager.getToken(e.auth,t));return re(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function Khe(n){return jS.apply(this,arguments)}(this,t)}reload(){return function Jhe(n){return KS.apply(this,arguments)}(this)}_assign(t){this!==t&&(re(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Kl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return S(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield Sp(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return S(function*(){const e=yield t.getIdToken();return yield zo(t,function Whe(n,t){return US.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,a,l,c,u;const d=null!==(i=e.displayName)&&void 0!==i?i:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,f=null!==(s=e.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=e.photoURL)&&void 0!==o?o:void 0,m=null!==(a=e.tenantId)&&void 0!==a?a:void 0,g=null!==(l=e._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=e.createdAt)&&void 0!==c?c:void 0,_=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:C,isAnonymous:M,providerData:R,stsTokenManager:W}=e;re(b&&W,t,"internal-error");const J=Dp.fromJSON(this.name,W);re("string"==typeof b,t,"internal-error"),Ba(d,t.name),Ba(h,t.name),re("boolean"==typeof C,t,"internal-error"),re("boolean"==typeof M,t,"internal-error"),Ba(f,t.name),Ba(p,t.name),Ba(m,t.name),Ba(g,t.name),Ba(v,t.name),Ba(_,t.name);const De=new Kl({uid:b,auth:t,email:h,emailVerified:C,displayName:d,isAnonymous:M,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:J,createdAt:v,lastLoginAt:_});return R&&Array.isArray(R)&&(De.providerData=R.map(me=>Object.assign({},me))),g&&(De._redirectEventId=g),De}static _fromIdTokenResponse(t,e,i=!1){return S(function*(){const r=new Dp;r.updateFromServerResponse(e);const s=new Kl({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield Sp(s),s})()}}const A$=new Map;function jo(n){Va(n instanceof Function,"Expected a class definition");let t=A$.get(n);return t?(Va(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,A$.set(n,t),t)}const I$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(function*(){return!0})()}_set(e,i){var r=this;return S(function*(){r.storage[e]=i})()}_get(e){var i=this;return S(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return S(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function Ny(n,t,e){return`firebase:${n}:${t}:${e}`}class hd{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Ny(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ny("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return S(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?Kl._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return S(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return S(function*(){if(!e.length)return new hd(jo(I$),t,i);const r=(yield Promise.all(e.map(function(){var c=S(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||jo(I$);const o=Ny(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const u=yield c._get(o);if(u){const d=Kl._fromJSON(t,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var c=S(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new hd(s,t,i)):new hd(s,t,i)})()}}function k$(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function N$(n=Vr()){return/iemobile/i.test(n)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function M$(n=Vr()){return/firefox\//i.test(n)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function O$(n=Vr()){return/blackberry/i.test(n)}(t))return"Blackberry";if(function L$(n=Vr()){return/webos/i.test(n)}(t))return"Webos";if(function ZS(n=Vr()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function R$(n=Vr()){return/crios\//i.test(n)}(t))&&!t.includes("edge/"))return"Chrome";if(function P$(n=Vr()){return/android/i.test(n)}(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function F$(n,t=[]){let e;switch(n){case"Browser":e=k$(Vr());break;case"Worker":e=`${k$(Vr())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Dy}/${i}`}class ofe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,a)=>{try{o(t(s))}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return S(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function JS(){return(JS=S(function*(n,t={}){return nn(n,"GET","/v2/passwordPolicy",tn(n,t))})).apply(this,arguments)}class cfe{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=o.minPasswordLength)&&void 0!==e?e:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=t.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=null===(e=l.meetsMinPasswordLength)||void 0===e||e),l.isValid&&(l.isValid=null===(i=l.meetsMaxPasswordLength)||void 0===i||i),l.isValid&&(l.isValid=null===(r=l.containsLowercaseLetter)||void 0===r||r),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}class ufe{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V$(this),this.idTokenSubscription=new V$(this),this.beforeStateQueue=new ofe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=jo(e)),this._initializationPromise=this.queue(S(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield hd.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return S(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return S(function*(){var i;const r=yield e.assertedPersistence.getCurrentUser();let s=r,o=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const a=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,l=s?._redirectEventId,c=yield e.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return e.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield e.beforeStateQueue.runMiddleware(s)}catch(a){s=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(a))}return s?e.reloadAndSetCurrentUserOrClear(s):e.directlySetCurrentUser(null)}return re(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===s._redirectEventId?e.directlySetCurrentUser(s):e.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(t){var e=this;return S(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return S(function*(){try{yield Sp(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function Hhe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return S(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return S(function*(){const i=t?os(t):null;return i&&re(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return S(function*(){if(!i._deleted)return t&&re(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue(S(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return S(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue(S(function*(){yield e.assertedPersistence.setPersistence(jo(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return S(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return S(function*(){const e=yield function afe(n){return JS.apply(this,arguments)}(t),i=new cfe(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new _p("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){var e=this;return S(function*(){if(e.currentUser){const i=yield e.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};null!=e.tenantId&&(r.tenantId=e.tenantId),yield function ife(n,t){return QS.apply(this,arguments)}(e,r)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return S(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return S(function*(){if(!e.redirectPersistenceManager){const i=t&&jo(t)||e._popupRedirectResolver;re(i,e,"argument-error"),e.redirectPersistenceManager=yield hd.create(e,[jo(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return S(function*(){var i,r;return e._isInitialized&&(yield e.queue(S(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return S(function*(){if(t===e.currentUser)return e.queue(S(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s="function"==typeof e?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof e){const l=t.addObserver(e,i,r);return()=>{o=!0,l()}}{const l=t.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(t){var e=this;return S(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=F$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return S(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield t._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var t=this;return S(function*(){var e;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function Vhe(n,...t){ky.logLevel<=dt.WARN&&ky.warn(`Auth (${Dy}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class V${constructor(t){this.auth=t,this.observer=null,this.addObserver=function rde(n,t){const e=new sde(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function B$(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Tp(3e4,6e4),new Tp(2e3,1e4),new Tp(3e4,6e4),new Tp(5e3,15e3),encodeURIComponent("fac");var mU="@firebase/auth";class hge{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return S(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Ty(),function pge(n){ad(new zl("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F$(n)},c=new ufe(i,r,s,l);return function _fe(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(jo);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),ad(new zl("auth-internal",t=>{const e=function On(n){return os(n)}(t.getProvider("auth").getImmediate());return new hge(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(mU,"1.5.1",function fge(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),as(mU,"1.5.1","esm2017")}("Browser");class bU{constructor(){return RS("auth")}}var le,xge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ds={},jE=jE||{},$e=xge||self;function Wy(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Rp(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var WE="closure_uid_"+(1e9*Math.random()>>>0),Cge=0;function wge(n,t,e){return n.call.apply(n.bind,arguments)}function Sge(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function $i(n,t,e){return($i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wge:Sge).apply(null,arguments)}function qy(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function gi(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function Ha(){this.s=this.s,this.o=this.o}Ha.prototype.s=!1,Ha.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Tge(n){Object.prototype.hasOwnProperty.call(n,WE)&&n[WE]||(n[WE]=++Cge)}(this)},Ha.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xU=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function qE(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function TU(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Wy(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Ui(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Ui.prototype.h=function(){this.defaultPrevented=!0};var Ege=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const e=()=>{};$e.addEventListener("test",e,t),$e.removeEventListener("test",e,t)}catch{}return n}();function Np(n){return/^[\s\xa0]*$/.test(n)}function Yy(){var n=$e.navigator;return n&&(n=n.userAgent)?n:""}function no(n){return-1!=Yy().indexOf(n)}function YE(n){return YE[" "](n),n}YE[" "]=function(){};var XE,Ige=no("Opera"),fd=no("Trident")||no("MSIE"),CU=no("Edge"),KE=CU||fd,wU=no("Gecko")&&!(-1!=Yy().toLowerCase().indexOf("webkit")&&!no("Edge"))&&!(no("Trident")||no("MSIE"))&&!no("Edge"),kge=-1!=Yy().toLowerCase().indexOf("webkit")&&!no("Edge");function SU(){var n=$e.document;return n?n.documentMode:void 0}e:{var QE="",ZE=function(){var n=Yy();return wU?/rv:([^\);]+)(\)|;)/.exec(n):CU?/Edge\/([\d\.]+)/.exec(n):fd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kge?/WebKit\/(\S+)/.exec(n):Ige?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(ZE&&(QE=ZE?ZE[1]:""),fd){var JE=SU();if(null!=JE&&JE>parseFloat(QE)){XE=String(JE);break e}}XE=QE}var Mge=$e.document&&fd&&(SU()||parseInt(XE,10))||void 0;function Pp(n,t){if(Ui.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(wU){e:{try{YE(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Rge[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pp.$.h.call(this)}}gi(Pp,Ui);var Rge={2:"touch",3:"pen",4:"mouse"};Pp.prototype.h=function(){Pp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Op="closure_listenable_"+(1e6*Math.random()|0),Nge=0;function Pge(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++Nge,this.fa=this.ia=!1}function Ky(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function tA(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function EU(n){const t={};for(const e in n)t[e]=n[e];return t}const AU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IU(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<AU.length;s++)e=AU[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Xy(n){this.src=n,this.g={},this.h=0}function nA(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=xU(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Ky(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function iA(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}Xy.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=iA(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new Pge(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var rA="closure_lm_"+(1e6*Math.random()|0),sA={};function kU(n,t,e,i,r){if(i&&i.once)return RU(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)kU(n,t[s],e,i,r);return null}return e=cA(e),n&&n[Op]?n.O(t,e,Rp(i)?!!i.capture:!!i,r):MU(n,t,e,!1,i,r)}function MU(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=Rp(r)?!!r.capture:!!r,a=aA(n);if(a||(n[rA]=a=new Xy(n)),(e=a.add(t,e,i,o,s)).proxy)return e;if(i=function Lge(){const t=Fge;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Ege||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(PU(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function RU(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)RU(n,t[s],e,i,r);return null}return e=cA(e),n&&n[Op]?n.P(t,e,Rp(i)?!!i.capture:!!i,r):MU(n,t,e,!0,i,r)}function NU(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)NU(n,t[s],e,i,r);else i=Rp(i)?!!i.capture:!!i,e=cA(e),n&&n[Op]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=iA(s=n.g[t],e,i,r))&&(Ky(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=aA(n))&&(t=n.g[t.toString()],n=-1,t&&(n=iA(t,e,i,r)),(e=-1<n?t[n]:null)&&oA(e))}function oA(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Op])nA(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(PU(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=aA(t))?(nA(e,n),0==e.h&&(e.src=null,t[rA]=null)):Ky(n)}}}function PU(n){return n in sA?sA[n]:sA[n]="on"+n}function Fge(n,t){if(n.fa)n=!0;else{t=new Pp(t,this);var e=n.listener,i=n.la||n.src;n.ia&&oA(n),n=e.call(i,t)}return n}function aA(n){return(n=n[rA])instanceof Xy?n:null}var lA="__closure_events_fn_"+(1e9*Math.random()>>>0);function cA(n){return"function"==typeof n?n:(n[lA]||(n[lA]=function(t){return n.handleEvent(t)}),n[lA])}function mi(){Ha.call(this),this.i=new Xy(this),this.S=this,this.J=null}function Mi(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Ui(t,n);else if(t instanceof Ui)t.target=t.target||n;else{var r=t;IU(t=new Ui(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=Qy(o,i,!0,t)&&r}if(r=Qy(o=t.g=n,i,!0,t)&&r,r=Qy(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Qy(o=t.g=e[s],i,!1,t)&&r}function Qy(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var a=o.listener,l=o.la||o.src;o.ia&&nA(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}gi(mi,Ha),mi.prototype[Op]=!0,mi.prototype.removeEventListener=function(n,t,e,i){NU(this,n,t,e,i)},mi.prototype.N=function(){if(mi.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Ky(e[i]);delete n.g[t],n.h--}}this.J=null},mi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},mi.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var uA=$e.JSON.stringify;function Bge(){var n=dA;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var OU=new class Vge{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new $ge,n=>n.reset());class $ge{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Uge(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Gge(n){$e.setTimeout(()=>{throw n},0)}let Lp,Fp=!1,dA=new class Hge{constructor(){this.h=this.g=null}add(t,e){const i=OU.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},LU=()=>{const n=$e.Promise.resolve(void 0);Lp=()=>{n.then(zge)}};var zge=()=>{for(var n;n=Bge();){try{n.h.call(n.g)}catch(e){Gge(e)}var t=OU;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Fp=!1};function Zy(n,t){mi.call(this),this.h=n||1,this.g=t||$e,this.j=$i(this.qb,this),this.l=Date.now()}function hA(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function fA(n,t,e){if("function"==typeof n)e&&(n=$i(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=$i(n.handleEvent,n)}return 2147483647<Number(t)?-1:$e.setTimeout(n,t||0)}function FU(n){n.g=fA(()=>{n.g=null,n.i&&(n.i=!1,FU(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}gi(Zy,mi),(le=Zy.prototype).ga=!1,le.T=null,le.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mi(this,"tick"),this.ga&&(hA(this),this.start()))}},le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.N=function(){Zy.$.N.call(this),hA(this),delete this.g};class jge extends Ha{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:FU(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vp(n){Ha.call(this),this.h=n,this.g={}}gi(Vp,Ha);var VU=[];function BU(n,t,e,i){Array.isArray(e)||(e&&(VU[0]=e.toString()),e=VU);for(var r=0;r<e.length;r++){var s=kU(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function HU(n){tA(n.g,function(t,e){this.g.hasOwnProperty(e)&&oA(t)},n),n.g={}}function Jy(){this.g=!0}function pd(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Kge(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return uA(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Vp.prototype.N=function(){Vp.$.N.call(this),HU(this)},Vp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jy.prototype.Ea=function(){this.g=!1},Jy.prototype.info=function(){};var Jl={},$U=null;function e0(){return $U=$U||new mi}function UU(n){Ui.call(this,Jl.Ta,n)}function Bp(n){const t=e0();Mi(t,new UU(t))}function GU(n,t){Ui.call(this,Jl.STAT_EVENT,n),this.stat=t}function sr(n){const t=e0();Mi(t,new GU(t,n))}function zU(n,t){Ui.call(this,Jl.Ua,n),this.size=t}function Hp(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){n()},t)}Jl.Ta="serverreachability",gi(UU,Ui),Jl.STAT_EVENT="statevent",gi(GU,Ui),Jl.Ua="timingevent",gi(zU,Ui);var t0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function pA(){}function qU(){}pA.prototype.h=null;var _A,$p={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gA(){Ui.call(this,"d")}function mA(){Ui.call(this,"c")}function n0(){}function Up(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Vp(this),this.P=Xge,this.V=new Zy(n=KE?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new YU}function YU(){this.i=null,this.g="",this.h=!1}gi(gA,Ui),gi(mA,Ui),gi(n0,pA),n0.prototype.g=function(){return new XMLHttpRequest},n0.prototype.i=function(){return{}},_A=new n0;var Xge=45e3,KU={},vA={};function yA(n,t,e){n.L=1,n.A=a0(qo(t)),n.u=e,n.S=!0,XU(n,null)}function XU(n,t){n.G=Date.now(),Gp(n),n.B=qo(n.A);var e=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),oG(e.i,"t",i),n.o=0,e=n.l.J,n.h=new YU,n.g=kG(n.l,e?t:null,!n.u),0<n.O&&(n.M=new jge($i(n.Pa,n,n.g),n.O)),BU(n.U,n.g,"readystatechange",n.nb),t=n.I?EU(n.I):{},n.u?(n.v||(n.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,t)):(n.v="GET",n.g.ha(n.B,n.v,null,t)),Bp(),function Wge(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function QU(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function ZU(n,t,e){let r,i=!0;for(;!n.J&&n.o<e.length;){if(r=Qge(n,e),r==vA){4==t&&(n.s=4,sr(14),i=!1),pd(n.j,n.m,null,"[Incomplete Response]");break}if(r==KU){n.s=4,sr(15),pd(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}pd(n.j,n.m,r,null),bA(n,r)}QU(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=t||0!=e.length||n.h.h||(n.s=1,sr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),EA(t),t.M=!0,sr(11))):(pd(n.j,n.m,e,"[Invalid Chunked Response]"),ec(n),zp(n))}function Qge(n,t){var e=n.o,i=t.indexOf("\n",e);return-1==i?vA:(e=Number(t.substring(e,i)),isNaN(e)?KU:(i+=1)+e>t.length?vA:(t=t.slice(i,i+e),n.o=i+e,t))}function Gp(n){n.Y=Date.now()+n.P,JU(n,n.P)}function JU(n,t){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Hp($i(n.lb,n),t)}function r0(n){n.C&&($e.clearTimeout(n.C),n.C=null)}function zp(n){0==n.l.H||n.J||DG(n.l,n)}function ec(n){r0(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,hA(n.V),HU(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function bA(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||xA(e.i,n)))if(!n.K&&xA(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;f0(e),d0(e)}DA(e),sr(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Hp($i(e.ib,e),6e3));if(1>=cG(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else nc(e,11)}else if((n.K||e.g==n)&&f0(e),!Np(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const u=c[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const d=c[4];null!=d&&(e.Ga=d,e.l.info("SVER="+e.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(e.L=i=1.5*h,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(TA(s,s.h),s.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,rn(i.I,i.F,m))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=IG(i,i.J?i.pa:null,i.Y),o.K){uG(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(r0(a),Gp(a)),i.g=o}else wG(i);0<e.j.length&&h0(e)}else"stop"!=c[0]&&"close"!=c[0]||nc(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?nc(e,7):SA(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}Bp()}catch{}}function eG(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Wy(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function Jge(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wy(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function Zge(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wy(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(le=Up.prototype).setTimeout=function(n){this.P=n},le.nb=function(n){n=n.target;const t=this.M;t&&3==io(n)?t.l():this.Pa(n)},le.Pa=function(n){try{if(n==this.g)e:{const u=io(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||KE||this.g&&(this.h.h||this.g.ja()||vG(this.g)))){this.J||4!=u||7==t||Bp(),r0(this);var e=this.g.da();this.ca=e;t:if(QU(this)){var i=vG(this.g);n="";var r=i.length,s=4==io(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ec(this),zp(this);var o="";break t}this.h.i=new $e.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function qge(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Np(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.s=3,sr(12),ec(this),zp(this);break e}pd(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bA(this,e)}this.S?(ZU(this,u,o),KE&&this.i&&3==u&&(BU(this.U,this.V,"tick",this.mb),this.V.start())):(pd(this.j,this.m,o,null),bA(this,o)),4==u&&ec(this),this.i&&!this.J&&(4==u?DG(this.l,this):(this.i=!1,Gp(this)))}else(function _me(n){const t={};n=(n.g&&2<=io(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Np(n[i]))continue;var e=Uge(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function Oge(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.s=3,sr(12)):(this.s=0,sr(13)),ec(this),zp(this)}}}catch{}},le.mb=function(){if(this.g){var n=io(this.g),t=this.g.ja();this.o<t.length&&(r0(this),ZU(this,n,t),this.i&&4!=n&&Gp(this))}},le.cancel=function(){this.J=!0,ec(this)},le.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function Yge(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(Bp(),sr(17)),ec(this),this.s=2,zp(this)):JU(this,this.Y-n)};var tG=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tc){this.h=n.h,s0(this,n.j),this.s=n.s,this.g=n.g,o0(this,n.m),this.l=n.l;var t=n.i,e=new qp;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),nG(this,e),this.o=n.o}else n&&(t=String(n).match(tG))?(this.h=!1,s0(this,t[1]||"",!0),this.s=jp(t[2]||""),this.g=jp(t[3]||"",!0),o0(this,t[4]),this.l=jp(t[5]||"",!0),nG(this,t[6]||"",!0),this.o=jp(t[7]||"")):(this.h=!1,this.i=new qp(null,this.h))}function qo(n){return new tc(n)}function s0(n,t,e){n.j=e?jp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function o0(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function nG(n,t,e){t instanceof qp?(n.i=t,function ome(n,t){t&&!n.j&&($a(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(rG(this,i),oG(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Wp(t,rme)),n.i=new qp(t,n.h))}function rn(n,t,e){n.i.set(t,e)}function a0(n){return rn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function jp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,tme),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tme(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tc.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Wp(t,iG,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Wp(t,iG,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Wp(e,"/"==e.charAt(0)?ime:nme,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Wp(e,sme)),n.join("")};var iG=/[#\/\?@]/g,nme=/[#\?:]/g,ime=/[#\?]/g,rme=/[#\?@]/g,sme=/#/g;function qp(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function $a(n){n.g||(n.g=new Map,n.h=0,n.i&&function eme(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function rG(n,t){$a(n),t=gd(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function sG(n,t){return $a(n),t=gd(n,t),n.g.has(t)}function oG(n,t,e){rG(n,t),0<e.length&&(n.i=null,n.g.set(gd(n,t),qE(e)),n.h+=e.length)}function gd(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function aG(n){this.l=n||lme,n=$e.PerformanceNavigationTiming?0<(n=$e.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(le=qp.prototype).add=function(n,t){$a(this),this.i=null,n=gd(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},le.forEach=function(n,t){$a(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},le.ta=function(){$a(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},le.Z=function(n){$a(this);let t=[];if("string"==typeof n)sG(this,n)&&(t=t.concat(this.g.get(gd(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},le.set=function(n,t){return $a(this),this.i=null,sG(this,n=gd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},le.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var lme=10;function lG(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cG(n){return n.h?1:n.g?n.g.size:0}function xA(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function TA(n,t){n.g?n.g.add(t):n.h=t}function uG(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function dG(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return qE(n.i)}aG.prototype.cancel=function(){if(this.i=dG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var cme=class{stringify(n){return $e.JSON.stringify(n,void 0)}parse(n){return $e.JSON.parse(n,void 0)}};function ume(){this.g=new cme}function dme(n,t,e){const i=e||"";try{eG(n,function(r,s){let o=r;Rp(r)&&(o=uA(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function l0(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Yp(n){this.l=n.ec||null,this.j=n.ob||!1}function c0(n,t){mi.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=CA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gi(Yp,pA),Yp.prototype.g=function(){return new c0(this.l,this.j)},Yp.prototype.i=function(n){return function(){return n}}({}),gi(c0,mi);var CA=0;function hG(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Kp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Xp(n)}function Xp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(le=c0.prototype).open=function(n,t){if(this.readyState!=CA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Xp(this)},le.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||$e).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kp(this)),this.readyState=CA},le.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Xp(this)),this.g&&(this.readyState=3,Xp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hG(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},le.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Kp(this):Xp(this),3==this.readyState&&hG(this)}},le.Za=function(n){this.g&&(this.response=this.responseText=n,Kp(this))},le.Ya=function(n){this.g&&(this.response=n,Kp(this))},le.ka=function(){this.g&&Kp(this)},le.setRequestHeader=function(n,t){this.v.append(n,t)},le.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(c0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fme=$e.JSON.parse;function Dn(n){mi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fG,this.L=this.M=!1}gi(Dn,mi);var fG="",pme=/^https?$/i,gme=["POST","PUT"];function pG(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,gG(n),u0(n)}function gG(n){n.F||(n.F=!0,Mi(n,"complete"),Mi(n,"error"))}function mG(n){if(n.h&&typeof jE<"u"&&(!n.C[1]||4!=io(n)||2!=n.da()))if(n.v&&4==io(n))fA(n.La,0,n);else if(Mi(n,"readystatechange"),4==io(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match(tG)[1]||null;!r&&$e.self&&$e.self.location&&(r=$e.self.location.protocol.slice(0,-1)),i=!pme.test(r?r.toLowerCase():"")}e=i}if(e)Mi(n,"complete"),Mi(n,"success");else{n.m=6;try{var s=2<io(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",gG(n)}}finally{u0(n)}}}function u0(n,t){if(n.g){_G(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Mi(n,"ready");try{e.onreadystatechange=i}catch{}}}function _G(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&($e.clearTimeout(n.A),n.A=null)}function io(n){return n.g?n.g.readyState:0}function vG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case fG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function yG(n){let t="";return tA(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function wA(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=yG(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):rn(n,t,e))}function Qp(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function bG(n){this.Ga=0,this.j=[],this.l=new Jy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qp("baseRetryDelayMs",5e3,n),this.hb=Qp("retryDelaySeedMs",1e4,n),this.eb=Qp("forwardChannelMaxRetries",2,n),this.xa=Qp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new aG(n&&n.concurrentRequestLimit),this.Ja=new ume,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function SA(n){if(xG(n),3==n.H){var t=n.W++,e=qo(n.I);if(rn(e,"SID",n.K),rn(e,"RID",t),rn(e,"TYPE","terminate"),Zp(n,e),(t=new Up(n,n.l,t)).L=2,t.A=a0(qo(e)),e=!1,$e.navigator&&$e.navigator.sendBeacon)try{e=$e.navigator.sendBeacon(t.A.toString(),"")}catch{}!e&&$e.Image&&((new Image).src=t.A,e=!0),e||(t.g=kG(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Gp(t)}AG(n)}function d0(n){n.g&&(EA(n),n.g.cancel(),n.g=null)}function xG(n){d0(n),n.u&&($e.clearTimeout(n.u),n.u=null),f0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$e.clearTimeout(n.m),n.m=null)}function h0(n){if(!lG(n.i)&&!n.m){n.m=!0;var t=n.Na;Lp||LU(),Fp||(Lp(),Fp=!0),dA.add(t,n),n.C=0}}function TG(n,t){var e;e=t?t.m:n.W++;const i=qo(n.I);rn(i,"SID",n.K),rn(i,"RID",e),rn(i,"AID",n.V),Zp(n,i),n.o&&n.s&&wA(i,n.o,n.s),e=new Up(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=CG(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),TA(n.i,e),yA(e,i,t)}function Zp(n,t){n.na&&tA(n.na,function(e,i){rn(t,i,e)}),n.h&&eG({},function(e,i){rn(t,i,e)})}function CG(n,t,e){e=Math.min(n.j.length,e);var i=n.h?$i(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{dme(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function wG(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Lp||LU(),Fp||(Lp(),Fp=!0),dA.add(t,n),n.A=0}}function DA(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Hp($i(n.Ma,n),EG(n,n.A)),n.A++,0))}function EA(n){null!=n.B&&($e.clearTimeout(n.B),n.B=null)}function SG(n){n.g=new Up(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=qo(n.wa);rn(t,"RID","rpc"),rn(t,"SID",n.K),rn(t,"AID",n.V),rn(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&rn(t,"TO",n.qa),rn(t,"TYPE","xmlhttp"),Zp(n,t),n.o&&n.s&&wA(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.A=a0(qo(t)),e.u=null,e.S=!0,XU(e,n)}function f0(n){null!=n.v&&($e.clearTimeout(n.v),n.v=null)}function DG(n,t){var e=null;if(n.g==t){f0(n),EA(n),n.g=null;var i=2}else{if(!xA(n.i,t))return;e=t.F,uG(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.u?t.u.length:0,t=Date.now()-t.G;var r=n.C;Mi(i=e0(),new zU(i,e)),h0(n)}else wG(n);else if(3==(r=t.s)||0==r&&0<t.ca||!(1==i&&function vme(n,t){return!(cG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Hp($i(n.Na,n,t),EG(n,n.C)),n.C++,0)))}(n,t)||2==i&&DA(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:nc(n,5);break;case 4:nc(n,10);break;case 3:nc(n,6);break;default:nc(n,2)}}function EG(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function nc(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=$i(n.pb,n);e||(e=new tc("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||s0(e,"https"),a0(e)),function hme(n,t){const e=new Jy;if($e.Image){const i=new Image;i.onload=qy(l0,e,i,"TestLoadImage: loaded",!0,t),i.onerror=qy(l0,e,i,"TestLoadImage: error",!1,t),i.onabort=qy(l0,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=qy(l0,e,i,"TestLoadImage: timeout",!1,t),$e.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else sr(2);n.H=0,n.h&&n.h.za(t),AG(n),xG(n)}function AG(n){if(n.H=0,n.ma=[],n.h){const t=dG(n.i);(0!=t.length||0!=n.j.length)&&(TU(n.ma,t),TU(n.ma,n.j),n.i.i.length=0,qE(n.j),n.j.length=0),n.h.ya()}}function IG(n,t,e){var i=e instanceof tc?qo(e):new tc(e);if(""!=i.g)t&&(i.g=t+"."+i.g),o0(i,i.m);else{var r=$e.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new tc(null);i&&s0(s,i),t&&(s.g=t),r&&o0(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&rn(i,e,t),rn(i,"VER",n.ra),Zp(n,i),i}function kG(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Dn(n.Ha&&!n.va?new Yp({ob:e}):n.va)).Oa(n.J),t}function MG(){}function p0(){if(fd&&!(10<=Number(Mge)))throw Error("Environmental error: no available transport.")}function Br(n,t){mi.call(this),this.g=new bG(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Np(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Np(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new md(this)}function RG(n){gA.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function NG(){mA.call(this),this.status=1}function md(n){this.g=n}function Es(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function AA(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ft(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(le=Dn.prototype).Oa=function(n){this.M=n},le.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_A.g(),this.C=function WU(n){return n.h||(n.h=n.i())}(this.u?this.u:_A),this.g.onreadystatechange=$i(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void pG(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=$e.FormData&&n instanceof $e.FormData,!(0<=xU(gme,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_G(this),0<this.B&&((this.L=function mme(n){return fd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$i(this.ua,this)):this.A=fA(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){pG(this,s)}},le.ua=function(){typeof jE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mi(this,"timeout"),this.abort(8))},le.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mi(this,"complete"),Mi(this,"abort"),u0(this))},le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),u0(this,!0)),Dn.$.N.call(this)},le.La=function(){this.s||(this.G||this.v||this.l?mG(this):this.kb())},le.kb=function(){mG(this)},le.isActive=function(){return!!this.g},le.da=function(){try{return 2<io(this)?this.g.status:-1}catch{return-1}},le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},le.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),fme(t)}},le.Ia=function(){return this.m},le.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=bG.prototype).ra=8,le.H=1,le.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Up(this,this.l,n);let s=this.s;if(this.U&&(s?(s=EU(s),IU(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=CG(this,r,t),rn(e=qo(this.I),"RID",n),rn(e,"CVER",22),this.F&&rn(e,"X-HTTP-Session-Id",this.F),Zp(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(yG(s)))+"&"+t:this.o&&wA(e,this.o,s)),TA(this.i,r),this.bb&&rn(e,"TYPE","init"),this.P?(rn(e,"$req",t),rn(e,"SID","null"),r.aa=!0,yA(r,e,null)):yA(r,e,t),this.H=2}}else 3==this.H&&(n?TG(this,n):0==this.j.length||lG(this.i)||TG(this))},le.Ma=function(){if(this.u=null,SG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Hp($i(this.jb,this),n)}},le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sr(10),d0(this),SG(this))},le.ib=function(){null!=this.v&&(this.v=null,d0(this),DA(this),sr(19))},le.pb=function(n){n?(this.l.info("Successfully pinged google.com"),sr(2)):(this.l.info("Failed to ping google.com"),sr(1))},le.isActive=function(){return!!this.h&&this.h.isActive(this)},(le=MG.prototype).Ba=function(){},le.Aa=function(){},le.za=function(){},le.ya=function(){},le.isActive=function(){return!0},le.Va=function(){},p0.prototype.g=function(n,t){return new Br(n,t)},gi(Br,mi),Br.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;sr(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=IG(n,null,n.Y),h0(n)},Br.prototype.close=function(){SA(this.g)},Br.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=uA(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&h0(t)},Br.prototype.N=function(){this.g.h=null,delete this.j,SA(this.g),delete this.g,Br.$.N.call(this)},gi(RG,gA),gi(NG,mA),gi(md,MG),md.prototype.Ba=function(){Mi(this.g,"a")},md.prototype.Aa=function(n){Mi(this.g,new RG(n))},md.prototype.za=function(n){Mi(this.g,new NG)},md.prototype.ya=function(){Mi(this.g,"b")},gi(Es,function yme(){this.blockSize=-1}),Es.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Es.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)AA(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){AA(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){AA(this,i),r=0;break}}this.h=r,this.i+=t},Es.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var bme={};function IA(n){return-128<=n&&128>n?function Age(n,t){var e=bme;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Ft([0|t],0>t?-1:0)}):new Ft([0|n],0>n?-1:0)}function ro(n){if(isNaN(n)||!isFinite(n))return _d;if(0>n)return Ri(ro(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=kA;return new Ft(t,0)}var kA=4294967296,_d=IA(0),MA=IA(1),OG=IA(16777216);function Yo(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function cs(n){return-1==n.h}function Ri(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Ft(e,~n.h).add(MA)}function g0(n,t){return n.add(Ri(t))}function m0(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Jp(n,t){this.g=n,this.h=t}function _0(n,t){if(Yo(t))throw Error("division by zero");if(Yo(n))return new Jp(_d,_d);if(cs(n))return t=_0(Ri(n),t),new Jp(Ri(t.g),Ri(t.h));if(cs(t))return t=_0(n,Ri(t)),new Jp(Ri(t.g),t.h);if(30<n.g.length){if(cs(n)||cs(t))throw Error("slowDivide_ only works with positive integers.");for(var e=MA,i=t;0>=i.X(n);)e=LG(e),i=LG(i);var r=vd(e,1),s=vd(i,1);for(i=vd(i,2),e=vd(e,2);!Yo(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=vd(i,1),e=vd(e,1)}return t=g0(n,r.R(t)),new Jp(r,t)}for(r=_d;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=ro(e)).R(t);cs(o)||0<o.X(n);)o=(s=ro(e-=i)).R(t);Yo(s)&&(s=MA),r=r.add(s),n=g0(n,o)}return new Jp(r,n)}function LG(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ft(e,n.h)}function vd(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Ft(r,n.h)}(le=Ft.prototype).ea=function(){if(cs(this))return-Ri(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:kA+i)*t,t*=kA}return n},le.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Yo(this))return"0";if(cs(this))return"-"+Ri(this).toString(n);for(var t=ro(Math.pow(n,6)),e=this,i="";;){var r=_0(e,t).g,s=((0<(e=g0(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Yo(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},le.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},le.X=function(n){return cs(n=g0(this,n))?-1:Yo(n)?0:1},le.abs=function(){return cs(this)?Ri(this):this},le.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new Ft(e,-2147483648&e[e.length-1]?-1:0)},le.R=function(n){if(Yo(this)||Yo(n))return _d;if(cs(this))return cs(n)?Ri(this).R(Ri(n)):Ri(Ri(this).R(n));if(cs(n))return Ri(this.R(Ri(n)));if(0>this.X(OG)&&0>n.X(OG))return ro(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=o*l,m0(e,2*i+2*r),e[2*i+2*r+1]+=s*l,m0(e,2*i+2*r+1),e[2*i+2*r+1]+=o*a,m0(e,2*i+2*r+1),e[2*i+2*r+2]+=s*a,m0(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Ft(e,0)},le.gb=function(n){return _0(this,n).h},le.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Ft(e,this.h&n.h)},le.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Ft(e,this.h|n.h)},le.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Ft(e,this.h^n.h)},p0.prototype.createWebChannel=p0.prototype.g,Br.prototype.send=Br.prototype.u,Br.prototype.open=Br.prototype.m,Br.prototype.close=Br.prototype.close,t0.NO_ERROR=0,t0.TIMEOUT=8,t0.HTTP_ERROR=6,jU.COMPLETE="complete",qU.EventType=$p,$p.OPEN="a",$p.CLOSE="b",$p.ERROR="c",$p.MESSAGE="d",mi.prototype.listen=mi.prototype.O,Dn.prototype.listenOnce=Dn.prototype.P,Dn.prototype.getLastError=Dn.prototype.Sa,Dn.prototype.getLastErrorCode=Dn.prototype.Ia,Dn.prototype.getStatus=Dn.prototype.da,Dn.prototype.getResponseJson=Dn.prototype.Wa,Dn.prototype.getResponseText=Dn.prototype.ja,Dn.prototype.send=Dn.prototype.ha,Dn.prototype.setWithCredentials=Dn.prototype.Oa,Es.prototype.digest=Es.prototype.l,Es.prototype.reset=Es.prototype.reset,Es.prototype.update=Es.prototype.j,Ft.prototype.add=Ft.prototype.add,Ft.prototype.multiply=Ft.prototype.R,Ft.prototype.modulo=Ft.prototype.gb,Ft.prototype.compare=Ft.prototype.X,Ft.prototype.toNumber=Ft.prototype.ea,Ft.prototype.toString=Ft.prototype.toString,Ft.prototype.getBits=Ft.prototype.D,Ft.fromNumber=ro,Ft.fromString=function PG(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Ri(PG(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=ro(Math.pow(t,8)),i=_d,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=ro(Math.pow(t,s)),i=i.R(s).add(ro(o))):i=(i=i.R(e)).add(ro(o))}return i};var xme=Ds.createWebChannelTransport=function(){return new p0},Tme=Ds.getStatEventTarget=function(){return e0()},RA=Ds.ErrorCode=t0,Cme=Ds.EventType=jU,wme=Ds.Event=Jl,FG=Ds.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},v0=(Ds.FetchXmlHttpFactory=Yp,Ds.WebChannel=qU),Sme=Ds.XhrIo=Dn,Dme=Ds.Md5=Es,yd=Ds.Integer=Ft;const VG="@firebase/firestore";class _i{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");let bd="10.7.0";const Ua=new yS("@firebase/firestore");function xd(){return Ua.logLevel}function G(n,...t){if(Ua.logLevel<=dt.DEBUG){const e=t.map(NA);Ua.debug(`Firestore (${bd}): ${n}`,...e)}}function Ln(n,...t){if(Ua.logLevel<=dt.ERROR){const e=t.map(NA);Ua.error(`Firestore (${bd}): ${n}`,...e)}}function Hr(n,...t){if(Ua.logLevel<=dt.WARN){const e=t.map(NA);Ua.warn(`Firestore (${bd}): ${n}`,...e)}}function NA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function fe(n="Unexpected state"){const t=`FIRESTORE (${bd}) INTERNAL ASSERTION FAILED: `+n;throw Ln(t),new Error(t)}function _e(n,t){n||fe()}function se(n,t){return n}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends Oa{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ri{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class BG{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Eme{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(_i.UNAUTHENTICATED))}shutdown(){}}class Ame{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Ime{constructor(t){this.t=t,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let o=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ri,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable(S(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ri)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e("string"==typeof i.accessToken),new BG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return _e(null===t||"string"==typeof t),new _i(t)}}class kme{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=_i.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Mme{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new kme(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(_i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rme{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(_e("string"==typeof e.token),this.R=e.token,new HG(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nme(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class $G{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Nme(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Pe(n,t){return n<t?-1:n>t?1:0}function Td(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class yn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return yn.fromMillis(Date.now())}static fromDate(t){return yn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new yn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pe(this.nanoseconds,t.nanoseconds):Pe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ve{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ve(t)}static min(){return new ve(new yn(0,0))}static max(){return new ve(new yn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class eg{constructor(t,e,i){void 0===e?e=0:e>t.length&&fe(),void 0===i?i=t.length-e:i>t.length-e&&fe(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===eg.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof eg?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class mt extends eg{construct(t,e,i){return new mt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new mt(e)}static emptyPath(){return new mt([])}}const Pme=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends eg{construct(t,e,i){return new ln(t,e,i)}static isValidIdentifier(t){return Pme.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ln(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(e)}static emptyPath(){return new ln([])}}class oe{constructor(t){this.path=t}static fromPath(t){return new oe(mt.fromString(t))}static fromName(t){return new oe(mt.fromString(t).popFirst(5))}static empty(){return new oe(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===mt.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return mt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new oe(new mt(t.slice()))}}function zG(n){return new $r(n.readTime,n.key,-1)}class $r{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new $r(ve.min(),oe.empty(),-1)}static max(){return new $r(ve.max(),oe.empty(),-1)}}function OA(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=oe.comparator(n.documentKey,t.documentKey),0!==e?e:Pe(n.largestBatchId,t.largestBatchId))}const jG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fme{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ga(n){return LA.apply(this,arguments)}function LA(){return LA=S(function*(n){if(n.code!==N.FAILED_PRECONDITION||n.message!==jG)throw n;G("LocalStore","Unexpectedly lost primary lease")}),LA.apply(this,arguments)}class I{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new I((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof I?e:I.resolve(e)}catch(e){return I.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):I.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):I.reject(e)}static resolve(t){return new I((e,i)=>{e(t)})}static reject(t){return new I((e,i)=>{i(t)})}static waitFor(t){return new I((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=I.resolve(!1);for(const i of t)e=e.next(r=>r?I.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new I((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(t,e){return new I((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}function za(n){return"IndexedDbTransactionError"===n.name}let Ur=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function ng(n){return null==n}function ig(n){return 0===n&&1/n==-1/0}function e4(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ja(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function t4(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Kt{constructor(t,e){this.comparator=t,this.root=e||Ni.EMPTY}insert(t,e){return new Kt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(t){return new Kt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new x0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new x0(this.root,t,this.comparator,!1)}getReverseIterator(){return new x0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new x0(this.root,t,this.comparator,!0)}}class x0{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ni{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Ni.RED,this.left=r??Ni.EMPTY,this.right=s??Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Ni(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ni.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const t=this.left.check();if(t!==this.right.check())throw fe();return t+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1,Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,e,i,r,s){return this}insert(t,e,i){return new Ni(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(t){this.comparator=t,this.data=new Kt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new n4(this.data.getIterator())}getIteratorFrom(t){return new n4(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof $t)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $t(this.comparator);return e.data=t,e}}class n4{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class br{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new br([])}unionWith(t){let e=new $t(ln.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new br(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Td(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class i4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class si{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new i4("Invalid base64 string: "+s):s}}(t);return new si(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new si(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}si.EMPTY_BYTE_STRING=new si("");const o_e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(n){if(_e(!!n),"string"==typeof n){let t=0;const e=o_e.exec(n);if(_e(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:En(n.seconds),nanos:En(n.nanos)}}function En(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ko(n){return"string"==typeof n?si.fromBase64String(n):si.fromUint8Array(n)}function T0(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function C0(n){const t=n.mapValue.fields.__previous_value__;return T0(t)?C0(t):t}function rg(n){const t=Wa(n.mapValue.fields.__local_write_time__.timestampValue);return new yn(t.seconds,t.nanos)}class a_e{constructor(t,e,i,r,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class oc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof oc&&t.projectId===this.projectId&&t.database===this.database}}const qa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ya(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?T0(n)?4:a4(n)?9007199254740991:10:fe()}function oo(n,t){if(n===t)return!0;const e=Ya(n);if(e!==Ya(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return rg(n).isEqual(rg(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Wa(r.timestampValue),a=Wa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Ko(n.bytesValue).isEqual(Ko(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return En(r.geoPointValue.latitude)===En(s.geoPointValue.latitude)&&En(r.geoPointValue.longitude)===En(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return En(r.integerValue)===En(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=En(r.doubleValue),a=En(s.doubleValue);return o===a?ig(o)===ig(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Td(n.arrayValue.values||[],t.arrayValue.values||[],oo);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(e4(o)!==e4(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!oo(o[l],a[l])))return!1;return!0}(n,t);default:return fe()}var s}function sg(n,t){return void 0!==(n.values||[]).find(e=>oo(e,t))}function Ka(n,t){if(n===t)return 0;const e=Ya(n),i=Ya(t);if(e!==i)return Pe(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=En(s.integerValue||s.doubleValue),l=En(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return r4(n.timestampValue,t.timestampValue);case 4:return r4(rg(n),rg(t));case 5:return Pe(n.stringValue,t.stringValue);case 6:return function(s,o){const a=Ko(s),l=Ko(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Pe(a[c],l[c]);if(0!==u)return u}return Pe(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Pe(En(s.latitude),En(o.latitude));return 0!==a?a:Pe(En(s.longitude),En(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Ka(a[c],l[c]);if(u)return u}return Pe(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===qa.mapValue&&o===qa.mapValue)return 0;if(s===qa.mapValue)return 1;if(o===qa.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Pe(l[d],u[d]);if(0!==h)return h;const f=Ka(a[l[d]],c[u[d]]);if(0!==f)return f}return Pe(l.length,u.length)}(n.mapValue,t.mapValue);default:throw fe()}}function r4(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Pe(n,t);const e=Wa(n),i=Wa(t),r=Pe(e.seconds,i.seconds);return 0!==r?r:Pe(e.nanos,i.nanos)}function Dd(n){return BA(n)}function BA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Wa(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ko(n.bytesValue).toBase64():"referenceValue"in n?oe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=BA(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${BA(e.fields[o])}`;return r+"}"}(n.mapValue):fe()}function HA(n){return!!n&&"integerValue"in n}function og(n){return!!n&&"arrayValue"in n}function s4(n){return!!n&&"nullValue"in n}function o4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function D0(n){return!!n&&"mapValue"in n}function ag(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return ja(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=ag(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ag(n.arrayValue.values[e]);return t}return Object.assign({},n)}function a4(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Pi{constructor(t){this.value=t}static empty(){return new Pi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!D0(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ag(e)}setAll(t){let e=ln.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=ag(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());D0(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return oo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];D0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ja(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Pi(ag(this.value))}}function u4(n){const t=[];return ja(n.fields,(e,i)=>{const r=new ln([e]);if(D0(i)){const s=u4(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new br(t)}class sn{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new sn(t,0,ve.min(),ve.min(),ve.min(),Pi.empty(),0)}static newFoundDocument(t,e,i,r){return new sn(t,1,e,ve.min(),i,r,0)}static newNoDocument(t,e){return new sn(t,2,e,ve.min(),ve.min(),Pi.empty(),0)}static newUnknownDocument(t,e){return new sn(t,3,e,ve.min(),ve.min(),Pi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xa{constructor(t,e){this.position=t,this.inclusive=e}}function d4(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?oe.comparator(oe.fromName(o.referenceValue),e.key):Ka(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function h4(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!oo(n.position[e],t.position[e]))return!1;return!0}class lg{constructor(t,e="asc"){this.field=t,this.dir=e}}function u_e(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class f4{}class ot extends f4{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new d_e(t,e,i):"array-contains"===e?new p_e(t,i):"in"===e?new y4(t,i):"not-in"===e?new g_e(t,i):"array-contains-any"===e?new m_e(t,i):new ot(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new h_e(t,i):new f_e(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Ka(e,this.value)):null!==e&&Ya(this.value)===Ya(e)&&this.matchesComparison(Ka(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vt extends f4{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Vt(t,e)}matches(t){return Ed(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ed(n){return"and"===n.op}function UA(n){return function p4(n){for(const t of n.filters)if(t instanceof Vt)return!1;return!0}(n)&&Ed(n)}function GA(n){if(n instanceof ot)return n.field.canonicalString()+n.op.toString()+Dd(n.value);if(UA(n))return n.filters.map(t=>GA(t)).join(",");{const t=n.filters.map(e=>GA(e)).join(",");return`${n.op}(${t})`}}function g4(n,t){return n instanceof ot?(i=n,(r=t)instanceof ot&&i.op===r.op&&i.field.isEqual(r.field)&&oo(i.value,r.value)):n instanceof Vt?function(i,r){return r instanceof Vt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,a)=>s&&g4(o,r.filters[a]),!0)}(n,t):void fe();var i,r}function _4(n){return n instanceof ot?`${(e=n).field.canonicalString()} ${e.op} ${Dd(e.value)}`:n instanceof Vt?function(e){return e.op.toString()+" {"+e.getFilters().map(_4).join(" ,")+"}"}(n):"Filter";var e}class d_e extends ot{constructor(t,e,i){super(t,e,i),this.key=oe.fromName(i.referenceValue)}matches(t){const e=oe.comparator(t.key,this.key);return this.matchesComparison(e)}}class h_e extends ot{constructor(t,e){super(t,"in",e),this.keys=v4(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class f_e extends ot{constructor(t,e){super(t,"not-in",e),this.keys=v4(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function v4(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>oe.fromName(i.referenceValue))}class p_e extends ot{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return og(e)&&sg(e.arrayValue,this.value)}}class y4 extends ot{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&sg(this.value.arrayValue,e)}}class g_e extends ot{constructor(t,e){super(t,"not-in",e)}matches(t){if(sg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!sg(this.value.arrayValue,e)}}class m_e extends ot{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!og(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>sg(this.value.arrayValue,i))}}class __e{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function zA(n,t=null,e=[],i=[],r=null,s=null,o=null){return new __e(n,t,e,i,r,s,o)}function lc(n){const t=se(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>GA(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),ng(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Dd(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Dd(i)).join(",")),t.ce=e}return t.ce}function cg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!u_e(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!g4(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!h4(n.startAt,t.startAt)&&h4(n.endAt,t.endAt)}function E0(n){return oe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Xo{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function Ad(n){return new Xo(n)}function C4(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Id(n){const t=se(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $t(ln.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new lg(s,i))}),e.has(ln.keyField().canonicalString())||t.le.push(new lg(ln.keyField(),i))}return t.le}function or(n){const t=se(n);return t.he||(t.he=function w4(n,t){if("F"===n.limitType)return zA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new lg(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Xa(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Xa(n.startAt.position,n.startAt.inclusive):null;return zA(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Id(n))),t.he}function I0(n,t,e){return new Xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ug(n,t){return cg(or(n),or(t))&&n.limitType===t.limitType}function S4(n){return`${lc(or(n))}|lt:${n.limitType}`}function kd(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>_4(r)).join(", ")}]`),ng(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Dd(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Dd(r)).join(",")),`Target(${i})`}(or(n))}; limitType=${n.limitType})`}function dg(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):oe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of Id(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,a,l){const c=d4(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Id(i),r)||i.endAt&&!function(o,a,l){const c=d4(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Id(i),r)));var i,r}function E4(n){return(t,e)=>{let i=!1;for(const r of Id(n)){const s=v_e(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function v_e(n,t,e){const i=n.field.isKeyField()?oe.comparator(t.key,e.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?Ka(l,c):fe()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return fe()}}class Qo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ja(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return t4(this.inner)}size(){return this.innerSize}}const y_e=new Kt(oe.comparator);function xr(){return y_e}const A4=new Kt(oe.comparator);function hg(...n){let t=A4;for(const e of n)t=t.insert(e.key,e);return t}function I4(n){let t=A4;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ao(){return fg()}function k4(){return fg()}function fg(){return new Qo(n=>n.toString(),(n,t)=>n.isEqual(t))}const b_e=new Kt(oe.comparator),x_e=new $t(oe.comparator);function Ke(...n){let t=x_e;for(const e of n)t=t.add(e);return t}const T_e=new $t(Pe);function M4(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ig(t)?"-0":t}}function R4(n){return{integerValue:""+n}}function N4(n,t){return function qG(n){return"number"==typeof n&&Number.isInteger(n)&&!ig(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?R4(t):M4(n,t)}class k0{constructor(){this._=void 0}}function C_e(n,t,e){return n instanceof Md?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&T0(s)&&(s=C0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof cc?O4(n,t):n instanceof uc?L4(n,t):function(r,s){const o=P4(r,s),a=F4(o)+F4(r.Ie);return HA(o)&&HA(r.Ie)?R4(a):M4(r.serializer,a)}(n,t)}function w_e(n,t,e){return n instanceof cc?O4(n,t):n instanceof uc?L4(n,t):e}function P4(n,t){return n instanceof Rd?HA(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class Md extends k0{}class cc extends k0{constructor(t){super(),this.elements=t}}function O4(n,t){const e=V4(t);for(const i of n.elements)e.some(r=>oo(r,i))||e.push(i);return{arrayValue:{values:e}}}class uc extends k0{constructor(t){super(),this.elements=t}}function L4(n,t){let e=V4(t);for(const i of n.elements)e=e.filter(r=>!oo(r,i));return{arrayValue:{values:e}}}class Rd extends k0{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function F4(n){return En(n.integerValue||n.doubleValue)}function V4(n){return og(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class D_e{constructor(t,e){this.version=t,this.transformResults=e}}class cn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new cn}static exists(t){return new cn(void 0,t)}static updateTime(t){return new cn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function M0(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class R0{}function B4(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Pd(n.key,cn.none()):new Nd(n.key,n.data,cn.none());{const e=n.data,i=Pi.empty();let r=new $t(ln.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Zo(n.key,i,new br(r.toArray()),cn.none())}}function E_e(n,t,e){n instanceof Nd?function(r,s,o){const a=r.value.clone(),l=U4(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Zo?function(r,s,o){if(!M0(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=U4(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll($4(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function gg(n,t,e,i){return n instanceof Nd?function(s,o,a,l){if(!M0(s.precondition,o))return a;const c=s.value.clone(),u=G4(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof Zo?function(s,o,a,l){if(!M0(s.precondition,o))return a;const c=G4(s.fieldTransforms,l,o),u=o.data;return u.setAll($4(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,t,e,i):(a=e,M0(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function A_e(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=P4(i.transform,r||null);null!=s&&(null===e&&(e=Pi.empty()),e.set(i.field,s))}return e||null}function H4(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Td(i,r,(s,o)=>function S_e(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof cc&&r instanceof cc||i instanceof uc&&r instanceof uc?Td(i.elements,r.elements,oo):i instanceof Rd&&r instanceof Rd?oo(i.Ie,r.Ie):i instanceof Md&&r instanceof Md);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class Nd extends R0{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zo extends R0{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $4(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function U4(n,t,e){const i=new Map;_e(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,w_e(o,a,e[r]))}return i}function G4(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,C_e(s,o,t))}return i}class Pd extends R0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YA extends R0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KA{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&E_e(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=gg(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=gg(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=k4();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=B4(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ke())}isEqual(t){return this.batchId===t.batchId&&Td(this.mutations,t.mutations,(e,i)=>H4(e,i))&&Td(this.baseMutations,t.baseMutations,(e,i)=>H4(e,i))}}class XA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){_e(t.mutations.length===i.length);let r=b_e;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new XA(t,e,i,r)}}class QA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class k_e{constructor(t,e){this.count=t,this.unchangedNames=e}}var Yn,_t;function j4(n){if(void 0===n)return Ln("GRPC error has no .code"),N.UNKNOWN;switch(n){case Yn.OK:return N.OK;case Yn.CANCELLED:return N.CANCELLED;case Yn.UNKNOWN:return N.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return N.INTERNAL;case Yn.UNAVAILABLE:return N.UNAVAILABLE;case Yn.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Yn.NOT_FOUND:return N.NOT_FOUND;case Yn.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Yn.ABORTED:return N.ABORTED;case Yn.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Yn.DATA_LOSS:return N.DATA_LOSS;default:return fe()}}(_t=Yn||(Yn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";const M_e=new yd([4294967295,4294967295],0);function q4(n){const t=function W4(){return new TextEncoder}().encode(n),e=new Dme;return e.update(t),new Uint8Array(e.digest())}function Y4(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new yd([e,i],0),new yd([r,s],0)]}class ZA{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new mg(`Invalid padding: ${e}`);if(i<0)throw new mg(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new mg(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new mg(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=yd.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(yd.fromNumber(i)));return 1===r.compare(M_e)&&(r=new yd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=q4(t),[i,r]=Y4(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new ZA(s,r,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Te)return;const e=q4(t),[i,r]=Y4(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class mg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _g{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,vg.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new _g(ve.min(),r,new Kt(Pe),xr(),Ke())}}class vg{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new vg(i,e,Ke(),Ke(),Ke())}}class P0{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class K4{constructor(t,e){this.targetId=t,this.fe=e}}class X4{constructor(t,e,i=si.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Q4{constructor(){this.ge=0,this.pe=J4(),this.ye=si.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Ke(),e=Ke(),i=Ke();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:fe()}}),new vg(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=J4()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,_e(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class R_e{constructor(t){this.Le=t,this.ke=new Map,this.qe=xr(),this.Qe=Z4(),this.Ke=new Kt(Pe)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:fe()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(E0(s))if(0===i){const o=new oe(s.path);this.We(e,o,sn.newNoDocument(o,ve.min()))}else _e(1===i);else{const o=this.Ze(e);if(o!==i){const a=this.Xe(t),l=a?this.et(a,t,o):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,a;try{o=Ko(i).toUint8Array()}catch(l){if(l instanceof i4)return Hr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ZA(o,r,s)}catch(l){return Hr(l instanceof mg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&E0(a.target)){const l=new oe(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,sn.newNoDocument(l,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=Ke();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new _g(t,e,this.Ke,this.qe,i);return this.qe=xr(),this.Qe=Z4(),this.Ke=new Kt(Pe),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new Q4,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new $t(Pe),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||G("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new Q4),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Z4(){return new Kt(oe.comparator)}function J4(){return new Kt(oe.comparator)}const N_e={asc:"ASCENDING",desc:"DESCENDING"},P_e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O_e={and:"AND",or:"OR"};class L_e{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function JA(n,t){return n.useProto3Json||ng(t)?t:{value:t}}function Od(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ez(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function F_e(n,t){return Od(n,t.toTimestamp())}function Fn(n){return _e(!!n),ve.fromTimestamp(function(e){const i=Wa(e);return new yn(i.seconds,i.nanos)}(n))}function eI(n,t){return(i=n,new mt(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function tz(n){const t=mt.fromString(n);return _e(uz(t)),t}function yg(n,t){return eI(n.databaseId,t.path)}function lo(n,t){const e=tz(t);if(e.get(1)!==n.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new oe(iz(e))}function tI(n,t){return eI(n.databaseId,t)}function bg(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iz(n){return _e(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function rz(n,t,e){return{name:yg(n,t),fields:e.value.mapValue.fields}}function oz(n,t){return{documents:[tI(n,t.path)]}}function iI(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=tI(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=tI(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return cz(Vt.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Qa((d=c).field),direction:U_e(d.dir)};var d})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=JA(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function az(n){let t=function nz(n){const t=tz(n);return 4===t.length?mt.emptyPath():iz(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){_e(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=function(d){const h=lz(d);return h instanceof Vt&&UA(h)?h.getFilters():[h]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(h=>{return new lg(Ld((p=h).field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;e.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,ng(h)?null:h}(e.limit));let l=null;var d;e.startAt&&(l=new Xa((d=e.startAt).values||[],!!d.before));let c=null;return e.endAt&&(c=function(d){return new Xa(d.values||[],!d.before)}(e.endAt)),function T4(n,t,e,i,r,s,o,a){return new Xo(n,t,e,i,r,s,o,a)}(t,r,o,s,a,"F",l,c)}function lz(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ld(e.unaryFilter.field);return ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ld(e.unaryFilter.field);return ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ld(e.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ld(e.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(n):void 0!==n.fieldFilter?ot.create(Ld((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vt.create(e.compositeFilter.filters.map(i=>lz(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return fe()}}(e.compositeFilter.op))}(n):fe();var e}function U_e(n){return N_e[n]}function G_e(n){return P_e[n]}function z_e(n){return O_e[n]}function Qa(n){return{fieldPath:n.canonicalString()}}function Ld(n){return ln.fromServerFormat(n.fieldPath)}function cz(n){return n instanceof ot?function(e){if("=="===e.op){if(o4(e.value))return{unaryFilter:{field:Qa(e.field),op:"IS_NAN"}};if(s4(e.value))return{unaryFilter:{field:Qa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(o4(e.value))return{unaryFilter:{field:Qa(e.field),op:"IS_NOT_NAN"}};if(s4(e.value))return{unaryFilter:{field:Qa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(e.field),op:G_e(e.op),value:e.value}}}(n):n instanceof Vt?function(e){const i=e.getFilters().map(r=>cz(r));return 1===i.length?i[0]:{compositeFilter:{op:z_e(e.op),filters:i}}}(n):fe()}function j_e(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function uz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Jo{constructor(t,e,i,r,s=ve.min(),o=ve.min(),a=si.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Jo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class dz{constructor(t){this.ut=t}}function rI(n){const t=az({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?I0(t,t.limit,"L"):t}class pc{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(En(t.integerValue));else if("doubleValue"in t){const i=En(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),ig(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(Ko(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?a4(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):fe()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),oe.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}pc.St=new pc;class J_e{constructor(){this.on=new uI}addToCollectionParentIndex(t,e){return this.on.add(e),I.resolve()}getCollectionParents(t,e){return I.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return I.resolve()}deleteFieldIndex(t,e){return I.resolve()}deleteAllFieldIndexes(t){return I.resolve()}createTargetIndexes(t,e){return I.resolve()}getDocumentsMatchingTarget(t,e){return I.resolve(null)}getIndexType(t,e){return I.resolve(0)}getFieldIndexes(t,e){return I.resolve([])}getNextCollectionGroupToUpdate(t){return I.resolve(null)}getMinOffset(t,e){return I.resolve($r.min())}getMinOffsetFromCollectionGroup(t,e){return I.resolve($r.min())}updateCollectionGroup(t,e,i){return I.resolve()}updateIndexEntries(t,e){return I.resolve()}}class uI{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new $t(mt.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new $t(mt.comparator)).toArray()}}new Uint8Array(0);class zi{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new zi(t,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(41943040,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);class mc{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new mc(0)}static Nn(){return new mc(-1)}}class sve{constructor(){this.changes=new Qo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?I.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lve{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Vz{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&gg(i.mutation,r,br.empty(),yn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ke()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ke()){const r=ao();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=hg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=ao();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ke()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=xr();const o=fg(),a=fg();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Zo)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),gg(u.mutation,c,u.mutation.getFieldMask(),yn.now())):o.set(c.key,br.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),e.forEach((c,u)=>{var d;return a.set(c,new lve(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(t,e){const i=fg();let r=new Kt((o,a)=>o-a),s=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||br.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||Ke()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=k4();u.forEach(h=>{if(!s.has(h)){const f=B4(e.get(h),i.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,d))}return I.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return oe.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):function jA(n){return null!==n.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):I.resolve(ao());let a=-1,l=s;return o.next(c=>I.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?I.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,Ke())).next(u=>({batchId:a,changes:I4(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new oe(e)).next(i=>{let r=hg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=hg();return this.indexManager.getCollectionParents(t,s).next(a=>I.forEach(a,l=>{const c=(d=e,h=l.child(s),new Xo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,sn.newInvalidDocument(u)))});let a=hg();return o.forEach((l,c)=>{const u=s.get(l);void 0!==u&&gg(u.mutation,c,br.empty(),yn.now()),dg(e,c)&&(a=a.insert(l,c))}),a})}}class cve{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return I.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:Fn(r.createTime)}),I.resolve();var r}getNamedQuery(t,e){return I.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:rI(r.bundledQuery),readTime:Fn(r.readTime)}),I.resolve();var r}}class uve{constructor(){this.overlays=new Kt(oe.comparator),this.lr=new Map}getOverlay(t,e){return I.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ao();return I.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),I.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),I.resolve()}getOverlaysForCollection(t,e,i){const r=ao(),s=e.length+1,o=new oe(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return I.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Kt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=ao(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ao(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return I.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new QA(e,i));let s=this.lr.get(e);void 0===s&&(s=Ke(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class dI{constructor(){this.hr=new $t(yi.Pr),this.Ir=new $t(yi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new yi(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new yi(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new oe(new mt([])),i=new yi(e,t),r=new yi(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new oe(new mt([])),i=new yi(e,t),r=new yi(e,t+1);let s=Ke();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new yi(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class yi{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return oe.comparator(t.key,e.key)||Pe(t.gr,e.gr)}static Tr(t,e){return Pe(t.gr,e.gr)||oe.comparator(t.key,e.key)}}class dve{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new $t(yi.Pr)}checkEmpty(t){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new KA(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new yi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(t,e){return I.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new yi(e,0),r=new yi(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const a=this.wr(o.gr);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new $t(Pe);return e.forEach(r=>{const s=new yi(r,0),o=new yi(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),I.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;oe.isDocumentKey(s)||(s=s.child(""));const o=new yi(new oe(s),0);let a=new $t(Pe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),I.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){_e(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return I.forEach(e.mutations,r=>{const s=new yi(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new yi(e,0),r=this.yr.firstAfterOrEqual(i);return I.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return I.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class hve{constructor(t){this.Cr=t,this.docs=new Kt(oe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return I.resolve(i?i.document.mutableCopy():sn.newInvalidDocument(e))}getEntries(t,e){let i=xr();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():sn.newInvalidDocument(r))}),I.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=xr();const o=e.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||OA(zG(u),i)<=0||(r.has(u.key)||dg(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(t,e,i,r){fe()}vr(t,e){return I.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new fve(this)}getSize(t){return I.resolve(this.size)}}class fve extends sve{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),I.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class pve{constructor(t){this.persistence=t,this.Fr=new Qo(e=>lc(e),cg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Mr=0,this.Or=new dI,this.targetCount=0,this.Nr=mc.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),I.resolve()}getLastRemoteSnapshotVersion(t){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return I.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),I.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new mc(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,I.resolve()}updateTargetData(t,e){return this.kn(e),I.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,I.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),I.waitFor(s).next(()=>r)}getTargetCount(t){return I.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return I.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),I.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),I.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return I.resolve(i)}containsKey(t,e){return I.resolve(this.Or.containsKey(e))}}class hI{constructor(t,e){this.Br={},this.overlays={},this.Lr=new Ur(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new pve(this),this.indexManager=new J_e,this.remoteDocumentCache=new hve(i=>this.referenceDelegate.Qr(i)),this.serializer=new dz(e),this.Kr=new cve(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new uve,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new dve(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){G("MemoryPersistence","Starting transaction:",t);const r=new gve(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return I.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class gve extends Fme{constructor(t){super(),this.currentSequenceNumber=t}}class U0{constructor(t){this.persistence=t,this.Gr=new dI,this.zr=null}static jr(t){return new U0(t)}get Hr(){if(this.zr)return this.zr;throw fe()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),I.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),I.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),I.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Hr,i=>{const r=oe.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,ve.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return I.or([()=>I.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class mI{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Ke(),r=Ke();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new mI(t,e.fromCache,i,r)}}class _ve{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Hz{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new _ve;return this.Hi(t,e,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,e,o,a.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(xd()<=dt.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",kd(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),I.resolve()):(xd()<=dt.DEBUG&&G("QueryEngine","Query:",kd(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(xd()<=dt.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",kd(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,or(e))):I.resolve())}zi(t,e){if(C4(e))return I.resolve(null);let i=or(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=I0(e,null,"F"),i=or(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Ke(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,o,l.readTime)?this.zi(t,I0(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return C4(e)||r.isEqual(ve.min())?I.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?I.resolve(null):(xd()<=dt.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kd(e)),this.Xi(t,o,e,function GG(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(1e9===i?new yn(e+1,0):new yn(e,i));return new $r(r,oe.empty(),t)}(r,-1)).next(a=>a))})}Yi(t,e){let i=new $t(E4(t));return e.forEach((r,s)=>{dg(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return xd()<=dt.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",kd(e)),this.Gi.getDocumentsMatchingQuery(t,e,$r.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class vve{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new Kt(Pe),this.ns=new Qo(s=>lc(s),cg),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Vz(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function Uz(n,t){return _I.apply(this,arguments)}function _I(){return _I=S(function*(n,t){const e=se(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Ke();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),_I.apply(this,arguments)}function Gz(n){const t=se(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function xve(n,t){const e=se(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Ud(n,t,e){return vI.apply(this,arguments)}function vI(){return vI=S(function*(n,t,e){const i=se(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!za(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),vI.apply(this,arguments)}function j0(n,t,e){const i=se(n);let r=ve.min(),s=Ke();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=se(l),h=d.ns.get(u);return void 0!==h?I.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(i,o,or(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:ve.min(),e?s:Ke())).next(a=>(function qz(n,t,e){let i=n.rs.get(t)||ve.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}(i,function D4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),a),{documents:a,ls:s})))}class CI{constructor(){this.activeTargetIds=function qA(){return T_e}()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Xz{constructor(){this.eo=new CI,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new CI,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wve{ro(t){}shutdown(){}}class Qz{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Y0=null;function SI(){return null===Y0?Y0=268435456+Math.round(2147483648*Math.random()):Y0++,"0x"+Y0.toString(16)}const Sve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dve{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const ji="WebChannelConnection";class Eve extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const a=SI(),l=this.So(e,i);G("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(e,l,c,r).then(u=>(G("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw Hr("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,i,r,s,o,a){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+bd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${Sve[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=SI();return new Promise((o,a)=>{const l=new Sme;l.setWithCredentials(!0),l.listenOnce(Cme.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case RA.NO_ERROR:const u=l.getResponseJson();G(ji,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),o(u);break;case RA.TIMEOUT:G(ji,`RPC '${t}' ${s} timed out`),a(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case RA.HTTP_ERROR:const d=l.getStatus();if(G(ji,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(v)>=0?v:N.UNKNOWN}(f.status);a(new j(p,f.message))}else a(new j(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new j(N.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{G(ji,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);G(ji,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=SI(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=xme(),a=Tme(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=s.join("");G(ji,`Creating RPC '${t}' stream ${r}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new Dve({co:g=>{f?G(ji,`Not sending because RPC '${t}' stream ${r} is closed:`,g):(h||(G(ji,`Opening RPC '${t}' stream ${r} transport.`),d.open(),h=!0),G(ji,`RPC '${t}' stream ${r} sending:`,g),d.send(g))},lo:()=>d.close()}),m=(g,v,_)=>{g.listen(v,b=>{try{_(b)}catch(C){setTimeout(()=>{throw C},0)}})};return m(d,v0.EventType.OPEN,()=>{f||G(ji,`RPC '${t}' stream ${r} transport opened.`)}),m(d,v0.EventType.CLOSE,()=>{f||(f=!0,G(ji,`RPC '${t}' stream ${r} transport closed`),p.Ro())}),m(d,v0.EventType.ERROR,g=>{f||(f=!0,Hr(ji,`RPC '${t}' stream ${r} transport errored:`,g),p.Ro(new j(N.UNAVAILABLE,"The operation could not be completed")))}),m(d,v0.EventType.MESSAGE,g=>{var v;if(!f){const _=g.data[0];_e(!!_);const C=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(C){G(ji,`RPC '${t}' stream ${r} received error:`,C);const M=C.status;let R=function(De){const me=Yn[De];if(void 0!==me)return j4(me)}(M),W=C.message;void 0===R&&(R=N.INTERNAL,W="Unknown error status: "+M+" with message "+C.message),f=!0,p.Ro(new j(R,W)),d.close()}else G(ji,`RPC '${t}' stream ${r} received:`,_),p.Vo(_)}}),m(a,wme.STAT_EVENT,g=>{g.stat===FG.PROXY?G(ji,`RPC '${t}' stream ${r} detected buffering proxy`):g.stat===FG.NOPROXY&&G(ji,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function K0(){return typeof document<"u"?document:null}function Ig(n){return new L_e(n,!0)}class DI{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Jz{constructor(t,e,i,r,s,o,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new DI(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return S(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return S(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return S(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===N.RESOURCE_EXHAUSTED?(Ln(e.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===N.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new j(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko(S(function*(){t.state=0,t.start()}))}o_(t){return G("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ave extends Jz{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function B_e(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:fe(),r=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(_e(void 0===u||"string"==typeof u),si.fromBase64String(u||"")):(_e(void 0===u||u instanceof Uint8Array),si.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=void 0===c.code?N.UNKNOWN:j4(c.code);return new j(u,c.message||"")}(o);e=new X4(i,r,s,a||null)}else if("documentChange"in t){const i=t.documentChange,r=lo(n,i.document.name),s=Fn(i.document.updateTime),o=i.document.createTime?Fn(i.document.createTime):ve.min(),a=new Pi({mapValue:{fields:i.document.fields}}),l=sn.newFoundDocument(r,s,o,a);e=new P0(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=lo(n,i.document),s=i.readTime?Fn(i.readTime):ve.min(),o=sn.newNoDocument(r,s);e=new P0([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=lo(n,i.document);e=new P0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return fe();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new k_e(r,s);e=new K4(i.targetId,o)}}var c;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return ve.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Fn(o.readTime):ve.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=bg(this.serializer),e.addTarget=function(s,o){let a;const l=o.target;if(a=E0(l)?{documents:oz(s,l)}:{query:iI(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ez(s,o.resumeToken);const c=JA(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=Od(s,o.snapshotVersion.toTimestamp());const c=JA(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function $_e(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=bg(this.serializer),e.removeTarget=t,this.e_(e)}}class Ive extends Jz{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(_e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function H_e(n,t){return n&&n.length>0?(_e(void 0!==t),n.map(e=>function(r,s){let o=Fn(r.updateTime?r.updateTime:s);return o.isEqual(ve.min())&&(o=Fn(s)),new D_e(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Fn(t.commitTime);return this.listener.I_(i,e)}return _e(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=bg(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>function xg(n,t){let e;if(t instanceof Nd)e={update:rz(n,t.key,t.value)};else if(t instanceof Pd)e={delete:yg(n,t.key)};else if(t instanceof Zo)e={update:rz(n,t.key,t.data),updateMask:j_e(t.fieldMask)};else{if(!(t instanceof YA))return fe();e={verify:yg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Md)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof uc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rd)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw fe()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:F_e(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:fe()),e;var s}(this.serializer,i))};this.e_(e)}}class kve extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new j(N.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Rve{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Ln(e),this.f_=!1):G("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Nve{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{i.enqueueAndForget(S(function*(){var l;tl(o)&&(G("RemoteStore","Restarting streams for network reachability change."),yield(l=S(function*(u){const d=se(u);d.C_.add(4),yield Gd(d),d.M_.set("Unknown"),d.C_.delete(4),yield kg(d)}),function c(u){return l.apply(this,arguments)})(o))}))}),this.M_=new Rve(i,r)}}function kg(n){return AI.apply(this,arguments)}function AI(){return AI=S(function*(n){if(tl(n))for(const t of n.v_)yield t(!0)}),AI.apply(this,arguments)}function Gd(n){return II.apply(this,arguments)}function II(){return II=S(function*(n){for(const t of n.v_)yield t(!1)}),II.apply(this,arguments)}function X0(n,t){const e=se(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),RI(e)?MI(e):jd(e).Ho()&&kI(e,t))}function Mg(n,t){const e=se(n),i=jd(e);e.D_.delete(t),i.Ho()&&e5(e,t),0===e.D_.size&&(i.Ho()?i.Zo():tl(e)&&e.M_.set("Unknown"))}function kI(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ve.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}jd(n).u_(t)}function e5(n,t){n.x_.Oe(t),jd(n).c_(t)}function MI(n){n.x_=new R_e({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),jd(n).start(),n.M_.g_()}function RI(n){return tl(n)&&!jd(n).jo()&&n.D_.size>0}function tl(n){return 0===se(n).C_.size}function t5(n){n.x_=void 0}function Pve(n){return NI.apply(this,arguments)}function NI(){return NI=S(function*(n){n.D_.forEach((t,e)=>{kI(n,t)})}),NI.apply(this,arguments)}function Ove(n,t){return PI.apply(this,arguments)}function PI(){return PI=S(function*(n,t){t5(n),RI(n)?(n.M_.w_(t),MI(n)):n.M_.set("Unknown")}),PI.apply(this,arguments)}function Lve(n,t,e){return OI.apply(this,arguments)}function OI(){return OI=S(function*(n,t,e){if(n.M_.set("Online"),t instanceof X4&&2===t.state&&t.cause)try{yield(i=S(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){G("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Q0(n,i)}else if(t instanceof P0?n.x_.$e(t):t instanceof K4?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(ve.min()))try{const i=yield Gz(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(si.EMPTY_BYTE_STRING,u.snapshotVersion)),e5(s,l);const d=new Jo(u.target,l,c,u.sequenceNumber);kI(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){G("RemoteStore","Failed to raise snapshot:",i),yield Q0(n,i)}var i}),OI.apply(this,arguments)}function Q0(n,t,e){return LI.apply(this,arguments)}function LI(){return LI=S(function*(n,t,e){if(!za(t))throw t;n.C_.add(1),yield Gd(n),n.M_.set("Offline"),e||(e=()=>Gz(n.localStore)),n.asyncQueue.enqueueRetryable(S(function*(){G("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield kg(n)}))}),LI.apply(this,arguments)}function n5(n,t){return t().catch(e=>Q0(n,e,t))}function zd(n){return FI.apply(this,arguments)}function FI(){return FI=S(function*(n){const t=se(n),e=nl(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Fve(t);)try{const r=yield xve(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,Vve(t,r)}catch(r){yield Q0(t,r)}i5(t)&&r5(t)}),FI.apply(this,arguments)}function Fve(n){return tl(n)&&n.b_.length<10}function Vve(n,t){n.b_.push(t);const e=nl(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function i5(n){return tl(n)&&!nl(n).jo()&&n.b_.length>0}function r5(n){nl(n).start()}function Bve(n){return VI.apply(this,arguments)}function VI(){return VI=S(function*(n){nl(n).E_()}),VI.apply(this,arguments)}function Hve(n){return BI.apply(this,arguments)}function BI(){return BI=S(function*(n){const t=nl(n);for(const e of n.b_)t.P_(e.mutations)}),BI.apply(this,arguments)}function $ve(n,t,e){return HI.apply(this,arguments)}function HI(){return HI=S(function*(n,t,e){const i=n.b_.shift(),r=XA.from(i,t,e);yield n5(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield zd(n)}),HI.apply(this,arguments)}function Uve(n,t){return $I.apply(this,arguments)}function $I(){return $I=S(function*(n,t){var e;t&&nl(n).h_&&(yield(e=S(function*(r,s){if(function z4(n){switch(n){default:return fe();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}(a=s.code)&&a!==N.ABORTED){const o=r.b_.shift();nl(r).Yo(),yield n5(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield zd(r)}var a}),function i(r,s){return e.apply(this,arguments)})(n,t)),i5(n)&&r5(n)}),$I.apply(this,arguments)}function s5(n,t){return UI.apply(this,arguments)}function UI(){return UI=S(function*(n,t){const e=se(n);e.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const i=tl(e);e.C_.add(3),yield Gd(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield kg(e)}),UI.apply(this,arguments)}function zI(){return zI=S(function*(n,t){const e=se(n);t?(e.C_.delete(2),yield kg(e)):t||(e.C_.add(2),yield Gd(e),e.M_.set("Unknown"))}),zI.apply(this,arguments)}function jd(n){return n.O_||(n.O_=function(e,i,r){const s=se(e);return s.A_(),new Ave(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Pve.bind(null,n),Io:Ove.bind(null,n),a_:Lve.bind(null,n)}),n.v_.push(function(){var t=S(function*(e){e?(n.O_.Yo(),RI(n)?MI(n):n.M_.set("Unknown")):(yield n.O_.stop(),t5(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function nl(n){return n.N_||(n.N_=function(e,i,r){const s=se(e);return s.A_(),new Ive(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Bve.bind(null,n),Io:Uve.bind(null,n),T_:Hve.bind(null,n),I_:$ve.bind(null,n)}),n.v_.push(function(){var t=S(function*(e){e?(n.N_.Yo(),yield zd(n)):(yield n.N_.stop(),n.b_.length>0&&(G("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class jI{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new jI(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wd(n,t){if(Ln("AsyncQueue",`${t}: ${n}`),za(n))return new j(N.UNAVAILABLE,`${t}: ${n}`);throw n}class qd{constructor(t){this.comparator=t?(e,i)=>t(e,i)||oe.comparator(e.key,i.key):(e,i)=>oe.comparator(e.key,i.key),this.keyedMap=hg(),this.sortedSet=new Kt(this.comparator)}static emptySet(t){return new qd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof qd)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new qd;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class o5{constructor(){this.B_=new Kt(oe.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):fe():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Yd{constructor(t,e,i,r,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new Yd(t,e,qd.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ug(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Gve{constructor(){this.k_=void 0,this.listeners=[]}}class zve{constructor(){this.queries=new Qo(t=>S4(t),ug),this.onlineState="Unknown",this.q_=new Set}}function qI(){return qI=S(function*(n,t){const e=se(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new Gve),r)try{s.k_=yield e.onListen(i)}catch(o){const a=Wd(o,`Initialization of query '${kd(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&XI(e)}),qI.apply(this,arguments)}function KI(){return KI=S(function*(n,t){const e=se(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),KI.apply(this,arguments)}function jve(n,t){const e=se(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&XI(e)}function Wve(n,t,e){const i=se(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function XI(n){n.q_.forEach(t=>{t.next()})}class QI{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Yd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=Yd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class c5{constructor(t){this.key=t}}class u5{constructor(t){this.key=t}}class d5{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ke(),this.mutatedKeys=Ke(),this._a=E4(t),this.aa=new qd(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new o5,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,d)=>{const h=r.get(u),f=dg(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),g=!0):this.ha(h,f)||(i.track({type:2,doc:f}),g=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((u,d)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return m(f)-m(p)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(i),r=null!=r&&r;const a=e&&!r?this.Ia():[],l=0===this.oa.size&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,0!==o.length||c?{snapshot:new Yd(this.query,t.aa,s,o,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new o5,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Ke(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new u5(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new c5(i))}),e}da(t){this.ia=t.ls,this.oa=Ke();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return Yd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Kve{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Xve{constructor(t){this.key=t,this.Ra=!1}}class Qve{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Qo(a=>S4(a),ug),this.fa=new Map,this.ga=new Set,this.pa=new Kt(oe.comparator),this.ya=new Map,this.wa=new dI,this.Sa={},this.ba=new Map,this.Da=mc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Zve(n,t){return ZI.apply(this,arguments)}function ZI(){return ZI=S(function*(n,t){const e=function xk(n){const t=se(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=h5.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aye.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tye.bind(null,t),t.Va.a_=jve.bind(null,t.eventManager),t.Va.Fa=Wve.bind(null,t.eventManager),t}(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield function $d(n,t){const e=se(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,I.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new Jo(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}(e.localStore,or(t)),a=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield function JI(n,t,e,i,r){return ek.apply(this,arguments)}(e,t,i,"current"===a,o.resumeToken),e.isPrimaryClient&&X0(e.remoteStore,o)}return r}),ZI.apply(this,arguments)}function ek(){return ek=S(function*(n,t,e,i,r){n.va=(d,h,f)=>{return(p=S(function*(g,v,_,b){let C=v.view.ca(_);C.Zi&&(C=yield j0(g.localStore,v.query,!1).then(({documents:J})=>v.view.ca(J,C)));const M=b&&b.targetChanges.get(v.targetId),R=b&&null!=b.targetMismatches.get(v.targetId),W=v.view.applyChanges(C,g.isPrimaryClient,M,R);return uk(g,v.targetId,W.Ta),W.snapshot}),function m(g,v,_,b){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield j0(n.localStore,t,!0),o=new d5(t,s.ls),a=o.ca(s.documents),l=vg.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);uk(n,e,c.Ta);const u=new Kve(t,e,o);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),ek.apply(this,arguments)}function Jve(n,t){return tk.apply(this,arguments)}function tk(){return tk=S(function*(n,t){const e=se(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!ug(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ud(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Mg(e.remoteStore,i.targetId),Kd(e,i.targetId)}).catch(Ga))):(Kd(e,i.targetId),yield Ud(e.localStore,i.targetId,!0))}),tk.apply(this,arguments)}function nk(){return nk=S(function*(n,t,e){const i=function Tk(n){const t=se(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nye.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iye.bind(null,t),t}(n);try{const r=yield function(o,a){const l=se(o),c=yn.now(),u=a.reduce((f,p)=>f.add(p.key),Ke());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=xr(),m=Ke();return l.ss.getEntries(f,u).next(g=>{p=g,p.forEach((v,_)=>{_.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(g=>{d=g;const v=[];for(const _ of a){const b=A_e(_,d.get(_.key).overlayedDocument);null!=b&&v.push(new Zo(_.key,b,u4(b.value.mapValue),cn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:I4(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Kt(Pe)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,e),yield ea(i,r.changes),yield zd(i.remoteStore)}catch(r){const s=Wd(r,"Failed to persist write");e.reject(s)}}),nk.apply(this,arguments)}function h5(n,t){return ik.apply(this,arguments)}function ik(){return ik=S(function*(n,t){const e=se(n);try{const i=yield function bve(n,t){const e=se(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(e.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>e.qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var m,g,v;null!==t.targetMismatches.get(d)?f=f.withResumeToken(si.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),g=f,v=u,(0===(m=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(s,f))});let l=xr(),c=Ke();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function zz(n,t,e){let i=Ke(),r=Ke();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=xr();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}(s,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(ve.min())){const u=e.qr.getLastRemoteSnapshotVersion(s).next(d=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.ts=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(_e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?_e(o.Ra):r.removedDocuments.size>0&&(_e(o.Ra),o.Ra=!1))}),yield ea(e,i,t)}catch(i){yield Ga(i)}}),ik.apply(this,arguments)}function f5(n,t,e){const i=se(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=se(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&XI(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function tye(n,t,e){return rk.apply(this,arguments)}function rk(){return rk=S(function*(n,t,e){const i=se(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new Kt(oe.comparator);o=o.insert(s,sn.newNoDocument(s,ve.min()));const a=Ke().add(s),l=new _g(ve.min(),new Map,new Kt(Pe),o,a);yield h5(i,l),i.pa=i.pa.remove(s),i.ya.delete(t),dk(i)}else yield Ud(i.localStore,t,!1).then(()=>Kd(i,t,e)).catch(Ga)}),rk.apply(this,arguments)}function nye(n,t){return sk.apply(this,arguments)}function sk(){return sk=S(function*(n,t){const e=se(n),i=t.batch.batchId;try{const r=yield function yve(n,t){const e=se(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=I.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{const g=c.docVersions.get(p);_e(null!==g),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);ck(e,i,null),lk(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ea(e,r)}catch(r){yield Ga(r)}}),sk.apply(this,arguments)}function iye(n,t,e){return ok.apply(this,arguments)}function ok(){return ok=S(function*(n,t,e){const i=se(n);try{const r=yield function(o,a){const l=se(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(_e(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);ck(i,t,e),lk(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ea(i,r)}catch(r){yield Ga(r)}}),ok.apply(this,arguments)}function lk(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function ck(n,t,e){const i=se(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Kd(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||p5(n,i)})}function p5(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(Mg(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),dk(n))}function uk(n,t,e){for(const i of e)i instanceof c5?(n.wa.addReference(i.key,t),sye(n,i)):i instanceof u5?(G("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||p5(n,i.key)):fe()}function sye(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(G("SyncEngine","New document in limbo: "+e),n.ga.add(i),dk(n))}function dk(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new oe(mt.fromString(t)),i=n.Da.next();n.ya.set(i,new Xve(e)),n.pa=n.pa.insert(e,i),X0(n.remoteStore,new Jo(or(Ad(e.path)),i,"TargetPurposeLimboResolution",Ur._e))}}function ea(n,t,e){return hk.apply(this,arguments)}function hk(){return hk=S(function*(n,t,e){const i=se(n),r=[],s=[],o=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=mI.Qi(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.Va.a_(r),yield(a=S(function*(c,u){const d=se(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>I.forEach(u,f=>I.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>I.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!za(h))throw h;G("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),g=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,g)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,s))}),hk.apply(this,arguments)}function oye(n,t){return fk.apply(this,arguments)}function fk(){return fk=S(function*(n,t){const e=se(n);if(!e.currentUser.isEqual(t)){G("SyncEngine","User change. New user:",t.toKey());const i=yield Uz(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new j(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ea(e,i._s)}var s}),fk.apply(this,arguments)}function aye(n,t){const e=se(n),i=e.ya.get(t);if(i&&i.Ra)return Ke().add(i.key);{let r=Ke();const s=e.fa.get(t);if(!s)return r;for(const o of s){const a=e.ma.get(o);r=r.unionWith(a.view.ua)}return r}}class Z0{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return S(function*(){e.serializer=Ig(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function $z(n,t,e,i){return new vve(n,t,e,i)}(this.persistence,new Hz,t.initialUser,this.serializer)}createPersistence(t){return new hI(U0.jr,this.serializer)}createSharedClientState(t){return new Xz}terminate(){var t=this;return S(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Xd{initialize(t,e){var i=this;return S(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>f5(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=oye.bind(null,i.syncEngine),yield function GI(n,t){return zI.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new zve}createDatastore(t){const e=Ig(t.databaseInfo.databaseId),i=new Eve(t.databaseInfo);return new kve(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>f5(this.syncEngine,e,0),a=Qz.D()?new Qz:new wve,new Nve(i,r,s,o,a);var i,r,s,o,a}createSyncEngine(t,e){return function(r,s,o,a,l,c,u){const d=new Qve(r,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return function(){var t=S(function*(i){const r=se(i);G("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Gd(r),r.F_.shutdown(),r.M_.set("Unknown")});return function e(i){return t.apply(this,arguments)}}()(this.remoteStore)}}class J0{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Ln("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class bye{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=_i.UNAUTHENTICATED,this.clientId=$G.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=S(function*(a){G("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return S(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(S(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Wd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function eb(n,t){return Ck.apply(this,arguments)}function Ck(){return Ck=S(function*(n,t){n.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=S(function*(s){i.isEqual(s)||(yield Uz(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),Ck.apply(this,arguments)}function wk(n,t){return Sk.apply(this,arguments)}function Sk(){return Sk=S(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function Dk(n){return Ek.apply(this,arguments)}(n);G("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>s5(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>s5(t.remoteStore,s)),n._onlineComponents=t}),Sk.apply(this,arguments)}function Ek(){return Ek=S(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{yield eb(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function b5(n){return"FirebaseError"===n.name?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;Hr("Error using user provided cache. Falling back to memory cache: "+e),yield eb(n,new Z0)}}else G("FirestoreClient","Using default OfflineComponentProvider"),yield eb(n,new Z0);return n._offlineComponents}),Ek.apply(this,arguments)}function tb(n){return Ak.apply(this,arguments)}function Ak(){return Ak=S(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),yield wk(n,n._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),yield wk(n,new Xd))),n._onlineComponents}),Ak.apply(this,arguments)}function kk(){return kk=S(function*(n){const t=yield tb(n),e=t.eventManager;return e.onListen=Zve.bind(null,t.syncEngine),e.onUnlisten=Jve.bind(null,t.syncEngine),e}),kk.apply(this,arguments)}function S5(n,t,e={}){const i=new ri;return n.asyncQueue.enqueueAndForget(S(function*(){return function(s,o,a,l,c){const u=new J0({next:h=>{o.enqueueAndForget(()=>function YI(n,t){return KI.apply(this,arguments)}(s,d)),h.fromCache&&"server"===l.source?c.reject(new j(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new QI(a,u,{includeMetadataChanges:!0,J_:!0});return function WI(n,t){return qI.apply(this,arguments)}(s,d)}(yield function Zd(n){return kk.apply(this,arguments)}(n),n.asyncQueue,t,e,i)})),i.promise}function D5(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const E5=new Map;function Mk(n,t,e){if(!e)throw new j(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function A5(n){if(!oe.isDocumentKey(n))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function I5(n){if(oe.isDocumentKey(n))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":fe()}function at(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=nb(n);throw new j(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class M5{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function Mye(n,t,e,i){if(!0===t&&!0===i)throw new j(N.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=D5(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rg{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M5({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M5(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new Eme;switch(i.type){case"firstParty":return new Mme(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=E5.get(e);i&&(G("ComponentProvider","Removing Datastore"),E5.delete(e),i.terminate())}(this),Promise.resolve()}}class Oi{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Oi(this.firestore,t,this._query)}}class Vn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vn(this.firestore,t,this._key)}}class co extends Oi{constructor(t,e,i){super(t,e,Ad(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vn(this.firestore,null,new oe(t))}withConverter(t){return new co(this.firestore,t,this._path)}}function Nye(n,t,...e){if(n=os(n),Mk("collection","path",t),n instanceof Rg){const i=mt.fromString(t,...e);return I5(i),new co(n,null,i)}{if(!(n instanceof Vn||n instanceof co))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(t,...e));return I5(i),new co(n.firestore,null,i)}}function R5(n,t,...e){if(n=os(n),1===arguments.length&&(t=$G.newId()),Mk("doc","path",t),n instanceof Rg){const i=mt.fromString(t,...e);return A5(i),new Vn(n,null,new oe(i))}{if(!(n instanceof Vn||n instanceof co))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(t,...e));return A5(i),new Vn(n.firestore,n instanceof co?n.converter:null,new oe(i))}}class Pye{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new DI(this,"async_queue_retry"),this.iu=()=>{const e=K0();e&&G("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=K0();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=K0();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new ri;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return S(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!za(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,Ln("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=jI.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&fe()}verifyOperationInProgress(){}uu(){var t=this;return S(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}class Xt extends Rg{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Pye,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||P5(this),this._firestoreClient.terminate()}}function Lye(n,t){const i="string"==typeof n?n:t||"(default)",r=function n$(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}("object"==typeof n?n:r$(),"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(n=>{const t=(n=>{var t,e;return null===(e=null===(t=Ty())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]})(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),i]:[t.substring(0,e),i]})("firestore");s&&function Rye(n,t,e,i={}){var r;const s=(n=at(n,Rg))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=_i.MOCK_USER;else{a=function Yue(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[by(JSON.stringify({alg:"none",type:"JWT"})),by(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _i(c)}n._authCredentials=new Ame(new BG(a,l))}}(r,...s)}return r}function Bn(n){return n._firestoreClient||P5(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function P5(n){var t,e,i;const r=n._freezeSettings(),s=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new a_e(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,D5(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new bye(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class vc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vc(si.fromBase64String(t))}catch(e){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new vc(si.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Jd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Nk{constructor(t){this._methodName=t}}class Pk{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pe(this._lat,t._lat)||Pe(this._long,t._long)}}const Vye=/^__.*__$/;class Bye{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Zo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Nd(t,this.data,e,this.fieldTransforms)}}class F5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Zo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function V5(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class ib{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new ib(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return sb(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(V5(this.Iu)&&Vye.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class Hye{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Ig(t)}pu(t,e,i,r=!1){return new ib({Iu:t,methodName:e,gu:i,path:ln.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eh(n){const t=n._freezeSettings(),e=Ig(n._databaseId);return new Hye(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Ok(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);Fk("Data must be an object, but it was:",o,i);const a=G5(i,o);let l,c;if(s.merge)l=new br(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Og(t,d,e);if(!o.contains(h))throw new j(N.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);j5(u,h)||u.push(h)}l=new br(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Bye(new Pi(a),l,c)}class Pg extends Nk{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Pg}}function yc(n,t){if(z5(n=os(n)))return Fk("Unsupported field value:",t,n),G5(n,t);if(n instanceof Nk)return function(i,r){if(!V5(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=yc(a,r.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=os(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return N4(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=yn.fromDate(i);return{timestampValue:Od(r.serializer,s)}}if(i instanceof yn){const s=new yn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Od(r.serializer,s)}}if(i instanceof Pk)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vc)return{bytesValue:ez(r.serializer,i._byteString)};if(i instanceof Vn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:eI(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${nb(i)}`)}(n,t)}function G5(n,t){const e={};return t4(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ja(n,(i,r)=>{const s=yc(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function z5(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yn||n instanceof Pk||n instanceof vc||n instanceof Vn||n instanceof Nk)}function Fk(n,t,e){if(!z5(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=nb(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Og(n,t,e){if((t=os(t))instanceof Jd)return t._internalPath;if("string"==typeof t)return rb(n,t);throw sb("Field path arguments must be of type string or ",n,!1,void 0,e)}const zye=new RegExp("[~\\*/\\[\\]]");function rb(n,t,e){if(t.search(zye)>=0)throw sb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Jd(...t.split("."))._internalPath}catch{throw sb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function sb(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new j(N.INVALID_ARGUMENT,a+n+l)}function j5(n,t){return n.some(e=>e.isEqual(t))}class Vk{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new jye(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ob("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class jye extends Vk{data(){return super.data()}}function ob(n,t){return"string"==typeof t?rb(n,t):t instanceof Jd?t._internalPath:t._delegate._internalPath}class qye{convertValue(t,e="none"){switch(Ya(t)){case 0:return null;case 1:return t.booleanValue;case 2:return En(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ko(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw fe()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ja(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new Pk(En(t.latitude),En(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=C0(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(rg(t));default:return null}}convertTimestamp(t){const e=Wa(t);return new yn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=mt.fromString(t);_e(uz(i));const r=new oc(i.get(1),i.get(3)),s=new oe(i.popFirst(5));return r.isEqual(e)||Ln(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}class bc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nh extends Vk{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ub(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(ob("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class ub extends nh{data(t={}){return super.data(t)}}class ih{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new bc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new ub(this._firestore,this._userDataWriter,i.key,i,new bc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new ub(r._firestore,r._userDataWriter,a.doc.key,a.doc,new bc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new ub(r._firestore,r._userDataWriter,a.doc.key,a.doc,new bc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Kye(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Kye(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}class il extends qye{constructor(t){super(),this.firestore=t}convertBytes(t){return new vc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vn(this.firestore,null,e)}}function Xye(n){n=at(n,Oi);const t=at(n.firestore,Xt),e=Bn(t),i=new il(t);return function W5(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),S5(e,n._query).then(r=>new ih(t,i,n,r))}function Qye(n,t,e,...i){n=at(n,Vn);const r=at(n.firestore,Xt),s=eh(r);let o;return o="string"==typeof(t=os(t))||t instanceof Jd?function $5(n,t,e,i,r,s){const o=n.pu(1,t,e),a=[Og(t,i,e)],l=[r];if(s.length%2!=0)throw new j(N.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Og(t,s[h])),l.push(s[h+1]);const c=[],u=Pi.empty();for(let h=a.length-1;h>=0;--h)if(!j5(c,a[h])){const f=a[h];let p=l[h];p=os(p);const m=o.Ru(f);if(p instanceof Pg)c.push(f);else{const g=yc(p,m);null!=g&&(c.push(f),u.set(f,g))}}const d=new br(c);return new F5(u,d,o.fieldTransforms)}(s,"updateDoc",n._key,t,e,i):function H5(n,t,e,i){const r=n.pu(1,t,e);Fk("Data must be an object, but it was:",r,i);const s=[],o=Pi.empty();ja(i,(l,c)=>{const u=rb(t,l,e);c=os(c);const d=r.Ru(u);if(c instanceof Pg)s.push(u);else{const h=yc(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new br(s);return new F5(o,a,r.fieldTransforms)}(s,"updateDoc",n._key,t),Fg(r,[o.toMutation(n._key,cn.exists(!0))])}function Zye(n){return Fg(at(n.firestore,Xt),[new Pd(n._key,cn.none())])}function Jye(n,t){const e=at(n.firestore,Xt),i=R5(n),r=function Hk(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}(n.converter,t);return Fg(e,[Ok(eh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,cn.exists(!1))]).then(()=>i)}function Fg(n,t){return function(i,r){const s=new ri;return i.asyncQueue.enqueueAndForget(S(function*(){return function eye(n,t,e){return nk.apply(this,arguments)}(yield function Ik(n){return tb(n).then(t=>t.syncEngine)}(i),r,s)})),s.promise}(Bn(n),t)}!function(t,e=!0){bd=Dy,ad(new zl("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Xt(new Ime(i.getProvider("auth-internal")),new Rme(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),as(VG,"4.4.0",t),as(VG,"4.4.0","esm2017")}();class uo{constructor(t){return t}}const tj="firestore",Gk=new X("angularfire2.firestore-instances");function p0e(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new uo(i)}}const g0e={provide:class h0e{constructor(){return RS(tj)}},deps:[[new ts,Gk]]},m0e={provide:uo,useFactory:function f0e(n,t){const e=function h$(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(o=>o.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}(tj,n,t);return e&&new uo(e)},deps:[[new ts,Gk],bp]};let _0e=(()=>{class n{constructor(){as("angularfire",MS.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=be({providers:[m0e,g0e]})}return n})();function v0e(n,...t){return{ngModule:_0e,providers:[{provide:Gk,useFactory:p0e(n),multi:!0,deps:[Ae,mn,p$,g$,[new ts,bU],[new ts,Che],...t]}]}}const xc=Fa(Jye,!0),Tr=Fa(Nye,!0),Tc=Fa(Zye,!0),Cr=Fa(R5,!0),Cc=Fa(Xye,!0),y0e=Fa(Lye,!0),wc=Fa(Qye,!0);class fb{}class pb{}class bn{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof bn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new bn;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof bn?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class b0e{encodeKey(t){return nj(t)}encodeValue(t){return nj(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const T0e=/%(\d[a-f0-9])/gi,C0e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nj(n){return encodeURIComponent(n).replace(T0e,(t,e)=>C0e[e]??t)}function gb(n){return`${n}`}class rl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new b0e,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function x0e(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(gb):[gb(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new rl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(gb(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(gb(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class w0e{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ij(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rj(n){return typeof Blob<"u"&&n instanceof Blob}function sj(n){return typeof FormData<"u"&&n instanceof FormData}class Vg{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function S0e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new bn),this.context||(this.context=new w0e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new rl,this.urlWithParams=e}serializeBody(){return null===this.body?null:ij(this.body)||rj(this.body)||sj(this.body)||function D0e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sj(this.body)?null:rj(this.body)?this.body.type||null:ij(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new Vg(e,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var rh=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(rh||{});class zk{constructor(t,e=200,i="OK"){this.headers=t.headers||new bn,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class jk extends zk{constructor(t={}){super(t),this.type=rh.ResponseHeader}clone(t={}){return new jk({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class sh extends zk{constructor(t={}){super(t),this.type=rh.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new sh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class oj extends zk{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Wk(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let wr=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Vg)s=e;else{let l,c;l=r.headers instanceof bn?r.headers:new bn(r.headers),r.params&&(c=r.params instanceof rl?r.params:new rl({fromObject:r.params})),s=new Vg(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Se(s).pipe(Qu(l=>this.handler.handle(l)));if(e instanceof Vg||"events"===r.observe)return o;const a=o.pipe(ki(l=>l instanceof sh));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Fe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Fe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Fe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Fe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new rl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Wk(r,i))}post(e,i,r={}){return this.request("POST",e,Wk(r,i))}put(e,i,r={}){return this.request("PUT",e,Wk(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(P(fb))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function cj(n,t){return t(n)}function A0e(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const k0e=new X(""),Bg=new X(""),uj=new X("");function M0e(){let n=null;return(t,e)=>{null===n&&(n=(ne(k0e,{optional:!0})??[]).reduceRight(A0e,cj));const i=ne(yv),r=i.add();return n(t,e).pipe(tp(()=>i.remove(r)))}}let dj=(()=>{class n extends fb{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=ne(yv)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Bg),...this.injector.get(uj,[])]));this.chain=r.reduceRight((s,o)=>function I0e(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),cj)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(tp(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(P(pb),P(gr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const O0e=/^\)\]\}',?\n/;let fj=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new O(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Qn(i.\u0275loadImpl()):Se(null)).pipe(di(()=>new ut(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((m,g)=>o.setRequestHeader(m,g.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const m=e.detectContentTypeHeader();null!==m&&o.setRequestHeader("Content-Type",m)}if(e.responseType){const m=e.responseType.toLowerCase();o.responseType="json"!==m?m:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const m=o.statusText||"OK",g=new bn(o.getAllResponseHeaders()),v=function L0e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new jk({headers:g,status:o.status,statusText:m,url:v}),l},u=()=>{let{headers:m,status:g,statusText:v,url:_}=c(),b=null;204!==g&&(b=typeof o.response>"u"?o.responseText:o.response),0===g&&(g=b?200:0);let C=g>=200&&g<300;if("json"===e.responseType&&"string"==typeof b){const M=b;b=b.replace(O0e,"");try{b=""!==b?JSON.parse(b):null}catch(R){b=M,C&&(C=!1,b={error:R,text:b})}}C?(s.next(new sh({body:b,headers:m,status:g,statusText:v,url:_||void 0})),s.complete()):s.error(new oj({error:b,headers:m,status:g,statusText:v,url:_||void 0}))},d=m=>{const{url:g}=c(),v=new oj({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:g||void 0});s.error(v)};let h=!1;const f=m=>{h||(s.next(c()),h=!0);let g={type:rh.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),"text"===e.responseType&&o.responseText&&(g.partialText=o.responseText),s.next(g)},p=m=>{let g={type:rh.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:rh.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(P(SB))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const qk=new X("XSRF_ENABLED"),pj=new X("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),gj=new X("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mj{}let B0e=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=mB(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ct),P(hi),P(pj))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function H0e(n,t){const e=n.url.toLowerCase();if(!ne(qk)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=ne(mj).getToken(),r=ne(gj);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var sl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(sl||{});function $0e(...n){const t=[wr,fj,dj,{provide:fb,useExisting:dj},{provide:pb,useExisting:fj},{provide:Bg,useValue:H0e,multi:!0},{provide:qk,useValue:!0},{provide:mj,useClass:B0e}];for(const e of n)t.push(...e.\u0275providers);return function cC(n){return{\u0275providers:n}}(t)}const _j=new X("LEGACY_INTERCEPTOR_FN");function U0e(){return function Sc(n,t){return{\u0275kind:n,\u0275providers:t}}(sl.LegacyInterceptors,[{provide:_j,useFactory:M0e},{provide:Bg,useExisting:_j,multi:!0}])}let G0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({providers:[$0e(U0e())]})}return n})(),Hg=(()=>{class n{constructor(e){this.http=e,this.firestore=ne(uo)}getMusic(){var e=this;return S(function*(){const i=Tr(e.firestore,"music");return(yield Cc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createMusic(e){var i=this;return S(function*(){const r=Tr(i.firestore,"music");xc(r,{name:e.name,date:e.date,score:e.score,image:e.image,visible:!0})})()}deleteMusic(e){var i=this;return S(function*(){const r=Cr(i.firestore,`music/${e}`);yield Tc(r)})()}updateMusic(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`music/${e}`);yield wc(s,{score:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$g=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/movies.xml",this.firestore=ne(uo)}getMovies(){var e=this;return S(function*(){const i=Tr(e.firestore,"movies");return(yield Cc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createMovies(e){var i=this;return S(function*(){const r=Tr(i.firestore,"movies");xc(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}deleteMovie(e){var i=this;return S(function*(){const r=Cr(i.firestore,`movies/${e}`);yield Tc(r)})()}updateMovie(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`movies/${e}`);yield wc(s,{score:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ug=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/libros.xml",this.firestore=ne(uo)}getBook(){var e=this;return S(function*(){const i=Tr(e.firestore,"books");return(yield Cc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createBook(e){var i=this;return S(function*(){const r=Tr(i.firestore,"books");xc(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}deleteBook(e){var i=this;return S(function*(){const r=Cr(i.firestore,`books/${e}`);yield Tc(r)})()}updateBook(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`books/${e}`);yield wc(s,{score:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gg=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml",this.firestore=ne(uo)}getGames(){var e=this;return S(function*(){const i=Tr(e.firestore,"games");return(yield Cc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createGames(e){var i=this;return S(function*(){const r=Tr(i.firestore,"games");xc(r,{name:e.name,date:e.date,score:e.score,type:null,image:e.image,visible:!0})})()}deleteGames(e){var i=this;return S(function*(){const r=Cr(i.firestore,`games/${e}`);yield Tc(r)})()}updateGames(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`games/${e}`);yield wc(s,{score:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zg=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/series.xml",this.firestore=ne(uo)}getSeries(){var e=this;return S(function*(){const i=Tr(e.firestore,"series");return(yield Cc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createSeries(e){var i=this;return S(function*(){const r=Tr(i.firestore,"series");xc(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}deleteSerie(e){var i=this;return S(function*(){const r=Cr(i.firestore,`series/${e}`);yield Tc(r)})()}updateSerie(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`series/${e}`);yield wc(s,{score:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jg=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/animes.xml",this.firestore=ne(uo)}getAnimes(){var e=this;return S(function*(){const i=Tr(e.firestore,"animes");return(yield Cc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createAnimes(e){var i=this;return S(function*(){const r=Tr(i.firestore,"animes");xc(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}deleteAnime(e){var i=this;return S(function*(){const r=Cr(i.firestore,`animes/${e}`);yield Tc(r)})()}updateAnime(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`animes/${e}`);yield wc(s,{score:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dc=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vj=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ei),y(Ue))};static#t=this.\u0275dir=ee({type:n})}return n})(),Ec=(()=>{class n extends vj{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mn(n)))(r||n)}}();static#t=this.\u0275dir=ee({type:n,features:[pt]})}return n})();const us=new X("NgValueAccessor"),Q0e={provide:us,useExisting:yt(()=>oh),multi:!0},J0e=new X("CompositionEventMode");let oh=(()=>{class n extends vj{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Z0e(){const n=Aa()?Aa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ei),y(Ue),y(J0e,8))};static#t=this.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&$("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[gt([Q0e]),pt]})}return n})();const Wi=new X("NgValidators"),al=new X("NgAsyncValidators");function Cj(n){return function ol(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function _b(n){return null}function Ij(n){return null!=n}function kj(n){return Pf(n)?Qn(n):n}function Mj(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Rj(n,t){return t.map(e=>e(n))}function Nj(n){return n.map(t=>function tbe(n){return!n.validate}(t)?t:e=>t.validate(e))}function Yk(n){return null!=n?function Pj(n){if(!n)return null;const t=n.filter(Ij);return 0==t.length?null:function(e){return Mj(Rj(e,t))}}(Nj(n)):null}function Kk(n){return null!=n?function Oj(n){if(!n)return null;const t=n.filter(Ij);return 0==t.length?null:function(e){return function K0e(...n){const t=Ym(n),{args:e,keys:i}=M3(n),r=new ut(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Gn(e[u]).subscribe(Mt(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?R3(i,a):a),s.complete())}))}});return t?r.pipe(G1(t)):r}(Rj(e,t).map(kj)).pipe(Fe(Mj))}}(Nj(n)):null}function Lj(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Xk(n){return n?Array.isArray(n)?n:[n]:[]}function vb(n,t){return Array.isArray(n)?n.includes(t):n===t}function Bj(n,t){const e=Xk(t);return Xk(n).forEach(r=>{vb(e,r)||e.push(r)}),e}function Hj(n,t){return Xk(t).filter(e=>!vb(n,e))}class $j{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Yk(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Kk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ar extends $j{get formDirective(){return null}get path(){return null}}class ll extends $j{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Uj{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wg=(()=>{class n extends Uj{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(ll,2))};static#t=this.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&xt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pt]})}return n})(),Gj=(()=>{class n extends Uj{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(ar,10))};static#t=this.\u0275dir=ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&xt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[pt]})}return n})();const qg="VALID",bb="INVALID",ah="PENDING",Yg="DISABLED";function Jk(n){return(xb(n)?n.validators:n)||null}function eM(n,t){return(xb(t)?t.asyncValidators:n)||null}function xb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class qj{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===qg}get invalid(){return this.status===bb}get pending(){return this.status==ah}get disabled(){return this.status===Yg}get enabled(){return this.status!==Yg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Bj(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Bj(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Hj(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Hj(t,this._rawAsyncValidators))}hasValidator(t){return vb(this._rawValidators,t)}hasAsyncValidator(t){return vb(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ah,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Yg,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=qg,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qg||this.status===ah)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yg:qg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ah,this._hasOwnPendingAsyncValidator=!0;const e=kj(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new K,this.statusChanges=new K}_calculateStatus(){return this._allControlsDisabled()?Yg:this.errors?bb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ah)?ah:this._anyControlsHaveStatus(bb)?bb:qg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function sbe(n){return Array.isArray(n)?Yk(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function obe(n){return Array.isArray(n)?Kk(n):n||null}(this._rawAsyncValidators)}}class tM extends qj{constructor(t,e,i){super(Jk(e),eM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Wj(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new O(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function jj(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new O(1e3,"");if(!i[e])throw new O(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const lh=new X("CallSetDisabledState",{providedIn:"root",factory:()=>Tb}),Tb="always";function Kg(n,t,e=Tb){nM(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function cbe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Yj(n,t)})}(n,t),function dbe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function ube(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Yj(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function lbe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Sb(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function nM(n,t){const e=function Fj(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Lj(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function Vj(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Lj(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Sb(t._rawValidators,r),Sb(t._rawAsyncValidators,r)}function Yj(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const mbe={provide:ar,useExisting:yt(()=>Eb)},Xg=(()=>Promise.resolve())();let Eb=(()=>{class n extends ar{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new K,this.form=new tM({},Yk(e),Kk(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Xg.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Kg(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Xg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Xg.then(()=>{const i=this._findContainer(e.path),r=new tM({});(function Kj(n,t){nM(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Xg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Xg.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function Xj(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(y(Wi,10),y(al,10),y(lh,8))};static#t=this.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&$("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gt([mbe]),pt]})}return n})();function Qj(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Zj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Jj=class extends qj{constructor(t=null,e,i){super(Jk(e),eM(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xb(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Zj(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Qj(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Qj(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Zj(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},ybe={provide:ll,useExisting:yt(()=>ch)},nW=(()=>Promise.resolve())();let ch=(()=>{class n extends ll{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Jj,this._registered=!1,this.name="",this.update=new K,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function sM(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===oh?e=s:function pbe(n){return Object.getPrototypeOf(n.constructor)===Ec}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function rM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){nW.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&Ii(i);nW.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Cb(n,t){return[...t.path,n]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(y(ar,9),y(Wi,10),y(al,10),y(us,10),y(fi,8),y(lh,8))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gt([ybe]),pt,kt]})}return n})(),iW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),sW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({})}return n})();const Ibe={provide:us,useExisting:yt(()=>uh),multi:!0};function hW(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let uh=(()=>{class n extends Ec{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=hW(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function kbe(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mn(n)))(r||n)}}();static#t=this.\u0275dir=ee({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&$("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[gt([Ibe]),pt]})}return n})(),dh=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(hW(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ue),y(Ei),y(uh,9))};static#t=this.\u0275dir=ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const Mbe={provide:us,useExisting:yt(()=>cM),multi:!0};function fW(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let cM=(()=>{class n extends Ec{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);r.push(c)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Rbe(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mn(n)))(r||n)}}();static#t=this.\u0275dir=ee({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&$("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[gt([Mbe]),pt]})}return n})(),hh=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(fW(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(fW(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ue),y(Ei),y(cM,9))};static#t=this.\u0275dir=ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),Ac=(()=>{class n{constructor(){this._validator=_b}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):_b,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,features:[kt]})}return n})();const Obe={provide:Wi,useExisting:yt(()=>fh),multi:!0};let fh=(()=>{class n extends Ac{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ii,this.createValidator=e=>Cj}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mn(n)))(r||n)}}();static#t=this.\u0275dir=ee({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&xe("required",r._enabled?"":null)},inputs:{required:"required"},features:[gt([Obe]),pt]})}return n})(),$be=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({imports:[sW]})}return n})(),uM=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:lh,useValue:e.callSetDisabledState??Tb}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({imports:[$be]})}return n})();function Gbe(n,t){if(1&n&&(x(0,"option",25),B(1),T()),2&n){const e=t.$implicit;D("value",e),w(1),Nn(e)}}function zbe(n,t){if(1&n&&(x(0,"option",26),B(1),T()),2&n){const e=t.$implicit,i=V();D("value",e)("selected",e===i.opAnios[0]),w(1),Nn(e)}}function jbe(n,t){if(1&n&&(x(0,"option",25),B(1),T()),2&n){const e=t.$implicit;D("value",e),w(1),Nn(e)}}const Wbe=function(n){return{selected:n}};function qbe(n,t){if(1&n){const e=Bt();x(0,"span",45),$("click",function(){const s=Qe(e).index,o=V().$implicit;return Ze(V().rate(o,s+1))}),B(1," \u2605 "),T()}if(2&n){const e=t.index,i=V().$implicit;D("ngClass",ti(1,Wbe,e+1<=i.score))}}const Ybe=function(n,t){return{imagenMusica:n,imagen:t}};function Kbe(n,t){if(1&n){const e=Bt();x(0,"div",27)(1,"div",28),$("click",function(){const s=Qe(e).index;return Ze(V().toggleInfo(s))}),x(2,"div",29),te(3,"img",30)(4,"div",31),x(5,"div",32),B(6),x(7,"span",33),B(8,"\u2605"),T()(),x(9,"div",34)(10,"div",35)(11,"div",36)(12,"p",37),B(13),T()(),x(14,"div",38)(15,"p",39),B(16),T(),te(17,"br"),T(),x(18,"div",36)(19,"div",40),F(20,qbe,2,3,"span",41),T()()(),x(21,"div",42)(22,"button",43),$("click",function(){const s=Qe(e).$implicit;return Ze(V().deleteData(s))}),B(23,"Delete"),T()()()(),x(24,"p",44),B(25),T()()()}if(2&n){const e=t.$implicit,i=t.index,r=V();w(3),D("ngClass",Ro(15,Ybe,"Music"===r.type,"Music"!==r.type))("src",e.image,Ta),w(3),Ht(" ",e.score,""),w(1),xt("filled",1),w(2),xt("visible",r.selectedCardIndex===i),w(3),Rn("color",r.getColor(e.score)),w(1),Ht(" ",e.name,""),w(3),Nn(e.date),w(4),D("ngForOf",r.stars),w(4),Rn("color",r.getColor(e.score)),w(1),Nn(e.name)}}function Xbe(n,t){1&n&&(x(0,"div",46),te(1,"div",47),T())}const Qbe=function(n,t){return{"uil-sort-amount-up":n,"uil-sort-amount-down":t}};let Zbe=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u){this.alertService=e,this.musicService=i,this.movieService=r,this.libroService=s,this.gameService=o,this.seriesService=a,this.animeService=l,this.router=c,this.dataService=u,this.data=[],this.resultFilter=[],this.movies=[],this.animes=[],this.message="",this.opTipos=[],this.opAnios=[],this.opCalificacion=[],this.resultCount=0,this.color="",this.type="",this.loading=!1,this.isInfoVisible=!1,this.selectedCategory="Todos",this.selectedYear=this.opAnios[0],this.selectedScore="Todos",this.currentSortOrder="desc",this.selectedCardIndex=null,this.stars=Array(5).fill(!1),this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","lightblue","lightGreen","yellow","Pink","White","lightYellow","green","Purple"]],this.opAnios=["2024","2023","2022","2021","2020","2019"],this.opCalificacion=["0","1","2","3","4","5"]}ngOnInit(){this.dataService.typeData||this.router.navigate(["/"]),this.router.events.subscribe(e=>{this.message=this.dataService.typeData,this.loadData("Animes")}),this.selectedYear=this.opAnios[0]}loadData(e){var i=this;return S(function*(){try{i.loading=!0,"Movies"===e?(i.color="linear-gradient(to bottom, #00913f3b, 20%, #121212)",i.data=yield i.loadDataForType(i.movieService.getMovies())):"Series"===e?(i.color="linear-gradient(to bottom, #c3e91a33, 20%, #121212)",i.data=yield i.loadDataForType(i.seriesService.getSeries())):"Animes"===e?(i.color="linear-gradient(to bottom, #4e239481, 20%, #121212)",i.data=yield i.loadDataForType(i.animeService.getAnimes())):"Games"===e?(i.color="linear-gradient(to bottom, #f8798e3a, 20%, #121212)",i.data=yield i.loadDataForType(i.gameService.getGames())):"Books"===e?(i.color="linear-gradient(to bottom, #8040003a, 20%, #121212)",i.data=yield i.loadDataForType(i.libroService.getBook())):"Music"===e&&(i.color="linear-gradient(to bottom, #0000ff3f, 20%, #121212)",i.data=yield i.loadDataForType(i.musicService.getMusic())),i.message=e,i.resultFilter=i.sortData(i.data),i.resultFilter.forEach(r=>{r.image="data:image/jpg;base64,"+r.image}),i.resultCount=i.resultFilter.length,i.applyFilters(),console.log(i.data),0==i.data.length&&i.showAlert("Error al solicitar los datos","error",3e3)}catch(r){console.error("Error:",r)}finally{i.loading=!1,i.type=e}})()}loadDataForType(e){var i=this;return S(function*(){return(yield e).map(s=>(s.date=i.convertDate(s.date),s))})()}convertDate(e){var r=e.toString().toLowerCase().split("-");return parseInt(r[2],10),r[2]+"-"+r[1]+"-"+r[0]}sortData(e){return e.sort((i,r)=>{const[s,o,a]=i.date.split("-").map(Number),[l,c,u]=r.date.split("-").map(Number);return u!==a?u-a:c!==o?c-o:l-s})}getColorByType(e){const i=this.opTipos[0].indexOf(e);return-1!==i?this.opTipos[1][i]:"greenyellow"}convert(e){var r=e.toString().toLowerCase().split("/");return parseInt(r[2],10)}applyFilters(){this.resultFilter=this.data.filter(e=>"Todos"===this.selectedCategory||e.type===this.selectedCategory).filter(e=>this.convertYear(e)).filter(e=>"Todos"===this.selectedScore||e.score===this.selectedScore),this.resultCount=this.resultFilter.length}convertYear(e){if("All"!=this.selectedYear){const r=e.date.toString().toLowerCase().split("-");return parseInt(r[2],10)+""===this.selectedYear}return!0}filterType(e){this.selectedCategory=e.target.value,this.applyFilters()}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}filterScore(e){this.selectedScore=e.target.value,this.applyFilters()}sortDataByScore(){this.resultFilter=this.resultFilter.sort((e,i)=>{const r=e.score,s=i.score;return"asc"===this.currentSortOrder?r-s:s-r}),this.currentSortOrder="asc"===this.currentSortOrder?"desc":"asc"}getColor(e){return 5==e?"gold":""}toggleInfo(e){this.selectedCardIndex=this.selectedCardIndex===e?null:e}deleteData(e){var i=this;return S(function*(){try{i.loading=!0,"Movies"===i.type?yield i.movieService.deleteMovie(e.id):"Series"===i.type?yield i.seriesService.deleteSerie(e.id):"Animes"===i.type?yield i.animeService.deleteAnime(e.id):"Games"===i.type?yield i.gameService.deleteGames(e.id):"Books"===i.type?yield i.libroService.deleteBook(e.id):"Music"===i.type&&(yield i.musicService.deleteMusic(e.id))}catch{i.showAlert("Error al eliminar","error",3e3)}finally{i.loading=!1,i.loadData(i.type),i.showAlert("Dato Eliminado","success",2e3)}})()}rate(e,i){var r=this;return S(function*(){e.score=i;try{r.loading=!0,"Movies"===r.type?yield r.movieService.updateMovie(e.id,e.score):"Series"===r.type?yield r.seriesService.updateSerie(e.id,e.score):"Animes"===r.type?yield r.animeService.updateAnime(e.id,e.score):"Games"===r.type?yield r.gameService.updateGames(e.id,e.score):"Books"===r.type?yield r.libroService.updateBook(e.id,e.score):"Music"===r.type&&(yield r.musicService.updateMusic(e.id,e.score))}catch{r.showAlert("Error al actualizar el score","error",3e3)}finally{r.loading=!1,r.loadData(r.type),r.showAlert("Dato Actualizado","success",2e3)}})()}showAlert(e,i,r){this.alertService.showAlert(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(y(yy),y(Hg),y($g),y(Ug),y(Gg),y(zg),y(jg),y(ii),y(Dc))};static#t=this.\u0275cmp=Be({type:n,selectors:[["app-workplace"]],decls:52,vars:13,consts:[[1,"body"],[3,"click"],[1,"uil","uil-letter-japanese-a"],[1,"uil","uil-ticket"],[1,"uil","uil-files-landscapes"],[1,"uil","uil-book-alt"],[1,"uil","uil-basketball-hoop"],[1,"uil","uil-music"],[1,"d-flex","flex-wrap"],[1,"list",2,"display","flex","flex-wrap","wrap"],[2,"margin-left","2%","margin-top","3%"],[1,"row","filter","col-lg-12","col-12",2,"margin-top","3%","margin-bottom","3%"],[1,"col-lg-2","col-12"],[1,"col-lg-10","col-12",2,"text-align","end"],["id","opTipos",3,"change"],["disabled","","selected","",2,"display","none"],[3,"value",4,"ngFor","ngForOf"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","opCalificacion",3,"change"],[1,"uil",3,"ngClass"],[1,"container"],[1,"row"],["class","col-lg-2 col-6 col-md-4",4,"ngFor","ngForOf"],["class","loading-overlay",4,"ngIf"],[3,"value"],[3,"value","selected"],[1,"col-lg-2","col-6","col-md-4"],[1,"card",3,"click"],[1,"contenedor"],["alt","#",3,"ngClass","src"],[1,"triangulo"],[1,"centrado"],[1,"star"],[1,"info"],[1,"row","col-lg-12"],[1,"col-lg-12"],[1,"invert","invertTitle"],[1,"col-12",2,"margin-top","5%"],[1,"invert"],[1,"star-rating"],["style","margin: 0; padding: 0;",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-lg-12",2,"margin-top","5%"],[2,"margin-top","5%","width","100%","border","1px solid #ffffff",3,"click"],[1,"title"],[2,"margin","0","padding","0",3,"ngClass","click"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"header")(2,"button",1),$("click",function(){return r.loadData("Animes")}),te(3,"i",2),B(4," Anime"),T(),x(5,"button",1),$("click",function(){return r.loadData("Movies")}),te(6,"i",3),B(7," Peliculas"),T(),x(8,"button",1),$("click",function(){return r.loadData("Series")}),te(9,"i",4),B(10," Series"),T(),x(11,"button",1),$("click",function(){return r.loadData("Books")}),te(12,"i",5),B(13," Libros"),T(),x(14,"button",1),$("click",function(){return r.loadData("Games")}),te(15,"i",6),B(16," Juegos"),T(),x(17,"button",1),$("click",function(){return r.loadData("Music")}),te(18,"i",7),B(19," Musica"),T()(),x(20,"div",8)(21,"div",9)(22,"div",10)(23,"h1"),B(24),T()(),x(25,"div",11)(26,"div",12)(27,"p"),B(28),T()(),x(29,"div",13)(30,"select",14),$("change",function(o){return r.filterType(o)}),x(31,"option",15),B(32,"Categoria"),T(),x(33,"option"),B(34,"Todos"),T(),F(35,Gbe,2,2,"option",16),T(),x(36,"select",17),$("change",function(o){return r.filterYear(o)}),x(37,"option"),B(38,"All"),T(),F(39,zbe,2,3,"option",18),T(),x(40,"select",19),$("change",function(o){return r.filterScore(o)}),x(41,"option",15),B(42,"Calificacion"),T(),x(43,"option"),B(44,"Todos"),T(),F(45,jbe,2,2,"option",16),T(),x(46,"button",1),$("click",function(){return r.sortDataByScore()}),te(47,"i",20),T()()(),x(48,"div",21)(49,"div",22),F(50,Kbe,26,18,"div",23),T()()()(),F(51,Xbe,2,0,"div",24),T()),2&i&&(Rn("background",r.color),w(24),Ht("Lista de ",r.message,""),w(4),Ht("Total: ",r.resultCount,""),w(7),D("ngForOf",r.opTipos[0]),w(4),D("ngForOf",r.opAnios),w(6),D("ngForOf",r.opCalificacion),w(2),D("ngClass",Ro(10,Qbe,"asc"===r.currentSortOrder,"desc"===r.currentSortOrder)),w(3),D("ngForOf",r.resultFilter),w(1),D("ngIf",r.loading))},dependencies:[Fo,pi,ni,dh,hh],styles:['.list[_ngcontent-%COMP%]{max-height:calc(105vh - 60px);overflow-y:auto;width:100%}.contenedor[_ngcontent-%COMP%]{position:relative;display:inline-block;text-align:center}.triangulo[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:0;height:0;border-left:90px solid transparent;border-bottom:90px solid #1212129a}.centrado[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;color:#fff;transform:translate(0)}header[_ngcontent-%COMP%]{background-color:transparent;color:#fff;padding:5px 20px;text-align:right;border-radius:10px}s[_ngcontent-%COMP%]   .etiqueta[_ngcontent-%COMP%]{width:50%;background-color:#ff0;color:#000;box-shadow:0 0 29px #3c3c3c6b;border-radius:5px;font-family:"Hedvig Letters Serif",serif;text-align:center;text-decoration:none}.title[_ngcontent-%COMP%]{color:#fff;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}.star[_ngcontent-%COMP%]{font-size:18px;color:gray;cursor:pointer}.filled[_ngcontent-%COMP%]{color:gold}select[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}button[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}.body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px;height:calc(102vh - 60px)}.container[_ngcontent-%COMP%]{height:calc(71vh - 60px);align-items:end}.list[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.card[_ngcontent-%COMP%]{padding:5px;margin:5px;background-color:transparent;border:none}.imagen[_ngcontent-%COMP%]{width:100%;height:250px;border:1px solid #000000;border-radius:10px}.imagenMusica[_ngcontent-%COMP%]{width:100%;height:200px;border:1px solid #000000;border-radius:10px}@media (max-width:1000px){.card[_ngcontent-%COMP%]{width:100%;margin:0% 0% 2%}.imagen[_ngcontent-%COMP%]{height:180px}.title[_ngcontent-%COMP%]{display:none}.etiqueta[_ngcontent-%COMP%]{font-size:.8rem}select[_ngcontent-%COMP%]{font-size:1rem}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000c4;display:flex;justify-content:center;align-items:center;z-index:1000}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#333;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.info[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;background-color:#000000e6;color:#fff;transition:right .3s ease;opacity:0;border-radius:10px;pointer-events:none;text-align:left;padding:10%}.info.visible[_ngcontent-%COMP%]{right:0;opacity:1;pointer-events:auto}.invert[_ngcontent-%COMP%]{font-size:.7rem}.invertTitle[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;height:3em}.star-rating[_ngcontent-%COMP%]{font-size:1.2rem;color:gray}.star-rating[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}']})}return n})(),CW=(()=>{class n{constructor(e,i){this.router=e,this.dataService=i,this.anioActual=""}ngOnInit(){this.anioActual=(new Date).getFullYear()+""}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}navegarCreate(){this.router.navigate(["/Create"])}navegarTier(){this.router.navigate(["/Tier"])}navegarLibrary(){this.router.navigate(["/library"])}navegarPendingList(){this.router.navigate(["/PendingList"])}navegarDiscoverPage(){this.router.navigate(["/"])}toggleMobileMenu(){const e=document.getElementById("menu");e.style.display="block"===e.style.display?"none":"block"}static#e=this.\u0275fac=function(i){return new(i||n)(y(ii),y(Dc))};static#t=this.\u0275cmp=Be({type:n,selectors:[["app-sidebar"]],decls:34,vars:0,consts:[[1,"menu","px-4"],[1,"row","gx-5"],[1,"column","col-lg-12",2,"background-color","#121212"],[1,"top","col-lg-12","d-flex","justify-content-between",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"uil","uil-user",2,"color","white","font-size","2.5rem"],[1,"link",3,"click"],[1,"uil","uil-search"],[1,"uil","uil-apps"],[1,"iconModal","uil","uil-bookmark"],[1,"columnDesc","col-lg-12",2,"background-color","#121212"],[2,"background-color","#252525","border-radius","2%","padding","5%","margin-top","5%"],[2,"font-size","0.8rem"],[1,"b1","btn",3,"click"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),te(5,"img",5),T(),te(6,"i",6),T(),x(7,"div",7),$("click",function(){return r.navegarDiscoverPage()}),x(8,"h5"),te(9,"i",8),B(10," Descubrir"),T()(),x(11,"div",7),$("click",function(){return r.navegarAComponenteDestino("Games")}),x(12,"h5"),te(13,"i",9),B(14," Biblioteca"),T()(),x(15,"div",7),$("click",function(){return r.navegarPendingList()}),x(16,"h5"),te(17,"i",10),B(18," Pendientes"),T()()(),x(19,"div",11)(20,"div",12)(21,"h5"),B(22,"Crea tu propio registro"),T(),x(23,"p",13),B(24,"En el caso de no encontrar la informacion en la seccion de descubrimiento, Cree tu propio registro."),T(),x(25,"button",14),$("click",function(){return r.navegarCreate()}),B(26,"Crear"),T()(),x(27,"div",12)(28,"h5"),B(29,"Tier"),T(),x(30,"p",13),B(31,"Te permite ver una lista de niveles segun la puntuacion dada."),T(),x(32,"button",14),$("click",function(){return r.navegarTier()}),B(33,"Crear"),T()()()()())},styles:[".column[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px}.columnDesc[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px;height:calc(79vh - 60px)}.imgTitle[_ngcontent-%COMP%]{width:140px;height:90px;margin-left:2%;margin-top:2%}.link[_ngcontent-%COMP%]{margin-bottom:5%;cursor:pointer;width:80%}.link[_ngcontent-%COMP%]:hover{background-color:#ffffff1f}.b1[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border-radius:5px;margin-right:2%;border:1px solid #ffffff}button[_ngcontent-%COMP%]:hover{background-color:#e5ff00;color:#000;border-color:transparent;border-radius:5px}i[_ngcontent-%COMP%]{color:#ffffff79}"]})}return n})();class wW{constructor(t){this.http=t}static getFormData(t){var e=new FormData;for(var i in t)e.append(i,t[i]);return e}static imageToByte(t){return new Promise((i,r)=>{const s=new FileReader;s.onload=o=>{i(o.target.result.split("base64,")[1])},s.readAsDataURL(t),s.onerror=r})}static byteToImage(t){return this._sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+t)}static imageToByteFromUrl(t,e){var i=this;return S(function*(){var r;if(!(r="Movies"==e||"Series"==e||"Books"==e||"Games"==e?yield fetch("https://corsproxy.io/?"+encodeURIComponent(t)):yield fetch(t)).ok)throw new Error("No se pudo cargar la imagen");const s=yield r.blob();let a=yield new Promise((l,c)=>{const u=new FileReader;u.onload=d=>{l(d.target.result.split("base64,")[1])},u.readAsDataURL(s),u.onerror=c});return 3*a.length/4>1e6&&(console.log("deberia entrar"),a=yield i.resizeImage(s)),a})()}static resizeImage(t){return S(function*(){const e=new Image,i=URL.createObjectURL(t),s=yield new Promise((d,h)=>{e.onload=()=>{URL.revokeObjectURL(i),d(e)},e.onerror=h,e.src=i}),o=document.createElement("canvas"),a=o.getContext("2d"),l=s.width/5,c=s.height/5;return o.width=l,o.height=c,a?.drawImage(s,0,0,l,c),new Promise((d,h)=>{o.toBlob(f=>{if(!f)return h(new Error("No se pudo crear el blob del canvas"));const p=new FileReader;p.onload=m=>{d(m.target.result.split("base64,")[1])},p.readAsDataURL(f),p.onerror=h})})})()}}const Jbe=function(n){return{selected:n}};function exe(n,t){if(1&n){const e=Bt();x(0,"span",22),$("click",function(){const s=Qe(e).index,o=V();return Ze(o.rate(o.data,s+1))}),B(1," \u2605 "),T()}if(2&n){const e=t.index,i=V();D("ngClass",ti(1,Jbe,e+1<=i.data.score))}}function txe(n,t){if(1&n&&(x(0,"option",25),B(1),T()),2&n){const e=t.$implicit;D("value",e),w(1),Nn(e)}}function nxe(n,t){if(1&n){const e=Bt();x(0,"div",8)(1,"div",9)(2,"label"),B(3,"Tipo:"),T()(),x(4,"div",10)(5,"select",23),$("ngModelChange",function(r){return Qe(e),Ze(V().data.type=r)}),F(6,txe,2,2,"option",24),T()()()}if(2&n){const e=V();w(5),D("ngModel",e.data.type),w(1),D("ngForOf",e.opTipos[0])}}let ixe=(()=>{class n{constructor(e,i,r,s,o,a,l,c){this.router=e,this.dataService=i,this.musicService=r,this.libroService=s,this.juegosService=o,this.animeService=a,this.movieService=l,this.serieServicio=c,this.data={},this.opTipos=[],this.opCalificacion=[],this.stars=Array(5).fill(!1),this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","blue","green","yellow","Pink","White","lightYellow","lightblue","Purple"]],this.opCalificacion=["0","1","2","3","4","5"]}obtenerImagen(e){wW.imageToByte(e.target.files[0]).then(s=>{this.data.image=s})}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}onSubmit(){"Peliculas"==this.tipo&&this.movieService.createMovies(this.data),"Series"==this.tipo&&this.serieServicio.createSeries(this.data),"Animes"==this.tipo&&this.animeService.createAnimes(this.data),"Juegos"==this.tipo&&this.juegosService.createGames(this.data),"Libros"==this.tipo&&this.libroService.createBook(this.data),"Musica"==this.tipo&&this.musicService.createMusic(this.data),this.navegarAComponenteDestino(this.tipo)}rate(e,i){e.score=i}static#e=this.\u0275fac=function(i){return new(i||n)(y(ii),y(Dc),y(Hg),y(Ug),y(Gg),y(jg),y($g),y(zg))};static#t=this.\u0275cmp=Be({type:n,selectors:[["app-create"]],decls:51,vars:6,consts:[[1,"body"],[1,"top","d-flex","flex-column",2,"height","210px","border-bottom","1px solid #000"],[1,"mt-auto","d-flex",2,"padding-left","5%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"down",2,"text-align","start","padding","5%"],[3,"ngSubmit"],["movieForm","ngForm"],[1,"row","col-lg-12"],[1,"col-lg-2"],[1,"col-lg-10",2,"width","30%"],["name","tipo","id","tipo",3,"ngModel","ngModelChange"],["type","text","id","name","name","name","placeholder","Name","required","",1,"date",3,"ngModel","ngModelChange"],["type","date","id","date","name","date","required","",1,"date",3,"ngModel","ngModelChange"],[1,"row","col-lg-12",2,"margin-bottom","1%"],[2,"margin-top","10%"],[1,"star-rating"],["style","margin: 0; padding: 0;",3,"ngClass","click",4,"ngFor","ngForOf"],["class"," row col-lg-12",4,"ngIf"],[2,"width","45%"],["id","formFileLg","name","formFileLg","type","file","accept","image/png, .jpeg, .jpg, image/gif",3,"change"],["type","submit",3,"disabled"],[2,"margin","0","padding","0",3,"ngClass","click"],["id","type","name","type",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){if(1&i&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),te(4,"img",4),T()()(),x(5,"div",5)(6,"form",6,7),$("ngSubmit",function(){return r.onSubmit()}),x(8,"div",8)(9,"div",9)(10,"label"),B(11,"Categoria:"),T()(),x(12,"div",10)(13,"select",11),$("ngModelChange",function(o){return r.tipo=o}),x(14,"option"),B(15,"Peliculas"),T(),x(16,"option"),B(17,"Series"),T(),x(18,"option"),B(19,"Animes"),T(),x(20,"option"),B(21,"Juegos"),T(),x(22,"option"),B(23,"Libros"),T(),x(24,"option"),B(25,"Musica"),T()()()(),x(26,"div",8)(27,"div",9)(28,"label"),B(29,"Name:"),T()(),x(30,"div",10)(31,"input",12),$("ngModelChange",function(o){return r.data.name=o}),T()()(),x(32,"div",8)(33,"div",9)(34,"label"),B(35,"Date:"),T()(),x(36,"div",10)(37,"input",13),$("ngModelChange",function(o){return r.data.date=o}),T()()(),x(38,"div",14)(39,"div",9)(40,"label",15),B(41,"Calificacion:"),T()(),x(42,"div",10)(43,"div",16),F(44,exe,2,3,"span",17),T()()(),F(45,nxe,7,2,"div",18),x(46,"div",19)(47,"input",20),$("change",function(o){return r.obtenerImagen(o)}),T()(),x(48,"div",19)(49,"button",21),B(50,"Submit"),T()()()()()),2&i){const s=function vs(n){return function ru(n,t){return n[t]}(function pK(){return Me.lFrame.contextLView}(),nt+n)}(7);w(13),D("ngModel",r.tipo),w(18),D("ngModel",r.data.name),w(6),D("ngModel",r.data.date),w(7),D("ngForOf",r.stars),w(1),D("ngIf","Juegos"!==r.tipo&&"Musica"!==r.tipo),w(4),D("disabled",!s.valid)}},dependencies:[Fo,pi,ni,iW,dh,hh,oh,uh,Wg,Gj,fh,ch,Eb],styles:["input[_ngcontent-%COMP%]{width:100%;margin-bottom:4%}button[_ngcontent-%COMP%]{width:100%}select[_ngcontent-%COMP%]{width:100%;margin-bottom:4%}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}.container[_ngcontent-%COMP%]{padding:2%;border-radius:10px}.body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px;height:calc(102vh - 60px)}.star-rating[_ngcontent-%COMP%]{font-size:2rem;color:gray;margin-top:0%}.star-rating[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}select[_ngcontent-%COMP%]{margin-top:5%;width:100%;font-size:1.2rem;border:none;color:#fff;background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}.date[_ngcontent-%COMP%]{margin-top:4%;width:100%;font-size:1.2rem;border:1px solid rgba(255,255,255,.39);color:#fff;background-color:transparent}"]})}return n})();function rxe(n,t){if(1&n&&(x(0,"option",17),B(1),T()),2&n){const e=t.$implicit,i=V();D("value",e)("selected",e===i.opAnios[0]),w(1),Nn(e)}}function sxe(n,t){if(1&n&&(x(0,"div",22),te(1,"img",23),T()),2&n){const e=t.$implicit;w(1),lv("title",e.name),D("src",e.image,Ta)}}function oxe(n,t){if(1&n&&(x(0,"div")(1,"div",18)(2,"div",19)(3,"h5"),B(4),T()(),x(5,"div",20),F(6,sxe,2,2,"div",21),T()()()),2&n){const e=t.$implicit,i=V();w(2),Rn("background-color",i.tier[1][e]),w(2),Nn(i.categorias[e]),w(2),D("ngForOf",i.dataScore(i.resultFilter,i.categorias.length-e))}}function axe(n,t){1&n&&(x(0,"div",24),te(1,"div",25),T())}let lxe=(()=>{class n{constructor(e,i,r,s,o,a,l){this.router=e,this.musicService=i,this.animeService=r,this.movieService=s,this.seriesService=o,this.gameService=a,this.libroService=l,this.categorias=["Dioos","Buenas","Normal","Malas","Olvidables"],this.data=[],this.anioActual="",this.opAnios=["2024","2023","2022","2021","2020","2019","Todos"],this.selectedYear=this.opAnios[0],this.resultFilter=[],this.resultCount=0,this.tier=[[0,1,2,3,4],["#FF7F7F","#FFBF7F","#FFDF7F","#FFFF7F","#BFFF7F"]],this.loading=!1}ngOnInit(){}loadData(e){var i=this;return S(function*(){try{i.loading=!0,"Movies"===e?i.data=yield i.loadDataForType(i.movieService.getMovies()):"Series"===e?i.data=yield i.loadDataForType(i.seriesService.getSeries()):"Animes"===e?i.data=yield i.loadDataForType(i.animeService.getAnimes()):"Games"===e?i.data=yield i.loadDataForType(i.gameService.getGames()):"Books"===e?i.data=yield i.loadDataForType(i.libroService.getBook()):"Music"===e&&(i.data=yield i.loadDataForType(i.musicService.getMusic())),console.log(i.selectedYear),i.applyFilters(),i.data.forEach(r=>{r.image="data:image/jpg;base64,"+r.image}),i.resultFilter=i.data,i.resultCount=i.resultFilter.length}catch(r){console.error("Error:",r)}finally{i.loading=!1}})()}loadDataForType(e){return S(function*(){return(yield e).map(r=>r)})()}convertYear(e){const i=e.split("-");return parseInt(i[0],10)+""}dataScore(e,i){return e.filter(r=>r.score==i)}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}applyFilters(){"Todos"===this.selectedYear?(this.resultFilter=this.data,console.log(1)):(this.data=this.data.filter(e=>this.convertYear(e.date)==this.selectedYear),console.log(2))}navegarHome(){this.router.navigate(["./"])}static#e=this.\u0275fac=function(i){return new(i||n)(y(ii),y(Hg),y(jg),y($g),y(zg),y(Gg),y(Ug))};static#t=this.\u0275cmp=Be({type:n,selectors:[["app-tier"]],decls:32,vars:4,consts:[[1,"body"],[1,"row"],[1,"col-lg-3",2,"text-align","start"],[1,"col-lg-2",2,"text-align","end"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"col-lg-7"],[3,"click"],[1,"uil","uil-letter-japanese-a"],[1,"uil","uil-ticket"],[1,"uil","uil-files-landscapes"],[1,"uil","uil-book-alt"],[1,"uil","uil-basketball-hoop"],[1,"uil","uil-music"],[1,"container","list","col-lg-12"],[4,"ngFor","ngForOf"],["class","loading-overlay",4,"ngIf"],[3,"value","selected"],[1,"row",2,"margin-top","1%","margin-bottom","1%"],[1,"izq","col-lg-2"],[1,"der","col-lg-10"],["style","display: inline;",4,"ngFor","ngForOf"],[2,"display","inline"],["alt","#",1,"imagen",3,"title","src"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"header")(2,"div",1)(3,"div",2)(4,"p"),B(5),T()(),x(6,"div",3)(7,"div")(8,"select",4),$("change",function(o){return r.filterYear(o)}),F(9,rxe,2,3,"option",5),T()()(),x(10,"div",6)(11,"button",7),$("click",function(){return r.loadData("Animes")}),te(12,"i",8),B(13," Anime"),T(),x(14,"button",7),$("click",function(){return r.loadData("Movies")}),te(15,"i",9),B(16," Peliculas"),T(),x(17,"button",7),$("click",function(){return r.loadData("Series")}),te(18,"i",10),B(19," Series"),T(),x(20,"button",7),$("click",function(){return r.loadData("Books")}),te(21,"i",11),B(22," Libros"),T(),x(23,"button",7),$("click",function(){return r.loadData("Games")}),te(24,"i",12),B(25," Juegos"),T(),x(26,"button",7),$("click",function(){return r.loadData("Music")}),te(27,"i",13),B(28," Musica"),T()()()(),x(29,"div",14),F(30,oxe,7,4,"div",15),T(),F(31,axe,2,0,"div",16),T()),2&i&&(w(5),Ht("Total: ",r.resultCount,""),w(4),D("ngForOf",r.opAnios),w(21),D("ngForOf",r.tier[0]),w(1),D("ngIf",r.loading))},dependencies:[pi,ni,dh,hh],styles:["header[_ngcontent-%COMP%]{background-color:transparent;color:#fff;padding:5px 20px;text-align:right;border-radius:10px}.imagen[_ngcontent-%COMP%]{width:80px;height:130px;margin-right:1%;margin-bottom:1%;margin-top:1%}.izq[_ngcontent-%COMP%]{border-style:solid;border-color:#000;color:#000;display:flex;align-items:center;justify-content:center}.der[_ngcontent-%COMP%]{border-style:solid;border-color:#000;border-left:none;background-color:#252525}button[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}select[_ngcontent-%COMP%]{width:100%;font-size:1.2rem;border:none;color:#fff;background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}.resultCount[_ngcontent-%COMP%]{text-align:right;margin-top:2%}.column[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px}.columnDesc[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px;height:calc(77vh - 60px);background:#121212}.imgTitle[_ngcontent-%COMP%]{width:140px;height:90px;margin-left:2%;margin-top:2%}.link[_ngcontent-%COMP%]{margin-bottom:5%;cursor:pointer}.body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px;height:calc(102vh - 60px);text-align:start}.list[_ngcontent-%COMP%]{height:calc(95vh - 60px);overflow-y:auto}.list[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000c4;display:flex;justify-content:center;align-items:center;z-index:1000}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#333;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}"]})}return n})();const cxe=["addListener","removeListener"],uxe=["addEventListener","removeEventListener"],dxe=["on","off"];function oi(n,t,e,i){if(Je(e)&&(i=e,e=void 0),i)return oi(n,t,e).pipe(G1(i));const[r,s]=function pxe(n){return Je(n.addEventListener)&&Je(n.removeEventListener)}(n)?uxe.map(o=>a=>n[o](t,a,e)):function hxe(n){return Je(n.addListener)&&Je(n.removeListener)}(n)?cxe.map(SW(n,t)):function fxe(n){return Je(n.on)&&Je(n.off)}(n)?dxe.map(SW(n,t)):[];if(!r&&Kx(n))return Xn(o=>oi(o,t,e))(Gn(n));if(!r)throw new TypeError("Invalid event target");return new ut(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function SW(n,t){return e=>i=>n[e](t,i)}function Qg(n=0,t,e=The){let i=-1;return null!=t&&(gN(t)?e=t:i=t),new ut(r=>{let s=function gxe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:mxe}=Array;function DW(n){return 1===n.length&&mxe(n[0])?n[0]:n}function Ab(...n){const t=Ym(n),e=DW(n);return e.length?new ut(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)Gn(e[o]).subscribe(Mt(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Xr}function dM(...n){const t=Ym(n);return Jt((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Gn(n[l]).subscribe(Mt(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Kr))&&(o=null))},Ut));e.subscribe(Mt(i,l=>{if(a){const c=[l,...s];i.next(t?t(...c):c)}}))})}new ut(Ut),Math,Math,Math;const ITe=["*"],qTe=["dialog"];function Mc(n){return null!=n}function vh(n){return(n||document.body).getBoundingClientRect()}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const qW={animation:!0,transitionTimerDelayMs:5},UCe=()=>{},{transitionTimerDelayMs:GCe}=qW,rm=new Map,lr=(n,t,e,i)=>{let r=i.context||{};const s=rm.get(t);if(s)switch(i.runningTransition){case"continue":return Xr;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),rm.delete(t)}const o=e(t,i.animation,r)||UCe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),Se(void 0).pipe(function HCe(n){return t=>new ut(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new we,l=new we,c=a.pipe(function vxe(...n){return t=>Ku(t,Se(...n))}(!0));rm.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function $Ce(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const d=oi(t,"transitionend").pipe(en(c),ki(({target:f})=>f===t));(function EW(...n){return 1===(n=DW(n)).length?Gn(n[0]):new ut(function _xe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(Gn(n[i]).subscribe(Mt(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(Qg(u+GCe).pipe(en(c)),d,l).pipe(en(c)).subscribe(()=>{rm.delete(t),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let Pb=(()=>{class n{constructor(){this.animation=qW.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),e8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),n8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({}),n})(),s8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),o8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({}),n})();var Li=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Li||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const l8=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function c8(n){const t=Array.from(n.querySelectorAll(l8)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let _8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn,uM]]}),n})(),kM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ee({type:n,selectors:[["",8,"navbar"]]}),n})(),b8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({}),n})();class Pc{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let Owe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Sn(1)).subscribe(()=>{lr(this._zone,this._el.nativeElement,(e,i)=>{i&&vh(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return lr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(y(Ue),y(Ae))},n.\u0275cmp=Be({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(Ai("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),xt("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class x8{close(t){}dismiss(t){}}class Lwe{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new we,this._dismissed=new we,this._hidden=new we,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(en(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(en(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function VCe(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Se(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ab(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var MM=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(MM||{});let Fwe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new we,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new K,this.shown=new we,this.hidden=new we}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Sn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=Ab(lr(this._zone,e,()=>e.classList.remove("show"),i),lr(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};Ab(lr(this._zone,this._elRef.nativeElement,(s,o)=>{o&&vh(s),s.classList.add("show")},e),lr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{oi(e,"keydown").pipe(en(this._closed$),ki(r=>r.which===Li.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(MM.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;oi(this._dialogEl.nativeElement,"mousedown").pipe(en(this._closed$),Wn(()=>i=!1),di(()=>oi(e,"mouseup").pipe(en(this._closed$),Sn(1))),ki(({target:r})=>e===r)).subscribe(()=>{i=!0}),oi(e,"click").pipe(en(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(MM.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=c8(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&lr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(y(Ct),y(Ue),y(Ae))},n.\u0275cmp=Be({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&Rl(qTe,7),2&e){let r;Pt(r=Ot())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(xe("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Ai("modal d-block"+(i.windowClass?" "+i.windowClass:"")),xt("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ITe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(Mo(),x(0,"div",0,1)(2,"div",2),qs(3),T()()),2&e&&Ai("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Vwe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}}return n.\u0275fac=function(e){return new(e||n)(P(Ct))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bwe=(()=>{class n{constructor(e,i,r,s,o,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new we,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new K,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=oi(t,"focusin").pipe(en(e),Fe(s=>s.target));oi(t,"keydown").pipe(en(e),ki(s=>s.which===Li.Tab),dM(r)).subscribe(([s,o])=>{const[a,l]=c8(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&oi(t,"click").pipe(en(e),dM(r),Fe(s=>s[1])).subscribe(s=>s.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,s){const o=s.container instanceof HTMLElement?s.container:Mc(s.container)?this._document.querySelector(s.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.hide(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const u=new x8,d=this._getContentRef(e,s.injector||i,r,u,s);let h=!1!==s.backdrop?this._attachBackdrop(e,o):void 0,f=this._attachWindowComponent(e,o,d),p=new Lwe(f,d,h,s.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(f),p.result.then(l,l),p.result.then(c,c),u.close=m=>{p.close(m)},u.dismiss=m=>{p.dismiss(m)},this._applyWindowOptions(f.instance,s),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,s),h.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(Owe).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let o=e.resolveComponentFactory(Fwe).create(this._injector,r.nodes);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{Mc(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{Mc(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,o){return r?r instanceof qt?this._createFromTemplateRef(r,s):function WW(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new Pc([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new Pc([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Pc([[i]])}_createFromComponent(e,i,r,s,o){const a=e.resolveComponentFactory(r),l=mn.create({providers:[{provide:x8,useValue:s}],parent:i}),c=a.create(l),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Pc([[u]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(P(xs),P(mn),P(Ct),P(Vwe),P(Ca),P(Ae))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hwe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(P(Pb))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RM=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(P(Sl),P(mn),P(Bwe),P(Hwe))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({providers:[RM]}),n})(),D8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),P8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),L8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),F8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),V8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),B8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),H8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),$8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({}),n})();new X("live announcer delay",{providedIn:"root",factory:function Jwe(){return 100}});let U8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})();const e1e=[JW,e8,n8,s8,o8,_8,b8,T8,D8,P8,L8,F8,V8,B8,H8,$8,U8];let t1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[e1e,JW,e8,n8,s8,o8,_8,b8,T8,D8,P8,L8,F8,V8,B8,H8,$8,U8]}),n})(),G8=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml",this.firestore=ne(uo)}getReco(){var e=this;return S(function*(){const i=Tr(e.firestore,"recomendacion");return(yield Cc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createReco(e,i){var r=this;return S(function*(){const s=Tr(r.firestore,"recomendacion");xc(s,{name:e.name,date:e.date,image:e.image,visible:!0,liked:!1,type:i,releaseDate:e.releaseDate,randomData:e.randomData})})()}updateReco(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`recomendacion/${e}`);yield wc(s,{liked:i})})()}deleteReco(e){var i=this;return S(function*(){const r=Cr(i.firestore,`recomendacion/${e}`);yield Tc(r)})()}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n1e(n,t){if(1&n&&(x(0,"div",16)(1,"p"),B(2),T()()),2&n){const e=V();w(2),Ht("Score: ",e.data.randomData,"")}}function i1e(n,t){if(1&n&&(x(0,"div",16)(1,"p"),B(2),T()()),2&n){const e=V();w(2),Ht("Page count: ",e.data.randomData,"")}}function r1e(n,t){if(1&n&&(x(0,"div",16)(1,"p"),B(2),T()()),2&n){const e=V();w(2),Ht("Plataform: ",e.data.randomData,"")}}function s1e(n,t){if(1&n&&(x(0,"div",16)(1,"p"),B(2),T()()),2&n){const e=V();w(2),Ht("Total Tracks: ",e.data.randomData,"")}}const o1e=function(n){return{selected:n}};function a1e(n,t){if(1&n){const e=Bt();x(0,"span",26),$("click",function(){const s=Qe(e).index;return Ze(V().rate(s+1))}),B(1," \u2605 "),T()}if(2&n){const e=t.index,i=V();D("ngClass",ti(1,o1e,e+1<=i.dataModal.score))}}function l1e(n,t){if(1&n&&(x(0,"option",29),B(1),T()),2&n){const e=t.$implicit;D("value",e),w(1),Nn(e)}}function c1e(n,t){if(1&n){const e=Bt();x(0,"div",18)(1,"select",27),$("ngModelChange",function(r){return Qe(e),Ze(V().dataModal.type=r)}),F(2,l1e,2,2,"option",28),T()()}if(2&n){const e=V();w(1),D("ngModel",e.dataModal.type),w(1),D("ngForOf",e.opTipos[0])}}function u1e(n,t){1&n&&(x(0,"div",30),te(1,"div",31),T())}let d1e=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u,d,h){this.router=e,this.dataService=i,this.modalService=r,this.recoService=s,this.alertService=o,this.musicService=a,this.libroService=l,this.juegosService=c,this.animeService=u,this.movieService=d,this.serieServicio=h,this.opTipos=[],this.opCalificacion=[],this.loading=!1,this.open=!1,this.stars=Array(5).fill(!1),this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","blue","green","yellow","Pink","White","lightYellow","lightblue","Purple"]],this.opCalificacion=["0","1","2","3","4","5"]}ngOnInit(){this.dataModal={...this.data},this.open=!0}closeModal(){this.modalService.dismissAll()}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}getFormattedDate(e){const i=e.getDate(),r=e.getMonth()+1;return`${e.getFullYear()}-${r}-${i}`}obtenerImagen(e,i){var r=this;return S(function*(){try{r.loading=!0;const s=yield wW.imageToByteFromUrl(e,i);r.dataModal.image=s}catch{r.showAlert("Error al obtener la imagen","error")}finally{r.loading=!1}})()}save(){var e=this;return S(function*(){try{yield e.obtenerImagen(e.data.image,e.type),e.dataModal.date=e.data.date,"Animes"==e.type&&(yield e.animeService.createAnimes(e.dataModal)),"Movies"==e.type&&(yield e.movieService.createMovies(e.dataModal)),"Series"==e.type&&(yield e.serieServicio.createSeries(e.dataModal)),"Games"==e.type&&(yield e.juegosService.createGames(e.dataModal)),"Books"==e.type&&(yield e.libroService.createBook(e.dataModal)),"Music"==e.type&&(yield e.musicService.createMusic(e.dataModal)),e.closeModal(),e.showAlert("Guardado exitosamente","success")}catch{e.showAlert("Error al guardar","error")}})()}saveReco(){var e=this;return S(function*(){try{yield e.obtenerImagen(e.data.image,e.type),e.dataModal.date=e.getFormattedDate(new Date),console.log("imaReco "+e.dataModal.image),yield e.recoService.createReco(e.dataModal,e.type),e.closeModal(),e.showAlert("Guardado exitosamente","success")}catch{e.showAlert("Error al guardar","error")}})()}rate(e){this.dataModal.score=e}showAlert(e,i){this.alertService.showAlert(e,i)}static#e=this.\u0275fac=function(i){return new(i||n)(y(ii),y(Dc),y(RM),y(G8),y(yy),y(Hg),y(Ug),y(Gg),y(jg),y($g),y(zg))};static#t=this.\u0275cmp=Be({type:n,selectors:[["app-modal"]],inputs:{data:"data",type:"type"},decls:39,vars:12,consts:[[1,"modalPrin"],[1,"modal-header"],[1,"modal-title"],["aria-label","Cerrar",1,"btnClose",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-lg-3"],["id","myImage","alt","#",1,"imagen",3,"src"],[1,"row","col-lg-9"],[1,"row","col-lg-12"],[1,"col-lg-11"],[1,"synopsis"],[1,"col-lg-1"],[1,"btnModal","btn",3,"click"],[1,"iconModal","uil","uil-bookmark"],[1,"col-lg-6"],["class","col-lg-6",4,"ngIf"],[1,"col-lg-4"],[1,"star-rating"],["style","margin: 0; padding: 0;",3,"ngClass","click",4,"ngFor","ngForOf"],["type","date","id","date","name","date","required","",1,"date",2,"width","100%",3,"ngModel","ngModelChange"],["class","col-lg-4",4,"ngIf"],[1,"d-flex","justify-content-end"],[1,"iconModal","uil","uil-save"],["class","loading-overlay",4,"ngIf"],[2,"margin","0","padding","0",3,"ngClass","click"],["id","type","name","type",2,"width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1)(2,"h4",2),B(3),T(),x(4,"button",3),$("click",function(){return r.closeModal()}),x(5,"span",4),B(6,"\xd7"),T()()(),x(7,"div",5)(8,"div",6)(9,"div",7),te(10,"img",8),T(),x(11,"div",9)(12,"div",10)(13,"div",11)(14,"p",12),B(15),T()(),x(16,"div",13)(17,"button",14),$("click",function(){return r.saveReco()}),te(18,"i",15),T()()(),x(19,"div",10)(20,"div",16)(21,"p"),B(22),T()(),F(23,n1e,3,1,"div",17),F(24,i1e,3,1,"div",17),F(25,r1e,3,1,"div",17),F(26,s1e,3,1,"div",17),T(),x(27,"div",10)(28,"div",18)(29,"div",19),F(30,a1e,2,3,"span",20),T()(),x(31,"div",18)(32,"input",21),$("ngModelChange",function(o){return r.data.date=o}),T()(),F(33,c1e,3,2,"div",22),T()(),x(34,"div",23)(35,"button",14),$("click",function(){return r.save()}),x(36,"i",24),B(37," Save"),T()()()(),F(38,u1e,2,0,"div",25),T()()),2&i&&(w(3),Nn(r.data.name),w(7),D("src",r.data.image,Ta),w(5),Nn(r.data.info),w(7),Ht("Release date: ",r.data.releaseDate,""),w(1),D("ngIf","Animes"==r.type||"Movies"==r.type||"Series"==r.type),w(1),D("ngIf","Books"==r.type),w(1),D("ngIf","Games"==r.type),w(1),D("ngIf","Music"==r.type),w(4),D("ngForOf",r.stars),w(2),D("ngModel",r.data.date),w(1),D("ngIf","Games"!==r.type&&"Music"!==r.type),w(5),D("ngIf",r.loading))},dependencies:[Fo,pi,ni,dh,hh,oh,uh,Wg,fh,ch],styles:[".modalPrin[_ngcontent-%COMP%]{width:60%;height:60%;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#000000e6;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0003}.modal-title[_ngcontent-%COMP%]{margin-top:0}.imagen[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #000000;border-radius:10px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000c4;display:flex;justify-content:center;align-items:center;z-index:1000}.loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#333;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@media (max-width:1000px){.modalPrin[_ngcontent-%COMP%]{width:100%;height:100%}.imagen[_ngcontent-%COMP%]{display:none}.synopsis[_ngcontent-%COMP%]{max-height:150px}}.btnClose[_ngcontent-%COMP%]{color:#fff;background-color:transparent;border:none;font-size:28px;font-weight:700;margin:0;padding:0}.btnClose[_ngcontent-%COMP%]:focus{outline:none}.synopsis[_ngcontent-%COMP%]{color:#fff;text-align:left;overflow:hidden;text-overflow:ellipsis;overflow-y:auto;height:225px}.synopsis[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.btnModal[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;margin-bottom:25%}.btnModal[_ngcontent-%COMP%]:hover{background-color:#deff2536}.iconModal[_ngcontent-%COMP%]{font-size:30px}select[_ngcontent-%COMP%]{margin-top:5%;width:100%;font-size:1.2rem;border:none;color:#fff;background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}.date[_ngcontent-%COMP%]{margin-top:4%;width:100%;font-size:1.2rem;border:1px solid rgba(255,255,255,.39);color:#fff;background-color:transparent}.star-rating[_ngcontent-%COMP%]{font-size:2rem;color:gray;margin-top:0%}.star-rating[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}"]})}return n})(),h1e=(()=>{class n{constructor(e){this.http=e,this.clientId="9998ee121c5f4a079c5ff6deb08d173b",this.clientSecret="594499dbcc5e4ee7b446e9171ac8536e",this.apiUrl="https://api.spotify.com/v1/search?",this.tokenUrl="https://accounts.spotify.com/api/token"}getToken(){const e=new bn({"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(this.clientId+":"+this.clientSecret)});return this.http.post(this.tokenUrl,"grant_type=client_credentials",{headers:e}).pipe(di(r=>r.access_token?Se(r.access_token):Xu("No se recibi\xf3 un token de acceso.")))}getAlbums(e,i){return this.getToken().pipe(di(r=>{const s=new bn({Authorization:"Bearer "+r});return this.http.get(this.apiUrl,{headers:s,params:{query:"genre%reggaeton",type:"album",limit:i,offset:e}})}))}getAlbumsByName(e,i){return this.getToken().pipe(di(r=>{const s=new bn({Authorization:"Bearer "+r});return this.http.get(this.apiUrl,{headers:s,params:{query:e,type:"album",limit:i,offset:0}})}))}getAlbumsAiring(){return this.getToken().pipe(di(e=>{const i=new bn({Authorization:"Bearer "+e});return this.http.get(this.apiUrl,{headers:i,params:{query:"genre%reggaeton",type:"artist",limit:24,offset:0}})}))}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),f1e=(()=>{class n{constructor(e){this.http=e,this.apiUrl="https://video-games-api2.p.rapidapi.com/games",this.apiKey="1b43d6d217msh5679d2090715dc5p1ade91jsn74e967e5c2a7",this.host="video-games-api2.p.rapidapi.com"}getGames(e){const i=`${this.apiUrl}/all?page=${e}`,r=new bn({"X-RapidAPI-Key":this.apiKey,"X-RapidAPI-Host":this.host});return this.http.get(i,{headers:r})}seachGames(e){const i=`${this.apiUrl}/title-search?title=${e}`,r=new bn({"X-RapidAPI-Key":this.apiKey,"X-RapidAPI-Host":this.host});return this.http.get(i,{headers:r})}getGamesByPC(e){const i=`${this.apiUrl}/by-platform/PC`,r=new bn({"X-RapidAPI-Key":this.apiKey,"X-RapidAPI-Host":this.host});return this.http.get(i,{headers:r})}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),p1e=(()=>{class n{constructor(e){this.http=e,this.apiUrl="https://api.themoviedb.org/3",this.apiKey="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMWM2NjU1N2E4NjMwNDkyOTBmNmEwM2FmNWM3OTMxMCIsInN1YiI6IjY2NTdmOTcwNDNiNzk3M2U1YmE4ZGMzMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Xq7YDULdvUB62j3D7B25vmzEUCqkC8SMOCaeqQ2Dpx8"}getMovies(e){const i=`${this.apiUrl}/discover/movie?page=${e}`,r=new bn({"Content-Type":'"accept", "application/json"',Authorization:this.apiKey});return this.http.get(i,{headers:r})}seachMovies(e){const i=`${this.apiUrl}/search/movie?query=${e}`,r=new bn({"Content-Type":'"accept", "application/json"',Authorization:this.apiKey});return this.http.get(i,{headers:r})}getMoviesAiring(e,i){const r=`${this.apiUrl}/discover/movie?primary_release_date.gte=${e}&primary_release_date.lte=${i}`,s=new bn({"Content-Type":'"accept", "application/json"',Authorization:this.apiKey});return this.http.get(r,{headers:s})}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),g1e=(()=>{class n{constructor(e){this.http=e,this.apiUrl="https://api.themoviedb.org/3",this.apiKey="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMWM2NjU1N2E4NjMwNDkyOTBmNmEwM2FmNWM3OTMxMCIsInN1YiI6IjY2NTdmOTcwNDNiNzk3M2U1YmE4ZGMzMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Xq7YDULdvUB62j3D7B25vmzEUCqkC8SMOCaeqQ2Dpx8"}getSeries(e){const i=`${this.apiUrl}/discover/tv?page=${e}`,r=new bn({"Content-Type":'"accept", "application/json"',Authorization:this.apiKey});return this.http.get(i,{headers:r})}seachSeries(e){const i=`${this.apiUrl}/search/tv?query=${e}`,r=new bn({"Content-Type":'"accept", "application/json"',Authorization:this.apiKey});return this.http.get(i,{headers:r})}getSeriesAiring(e,i){const r=`${this.apiUrl}/discover/tv?first_air_date.gte=${e}&first_air_date.lte=${i}&sort_by=popularity.desc`,s=new bn({"Content-Type":'"accept", "application/json"',Authorization:this.apiKey});return this.http.get(r,{headers:s})}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),m1e=(()=>{class n{constructor(e){this.http=e,this.apiUrl="https://api.jikan.moe/v4/anime"}getAnimeByPage(e){return this.http.get(`${this.apiUrl}?page=${e}&limit=24`)}getAnimeAiring(){return this.http.get(`${this.apiUrl}?status=airing&order_by=popularity`)}searchAnimesByName(e,i){return this.http.get(`${this.apiUrl}?q=${e}&page=1`)}getAnimeByRange(){return this.http.get(`${this.apiUrl}?max_score=5`)}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_1e=(()=>{class n{constructor(e){this.http=e,this.API_URL="https://www.googleapis.com/books/v1/volumes"}getBooks(e,i){return this.http.get(`${this.API_URL}?q=""+subject:fantasy&startIndex=${e}&maxResults=24&printType=books`)}getBooksByName(e){return this.http.get(`${this.API_URL}?q=${e}&maxResults=24&printType=books`)}getBooksByNew(){return this.http.get(`${this.API_URL}?q=""+subject:fantasy&maxResults=24&printType=books&orderBy=newest`)}static#e=this.\u0275fac=function(i){return new(i||n)(P(wr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const z8=["*"];let qi=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),j8=(()=>{class n{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[qi.STARTS_WITH,qi.CONTAINS,qi.NOT_CONTAINS,qi.ENDS_WITH,qi.EQUALS,qi.NOT_EQUALS],numeric:[qi.EQUALS,qi.NOT_EQUALS,qi.LESS_THAN,qi.LESS_THAN_OR_EQUAL_TO,qi.GREATER_THAN,qi.GREATER_THAN_OR_EQUAL_TO],date:[qi.DATE_IS,qi.DATE_IS_NOT,qi.DATE_BEFORE,qi.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new we;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),y1e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Be({type:n,selectors:[["p-header"]],ngContentSelectors:z8,decls:1,vars:0,template:function(i,r){1&i&&(Mo(),qs(0))},encapsulation:2})}return n})(),b1e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Be({type:n,selectors:[["p-footer"]],ngContentSelectors:z8,decls:1,vars:0,template:function(i,r){1&i&&(Mo(),qs(0))},encapsulation:2})}return n})(),W8=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(y(qt))};static \u0275dir=ee({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return n})(),q8=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=be({imports:[vn]})}return n})();class cm{static isArray(t,e=!0){return Array.isArray(t)&&(e||0!==t.length)}static isObject(t,e=!0){return"object"==typeof t&&!Array.isArray(t)&&null!=t&&(e||0!==Object.keys(t).length)}static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var s,o,a,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((o=t.length)!=e.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(t),c=this.isDate(e);if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var h=Object.keys(t);if((o=h.length)!==Object.keys(e).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,h[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[a=h[s]],e[a]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let s=0,o=i.length;s<o;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>e){i.splice(o,0,t),s=!0;break}s||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(/\p{Diacritic}/gu,"")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!this.isDate(t)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,r=1){let s=-1;const o=this.isEmpty(t),a=this.isEmpty(e);return s=o&&a?0:o?r:a?-r:"string"==typeof t&&"string"==typeof e?t.localeCompare(e,i,{numeric:!0}):t<e?-1:t>e?1:0,s}static sort(t,e,i=1,r,s=1){const o=cm.compare(t,e,r,i);let a=i;return(cm.isEmpty(t)||cm.isEmpty(e))&&(a=1===s?i:s),a*o}static merge(t,e){if(null!=t||null!=e)return null!=t&&"object"!=typeof t||null!=e&&"object"!=typeof e?null!=t&&"string"!=typeof t||null!=e&&"string"!=typeof e?e||t:[t||"",e||""].join(" "):{...t||{},...e||{}}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&1===t.length&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(e)}catch{i=t.lastIndexOf([...t].reverse().find(e))}return i}static findLast(t,e){let i;if(this.isNotEmpty(t))try{i=t.findLast(e)}catch{i=[...t].reverse().find(e)}return i}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var s,o,a,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((o=t.length)!=e.length)return!1;for(s=o;0!=s--;)if(!this.deepEquals(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var h=Object.keys(t);if((o=h.length)!==Object.keys(e).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,h[s]))return!1;for(s=o;0!=s--;)if(!this.deepEquals(t[a=h[s]],e[a]))return!1;return!0}return t!=t&&e!=e}}var Y8=0;!function T1e(){let n=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0}();const C1e=["*"];let Ub=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const e=cm.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Be({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:["spin","spin",Ii],styleClass:"styleClass"},standalone:!0,features:[ko,Da],ngContentSelectors:C1e,decls:1,vars:0,template:function(i,r){1&i&&(Mo(),qs(0))},encapsulation:2,changeDetection:0})}return n})(),K8=(()=>{class n extends Ub{static \u0275fac=function(){let e;return function(r){return(e||(e=Mn(n)))(r||n)}}();static \u0275cmp=Be({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[pt,Da],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){1&i&&(gn(),x(0,"svg",0),te(1,"path",1),T()),2&i&&(Ai(r.getClassNames()),xe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),X8=(()=>{class n extends Ub{static \u0275fac=function(){let e;return function(r){return(e||(e=Mn(n)))(r||n)}}();static \u0275cmp=Be({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[pt,Da],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,r){1&i&&(gn(),x(0,"svg",0),te(1,"path",1),T()),2&i&&(Ai(r.getClassNames()),xe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),Q8=(()=>{class n extends Ub{static \u0275fac=function(){let e;return function(r){return(e||(e=Mn(n)))(r||n)}}();static \u0275cmp=Be({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[pt,Da],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,r){1&i&&(gn(),x(0,"svg",0),te(1,"path",1),T()),2&i&&(Ai(r.getClassNames()),xe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),Z8=(()=>{class n extends Ub{static \u0275fac=function(){let e;return function(r){return(e||(e=Mn(n)))(r||n)}}();static \u0275cmp=Be({type:n,selectors:[["ChevronUpIcon"]],standalone:!0,features:[pt,Da],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,r){1&i&&(gn(),x(0,"svg",0),te(1,"path",1),T()),2&i&&(Ai(r.getClassNames()),xe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),An=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)e.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)e.className+=" "+r[s]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(e,s)))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==e)return r;1==i[s].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==e)return s;r[o].attributes&&r[o].attributes[i]&&1==r[o].nodeType&&s++}return-1}static appendOverlay(e,i,r="self"){"self"!==r&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",s=!0){e&&i&&(s&&(e.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===r?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i,r=!0){const s=_=>{if(_)return"relative"===getComputedStyle(_).getPropertyValue("position")?_:s(_.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=i.offsetHeight,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),d=this.getViewport(),f=s(e)?.getBoundingClientRect()||{top:-1*c,left:-1*u};let p,m;l.top+a+o.height>d.height?(p=l.top-f.top-o.height,e.style.transformOrigin="bottom",l.top+p<0&&(p=-1*l.top)):(p=a+l.top-f.top,e.style.transformOrigin="top");const g=l.left+o.width-d.width;m=o.width>d.width?-1*(l.left-f.left):g>0?l.left-f.left-g:l.left-f.left,e.style.top=p+"px",e.style.left=m+"px",r&&(e.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,i,r=!0){const s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=s.height,a=s.width,l=i.offsetHeight,c=i.offsetWidth,u=i.getBoundingClientRect(),d=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport();let p,m;u.top+l+o>f.height?(p=u.top+d-o,e.style.transformOrigin="bottom",p<0&&(p=d)):(p=l+u.top+d,e.style.transformOrigin="top"),m=u.left+a>f.width?Math.max(0,u.left+h+c-a):u.left+h,e.style.top=p+"px",e.style.left=m+"px",r&&(e.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let d=this.findSingle(a,u);d&&o(d)&&i.push(d)}}9!==a.nodeType&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=e.getBoundingClientRect(),u=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,d=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(i);u<0?e.scrollTop=d+u:u+f>h&&(e.scrollTop=d+u-h+f)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,s=0,o=function(){s=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,i){var r=1,a=50/i;let l=setInterval(()=>{(r-=a)<=0&&(r=0,clearInterval(l)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||s.clientWidth,height:e.innerHeight||r.clientHeight||s.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,i=""){let r=this.find(e,this.getFocusableSelectorString(i)),s=[];for(let o of r){const a=getComputedStyle(o);this.isVisible(o)&&"none"!=a.display&&"hidden"!=a.visibility&&s.push(o)}return s}static getFocusableElement(e,i=""){let r=this.findSingle(e,this.getFocusableSelectorString(i));if(r){const s=getComputedStyle(r);if(this.isVisible(r)&&"none"!=s.display&&"hidden"!=s.visibility)return r}return null}static getFirstFocusableElement(e,i){const r=this.getFocusableElements(e,i);return r.length>0?r[0]:null}static getLastFocusableElement(e,i){const r=this.getFocusableElements(e,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(e,i=!1){const r=n.getFocusableElements(e);let s=0;if(r&&r.length>0){const o=r.indexOf(r[0].ownerDocument.activeElement);i?s=-1==o||0===o?r.length-1:o-1:-1!=o&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof e;if("string"===r)return document.querySelector(e);if("object"===r&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const o=(a=e)&&a.constructor&&a.call&&a.apply?e():e;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){const r=e.getAttribute(i);return isNaN(r)?"true"===r||"false"===r?"true"===r:r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}}return n})(),w1e=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(e,i,r,s,o,a){this.document=e,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){vr(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if(An.removeClass(i,"p-ink-active"),!An.getHeight(i)&&!An.getWidth(i)){let a=Math.max(An.getOuterWidth(this.el.nativeElement),An.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=An.getOffset(this.el.nativeElement),s=e.pageX-r.left+this.document.body.scrollTop-An.getWidth(i)/2,o=e.pageY-r.top+this.document.body.scrollLeft-An.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),An.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&An.removeClass(a,"p-ink-active")},401)}getInk(){const e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if("string"==typeof e[i].className&&-1!==e[i].className.indexOf("p-ink"))return e[i];return null}resetInk(){let e=this.getInk();e&&An.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),An.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,An.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(y(Ct),y(hi),y(Ei),y(Ue),y(Ae),y(j8,8))};static \u0275dir=ee({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return n})(),S1e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=be({imports:[vn]})}return n})();const D1e=["itemsContainer"],E1e=["indicatorContent"];function A1e(n,t){1&n&&El(0)}function I1e(n,t){if(1&n&&(x(0,"div",11),qs(1),F(2,A1e,1,0,"ng-container",12),T()),2&n){const e=V();w(2),D("ngTemplateOutlet",e.headerTemplate)}}function k1e(n,t){1&n&&te(0,"ChevronLeftIcon",17),2&n&&D("styleClass","carousel-prev-icon")}function M1e(n,t){1&n&&te(0,"ChevronUpIcon",17),2&n&&D("styleClass","carousel-prev-icon")}function R1e(n,t){if(1&n&&(Rf(0),F(1,k1e,1,1,"ChevronLeftIcon",16),F(2,M1e,1,1,"ChevronUpIcon",16),Nf()),2&n){const e=V(2);w(1),D("ngIf",!e.isVertical()),w(1),D("ngIf",e.isVertical())}}function N1e(n,t){}function P1e(n,t){1&n&&F(0,N1e,0,0,"ng-template")}function O1e(n,t){if(1&n&&(x(0,"span",18),F(1,P1e,1,0,null,12),T()),2&n){const e=V(2);w(1),D("ngTemplateOutlet",e.previousIconTemplate)}}const L1e=function(n){return{"p-carousel-prev p-link":!0,"p-disabled":n}};function F1e(n,t){if(1&n){const e=Bt();x(0,"button",13),$("click",function(r){return Qe(e),Ze(V().navBackward(r))}),F(1,R1e,3,2,"ng-container",14),F(2,O1e,2,1,"span",15),T()}if(2&n){const e=V();D("ngClass",ti(5,L1e,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),xe("aria-label",e.ariaPrevButtonLabel()),w(1),D("ngIf",!e.previousIconTemplate),w(1),D("ngIf",e.previousIconTemplate)}}function V1e(n,t){1&n&&El(0)}const J8=function(n,t,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}},LM=function(n){return{$implicit:n}};function B1e(n,t){if(1&n&&(x(0,"div",2),F(1,V1e,1,0,"ng-container",19),T()),2&n){const e=t.$implicit,i=t.index,r=V();D("ngClass",Gu(6,J8,-1*r.totalShiftedItems===r.value.length,0===i,r.clonedItemsForStarting.length-1===i)),xe("aria-hidden",-1*r.totalShiftedItems!==r.value.length)("aria-label",r.ariaSlideNumber(i))("aria-roledescription",r.ariaSlideLabel()),w(1),D("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",ti(10,LM,e))}}function H1e(n,t){1&n&&El(0)}const $1e=function(n,t,e){return{"p-carousel-item":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}};function U1e(n,t){if(1&n&&(x(0,"div",2),F(1,H1e,1,0,"ng-container",19),T()),2&n){const e=t.$implicit,i=t.index,r=V();D("ngClass",Gu(6,$1e,r.firstIndex()<=i&&r.lastIndex()>=i,r.firstIndex()===i,r.lastIndex()===i)),xe("aria-hidden",-1*r.totalShiftedItems!==r.value.length)("aria-label",r.ariaSlideNumber(i))("aria-roledescription",r.ariaSlideLabel()),w(1),D("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",ti(10,LM,e))}}function G1e(n,t){1&n&&El(0)}function z1e(n,t){if(1&n&&(x(0,"div",2),F(1,G1e,1,0,"ng-container",19),T()),2&n){const e=t.$implicit,i=t.index,r=V();D("ngClass",Gu(3,J8,-1*r.totalShiftedItems===r.numVisible,0===i,r.clonedItemsForFinishing.length-1===i)),w(1),D("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",ti(7,LM,e))}}function j1e(n,t){1&n&&te(0,"ChevronRightIcon",17),2&n&&D("styleClass","carousel-prev-icon")}function W1e(n,t){1&n&&te(0,"ChevronDownIcon",17),2&n&&D("styleClass","carousel-prev-icon")}function q1e(n,t){if(1&n&&(Rf(0),F(1,j1e,1,1,"ChevronRightIcon",16),F(2,W1e,1,1,"ChevronDownIcon",16),Nf()),2&n){const e=V(2);w(1),D("ngIf",!e.isVertical()),w(1),D("ngIf",e.isVertical())}}function Y1e(n,t){}function K1e(n,t){1&n&&F(0,Y1e,0,0,"ng-template")}function X1e(n,t){if(1&n&&(x(0,"span",18),F(1,K1e,1,0,null,12),T()),2&n){const e=V(2);w(1),D("ngTemplateOutlet",e.nextIconTemplate)}}const Q1e=function(n){return{"p-carousel-next p-link":!0,"p-disabled":n}};function Z1e(n,t){if(1&n){const e=Bt();x(0,"button",13),$("click",function(r){return Qe(e),Ze(V().navForward(r))}),F(1,q1e,3,2,"ng-container",14),F(2,X1e,2,1,"span",15),T()}if(2&n){const e=V();D("ngClass",ti(5,Q1e,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),xe("aria-label",e.ariaNextButtonLabel()),w(1),D("ngIf",!e.nextIconTemplate),w(1),D("ngIf",e.nextIconTemplate)}}const J1e=function(n){return{"p-carousel-indicator":!0,"p-highlight":n}};function eSe(n,t){if(1&n){const e=Bt();x(0,"li",2)(1,"button",22),$("click",function(r){const o=Qe(e).index;return Ze(V(2).onDotClick(r,o))}),T()()}if(2&n){const e=t.index,i=V(2);D("ngClass",ti(9,J1e,i._page===e)),xe("data-pc-section","indicator"),w(1),Ai(i.indicatorStyleClass),D("ngClass","p-link")("ngStyle",i.indicatorStyle)("tabindex",i._page===e?0:-1),xe("aria-label",i.ariaPageLabel(e+1))("aria-current",i._page===e?"page":void 0)}}function tSe(n,t){if(1&n){const e=Bt();x(0,"ul",20,21),$("keydown",function(r){return Qe(e),Ze(V().onIndicatorKeydown(r))}),F(2,eSe,2,11,"li",8),T()}if(2&n){const e=V();Ai(e.indicatorsContentClass),D("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),w(2),D("ngForOf",e.totalDotsArray())}}function nSe(n,t){1&n&&El(0)}function iSe(n,t){if(1&n&&(x(0,"div",23),qs(1,1),F(2,nSe,1,0,"ng-container",12),T()),2&n){const e=V();w(2),D("ngTemplateOutlet",e.footerTemplate)}}const rSe=[[["p-header"]],[["p-footer"]]],sSe=function(n,t){return{"p-carousel p-component":!0,"p-carousel-vertical":n,"p-carousel-horizontal":t}},oSe=function(n){return{height:n}},aSe=["p-header","p-footer"];let lSe=(()=>{class n{el;zone;cd;renderer;document;platformId;config;get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&this.stopAutoplay(),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}responsiveOptions;orientation="horizontal";verticalViewPortHeight="300px";contentClass="";indicatorsContentClass="";indicatorsContentStyle;indicatorStyleClass="";indicatorStyle;get value(){return this._value}set value(e){this._value=e}circular=!1;showIndicators=!0;showNavigators=!0;autoplayInterval=0;style;styleClass;onPage=new K;itemsContainer;indicatorContent;headerFacet;footerFacet;templates;_numVisible=1;_numScroll=1;_oldNumScroll=0;prevState={numScroll:0,numVisible:0,value:[]};defaultNumScroll=1;defaultNumVisible=1;_page=0;_value;carouselStyle;id;totalShiftedItems;isRemainingItemsAdded=!1;animationTimeout;translateTimeout;remainingItems=0;_items;startPos;documentResizeListener;clonedItemsForStarting;clonedItemsForFinishing;allowAutoplay;interval;isCreated;swipeThreshold=20;itemTemplate;headerTemplate;footerTemplate;previousIconTemplate;nextIconTemplate;window;constructor(e,i,r,s,o,a,l){this.el=e,this.zone=i,this.cd=r,this.renderer=s,this.document=o,this.platformId=a,this.config=l,this.totalShiftedItems=this.page*this.numScroll*-1,this.window=this.document.defaultView}ngOnChanges(e){vr(this.platformId)&&(e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))),this.cd.markForCheck()}ngAfterContentInit(){this.id=function x1e(n="pn_id_"){return`${n}${++Y8}`}(),vr(this.platformId)&&(this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners()),this.templates?.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template}}),this.cd.detectChanges()}ngAfterContentChecked(){if(vr(this.platformId)){const e=this.isCircular();let i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(!1),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let r=this._page;0!==this.totalDots()&&r>=this.totalDots()&&(r=this.totalDots()-1,this._page=r,this.onPage.emit({page:this.page})),i=r*this._numScroll*-1,e&&(i-=this._numVisible),r===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?i=-1*this._numVisible:0===i&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}}createStyle(){this.carouselStyle||(this.carouselStyle=this.renderer.createElement("style"),this.carouselStyle.type="text/css",this.renderer.appendChild(this.document.head,this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,r)=>{const s=i.breakpoint,o=r.breakpoint;let a=null;return a=null==s&&null!=o?-1:null!=s&&null==o?1:null==s&&null==o?0:"string"==typeof s&&"string"==typeof o?s.localeCompare(o,void 0,{numeric:!0}):s<o?-1:s>o?1:0,-1*a});for(let i=0;i<this.responsiveOptions.length;i++){let r=this.responsiveOptions[i];e+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};if(typeof window<"u"){let i=window.innerWidth;for(let r=0;r<this.responsiveOptions.length;r++){let s=this.responsiveOptions[r];parseInt(s.breakpoint,10)>=i&&(e=s)}}if(this._numScroll!==e.numScroll){let i=this._page;i=Math.floor(i*this._numScroll/e.numScroll);let r=e.numScroll*this.page*-1;this.isCircular()&&(r-=e.numVisible),this.totalShiftedItems=r,this._numScroll=e.numScroll,this._page=i,this.onPage.emit({page:this.page})}this._numVisible!==e.numVisible&&(this._numVisible=e.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?.length?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&this.stopAutoplay(),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||0!==this._page)&&this.step(1,i),this.autoplayInterval&&this.stopAutoplay(),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let r=this._page;this.autoplayInterval&&this.stopAutoplay(),i>r?this.navForward(e,i):i<r&&this.navBackward(e,i)}onIndicatorKeydown(e){switch(e.code){case"ArrowRight":this.onRightKey();break;case"ArrowLeft":this.onLeftKey()}}onRightKey(){const e=[...An.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,i+1===e.length?e.length-1:i+1)}onLeftKey(){const e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,e-1<=0?0:e-1)}onHomeKey(){const e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,0)}onEndKey(){const e=[...An.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]r')],i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,e.length-1)}onTabKey(){const e=[...An.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=e.findIndex(o=>!0===An.getAttribute(o,"data-p-highlight")),r=An.findSingle(this.indicatorContent.nativeElement,'[data-pc-section="indicator"] > button[tabindex="0"]'),s=e.findIndex(o=>o===r.parentElement);e[s].children[0].tabIndex="-1",e[i].children[0].tabIndex="0"}findFocusedIndicatorIndex(){const e=[...An.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=An.findSingle(this.indicatorContent.nativeElement,'[data-pc-section="indicator"] > button[tabindex="0"]');return e.findIndex(r=>r===i.parentElement)}changedFocusedIndicator(e,i){const r=[...An.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')];r[e].children[0].tabIndex="-1",r[i].children[0].tabIndex="0",r[i].children[0].focus()}step(e,i){let r=this.totalShiftedItems;const s=this.isCircular();null!=i?(r=this._numScroll*i*-1,s&&(r-=this._numVisible),this.isRemainingItemsAdded=!1):(r+=this._numScroll*e,this.isRemainingItemsAdded&&(r+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),i=Math.abs(Math.floor((s?r+this._numVisible:r)/this._numScroll))),s&&this.page===this.totalDots()-1&&-1===e?(r=-1*(this.value.length+this._numVisible),i=0):s&&0===this.page&&1===e?(r=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(r+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${r*(100/this._numVisible)}%, 0)`:`translate3d(${r*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=r,this._page=i,this.onPage.emit({page:this.page}),this.cd.markForCheck()}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval),this.allowAutoplay=!0,this.cd.markForCheck()}stopAutoplay(e=!0){this.interval&&(clearInterval(this.interval),this.interval=void 0,e&&(this.allowAutoplay=!1)),this.cd.markForCheck()}isPlaying(){return!!this.interval}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}ariaPrevButtonLabel(){return this.config.translation.aria?this.config.translation.aria.prevPageLabel:void 0}ariaSlideLabel(){return this.config.translation.aria?this.config.translation.aria.slide:void 0}ariaNextButtonLabel(){return this.config.translation.aria?this.config.translation.aria.nextPageLabel:void 0}ariaSlideNumber(e){return this.config.translation.aria?this.config.translation.aria.slideNumber.replace(/{slideNumber}/g,e):void 0}ariaPageLabel(e){return this.config.translation.aria?this.config.translation.aria.pageLabel.replace(/{page}/g,e):void 0}bindDocumentListeners(){vr(this.platformId)&&(this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{this.calculatePosition()})))}unbindDocumentListeners(){vr(this.platformId)&&this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}static \u0275fac=function(i){return new(i||n)(y(Ue),y(Ae),y(fi),y(Ei),y(Ct),y(hi),y(j8))};static \u0275cmp=Be({type:n,selectors:[["p-carousel"]],contentQueries:function(i,r,s){if(1&i&&(_n(s,y1e,5),_n(s,b1e,5),_n(s,W8,4)),2&i){let o;Pt(o=Ot())&&(r.headerFacet=o.first),Pt(o=Ot())&&(r.footerFacet=o.first),Pt(o=Ot())&&(r.templates=o)}},viewQuery:function(i,r){if(1&i&&(Rl(D1e,5),Rl(E1e,5)),2&i){let s;Pt(s=Ot())&&(r.itemsContainer=s.first),Pt(s=Ot())&&(r.indicatorContent=s.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:["circular","circular",Ii],showIndicators:["showIndicators","showIndicators",Ii],showNavigators:["showNavigators","showNavigators",Ii],autoplayInterval:["autoplayInterval","autoplayInterval",Bie],style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[ko,kt],ngContentSelectors:aSe,decls:14,vars:23,consts:[["role","region",3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle","touchend","touchstart","touchmove"],[1,"p-carousel-items-container",3,"transitionend"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle","keydown",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngIf"],["class","p-carousel-prev-icon",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-carousel-prev-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass","ngStyle","keydown"],["indicatorContent",""],["type","button",3,"ngClass","ngStyle","tabindex","click"],[1,"p-carousel-footer"]],template:function(i,r){1&i&&(Mo(rSe),x(0,"div",0),F(1,I1e,3,1,"div",1),x(2,"div",2)(3,"div",3),F(4,F1e,3,7,"button",4),x(5,"div",5),$("touchend",function(o){return r.onTouchEnd(o)})("touchstart",function(o){return r.onTouchStart(o)})("touchmove",function(o){return r.onTouchMove(o)}),x(6,"div",6,7),$("transitionend",function(){return r.onTransitionEnd()}),F(8,B1e,2,12,"div",8),F(9,U1e,2,12,"div",8),F(10,z1e,2,9,"div",8),T()(),F(11,Z1e,3,7,"button",4),T(),F(12,tSe,3,5,"ul",9),T(),F(13,iSe,3,1,"div",10),T()),2&i&&(Ai(r.styleClass),D("ngClass",Ro(18,sSe,r.isVertical(),!r.isVertical()))("ngStyle",r.style),xe("id",r.id),w(1),D("ngIf",r.headerFacet||r.headerTemplate),w(1),Ai(r.contentClass),D("ngClass","p-carousel-content"),w(1),xe("aria-live",r.allowAutoplay?"polite":"off"),w(1),D("ngIf",r.showNavigators),w(1),D("ngStyle",ti(21,oSe,r.isVertical()?r.verticalViewPortHeight:"auto")),w(3),D("ngForOf",r.clonedItemsForStarting),w(1),D("ngForOf",r.value),w(1),D("ngForOf",r.clonedItemsForFinishing),w(1),D("ngIf",r.showNavigators),w(1),D("ngIf",r.showIndicators),w(1),D("ngIf",r.footerFacet||r.footerTemplate))},dependencies:function(){return[Fo,pi,ni,Ol,TB,w1e,Q8,X8,K8,Z8]},styles:["@layer primeng{.p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}}\n"],encapsulation:2,changeDetection:0})}return n})(),cSe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=be({imports:[vn,q8,S1e,Q8,X8,K8,Z8,vn,q8]})}return n})();function uSe(n,t){1&n&&(x(0,"div"),B(1,"No animes available"),T())}function dSe(n,t){if(1&n){const e=Bt();x(0,"div",33),$("click",function(){const s=Qe(e).$implicit;return Ze(V(2).openModal(s))}),te(1,"img",34),T()}if(2&n){const e=t.$implicit;w(1),D("src",e.image,Ta)("alt",e.name)}}function hSe(n,t){if(1&n&&(x(0,"div")(1,"p-carousel",31),F(2,dSe,2,2,"ng-template",32),T()()),2&n){const e=V();w(1),D("value",e.animesAiring)("numVisible",e.numVisible)("numScroll",1)("circular",!0)("showIndicators",!1)}}function fSe(n,t){if(1&n){const e=Bt();x(0,"div",35)(1,"div",36)(2,"img",37),$("click",function(){const s=Qe(e).$implicit;return Ze(V().openModal(s))}),T(),x(3,"p",38),B(4),T()()()}if(2&n){const e=t.$implicit;w(2),D("src",e.image,Ta),w(2),Nn(e.name)}}function pSe(n,t){1&n&&(x(0,"div",39),te(1,"div",40),T())}const gSe=function(n){return{show:n}};let mSe=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u,d){this.spotify=e,this.alertService=i,this.apiGamesServive=r,this.apiMoviesService=s,this.apiSerieService=o,this.apiAnimeService=a,this.modalService=l,this.apiBookService=c,this.dataService=u,this.router=d,this.recomendaciones=[],this.animes=[],this.animesRange=[],this.opTipos=[],this.numPage=1,this.numPageMovie=1,this.numPageSeries=1,this.numPageGames=1,this.startIndexMusic=0,this.maxResultsMusic=24,this.search="",this.numVisible=0,this.isModalOpen=!1,this.books=[],this.startIndex=0,this.maxResults=24,this.message="",this.alert="",this.data=[],this.animesAiring=[],this.loading=!1,this.opcionSeleccionada="",this.navbarOpen=!1}ngOnInit(){var e=this;return S(function*(){e.numVisible=window.innerWidth<=768?1:6,window.addEventListener("resize",()=>{e.numVisible=window.innerWidth<=768?1:6})})()}loadData(e){var i=this;return S(function*(){try{i.loading=!0,"Movies"===e?yield i.getMovies():"Series"===e?yield i.getSeries():"Animes"===e?yield i.getAnime():"Games"===e?yield i.getGames():"Books"===e?yield i.getBooks():"Music"===e&&(yield i.getMusic())}catch(r){console.error("Error:",r)}finally{i.loading=!1,i.closeNavbar()}})()}getMusic(){this.message="Music",this.dataAiring(),this.spotify.getAlbums(this.startIndexMusic,this.maxResultsMusic).subscribe(e=>{this.data=[],console.log(e),e.albums.items.forEach(i=>{this.data.push({name:i.name,image:i.images[0].url,info:"Artist: "+i.artists[0].name+", Fecha Salida: "+i.release_date,releaseDate:i.release_date,randomData:i.total_tracks})})})}getAnime(){var e=this;return S(function*(){e.message="Animes",e.dataAiring();try{e.loading=!0,yield e.apiAnimeService.getAnimeByPage(e.numPage).subscribe(i=>{e.data=[],console.log(i),i.data.forEach(r=>{e.data.push({name:r.title,image:r.images.jpg.image_url,info:r.synopsis,releaseDate:r.year,randomData:r.score})})})}catch(i){console.error("Error getAnime:",i)}finally{e.loading=!1}})()}getBooks(){var e=this;return S(function*(){e.loading=!0,e.message="Books",e.dataAiring(),yield e.apiBookService.getBooks(e.startIndex,e.maxResults).subscribe(i=>{const r=i.items.filter(s=>s.volumeInfo.imageLinks&&s.volumeInfo.imageLinks.thumbnail);e.data=[],console.log(i),r.forEach(s=>{e.data.push({name:s.volumeInfo.title,image:s.volumeInfo.imageLinks.thumbnail,info:s.volumeInfo.description,releaseDate:s.volumeInfo.publishedDate,randomData:s.volumeInfo.pageCount})})})})()}getMovies(){var e=this;return S(function*(){e.message="Movies",e.dataAiring(),yield e.apiMoviesService.getMovies(e.numPageMovie).subscribe(i=>{const r=i.results.filter(s=>s.poster_path);e.data=[],console.log(i),r.forEach(s=>{e.data.push({name:s.title,image:"https://image.tmdb.org/t/p/w500"+s.poster_path,info:s.overview,releaseDate:s.release_date,randomData:s.vote_average})})})})()}getSeries(){var e=this;return S(function*(){e.message="Series",e.dataAiring(),yield e.apiSerieService.getSeries(e.numPageSeries).subscribe(i=>{e.data=[],console.log(i),i.results.forEach(r=>{e.data.push({name:r.name,image:"https://image.tmdb.org/t/p/w500"+r.poster_path,info:r.overview,releaseDate:r.first_air_date,randomData:r.vote_average})})})})()}getGames(){var e=this;return S(function*(){e.message="Games",e.dataAiring(),yield e.apiGamesServive.getGames(e.numPageGames).subscribe(i=>{e.data=[],console.log(i),console.log(i),i.forEach(r=>{e.data.push({name:r.title,image:r.image_url,info:r.overview,releaseDate:"NC",randomData:r.platform_name})})})})()}getAnimeAiring(){var e=this;return S(function*(){yield e.apiAnimeService.getAnimeAiring().subscribe(i=>{e.animesAiring=[],i.data.forEach(r=>{e.animesAiring.push({name:r.title,image:r.images.jpg.image_url,info:r.synopsis})})})})()}getBooksByNew(){var e=this;return S(function*(){yield e.apiBookService.getBooksByNew().subscribe(i=>{const r=i.items.filter(s=>s.volumeInfo.imageLinks&&s.volumeInfo.imageLinks.thumbnail);e.animesAiring=[],r.forEach(s=>{e.animesAiring.push({name:s.volumeInfo.title,image:s.volumeInfo.imageLinks.thumbnail,info:s.volumeInfo.description})})})})()}getFormattedDate(e){const i=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0");return`${e.getFullYear()}-${r}-${i}`}getCurrentMonth(e){const i=new Date,r=new Date(i.getFullYear(),i.getMonth()+e,1);return console.log(this.getFormattedDate(r)),this.getFormattedDate(r)}getMoviesAiring(){var e=this;return S(function*(){yield e.apiMoviesService.getMoviesAiring(e.getCurrentMonth(0),e.getCurrentMonth(1)).subscribe(i=>{e.animesAiring=[],console.log(i),i.results.filter(s=>s.poster_path).forEach(s=>{e.animesAiring.push({name:s.title,image:"https://image.tmdb.org/t/p/original"+s.poster_path,info:s.overview})})})})()}getSeriesAiring(){var e=this;return S(function*(){yield e.apiSerieService.getSeriesAiring(e.getCurrentMonth(0),e.getCurrentMonth(1)).subscribe(i=>{e.animesAiring=[],console.log(i),i.results.filter(s=>s.poster_path).forEach(s=>{e.animesAiring.push({name:s.name,image:"https://image.tmdb.org/t/p/original"+s.poster_path,info:s.overview})})})})()}getGamesByPc(){var e=this;return S(function*(){yield e.apiGamesServive.getGamesByPC(1).subscribe(i=>{e.animesAiring=[],i.forEach(r=>{e.animesAiring.push({name:r.title,image:r.image_url,info:r.overview})})})})()}getMusicAiring(){var e=this;return S(function*(){yield e.spotify.getAlbumsAiring().subscribe(i=>{e.animesAiring=[],console.log(i),i.artists.items.forEach(r=>{e.animesAiring.push({name:r.name,image:r.images[0].url,info:" "})})})})()}searchAnimesByName(){var e=this;return S(function*(){e.data=[],yield e.apiAnimeService.searchAnimesByName(e.search,e.numPage).subscribe(i=>{i.data.forEach(r=>{e.data.push({name:r.title,image:r.images.jpg.image_url,info:r.synopsis,releaseDate:r.year,randomData:r.score})})})})()}getBooksByName(){var e=this;return S(function*(){e.data=[],yield e.apiBookService.getBooksByName(e.search).subscribe(i=>{i.items&&i.items.filter(s=>s.volumeInfo.imageLinks&&s.volumeInfo.imageLinks.thumbnail).forEach(s=>{e.data.push({name:s.volumeInfo.title,image:s.volumeInfo.imageLinks.thumbnail,info:s.volumeInfo.description,releaseDate:s.volumeInfo.publishedDate,randomData:s.volumeInfo.pageCount})})})})()}searchMoviesByName(){var e=this;return S(function*(){yield e.apiMoviesService.seachMovies(e.search).subscribe(i=>{const r=i.results.filter(s=>s.poster_path);e.data=[],r.forEach(s=>{e.data.push({name:s.title,image:"https://image.tmdb.org/t/p/original"+s.poster_path,info:s.overview,releaseDate:s.release_date,randomData:s.vote_average})})})})()}searchSeriesByName(){var e=this;return S(function*(){yield e.apiSerieService.seachSeries(e.search).subscribe(i=>{const r=i.results.filter(s=>s.poster_path);e.data=[],r.forEach(s=>{e.data.push({name:s.name,image:"https://image.tmdb.org/t/p/original"+s.poster_path,info:s.overview,releaseDate:s.first_air_date,randomData:s.vote_average})})})})()}seachGamesByName(){var e=this;return S(function*(){yield e.apiGamesServive.seachGames(e.search).subscribe(i=>{e.data=[],i.forEach(r=>{e.data.push({name:r.title,image:r.image_url,info:r.overview,releaseDate:"NC",randomData:r.platform_name})})})})()}seachMusicByName(){var e=this;return S(function*(){yield e.spotify.getAlbumsByName(e.search,e.maxResultsMusic).subscribe(i=>{e.data=[],i.albums.items.forEach(r=>{e.data.push({name:r.name,image:r.images[0].url,info:"Artist: "+r.artists[0].name,releaseDate:r.release_date,randomData:r.total_tracks})})})})()}dataAiring(){console.log("wait"+this.message),"Animes"==this.message&&this.getAnimeAiring(),"Books"==this.message&&this.getBooksByNew(),"Movies"==this.message&&this.getMoviesAiring(),"Series"==this.message&&this.getSeriesAiring(),"Games"==this.message&&this.getGamesByPc(),"Music"==this.message&&this.getMusicAiring()}searchData(){"Animes"==this.message&&this.searchAnimesByName(),"Books"==this.message&&this.getBooksByName(),"Movies"==this.message&&this.searchMoviesByName(),"Series"==this.message&&this.searchSeriesByName(),"Games"==this.message&&this.seachGamesByName(),"Music"==this.message&&this.seachMusicByName()}aumentarNumero(){"Animes"==this.message&&(this.numPage++,this.getAnime()),"Movies"==this.message&&(this.numPageMovie++,this.getMovies()),"Series"==this.message&&(this.numPageSeries++,this.getSeries()),"Books"==this.message&&(this.startIndex+=this.maxResults,this.getBooks()),"Games"==this.message&&(this.numPageGames++,this.getGames()),"Music"==this.message&&(this.startIndexMusic+=this.maxResultsMusic,this.getMusic())}restNumber(){"Animes"==this.message&&(this.numPage--,this.getAnime()),"Movies"==this.message&&(this.numPageMovie--,this.getMovies()),"Series"==this.message&&(this.numPageSeries--,this.getSeries()),"Games"==this.message&&(this.numPageGames--,this.getGames()),"Books"==this.message&&(this.startIndex-=this.maxResults,this.getBooks()),"Music"==this.message&&(this.startIndexMusic-=this.maxResultsMusic,this.getMusic())}openModal(e){const i=this.modalService.open(d1e,{centered:!0});i.componentInstance.data=e,i.componentInstance.type=this.message}toggleNavbar(){this.navbarOpen=!this.navbarOpen}closeNavbar(){this.navbarOpen=!1}static#e=this.\u0275fac=function(i){return new(i||n)(y(h1e),y(yy),y(f1e),y(p1e),y(g1e),y(m1e),y(RM),y(_1e),y(Dc),y(ii))};static#t=this.\u0275cmp=Be({type:n,selectors:[["app-discover-page"]],decls:54,vars:9,consts:[[1,"body"],[1,"navbar","navbar-expand-sm"],[1,"container"],["href","#",1,"navbar-brand"],["type","button","aria-controls","navbarContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarContent",1,"collapse","navbar-collapse","justify-content-end",3,"ngClass"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["href","#",1,"nav-link",3,"click"],[1,"uil","uil-letter-japanese-a"],[1,"uil","uil-ticket"],[1,"uil","uil-files-landscapes"],[1,"uil","uil-book-alt"],[1,"uil","uil-basketball-hoop"],[1,"uil","uil-music"],[1,"container","list","col-lg-12"],[1,"CarrouselClass"],[4,"ngIf"],[1,"row","nbar","col-lg-12","col-12",2,"margin-bottom","3%"],[1,"col-lg-6","col-4","col-md-6",2,"text-align","left"],[1,"uil","buttonNav","uil-angle-left",3,"click"],[1,"uil","buttonNav","uil-angle-right",3,"click"],[1,"col-lg-5","col-4","col-md-5"],["type","search","aria-label","Search","name","search",1,"form-control","me-2",2,"background-color","transparent","color","white",3,"ngModel","ngModelChange"],[1,"col-lg-1","col-2","col-md-1"],[1,"b1","btn",3,"click"],[1,"table-container"],[1,"row"],["class","col-lg-2 col-6 col-md-4",4,"ngFor","ngForOf"],["class","loading-overlay",4,"ngIf"],[3,"value","numVisible","numScroll","circular","showIndicators"],["pTemplate","item"],[1,"cardCircule",3,"click"],[1,"imagen",3,"src","alt"],[1,"col-lg-2","col-6","col-md-4"],[1,"card"],["alt","#",1,"imagen",3,"src","click"],[1,"title"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),B(4),T(),x(5,"button",4),$("click",function(){return r.toggleNavbar()}),te(6,"span",5),T(),x(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),$("click",function(){return r.loadData("Animes")}),te(11,"i",10),B(12," Anime"),T()(),x(13,"li",8)(14,"a",9),$("click",function(){return r.loadData("Movies")}),te(15,"i",11),B(16," Peliculas"),T()(),x(17,"li",8)(18,"a",9),$("click",function(){return r.loadData("Series")}),te(19,"i",12),B(20," Series"),T()(),x(21,"li",8)(22,"a",9),$("click",function(){return r.loadData("Books")}),te(23,"i",13),B(24," Libros"),T()(),x(25,"li",8)(26,"a",9),$("click",function(){return r.loadData("Games")}),te(27,"i",14),B(28," Juegos"),T()(),x(29,"li",8)(30,"a",9),$("click",function(){return r.loadData("Music")}),te(31,"i",15),B(32," Musica"),T()()()()()(),x(33,"div",16)(34,"div",17)(35,"h4"),B(36,"Airing"),T(),F(37,uSe,2,0,"div",18),F(38,hSe,3,5,"div",18),T(),x(39,"h4"),B(40,"Lista de Animes"),T(),x(41,"div",19)(42,"div",20)(43,"i",21),$("click",function(){return r.restNumber()}),T(),x(44,"i",22),$("click",function(){return r.aumentarNumero()}),T()(),x(45,"div",23)(46,"input",24),$("ngModelChange",function(o){return r.search=o}),T()(),x(47,"div",25)(48,"button",26),$("click",function(){return r.searchData()}),B(49,"Buscar"),T()()(),x(50,"div",27)(51,"div",28),F(52,fSe,5,2,"div",29),T()()(),F(53,pSe,2,0,"div",30),T()),2&i&&(w(4),Nn(r.message),w(3),D("ngClass",ti(7,gSe,r.navbarOpen)),w(30),D("ngIf",0===r.animesAiring.length),w(1),D("ngIf",r.animesAiring.length>0),w(8),D("ngModel",r.search),w(6),D("ngForOf",r.data),w(1),D("ngIf",r.loading))},dependencies:[Fo,pi,ni,kM,oh,Wg,ch,lSe,W8],styles:[".body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px;height:calc(102vh - 60px)}.card[_ngcontent-%COMP%]{padding:5px;margin:5px;background-color:transparent;border:none}.cardCircule[_ngcontent-%COMP%]{width:170px;height:170px;border-radius:50%;overflow:hidden;margin-left:4%;border:.5px solid #ffffff}.cardCircule[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}mat-icon[_ngcontent-%COMP%]{margin-right:10px}nav[_ngcontent-%COMP%]{background-color:#121212}.imagen[_ngcontent-%COMP%]{width:100%;height:250px;border:1px solid #000000;border-radius:10px}h4[_ngcontent-%COMP%]{text-align:left;margin-bottom:2%;margin-top:2%}.list[_ngcontent-%COMP%]{max-height:calc(92vh - 60px);overflow-y:auto}.list[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.navbar[_ngcontent-%COMP%]{background-color:transparent}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:5px 20px;color:#fff}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#ccc}.perfil-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}.title[_ngcontent-%COMP%]{color:#fff;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}.buttonNav[_ngcontent-%COMP%]{font-size:30px}button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;margin-right:2%;border:none}.b1[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border-radius:5px;margin-right:2%;border:1px solid #ffffff}button[_ngcontent-%COMP%]:hover{background-color:#e5ff00;color:#000;border:none;border-radius:5px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000c4;display:flex;justify-content:center;align-items:center;z-index:1000}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#333;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.navbar-brand[_ngcontent-%COMP%]{display:none}@media (max-width: 767.98px){.imagen[_ngcontent-%COMP%]{height:180px}.title[_ngcontent-%COMP%]{display:none}.cardCircule[_ngcontent-%COMP%]{margin-left:20%}.navbar-nav[_ngcontent-%COMP%]{margin-top:2%;background-color:#242424;border-radius:5%}.navbar-brand[_ngcontent-%COMP%]{display:block;color:#fff}.CarrouselClass[_ngcontent-%COMP%]{display:none}}"]})}return n})();const _Se=function(n){return{selected:n}};function vSe(n,t){if(1&n){const e=Bt();x(0,"span",32),$("click",function(){const s=Qe(e).index,o=V().$implicit;return Ze(V().rate(o,s+1))}),B(1," \u2605 "),T()}if(2&n){const e=t.index,i=V().$implicit;D("ngClass",ti(1,_Se,e+1<=i.score))}}function ySe(n,t){if(1&n&&(x(0,"option",35),B(1),T()),2&n){const e=t.$implicit;D("value",e),w(1),Nn(e)}}function bSe(n,t){if(1&n){const e=Bt();x(0,"div",24)(1,"select",33),$("ngModelChange",function(r){return Qe(e),Ze(V().$implicit.type=r)}),F(2,ySe,2,2,"option",34),T()()}if(2&n){const e=V().$implicit,i=V();w(1),D("ngModel",e.type),w(1),D("ngForOf",i.opTipos[0])}}function xSe(n,t){if(1&n&&(x(0,"div",36)(1,"p",37),B(2),T()()),2&n){const e=V().$implicit;w(2),Ht("Score: ",e.randomData,"")}}function TSe(n,t){if(1&n&&(x(0,"div",36)(1,"p",37),B(2),T()()),2&n){const e=V().$implicit;w(2),Ht("Page count: ",e.randomData,"")}}function CSe(n,t){if(1&n&&(x(0,"div",36)(1,"p",37),B(2),T()()),2&n){const e=V().$implicit;w(2),Ht("Plataform: ",e.randomData,"")}}function wSe(n,t){if(1&n&&(x(0,"div",36)(1,"p",37),B(2),T()()),2&n){const e=V().$implicit;w(2),Ht("Total Tracks: ",e.randomData,"")}}const SSe=function(n,t){return{liked:n,"not-liked":t}};function DSe(n,t){if(1&n){const e=Bt();x(0,"div",11)(1,"div",12)(2,"div",13),te(3,"img",14),T(),x(4,"div",15)(5,"div")(6,"div",16)(7,"h5",17),B(8),T(),x(9,"div",18)(10,"button",19),$("click",function(){const s=Qe(e).$implicit;return Ze(V().deleteReco(s))}),te(11,"i",20),T(),x(12,"button",21),$("click",function(){const s=Qe(e).$implicit;return Ze(V().toggleLike(s))}),te(13,"i",22),T()()()(),x(14,"div",23)(15,"div",24)(16,"div",25),F(17,vSe,2,3,"span",26),T()(),F(18,bSe,3,2,"div",27),T(),x(19,"div",28)(20,"div")(21,"p",29),B(22),T()(),F(23,xSe,3,1,"div",30),F(24,TSe,3,1,"div",30),F(25,CSe,3,1,"div",30),F(26,wSe,3,1,"div",30),x(27,"div",18)(28,"button",31),$("click",function(){const s=Qe(e).$implicit;return Ze(V().save(s))}),B(29," viewed"),T()()()()()()}if(2&n){const e=t.$implicit,i=V();w(3),D("src",e.image,Ta),w(5),Nn(e.name),w(4),D("ngClass",Ro(10,SSe,e.liked,!e.liked)),w(5),D("ngForOf",i.stars),w(1),D("ngIf","Games"!==i.type&&"Music"!==i.type),w(4),Ht("Release date: ",e.releaseDate,""),w(1),D("ngIf","Animes"==i.type||"Movies"==i.type||"Series"==i.type),w(1),D("ngIf","Books"==i.type),w(1),D("ngIf","Games"==i.type),w(1),D("ngIf","Music"==i.type)}}function ESe(n,t){1&n&&(x(0,"div",38),te(1,"div",39),T())}const ASe=[{path:"",component:mSe},{path:"Sidebar",component:CW},{path:"Workplace",component:Zbe},{path:"Create",component:ixe},{path:"Tier",component:lxe},{path:"PendingList",component:(()=>{class n{constructor(e,i,r,s,o,a,l,c,u){this.recoService=e,this.router=i,this.dataService=r,this.musicService=s,this.libroService=o,this.juegosService=a,this.animeService=l,this.movieService=c,this.serieServicio=u,this.dataOriginal=[],this.data=[],this.type="",this.loading=!1,this.opTipos=[],this.stars=Array(5).fill(!1),this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","blue","green","yellow","Pink","White","lightYellow","lightblue","Purple"]]}ngOnInit(){this.getReco()}loadData(e){var i=this;return S(function*(){if(i.type=e,"Animes"===e){i.data=[];for(let r=0;r<i.dataOriginal.length;r++)"Animes"==i.dataOriginal[r].type&&i.data.push(i.dataOriginal[r])}if("Movies"===e){i.data=[];for(let r=0;r<i.dataOriginal.length;r++)"Movies"==i.dataOriginal[r].type&&i.data.push(i.dataOriginal[r])}if("Games"===e){i.data=[];for(let r=0;r<i.dataOriginal.length;r++)"Games"==i.dataOriginal[r].type&&i.data.push(i.dataOriginal[r])}if("Series"===e){i.data=[];for(let r=0;r<i.dataOriginal.length;r++)"Series"==i.dataOriginal[r].type&&i.data.push(i.dataOriginal[r])}if("Books"===e){i.data=[];for(let r=0;r<i.dataOriginal.length;r++)"Books"==i.dataOriginal[r].type&&i.data.push(i.dataOriginal[r])}if("Music"===e){i.data=[];for(let r=0;r<i.dataOriginal.length;r++)"Music"==i.dataOriginal[r].type&&i.data.push(i.dataOriginal[r])}i.orderData()})()}orderData(){this.data.sort((e,i)=>e.liked&&!i.liked?-1:!e.liked&&i.liked?1:0)}getReco(){var e=this;return S(function*(){try{e.loading=!0,e.dataOriginal=yield e.recoService.getReco(),e.dataOriginal.forEach(i=>{i.image="data:image/jpg;base64,"+i.image})}catch(i){console.error("Error:",i)}finally{e.loading=!1}})()}toggleLike(e){var i=this;return S(function*(){e.liked=0==e.liked,yield i.recoService.updateReco(e.id,e.liked)})()}deleteReco(e){var i=this;return S(function*(){yield i.recoService.deleteReco(e.id);const r=i.data.findIndex(s=>s.id===e.id);-1!==r&&i.data.splice(r,1),i.getReco()})()}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}getFormattedDate(e){const i=e.getDate(),r=e.getMonth()+1;return`${e.getFullYear()}-${r}-${i}`}save(e){var i=this;return S(function*(){var r={...e};try{r.image=r.image.split("base64,")[1],"Animes"==i.type&&(yield i.animeService.createAnimes(r)),"Movies"==i.type&&(yield i.movieService.createMovies(r)),"Series"==i.type&&(yield i.serieServicio.createSeries(r)),"Games"==i.type&&(yield i.juegosService.createGames(r)),"Books"==i.type&&(yield i.libroService.createBook(r)),"Music"==i.type&&(yield i.musicService.createMusic(r)),i.deleteReco(e),i.navegarAComponenteDestino(i.type)}catch(s){console.error("Error al guardar el libro:",s)}})()}rate(e,i){e.score=i}static#e=this.\u0275fac=function(i){return new(i||n)(y(G8),y(ii),y(Dc),y(Hg),y(Ug),y(Gg),y(jg),y($g),y(zg))};static#t=this.\u0275cmp=Be({type:n,selectors:[["app-pending-list"]],decls:23,vars:2,consts:[[1,"body"],[3,"click"],[1,"uil","uil-letter-japanese-a"],[1,"uil","uil-ticket"],[1,"uil","uil-files-landscapes"],[1,"uil","uil-book-alt"],[1,"uil","uil-basketball-hoop"],[1,"uil","uil-music"],[1,"list",2,"width","80%"],["class","card container",4,"ngFor","ngForOf"],["class","loading-overlay",4,"ngIf"],[1,"card","container"],[1,"row"],[1,"left","col-lg-2",2,"text-align","center","margin-top","1%","margin-bottom","1%"],["alt","#",1,"imagen",3,"src"],[1,"right","col-lg-10","d-flex","flex-column","justify-content-between",2,"margin-top","1%","margin-bottom","1%","text-align","start"],[1,"d-flex","justify-content-between","align-items-center"],[2,"color","white"],[1,"d-flex","justify-content-end","align-items-center"],[1,"btnCard","btn",3,"click"],[1,"iconCard","uil","uil-trash-alt"],[1,"btnCard","btn",3,"ngClass","click"],[1,"iconCard","uil","uil-heart"],[1,"row","col-lg-12"],[1,"col-lg-4"],[1,"star-rating"],["style","margin: 0; padding: 0;",3,"ngClass","click",4,"ngFor","ngForOf"],["class","col-lg-4",4,"ngIf"],[1,"mt-auto","test","d-flex","justify-content-between","align-items-center"],[1,"release-date"],["class","col-lg-6",4,"ngIf"],[1,"b1","btn",3,"click"],[2,"margin","0","padding","0",3,"ngClass","click"],["id","type","name","type","required","",2,"width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-lg-6"],[1,"tags"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"header")(2,"button",1),$("click",function(){return r.loadData("Animes")}),te(3,"i",2),B(4," Anime"),T(),x(5,"button",1),$("click",function(){return r.loadData("Movies")}),te(6,"i",3),B(7," Peliculas"),T(),x(8,"button",1),$("click",function(){return r.loadData("Series")}),te(9,"i",4),B(10," Series"),T(),x(11,"button",1),$("click",function(){return r.loadData("Books")}),te(12,"i",5),B(13," Libros"),T(),x(14,"button",1),$("click",function(){return r.loadData("Games")}),te(15,"i",6),B(16," Juegos"),T(),x(17,"button",1),$("click",function(){return r.loadData("Music")}),te(18,"i",7),B(19," Musica"),T()(),x(20,"div",8),F(21,DSe,30,13,"div",9),T(),F(22,ESe,2,0,"div",10),T()),2&i&&(w(21),D("ngForOf",r.data),w(1),D("ngIf",r.loading))},dependencies:[Fo,pi,ni,dh,hh,uh,Wg,fh,ch],styles:[".body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px;height:calc(102vh - 60px)}.list[_ngcontent-%COMP%]{max-height:calc(95vh - 60px);overflow-y:auto;width:100%;margin:auto}.list[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.card[_ngcontent-%COMP%]{background-color:#252525;margin-top:2%}button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;margin-right:2%;border:none}header[_ngcontent-%COMP%]{background-color:transparent;color:#fff;padding:5px 20px;text-align:right;border-radius:10px}.imagen[_ngcontent-%COMP%]{width:80%;height:180px;border:1px solid #000000;border-radius:10px}.iconCard[_ngcontent-%COMP%]{font-size:15px}.btnCard[_ngcontent-%COMP%]{background-color:#807d7d;margin-left:15%}.btnCard[_ngcontent-%COMP%]:hover{color:#fff;background-color:red}.b1[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border-radius:5px;border:1px solid #ffffff}.b1[_ngcontent-%COMP%]:hover{background-color:#e5ff00;color:#000;border-color:transparent;border-radius:5px}.tags[_ngcontent-%COMP%], .release-date[_ngcontent-%COMP%]{color:#807d7d;font-size:.9em}.liked[_ngcontent-%COMP%]{background-color:red}.not-liked[_ngcontent-%COMP%]{background-color:gray}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000c4;display:flex;justify-content:center;align-items:center;z-index:1000}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#333;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.star-rating[_ngcontent-%COMP%]{font-size:2rem;color:gray;margin-top:0%}.star-rating[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}select[_ngcontent-%COMP%]{margin-top:5%;width:100%;font-size:1.2rem;border:none;color:#fff;background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}"]})}return n})()}];let VM,ISe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({imports:[VH.forRoot(ASe,{useHash:!0}),uM,VH]})}return n})();function FM(n){return Array.isArray(n)?n:[n]}function Sr(n){return n instanceof Ue?n.nativeElement:n}try{VM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{VM=!1}let um,HM,BM=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?vr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!VM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(P(hi))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Th(n){return function MSe(){if(null==um&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>um=!0}))}finally{um=um||!1}return um}()?n:!!n.capture}function i6(n){if(function RSe(){if(null==HM){const n=typeof document<"u"?document.head:null;HM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return HM}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function zb(n){return n.composedPath?n.composedPath()[0]:n.target}const r6=new Set;let Lc,NSe=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):OSe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function PSe(n,t){if(!r6.has(n))try{Lc||(Lc=document.createElement("style"),t&&Lc.setAttribute("nonce",t),Lc.setAttribute("type","text/css"),document.head.appendChild(Lc)),Lc.sheet&&(Lc.sheet.insertRule(`@media ${n} {body{ }}`,0),r6.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(BM),P(mC,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OSe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let LSe=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new we}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return s6(FM(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Yu(s6(FM(e)).map(o=>this._registerQuery(o).observable));return s=Ku(s.pipe(Sn(1)),s.pipe(function kW(n){return ki((t,e)=>n<=e)}(1),function t6(n,t=ld){return Jt((e,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(Mt(i,c=>{s=c,o=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}(0))),s.pipe(Fe(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new ut(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Bl(i),Fe(({matches:o})=>({query:e,matches:o})),en(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(P(NSe),P(Ae))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function s6(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function VSe(n,t){if(1&n&&(x(0,"div",1),B(1),te(2,"div",2),T()),2&n){const e=V();D("ngClass",e.alertClass),w(1),Ht(" ",e.message," "),w(1),Rn("width",e.progress,"%")}}let BSe=(()=>{class n{constructor(e){this.alertService=e,this.message="",this.alertClass="",this.progress=100,this.duration=0,this.subscription=new Oe}ngOnInit(){this.subscription=this.alertService.alert$.subscribe(e=>{e.message?(this.message=e.message,this.alertClass="success"===e.type?"alert-success":"alert-error",this.duration=e.duration,this.startProgressBar()):(this.message="",this.alertClass="",this.progress=100)})}startProgressBar(){this.progress=100;const i=this.duration/100;let r=0;const s=setInterval(()=>{r++,this.progress=100-r/i*100,r>=i&&clearInterval(s)},100)}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(y(yy))};static#t=this.\u0275cmp=Be({type:n,selectors:[["app-alert"]],decls:1,vars:1,consts:[["class","alert",3,"ngClass",4,"ngIf"],[1,"alert",3,"ngClass"],[1,"progress-bar"]],template:function(i,r){1&i&&F(0,VSe,3,4,"div",0),2&i&&D("ngIf",r.message)},dependencies:[Fo,ni],styles:[".alert[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000}.alert-success[_ngcontent-%COMP%]{background-color:#4b884b;color:#000;border-color:transparent}.alert-error[_ngcontent-%COMP%]{background-color:#a34343;color:#000;border-color:transparent}.progress-bar[_ngcontent-%COMP%]{height:5px;background-color:#ffffff80;position:absolute;bottom:0;left:0;transition:width .1s linear}"]})}return n})();const HSe=function(n){return{"d-none":n}};let $Se=(()=>{class n{constructor(e){this.breakpointObserver=e,this.title="DATA",this.isMenuCollapsed=!0,this.isHandset=!1,this.breakpointObserver.observe(["(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"]).subscribe(i=>{this.isHandset=i.matches})}toggleMenu(){this.isMenuCollapsed=!this.isMenuCollapsed}static#e=this.\u0275fac=function(i){return new(i||n)(y(LSe))};static#t=this.\u0275cmp=Be({type:n,selectors:[["app-root"]],decls:11,vars:3,consts:[[1,"menu","px-4","text-center"],[1,"row","gx-3"],[1,"col-12","d-md-none","text-right",2,"text-align","end"],[1,"column","col-lg-12",2,"background-color","#121212","text-align","end"],[2,"padding","10px 20px","background-color","transparent","border","none","cursor","pointer","color","white",3,"click"],[1,"uil","uil-bars"],[1,"column","col-lg-3",3,"ngClass"],[1,"column","col-lg-9"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),$("click",function(){return r.toggleMenu()}),te(5,"i",5),T()()(),x(6,"div",6),te(7,"app-sidebar"),T(),x(8,"div",7),te(9,"router-outlet")(10,"app-alert"),T()()()),2&i&&(w(6),D("ngClass",ti(1,HSe,r.isMenuCollapsed&&r.isHandset)))},dependencies:[Fo,rS,CW,BSe],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:250px;background-color:#f8f9fa;overflow-x:hidden;transition:transform .3s ease;z-index:1000}.sidebar.closed[_ngcontent-%COMP%]{transform:translate(-100%)}.sidebar.open[_ngcontent-%COMP%]{transform:translate(0)}.content[_ngcontent-%COMP%]{padding-left:15px;transition:padding-left .3s ease}.column[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px}@media (max-width: 767.98px){.sidebar[_ngcontent-%COMP%]{width:250px}.content[_ngcontent-%COMP%]{padding-left:0}}"]})}return n})();const USe_firebase={apiKey:"AIzaSyB14DmtasKcHP3qgspOmYnuoBj2uyoAsmg",authDomain:"data-aba0f.firebaseapp.com",projectId:"data-aba0f",storageBucket:"data-aba0f.appspot.com",messagingSenderId:"305549292857",appId:"1:305549292857:web:e5b4bdafba9fb4d61524e8"};class $M{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class o6 extends $M{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class GSe extends $M{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class zSe extends $M{constructor(t){super(),this.element=t instanceof Ue?t.nativeElement:t}}class jSe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof o6?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof GSe?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof zSe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class WSe extends jSe{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||mn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}function qSe(){}function UM(n){return null==n?qSe:function(){return this.querySelector(n)}}function XSe(){return[]}function a6(n){return null==n?XSe:function(){return this.querySelectorAll(n)}}function l6(n){return function(){return this.matches(n)}}function c6(n){return function(t){return t.matches(n)}}var JSe=Array.prototype.find;function tDe(){return this.firstElementChild}var iDe=Array.prototype.filter;function rDe(){return Array.from(this.children)}function u6(n){return new Array(n.length)}function jb(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function uDe(n,t,e,i,r,s){for(var a,o=0,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):e[o]=new jb(n,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a)}function dDe(n,t,e,i,r,s,o){var a,l,f,c=new Map,u=t.length,d=s.length,h=new Array(u);for(a=0;a<u;++a)(l=t[a])&&(h[a]=f=o.call(l,l.__data__,a,t)+"",c.has(f)?r[a]=l:c.set(f,l));for(a=0;a<d;++a)f=o.call(n,s[a],a,s)+"",(l=c.get(f))?(i[a]=l,l.__data__=s[a],c.delete(f)):e[a]=new jb(n,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(r[a]=l)}function hDe(n){return n.__data__}function pDe(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function bDe(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}jb.prototype={constructor:jb,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var GM="http://www.w3.org/1999/xhtml";const d6={svg:"http://www.w3.org/2000/svg",xhtml:GM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wb(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),d6.hasOwnProperty(t)?{space:d6[t],local:n}:n}function EDe(n){return function(){this.removeAttribute(n)}}function ADe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function IDe(n,t){return function(){this.setAttribute(n,t)}}function kDe(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function MDe(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function RDe(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function h6(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function PDe(n){return function(){this.style.removeProperty(n)}}function ODe(n,t,e){return function(){this.style.setProperty(n,t,e)}}function LDe(n,t,e){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function Ch(n,t){return n.style.getPropertyValue(t)||h6(n).getComputedStyle(n,null).getPropertyValue(t)}function VDe(n){return function(){delete this[n]}}function BDe(n,t){return function(){this[n]=t}}function HDe(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function f6(n){return n.trim().split(/^|\s+/)}function zM(n){return n.classList||new p6(n)}function p6(n){this._node=n,this._names=f6(n.getAttribute("class")||"")}function g6(n,t){for(var e=zM(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function m6(n,t){for(var e=zM(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function UDe(n){return function(){g6(this,n)}}function GDe(n){return function(){m6(this,n)}}function zDe(n,t){return function(){(t.apply(this,arguments)?g6:m6)(this,n)}}function WDe(){this.textContent=""}function qDe(n){return function(){this.textContent=n}}function YDe(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function XDe(){this.innerHTML=""}function QDe(n){return function(){this.innerHTML=n}}function ZDe(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function eEe(){this.nextSibling&&this.parentNode.appendChild(this)}function nEe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rEe(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===GM&&t.documentElement.namespaceURI===GM?t.createElement(n):t.createElementNS(e,n)}}function sEe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function _6(n){var t=Wb(n);return(t.local?sEe:rEe)(t)}function aEe(){return null}function cEe(){var n=this.parentNode;n&&n.removeChild(this)}function dEe(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function hEe(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function _Ee(n){return function(){var t=this.__on;if(t){for(var s,e=0,i=-1,r=t.length;e<r;++e)s=t[e],n.type&&s.type!==n.type||s.name!==n.name?t[++i]=s:this.removeEventListener(s.type,s.listener,s.options);++i?t.length=i:delete this.__on}}}function vEe(n,t,e){return function(){var r,i=this.__on,s=function gEe(n){return function(t){n.call(this,t,this.__data__)}}(t);if(i)for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=e),void(r.value=t);this.addEventListener(n.type,s,e),r={type:n.type,name:n.name,value:t,listener:s,options:e},i?i.push(r):this.__on=[r]}}function v6(n,t,e){var i=h6(n),r=i.CustomEvent;"function"==typeof r?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function bEe(n,t){return function(){return v6(this,n,t)}}function xEe(n,t){return function(){return v6(this,n,t.apply(this,arguments))}}p6.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var y6=[null];function zr(n,t){this._groups=n,this._parents=t}function b6(){return new zr([[document.documentElement]],y6)}zr.prototype=b6.prototype={constructor:zr,select:function YSe(n){"function"!=typeof n&&(n=UM(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,c,s=t[r],o=s.length,a=i[r]=new Array(o),u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new zr(i,this._parents)},selectAll:function ZSe(n){n="function"==typeof n?function QSe(n){return function(){return function KSe(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):a6(n);for(var t=this._groups,e=t.length,i=[],r=[],s=0;s<e;++s)for(var l,o=t[s],a=o.length,c=0;c<a;++c)(l=o[c])&&(i.push(n.call(l,l.__data__,c,o)),r.push(l));return new zr(i,r)},selectChild:function nDe(n){return this.select(null==n?tDe:function eDe(n){return function(){return JSe.call(this.children,n)}}("function"==typeof n?n:c6(n)))},selectChildren:function oDe(n){return this.selectAll(null==n?rDe:function sDe(n){return function(){return iDe.call(this.children,n)}}("function"==typeof n?n:c6(n)))},filter:function aDe(n){"function"!=typeof n&&(n=l6(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new zr(i,this._parents)},data:function fDe(n,t){if(!arguments.length)return Array.from(this,hDe);var e=t?dDe:uDe,i=this._parents,r=this._groups;"function"!=typeof n&&(n=function cDe(n){return function(){return n}}(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],d=r[c],h=d.length,f=pDe(n.call(u,u&&u.__data__,c,i)),p=f.length,m=a[c]=new Array(p),g=o[c]=new Array(p);e(u,d,m,g,l[c]=new Array(h),f,t);for(var C,M,_=0,b=0;_<p;++_)if(C=m[_]){for(_>=b&&(b=_+1);!(M=g[b])&&++b<p;);C._next=M||null}}return(o=new zr(o,i))._enter=a,o._exit=l,o},enter:function lDe(){return new zr(this._enter||this._groups.map(u6),this._parents)},exit:function gDe(){return new zr(this._exit||this._groups.map(u6),this._parents)},join:function mDe(n,t,e){var i=this.enter(),r=this,s=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=t&&(r=t(r))&&(r=r.selection()),null==e?s.remove():e(s),i&&r?i.merge(r).order():r},merge:function _De(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,r=e.length,o=Math.min(r,i.length),a=new Array(r),l=0;l<o;++l)for(var f,c=e[l],u=i[l],d=c.length,h=a[l]=new Array(d),p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<r;++l)a[l]=e[l];return new zr(a,this._parents)},selection:function wEe(){return this},order:function vDe(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var o,i=n[t],r=i.length-1,s=i[r];--r>=0;)(o=i[r])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function yDe(n){function t(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}n||(n=bDe);for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s){for(var c,o=e[s],a=o.length,l=r[s]=new Array(a),u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new zr(r,this._parents).order()},call:function xDe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function TDe(){return Array.from(this)},node:function CDe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function wDe(){let n=0;for(const t of this)++n;return n},empty:function SDe(){return!this.node()},each:function DDe(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a,r=t[e],s=0,o=r.length;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this},attr:function NDe(n,t){var e=Wb(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==t?e.local?ADe:EDe:"function"==typeof t?e.local?RDe:MDe:e.local?kDe:IDe)(e,t))},style:function FDe(n,t,e){return arguments.length>1?this.each((null==t?PDe:"function"==typeof t?LDe:ODe)(n,t,e??"")):Ch(this.node(),n)},property:function $De(n,t){return arguments.length>1?this.each((null==t?VDe:"function"==typeof t?HDe:BDe)(n,t)):this.node()[n]},classed:function jDe(n,t){var e=f6(n+"");if(arguments.length<2){for(var i=zM(this.node()),r=-1,s=e.length;++r<s;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof t?zDe:t?UDe:GDe)(e,t))},text:function KDe(n){return arguments.length?this.each(null==n?WDe:("function"==typeof n?YDe:qDe)(n)):this.node().textContent},html:function JDe(n){return arguments.length?this.each(null==n?XDe:("function"==typeof n?ZDe:QDe)(n)):this.node().innerHTML},raise:function tEe(){return this.each(eEe)},lower:function iEe(){return this.each(nEe)},append:function oEe(n){var t="function"==typeof n?n:_6(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function lEe(n,t){var e="function"==typeof n?n:_6(n),i=null==t?aEe:"function"==typeof t?t:UM(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function uEe(){return this.each(cEe)},clone:function fEe(n){return this.select(n?hEe:dEe)},datum:function pEe(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function yEe(n,t,e){var r,o,i=function mEe(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}(n+""),s=i.length;if(!(arguments.length<2)){for(a=t?vEe:_Ee,r=0;r<s;++r)this.each(a(i[r],t,e));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function TEe(n,t){return this.each(("function"==typeof t?xEe:bEe)(n,t))},[Symbol.iterator]:function*CEe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var o,i=n[t],r=0,s=i.length;r<s;++r)(o=i[r])&&(yield o)}};const hm=b6;var SEe={value:()=>{}};function x6(){for(var i,n=0,t=arguments.length,e={};n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new qb(e)}function qb(n){this._=n}function EEe(n,t){for(var r,e=0,i=n.length;e<i;++e)if((r=n[e]).name===t)return r.value}function T6(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=SEe,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:t,value:e}),n}qb.prototype=x6.prototype={constructor:qb,on:function(n,t){var r,e=this._,i=function DEe(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}(n+"",e),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(n=i[s]).type)e[r]=T6(e[r],n.name,t);else if(null==t)for(r in e)e[r]=T6(e[r],n.name,null);return this}for(;++s<o;)if((r=(n=i[s]).type)&&(r=EEe(e[r],n.name)))return r},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new qb(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var r,s,e=new Array(r),i=0;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(s=this._[n]).length;i<r;++i)s[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(t,e)}};const C6=x6;function qM(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function w6(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function fm(){}var Yb=1/.7,wh="\\s*([+-]?\\d+)\\s*",gm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kEe=/^#([0-9a-f]{3,8})$/,MEe=new RegExp(`^rgb\\(${wh},${wh},${wh}\\)$`),REe=new RegExp(`^rgb\\(${go},${go},${go}\\)$`),NEe=new RegExp(`^rgba\\(${wh},${wh},${wh},${gm}\\)$`),PEe=new RegExp(`^rgba\\(${go},${go},${go},${gm}\\)$`),OEe=new RegExp(`^hsl\\(${gm},${go},${go}\\)$`),LEe=new RegExp(`^hsla\\(${gm},${go},${go},${gm}\\)$`),S6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function D6(){return this.rgb().formatHex()}function E6(){return this.rgb().formatRgb()}function Fc(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=kEe.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?A6(t):3===e?new Dr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?Kb(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?Kb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=MEe.exec(n))?new Dr(t[1],t[2],t[3],1):(t=REe.exec(n))?new Dr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=NEe.exec(n))?Kb(t[1],t[2],t[3],t[4]):(t=PEe.exec(n))?Kb(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=OEe.exec(n))?M6(t[1],t[2]/100,t[3]/100,1):(t=LEe.exec(n))?M6(t[1],t[2]/100,t[3]/100,t[4]):S6.hasOwnProperty(n)?A6(S6[n]):"transparent"===n?new Dr(NaN,NaN,NaN,0):null}function A6(n){return new Dr(n>>16&255,n>>8&255,255&n,1)}function Kb(n,t,e,i){return i<=0&&(n=t=e=NaN),new Dr(n,t,e,i)}function Xb(n,t,e,i){return 1===arguments.length?function BEe(n){return n instanceof fm||(n=Fc(n)),n?new Dr((n=n.rgb()).r,n.g,n.b,n.opacity):new Dr}(n):new Dr(n,t,e,i??1)}function Dr(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}function I6(){return`#${Bc(this.r)}${Bc(this.g)}${Bc(this.b)}`}function k6(){const n=Qb(this.opacity);return`${1===n?"rgb(":"rgba("}${Vc(this.r)}, ${Vc(this.g)}, ${Vc(this.b)}${1===n?")":`, ${n})`}`}function Qb(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Vc(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Bc(n){return((n=Vc(n))<16?"0":"")+n.toString(16)}function M6(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Ns(n,t,e,i)}function R6(n){if(n instanceof Ns)return new Ns(n.h,n.s,n.l,n.opacity);if(n instanceof fm||(n=Fc(n)),!n)return new Ns;if(n instanceof Ns)return n;var t=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),s=Math.max(t,e,i),o=NaN,a=s-r,l=(s+r)/2;return a?(o=t===s?(e-i)/a+6*(e<i):e===s?(i-t)/a+2:(t-e)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new Ns(o,a,l,n.opacity)}function Ns(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}function N6(n){return(n=(n||0)%360)<0?n+360:n}function Zb(n){return Math.max(0,Math.min(1,n||0))}function YM(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function P6(n,t,e,i,r){var s=n*n,o=s*n;return((1-3*n+3*s-o)*t+(4-6*s+3*o)*e+(1+3*n+3*s-3*o)*i+o*r)/6}qM(fm,Fc,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:D6,formatHex:D6,formatHex8:function FEe(){return this.rgb().formatHex8()},formatHsl:function VEe(){return R6(this).formatHsl()},formatRgb:E6,toString:E6}),qM(Dr,Xb,w6(fm,{brighter(n){return n=null==n?Yb:Math.pow(Yb,n),new Dr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Dr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Dr(Vc(this.r),Vc(this.g),Vc(this.b),Qb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I6,formatHex:I6,formatHex8:function HEe(){return`#${Bc(this.r)}${Bc(this.g)}${Bc(this.b)}${Bc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:k6,toString:k6})),qM(Ns,function $Ee(n,t,e,i){return 1===arguments.length?R6(n):new Ns(n,t,e,i??1)},w6(fm,{brighter(n){return n=null==n?Yb:Math.pow(Yb,n),new Ns(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Ns(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new Dr(YM(n>=240?n-240:n+120,r,i),YM(n,r,i),YM(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Ns(N6(this.h),Zb(this.s),Zb(this.l),Qb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Qb(this.opacity);return`${1===n?"hsl(":"hsla("}${N6(this.h)}, ${100*Zb(this.s)}%, ${100*Zb(this.l)}%${1===n?")":`, ${n})`}`}}));const KM=n=>()=>n;function L6(n,t){var e=t-n;return e?function O6(n,t){return function(e){return n+e*t}}(n,e):KM(isNaN(n)?t:n)}const Jb=function n(t){var e=function jEe(n){return 1==(n=+n)?L6:function(t,e){return e-t?function zEe(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}(t,e,n):KM(isNaN(t)?e:t)}}(t);function i(r,s){var o=e((r=Xb(r)).r,(s=Xb(s)).r),a=e(r.g,s.g),l=e(r.b,s.b),c=L6(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=n,i}(1);function F6(n){return function(t){var o,a,e=t.length,i=new Array(e),r=new Array(e),s=new Array(e);for(o=0;o<e;++o)a=Xb(t[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=n(i),r=n(r),s=n(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}function Ps(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}F6(function UEe(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=n[i],s=n[i+1];return P6((e-i/t)*t,i>0?n[i-1]:2*r-s,r,s,i<t-1?n[i+2]:2*s-r)}}),F6(function GEe(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t);return P6((e-i/t)*t,n[(i+t-1)%t],n[i%t],n[(i+1)%t],n[(i+2)%t])}});var XM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,QM=new RegExp(XM.source,"g");function B6(n,t){var i,r,s,e=XM.lastIndex=QM.lastIndex=0,o=-1,a=[],l=[];for(n+="",t+="";(i=XM.exec(n))&&(r=QM.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:Ps(i,r)})),e=QM.lastIndex;return e<t.length&&(s=t.slice(e),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?function KEe(n){return function(t){return n(t)+""}}(l[0].x):function YEe(n){return function(){return n}}(t):(t=l.length,function(c){for(var d,u=0;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var tx,vm,Sh=0,mm=0,_m=0,$6=1e3,nx=0,Hc=0,ix=0,ym="object"==typeof performance&&performance.now?performance:Date,U6="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function ZM(){return Hc||(U6(JEe),Hc=ym.now()+ix)}function JEe(){Hc=0}function rx(){this._call=this._time=this._next=null}function G6(n,t,e){var i=new rx;return i.restart(n,t,e),i}function z6(){Hc=(nx=ym.now())+ix,Sh=mm=0;try{!function eAe(){ZM(),++Sh;for(var t,n=tx;n;)(t=Hc-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Sh}()}finally{Sh=0,function nAe(){for(var n,e,t=tx,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:tx=e);vm=n,JM(i)}(),Hc=0}}function tAe(){var n=ym.now(),t=n-nx;t>$6&&(ix-=t,nx=n)}function JM(n){Sh||(mm&&(mm=clearTimeout(mm)),n-Hc>24?(n<1/0&&(mm=setTimeout(z6,n-ym.now()-ix)),_m&&(_m=clearInterval(_m))):(_m||(nx=ym.now(),_m=setInterval(tAe,$6)),Sh=1,U6(z6)))}function j6(n,t,e){var i=new rx;return i.restart(r=>{i.stop(),n(r+t)},t=null==t?0:+t,e),i}rx.prototype=G6.prototype={constructor:rx,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?ZM():+e)+(null==t?0:+t),!this._next&&vm!==this&&(vm?vm._next=this:tx=this,vm=this),this._call=n,this._time=e,JM()},stop:function(){this._call&&(this._call=null,this._time=1/0,JM())}};var iAe=C6("start","end","cancel","interrupt"),rAe=[],W6=0,sx=3;function ax(n,t,e,i,r,s){var o=n.__transition;if(o){if(e in o)return}else n.__transition={};!function sAe(n,t,e){var r,i=n.__transition;function o(c){var u,d,h,f;if(1!==e.state)return l();for(u in i)if((f=i[u]).name===e.name){if(f.state===sx)return j6(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete i[u])}if(j6(function(){e.state===sx&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=sx,r=new Array(h=e.tween.length),u=0,d=-1;u<h;++u)(f=e.tween[u].value.call(n,n.__data__,e.index,e.group))&&(r[++d]=f);r.length=d+1}}function a(c){for(var u=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=5,1),d=-1,h=r.length;++d<h;)r[d].call(n,u);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),l())}function l(){for(var c in e.state=6,e.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=e,e.timer=G6(function s(c){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=c&&o(c-e.delay)},0,e.time)}(n,e,{name:t,index:i,group:r,on:iAe,tween:rAe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:W6})}function nR(n,t){var e=Os(n,t);if(e.state>W6)throw new Error("too late; already scheduled");return e}function mo(n,t){var e=Os(n,t);if(e.state>sx)throw new Error("too late; already running");return e}function Os(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}var lx,K6=180/Math.PI,rR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function X6(n,t,e,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(l=n*e+t*i)&&(e-=n*l,i-=t*l),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,l/=a),n*i<t*e&&(n=-n,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,n)*K6,skewX:Math.atan(l)*K6,scaleX:o,scaleY:a}}function Q6(n,t,e,i){function r(c){return c.length?c.pop()+" ":""}return function(c,u){var d=[],h=[];return c=n(c),u=n(u),function s(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push("translate(",null,t,null,e);p.push({i:m-4,x:Ps(c,d)},{i:m-2,x:Ps(u,h)})}else(d||h)&&f.push("translate("+d+t+h+e)}(c.translateX,c.translateY,u.translateX,u.translateY,d,h),function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(r(d)+"rotate(",null,i)-2,x:Ps(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}(c.rotate,u.rotate,d,h),function a(c,u,d,h){c!==u?h.push({i:d.push(r(d)+"skewX(",null,i)-2,x:Ps(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}(c.skewX,u.skewX,d,h),function l(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push(r(f)+"scale(",null,",",null,")");p.push({i:m-4,x:Ps(c,d)},{i:m-2,x:Ps(u,h)})}else(1!==d||1!==h)&&f.push(r(f)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var g,p=-1,m=h.length;++p<m;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var cAe=Q6(function aAe(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?rR:X6(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),uAe=Q6(function lAe(n){return null!=n&&(lx||(lx=document.createElementNS("http://www.w3.org/2000/svg","g")),lx.setAttribute("transform",n),n=lx.transform.baseVal.consolidate())?X6((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):rR},", ",")",")");function dAe(n,t){var e,i;return function(){var r=mo(this,n),s=r.tween;if(s!==e)for(var o=0,a=(i=e=s).length;o<a;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}r.tween=i}}function hAe(n,t,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var s=mo(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:e},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function sR(n,t,e){var i=n._id;return n.each(function(){var r=mo(this,i);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return Os(r,i).value[t]}}function Z6(n,t){var e;return("number"==typeof t?Ps:t instanceof Fc?Jb:(e=Fc(t))?(t=e,Jb):B6)(n,t)}function pAe(n){return function(){this.removeAttribute(n)}}function gAe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function mAe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=t(i=o,e)}}function _Ae(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=t(i=o,e)}}function vAe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttribute(n):(o=this.getAttribute(n))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function yAe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function CAe(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function TAe(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}(n,s)),e}return r._value=t,r}function wAe(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function xAe(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}(n,s)),e}return r._value=t,r}function DAe(n,t){return function(){nR(this,n).delay=+t.apply(this,arguments)}}function EAe(n,t){return t=+t,function(){nR(this,n).delay=t}}function IAe(n,t){return function(){mo(this,n).duration=+t.apply(this,arguments)}}function kAe(n,t){return t=+t,function(){mo(this,n).duration=t}}var jAe=hm.prototype.constructor;function J6(n){return function(){this.style.removeProperty(n)}}var cIe=0;function ra(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function e9(){return++cIe}var sa=hm.prototype;ra.prototype=function uIe(n){return hm().transition(n)}.prototype={constructor:ra,select:function GAe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=UM(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var u,d,a=i[o],l=a.length,c=s[o]=new Array(l),h=0;h<l;++h)(u=a[h])&&(d=n.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,ax(c[h],t,e,h,c,Os(u,e)));return new ra(s,this._parents,t,e)},selectAll:function zAe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=a6(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var u,l=i[a],c=l.length,d=0;d<c;++d)if(u=l[d]){for(var f,h=n.call(u,u.__data__,d,l),p=Os(u,e),m=0,g=h.length;m<g;++m)(f=h[m])&&ax(f,t,e,m,h,p);s.push(h),o.push(u)}return new ra(s,o,t,e)},selectChild:sa.selectChild,selectChildren:sa.selectChildren,filter:function LAe(n){"function"!=typeof n&&(n=l6(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new ra(i,this._parents,this._name,this._id)},merge:function FAe(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,s=Math.min(i,e.length),o=new Array(i),a=0;a<s;++a)for(var h,l=t[a],c=e[a],u=l.length,d=o[a]=new Array(u),f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<i;++a)o[a]=t[a];return new ra(o,this._parents,this._name,this._id)},selection:function WAe(){return new jAe(this._groups,this._parents)},transition:function aIe(){for(var n=this._name,t=this._id,e=e9(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)if(l=o[c]){var u=Os(l,t);ax(l,n,e,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ra(i,this._parents,n,e)},call:sa.call,nodes:sa.nodes,node:sa.node,size:sa.size,empty:sa.empty,each:sa.each,on:function HAe(n,t){var e=this._id;return arguments.length<2?Os(this.node(),e).on.on(n):this.each(function BAe(n,t,e){var i,r,s=function VAe(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?nR:mo;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(t,e),o.on=r}}(e,n,t))},attr:function bAe(n,t){var e=Wb(n),i="transform"===e?uAe:Z6;return this.attrTween(n,"function"==typeof t?(e.local?yAe:vAe)(e,i,sR(this,"attr."+n,t)):null==t?(e.local?gAe:pAe)(e):(e.local?_Ae:mAe)(e,i,t))},attrTween:function SAe(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var i=Wb(n);return this.tween(e,(i.local?CAe:wAe)(i,t))},style:function QAe(n,t,e){var i="transform"==(n+="")?cAe:Z6;return null==t?this.styleTween(n,function qAe(n,t){var e,i,r;return function(){var s=Ch(this,n),o=(this.style.removeProperty(n),Ch(this,n));return s===o?null:s===e&&o===i?r:r=t(e=s,i=o)}}(n,i)).on("end.style."+n,J6(n)):"function"==typeof t?this.styleTween(n,function KAe(n,t,e){var i,r,s;return function(){var o=Ch(this,n),a=e(this),l=a+"";return null==a&&(this.style.removeProperty(n),l=a=Ch(this,n)),o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}(n,i,sR(this,"style."+n,t))).each(function XAe(n,t){var e,i,r,a,s="style."+t,o="end."+s;return function(){var l=mo(this,n),c=l.on,u=null==l.value[s]?a||(a=J6(t)):void 0;(c!==e||r!==u)&&(i=(e=c).copy()).on(o,r=u),l.on=i}}(this._id,n)):this.styleTween(n,function YAe(n,t,e){var i,s,r=e+"";return function(){var o=Ch(this,n);return o===r?null:o===i?s:s=t(i=o,e)}}(n,i,t),e).on("end.style."+n,null)},styleTween:function eIe(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function JAe(n,t,e){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&function ZAe(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}(n,o,e)),i}return s._value=t,s}(n,t,e??""))},text:function iIe(n){return this.tween("text","function"==typeof n?function nIe(n){return function(){var t=n(this);this.textContent=t??""}}(sR(this,"text",n)):function tIe(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function oIe(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,function sIe(n){var t,e;function i(){var r=n.apply(this,arguments);return r!==e&&(t=(e=r)&&function rIe(n){return function(t){this.textContent=n.call(this,t)}}(r)),t}return i._value=n,i}(n))},remove:function UAe(){return this.on("end.remove",function $Ae(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function fAe(n,t){var e=this._id;if(n+="",arguments.length<2){for(var o,i=Os(this.node(),e).tween,r=0,s=i.length;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((null==t?dAe:hAe)(e,n,t))},delay:function AAe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?DAe:EAe)(t,n)):Os(this.node(),t).delay},duration:function MAe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?IAe:kAe)(t,n)):Os(this.node(),t).duration},ease:function NAe(n){var t=this._id;return arguments.length?this.each(function RAe(n,t){if("function"!=typeof t)throw new Error;return function(){mo(this,n).ease=t}}(t,n)):Os(this.node(),t).ease},easeVarying:function OAe(n){if("function"!=typeof n)throw new Error;return this.each(function PAe(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;mo(this,n).ease=e}}(this._id,n))},end:function lIe(){var n,t,e=this,i=e._id,r=e.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--r&&s()}};e.each(function(){var c=mo(this,i),u=c.on;u!==n&&((t=(n=u).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),0===r&&s()})},[Symbol.iterator]:sa[Symbol.iterator]};var hIe={time:null,delay:0,duration:250,ease:function dIe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function fIe(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}hm.prototype.interrupt=function oAe(n){return this.each(function(){!function iR(n,t){var i,r,o,e=n.__transition,s=!0;if(e){for(o in t=null==t?null:t+"",e)(i=e[o]).name===t?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[o]):s=!1;s&&delete n.__transition}}(this,n)})},hm.prototype.transition=function pIe(n){var t,e;n instanceof ra?(t=n._id,n=n._name):(t=e9(),(e=hIe).time=ZM(),n=null==n?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)(l=o[c])&&ax(l,n,t,c,o,e||fIe(l,t));return new ra(i,this._parents,n,t)};Math;function bm(n){return{type:n}}function dx(n,t){return null==n||null==t?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function SIe(n,t){return null==n||null==t?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function hR(n){let t,e,i;function r(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}return 2!==n.length?(t=dx,e=(a,l)=>dx(n(a),l),i=(a,l)=>n(a)-l):(t=n===dx||n===SIe?n:DIe,e=n,i=n),{left:r,center:function o(a,l,c=0,u=a.length){const d=r(a,l,c,u-1);return d>c&&i(a[d-1],l)>-i(a[d],l)?d-1:d},right:function s(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}}}function DIe(){return 0}["w","e"].map(bm),["n","s"].map(bm),["n","w","e","s","nw","ne","sw","se"].map(bm);const EIe=Math.sqrt(50),AIe=Math.sqrt(10),IIe=Math.sqrt(2);function hx(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=EIe?10:s>=AIe?5:s>=IIe?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(n*c),l=Math.round(t*c),a/c<n&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(n/c),l=Math.round(t/c),a*c<n&&++a,l*c>t&&--l),l<a&&.5<=e&&e<2?hx(n,t,2*e):[a,l,c]}function fR(n,t,e){return hx(n=+n,t=+t,e=+e)[2]}function pR(n,t,e){e=+e;const i=(t=+t)<(n=+n),r=i?fR(t,n,e):fR(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}const aa=1e3,fs=6e4,la=60*fs,ca=24*la,gR=7*ca,o9=30*ca,mR=365*ca,_R=new Date,vR=new Date;function ai(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),t(s,1),n(s),s),r.round=s=>{const o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=(s,o)=>(t(s=new Date(+s),null==o?1:Math.floor(o)),s),r.range=(s,o,a)=>{const l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;let c;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=s=>ai(o=>{if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),e&&(r.count=(s,o)=>(_R.setTime(+s),vR.setTime(+o),n(_R),n(vR),Math.floor(e(_R,vR))),r.every=s=>(s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?o=>i(o)%s==0:o=>r.count(0,o)%s==0):r:null)),r}const fx=ai(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);fx.every=n=>(n=Math.floor(n),isFinite(n)&&n>0?n>1?ai(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):fx:null);const Ah=ai(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*aa)},(n,t)=>(t-n)/aa,n=>n.getUTCSeconds()),yR=ai(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*aa)},(n,t)=>{n.setTime(+n+t*fs)},(n,t)=>(t-n)/fs,n=>n.getMinutes()),a9=ai(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*fs)},(n,t)=>(t-n)/fs,n=>n.getUTCMinutes()),bR=ai(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*aa-n.getMinutes()*fs)},(n,t)=>{n.setTime(+n+t*la)},(n,t)=>(t-n)/la,n=>n.getHours()),l9=ai(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*la)},(n,t)=>(t-n)/la,n=>n.getUTCHours()),xR=ai(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*fs)/ca,n=>n.getDate()-1),c9=(ai(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/ca,n=>n.getUTCDate()-1),ai(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/ca,n=>Math.floor(n/ca)));function $c(n){return ai(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fs)/gR)}const TR=$c(0);function Uc(n){return ai(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/gR)}$c(1),$c(2),$c(3),$c(4),$c(5),$c(6);const u9=Uc(0),CR=(Uc(1),Uc(2),Uc(3),Uc(4),Uc(5),Uc(6),ai(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear()),n=>n.getMonth())),d9=ai(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear()),n=>n.getUTCMonth()),px=ai(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());px.every=n=>isFinite(n=Math.floor(n))&&n>0?ai(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)}):null;const wR=ai(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());function h9(n,t,e,i,r,s){const o=[[Ah,1,aa],[Ah,5,5e3],[Ah,15,15e3],[Ah,30,3e4],[s,1,fs],[s,5,5*fs],[s,15,15*fs],[s,30,30*fs],[r,1,la],[r,3,3*la],[r,6,6*la],[r,12,12*la],[i,1,ca],[i,2,2*ca],[e,1,gR],[t,1,o9],[t,3,3*o9],[n,1,mR]];function l(c,u,d){const h=Math.abs(u-c)/d,f=hR(([,,g])=>g).right(o,h);if(f===o.length)return n.every(pR(c/mR,u/mR,d));if(0===f)return fx.every(Math.max(pR(c,u,d),1));const[p,m]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return p.every(m)}return[function a(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&"function"==typeof d.range?d:l(c,u,d),p=f?f.range(c,+u+1):[];return h?p.reverse():p},l]}wR.every=n=>isFinite(n=Math.floor(n))&&n>0?ai(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null;const[t7e,n7e]=h9(wR,d9,u9,c9,l9,a9),[GIe,zIe]=h9(px,CR,TR,xR,bR,yR);var SR=new Date,DR=new Date;function ua(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=function(s){return n(s=new Date(+s)),s},r.ceil=function(s){return n(s=new Date(s-1)),t(s,1),n(s),s},r.round=function(s){var o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=function(s,o){return t(s=new Date(+s),null==o?1:Math.floor(o)),s},r.range=function(s,o,a){var c,l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=function(s){return ua(function(o){if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););})},e&&(r.count=function(s,o){return SR.setTime(+s),DR.setTime(+o),n(SR),n(DR),Math.floor(e(SR,DR))},r.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?function(o){return i(o)%s==0}:function(o){return r.count(0,o)%s==0}):r:null}),r}const xm=864e5,f9=7*xm;function Gc(n){return ua(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/f9})}var p9=Gc(0),gx=Gc(1),Ih=(Gc(2),Gc(3),Gc(4)),g9=(Gc(5),Gc(6),ua(function(n){n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t-n)/xm},function(n){return n.getUTCDate()-1}));const m9=g9;function zc(n){return ua(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/f9})}var _9=zc(0),mx=zc(1),kh=(zc(2),zc(3),zc(4)),v9=(zc(5),zc(6),ua(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/xm,n=>n.getDate()-1));const y9=v9;var AR=ua(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});AR.every=function(n){return isFinite(n=Math.floor(n))&&n>0?ua(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};const Tm=AR;var IR=ua(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});IR.every=function(n){return isFinite(n=Math.floor(n))&&n>0?ua(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};const Cm=IR;function kR(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function MR(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function wm(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}var b9={"-":"",_:" ",0:"0"},bi=/^\s*\d+/,eke=/^%/,tke=/[\\^$*+?|[\]().{}]/g;function Tt(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<e?new Array(e-s+1).join(t)+r:r)}function nke(n){return n.replace(tke,"\\$&")}function Sm(n){return new RegExp("^(?:"+n.map(nke).join("|")+")","i")}function Dm(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function ike(n,t,e){var i=bi.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function rke(n,t,e){var i=bi.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function ske(n,t,e){var i=bi.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function oke(n,t,e){var i=bi.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function ake(n,t,e){var i=bi.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function x9(n,t,e){var i=bi.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function T9(n,t,e){var i=bi.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function lke(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function cke(n,t,e){var i=bi.exec(t.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function uke(n,t,e){var i=bi.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function C9(n,t,e){var i=bi.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function dke(n,t,e){var i=bi.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function w9(n,t,e){var i=bi.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function hke(n,t,e){var i=bi.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function fke(n,t,e){var i=bi.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function pke(n,t,e){var i=bi.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function gke(n,t,e){var i=bi.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function mke(n,t,e){var i=eke.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function _ke(n,t,e){var i=bi.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function vke(n,t,e){var i=bi.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function S9(n,t){return Tt(n.getDate(),t,2)}function yke(n,t){return Tt(n.getHours(),t,2)}function bke(n,t){return Tt(n.getHours()%12||12,t,2)}function xke(n,t){return Tt(1+y9.count(Tm(n),n),t,3)}function D9(n,t){return Tt(n.getMilliseconds(),t,3)}function Tke(n,t){return D9(n,t)+"000"}function Cke(n,t){return Tt(n.getMonth()+1,t,2)}function wke(n,t){return Tt(n.getMinutes(),t,2)}function Ske(n,t){return Tt(n.getSeconds(),t,2)}function Dke(n){var t=n.getDay();return 0===t?7:t}function Eke(n,t){return Tt(_9.count(Tm(n)-1,n),t,2)}function E9(n){var t=n.getDay();return t>=4||0===t?kh(n):kh.ceil(n)}function Ake(n,t){return n=E9(n),Tt(kh.count(Tm(n),n)+(4===Tm(n).getDay()),t,2)}function Ike(n){return n.getDay()}function kke(n,t){return Tt(mx.count(Tm(n)-1,n),t,2)}function Mke(n,t){return Tt(n.getFullYear()%100,t,2)}function Rke(n,t){return Tt((n=E9(n)).getFullYear()%100,t,2)}function Nke(n,t){return Tt(n.getFullYear()%1e4,t,4)}function Pke(n,t){var e=n.getDay();return Tt((n=e>=4||0===e?kh(n):kh.ceil(n)).getFullYear()%1e4,t,4)}function Oke(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tt(t/60|0,"0",2)+Tt(t%60,"0",2)}function A9(n,t){return Tt(n.getUTCDate(),t,2)}function Lke(n,t){return Tt(n.getUTCHours(),t,2)}function Fke(n,t){return Tt(n.getUTCHours()%12||12,t,2)}function Vke(n,t){return Tt(1+m9.count(Cm(n),n),t,3)}function I9(n,t){return Tt(n.getUTCMilliseconds(),t,3)}function Bke(n,t){return I9(n,t)+"000"}function Hke(n,t){return Tt(n.getUTCMonth()+1,t,2)}function $ke(n,t){return Tt(n.getUTCMinutes(),t,2)}function Uke(n,t){return Tt(n.getUTCSeconds(),t,2)}function Gke(n){var t=n.getUTCDay();return 0===t?7:t}function zke(n,t){return Tt(p9.count(Cm(n)-1,n),t,2)}function k9(n){var t=n.getUTCDay();return t>=4||0===t?Ih(n):Ih.ceil(n)}function jke(n,t){return n=k9(n),Tt(Ih.count(Cm(n),n)+(4===Cm(n).getUTCDay()),t,2)}function Wke(n){return n.getUTCDay()}function qke(n,t){return Tt(gx.count(Cm(n)-1,n),t,2)}function Yke(n,t){return Tt(n.getUTCFullYear()%100,t,2)}function Kke(n,t){return Tt((n=k9(n)).getUTCFullYear()%100,t,2)}function Xke(n,t){return Tt(n.getUTCFullYear()%1e4,t,4)}function Qke(n,t){var e=n.getUTCDay();return Tt((n=e>=4||0===e?Ih(n):Ih.ceil(n)).getUTCFullYear()%1e4,t,4)}function Zke(){return"+0000"}function M9(){return"%"}function R9(n){return+n}function N9(n){return Math.floor(+n/1e3)}!function nMe(n){(function JIe(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,s=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,c=Sm(r),u=Dm(r),d=Sm(s),h=Dm(s),f=Sm(o),p=Dm(o),m=Sm(a),g=Dm(a),v=Sm(l),_=Dm(l),b={a:function Q(ie){return o[ie.getDay()]},A:function he(ie){return s[ie.getDay()]},b:function de(ie){return l[ie.getMonth()]},B:function We(ie){return a[ie.getMonth()]},c:null,d:S9,e:S9,f:Tke,g:Rke,G:Pke,H:yke,I:bke,j:xke,L:D9,m:Cke,M:wke,p:function ct(ie){return r[+(ie.getHours()>=12)]},q:function Xe(ie){return 1+~~(ie.getMonth()/3)},Q:R9,s:N9,S:Ske,u:Dke,U:Eke,V:Ake,w:Ike,W:kke,x:null,X:null,y:Mke,Y:Nke,Z:Oke,"%":M9},C={a:function ui(ie){return o[ie.getUTCDay()]},A:function st(ie){return s[ie.getUTCDay()]},b:function xi(ie){return l[ie.getUTCMonth()]},B:function Er(ie){return a[ie.getUTCMonth()]},c:null,d:A9,e:A9,f:Bke,g:Kke,G:Qke,H:Lke,I:Fke,j:Vke,L:I9,m:Hke,M:$ke,p:function et(ie){return r[+(ie.getUTCHours()>=12)]},q:function xn(ie){return 1+~~(ie.getUTCMonth()/3)},Q:R9,s:N9,S:Uke,u:Gke,U:zke,V:jke,w:Wke,W:qke,x:null,X:null,y:Yke,Y:Xke,Z:Zke,"%":M9},M={a:function me(ie,Ie,qe){var Y=f.exec(Ie.slice(qe));return Y?(ie.w=p.get(Y[0].toLowerCase()),qe+Y[0].length):-1},A:function ce(ie,Ie,qe){var Y=d.exec(Ie.slice(qe));return Y?(ie.w=h.get(Y[0].toLowerCase()),qe+Y[0].length):-1},b:function lt(ie,Ie,qe){var Y=v.exec(Ie.slice(qe));return Y?(ie.m=_.get(Y[0].toLowerCase()),qe+Y[0].length):-1},B:function Ce(ie,Ie,qe){var Y=m.exec(Ie.slice(qe));return Y?(ie.m=g.get(Y[0].toLowerCase()),qe+Y[0].length):-1},c:function rt(ie,Ie,qe){return J(ie,t,Ie,qe)},d:C9,e:C9,f:gke,g:T9,G:x9,H:w9,I:w9,j:dke,L:pke,m:uke,M:hke,p:function De(ie,Ie,qe){var Y=c.exec(Ie.slice(qe));return Y?(ie.p=u.get(Y[0].toLowerCase()),qe+Y[0].length):-1},q:cke,Q:_ke,s:vke,S:fke,u:rke,U:ske,V:oke,w:ike,W:ake,x:function hn(ie,Ie,qe){return J(ie,e,Ie,qe)},X:function q(ie,Ie,qe){return J(ie,i,Ie,qe)},y:T9,Y:x9,Z:lke,"%":mke};function R(ie,Ie){return function(qe){var Ti,Ee,fn,Y=[],on=-1,Dt=0,Fi=ie.length;for(qe instanceof Date||(qe=new Date(+qe));++on<Fi;)37===ie.charCodeAt(on)&&(Y.push(ie.slice(Dt,on)),null!=(Ee=b9[Ti=ie.charAt(++on)])?Ti=ie.charAt(++on):Ee="e"===Ti?" ":"0",(fn=Ie[Ti])&&(Ti=fn(qe,Ee)),Y.push(Ti),Dt=on+1);return Y.push(ie.slice(Dt,on)),Y.join("")}}function W(ie,Ie){return function(qe){var Dt,Fi,Y=wm(1900,void 0,1);if(J(Y,ie,qe+="",0)!=qe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(1e3*Y.s+("L"in Y?Y.L:0));if(Ie&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+12*Y.p),void 0===Y.m&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Fi=(Dt=MR(wm(Y.y,0,1))).getUTCDay(),Dt=Fi>4||0===Fi?gx.ceil(Dt):gx(Dt),Dt=m9.offset(Dt,7*(Y.V-1)),Y.y=Dt.getUTCFullYear(),Y.m=Dt.getUTCMonth(),Y.d=Dt.getUTCDate()+(Y.w+6)%7):(Fi=(Dt=kR(wm(Y.y,0,1))).getDay(),Dt=Fi>4||0===Fi?mx.ceil(Dt):mx(Dt),Dt=y9.offset(Dt,7*(Y.V-1)),Y.y=Dt.getFullYear(),Y.m=Dt.getMonth(),Y.d=Dt.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Fi="Z"in Y?MR(wm(Y.y,0,1)).getUTCDay():kR(wm(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+7*Y.W-(Fi+5)%7:Y.w+7*Y.U-(Fi+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,MR(Y)):kR(Y)}}function J(ie,Ie,qe,Y){for(var Ti,Ee,on=0,Dt=Ie.length,Fi=qe.length;on<Dt;){if(Y>=Fi)return-1;if(37===(Ti=Ie.charCodeAt(on++))){if(Ti=Ie.charAt(on++),!(Ee=M[Ti in b9?Ie.charAt(on++):Ti])||(Y=Ee(ie,qe,Y))<0)return-1}else if(Ti!=qe.charCodeAt(Y++))return-1}return Y}return b.x=R(e,b),b.X=R(i,b),b.c=R(t,b),C.x=R(e,C),C.X=R(i,C),C.c=R(t,C),{format:function(ie){var Ie=R(ie+="",b);return Ie.toString=function(){return ie},Ie},parse:function(ie){var Ie=W(ie+="",!1);return Ie.toString=function(){return ie},Ie},utcFormat:function(ie){var Ie=R(ie+="",C);return Ie.toString=function(){return ie},Ie},utcParse:function(ie){var Ie=W(ie+="",!0);return Ie.toString=function(){return ie},Ie}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),hR(dx),hR(function iMe(n){return null===n?NaN:+n});var H9,_Me=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vx(n){if(!(t=_Me.exec(n)))throw new Error("invalid format: "+n);var t;return new NR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function NR(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function yx(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function $9(n,t){var e=yx(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}vx.prototype=NR.prototype,NR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const U9={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function vMe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>$9(100*n,t),r:$9,s:function CMe(n,t){var e=yx(n,t);if(!e)return n+"";var i=e[0],r=e[1],s=r-(H9=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+yx(n,Math.max(0,t+s-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function G9(n){return n}var z9=Array.prototype.map,j9=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function wMe(n){var t=void 0===n.grouping||void 0===n.thousands?G9:function bMe(n,t){return function(e,i){for(var r=e.length,s=[],o=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(e.substring(r-=a,r+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return s.reverse().join(t)}}(z9.call(n.grouping,Number),n.thousands+""),e=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",r=void 0===n.decimal?".":n.decimal+"",s=void 0===n.numerals?G9:function xMe(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}(z9.call(n.numerals,String)),o=void 0===n.percent?"%":n.percent+"",a=void 0===n.minus?"\u2212":n.minus+"",l=void 0===n.nan?"NaN":n.nan+"";function c(d){var h=(d=vx(d)).fill,f=d.align,p=d.sign,m=d.symbol,g=d.zero,v=d.width,_=d.comma,b=d.precision,C=d.trim,M=d.type;"n"===M?(_=!0,M="g"):U9[M]||(void 0===b&&(b=12),C=!0,M="g"),(g||"0"===h&&"="===f)&&(g=!0,h="0",f="=");var R="$"===m?e:"#"===m&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",W="$"===m?i:/[%p]/.test(M)?o:"",J=U9[M],De=/[defgprs%]/.test(M);function me(ce){var rt,hn,q,lt=R,Ce=W;if("c"===M)Ce=J(ce)+Ce,ce="";else{var Q=(ce=+ce)<0||1/ce<0;if(ce=isNaN(ce)?l:J(Math.abs(ce),b),C&&(ce=function TMe(n){e:for(var r,t=n.length,e=1,i=-1;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":0===i&&(i=e),r=e;break;default:if(!+n[e])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(r+1):n}(ce)),Q&&0==+ce&&"+"!==p&&(Q=!1),lt=(Q?"("===p?p:a:"-"===p||"("===p?"":p)+lt,Ce=("s"===M?j9[8+H9/3]:"")+Ce+(Q&&"("===p?")":""),De)for(rt=-1,hn=ce.length;++rt<hn;)if(48>(q=ce.charCodeAt(rt))||q>57){Ce=(46===q?r+ce.slice(rt+1):ce.slice(rt))+Ce,ce=ce.slice(0,rt);break}}_&&!g&&(ce=t(ce,1/0));var he=lt.length+ce.length+Ce.length,de=he<v?new Array(v-he+1).join(h):"";switch(_&&g&&(ce=t(de+ce,de.length?v-Ce.length:1/0),de=""),f){case"<":ce=lt+ce+Ce+de;break;case"=":ce=lt+de+ce+Ce;break;case"^":ce=de.slice(0,he=de.length>>1)+lt+ce+Ce+de.slice(he);break;default:ce=de+lt+ce+Ce}return s(ce)}return b=void 0===b?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),me.toString=function(){return d+""},me}return{format:c,formatPrefix:function u(d,h){var f=c(((d=vx(d)).type="f",d)),p=3*Math.max(-8,Math.min(8,Math.floor(function Nh(n){return(n=yx(Math.abs(n)))?n[1]:NaN}(h)/3))),m=Math.pow(10,-p),g=j9[8+p/3];return function(v){return f(m*v)+g}}}}!function SMe(n){wMe(n)}({thousands:",",grouping:[3],currency:["$",""]}),Map,Symbol("implicit");var RMe=hl(178);const NMe=["caretElm"];function PMe(n,t){}const OMe=function(n){return{model:n}};function LMe(n,t){if(1&n&&(x(0,"span"),F(1,PMe,0,0,"ng-template",5),T()),2&n){const e=V();w(1),D("ngTemplateOutlet",e.template)("ngTemplateOutletContext",ti(2,OMe,e.context))}}function FMe(n,t){1&n&&te(0,"span",6),2&n&&D("innerHTML",V().title,OO)}function SNe(n,t,e){e=e||{};let i,r,s,o=null,a=0;function l(){a=!1===e.leading?0:+new Date,o=null,s=n.apply(i,r)}return function(){const c=+new Date;!a&&!1===e.leading&&(a=c);const u=t-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=n.apply(i,r)):!o&&!1!==e.trailing&&(o=setTimeout(l,u)),s}}function DNe(n,t){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:SNe(s.value,n,t)}),this[r]}}}}var it=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",n}(it||{});function r7(n,t,e){return e===it.Top?n.top-7:e===it.Bottom?n.top+n.height-t.height+7:e===it.Center?n.top+n.height/2-t.height/2:void 0}function s7(n,t,e){return e===it.Left?n.left-7:e===it.Right?n.left+n.width-t.width+7:e===it.Center?n.left+n.width/2-t.width/2:void 0}class jr{static calculateVerticalAlignment(t,e,i){let r=r7(t,e,i);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,i,r){let s;r===it.Top&&(s=t.height/2-i.height/2+7),r===it.Bottom&&(s=e.height-t.height/2-i.height/2-7),r===it.Center&&(s=e.height/2-i.height/2);const o=r7(t,e,r);return o+e.height>window.innerHeight&&(s+=o+e.height-window.innerHeight),s}static calculateHorizontalAlignment(t,e,i){let r=s7(t,e,i);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,i,r){let s;r===it.Left&&(s=t.width/2-i.width/2+7),r===it.Right&&(s=e.width-t.width/2-i.width/2-7),r===it.Center&&(s=e.width/2-i.width/2);const o=s7(t,e,r);return o+e.width>window.innerWidth&&(s+=o+e.width-window.innerWidth),s}static shouldFlip(t,e,i,r){let s=!1;return i===it.Right&&t.left+t.width+e.width+r>window.innerWidth&&(s=!0),i===it.Left&&t.left-e.width-r<0&&(s=!0),i===it.Top&&t.top-e.height-r<0&&(s=!0),i===it.Bottom&&t.top+t.height+e.height+r>window.innerHeight&&(s=!0),s}static positionCaret(t,e,i,r,s){let o=0,a=0;return t===it.Right?(a=-7,o=jr.calculateVerticalCaret(i,e,r,s)):t===it.Left?(a=e.width,o=jr.calculateVerticalCaret(i,e,r,s)):t===it.Top?(o=e.height,a=jr.calculateHorizontalCaret(i,e,r,s)):t===it.Bottom&&(o=-7,a=jr.calculateHorizontalCaret(i,e,r,s)),{top:o,left:a}}static positionContent(t,e,i,r,s){let o=0,a=0;return t===it.Right?(a=i.left+i.width+r,o=jr.calculateVerticalAlignment(i,e,s)):t===it.Left?(a=i.left-e.width-r,o=jr.calculateVerticalAlignment(i,e,s)):t===it.Top?(o=i.top-e.height-r,a=jr.calculateHorizontalAlignment(i,e,s)):t===it.Bottom&&(o=i.top+i.height+r,a=jr.calculateHorizontalAlignment(i,e,s)),{top:o,left:a}}static determinePlacement(t,e,i,r){if(jr.shouldFlip(i,e,t,r)){if(t===it.Right)return it.Left;if(t===it.Left)return it.Right;if(t===it.Top)return it.Bottom;if(t===it.Bottom)return it.Top}return t}}let ENe=(()=>{class n{constructor(e,i,r){this.element=e,this.renderer=i,this.platformId=r}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!vr(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const r=e.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(e,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,r){const{top:s,left:o}=jr.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${s}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,i){const r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=jr.positionCaret(this.placement,i,e,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(e,i){this.placement=jr.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(y(Ue),y(Ei),y(hi))},n.\u0275cmp=Be({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&Rl(NMe,5),2&e){let r;Pt(r=Ot())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(e,i){1&e&&$("resize",function(){return i.onWindowResize()},0,K_),2&e&&Ai(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(x(0,"div"),te(1,"span",0,1),x(3,"div",2),F(4,LMe,2,4,"span",3),F(5,FMe,1,1,"span",4),T()()),2&e&&(w(1),function Y2(n,t,e){bs(Rr,Ks,Ru(H(),n,t,e),!0)}("tooltip-caret position-",i.placement,""),D("hidden",!i.showCaret),w(3),D("ngIf",!i.title),w(1),D("ngIf",i.title))},dependencies:[ni,Ol],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function Wm(n,t,e,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}([DNe(100)],n.prototype,"onWindowResize",null),n})();class ANe{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const i=this.injectComponent(t,e);return this.register(t,i),i}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const i=e.indexOf(t);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs={...e,...t.inputs}),i&&(t.outputs={...i,...t.outputs}),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}let VR,o7=(()=>{class n{constructor(e,i,r){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function INe(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const r=Object.getOwnPropertyNames(i.inputs);for(const s of r)e.instance[s]=i.inputs[s]}if(void 0!==i.outputs){const r=Object.getOwnPropertyNames(i.outputs);for(const s of r)e.instance[s]=i.outputs[s]}}return e}appendComponent(e,i={},r){r||(r=this.getRootViewContainer());const s=this.getComponentRootNode(r),o=new WSe(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new o6(e),l=o.attach(a);return this.projectComponentBindings(l,i),l}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(P(xs),P(Sl),P(mn))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),OR=(()=>{class n extends ANe{constructor(e){super(e),this.type=ENe}}return n.\u0275fac=function(e){return new(e||n)(P(o7))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),h7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),p7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({providers:[o7,OR],imports:[[vn]]}),n})();typeof window<"u"?VR=window:typeof global<"u"&&(VR=global);let Wr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn,h7,p7],vn,h7,p7]}),n})(),GNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),T7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})();RMe();let WNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),qNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),YNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),C7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})();Math;let HR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),QNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr,HR,C7]]}),n})(),JNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),ePe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),nPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr,HR,T7]]}),n})(),rPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),sPe=(()=>{class n{constructor(){!function iPe(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[Wr,GNe,T7,WNe,qNe,YNe,rPe,C7,QNe,JNe,HR,ePe,nPe]}),n})();const Am={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Am;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Oe(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Am;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Am;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},$R=new class aPe extends Iy{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class oPe extends Ay{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Am.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Am.cancelAnimationFrame(e),t._scheduled=void 0)}});let UR,lPe=1;const Dx={};function w7(n){return n in Dx&&(delete Dx[n],!0)}const cPe={setImmediate(n){const t=lPe++;return Dx[t]=!0,UR||(UR=Promise.resolve()),UR.then(()=>w7(t)&&n()),t},clearImmediate(n){w7(n)}},{setImmediate:uPe,clearImmediate:dPe}=cPe,Ex={setImmediate(...n){const{delegate:t}=Ex;return(t?.setImmediate||uPe)(...n)},clearImmediate(n){const{delegate:t}=Ex;return(t?.clearImmediate||dPe)(n)},delegate:void 0};new class fPe extends Iy{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class hPe extends Ay{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ex.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Ex.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});let yPe=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new we,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(function S7(n,t=ld){return function gPe(n){return Jt((t,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(Mt(e,c=>{i=!0,r=c,s||Gn(n(c)).subscribe(s=Mt(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>Qg(n,t))}(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(P(BM),P(Ae),P(Ct,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({})}return n})();function GR(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Lh(n,t){const e=t?"":"none";GR(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function k7(n,t,e){GR(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Ax(n,t){return t&&"none"!=t?n+" "+t:n}function M7(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Ix(t.left,t.top)}function Ix(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function zR(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function jR(n,t,e){const{top:i,bottom:r,left:s,right:o}=n;return e>=i&&e<=r&&t>=s&&t<=o}function Im(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function R7(n,t,e,i){const{top:r,right:s,bottom:o,left:a,width:l,height:c}=n,u=l*t,d=c*t;return i>r-d&&i<o+d&&e>a-u&&e<s+u}class N7{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:zR(e)})})}handleScroll(t){const e=zb(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let s,o;if(e===this._document){const c=this.getViewportScrollPosition();s=c.top,o=c.left}else s=e.scrollTop,o=e.scrollLeft;const a=r.top-s,l=r.left-o;return this.positions.forEach((c,u)=>{c.clientRect&&e!==u&&e.contains(u)&&Im(c.clientRect,a,l)}),r.top=s,r.left=o,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function P7(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?F7(n,t):("input"===i||"select"===i||"textarea"===i)&&L7(n,t),O7("canvas",n,t,F7),O7("input, textarea, select",n,t,L7),t}function O7(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let o=0;o<r.length;o++)i(r[o],s[o])}}let GPe=0;function L7(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${GPe++}`)}function F7(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function V7(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function B7(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function WR(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}const jPe=new Set(["position"]);class WPe{constructor(t,e,i,r,s,o,a,l,c){this._document=t,this._rootElement=e,this._direction=i,this._initialDomRect=r,this._previewTemplate=s,this._previewClass=o,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return function zPe(n){const t=getComputedStyle(n),e=WR(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=e.indexOf(i),s=WR(t,"transition-duration"),o=WR(t,"transition-delay");return B7(s[r])+B7(o[r])}(this._preview)}addEventListener(t,e){this._preview.addEventListener(t,e)}removeEventListener(t,e){this._preview.removeEventListener(t,e)}_createPreview(){const t=this._previewTemplate,e=this._previewClass,i=t?t.template:null;let r;if(i&&t){const s=t.matchSize?this._initialDomRect:null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),r=V7(o,this._document),this._previewEmbeddedView=o,t.matchSize?M7(r,s):r.style.transform=Ix(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=P7(this._rootElement),M7(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return GR(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},jPe),Lh(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>r.classList.add(s)):r.classList.add(e)),r}}const H7=Th({passive:!0}),kx=Th({passive:!1}),$7=Th({passive:!1,capture:!0}),U7=new Set(["position"]);class YPe{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Lh(e,t)))}constructor(t,e,i,r,s,o){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new we,this._pointerMoveSubscription=Oe.EMPTY,this._pointerUpSubscription=Oe.EMPTY,this._scrollSubscription=Oe.EMPTY,this._resizeSubscription=Oe.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new we,this.started=new we,this.released=new we,this.ended=new we,this.entered=new we,this.exited=new we,this.dropped=new we,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const f=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),p=this._dropContainer;if(!f)return void this._endDragSequence(a);(!p||!p.isDragging()&&!p.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const u=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=c.x-u.x+this._passiveTransform.x,d.y=c.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new N7(i),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Sr(i)),this._handles.forEach(i=>Lh(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Sr(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,kx),e.addEventListener("touchstart",this._pointerDown,H7),e.addEventListener("dragstart",this._nativeDragStart,kx)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Sr(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Lh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Lh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",z7,$7)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){km(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{e.addEventListener("selectstart",z7,$7)}),i){const r=this._rootElement,s=r.parentNode,o=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new WPe(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(s,e)),k7(r,!1,U7),this._document.body.appendChild(s.replaceChild(o,r)),this.started.next({source:this,event:t}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=km(e),s=!r&&0!==e.button,o=this._rootElement,a=zb(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?function PPe(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function NPe(n){return 0===n.buttons||0===n.detail}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||l||c)return;if(this._handles.length){const h=o.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=zR(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){k7(this._rootElement,!0,U7),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),s=this._getDragDistance(r),o=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,o,s,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=this._preview.getTransitionDuration();return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=o=>{(!o||zb(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=V7(this._placeholderRef,this._document)):i=P7(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,s=r?r.getBoundingClientRect():t,o=km(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:s.left-t.left+(o.pageX-s.left-a.left),y:s.top-t.top+(o.pageY-s.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=km(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=s,a.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+o,d=a.bottom-(c-o);i=G7(i,a.left+s,a.right-(l-s)),r=G7(r,u,d)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-s.x),a=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>s.x?1:-1,s.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Lh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,kx),t.removeEventListener("touchstart",this._pointerDown,H7),t.removeEventListener("dragstart",this._nativeDragStart,kx)}_applyRootElementTransform(t,e){const i=Ix(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Ax(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=Ix(t,e);this._preview.setTransform(Ax(r,i))}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,o=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(s>0&&(t+=s),o>0&&(t-=o)):t=0,r.height>i.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:km(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=zb(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Im(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=i6(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Sr(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function G7(n,t,e){return Math.max(t,Math.min(e,n))}function km(n){return"t"===n.type[0]}function z7(n){n.preventDefault()}function Mm(n,t){return Math.max(0,Math.min(t,n))}class XPe{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===o&&s.length>0)return null;const a="horizontal"===this.orientation,l=s.findIndex(g=>g.drag===t),c=s[o],d=c.clientRect,h=l>o?1:-1,f=this._getItemOffsetPx(s[l].clientRect,d,h),p=this._getSiblingOffsetPx(l,s,h),m=s.slice();return function KPe(n,t,e){const i=Mm(t,n.length-1),r=Mm(e,n.length-1);if(i===r)return;const s=n[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)n[a]=n[a+o];n[r]=s}(s,l,o),s.forEach((g,v)=>{if(m[v]===g)return;const _=g.drag===t,b=_?f:p,C=_?t.getPlaceholderElement():g.drag.getRootElement();g.offset+=b,a?(C.style.transform=Ax(`translate3d(${Math.round(g.offset)}px, 0, 0)`,g.initialTransform),Im(g.clientRect,0,b)):(C.style.transform=Ax(`translate3d(0, ${Math.round(g.offset)}px, 0)`,g.initialTransform),Im(g.clientRect,b,0))}),this._previousSwap.overlaps=jR(d,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:o}}enter(t,e,i,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,o=this._activeDraggables,a=o.indexOf(t),l=t.getPlaceholderElement();let c=o[s];if(c===t&&(c=o[s+1]),!c&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const u=c.getRootElement();u.parentElement.insertBefore(l,u),o.splice(s,0,t)}else Sr(this._element).appendChild(l),o.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Im(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:zR(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let s=r?e.left-t.left:e.top-t.top;return-1===i&&(s+=r?e.width-t.width:e.height-t.height),s}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,s=e[t].clientRect,o=e[t+-1*i];let a=s[r?"width":"height"]*i;if(o){const l=r?"left":"top",c=r?"right":"bottom";-1===i?a-=o.clientRect[l]-s[c]:a+=s[l]-o.clientRect[c]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return r?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return r?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==t&&((!r||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==o&&this._sortPredicate(o,t)?o:-1}}var ps=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(ps||{}),cr=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(cr||{});class QPe{constructor(t,e,i,r,s){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new we,this.entered=new we,this.exited=new we,this.dropped=new we,this.sorted=new we,this.receivingStarted=new we,this.receivingStopped=new we,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Oe.EMPTY,this._verticalScrollDirection=ps.NONE,this._horizontalScrollDirection=cr.NONE,this._stopScrollTimers=new we,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function VPe(n=0,t=ld){return n<0&&(n=0),Qg(n,n,t)}(0,$R).pipe(en(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;this._verticalScrollDirection===ps.UP?o.scrollBy(0,-a):this._verticalScrollDirection===ps.DOWN&&o.scrollBy(0,a),this._horizontalScrollDirection===cr.LEFT?o.scrollBy(-a,0):this._horizontalScrollDirection===cr.RIGHT&&o.scrollBy(a,0)})},this.element=Sr(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new N7(i),this._sortStrategy=new XPe(this.element,e),this._sortStrategy.withSortPredicate((o,a)=>this.sortPredicate(o,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,s,o,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:a,event:l})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Sr(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._domRect||!R7(this._domRect,.05,e,i))return;const s=this._sortStrategy.sort(t,e,i,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=ps.NONE,s=cr.NONE;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||R7(o.clientRect,.05,t,e)&&([r,s]=function ZPe(n,t,e,i,r){const s=q7(t,r),o=Y7(t,i);let a=ps.NONE,l=cr.NONE;if(s){const c=n.scrollTop;s===ps.UP?c>0&&(a=ps.UP):n.scrollHeight-c>n.clientHeight&&(a=ps.DOWN)}if(o){const c=n.scrollLeft;"rtl"===e?o===cr.RIGHT?c<0&&(l=cr.RIGHT):n.scrollWidth+c>n.clientWidth&&(l=cr.LEFT):o===cr.LEFT?c>0&&(l=cr.LEFT):n.scrollWidth-c>n.clientWidth&&(l=cr.RIGHT)}return[a,l]}(a,o.clientRect,this._sortStrategy.direction,t,e),(r||s)&&(i=a))}),!r&&!s){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};r=q7(l,e),s=Y7(l,t),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Sr(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Sr(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Sr(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._domRect&&jR(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._domRect||!jR(this._domRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const s=Sr(this.element);return r===s||s.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=i6(Sr(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function q7(n,t){const{top:e,bottom:i,height:r}=n,s=.05*r;return t>=e-s&&t<=e+s?ps.UP:t>=i-s&&t<=i+s?ps.DOWN:ps.NONE}function Y7(n,t){const{left:e,right:i,width:r}=n,s=.05*r;return t>=e-s&&t<=e+s?cr.LEFT:t>=i-s&&t<=i+s?cr.RIGHT:cr.NONE}const Mx=Th({passive:!1,capture:!0});let JPe=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new we,this.pointerUp=new we,this.scroll=new we,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Mx)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Mx)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Mx}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Mx}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new ut(r=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&r.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),zh(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ae),P(Ct))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const eOe={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Rx=new Set;let tOe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Be({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[Da],decls:0,vars:0,template:function(i,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0})}return n})(),qR=(()=>{class n{constructor(e,i,r,s){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s,this._appRef=ne(xs),this._environmentInjector=ne(gr)}createDrag(e,i=eOe){return this._loadResets(),new YPe(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new QPe(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}_loadResets(){if(!Rx.has(this._appRef)){Rx.add(this._appRef);const e=function $ie(n,t){const e=ht(n),i=t.elementInjector||U_();return new Ef(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}(tOe,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Rx.delete(this._appRef),0===Rx.size&&e.destroy()})}}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ct),P(Ae),P(yPe),P(JPe))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dOe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({providers:[qR],imports:[bPe]})}return n})();class hOe{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const fOe={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const li=typeof window<"u"&&window||{},ci=li.document;var J7=function(n){return n.isBs4="bs4",n.isBs5="bs5",n}(J7||{});let da;function eq(){const n=li.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),li.document.head.appendChild(n);const t=li.getComputedStyle(n).paddingLeft;return t&&parseFloat(t)?(li.document.head.removeChild(n),"bs4"):(li.document.head.removeChild(n),"bs5")}function Nm(){return{isBs4:(da||(da=eq()),"bs4"===da),isBs5:(da||(da=eq()),"bs5"===da)}}class bOe{static reflow(t){}static getStyles(t){let e=t.ownerDocument.defaultView;return(!e||!e.opener)&&(e=li),e.getComputedStyle(t)}static stackOverflowConfig(){const t=function yOe(){const n=Nm(),t=Object.keys(n).find(e=>n[e]);return J7[t]}();return{crossorigin:"anonymous",integrity:"bs5"===t?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===t?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;var nq=function(n){return n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",n}(nq||{}),KR=function(n){return n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",n}(KR||{});function jc(n,t){if(1!==n.nodeType)return[];const i=n.ownerDocument.defaultView?.getComputedStyle(n,null);return t?i&&i[t]:i}function XR(n){if(!n)return document.documentElement;let i,e=n?.offsetParent;for(;null===e&&n.nextElementSibling&&i!==n.nextElementSibling;)i=n.nextElementSibling,e=i.offsetParent;const r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?e&&-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===jc(e,"position")?XR(e):e:i?i.ownerDocument.documentElement:document.documentElement}function QR(n){return null!==n.parentNode?QR(n.parentNode):n}function Nx(n,t){if(!(n&&n.nodeType&&t&&t.nodeType))return document.documentElement;const e=n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=e?n:t,r=e?t:n,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);const o=s.commonAncestorContainer;if(n!==o&&t!==o||i.contains(r))return function TOe(n){const{nodeName:t}=n;return"BODY"!==t&&("HTML"===t||XR(n.firstElementChild)===n)}(o)?o:XR(o);const a=QR(n);return a.host?Nx(a.host,t):Nx(n,QR(t).host)}function iq(n){if(!n||!n.parentElement)return document.documentElement;let t=n.parentElement;for(;t?.parentElement&&"none"===jc(t,"transform");)t=t.parentElement;return t||document.documentElement}function rq(n,t){const e="x"===t?"Left":"Top",i="Left"===e?"Right":"Bottom";return parseFloat(n[`border${e}Width`])+parseFloat(n[`border${i}Width`])}function sq(n,t,e){return Math.max(t[`offset${n}`],t[`scroll${n}`],e[`client${n}`],e[`offset${n}`],e[`scroll${n}`],0)}function oq(n){const t=n.body,e=n.documentElement;return{height:sq("Height",t,e),width:sq("Width",t,e)}}function Pm(n){return{...n,right:(n.left||0)+n.width,bottom:(n.top||0)+n.height}}function dn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function aq(n){const t=n.getBoundingClientRect();if(!(t&&dn(t.top)&&dn(t.left)&&dn(t.bottom)&&dn(t.right)))return t;const e={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===n.nodeName?oq(n.ownerDocument):void 0,r=i?.width||n.clientWidth||dn(t.right)&&dn(e.left)&&t.right-e.left||0,s=i?.height||n.clientHeight||dn(t.bottom)&&dn(e.top)&&t.bottom-e.top||0;let o=n.offsetWidth-r,a=n.offsetHeight-s;if(o||a){const l=jc(n);o-=rq(l,"x"),a-=rq(l,"y"),e.width-=o,e.height-=a}return Pm(e)}function ZR(n,t,e=!1){const i="HTML"===t.nodeName,r=aq(n),s=aq(t),o=jc(t),a=parseFloat(o.borderTopWidth),l=parseFloat(o.borderLeftWidth);e&&i&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const c=Pm({top:(r.top??0)-(s.top??0)-a,left:(r.left??0)-(s.left??0)-l,width:r.width,height:r.height});if(c.marginTop=0,c.marginLeft=0,i){const u=parseFloat(o.marginTop),d=parseFloat(o.marginLeft);dn(c.top)&&(c.top-=a-u),dn(c.bottom)&&(c.bottom-=a-u),dn(c.left)&&(c.left-=l-d),dn(c.right)&&(c.right-=l-d),c.marginTop=u,c.marginLeft=d}return c}function JR(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function lq(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:t,overflowX:e,overflowY:i}=jc(n);return/(auto|scroll|overlay)/.test(String(t)+String(i)+String(e))?n:lq(JR(n))}function cq(n,t="top"){const e="top"===t?"scrollTop":"scrollLeft",i=n.nodeName;return"BODY"===i||"HTML"===i?(n.ownerDocument.scrollingElement||n.ownerDocument.documentElement)[e]:n[e]}function uq(n){const t=n.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===jc(n,"position")||uq(JR(n)))}function eN(n,t,e=0,i,r=!1){let s={top:0,left:0};const o=r?iq(n):Nx(n,t);if("viewport"===i)s=function wOe(n,t=!1){const e=n.ownerDocument.documentElement,i=ZR(n,e),r=Math.max(e.clientWidth,window.innerWidth||0),s=Math.max(e.clientHeight,window.innerHeight||0),o=t?0:cq(e),a=t?0:cq(e,"left");return Pm({top:o-Number(i?.top)+Number(i?.marginTop),left:a-Number(i?.left)+Number(i?.marginLeft),width:r,height:s})}(o,r);else{let a;"scrollParent"===i?(a=lq(JR(t)),"BODY"===a.nodeName&&(a=n.ownerDocument.documentElement)):a="window"===i?n.ownerDocument.documentElement:i;const l=ZR(a,o,r);if(l&&"HTML"===a.nodeName&&!uq(o)){const{height:c,width:u}=oq(n.ownerDocument);dn(s.top)&&dn(l.top)&&dn(l.marginTop)&&(s.top+=l.top-l.marginTop),dn(s.top)&&(s.bottom=Number(c)+Number(l.top)),dn(s.left)&&dn(l.left)&&dn(l.marginLeft)&&(s.left+=l.left-l.marginLeft),dn(s.top)&&(s.right=Number(u)+Number(l.left))}else l&&(s=l)}return dn(s.left)&&(s.left+=e),dn(s.top)&&(s.top+=e),dn(s.right)&&(s.right-=e),dn(s.bottom)&&(s.bottom-=e),s}function SOe({width:n,height:t}){return n*t}function dq(n,t,e,i,r=["top","bottom","right","left"],s="viewport",o=0){if(-1===n.indexOf("auto"))return n;const a=eN(e,i,o,s),l={top:{width:a?.width??0,height:(t?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(t?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(t?.bottom??0)},left:{width:(t.left??0)-(a?.left??0),height:a?.height??0}},c=Object.keys(l).map(f=>({position:f,...l[f],area:SOe(l[f])})).sort((f,p)=>p.area-f.area);let u=c.filter(({width:f,height:p})=>f>=e.clientWidth&&p>=e.clientHeight);u=u.filter(({position:f})=>r.some(p=>p===f));const d=u.length>0?u[0].position:c[0].position,h=n.split(" ")[1];return e.className=e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Nm().isBs5?KR[d]:d}`),d+(h?`-${h}`:"")}const Px=(n,t=0)=>n?parseFloat(n):t;function hq(n){const e=n.ownerDocument.defaultView?.getComputedStyle(n),i=Px(e?.marginTop)+Px(e?.marginBottom),r=Px(e?.marginLeft)+Px(e?.marginRight);return{width:Number(n.offsetWidth)+r,height:Number(n.offsetHeight)+i}}function fq(n,t,e){return ZR(t,e?iq(n):Nx(n,t),e)}function tN(n,t,e){const i=e.split(" ")[0],r=hq(n),s={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",l=o?"left":"top",c=o?"height":"width",u=o?"width":"height";return s[a]=(t[a]??0)+t[c]/2-r[c]/2,s[l]=i===l?(t[l]??0)-r[u]:t[function EOe(n){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,e=>t[e])}(l)]??0,s}function pq(n,t){return!!n.modifiers[t]?.enabled}const IOe={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Ox(n,t){return!!Nm().isBs5&&IOe[t].includes(n)}function gq(n,t,e){!n||!t||Object.keys(t).forEach(i=>{let r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function COe(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(t[i])&&(r="px"),e?e.setStyle(n,i,`${String(t[i])}${r}`):n.style[i]=String(t[i])+r})}function ROe(n){let t=n.offsets.target;const e=n.instance.target.querySelector(".arrow");if(!e)return n;const i=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),r=i?"height":"width",s=i?"Top":"Left",o=s.toLowerCase(),a=i?"left":"top",l=i?"bottom":"right",c=hq(e)[r],u=n.placement.split(" ")[1];(n.offsets.host[l]??0)-c<(t[o]??0)&&(t[o]-=(t[o]??0)-((n.offsets.host[l]??0)-c)),Number(n.offsets.host[o])+Number(c)>(t[l]??0)&&(t[o]+=Number(n.offsets.host[o])+Number(c)-Number(t[l])),t=Pm(t);const d=jc(n.instance.target),h=parseFloat(d[`margin${s}`])||0,f=parseFloat(d[`border${s}Width`])||0;let p;if(u){const g=parseFloat(d.borderRadius)||0,v=Number(h+f+g);p=o===u?Number(n.offsets.host[o])+v:Number(n.offsets.host[o])+Number(n.offsets.host[r]-v)}else p=Number(n.offsets.host[o])+Number(n.offsets.host[r]/2-c/2);let m=p-(t[o]??0)-h-f;return m=Math.max(Math.min(t[r]-(c+5),m),0),n.offsets.arrow={[o]:Math.round(m),[a]:""},n.instance.arrow=e,n}function NOe(n){if(n.offsets.target=Pm(n.offsets.target),!pq(n.options,"flip"))return n.offsets.target={...n.offsets.target,...tN(n.instance.target,n.offsets.host,n.placement)},n;const t=eN(n.instance.target,n.instance.host,0,"viewport",!1);let e=n.placement.split(" ")[0],i=n.placement.split(" ")[1]||"";const a=dq("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),l=[e,a];return l.forEach((c,u)=>{if(e!==c||l.length===u+1)return;e=n.placement.split(" ")[0];const d="left"===e&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||"right"===e&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||"top"===e&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||"bottom"===e&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),h=Math.floor(n.offsets.target.left??0)<Math.floor(t.left??0),f=Math.floor(n.offsets.target.right??0)>Math.floor(t.right??0),p=Math.floor(n.offsets.target.top??0)<Math.floor(t.top??0),m=Math.floor(n.offsets.target.bottom??0)>Math.floor(t.bottom??0),g="left"===e&&h||"right"===e&&f||"top"===e&&p||"bottom"===e&&m,v=-1!==["top","bottom"].indexOf(e),_=v&&"left"===i&&h||v&&"right"===i&&f||!v&&"left"===i&&p||!v&&"right"===i&&m;(d||g||_)&&((d||g)&&(e=l[u+1]),_&&(i=function AOe(n){return"right"===n?"left":"left"===n?"right":n}(i)),n.placement=e+(i?` ${i}`:""),n.offsets.target={...n.offsets.target,...tN(n.instance.target,n.offsets.host,n.placement)})}),n}function OOe(n){if(!pq(n.options,"preventOverflow"))return n;const t="transform",e=n.instance.target.style,{top:i,left:r,[t]:s}=e;e.top="",e.left="",e[t]="";const o=eN(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);e.top=i,e.left=r,e[t]=s;const l={primary(c){let u=n.offsets.target[c];return(n.offsets.target[c]??0)<(o[c]??0)&&(u=Math.max(n.offsets.target[c]??0,o[c]??0)),{[c]:u}},secondary(c){const u="right"===c,d=u?"left":"top";let f=n.offsets.target[d];return(n.offsets.target[c]??0)>(o[c]??0)&&(f=Math.min(n.offsets.target[d]??0,(o[c]??0)-n.offsets.target[u?"width":"height"])),{[d]:f}}};return["left","right","top","bottom"].forEach(c=>{const u=-1!==["left","top","start"].indexOf(c)?l.primary:l.secondary;n.offsets.target={...n.offsets.target,...u(c)}}),n}function LOe(n){const t=n.placement,e=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:r,target:s}=n.offsets,o=-1!==["bottom","top"].indexOf(e),a=o?"left":"top",l=o?"width":"height",c={start:{[a]:r[a]},end:{[a]:(r[a]??0)+r[l]-s[l]}};n.offsets.target={...s,[a]:a===i?c.start[a]:c.end[a]}}return n}const VOe=new class FOe{position(t,e){return this.offset(t,e)}offset(t,e){return fq(e,t)}positionElements(t,e,i,r,s){const o=[NOe,LOe,OOe,ROe],l=function POe(n,t,e,i){if(!n||!t)return;const r=fq(n,t);!e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(e="auto");const s=!!e.match(/auto/g);let o=e.match(/auto\s(left|right|top|bottom|start|end)/)?e.split(" ")[1]||"auto":e;const a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),o=dq(o,r,n,t,i?i.allowedPositions:void 0),{options:i||{modifiers:{}},instance:{target:n,host:t,arrow:void 0},offsets:{target:tN(n,r,o),host:r,arrow:void 0},positionFixed:!1,placement:o,placementAuto:s}}(e,t,nq[i],s);if(l)return o.reduce((c,u)=>u(c),l)}};function BOe(n,t,e,i,r,s){const o=VOe.positionElements(n,t,e,i,r);if(!o)return;const a=function DOe(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}(o);gq(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&gq(o.instance.arrow,o.offsets.arrow,s),function MOe(n,t){const e=n.instance.target;let i=e.className;const r=Nm().isBs5?KR[n.placement]:n.placement;n.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${r}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),i=i.replace(/\sauto/g,` ${r}`),-1!==i.indexOf("popover")&&(i=i+" "+function kOe(n){return Nm().isBs5?Ox(n,"end")?"ms-2":Ox(n,"start")?"me-2":Ox(n,"top")?"mb-2":Ox(n,"bottom")?"mt-2":"":""}(r)),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),t?t.setAttribute(e,"class",i):e.className=i}(o,s)}let Lx=(()=>{class n{constructor(e,i,r){this.update$$=new we,this.positionElements=new Map,this.isDisabled=!1,vr(r)&&e.runOutsideAngular(()=>{this.triggerEvent$=zh(oi(window,"scroll",{passive:!0}),oi(window,"resize",{passive:!0}),Se(0,$R),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{BOe(Fx(s.target),Fx(s.element),s.attachment,s.appendToBody,this.options,i.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(Fx(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(Fx(e))}setOptions(e){this.options=e}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ae),P(Ca),P(hi))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fx(n){return"string"==typeof n?document.querySelector(n):n instanceof Ue?n.nativeElement:n??null}class Om{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class HOe{constructor(t,e,i,r,s,o,a,l,c){this._viewContainerRef=t,this._renderer=e,this._elementRef=i,this._injector=r,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=l,this._document=c,this.onBeforeShow=new K,this.onShown=new K,this.onBeforeHide=new K,this.onHidden=new K,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=mn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof Ue&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode?.removeChild(e),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef?.nativeElement;const e=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),i=this._listenOpts.show=s=>{t.show?t.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function pOe(n,t){const e=function Z7(n,t=fOe){const e=(n||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(s=>s.split(":")).map(s=>{const o=t[s[0]]||s;return new hOe(o[0],o[1])}),r=i.filter(s=>s.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}(t.triggers),i=t.target;if(1===e.length&&e[0].isManual())return Function.prototype;const r=[],s=[],o=()=>{s.forEach(a=>r.push(a())),s.length=0};return e.forEach(a=>{const l=a.open===a.close,c=l?t.toggle:t.show;if(!l&&a.close&&t.hide){const u=a.close,d=t.hide;s.push(()=>n.listen(i,u,d))}c&&r.push(n.listen(i,a.open,()=>c(o)))}),()=>{r.forEach(a=>a())}}(this._renderer,{target:t.target,triggers:t.triggers,show:i,hide:e,toggle:s=>{this.isShown?e():i(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(t,e){return t&&e&&(this._inlineViewRef=t.createEmbeddedView(e)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function gOe(n,t){return t.outsideClick?n.listen("document","click",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(i=>i.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function mOe(n,t){return t.outsideEsc?n.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(i=>i.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(t,e,i){if(!t)return new Om([]);if(t instanceof qt){if(this._viewContainerRef){const o=this._viewContainerRef.createEmbeddedView(t,e);return o.markForCheck(),new Om([o.rootNodes],o)}const s=t.createEmbeddedView({});return this._applicationRef.attachView(s),new Om([s.rootNodes],s)}if("function"==typeof t){const s=this._componentFactoryResolver.resolveComponentFactory(t),o=mn.create({providers:this._providers,parent:this._injector}),a=s.create(o);return Object.assign(a.instance,i),this._applicationRef.attachView(a.hostView),new Om([[a.location.nativeElement]],a.hostView,a)}const r=this._renderer?[this._renderer.createText(`${t}`)]:[];return new Om([r])}}let nN,Vx=(()=>{class n{constructor(e,i,r,s,o,a){this._componentFactoryResolver=e,this._ngZone=i,this._injector=r,this._posService=s,this._applicationRef=o,this._document=a}createLoader(e,i,r){return new HOe(i,r,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Sl),P(Ae),P(mn),P(Lx),P(xs),P(Ct))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$Oe=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Vx,Lx]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({imports:[vn]})}return n})(),UOe=(()=>{class n{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==e);let i=this._focusTrapStack;i.length&&i[i.length-1]._disable(),i.push(e),e._enable()}deregister(e){e._disable();const i=this._focusTrapStack,r=i.indexOf(e);-1!==r&&(i.splice(r,1),i.length&&i[i.length-1]._enable())}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{nN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nN=!1}let mq=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?vr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(P(hi))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_q=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function zOe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function GOe(n){try{return n.frameElement}catch{return null}}(function ZOe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===yq(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=yq(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function XOe(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function QOe(n){return!function WOe(n){return function YOe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function jOe(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function qOe(n){return function KOe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||vq(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(P(mq))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vq(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function yq(n){if(!vq(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function bq(n){return null!=n&&"false"!=`${n}`}class JOe{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return e?.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Sn(1)).subscribe(t)}}let eLe=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new JOe(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(P(_q),P(Ae),P(Ct))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tLe=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=bq(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=bq(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ue),y(eLe),y(Ct))};static#t=this.\u0275dir=ee({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[kt]})}return n})(),xq=(()=>{class n{static forRoot(){return{ngModule:n,providers:[UOe,mq,_q]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({imports:[vn]})}return n})();const nLe=["*"];let Tq=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Cq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Bx={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},iLe=new X("override-default-config");let rLe=(()=>{class n{constructor(e,i,r){this._element=i,this._renderer=r,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}ngOnInit(){this._focusEl=ci.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),ci&&ci.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(ci.body,"modal-open"),this._renderer.setStyle(ci.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(e){this.clickStartedInContent=e.target!==this._element.nativeElement}onClickStop(e){this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(e){this.isShown&&((27===e.keyCode||"Escape"===e.key)&&e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,ci&&ci.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(ci.body,"modal-open"),this._renderer.setStyle(ci.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Cq),y(Ue),y(Ei))};static#t=this.\u0275cmp=Be({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(i,r){1&i&&$("mousedown",function(o){return r.onClickStarted(o)})("click",function(o){return r.onClickStop(o)})("popstate",function(){return r.onPopState()},!1,K_)("keydown.esc",function(o){return r.onEsc(o)},!1,K_),2&i&&xe("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:nLe,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(i,r){1&i&&(Mo(),x(0,"div",0)(1,"div",1),qs(2),T()()),2&i&&Ai("modal-dialog"+(r.config.class?" "+r.config.class:""))},dependencies:[tLe],encapsulation:2})}return n})(),sLe=(()=>{class n{get isAnimated(){return this._isAnimated}set isAnimated(e){this._isAnimated=e}get isShown(){return this._isShown}set isShown(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(e,i){this._isAnimated=!1,this._isShown=!1,this.element=e,this.renderer=i}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),bOe.reflow(this.element.nativeElement)),this.isShown=!0}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ue),y(Ei))};static#t=this.\u0275cmp=Be({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})(),oLe=1,wq=(()=>{class n{constructor(e,i,r){this.clf=i,this.modalDefaultOption=r,this.onShow=new K,this.onShown=new K,this.onHide=new K,this.onHidden=new K,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=e.createRenderer(null,null),this.config=r?Object.assign({},Bx,r):Bx}show(e,i){this._focusEl=ci.activeElement,this.modalsCount++,this._createLoaders();const r=i?.id||oLe++;return this.config=this.modalDefaultOption?Object.assign({},Bx,this.modalDefaultOption,i):Object.assign({},Bx,i),this.config.id=r,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(e)}hide(e){(1===this.modalsCount||null==e)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=e?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(e),this.removeLoaders(e)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const e=!0===this.config.backdrop||"static"===this.config.backdrop,i=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),e&&i&&(this._backdropLoader.attach(sLe).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(e){const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const o of this.config.providers)i.provide(o);const r=new Tq,s=i.provide({provide:Cq,useValue:this.config}).provide({provide:Tq,useValue:r}).attach(rLe).to("body");return r.hide=()=>this.hide(r.id),r.setClass=o=>{s.instance&&(s.instance.config.class=o)},r.onHidden=new K,r.onHide=new K,this.copyEvent(i.onBeforeHide,r.onHide),this.copyEvent(i.onHidden,r.onHidden),s.show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),r.content=i.getInnerComponent(),r.id=s.instance.config?.id),r}_hideModal(e){if(null!=e){const i=this.loaders.findIndex(s=>s.instance?.config.id===e),r=this.loaders[i];r&&r.hide(e)}else this.loaders.forEach(i=>{i.instance&&i.hide(i.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(e){this.lastDismissReason=e}removeBackdrop(){this._renderer.removeClass(ci.body,"modal-open"),this._renderer.setStyle(ci.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=ci.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){ci&&(this.originalBodyPadding=parseInt(window.getComputedStyle(ci.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(ci.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){ci.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const e=this._renderer.createElement("div");this._renderer.addClass(e,"modal-scrollbar-measure"),this._renderer.appendChild(ci.body,e);const i=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(ci.body,e),i}_createLoaders(){const e=this.clf.createLoader();this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}removeLoaders(e){if(null!=e){const i=this.loaders.findIndex(r=>r.instance?.config.id===e);i>=0&&(this.loaders.splice(i,1),this.loaders.forEach((r,s)=>{r.instance&&(r.instance.level=s+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(e,i){e.subscribe(r=>{i.emit(this.lastDismissReason||r)})}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ca),P(Vx),P(iLe,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();xq.forRoot();let aLe=(()=>{class n{static forRoot(){return{ngModule:n,providers:[wq,Vx,Lx]}}static forChild(){return{ngModule:n,providers:[wq,Vx,Lx]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({imports:[xq]})}return n})(),lLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n,bootstrap:[$Se]});static#n=this.\u0275inj=be({providers:[Dc],imports:[UB,ISe,G0e,sPe,sle,t1e,uM,dOe,cSe,$Oe.forRoot(),aLe.forRoot(),Ohe(()=>Lhe(USe_firebase)),v0e(()=>y0e())]})}return n})();noe().bootstrapModule(lLe).catch(n=>console.error(n))},178:vo=>{function qr(Qt){return Qt instanceof Buffer?Buffer.from(Qt):new Qt.constructor(Qt.buffer.slice(),Qt.byteOffset,Qt.length)}vo.exports=function hl(Qt){return(Qt=Qt||{}).circles?function Je(Qt){var Zt=[],Tn=[];return Qt.proto?function Et(ye){if("object"!=typeof ye||null===ye)return ye;if(ye instanceof Date)return new Date(ye);if(Array.isArray(ye))return Oe(ye,Et);if(ye instanceof Map)return new Map(Oe(Array.from(ye),Et));if(ye instanceof Set)return new Set(Oe(Array.from(ye),Et));var ge={};for(var vt in Zt.push(ye),Tn.push(ge),ye){var Le=ye[vt];if("object"!=typeof Le||null===Le)ge[vt]=Le;else if(Le instanceof Date)ge[vt]=new Date(Le);else if(Le instanceof Map)ge[vt]=new Map(Oe(Array.from(Le),Et));else if(Le instanceof Set)ge[vt]=new Set(Oe(Array.from(Le),Et));else if(ArrayBuffer.isView(Le))ge[vt]=qr(Le);else{var Ut=Zt.indexOf(Le);ge[vt]=-1!==Ut?Tn[Ut]:Et(Le)}}return Zt.pop(),Tn.pop(),ge}:function ze(ye){if("object"!=typeof ye||null===ye)return ye;if(ye instanceof Date)return new Date(ye);if(Array.isArray(ye))return Oe(ye,ze);if(ye instanceof Map)return new Map(Oe(Array.from(ye),ze));if(ye instanceof Set)return new Set(Oe(Array.from(ye),ze));var ge={};for(var vt in Zt.push(ye),Tn.push(ge),ye)if(!1!==Object.hasOwnProperty.call(ye,vt)){var Le=ye[vt];if("object"!=typeof Le||null===Le)ge[vt]=Le;else if(Le instanceof Date)ge[vt]=new Date(Le);else if(Le instanceof Map)ge[vt]=new Map(Oe(Array.from(Le),ze));else if(Le instanceof Set)ge[vt]=new Set(Oe(Array.from(Le),ze));else if(ArrayBuffer.isView(Le))ge[vt]=qr(Le);else{var Ut=Zt.indexOf(Le);ge[vt]=-1!==Ut?Tn[Ut]:ze(Le)}}return Zt.pop(),Tn.pop(),ge};function Oe(ye,ge){for(var vt=Object.keys(ye),Le=new Array(vt.length),Ut=0;Ut<vt.length;Ut++){var Ls=vt[Ut],Ar=ye[Ls];if("object"!=typeof Ar||null===Ar)Le[Ls]=Ar;else if(Ar instanceof Date)Le[Ls]=new Date(Ar);else if(ArrayBuffer.isView(Ar))Le[Ls]=qr(Ar);else{var Fs=Zt.indexOf(Ar);Le[Ls]=-1!==Fs?Tn[Fs]:ge(Ar)}}return Le}}(Qt):Qt.proto?function Oe(ze){if("object"!=typeof ze||null===ze)return ze;if(ze instanceof Date)return new Date(ze);if(Array.isArray(ze))return Zt(ze,Oe);if(ze instanceof Map)return new Map(Zt(Array.from(ze),Oe));if(ze instanceof Set)return new Set(Zt(Array.from(ze),Oe));var Et={};for(var ye in ze){var ge=ze[ye];Et[ye]="object"!=typeof ge||null===ge?ge:ge instanceof Date?new Date(ge):ge instanceof Map?new Map(Zt(Array.from(ge),Oe)):ge instanceof Set?new Set(Zt(Array.from(ge),Oe)):ArrayBuffer.isView(ge)?qr(ge):Oe(ge)}return Et}:function Tn(ze){if("object"!=typeof ze||null===ze)return ze;if(ze instanceof Date)return new Date(ze);if(Array.isArray(ze))return Zt(ze,Tn);if(ze instanceof Map)return new Map(Zt(Array.from(ze),Tn));if(ze instanceof Set)return new Set(Zt(Array.from(ze),Tn));var Et={};for(var ye in ze)if(!1!==Object.hasOwnProperty.call(ze,ye)){var ge=ze[ye];Et[ye]="object"!=typeof ge||null===ge?ge:ge instanceof Date?new Date(ge):ge instanceof Map?new Map(Zt(Array.from(ge),Tn)):ge instanceof Set?new Set(Zt(Array.from(ge),Tn)):ArrayBuffer.isView(ge)?qr(ge):Tn(ge)}return Et};function Zt(ze,Et){for(var ye=Object.keys(ze),ge=new Array(ye.length),vt=0;vt<ye.length;vt++){var Le=ye[vt],Ut=ze[Le];ge[Le]="object"!=typeof Ut||null===Ut?Ut:Ut instanceof Date?new Date(Ut):ArrayBuffer.isView(Ut)?qr(Ut):Et(Ut)}return ge}}},614:()=>{const vo=":";const gl=function(k,...E){if(gl.translate){const U=gl.translate(k,E);k=U[0],E=U[1]}let L=qm(k[0],k.raw[0]);for(let U=1;U<k.length;U++)L+=E[U-1]+qm(k[U],k.raw[U]);return L},Wm=":";function qm(k,E){return E.charAt(0)===Wm?k.substring(function Um(k,E){for(let L=1,U=1;L<k.length;L++,U++)if("\\"===E[U])U++;else if(k[L]===vo)return L;throw new Error(`Unterminated $localize metadata block in "${E}".`)}(k,E)+1):k}globalThis.$localize=gl}},vo=>{var qr=Je=>vo(vo.s=Je);qr(614),qr(516)}]);