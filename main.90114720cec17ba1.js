"use strict";(self.webpackChunkTrackify=self.webpackChunkTrackify||[]).push([[179],{180:(Ks,Ar,$a)=>{function je(n){return"function"==typeof n}function Ht(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Gt=Ht(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function an(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class We{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(je(i))try{i()}catch(s){t=s instanceof Gt?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{me(s)}catch(o){t=t??[],o instanceof Gt?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Gt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)me(t);else{if(t instanceof We){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&an(e,t)}remove(t){const{_finalizers:e}=this;e&&an(e,t),t instanceof We&&t._removeParent(this)}}We.EMPTY=(()=>{const n=new We;return n.closed=!0,n})();const Oe=We.EMPTY;function vt(n){return n instanceof We||n&&"closed"in n&&je(n.remove)&&je(n.add)&&je(n.unsubscribe)}function me(n){je(n)?n():n.unsubscribe()}const de={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},lt={setTimeout(n,t,...e){const{delegate:i}=lt;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=lt;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ke(n){lt.setTimeout(()=>{const{onUnhandledError:t}=de;if(!t)throw n;t(n)})}function kt(){}const _s=qd("C",void 0,void 0);function qd(n,t,e){return{kind:n,value:t,error:e}}let ys=null;function Ha(n){if(de.useDeprecatedSynchronousErrorHandling){const t=!ys;if(t&&(ys={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=ys;if(ys=null,e)throw i}}else n()}class cc extends We{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,vt(t)&&t.add(this)):this.destination=Rg}static create(t,e,i){return new Ga(t,e,i)}next(t){this.isStopped?Xd(function vs(n){return qd("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Xd(function sr(n){return qd("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Xd(_s,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Yd=Function.prototype.bind;function Ir(n,t){return Yd.call(n,t)}class Ng{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Uo(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Uo(i)}else Uo(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Uo(e)}}}class Ga extends cc{constructor(t,e,i){let r;if(super(),je(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&de.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Ir(t.next,s),error:t.error&&Ir(t.error,s),complete:t.complete&&Ir(t.complete,s)}):r=t}this.destination=new Ng(r)}}function Uo(n){de.useDeprecatedSynchronousErrorHandling?function Mg(n){de.useDeprecatedSynchronousErrorHandling&&ys&&(ys.errorThrown=!0,ys.error=n)}(n):ke(n)}function Xd(n,t){const{onStoppedNotification:e}=de;e&&lt.setTimeout(()=>e(n,t))}const Rg={closed:!0,next:kt,error:function kx(n){throw n},complete:kt},Kd="function"==typeof Symbol&&Symbol.observable||"@@observable";function kr(n){return n}function Pg(n){return 0===n.length?kr:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let ft=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function Nx(n){return n&&n instanceof cc||function Lg(n){return n&&je(n.next)&&je(n.error)&&je(n.complete)}(n)&&vt(n)}(e)?e:new Ga(e,i,r);return Ha(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Og(i))((r,s)=>{const o=new Ga({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Kd](){return this}pipe(...e){return Pg(e)(this)}toPromise(e){return new(e=Og(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function Og(n){var t;return null!==(t=n??de.Promise)&&void 0!==t?t:Promise}const Fg=Ht(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pt=(()=>{class n extends ft{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Rx(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Fg}next(e){Ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ha(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Oe:(this.currentObservers=null,s.push(e),new We(()=>{this.currentObservers=null,an(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new ft;return e.source=this,e}}return n.create=(t,e)=>new Rx(t,e),n})();class Rx extends Pt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Oe}}function Vg(n){return je(n?.lift)}function Yt(n){return t=>{if(Vg(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Mt(n,t,e,i,r){return new Bg(n,t,e,i,r)}class Bg extends cc{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function $e(n,t){return Yt((e,i)=>{let r=0;e.subscribe(Mt(i,s=>{i.next(n.call(t,s,r++))}))})}function Ua(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}function wn(n){return this instanceof wn?(this.v=n,this):new wn(n)}function zo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Cn(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Fx=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function DM(n){return je(n?.then)}function SM(n){return je(n[Kd])}function EM(n){return Symbol.asyncIterator&&je(n?.[Symbol.asyncIterator])}function AM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const IM=function Y6(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kM(n){return je(n?.[IM])}function MM(n){return function ja(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof wn?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield wn(e.read());if(r)return yield wn(void 0);yield yield wn(i)}}finally{e.releaseLock()}})}function NM(n){return je(n?.getReader)}function Pn(n){if(n instanceof ft)return n;if(null!=n){if(SM(n))return function X6(n){return new ft(t=>{const e=n[Kd]();if(je(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Fx(n))return function K6(n){return new ft(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(DM(n))return function Q6(n){return new ft(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,ke)})}(n);if(EM(n))return RM(n);if(kM(n))return function Z6(n){return new ft(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(NM(n))return function J6(n){return RM(MM(n))}(n)}throw AM(n)}function RM(n){return new ft(t=>{(function e9(n,t){var e,i,r,s;return function ce(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=zo(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Zs(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function On(n,t,e=1/0){return je(t)?On((i,r)=>$e((s,o)=>t(i,s,r,o))(Pn(n(i,r))),e):("number"==typeof t&&(e=t),Yt((i,r)=>function t9(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{s&&t.next(m),c++;let g=!1;Pn(e(m,u++)).subscribe(Mt(t,v=>{r?.(v),s?f(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const v=l.shift();o?Zs(t,o,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return n.subscribe(Mt(t,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function dc(n=1/0){return On(kr,n)}const Mr=new ft(n=>n.complete());function PM(n){return n&&je(n.schedule)}function Vx(n){return n[n.length-1]}function Ug(n){return je(Vx(n))?n.pop():void 0}function Jd(n){return PM(Vx(n))?n.pop():void 0}function zg(n,t=0){return Yt((e,i)=>{e.subscribe(Mt(i,r=>Zs(i,n,()=>i.next(r),t),()=>Zs(i,n,()=>i.complete(),t),r=>Zs(i,n,()=>i.error(r),t)))})}function jg(n,t=0){return Yt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function OM(n,t){if(!n)throw new Error("Iterable cannot be null");return new ft(e=>{Zs(e,t,()=>{const i=n[Symbol.asyncIterator]();Zs(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Ln(n,t){return t?function c9(n,t){if(null!=n){if(SM(n))return function r9(n,t){return Pn(n).pipe(jg(t),zg(t))}(n,t);if(Fx(n))return function o9(n,t){return new ft(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(DM(n))return function s9(n,t){return Pn(n).pipe(jg(t),zg(t))}(n,t);if(EM(n))return OM(n,t);if(kM(n))return function a9(n,t){return new ft(e=>{let i;return Zs(e,t,()=>{i=n[IM](),Zs(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>je(i?.return)&&i.return()})}(n,t);if(NM(n))return function l9(n,t){return OM(MM(n),t)}(n,t)}throw AM(n)}(n,t):Pn(n)}class Fn extends Pt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function xe(...n){return Ln(n,Jd(n))}function LM(n={}){const{connector:t=(()=>new Pt),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Yt((m,g)=>{c++,!d&&!u&&h();const v=l=l??t();g.add(()=>{c--,0===c&&!d&&!u&&(a=Bx(p,r))}),v.subscribe(g),!o&&c>0&&(o=new Ga({next:_=>v.next(_),error:_=>{d=!0,h(),a=Bx(f,e,_),v.error(_)},complete:()=>{u=!0,h(),a=Bx(f,i),v.complete()}}),Pn(m).subscribe(o))})(s)}}function Bx(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ga({next:()=>{i.unsubscribe(),n()}});return Pn(t(...e)).subscribe(i)}function or(n,t){return Yt((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(Mt(i,l=>{r?.unsubscribe();let c=0;const u=s++;Pn(n(l,u)).subscribe(r=Mt(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function d9(n,t){return n===t}function Ct(n){for(let t in n)if(n[t]===Ct)return t;throw Error("Could not find renamed property on target object.")}function qg(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Vn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Vn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function $x(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const h9=Ct({__forward_ref__:Ct});function ct(n){return n.__forward_ref__=ct,n.toString=function(){return Vn(this())},n}function Se(n){return Hx(n)?n():n}function Hx(n){return"function"==typeof n&&n.hasOwnProperty(h9)&&n.__forward_ref__===ct}function Gx(n){return n&&!!n.\u0275providers}const FM="https://g.co/ng/security#xss";class k extends Error{constructor(t,e){super(function Yg(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Me(n){return"string"==typeof n?n:null==n?"":String(n)}function Ux(n,t){throw new k(-201,!1)}function Nr(n,t){null==n&&function Ce(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Y(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function be(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xg(n){return VM(n,Qg)||VM(n,BM)}function VM(n,t){return n.hasOwnProperty(t)?n[t]:null}function Kg(n){return n&&(n.hasOwnProperty(zx)||n.hasOwnProperty(x9))?n[zx]:null}const Qg=Ct({\u0275prov:Ct}),zx=Ct({\u0275inj:Ct}),BM=Ct({ngInjectableDef:Ct}),x9=Ct({ngInjectorDef:Ct});var Ye=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ye||{});let jx;function ji(n){const t=jx;return jx=n,t}function HM(n,t,e){const i=Xg(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Ye.Optional?null:void 0!==t?t:void Ux(Vn(n))}const Ot=globalThis;class ee{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Y({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const eh={},Kx="__NG_DI_FLAG__",Zg="ngTempTokenPath",C9=/\n/gm,UM="__source";let hc;function jo(n){const t=hc;return hc=n,t}function S9(n,t=Ye.Default){if(void 0===hc)throw new k(-203,!1);return null===hc?HM(n,void 0,t):hc.get(n,t&Ye.Optional?null:void 0,t)}function G(n,t=Ye.Default){return(function $M(){return jx}()||S9)(Se(n),t)}function K(n,t=Ye.Default){return G(n,Jg(t))}function Jg(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Qx(n){const t=[];for(let e=0;e<n.length;e++){const i=Se(n[e]);if(Array.isArray(i)){if(0===i.length)throw new k(900,!1);let r,s=Ye.Default;for(let o=0;o<i.length;o++){const a=i[o],l=E9(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(G(r,s))}else t.push(G(i))}return t}function th(n,t){return n[Kx]=t,n.prototype[Kx]=t,n}function E9(n){return n[Kx]}function Js(n){return{toString:n}.toString()}var em=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(em||{}),Rr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Rr||{});const xs={},dt=[],tm=Ct({\u0275cmp:Ct}),Zx=Ct({\u0275dir:Ct}),Jx=Ct({\u0275pipe:Ct}),jM=Ct({\u0275mod:Ct}),eo=Ct({\u0275fac:Ct}),nh=Ct({__NG_ELEMENT_ID__:Ct}),WM=Ct({__NG_ENV_ID__:Ct});function qM(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function eb(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];XM(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function YM(n){return 3===n||4===n||6===n}function XM(n){return 64===n.charCodeAt(0)}function ih(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||KM(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function KM(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const QM="ng-template";function k9(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==qM(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function ZM(n){return 4===n.type&&n.value!==QM}function M9(n,t,e){return t===(4!==n.type||e?n.value:QM)}function N9(n,t,e){let i=4;const r=n.attrs||[],s=function O9(n){for(let t=0;t<n.length;t++)if(YM(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!M9(n,l,e)||""===l&&1===t.length){if(Qr(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!k9(n.attrs,c,e)){if(Qr(i))return!1;o=!0}continue}const d=R9(8&i?"class":l,r,ZM(n),e);if(-1===d){if(Qr(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==qM(f,c,0)||2&i&&c!==h){if(Qr(i))return!1;o=!0}}}}else{if(!o&&!Qr(i)&&!Qr(l))return!1;if(o&&Qr(l))continue;o=!1,i=l|1&i}}return Qr(i)||o}function Qr(n){return 0==(1&n)}function R9(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function L9(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function JM(n,t,e=!1){for(let i=0;i<t.length;i++)if(N9(n,t[i],e))return!0;return!1}function F9(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function eN(n,t){return n?":not("+t.trim()+")":t}function V9(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Qr(o)&&(t+=eN(s,r),r=""),i=o,s=s||!Qr(i);e++}return""!==r&&(t+=eN(s,r)),t}function pt(n){return Js(()=>{const t=nN(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===em.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Rr.Emulated,styles:n.styles||dt,_:null,schemas:n.schemas||null,tView:null,id:""};iN(e);const i=n.dependencies;return e.directiveDefs=nm(i,!1),e.pipeDefs=nm(i,!0),e.id=function W9(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function G9(n){return rt(n)||ii(n)}function U9(n){return null!==n}function we(n){return Js(()=>({type:n.type,bootstrap:n.bootstrap||dt,declarations:n.declarations||dt,imports:n.imports||dt,exports:n.exports||dt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function tN(n,t){if(null==n)return xs;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function Q(n){return Js(()=>{const t=nN(n);return iN(t),t})}function rt(n){return n[tm]||null}function ii(n){return n[Zx]||null}function Ni(n){return n[Jx]||null}function lr(n,t){const e=n[jM]||null;if(!e&&!0===t)throw new Error(`Type ${Vn(n)} does not have '\u0275mod' property.`);return e}function nN(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||xs,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||dt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tN(n.inputs,t),outputs:tN(n.outputs)}}function iN(n){n.features?.forEach(t=>t(n))}function nm(n,t){if(!n)return null;const e=t?Ni:G9;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(U9)}const ln=0,ne=1,Le=2,Xt=3,Zr=4,rh=5,_i=6,pc=7,gn=8,Wo=9,gc=10,Ne=11,sh=12,rN=13,mc=14,mn=15,oh=16,_c=17,bs=18,ah=19,sN=20,qo=21,to=22,lh=23,ch=24,Xe=25,tb=1,oN=2,Ts=7,vc=9,ri=11;function qi(n){return Array.isArray(n)&&"object"==typeof n[tb]}function Ri(n){return Array.isArray(n)&&!0===n[tb]}function nb(n){return 0!=(4&n.flags)}function qa(n){return n.componentOffset>-1}function rm(n){return 1==(1&n.flags)}function Jr(n){return!!n.template}function ib(n){return 0!=(512&n[Le])}function Ya(n,t){return n.hasOwnProperty(eo)?n[eo]:null}let si=null,sm=!1;function Pr(n){const t=si;return si=n,t}const cN={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function dN(n){if(!dh(n)||n.dirty){if(!n.producerMustRecompute(n)&&!pN(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function fN(n){n.dirty=!0,function hN(n){if(void 0===n.liveConsumerNode)return;const t=sm;sm=!0;try{for(const e of n.liveConsumerNode)e.dirty||fN(e)}finally{sm=t}}(n),n.consumerMarkedDirty?.(n)}function sb(n){return n&&(n.nextProducerIndex=0),Pr(n)}function ob(n,t){if(Pr(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(dh(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)om(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function pN(n){yc(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(dN(e),i!==e.version))return!0}return!1}function gN(n){if(yc(n),dh(n))for(let t=0;t<n.producerNode.length;t++)om(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function om(n,t){if(function _N(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),yc(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)om(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];yc(r),r.producerIndexOfThis[i]=t}}function dh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function yc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let vN=null;const TN=()=>{},sq=(()=>({...cN,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:TN}))();class oq{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Nt(){return CN}function CN(n){return n.type.prototype.ngOnChanges&&(n.setInput=lq),aq}function aq(){const n=DN(this),t=n?.current;if(t){const e=n.previous;if(e===xs)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function lq(n,t,e,i){const r=this.declaredInputs[e],s=DN(n)||function cq(n,t){return n[wN]=t}(n,{previous:xs,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new oq(l&&l.currentValue,t,a===xs),n[i]=t}Nt.ngInherit=!0;const wN="__ngSimpleChanges__";function DN(n){return n[wN]||null}const Cs=function(n,t,e){};function Lt(n){for(;Array.isArray(n);)n=n[ln];return n}function am(n,t){return Lt(t[n])}function Yi(n,t){return Lt(t[n.index])}function AN(n,t){return n.data[t]}function cr(n,t){const e=t[n];return qi(e)?e:e[ln]}function Xo(n,t){return null==t?null:n[t]}function IN(n){n[_c]=0}function gq(n){1024&n[Le]||(n[Le]|=1024,MN(n,1))}function kN(n){1024&n[Le]&&(n[Le]&=-1025,MN(n,-1))}function MN(n,t){let e=n[Xt];if(null===e)return;e[rh]+=t;let i=e;for(e=e[Xt];null!==e&&(1===t&&1===i[rh]||-1===t&&0===i[rh]);)e[rh]+=t,i=e,e=e[Xt]}const De={lFrame:GN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function PN(){return De.bindingsEnabled}function bc(){return null!==De.skipHydrationRootTNode}function P(){return De.lFrame.lView}function st(){return De.lFrame.tView}function oi(){let n=ON();for(;null!==n&&64===n.type;)n=n.parent;return n}function ON(){return De.lFrame.currentTNode}function ws(n,t){const e=De.lFrame;e.currentTNode=n,e.isParent=t}function db(){return De.lFrame.isParent}function hb(){De.lFrame.isParent=!1}function Pi(){const n=De.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Tc(){return De.lFrame.bindingIndex++}function io(n){const t=De.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Eq(n,t){const e=De.lFrame;e.bindingIndex=e.bindingRootIndex=n,fb(t)}function fb(n){De.lFrame.currentDirectiveIndex=n}function BN(){return De.lFrame.currentQueryIndex}function gb(n){De.lFrame.currentQueryIndex=n}function Iq(n){const t=n[ne];return 2===t.type?t.declTNode:1===t.type?n[_i]:null}function $N(n,t,e){if(e&Ye.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Ye.Host||(r=Iq(s),null===r||(s=s[mc],10&r.type))););if(null===r)return!1;t=r,n=s}const i=De.lFrame=HN();return i.currentTNode=t,i.lView=n,!0}function mb(n){const t=HN(),e=n[ne];De.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function HN(){const n=De.lFrame,t=null===n?null:n.child;return null===t?GN(n):t}function GN(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function UN(){const n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const zN=UN;function _b(){const n=UN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Oi(){return De.lFrame.selectedIndex}function Xa(n){De.lFrame.selectedIndex=n}function rn(){const n=De.lFrame;return AN(n.tView,n.selectedIndex)}let WN=!0;function cm(){return WN}function Ko(n){WN=n}function um(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function dm(n,t,e){qN(n,t,3,e)}function hm(n,t,e,i){(3&n[Le])===e&&qN(n,t,e,i)}function vb(n,t){let e=n[Le];(3&e)===t&&(e&=8191,e+=1,n[Le]=e)}function qN(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[_c]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[_c]+=65536),(a<s||-1==s)&&(Oq(n,e,t,l),n[_c]=(4294901760&n[_c])+l+2),l++}function YN(n,t){Cs(4,n,t);const e=Pr(null);try{t.call(n)}finally{Pr(e),Cs(5,n,t)}}function Oq(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];r?n[Le]>>13<n[_c]>>16&&(3&n[Le])===t&&(n[Le]+=8192,YN(a,s)):YN(a,s)}const Cc=-1;class fh{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function xb(n){return n!==Cc}function ph(n){return 32767&n}function gh(n,t){let e=function Bq(n){return n>>16}(n),i=t;for(;e>0;)i=i[mc],e--;return i}let bb=!0;function fm(n){const t=bb;return bb=n,t}const XN=255,KN=5;let $q=0;const Ds={};function pm(n,t){const e=QN(n,t);if(-1!==e)return e;const i=t[ne];i.firstCreatePass&&(n.injectorIndex=t.length,Tb(i.data,n),Tb(t,null),Tb(i.blueprint,null));const r=gm(n,t),s=n.injectorIndex;if(xb(r)){const o=ph(r),a=gh(r,t),l=a[ne].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function Tb(n,t){n.push(0,0,0,0,0,0,0,0,t)}function QN(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function gm(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=rR(r),null===i)return Cc;if(e++,r=r[mc],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Cc}function Cb(n,t,e){!function Hq(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(nh)&&(i=e[nh]),null==i&&(i=e[nh]=$q++);const r=i&XN;t.data[n+(r>>KN)]|=1<<r}(n,t,e)}function ZN(n,t,e){if(e&Ye.Optional||void 0!==n)return n;Ux()}function JN(n,t,e,i){if(e&Ye.Optional&&void 0===i&&(i=null),!(e&(Ye.Self|Ye.Host))){const r=n[Wo],s=ji(void 0);try{return r?r.get(t,i,e&Ye.Optional):HM(t,i,e&Ye.Optional)}finally{ji(s)}}return ZN(i,0,e)}function eR(n,t,e,i=Ye.Default,r){if(null!==n){if(2048&t[Le]&&!(i&Ye.Self)){const o=function qq(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[Le]&&!(512&o[Le]);){const a=tR(s,o,e,i|Ye.Self,Ds);if(a!==Ds)return a;let l=s.parent;if(!l){const c=o[sN];if(c){const u=c.get(e,Ds,i);if(u!==Ds)return u}l=rR(o),o=o[mc]}s=l}return r}(n,t,e,i,Ds);if(o!==Ds)return o}const s=tR(n,t,e,i,Ds);if(s!==Ds)return s}return JN(t,e,i,r)}function tR(n,t,e,i,r){const s=function zq(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(nh)?n[nh]:void 0;return"number"==typeof t?t>=0?t&XN:Wq:t}(e);if("function"==typeof s){if(!$N(t,n,i))return i&Ye.Host?ZN(r,0,i):JN(t,e,i,r);try{let o;if(o=s(i),null!=o||i&Ye.Optional)return o;Ux()}finally{zN()}}else if("number"==typeof s){let o=null,a=QN(n,t),l=Cc,c=i&Ye.Host?t[mn][_i]:null;for((-1===a||i&Ye.SkipSelf)&&(l=-1===a?gm(n,t):t[a+8],l!==Cc&&iR(i,!1)?(o=t[ne],a=ph(l),t=gh(l,t)):a=-1);-1!==a;){const u=t[ne];if(nR(s,a,u.data)){const d=Uq(a,t,e,o,i,c);if(d!==Ds)return d}l=t[a+8],l!==Cc&&iR(i,t[ne].data[a+8]===c)&&nR(s,a,t)?(o=u,a=ph(l),t=gh(l,t)):a=-1}}return r}function Uq(n,t,e,i,r,s){const o=t[ne],a=o.data[n+8],u=mm(a,o,e,null==i?qa(a)&&bb:i!=o&&0!=(3&a.type),r&Ye.Host&&s===a);return null!==u?Ka(t,o,u,a):Ds}function mm(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=o[l];if(f&&Jr(f)&&f.type===e)return l}return null}function Ka(n,t,e,i){let r=n[e];const s=t.data;if(function Lq(n){return n instanceof fh}(r)){const o=r;o.resolving&&function f9(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new k(-200,`Circular dependency in DI detected for ${n}${e}`)}(function xt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Me(n)}(s[e]));const a=fm(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?ji(o.injectImpl):null;$N(n,i,Ye.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Pq(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=CN(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&ji(c),fm(a),o.resolving=!1,zN()}}return r}function nR(n,t,e){return!!(e[t+(n>>KN)]&1<<n)}function iR(n,t){return!(n&Ye.Self||n&Ye.Host&&t)}class Li{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return eR(this._tNode,this._lView,t,Jg(i),e)}}function Wq(){return new Li(oi(),P())}function ai(n){return Js(()=>{const t=n.prototype.constructor,e=t[eo]||wb(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[eo]||wb(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function wb(n){return Hx(n)?()=>{const t=wb(Se(n));return t&&t()}:Ya(n)}function rR(n){const t=n[ne],e=t.type;return 2===e?t.declTNode:1===e?n[_i]:null}const Sc="__parameters__";function Ac(n,t,e){return Js(()=>{const i=function Db(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Sc)?l[Sc]:Object.defineProperty(l,Sc,{value:[]})[Sc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function kc(n,t){n.forEach(e=>Array.isArray(e)?kc(e,t):t(e))}function oR(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function _m(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function vh(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function ur(n,t,e){let i=Mc(n,t);return i>=0?n[1|i]=e:(i=~i,function e7(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Sb(n,t){const e=Mc(n,t);if(e>=0)return n[1|e]}function Mc(n,t){return function aR(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Lr=th(Ac("Optional"),8),ym=th(Ac("SkipSelf"),4);function wm(n){return 128==(128&n.flags)}var Qo=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Qo||{});const Mb=new Map;let w7=0;const Rb="__ngContext__";function vi(n,t){qi(t)?(n[Rb]=t[ah],function S7(n){Mb.set(n[ah],n)}(t)):n[Rb]=t}let Pb;function Ob(n,t){return Pb(n,t)}function bh(n){const t=n[Xt];return Ri(t)?t[Xt]:t}function ER(n){return IR(n[sh])}function AR(n){return IR(n[Zr])}function IR(n){for(;null!==n&&!Ri(n);)n=n[Zr];return n}function Pc(n,t,e,i,r){if(null!=i){let s,o=!1;Ri(i)?s=i:qi(i)&&(o=!0,i=i[ln]);const a=Lt(i);0===n&&null!==e?null==r?RR(t,e,a):Qa(t,e,a,r||null,!0):1===n&&null!==e?Qa(t,e,a,r||null,!0):2===n?function Mm(n,t,e){const i=Im(n,t);i&&function j7(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function Y7(n,t,e,i,r){const s=e[Ts];s!==Lt(e)&&Pc(t,n,i,s,r);for(let a=ri;a<e.length;a++){const l=e[a];Ch(l[ne],l,n,t,i,s)}}(t,n,s,e,r)}}function Em(n,t,e){return n.createElement(t,e)}function MR(n,t){const e=n[vc],i=e.indexOf(t);kN(t),e.splice(i,1)}function Am(n,t){if(n.length<=ri)return;const e=ri+t,i=n[e];if(i){const r=i[oh];null!==r&&r!==n&&MR(r,i),t>0&&(n[e-1][Zr]=i[Zr]);const s=_m(n,ri+t);!function F7(n,t){Ch(n,t,t[Ne],2,null,null),t[ln]=null,t[_i]=null}(i[ne],i);const o=s[bs];null!==o&&o.detachView(s[ne]),i[Xt]=null,i[Zr]=null,i[Le]&=-129}return i}function Fb(n,t){if(!(256&t[Le])){const e=t[Ne];t[lh]&&gN(t[lh]),t[ch]&&gN(t[ch]),e.destroyNode&&Ch(n,t,e,3,null,null),function $7(n){let t=n[sh];if(!t)return Vb(n[ne],n);for(;t;){let e=null;if(qi(t))e=t[sh];else{const i=t[ri];i&&(e=i)}if(!e){for(;t&&!t[Zr]&&t!==n;)qi(t)&&Vb(t[ne],t),t=t[Xt];null===t&&(t=n),qi(t)&&Vb(t[ne],t),e=t&&t[Zr]}t=e}}(t)}}function Vb(n,t){if(!(256&t[Le])){t[Le]&=-129,t[Le]|=256,function z7(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof fh)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Cs(4,a,l);try{l.call(a)}finally{Cs(5,a,l)}}else{Cs(4,r,s);try{s.call(r)}finally{Cs(5,r,s)}}}}}(n,t),function U7(n,t){const e=n.cleanup,i=t[pc];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[pc]=null);const r=t[qo];if(null!==r){t[qo]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[ne].type&&t[Ne].destroy();const e=t[oh];if(null!==e&&Ri(t[Xt])){e!==t[Xt]&&MR(e,t);const i=t[bs];null!==i&&i.detachView(n)}!function E7(n){Mb.delete(n[ah])}(t)}}function Bb(n,t,e){return function NR(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[ln];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Rr.None||s===Rr.Emulated)return null}return Yi(i,e)}}(n,t.parent,e)}function Qa(n,t,e,i,r){n.insertBefore(t,e,i,r)}function RR(n,t,e){n.appendChild(t,e)}function PR(n,t,e,i,r){null!==i?Qa(n,t,e,i,r):RR(n,t,e)}function Im(n,t){return n.parentNode(t)}function OR(n,t,e){return FR(n,t,e)}let $b,Nm,zb,Rm,FR=function LR(n,t,e){return 40&n.type?Yi(n,e):null};function km(n,t,e,i){const r=Bb(n,i,t),s=t[Ne],a=OR(i.parent||t[_i],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)PR(s,r,e[l],a,!1);else PR(s,r,e,a,!1);void 0!==$b&&$b(s,i,t,e,r)}function Th(n,t){if(null!==t){const e=t.type;if(3&e)return Yi(t,n);if(4&e)return Hb(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Th(n,i);{const r=n[t.index];return Ri(r)?Hb(-1,r):Lt(r)}}if(32&e)return Ob(t,n)()||Lt(n[t.index]);{const i=BR(n,t);return null!==i?Array.isArray(i)?i[0]:Th(bh(n[mn]),i):Th(n,t.next)}}return null}function BR(n,t){return null!==t?n[mn][_i].projection[t.projection]:null}function Hb(n,t){const e=ri+n+1;if(e<t.length){const i=t[e],r=i[ne].firstChild;if(null!==r)return Th(i,r)}return t[Ts]}function Gb(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&vi(Lt(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)Gb(n,t,e.child,i,r,s,!1),Pc(t,n,r,a,s);else if(32&l){const c=Ob(e,i);let u;for(;u=c();)Pc(t,n,r,u,s);Pc(t,n,r,a,s)}else 16&l?HR(n,t,i,e,r,s):Pc(t,n,r,a,s);e=o?e.projectionNext:e.next}}function Ch(n,t,e,i,r,s){Gb(e,i,n.firstChild,t,r,s,!1)}function HR(n,t,e,i,r,s){const o=e[mn],l=o[_i].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Pc(t,n,r,l[c],s);else{let c=l;const u=o[Xt];wm(i)&&(c.flags|=128),Gb(n,t,c,u,r,s,!0)}}function GR(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function UR(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&eb(n,t,i),null!==r&&GR(n,t,r),null!==s&&function K7(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function Oc(n){return function Ub(){if(void 0===Nm&&(Nm=null,Ot.trustedTypes))try{Nm=Ot.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Nm}()?.createHTML(n)||n}function Lc(){if(void 0!==zb)return zb;if(typeof document<"u")return document;throw new k(210,!1)}function zR(n){return function jb(){if(void 0===Rm&&(Rm=null,Ot.trustedTypes))try{Rm=Ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Rm}()?.createHTML(n)||n}class qR{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${FM})`}}function Zo(n){return n instanceof qR?n.changingThisBreaksApplicationSecurity:n}function wh(n,t){const e=function oY(n){return n instanceof qR&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${FM})`)}return e===t}class aY{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Oc(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class lY{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Oc(t),e}}const uY=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wb(n){return(n=String(n)).match(uY)?n:"unsafe:"+n}function ro(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Dh(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const XR=ro("area,br,col,hr,img,wbr"),KR=ro("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),QR=ro("rp,rt"),qb=Dh(XR,Dh(KR,ro("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dh(QR,ro("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dh(QR,KR)),Yb=ro("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ZR=Dh(Yb,ro("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ro("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dY=ro("script,style,template");class hY{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!qb.hasOwnProperty(e))return this.sanitizedSomething=!0,!dY.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!ZR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Yb[a]&&(l=Wb(l)),this.buf.push(" ",o,'="',JR(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();qb.hasOwnProperty(e)&&!XR.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(JR(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const fY=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pY=/([^\#-~ |!])/g;function JR(n){return n.replace(/&/g,"&amp;").replace(fY,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pY,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pm;function Xb(n){return"content"in n&&function mY(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fc=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Fc||{});function eP(n){const t=Sh();return t?zR(t.sanitize(Fc.HTML,n)||""):wh(n,"HTML")?zR(Zo(n)):function gY(n,t){let e=null;try{Pm=Pm||function YR(n){const t=new lY(n);return function cY(){try{return!!(new window.DOMParser).parseFromString(Oc(""),"text/html")}catch{return!1}}()?new aY(t):t}(n);let i=t?String(t):"";e=Pm.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Pm.getInertBodyElement(i)}while(i!==s);return Oc((new hY).sanitizeChildren(Xb(e)||e))}finally{if(e){const i=Xb(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(Lc(),Me(n))}function Om(n){const t=Sh();return t?t.sanitize(Fc.URL,n)||"":wh(n,"URL")?Zo(n):Wb(Me(n))}function Sh(){const n=P();return n&&n[gc].sanitizer}const Eh=new ee("ENVIRONMENT_INITIALIZER"),iP=new ee("INJECTOR",-1),rP=new ee("INJECTOR_DEF_TYPES");class Kb{get(t,e=eh){if(e===eh){const i=new Error(`NullInjectorError: No provider for ${Vn(t)}!`);throw i.name="NullInjectorError",i}return e}}function TY(...n){return{\u0275providers:sP(0,n),\u0275fromNgModule:!0}}function sP(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return kc(t,o=>{const a=o;Lm(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&oP(r,s),e}function oP(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];Zb(r,s=>{t(s,i)})}}function Lm(n,t,e,i){if(!(n=Se(n)))return!1;let r=null,s=Kg(n);const o=!s&&rt(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=Kg(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Lm(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{kc(s.imports,u=>{Lm(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&oP(c,t)}if(!a){const c=Ya(r)||(()=>new r);t({provide:r,useFactory:c,deps:dt},r),t({provide:rP,useValue:r,multi:!0},r),t({provide:Eh,useValue:()=>G(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;Zb(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function Zb(n,t){for(let e of n)Gx(e)&&(e=e.\u0275providers),Array.isArray(e)?Zb(e,t):t(e)}const CY=Ct({provide:String,useValue:Ct});function Jb(n){return null!==n&&"object"==typeof n&&CY in n}function Za(n){return"function"==typeof n}const eT=new ee("Set Injector scope."),Fm={},DY={};let tT;function Vm(){return void 0===tT&&(tT=new Kb),tT}class dr{}class Vc extends dr{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,iT(t,o=>this.processProvider(o)),this.records.set(iP,Bc(void 0,this)),r.has("environment")&&this.records.set(dr,Bc(void 0,this));const s=this.records.get(eT);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(rP.multi,dt,Ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=jo(this),i=ji(void 0);try{return t()}finally{jo(e),ji(i)}}get(t,e=eh,i=Ye.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(WM))return t[WM](this);i=Jg(i);const s=jo(this),o=ji(void 0);try{if(!(i&Ye.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function kY(n){return"function"==typeof n||"object"==typeof n&&n instanceof ee}(t)&&Xg(t);l=c&&this.injectableDefInScope(c)?Bc(nT(t),Fm):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Ye.Self?Vm():this.parent).get(t,e=i&Ye.Optional&&e===eh?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Zg]=a[Zg]||[]).unshift(Vn(t)),s)throw a;return function A9(n,t,e,i){const r=n[Zg];throw t[UM]&&r.unshift(t[UM]),n.message=function I9(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Vn(t);if(Array.isArray(t))r=t.map(Vn).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Vn(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(C9,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Zg]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{ji(o),jo(s)}}resolveInjectorInitializers(){const t=jo(this),e=ji(void 0);try{const r=this.get(Eh.multi,dt,Ye.Self);for(const s of r)s()}finally{jo(t),ji(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Vn(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(t){let e=Za(t=Se(t))?t:Se(t&&t.provide);const i=function EY(n){return Jb(n)?Bc(void 0,n.useValue):Bc(cP(n),Fm)}(t);if(Za(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Bc(void 0,Fm,!0),r.factory=()=>Qx(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Fm&&(e.value=DY,e.value=e.factory()),"object"==typeof e.value&&e.value&&function IY(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Se(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function nT(n){const t=Xg(n),e=null!==t?t.factory:Ya(n);if(null!==e)return e;if(n instanceof ee)throw new k(204,!1);if(n instanceof Function)return function SY(n){const t=n.length;if(t>0)throw vh(t,"?"),new k(204,!1);const e=function y9(n){return n&&(n[Qg]||n[BM])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new k(204,!1)}function cP(n,t,e){let i;if(Za(n)){const r=Se(n);return Ya(r)||nT(r)}if(Jb(n))i=()=>Se(n.useValue);else if(function lP(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Qx(n.deps||[]));else if(function aP(n){return!(!n||!n.useExisting)}(n))i=()=>G(Se(n.useExisting));else{const r=Se(n&&(n.useClass||n.provide));if(!function AY(n){return!!n.deps}(n))return Ya(r)||nT(r);i=()=>new r(...Qx(n.deps))}return i}function Bc(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function iT(n,t){for(const e of n)Array.isArray(e)?iT(e,t):e&&Gx(e)?iT(e.\u0275providers,t):t(e)}const Bm=new ee("AppId",{providedIn:"root",factory:()=>MY}),MY="ng",uP=new ee("Platform Initializer"),hr=new ee("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dP=new ee("AnimationModuleType"),hP=new ee("CSP nonce",{providedIn:"root",factory:()=>Lc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let fP=(n,t,e)=>null;function dT(n,t,e=!1){return fP(n,t,e)}class HY{}class mP{}class UY{resolveComponentFactory(t){throw function GY(n){const t=Error(`No component factory found for ${Vn(n)}.`);return t.ngComponent=n,t}(t)}}let Gc=(()=>{class n{static#e=this.NULL=new UY}return n})();function zY(){return Uc(oi(),P())}function Uc(n,t){return new ut(Yi(n,t))}let ut=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=zY}return n})();function jY(n){return n instanceof ut?n.nativeElement:n}class zc{}let fr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function WY(){const n=P(),e=cr(oi().index,n);return(qi(e)?e:n)[Ne]}()}return n})(),qY=(()=>{class n{static#e=this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>null})}return n})();class jc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const vP=new jc("16.2.12"),pT={};function TP(n,t=null,e=null,i){const r=CP(n,t,e,i);return r.resolveInjectorInitializers(),r}function CP(n,t=null,e=null,i,r=new Set){const s=[e||dt,TY(n)];return i=i||("object"==typeof n?void 0:Vn(n)),new Vc(s,t||Vm(),i||null,r)}let Sn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=eh;static#t=this.NULL=new Kb;static create(e,i){if(Array.isArray(e))return TP({name:""},i,e,"");{const r=e.name??"";return TP({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=Y({token:n,providedIn:"any",factory:()=>G(iP)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function mT(n){return n.ngOriginalError}class so{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&mT(t);for(;e&&mT(e);)e=mT(e);return e||null}}function vT(n){return t=>{setTimeout(n,void 0,t)}}const ae=class eX extends Pt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=vT(s),r&&(r=vT(r)),o&&(o=vT(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof We&&t.add(a),a}};function DP(...n){}class ze{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function tX(){const n="function"==typeof Ot.requestAnimationFrame;let t=Ot[n?"requestAnimationFrame":"setTimeout"],e=Ot[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function rX(n){const t=()=>{!function iX(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ot,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,xT(n),n.isCheckStableRunning=!0,yT(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),xT(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{if(function oX(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,s,o,a);try{return SP(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),EP(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return SP(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),EP(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,xT(n),yT(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ze.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(ze.isInAngularZone())throw new k(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,nX,DP,DP);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const nX={};function yT(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function xT(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function SP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function EP(n){n._nesting--,yT(n)}class sX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const AP=new ee("",{providedIn:"root",factory:IP});function IP(){const n=K(ze);let t=!0;return function u9(...n){const t=Jd(n),e=function i9(n,t){return"number"==typeof Vx(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Pn(i[0]):dc(e)(Ln(i,t)):Mr}(new ft(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new ft(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{ze.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(LM()))}function kP(n){return n.ownerDocument.defaultView}function oo(n){return n instanceof Function?n():n}let bT=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}return n})();function kh(n){for(;n;){n[Le]|=64;const t=bh(n);if(ib(n)&&!t)return n;n=t}return null}const OP=new ee("",{providedIn:"root",factory:()=>!1});let Wm=null;function BP(n,t){return n[t]??GP()}function $P(n,t){const e=GP();e.producerNode?.length&&(n[t]=Wm,e.lView=n,Wm=HP())}const gX={...cN,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{kh(n.lView)},lView:null};function HP(){return Object.create(gX)}function GP(){return Wm??=HP(),Wm}const Pe={};function R(n){UP(st(),P(),Oi()+n,!1)}function UP(n,t,e,i){if(!i)if(3==(3&t[Le])){const s=n.preOrderCheckHooks;null!==s&&dm(t,s,e)}else{const s=n.preOrderHooks;null!==s&&hm(t,s,0,e)}Xa(e)}function x(n,t=Ye.Default){const e=P();return null===e?G(n,t):eR(oi(),e,Se(n),t)}function qm(n,t,e,i,r,s,o,a,l,c,u){const d=t.blueprint.slice();return d[ln]=r,d[Le]=140|i,(null!==c||n&&2048&n[Le])&&(d[Le]|=2048),IN(d),d[Xt]=d[mc]=n,d[gn]=e,d[gc]=o||n&&n[gc],d[Ne]=a||n&&n[Ne],d[Wo]=l||n&&n[Wo]||null,d[_i]=s,d[ah]=function D7(){return w7++}(),d[to]=u,d[sN]=c,d[mn]=2==t.type?n[mn]:d,d}function Yc(n,t,e,i,r){let s=n.data[t];if(null===s)s=function TT(n,t,e,i,r){const s=ON(),o=db(),l=n.data[t]=function CX(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,a=0;return bc()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,t,e,i,r),function Sq(){return De.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function hh(){const n=De.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ws(s,!0),s}function Mh(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function jP(n,t,e,i,r){const s=BP(t,lh),o=Oi(),a=2&i;try{Xa(-1),a&&t.length>Xe&&UP(n,t,Xe,!1),Cs(a?2:0,r);const c=a?s:null,u=sb(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{ob(c,u)}}finally{a&&null===t[lh]&&$P(t,lh),Xa(o),Cs(a?3:1,r)}}function CT(n,t,e){if(nb(t)){const i=Pr(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{Pr(i)}}}function wT(n,t,e){PN()&&(function kX(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;qa(e)&&function FX(n,t,e){const i=Yi(t,n),r=WP(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=Ym(n,qm(n,r,null,o,i,t,null,n[gc].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||pm(e,t),vi(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=Ka(t,n,a,e);vi(c,t),null!==o&&VX(0,a-r,c,l,0,o),Jr(l)&&(cr(e.index,t)[gn]=Ka(t,n,a,e))}}(n,t,e,Yi(e,t)),64==(64&e.flags)&&QP(n,t,e))}function DT(n,t,e=Yi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function WP(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=ST(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function ST(n,t,e,i,r,s,o,a,l,c,u){const d=Xe+i,h=d+r,f=function _X(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Pe);return e}(d,h),p="function"==typeof c?c():c;return f[ne]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let qP=n=>null;function YP(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?XP(e,t,r,s):i.hasOwnProperty(r)&&XP(e,t,i[r],s)}return e}function XP(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function pr(n,t,e,i,r,s,o,a){const l=Yi(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(MT(n,e,u,i,r),qa(t)&&function SX(n,t){const e=cr(t,n);16&e[Le]||(e[Le]|=64)}(e,t.index)):3&t.type&&(i=function DX(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}function ET(n,t,e,i){if(PN()){const r=null===i?null:{"":-1},s=function NX(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(JM(t,o.selectors,!1))if(i||(i=[]),Jr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),AT(n,t,a.length)}else i.unshift(o),AT(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&KP(n,t,e,o,r,a),r&&function RX(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new k(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=ih(e.mergedAttrs,e.attrs)}function KP(n,t,e,i,r,s){for(let c=0;c<i.length;c++)Cb(pm(e,t),n,i[c].type);!function OX(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Mh(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=ih(e.mergedAttrs,u.hostAttrs),LX(n,e,t,l,u),PX(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function wX(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const d=s[u],h=e?e.get(d):null,p=h?h.outputs:null;l=YP(d.inputs,u,l,h?h.inputs:null),c=YP(d.outputs,u,c,p);const m=null===l||null===o||ZM(t)?null:BX(l,u,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function QP(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function Aq(){return De.lFrame.currentDirectiveIndex}();try{Xa(s);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];fb(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&MX(l,c)}}finally{Xa(-1),fb(o)}}function MX(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function AT(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function PX(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Jr(t)&&(e[""]=n)}}function LX(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Ya(r.type)),o=new fh(s,Jr(r),x);n.blueprint[i]=o,e[i]=o,function AX(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function IX(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,Mh(n,e,r.hostVars,Pe),r)}function Ss(n,t,e,i,r,s){const o=Yi(n,t);!function IT(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?Me(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[Ne],o,s,n.value,e,i,r)}function VX(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)ZP(i,e,o[a++],o[a++],o[a++])}function ZP(n,t,e,i,r){const s=Pr(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Pr(s)}}function BX(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function JP(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function eO(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];gb(e[i]),o.contentQueries(2,t[s],s)}}}function Ym(n,t){return n[sh]?n[rN][Zr]=t:n[sh]=t,n[rN]=t,t}function kT(n,t,e){gb(0);const i=Pr(null);try{t(n,e)}finally{Pr(i)}}function tO(n){return n[pc]||(n[pc]=[])}function nO(n){return n.cleanup||(n.cleanup=[])}function rO(n,t){const e=n[Wo],i=e?e.get(so,null):null;i&&i.handleError(t)}function MT(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++];ZP(n.data[o],t[o],i,a,r)}}function $X(n,t){const e=cr(t,n),i=e[ne];!function HX(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[ln];null!==r&&null===e[to]&&(e[to]=dT(r,e[Wo])),NT(i,e,e[gn])}function NT(n,t,e){mb(t);try{const i=n.viewQuery;null!==i&&kT(1,i,e);const r=n.template;null!==r&&jP(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&eO(n,t),n.staticViewQueries&&kT(2,n.viewQuery,e);const s=n.components;null!==s&&function GX(n,t){for(let e=0;e<t.length;e++)$X(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Le]&=-5,_b()}}let sO=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function rq(n,t,e){const i=Object.create(sq);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>fN(i),run:()=>{if(i.dirty=!1,i.hasRun&&!pN(i))return;i.hasRun=!0;const o=sb(i);try{i.cleanupFn(),i.cleanupFn=TN,i.fn(r)}finally{ob(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new n})}return n})();function Xm(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=$x(r,a):2==s&&(i=$x(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function Nh(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(Lt(s)),Ri(s)&&oO(s,i);const o=e.type;if(8&o)Nh(n,t,e.child,i);else if(32&o){const a=Ob(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=BR(t,e);if(Array.isArray(a))i.push(...a);else{const l=bh(t[mn]);Nh(l[ne],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function oO(n,t){for(let e=ri;e<n.length;e++){const i=n[e],r=i[ne].firstChild;null!==r&&Nh(i[ne],i,r,t)}n[Ts]!==n[ln]&&t.push(n[Ts])}function Km(n,t,e,i=!0){const r=t[gc],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{aO(n,t,n.template,e)}catch(l){throw i&&rO(t,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function aO(n,t,e,i){const r=t[Le];if(256!=(256&r)){t[gc].effectManager?.flush(),mb(t);try{IN(t),function FN(n){return De.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&jP(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&dm(t,c,null)}else{const c=n.preOrderHooks;null!==c&&hm(t,c,0,null),vb(t,0)}if(function jX(n){for(let t=ER(n);null!==t;t=AR(t)){if(!t[oN])continue;const e=t[vc];for(let i=0;i<e.length;i++){gq(e[i])}}}(t),lO(t,2),null!==n.contentQueries&&eO(n,t),o){const c=n.contentCheckHooks;null!==c&&dm(t,c)}else{const c=n.contentHooks;null!==c&&hm(t,c,1),vb(t,1)}!function mX(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=BP(t,ch);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)Xa(~s);else{const o=s,a=e[++r],l=e[++r];Eq(a,o),i.dirty=!1;const c=sb(i);try{l(2,t[o])}finally{ob(i,c)}}}}finally{null===t[ch]&&$P(t,ch),Xa(-1)}}(n,t);const a=n.components;null!==a&&uO(t,a,0);const l=n.viewQuery;if(null!==l&&kT(2,l,i),o){const c=n.viewCheckHooks;null!==c&&dm(t,c)}else{const c=n.viewHooks;null!==c&&hm(t,c,2),vb(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Le]&=-73,kN(t)}finally{_b()}}}function lO(n,t){for(let e=ER(n);null!==e;e=AR(e))for(let i=ri;i<e.length;i++)cO(e[i],t)}function WX(n,t,e){cO(cr(t,n),e)}function cO(n,t){if(!function fq(n){return 128==(128&n[Le])}(n))return;const e=n[ne],i=n[Le];if(80&i&&0===t||1024&i||2===t)aO(e,n,e.template,n[gn]);else if(n[rh]>0){lO(n,1);const r=e.components;null!==r&&uO(n,r,1)}}function uO(n,t,e){for(let i=0;i<t.length;i++)WX(n,t[i],e)}class Rh{get rootNodes(){const t=this._lView,e=t[ne];return Nh(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gn]}set context(t){this._lView[gn]=t}get destroyed(){return 256==(256&this._lView[Le])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Xt];if(Ri(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Am(t,i),_m(e,i))}this._attachedToViewContainer=!1}Fb(this._lView[ne],this._lView)}onDestroy(t){!function NN(n,t){if(256==(256&n[Le]))throw new k(911,!1);null===n[qo]&&(n[qo]=[]),n[qo].push(t)}(this._lView,t)}markForCheck(){kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Le]&=-129}reattach(){this._lView[Le]|=128}detectChanges(){Km(this._lView[ne],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function B7(n,t){Ch(n,t,t[Ne],2,null,null)}(this._lView[ne],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=t}}class qX extends Rh{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Km(t[ne],t,t[gn],!1)}checkNoChanges(){}get context(){return null}}class dO extends Gc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=rt(t);return new Ph(e,this.ngModule)}}function hO(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class XX{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Jg(i);const r=this.injector.get(t,pT,i);return r!==pT||e===pT?r:this.parentInjector.get(t,e,i)}}class Ph extends mP{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=hO(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return hO(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function B9(n){return n.map(V9).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof dr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new XX(t,s):t,a=o.get(zc,null);if(null===a)throw new k(407,!1);const d={rendererFactory:a,sanitizer:o.get(qY,null),effectManager:o.get(sO,null),afterRenderEventManager:o.get(bT,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function vX(n,t,e,i){const s=i.get(OP,!1)||e===Rr.ShadowDom,o=n.selectRootElement(t,s);return function yX(n){qP(n)}(o),o}(h,i,this.componentDef.encapsulation,o):Em(h,f,function YX(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=dT(p,o,!0));const y=ST(0,null,null,1,0,null,null,null,null,null,null),b=qm(null,y,null,v,null,null,d,h,o,null,_);let D,S;mb(b);try{const V=this.componentDef;let z,ve=null;V.findHostDirectiveDefs?(z=[],ve=new Map,V.findHostDirectiveDefs(V,z,ve),z.push(V)):z=[V];const fe=function QX(n,t){const e=n[ne],i=Xe;return n[i]=t,Yc(e,i,2,"#host",null)}(b,p),te=function ZX(n,t,e,i,r,s,o){const a=r[ne];!function JX(n,t,e,i){for(const r of n)t.mergedAttrs=ih(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Xm(t,t.mergedAttrs,!0),null!==e&&UR(i,e,t))}(i,n,t,o);let l=null;null!==t&&(l=dT(t,r[Wo]));const c=s.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const d=qm(r,WP(e),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&AT(a,n,i.length-1),Ym(r,d),r[n.index]=d}(fe,p,V,z,b,d,h);S=AN(y,Xe),p&&function tK(n,t,e,i){if(i)eb(n,e,["ng-version",vP.full]);else{const{attrs:r,classes:s}=function $9(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Qr(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&eb(n,e,r),s&&s.length>0&&GR(n,e,s.join(" "))}}(h,V,p,i),void 0!==e&&function nK(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(S,this.ngContentSelectors,e),D=function eK(n,t,e,i,r,s){const o=oi(),a=r[ne],l=Yi(o,r);KP(a,r,o,e,null,i);for(let u=0;u<e.length;u++)vi(Ka(r,a,o.directiveStart+u,o),r);QP(a,r,o),l&&vi(l,r);const c=Ka(r,a,o.directiveStart+o.componentOffset,o);if(n[gn]=r[gn]=c,null!==s)for(const u of s)u(c,t);return CT(a,o,n),c}(te,V,z,ve,b,[iK]),NT(y,b,null)}finally{_b()}return new KX(this.componentType,D,Uc(S,b),b,S)}}class KX extends HY{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new qX(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;MT(s[ne],s,r,t,e),this.previousInputValues.set(t,e),kh(cr(this._tNode.index,s))}}get injector(){return new Li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function iK(){const n=oi();um(P()[ne],n)}function bt(n){let t=function fO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Jr(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new k(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=Qm(n.inputs),o.inputTransforms=Qm(n.inputTransforms),o.declaredInputs=Qm(n.declaredInputs),o.outputs=Qm(n.outputs);const a=r.hostBindings;a&&aK(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&sK(n,l),c&&oK(n,c),qg(n.inputs,r.inputs),qg(n.declaredInputs,r.declaredInputs),qg(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),qg(o.inputTransforms,r.inputTransforms)),Jr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===bt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function rK(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ih(r.hostAttrs,e=ih(e,r.hostAttrs))}}(i)}function Qm(n){return n===xs?{}:n===dt?[]:n}function sK(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function oK(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function aK(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function Zm(n){return!!RT(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function RT(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Es(n,t,e){return n[t]=e}function yi(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Fe(n,t,e,i){const r=P();return yi(r,Tc(),t)&&(st(),Ss(rn(),r,n,t,e,i)),Fe}function Kc(n,t,e,i){return yi(n,Tc(),e)?t+Me(e)+i:Pe}function ie(n,t,e,i,r,s,o,a){const l=P(),c=st(),u=n+Xe,d=c.firstCreatePass?function NK(n,t,e,i,r,s,o,a,l){const c=t.consts,u=Yc(t,n,4,o||null,Xo(c,a));ET(t,e,u,Xo(c,l)),um(t,u);const d=u.tView=ST(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,s,o):c.data[u];ws(d,!1);const h=kO(c,l,d,n);cm()&&km(c,l,h,d),vi(h,l),Ym(l,l[u]=JP(h,l,h,d)),rm(d)&&wT(c,l,d),null!=o&&DT(l,d,a)}let kO=function MO(n,t,e,i){return Ko(!0),t[Ne].createComment("")};function $(n,t,e){const i=P();return yi(i,Tc(),t)&&pr(st(),rn(),i,n,t,i[Ne],e,!1),$}function BT(n,t,e,i,r){const o=r?"class":"style";MT(n,e,t.inputs[o],o,i)}function I(n,t,e,i){const r=P(),s=st(),o=Xe+n,a=r[Ne],l=s.firstCreatePass?function LK(n,t,e,i,r,s){const o=t.consts,l=Yc(t,n,2,i,Xo(o,r));return ET(t,e,l,Xo(o,s)),null!==l.attrs&&Xm(l,l.attrs,!1),null!==l.mergedAttrs&&Xm(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,e,i):s.data[o],c=NO(s,r,l,a,t,n);r[o]=c;const u=rm(l);return ws(l,!0),UR(a,c,l),32!=(32&l.flags)&&cm()&&km(s,r,c,l),0===function _q(){return De.lFrame.elementDepthCount}()&&vi(c,r),function vq(){De.lFrame.elementDepthCount++}(),u&&(wT(s,r,l),CT(s,l,r)),null!==i&&DT(r,l),I}function N(){let n=oi();db()?hb():(n=n.parent,ws(n,!1));const t=n;(function xq(n){return De.skipHydrationRootTNode===n})(t)&&function wq(){De.skipHydrationRootTNode=null}(),function yq(){De.lFrame.elementDepthCount--}();const e=st();return e.firstCreatePass&&(um(e,n),nb(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Fq(n){return 0!=(8&n.flags)}(t)&&BT(e,t,P(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Vq(n){return 0!=(16&n.flags)}(t)&&BT(e,t,P(),t.stylesWithoutHost,!1),N}function Ae(n,t,e,i){return I(n,t,e,i),N(),Ae}let NO=(n,t,e,i,r,s)=>(Ko(!0),Em(i,r,function jN(){return De.lFrame.currentNamespace}()));function Bh(n){return!!n&&"function"==typeof n.then}function OO(n){return!!n&&"function"==typeof n.subscribe}function se(n,t,e,i){const r=P(),s=st(),o=oi();return function FO(n,t,e,i,r,s,o){const a=rm(i),c=n.firstCreatePass&&nO(n),u=t[gn],d=tO(t);let h=!0;if(3&i.type||o){const m=Yi(i,t),g=o?o(m):m,v=d.length,_=o?b=>o(Lt(b[i.index])):i.index;let y=null;if(!o&&a&&(y=function GK(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[pc],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,h=!1;else{s=BO(i,t,u,s,!1);const b=e.listen(g,r,s);d.push(s,b),c&&c.push(r,_,v,v+1)}}else s=BO(i,t,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const D=t[p[g]][p[g+1]].subscribe(s),S=d.length;d.push(s,D),c&&c.push(r,i.index,S,-(S+1))}}}(s,r,r[Ne],o,n,t,i),se}function VO(n,t,e,i){try{return Cs(6,t,e),!1!==e(i)}catch(r){return rO(n,r),!1}finally{Cs(7,t,e)}}function BO(n,t,e,i,r){return function s(o){if(o===Function)return i;kh(n.componentOffset>-1?cr(n.index,t):t);let l=VO(t,e,i,o),c=s.__ngNextListenerFn__;for(;c;)l=VO(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function ue(n=1){return function kq(n){return(De.lFrame.contextLView=function Mq(n,t){for(;n>0;)t=t[mc],n--;return t}(n,De.lFrame.contextLView))[gn]}(n)}function UK(n,t){let e=null;const i=function P9(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?JM(n,s,!0):F9(i,s))return r}else e=r}return e}function s_(n,t,e){return o_(n,"",t,"",e),s_}function o_(n,t,e,i,r){const s=P(),o=Kc(s,t,e,i);return o!==Pe&&pr(st(),rn(),s,n,o,s[Ne],r,!1),o_}function a_(n,t){return n<<17|t<<2}function Jo(n){return n>>17&32767}function GT(n){return 2|n}function el(n){return(131068&n)>>2}function UT(n,t){return-131069&n|t<<2}function zT(n){return 1|n}function YO(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?Jo(s):el(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];XK(n[a],t)&&(l=!0,n[a+1]=i?zT(u):GT(u)),a=i?Jo(u):el(u)}l&&(n[e+1]=i?GT(s):zT(s))}function XK(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Mc(n,t)>=0}const Hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XO(n){return n.substring(Hn.key,Hn.keyEnd)}function KO(n,t){const e=Hn.textEnd;return e===t?-1:(t=Hn.keyEnd=function JK(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Hn.key=t,e),ru(n,t,e))}function ru(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Gn(n,t,e){return ts(n,t,e,!1),Gn}function wt(n,t){return ts(n,t,null,!0),wt}function ea(n){ns(lQ,Is,n,!0)}function Is(n,t){for(let e=function QK(n){return function ZO(n){Hn.key=0,Hn.keyEnd=0,Hn.value=0,Hn.valueEnd=0,Hn.textEnd=n.length}(n),KO(n,ru(n,0,Hn.textEnd))}(t);e>=0;e=KO(t,e))ur(n,XO(t),!0)}function ts(n,t,e,i){const r=P(),s=st(),o=io(2);s.firstUpdatePass&&nL(s,n,o,i),t!==Pe&&yi(r,o,t)&&rL(s,s.data[Oi()],r,r[Ne],n,r[o+1]=function uQ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Vn(Zo(n)))),n}(t,e),i,o)}function ns(n,t,e,i){const r=st(),s=io(2);r.firstUpdatePass&&nL(r,null,s,i);const o=P();if(e!==Pe&&yi(o,s,e)){const a=r.data[Oi()];if(oL(a,i)&&!tL(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=$x(l,e||"")),BT(r,a,o,e,i)}else!function cQ(n,t,e,i,r,s,o,a){r===Pe&&(r=dt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),null!==p&&rL(n,t,e,i,p,m,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[Ne],o[s+1],o[s+1]=function aQ(n,t,e){if(null==e||""===e)return dt;const i=[],r=Zo(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function tL(n,t){return t>=n.expandoStartIndex}function nL(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Oi()],o=tL(n,e);oL(s,i)&&null===t&&!o&&(t=!1),t=function iQ(n,t,e,i){const r=function pb(n){const t=De.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=$h(e=jT(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=jT(r,n,t,e,i),null===s){let l=function rQ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==el(i))return n[Jo(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=jT(null,n,t,l[1],i),l=$h(l,t.attrs,i),function sQ(n,t,e,i){n[Jo(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function oQ(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=$h(i,n[s].hostAttrs,e);return $h(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function qK(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Jo(o),l=el(o);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||Mc(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const h=Jo(n[a+1]);n[i+1]=a_(h,a),0!==h&&(n[h+1]=UT(n[h+1],i)),n[a+1]=function jK(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=a_(a,0),0!==a&&(n[a+1]=UT(n[a+1],i)),a=i;else n[i+1]=a_(l,0),0===a?a=i:n[l+1]=UT(n[l+1],i),l=i;c&&(n[i+1]=GT(n[i+1])),YO(n,u,i,!0),YO(n,u,i,!1),function YK(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Mc(s,t)>=0&&(e[i+1]=zT(e[i+1]))}(t,u,n,i,s),o=a_(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function jT(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=$h(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function $h(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ur(n,o,!!e||t[++s]))}return void 0===n?null:n}function lQ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&ur(n,i,e)}function rL(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function WK(n){return 1==(1&n)}(c)?sL(l,t,e,r,el(c),o):void 0;l_(u)||(l_(s)||function zK(n){return 2==(2&n)}(c)&&(s=sL(l,null,e,r,a,o)),function X7(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Qo.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Qo.Important),n.setStyle(e,i,r,s))}}(i,o,am(Oi(),e),r,s))}function sL(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===Pe&&(h=d?dt:void 0);let f=d?Sb(h,i):u===i?h:void 0;if(c&&!l_(f)&&(f=Sb(l,i)),l_(f)&&(a=f,o))return a;const p=n[r+1];r=o?Jo(p):el(p)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=Sb(l,i))}return a}function l_(n){return void 0!==n}function oL(n,t){return 0!=(n.flags&(t?8:16))}function he(n,t=""){const e=P(),i=st(),r=n+Xe,s=i.firstCreatePass?Yc(i,r,1,t,null):i.data[r],o=aL(i,e,s,t,n);e[r]=o,cm()&&km(i,e,o,s),ws(s,!1)}let aL=(n,t,e,i,r)=>(Ko(!0),function Sm(n,t){return n.createText(t)}(t[Ne],i));function gr(n){return xi("",n,""),gr}function xi(n,t,e){const i=P(),r=Kc(i,n,t,e);return r!==Pe&&function ao(n,t,e){const i=am(t,n);!function kR(n,t,e){n.setValue(t,e)}(n[Ne],i,e)}(i,Oi(),r),xi}const ou="en-US";let IL=ou;function XT(n,t,e,i,r){if(n=Se(n),Array.isArray(n))for(let s=0;s<n.length;s++)XT(n[s],t,e,i,r);else{const s=st(),o=P(),a=oi();let l=Za(n)?n:Se(n.provide);const c=cP(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Za(n)||!n.multi){const f=new fh(c,r,x),p=QT(l,t,r?u:u+h,d);-1===p?(Cb(pm(a,o),s,l),KT(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(f),o.push(f)):(e[p]=f,o[p]=f)}else{const f=QT(l,t,u+h,d),p=QT(l,t,u,u+h),g=p>=0&&e[p];if(r&&!g||!r&&!(f>=0&&e[f])){Cb(pm(a,o),s,l);const v=function AZ(n,t,e,i,r){const s=new fh(n,e,x);return s.multi=[],s.index=t,s.componentProviders=0,eF(s,r,i&&!e),s}(r?EZ:SZ,e.length,r,i,c);!r&&g&&(e[p].providerFactory=v),KT(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(v),o.push(v)}else KT(s,n,f>-1?f:p,eF(e[r?p:f],c,!r&&i));!r&&i&&g&&e[p].componentProviders++}}}function KT(n,t,e,i){const r=Za(t),s=function wY(n){return!!n.useClass}(t);if(r||s){const l=(s?Se(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function eF(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function QT(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function SZ(n,t,e,i){return ZT(this.multi,[])}function EZ(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ka(e,e[ne],this.providerFactory.index,i);s=a.slice(0,o),ZT(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],ZT(r,s);return s}function ZT(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function At(n,t=[]){return e=>{e.providersResolver=(i,r)=>function DZ(n,t,e){const i=st();if(i.firstCreatePass){const r=Jr(n);XT(e,i.data,i.blueprint,r,!0),XT(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class il{}class tF{}class JT extends il{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dO(this);const r=lr(t);this._bootstrapComponents=oo(r.bootstrap),this._r3Injector=CP(t,e,[{provide:il,useValue:this},{provide:Gc,useValue:this.componentFactoryResolver},...i],Vn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class eC extends tF{constructor(t){super(),this.moduleType=t}create(t){return new JT(this.moduleType,t,[])}}class nF extends il{constructor(t){super(),this.componentFactoryResolver=new dO(this),this.instance=null;const e=new Vc([...t.providers,{provide:il,useValue:this},{provide:Gc,useValue:this.componentFactoryResolver}],t.parent||Vm(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function tC(n,t,e=null){return new nF({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let MZ=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=sP(0,e.type),r=i.length>0?tC([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Y({token:n,providedIn:"environment",factory:()=>new n(G(dr))})}return n})();function iF(n){n.getStandaloneInjector=t=>t.get(MZ).getOrCreateStandaloneInjector(n)}function au(n,t,e,i){return function dF(n,t,e,i,r,s){const o=t+e;return yi(n,o,r)?Es(n,o+1,s?i.call(s,r):i(r)):Wh(n,o+1)}(P(),Pi(),n,t,e,i)}function lu(n,t,e,i,r){return function hF(n,t,e,i,r,s,o){const a=t+e;return function Ja(n,t,e,i){const r=yi(n,t,e);return yi(n,t+1,i)||r}(n,a,r,s)?Es(n,a+2,o?i.call(o,r,s):i(r,s)):Wh(n,a+2)}(P(),Pi(),n,t,e,i,r)}function Wh(n,t){const e=n[t];return e===Pe?void 0:e}function JZ(){return this._results[Symbol.iterator]()}class rC{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ae)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=rC.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=JZ)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Or(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Zq(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tJ(n,t,e,i=!0){const r=t[ne];if(function H7(n,t,e,i){const r=ri+i,s=e.length;i>0&&(e[r-1][Zr]=t),i<s-ri?(t[Zr]=e[r],oR(e,ri+i,t)):(e.push(t),t[Zr]=null),t[Xt]=e;const o=t[oh];null!==o&&e!==o&&function G7(n,t){const e=n[vc];t[mn]!==t[Xt][Xt][mn]&&(n[oN]=!0),null===e?n[vc]=[t]:e.push(t)}(o,t);const a=t[bs];null!==a&&a.insertView(n),t[Le]|=128}(r,t,n,e),i){const s=Hb(e,n),o=t[Ne],a=Im(o,n[Ts]);null!==a&&function V7(n,t,e,i,r,s){i[ln]=r,i[_i]=t,Ch(n,i,e,1,r,s)}(r,n[_i],o,t,a,s)}}let dn=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=rJ}return n})();const nJ=dn,iJ=class extends nJ{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function eJ(n,t,e,i){const r=t.tView,a=qm(n,r,e,4096&n[Le]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[oh]=n[t.index];const c=n[bs];return null!==c&&(a[bs]=c.createEmbeddedView(r)),NT(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new Rh(r)}};function rJ(){return f_(oi(),P())}function f_(n,t){return 4&n.type?new iJ(t,n,Uc(n,t)):null}let Vr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=uJ}return n})();function uJ(){return TF(oi(),P())}const dJ=Vr,xF=class extends dJ{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Uc(this._hostTNode,this._hostLView)}get injector(){return new Li(this._hostTNode,this._hostLView)}get parentInjector(){const t=gm(this._hostTNode,this._hostLView);if(xb(t)){const e=gh(t,this._hostLView),i=ph(t);return new Li(e[ne].data[i+8],e)}return new Li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=bF(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ri}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,s){const o=t&&!function _h(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const m=e||{};a=m.index,i=m.injector,r=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const l=o?t:new Ph(rt(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const g=(o?c:this.parentInjector).get(dr,null);g&&(s=g)}rt(l.componentType??{});const f=l.create(c,r,null,s);return this.insertImpl(f.hostView,a,false),f}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function pq(n){return Ri(n[Xt])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[Xt],u=new xF(c,c[_i],c[Xt]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;return tJ(a,r,o,!i),t.attachToViewContainerRef(),oR(sC(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=bF(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Am(this._lContainer,e);i&&(_m(sC(this._lContainer),e),Fb(i[ne],i))}detach(t){const e=this._adjustIndex(t,-1),i=Am(this._lContainer,e);return i&&null!=_m(sC(this._lContainer),e)?new Rh(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function bF(n){return n[8]}function sC(n){return n[8]||(n[8]=[])}function TF(n,t){let e;const i=t[n.index];return Ri(i)?e=i:(e=JP(i,t,null,n),t[n.index]=e,Ym(t,e)),CF(e,t,n,i),new xF(e,n,t)}let CF=function wF(n,t,e,i){if(n[Ts])return;let r;r=8&e.type?Lt(i):function hJ(n,t){const e=n[Ne],i=e.createComment(""),r=Yi(t,n);return Qa(e,Im(e,r),i,function W7(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Ts]=r};class oC{constructor(t){this.queryList=t,this.matches=null}clone(){return new oC(this.queryList)}setDirty(){this.queryList.setDirty()}}class aC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new aC(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==IF(t,e).matches&&this.queries[e].setDirty()}}class DF{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class lC{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new lC(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class cC{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new cC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,gJ(e,s)),this.matchTNodeWithReadOption(t,e,mm(e,t,s,!1,!1))}else i===dn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,mm(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ut||r===Vr||r===dn&&4&e.type)this.addMatch(e.index,-2);else{const s=mm(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function gJ(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function _J(n,t,e,i){return-1===e?function mJ(n,t){return 11&n.type?Uc(n,t):4&n.type?f_(n,t):null}(t,n):-2===e?function vJ(n,t,e){return e===ut?Uc(t,n):e===dn?f_(t,n):e===Vr?TF(t,n):void 0}(n,t,i):Ka(n,n[ne],e,t)}function SF(n,t,e,i){const r=t[bs].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:_J(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function uC(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=SF(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=ri;d<u.length;d++){const h=u[d];h[oh]===h[Xt]&&uC(h[ne],h,c,i)}if(null!==u[vc]){const d=u[vc];for(let h=0;h<d.length;h++){const f=d[h];uC(f[ne],f,c,i)}}}}}return i}function Kt(n){const t=P(),e=st(),i=BN();gb(i+1);const r=IF(e,i);if(n.dirty&&function hq(n){return 4==(4&n[Le])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?uC(e,t,i,[]):SF(e,t,r,i);n.reset(s,jY),n.notifyOnChanges()}return!0}return!1}function Yh(n,t,e){const i=st();i.firstCreatePass&&(function AF(n,t,e){null===n.queries&&(n.queries=new lC),n.queries.track(new cC(t,e))}(i,new DF(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),function EF(n,t,e){const i=new rC(4==(4&e));(function TX(n,t,e,i){const r=tO(t);r.push(e),n.firstCreatePass&&nO(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[bs]&&(t[bs]=new aC),t[bs].queries.push(new oC(i))}(i,P(),t)}function Qt(){return function yJ(n,t){return n[bs].queries[t].queryList}(P(),BN())}function IF(n,t){return n.queries.getByIndex(t)}const mC=new ee("Application Initializer");let _C=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=K(mC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(Bh(s))e.push(s);else if(OO(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WF=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const lo=new ee("LocaleId",{providedIn:"root",factory:()=>K(lo,Ye.Optional|Ye.SkipSelf)||function HJ(){return typeof $localize<"u"&&$localize.locale||ou}()});let m_=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fn(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class zJ{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let qF=(()=>{class n{compileModuleSync(e){return new eC(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=oo(lr(e).declarations).reduce((o,a)=>{const l=rt(a);return l&&o.push(new Ph(l)),o},[]);return new zJ(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const QF=new ee(""),v_=new ee("");let TC,xC=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,TC||(function hee(n){TC=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(G(ze),G(bC),G(v_))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),bC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return TC?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),na=null;const ZF=new ee("AllowMultipleToken"),CC=new ee("PlatformDestroyListeners"),wC=new ee("appBootstrapListener");class e2{constructor(t,e){this.name=t,this.token=e}}function n2(n,t,e=[]){const i=`Platform: ${t}`,r=new ee(i);return(s=[])=>{let o=DC();if(!o||o.injector.get(ZF,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function gee(n){if(na&&!na.get(ZF,!1))throw new k(400,!1);(function JF(){!function J9(n){vN=n}(()=>{throw new k(600,!1)})})(),na=n;const t=n.get(s2);(function t2(n){n.get(uP,null)?.forEach(e=>e())})(n)}(function r2(n=[],t){return Sn.create({name:t,providers:[{provide:eT,useValue:"platform"},{provide:CC,useValue:new Set([()=>na=null])},...n]})}(a,i))}return function _ee(n){const t=DC();if(!t)throw new k(401,!1);return t}()}}function DC(){return na?.get(s2)??null}let s2=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function vee(n="zone.js",t){return"noop"===n?new sX:"zone.js"===n?new ze(t):n}(i?.ngZone,function o2(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function kZ(n,t,e){return new JT(n,t,e)}(e.moduleType,this.injector,function d2(n){return[{provide:ze,useFactory:n},{provide:Eh,multi:!0,useFactory:()=>{const t=K(xee,{optional:!0});return()=>t.initialize()}},{provide:u2,useFactory:yee},{provide:AP,useFactory:IP}]}(()=>r)),o=s.injector.get(so,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{y_(this._modules,s),a.unsubscribe()})}),function a2(n,t,e){try{const i=e();return Bh(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(_C);return a.runInitializers(),a.donePromise.then(()=>(function kL(n){Nr(n,"Expected localeId to be defined"),"string"==typeof n&&(IL=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(lo,ou)||ou),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=l2({},i);return function fee(n,t,e){const i=new eC(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(co);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new k(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(CC,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(G(Sn))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function l2(n,t){return Array.isArray(t)?t.reduce(l2,n):{...n,...t}}let co=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(u2),this.zoneIsStable=K(AP),this.componentTypes=[],this.components=[],this.isStable=K(m_).hasPendingTasks.pipe(or(e=>e?xe(!1):this.zoneIsStable),function Wg(n,t=kr){return n=n??d9,Yt((e,i)=>{let r,s=!0;e.subscribe(Mt(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}(),LM()),this._injector=K(dr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof mP;if(!this._injector.get(_C).done)throw!r&&function fc(n){const t=rt(n)||ii(n)||Ni(n);return null!==t&&t.standalone}(e),new k(405,!1);let o;o=r?e:this._injector.get(Gc).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function pee(n){return n.isBoundToModule}(o)?void 0:this._injector.get(il),c=o.create(Sn.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(QF,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),y_(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;y_(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(wC,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>y_(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new k(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function y_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const u2=new ee("",{providedIn:"root",factory:()=>K(so).handleError.bind(void 0)});function yee(){const n=K(ze),t=K(so);return e=>n.runOutsideAngular(()=>t.handleError(e))}let xee=(()=>{class n{constructor(){this.zone=K(ze),this.applicationRef=K(co)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Bi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Tee}return n})();function Tee(n){return function Cee(n,t,e){if(qa(n)&&!e){const i=cr(n.index,t);return new Rh(i,i)}return 47&n.type?new Rh(t[mn],t):null}(oi(),P(),16==(16&n))}class g2{constructor(){}supports(t){return Zm(t)}create(t){return new Iee(t)}}const Aee=(n,t)=>t;class Iee{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Aee}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<_2(i,r,s)?e:i,a=_2(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Zm(t))throw new k(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function pK(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new kee(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new m2),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new m2),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class kee{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Mee{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class m2{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Mee,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _2(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class v2{constructor(){}supports(t){return t instanceof Map||RT(t)}create(){return new Nee}}class Nee{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||RT(t)))throw new k(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new Ree(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Ree{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function y2(){return new T_([new g2])}let T_=(()=>{class n{static#e=this.\u0275prov=Y({token:n,providedIn:"root",factory:y2});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||y2()),deps:[[n,new ym,new Lr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new k(901,!1)}}return n})();function x2(){return new Qh([new v2])}let Qh=(()=>{class n{static#e=this.\u0275prov=Y({token:n,providedIn:"root",factory:x2});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||x2()),deps:[[n,new ym,new Lr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new k(901,!1)}}return n})();const Lee=n2(null,"core",[]);let Fee=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(G(co))};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=be({})}return n})();function du(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let MC=null;function ia(){return MC}class Qee{}const An=new ee("DocumentToken");let NC=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:function(){return K(Jee)},providedIn:"platform"})}return n})();const Zee=new ee("Location Initialized");let Jee=(()=>{class n extends NC{constructor(){super(),this._doc=K(An),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ia().getBaseHref(this._doc)}onPopState(e){const i=ia().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ia().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function RC(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function I2(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function uo(n){return n&&"?"!==n[0]?"?"+n:n}let sl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:function(){return K(M2)},providedIn:"root"})}return n})();const k2=new ee("appBaseHref");let M2=(()=>{class n extends sl{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??K(An).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return RC(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+uo(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+uo(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+uo(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(G(NC),G(k2,8))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ete=(()=>{class n extends sl{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=RC(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+uo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+uo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(G(NC),G(k2,8))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),PC=(()=>{class n{constructor(e){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function ite(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(I2(N2(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+uo(i))}normalize(e){return n.stripTrailingSlash(function nte(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,N2(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+uo(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+uo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=uo;static#t=this.joinWithSlash=RC;static#n=this.stripTrailingSlash=I2;static#i=this.\u0275fac=function(i){return new(i||n)(G(sl))};static#r=this.\u0275prov=Y({token:n,factory:function(){return function tte(){return new PC(G(sl))}()},providedIn:"root"})}return n})();function N2(n){return n.replace(/\/index.html$/,"")}function H2(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const zC=/\s+/,G2=[];let U2=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=G2,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(zC):G2}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(zC):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(zC).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(x(T_),x(Qh),x(ut),x(fr))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Gte{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ji=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Gte(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),j2(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{j2(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(x(Vr),x(dn),x(T_))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function j2(n,t){n.context.$implicit=t.item}let Hr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Ute,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){W2("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){W2("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(x(Vr),x(dn))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Ute{constructor(){this.$implicit=null,this.ngIf=null}}function W2(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Vn(t)}'.`)}let fu=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Vr))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Nt]})}return n})(),li=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=be({})}return n})();const X2="browser";function P_(n){return"server"===n}let yne=(()=>{class n{static#e=this.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new xne(G(An),window)})}return n})();class xne{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function bne(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class K2{}class zne extends Qee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class QC extends zne{static makeCurrent(){!function Kee(n){MC||(MC=n)}(new QC)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function jne(){return nf=nf||document.querySelector("base"),nf?nf.getAttribute("href"):null}();return null==e?null:function Wne(n){F_=F_||document.createElement("a"),F_.setAttribute("href",n);const t=F_.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){nf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return H2(document.cookie,t)}}let F_,nf=null,Yne=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();const ZC=new ee("EventManagerPlugins");let tV=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new k(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(G(ZC),G(ze))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();class nV{constructor(t){this._doc=t}}const JC="ng-app-id";let iV=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=P_(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${JC}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(JC),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(JC,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(G(An),G(Bm),G(hP,8),G(hr))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();const ew={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tw=/%COMP%/g,Zne=new ee("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function sV(n,t){return t.map(e=>e.replace(tw,n))}let nw=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=P_(a),this.defaultRenderer=new iw(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Rr.ShadowDom&&(i={...i,encapsulation:Rr.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof aV?r.applyToHost(e):r instanceof rw&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Rr.Emulated:s=new aV(l,c,i,this.appId,u,o,a,d);break;case Rr.ShadowDom:return new nie(l,c,e,i,o,a,this.nonce,d);default:s=new rw(l,c,i,u,o,a,d)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(G(tV),G(iV),G(Bm),G(Zne),G(An),G(hr),G(ze),G(hP))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();class iw{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(ew[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(oV(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(oV(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new k(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=ew[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ew[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Qo.DashCase|Qo.Important)?t.style.setProperty(e,i,r&Qo.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Qo.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=ia().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function oV(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class nie extends iw{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=sV(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rw extends iw{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?sV(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class aV extends rw{constructor(t,e,i,r,s,o,a,l){const c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=function Jne(n){return"_ngcontent-%COMP%".replace(tw,n)}(c),this.hostAttr=function eie(n){return"_nghost-%COMP%".replace(tw,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let iie=(()=>{class n extends nV{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(G(An))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();const lV=["alt","control","meta","shift"],rie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sie={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let oie=(()=>{class n extends nV{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ia().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),lV.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=rie[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),lV.forEach(o=>{o!==r&&(0,sie[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(G(An))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();const uV=[{provide:hr,useValue:X2},{provide:uP,useValue:function aie(){QC.makeCurrent()},multi:!0},{provide:An,useFactory:function cie(){return function eY(n){zb=n}(document),document},deps:[]}],uie=n2(Lee,"browser",uV),die=new ee(""),dV=[{provide:v_,useClass:class qne{addToWindow(t){Ot.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new k(5103,!1);return s},Ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ot.getAllAngularRootElements=()=>t.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(i=>{const r=Ot.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?ia().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:QF,useClass:xC,deps:[ze,bC,v_]},{provide:xC,useClass:xC,deps:[ze,bC,v_]}],hV=[{provide:eT,useValue:"root"},{provide:so,useFactory:function lie(){return new so},deps:[]},{provide:ZC,useClass:iie,multi:!0,deps:[An,ze,hr]},{provide:ZC,useClass:oie,multi:!0,deps:[An]},nw,iV,tV,{provide:zc,useExisting:nw},{provide:K2,useClass:Yne,deps:[]},[]];let fV=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Bm,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(G(die,12))};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=be({providers:[...hV,...dV],imports:[li,Fee]})}return n})(),pV=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(G(An))};static#t=this.\u0275prov=Y({token:n,factory:function(i){let r=null;return r=i?new i:function fie(){return new pV(G(An))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;class vV{}class yie{}const po="*";function xV(n,t=null){return{type:2,steps:n,options:t}}function sa(n){return{type:6,styles:n,offset:null}}class rf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class bV{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function TV(n){return new k(3e3,!1)}function oa(n){switch(n.length){case 0:return new rf;case 1:return n[0];default:return new bV(n)}}function CV(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,r),m){case"!":m=e.get(f);break;case po:m=i.get(f);break;default:m=n.normalizeStyleValue(f,p,m,r)}d.set(p,m)}),u||s.push(d),a=d,o=c}),r.length)throw function Gie(n){return new k(3502,!1)}();return s}function cw(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&uw(e,"start",n)));break;case"done":n.onDone(()=>i(e&&uw(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&uw(e,"destroy",n)))}}function uw(n,t,e){const s=dw(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function dw(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function _r(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function wV(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const ere=(()=>typeof document>"u"?null:document.documentElement)();function hw(n){const t=n.parentNode||n.host||null;return t===ere?null:t}let ol=null,DV=!1;function SV(n,t){for(;t;){if(t===n)return!0;t=hw(t)}return!1}function EV(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let AV=(()=>{class n{validateStyleProperty(e){return function nre(n){ol||(ol=function ire(){return typeof document<"u"?document.body:null}()||{},DV=!!ol.style&&"WebkitAppearance"in ol.style);let t=!0;return ol.style&&!function tre(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ol.style,!t&&DV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ol.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return SV(e,i)}getParentElement(e){return hw(e)}query(e,i,r){return EV(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new rf(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})(),fw=(()=>{class n{static#e=this.NOOP=new AV}return n})();const rre=1e3,pw="ng-enter",V_="ng-leave",B_="ng-trigger",$_=".ng-trigger",kV="ng-animating",gw=".ng-animating";function go(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:mw(parseFloat(t[1]),t[2])}function mw(n,t){return"s"===t?n*rre:n}function H_(n,t,e){return n.hasOwnProperty("duration")?n:function ore(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(TV()),{duration:0,delay:0,easing:""};r=mw(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=mw(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function xie(){return new k(3100,!1)}()),a=!0),s<0&&(t.push(function bie(){return new k(3101,!1)}()),a=!0),a&&t.splice(l,0,TV())}return{duration:r,delay:s,easing:o}}(n,t,e)}function sf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function MV(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function aa(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Ms(n,t,e){t.forEach((i,r)=>{const s=vw(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function al(n,t){t.forEach((e,i)=>{const r=vw(i);n.style[r]=""})}function af(n){return Array.isArray(n)?1==n.length?n[0]:xV(n):n}const _w=new RegExp("{{\\s*(.+?)\\s*}}","g");function RV(n){let t=[];if("string"==typeof n){let e;for(;e=_w.exec(n);)t.push(e[1]);_w.lastIndex=0}return t}function lf(n,t,e){const i=n.toString(),r=i.replace(_w,(s,o)=>{let a=t[o];return null==a&&(e.push(function Cie(n){return new k(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function G_(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const cre=/-+([a-z0-9])/g;function vw(n){return n.replace(cre,(...t)=>t[1].toUpperCase())}function vr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function wie(n){return new k(3004,!1)}()}}function PV(n,t){return window.getComputedStyle(n)[t]}const U_="*";function hre(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function fre(n,t,e){if(":"==n[0]){const l=function pre(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Vie(n){return new k(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Fie(n){return new k(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(OV(r,o));"<"==s[0]&&!(r==U_&&o==U_)&&t.push(OV(o,r))}(i,e,t)):e.push(n),e}const z_=new Set(["true","1"]),j_=new Set(["false","0"]);function OV(n,t){const e=z_.has(n)||j_.has(n),i=z_.has(t)||j_.has(t);return(r,s)=>{let o=n==U_||n==r,a=t==U_||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?z_.has(n):j_.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?z_.has(t):j_.has(t)),o&&a}}const gre=new RegExp("s*:selfs*,?","g");function yw(n,t,e,i){return new mre(n).build(t,e,i)}class mre{constructor(t){this._driver=t}build(t,e,i){const r=new yre(e);return this._resetContextStyleTimingState(r),vr(this,af(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function Sie(){return new k(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function Eie(){return new k(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{RV(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(G_(s.values()),e.errors.push(function Aie(n,t){return new k(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=vr(this,af(t.animation),e);return{type:1,matchers:hre(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ll(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>vr(this,i,e)),options:ll(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=vr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:ll(t.options)}}visitAnimate(t,e){const i=function bre(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return xw(H_(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=xw(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=H_(e,t);return xw(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:sa({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=sa(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===po?i.push(a):e.errors.push(new k(3002,!1)):i.push(MV(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function kie(n,t,e,i,r){return new k(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&function lre(n,t,e){const i=t.params||{},r=RV(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Tie(n){return new k(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Mie(){return new k(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(v=>{const _=this._makeStyleAst(v,e);let y=null!=_.offset?_.offset:function xre(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(_.styles),b=0;return null!=y&&(s++,b=_.offset=y),l=l||b<0||b>1,a=a||b<c,c=b,o.push(b),_});l&&e.errors.push(function Nie(){return new k(3012,!1)}()),a&&e.errors.push(function Rie(){return new k(3200,!1)}());const d=t.steps.length;let h=0;s>0&&s<d?e.errors.push(function Pie(){return new k(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((v,_)=>{const y=h>0?_==f?1:h*_:o[_],b=y*g;e.currentTime=p+m.delay+b,m.duration=b,this._validateStyleAst(v,e),v.offset=y,i.styles.push(v)}),i}visitReference(t,e){return{type:8,animation:vr(this,af(t.animation),e),options:ll(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ll(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ll(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function _re(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(gre,"")),n=n.replace(/@\*/g,$_).replace(/@\w+/g,e=>$_+"-"+e.slice(1)).replace(/:animating/g,gw),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,_r(e.collectedStyles,e.currentQuerySelector,new Map);const a=vr(this,af(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:ll(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Oie(){return new k(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:H_(t.timings,e.errors,!0);return{type:12,animation:vr(this,af(t.animation),e),timings:i,options:null}}}class yre{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ll(n){return n?(n=sf(n)).params&&(n.params=function vre(n){return n?sf(n):null}(n.params)):n={},n}function xw(n,t,e){return{duration:n,delay:t,easing:e}}function bw(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class W_{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const wre=new RegExp(":enter","g"),Sre=new RegExp(":leave","g");function Tw(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return(new Ere).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class Ere{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new W_;const d=new Cw(t,e,c,r,s,u,[]);d.options=l;const h=l.delay?go(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),vr(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[bw(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:go(lf(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?go(i.duration):null,a=null!=i.delay?go(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),vr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=q_);const o=go(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>vr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?go(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),vr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return H_(e.params?lf(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?go(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=q_);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),vr(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;vr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const q_={};class Cw{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=q_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Y_(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=go(i.duration)),null!=i.delay&&(r.delay=go(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=lf(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new Cw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=q_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new Are(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(wre,"."+this._enterClassName)).replace(Sre,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function Lie(n){return new k(3014,!1)}()),a}}class Y_{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Y_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||po),this._currentKeyframe.set(e,po);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function Ire(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,po)}else aa(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=lf(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??po),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=aa(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===po&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=t.size?G_(t.values()):[],o=e.size?G_(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return bw(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Are extends Y_{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=aa(t[0]);l.set("offset",0),s.push(l);const c=aa(t[0]);c.set("offset",VV(a)),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=aa(t[d]);const f=h.get("offset");h.set("offset",VV((e+f*i)/o)),s.push(h)}i=o,e=0,r="",t=s}return bw(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function VV(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class ww{}const kre=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Mre extends ww{normalizePropertyName(t,e){return vw(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(kre.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Die(n,t){return new k(3005,!1)}())}return o+s}}function BV(n,t,e,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Dw={};class $V{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Nre(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Dw,p=this.buildStyles(i,a&&a.params||Dw,d),m=l&&l.params||Dw,g=this.buildStyles(r,m,d),v=new Set,_=new Map,y=new Map,b="void"===r,D={params:Rre(m,h),delay:this.ast.options?.delay},S=u?[]:Tw(t,e,this.ast.animation,s,o,p,g,D,c,d);let V=0;if(S.forEach(ve=>{V=Math.max(ve.duration+ve.delay,V)}),d.length)return BV(e,this._triggerName,i,r,b,p,g,[],[],_,y,V,d);S.forEach(ve=>{const fe=ve.element,te=_r(_,fe,new Set);ve.preStyleProps.forEach(_e=>te.add(_e));const tt=_r(y,fe,new Set);ve.postStyleProps.forEach(_e=>tt.add(_e)),fe!==e&&v.add(fe)});const z=G_(v.values());return BV(e,this._triggerName,i,r,b,p,g,S,z,_,y,V)}}function Rre(n,t){const e=sf(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Pre{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=sf(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=lf(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class Lre{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Pre(r.style,r.options&&r.options.params||{},i))}),HV(this.states,"true","1"),HV(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new $V(t,r,this.states))}),this.fallbackTransition=function Fre(n,t,e){return new $V(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function HV(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Vre=new W_;class Bre{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=yw(this._driver,e,i,[]);if(i.length)throw function Uie(n){return new k(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=CV(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=Tw(this._driver,e,s,pw,V_,new Map,new Map,i,Vre,r),o.forEach(u=>{const d=_r(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function zie(){return new k(3300,!1)}()),o=[]),r.length)throw function jie(n){return new k(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,po))})});const c=oa(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Wie(n){return new k(3301,!1)}();return e}listen(t,e,i,r){const s=dw(e,"","","");return cw(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const GV="ng-animate-queued",Sw="ng-animate-disabled",zre=[],UV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ss="__ng_removed";class Ew{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Xre(n){return n??null}(i?t.value:t),i){const s=sf(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const cf="void",Aw=new Ew(cf);class Wre{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Gr(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function qie(n,t){return new k(3302,!1)}();if(null==i||0==i.length)throw function Yie(n){return new k(3303,!1)}();if(!function Kre(n){return"start"==n||"done"==n}(i))throw function Xie(n,t){return new k(3400,!1)}();const s=_r(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=_r(this._engine.statesByElement,t,new Map);return a.has(e)||(Gr(t,B_),Gr(t,B_+"-"+e),a.set(e,Aw)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Kie(n){return new k(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new Iw(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Gr(t,B_),Gr(t,B_+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new Ew(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Aw),c.value!==cf&&l.value===c.value){if(!function Jre(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),v=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{al(t,g),Ms(t,v)})}return}const h=_r(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Gr(t,GV),o.onStart(()=>{pu(t,GV)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let v=g.indexOf(o);v>=0&&g.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,$_,!0);i.forEach(r=>{if(r[ss])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,cf,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&oa(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||Aw,u=new Ew(cf),d=new Iw(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ss];(!s||s===UV)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Gr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=dw(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,cw(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class qre{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Wre(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(X_(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!X_(e))return;const s=e[ss];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Gr(t,Sw)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pu(t,Sw))}removeNode(t,e,i){if(X_(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ss]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return X_(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,$_,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,gw,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return oa(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ss];if(e&&e.setForRemoval){if(t[ss]=UV,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Sw)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Gr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?oa(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Qie(n){return new k(3402,!1)}()}_flushAnimations(t,e){const i=new W_,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(B=>{u.add(B);const U=this.driver.query(B,".ng-animate-queued",!0);for(let oe=0;oe<U.length;oe++)u.add(U[oe])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=WV(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((B,U)=>{const oe=pw+m++;p.set(U,oe),B.forEach(re=>Gr(re,oe))});const g=[],v=new Set,_=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){const U=this.collectedLeaveElements[B],oe=U[ss];oe&&oe.setForRemoval&&(g.push(U),v.add(U),oe.hasAnimation?this.driver.query(U,".ng-star-inserted",!0).forEach(re=>v.add(re)):_.add(U))}const y=new Map,b=WV(h,Array.from(v));b.forEach((B,U)=>{const oe=V_+m++;y.set(U,oe),B.forEach(re=>Gr(re,oe))}),t.push(()=>{f.forEach((B,U)=>{const oe=p.get(U);B.forEach(re=>pu(re,oe))}),b.forEach((B,U)=>{const oe=y.get(U);B.forEach(re=>pu(re,oe))}),g.forEach(B=>{this.processLeaveNode(B)})});const D=[],S=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(e).forEach(oe=>{const re=oe.player,Ve=oe.element;if(D.push(re),this.collectedEnterElements.length){const qe=Ve[ss];if(qe&&qe.setForMove){if(qe.previousTriggersValues&&qe.previousTriggersValues.has(oe.triggerName)){const on=qe.previousTriggersValues.get(oe.triggerName),j=this.statesByElement.get(oe.element);if(j&&j.has(oe.triggerName)){const Te=j.get(oe.triggerName);Te.value=on,j.set(oe.triggerName,Te)}}return void re.destroy()}}const nt=!d||!this.driver.containsElement(d,Ve),Ue=y.get(Ve),qn=p.get(Ve),Ze=this._buildInstruction(oe,i,qn,Ue,nt);if(Ze.errors&&Ze.errors.length)return void S.push(Ze);if(nt)return re.onStart(()=>al(Ve,Ze.fromStyles)),re.onDestroy(()=>Ms(Ve,Ze.toStyles)),void r.push(re);if(oe.isFallbackTransition)return re.onStart(()=>al(Ve,Ze.fromStyles)),re.onDestroy(()=>Ms(Ve,Ze.toStyles)),void r.push(re);const ti=[];Ze.timelines.forEach(qe=>{qe.stretchStartingKeyframe=!0,this.disabledNodes.has(qe.element)||ti.push(qe)}),Ze.timelines=ti,i.append(Ve,Ze.timelines),o.push({instruction:Ze,player:re,element:Ve}),Ze.queriedElements.forEach(qe=>_r(a,qe,[]).push(re)),Ze.preStyleProps.forEach((qe,on)=>{if(qe.size){let j=l.get(on);j||l.set(on,j=new Set),qe.forEach((Te,Be)=>j.add(Be))}}),Ze.postStyleProps.forEach((qe,on)=>{let j=c.get(on);j||c.set(on,j=new Set),qe.forEach((Te,Be)=>j.add(Be))})});if(S.length){const B=[];S.forEach(U=>{B.push(function Zie(n,t){return new k(3505,!1)}())}),D.forEach(U=>U.destroy()),this.reportError(B)}const V=new Map,z=new Map;o.forEach(B=>{const U=B.element;i.has(U)&&(z.set(U,U),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,V))}),r.forEach(B=>{const U=B.element;this._getPreviousPlayers(U,!1,B.namespaceId,B.triggerName,null).forEach(re=>{_r(V,U,[]).push(re),re.destroy()})});const ve=g.filter(B=>YV(B,l,c)),fe=new Map;jV(fe,this.driver,_,c,po).forEach(B=>{YV(B,l,c)&&ve.push(B)});const tt=new Map;f.forEach((B,U)=>{jV(tt,this.driver,new Set(B),l,"!")}),ve.forEach(B=>{const U=fe.get(B),oe=tt.get(B);fe.set(B,new Map([...U?.entries()??[],...oe?.entries()??[]]))});const _e=[],Qe=[],tn={};o.forEach(B=>{const{element:U,player:oe,instruction:re}=B;if(i.has(U)){if(u.has(U))return oe.onDestroy(()=>Ms(U,re.toStyles)),oe.disabled=!0,oe.overrideTotalTime(re.totalTime),void r.push(oe);let Ve=tn;if(z.size>1){let Ue=U;const qn=[];for(;Ue=Ue.parentNode;){const Ze=z.get(Ue);if(Ze){Ve=Ze;break}qn.push(Ue)}qn.forEach(Ze=>z.set(Ze,Ve))}const nt=this._buildAnimation(oe.namespaceId,re,V,s,tt,fe);if(oe.setRealPlayer(nt),Ve===tn)_e.push(oe);else{const Ue=this.playersByElement.get(Ve);Ue&&Ue.length&&(oe.parentPlayer=oa(Ue)),r.push(oe)}}else al(U,re.fromStyles),oe.onDestroy(()=>Ms(U,re.toStyles)),Qe.push(oe),u.has(U)&&r.push(oe)}),Qe.forEach(B=>{const U=s.get(B.element);if(U&&U.length){const oe=oa(U);B.setRealPlayer(oe)}}),r.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<g.length;B++){const U=g[B],oe=U[ss];if(pu(U,V_),oe&&oe.hasAnimation)continue;let re=[];if(a.size){let nt=a.get(U);nt&&nt.length&&re.push(...nt);let Ue=this.driver.query(U,gw,!0);for(let qn=0;qn<Ue.length;qn++){let Ze=a.get(Ue[qn]);Ze&&Ze.length&&re.push(...Ze)}}const Ve=re.filter(nt=>!nt.destroyed);Ve.length?Qre(this,U,Ve):this.processLeaveNode(U)}return g.length=0,_e.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();const U=this.players.indexOf(B);this.players.splice(U,1)}),B.play()}),_e}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==cf;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=_r(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}al(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const m=p.element;u.add(m);const g=m[ss];if(g&&g.removedBeforeQueried)return new rf(p.duration,p.delay);const v=m!==l,_=function Zre(n){const t=[];return qV(n,t),t}((i.get(m)||zre).map(V=>V.getRealPlayer())).filter(V=>!!V.element&&V.element===m),y=s.get(m),b=o.get(m),D=CV(this._normalizer,p.keyframes,y,b),S=this._buildPlayer(p,D,_);if(p.subTimeline&&r&&d.add(m),v){const V=new Iw(t,a,m);V.setRealPlayer(S),c.push(V)}return S});c.forEach(p=>{_r(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Yre(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Gr(p,kV));const f=oa(h);return f.onDestroy(()=>{u.forEach(p=>pu(p,kV)),Ms(l,e.toStyles)}),d.forEach(p=>{_r(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new rf(t.duration,t.delay)}}class Iw{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new rf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>cw(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){_r(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function X_(n){return n&&1===n.nodeType}function zV(n,t){const e=n.style.display;return n.style.display=t??"none",e}function jV(n,t,e,i,r){const s=[];e.forEach(l=>s.push(zV(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[ss]=jre,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>zV(l,s[a++])),o}function WV(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function Gr(n,t){n.classList?.add(t)}function pu(n,t){n.classList?.remove(t)}function Qre(n,t,e){oa(e).onDone(()=>n.processLeaveNode(t))}function qV(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof bV?qV(i.players,t):t.push(i)}}function YV(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class K_{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new qre(t,e,i),this._timelineEngine=new Bre(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=yw(this._driver,s,l,[]);if(l.length)throw function Hie(n,t){return new k(3404,!1)}();a=function Ore(n,t,e){return new Lre(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=wV(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=wV(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let tse=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ms(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ms(this._element,this._initialStyles),this._endStyles&&(Ms(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(al(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(al(this._element,this._endStyles),this._endStyles=null),Ms(this._element,this._initialStyles),this._state=3)}}return n})();function kw(n){let t=null;return n.forEach((e,i)=>{(function nse(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class XV{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:PV(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ise{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return SV(t,e)}getParentElement(t){return hw(t)}query(t,e,i){return EV(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof XV);(function ure(n,t){return 0===n||0===t})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function are(n){return n.length?n[0]instanceof Map?n:n.map(t=>MV(t)):[]}(e).map(f=>aa(f));d=function dre(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,PV(n,a)))}}return t}(t,d,c);const h=function ese(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=kw(t[0]),t.length>1&&(i=kw(t[t.length-1]))):t instanceof Map&&(e=kw(t)),e||i?new tse(n,e,i):null}(t,d);return new XV(t,d,l,h)}}let rse=(()=>{class n extends vV{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Rr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?xV(e):e;return KV(this._renderer,null,i,"register",[r]),new sse(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(G(zc),G(An))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();class sse extends yie{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ose(this._id,t,e||{},this._renderer)}}class ose{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return KV(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function KV(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const QV="@.disabled";let ase=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new ZV("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return i.data.animation.forEach(l),new lse(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(G(zc),G(K_),G(ze))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();class ZV{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==QV?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class lse extends ZV{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==QV?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function cse(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function use(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let dse=(()=>{class n extends K_{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(G(An),G(fw),G(ww),G(co))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();const JV=[{provide:vV,useClass:rse},{provide:ww,useFactory:function hse(){return new Mre}},{provide:K_,useClass:dse},{provide:zc,useFactory:function fse(n,t,e){return new ase(n,t,e)},deps:[nw,K_,ze]}],Mw=[{provide:fw,useFactory:()=>new ise},{provide:dP,useValue:"BrowserAnimations"},...JV],eB=[{provide:fw,useClass:AV},{provide:dP,useValue:"NoopAnimations"},...JV];let pse=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?eB:Mw}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=be({providers:Mw,imports:[fV]})}return n})();const{isArray:mse}=Array,{getPrototypeOf:_se,prototype:vse,keys:yse}=Object;function tB(n){if(1===n.length){const t=n[0];if(mse(t))return{args:t,keys:null};if(function xse(n){return n&&"object"==typeof n&&_se(n)===vse}(t)){const e=yse(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:bse}=Array;function Nw(n){return $e(t=>function Tse(n,t){return bse(t)?n(...t):n(t)}(n,t))}function nB(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function uf(...n){const t=Jd(n),e=Ug(n),{args:i,keys:r}=tB(n);if(0===i.length)return Ln([],t);const s=new ft(function Cse(n,t,e=kr){return i=>{iB(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)iB(t,()=>{const c=Ln(n[l],t);let u=!1;c.subscribe(Mt(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>nB(r,o):kr));return e?s.pipe(Nw(e)):s}function iB(n,t,e){n?Zs(e,n,t):t()}const Z_=Ht(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function df(...n){return function wse(){return dc(1)}()(Ln(n,Jd(n)))}function rB(n){return new ft(t=>{Pn(n()).subscribe(t)})}function hf(n,t){const e=je(n)?n:()=>n,i=r=>r.error(e());return new ft(t?r=>t.schedule(i,0,r):i)}function Rw(){return Yt((n,t)=>{let e=null;n._refCount++;const i=Mt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class sB extends ft{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Vg(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new We;const e=this.getSubject();t.add(this.source.subscribe(Mt(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=We.EMPTY)}return t}refCount(){return Rw()(this)}}function Yn(n){return n<=0?()=>Mr:Yt((t,e)=>{let i=0;t.subscribe(Mt(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function bi(n,t){return Yt((e,i)=>{let r=0;e.subscribe(Mt(i,s=>n.call(t,s,r++)&&i.next(s)))})}function ev(n){return Yt((t,e)=>{let i=!1;t.subscribe(Mt(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function oB(n=Dse){return Yt((t,e)=>{let i=!1;t.subscribe(Mt(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Dse(){return new Z_}function cl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?bi((r,s)=>n(r,s,i)):kr,Yn(1),e?ev(t):oB(()=>new Z_))}function gu(n,t){return je(t)?On(n,t,1):On(n,1)}function Un(n,t,e){const i=je(n)||t||e?{next:n,error:t,complete:e}:n;return i?Yt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Mt(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):kr}function ul(n){return Yt((t,e)=>{let s,i=null,r=!1;i=t.subscribe(Mt(e,void 0,void 0,o=>{s=Pn(n(o,ul(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Pw(n){return n<=0?()=>Mr:Yt((t,e)=>{let i=[];t.subscribe(Mt(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ff(n){return Yt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function kn(n){return Yt((t,e)=>{Pn(n).subscribe(Mt(e,()=>e.complete(),kt)),!e.closed&&t.subscribe(e)})}const He="primary",pf=Symbol("RouteTitle");class Ise{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function mu(n){return new Ise(n)}function kse(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ns(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!lB(n[r],t[r]))return!1;return!0}function lB(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function cB(n){return n.length>0?n[n.length-1]:null}function la(n){return function gse(n){return!!n&&(n instanceof ft||je(n.lift)&&je(n.subscribe))}(n)?n:Bh(n)?Ln(Promise.resolve(n)):xe(n)}const Nse={exact:function hB(n,t,e){if(!dl(n.segments,t.segments)||!tv(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!hB(n.children[i],t.children[i],e))return!1;return!0},subset:fB},uB={exact:function Rse(n,t){return Ns(n,t)},subset:function Pse(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>lB(n[e],t[e]))},ignored:()=>!0};function dB(n,t,e){return Nse[e.paths](n.root,t.root,e.matrixParams)&&uB[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function fB(n,t,e){return pB(n,t,t.segments,e)}function pB(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!dl(r,e)||t.hasChildren()||!tv(r,e,i))}if(n.segments.length===e.length){if(!dl(n.segments,e)||!tv(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!fB(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(dl(n.segments,r)&&tv(n.segments,r,i)&&n.children[He])&&pB(n.children[He],t,s,i)}}function tv(n,t,e){return t.every((i,r)=>uB[e](n[r].parameters,i.parameters))}class _u{constructor(t=new Dt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mu(this.queryParams)),this._queryParamMap}toString(){return Fse.serialize(this)}}class Dt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nv(this)}}class gf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=mu(this.parameters)),this._parameterMap}toString(){return _B(this)}}function dl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let mf=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:function(){return new Ow},providedIn:"root"})}return n})();class Ow{parse(t){const e=new Yse(t);return new _u(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${_f(t.root,!0)}`,i=function $se(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${iv(e)}=${iv(r)}`).join("&"):`${iv(e)}=${iv(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Vse(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Fse=new Ow;function nv(n){return n.segments.map(t=>_B(t)).join("/")}function _f(n,t){if(!n.hasChildren())return nv(n);if(t){const e=n.children[He]?_f(n.children[He],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==He&&i.push(`${r}:${_f(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Lse(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===He&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==He&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===He?[_f(n.children[He],!1)]:[`${r}:${_f(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[He]?`${nv(n)}/${e[0]}`:`${nv(n)}/(${e.join("//")})`}}function gB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iv(n){return gB(n).replace(/%3B/gi,";")}function Lw(n){return gB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rv(n){return decodeURIComponent(n)}function mB(n){return rv(n.replace(/\+/g,"%20"))}function _B(n){return`${Lw(n.path)}${function Bse(n){return Object.keys(n).map(t=>`;${Lw(t)}=${Lw(n[t])}`).join("")}(n.parameters)}`}const Hse=/^[^\/()?;#]+/;function Fw(n){const t=n.match(Hse);return t?t[0]:""}const Gse=/^[^\/()?;=#]+/,zse=/^[^=?&#]+/,Wse=/^[^&#]+/;class Yse{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[He]=new Dt(t,e)),i}parseSegment(){const t=Fw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(t),new gf(rv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Use(n){const t=n.match(Gse);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Fw(this.remaining);r&&(i=r,this.capture(i))}t[rv(e)]=rv(i)}parseQueryParam(t){const e=function jse(n){const t=n.match(zse);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function qse(n){const t=n.match(Wse);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=mB(e),s=mB(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Fw(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new k(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=He);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[He]:new Dt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new k(4011,!1)}}function vB(n){return n.segments.length>0?new Dt([],{[He]:n}):n}function yB(n){const t={};for(const i of Object.keys(n.children)){const s=yB(n.children[i]);if(i===He&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Xse(n){if(1===n.numberOfChildren&&n.children[He]){const t=n.children[He];return new Dt(n.segments.concat(t.segments),t.children)}return n}(new Dt(n.segments,t))}function hl(n){return n instanceof _u}function xB(n){let t;const r=vB(function e(s){const o={};for(const l of s.children){const c=e(l);o[l.outlet]=c}const a=new Dt(s.url,o);return s===n&&(t=a),a}(n.root));return t??r}function bB(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return Vw(r,r,r,e,i);const s=function Qse(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new CB(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new CB(e,t,i)}(t);if(s.toRoot())return Vw(r,r,new Dt([],{}),e,i);const o=function Zse(n,t,e){if(n.isAbsolute)return new ov(t,!0,0);if(!e)return new ov(t,!1,NaN);if(null===e.parent)return new ov(e,!0,0);const i=sv(n.commands[0])?0:1;return function Jse(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new k(4005,!1);r=i.segments.length}return new ov(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?yf(o.segmentGroup,o.index,s.commands):wB(o.segmentGroup,o.index,s.commands);return Vw(r,o.segmentGroup,a,e,i)}function sv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vf(n){return"object"==typeof n&&null!=n&&n.outlets}function Vw(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===t?e:TB(n,t,e);const a=vB(yB(o));return new _u(a,s,r)}function TB(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:TB(s,t,e)}),new Dt(n.segments,i)}class CB{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&sv(i[0]))throw new k(4003,!1);const r=i.find(vf);if(r&&r!==cB(i))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ov{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function wB(n,t,e){if(n||(n=new Dt([],{})),0===n.segments.length&&n.hasChildren())return yf(n,t,e);const i=function toe(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(vf(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!SB(l,c,o))return s;i+=2}else{if(!SB(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Dt(n.segments.slice(0,i.pathIndex),{});return s.children[He]=new Dt(n.segments.slice(i.pathIndex),n.children),yf(s,0,r)}return i.match&&0===r.length?new Dt(n.segments,{}):i.match&&!n.hasChildren()?Bw(n,t,e):i.match?yf(n,0,r):Bw(n,t,e)}function yf(n,t,e){if(0===e.length)return new Dt(n.segments,{});{const i=function eoe(n){return vf(n[0])?n[0].outlets:{[He]:n}}(e),r={};if(Object.keys(i).some(s=>s!==He)&&n.children[He]&&1===n.numberOfChildren&&0===n.children[He].segments.length){const s=yf(n.children[He],t,e);return new Dt(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=wB(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Dt(n.segments,r)}}function Bw(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(vf(s)){const l=noe(s.outlets);return new Dt(i,l)}if(0===r&&sv(e[0])){i.push(new gf(n.segments[t].path,DB(e[0]))),r++;continue}const o=vf(s)?s.outlets[He]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&sv(a)?(i.push(new gf(o,DB(a))),r+=2):(i.push(new gf(o,{})),r++)}return new Dt(i,{})}function noe(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=Bw(new Dt([],{}),0,i))}),t}function DB(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function SB(n,t,e){return n==e.path&&Ns(t,e.parameters)}const xf="imperative";class Rs{constructor(t,e){this.id=t,this.url=e}}class av extends Rs{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ca extends Rs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bf extends Rs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vu extends Rs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class lv extends Rs{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class EB extends Rs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ioe extends Rs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class roe extends Rs{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class soe extends Rs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ooe extends Rs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aoe{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class loe{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class coe{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uoe{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class doe{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hoe{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AB{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $w{}class Hw{constructor(t){this.url=t}}class foe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Tf,this.attachRef=null}}let Tf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new foe,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class IB{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Gw(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Gw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Uw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Uw(t,this._root).map(e=>e.value)}}function Gw(n,t){if(n===t.value)return t;for(const e of t.children){const i=Gw(n,e);if(i)return i}return null}function Uw(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Uw(n,e);if(i.length)return i.unshift(t),i}return[]}class mo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function yu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class kB extends IB{constructor(t,e){super(t),this.snapshot=e,zw(this,t)}toString(){return this.snapshot.toString()}}function MB(n,t){const e=function poe(n,t){const o=new cv([],{},{},"",{},He,t,null,{});return new RB("",new mo(o,[]))}(0,t),i=new Fn([new gf("",{})]),r=new Fn({}),s=new Fn({}),o=new Fn({}),a=new Fn(""),l=new xu(i,r,o,a,s,He,t,e.root);return l.snapshot=e.root,new kB(new mo(l,[]),e)}class xu{constructor(t,e,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe($e(c=>c[pf]))??xe(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe($e(t=>mu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe($e(t=>mu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function NB(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function goe(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class cv{get title(){return this.data?.[pf]}constructor(t,e,i,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RB extends IB{constructor(t,e){super(e),this.url=t,zw(this,e)}toString(){return PB(this._root)}}function zw(n,t){t.value._routerState=n,t.children.forEach(e=>zw(n,e))}function PB(n){const t=n.children.length>0?` { ${n.children.map(PB).join(", ")} } `:"";return`${n.value}${t}`}function jw(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ns(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ns(t.params,e.params)||n.paramsSubject.next(e.params),function Mse(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ns(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Ns(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ww(n,t){const e=Ns(n.params,t.params)&&function Ose(n,t){return dl(n,t)&&n.every((e,i)=>Ns(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ww(n.parent,t.parent))}let qw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=He,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=K(Tf),this.location=K(Vr),this.changeDetector=K(Bi),this.environmentInjector=K(dr),this.inputBinder=K(uv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new moe(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Q({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nt]})}return n})();class moe{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===xu?this.route:t===Tf?this.childContexts:this.parent.get(t,e)}}const uv=new ee("");let OB=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=uf([i.queryParams,i.params,i.data]).pipe(or(([s,o,a],l)=>(a={...s,...o,...a},0===l?xe(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function Xee(n){const t=rt(n);if(!t)return null;const e=new Ph(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function Cf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function voe(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Cf(n,i,r);return Cf(n,i)})}(n,t,e);return new mo(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Cf(n,a)),o}}const i=function yoe(n){return new xu(new Fn(n.url),new Fn(n.params),new Fn(n.queryParams),new Fn(n.fragment),new Fn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Cf(n,s));return new mo(i,r)}}const Yw="ngNavigationCancelingError";function LB(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=hl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=FB(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function FB(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Yw]=!0,i.cancellationCode=t,e&&(i.url=e),i}function VB(n){return n&&n[Yw]}let BB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=pt({type:n,selectors:[["ng-component"]],standalone:!0,features:[iF],decls:1,vars:0,template:function(i,r){1&i&&Ae(0,"router-outlet")},dependencies:[qw],encapsulation:2})}return n})();function Xw(n){const t=n.children&&n.children.map(Xw),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==He&&(e.component=BB),e}function os(n){return n.outlet||He}function wf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Eoe{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),jw(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=yu(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=yu(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=yu(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=yu(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new hoe(s.value.snapshot))}),t.children.length&&this.forwardEvent(new uoe(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(jw(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),jw(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=wf(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class $B{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class dv{constructor(t,e){this.component=t,this.route=e}}function Aoe(n,t,e){const i=n._root;return Df(i,t?t._root:null,e,[i.value])}function bu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function v9(n){return null!==Xg(n)}(n)?t.get(n):n:i}function Df(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=yu(t);return n.children.forEach(o=>{(function koe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Moe(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!dl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!dl(n.url,t.url)||!Ns(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ww(n,t)||!Ns(n.queryParams,t.queryParams);default:return!Ww(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new $B(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Df(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new dv(a.outlet.component,o))}else o&&Sf(t,a,r),r.canActivateChecks.push(new $B(i)),Df(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Sf(a,e.getContext(o),r)),r}function Sf(n,t,e){const i=yu(n),r=n.value;Object.entries(i).forEach(([s,o])=>{Sf(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new dv(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Ef(n){return"function"==typeof n}function HB(n){return n instanceof Z_||"EmptyError"===n?.name}const hv=Symbol("INITIAL_VALUE");function Tu(){return or(n=>uf(n.map(t=>t.pipe(Yn(1),function J_(...n){const t=Jd(n);return Yt((e,i)=>{(t?df(n,e,t):df(n,e)).subscribe(i)})}(hv)))).pipe($e(t=>{for(const e of t)if(!0!==e){if(e===hv)return hv;if(!1===e||e instanceof _u)return e}return!0}),bi(t=>t!==hv),Yn(1)))}function GB(n){return function Mx(...n){return Pg(n)}(Un(t=>{if(hl(t))throw LB(0,t)}),$e(t=>!0===t))}class fv{constructor(t){this.segmentGroup=t||null}}class UB{constructor(t){this.urlTree=t}}function Cu(n){return hf(new fv(n))}function zB(n){return hf(new UB(n))}class Qoe{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new k(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return xe(i);if(r.numberOfChildren>1||!r.children[He])return hf(new k(4e3,!1));r=r.children[He]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new _u(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new Dt(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new k(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const Kw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zoe(n,t,e,i,r){const s=Qw(n,t,e);return s.matched?(i=function boe(n,t){return n.providers&&!n._injector&&(n._injector=tC(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Yoe(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?xe(r.map(o=>{const a=bu(o,n);return la(function Foe(n){return n&&Ef(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Tu(),GB()):xe(!0)}(i,t,e).pipe($e(o=>!0===o?s:{...Kw}))):xe(s)}function Qw(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Kw}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||kse)(e,n,t);if(!r)return{...Kw};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function jB(n,t,e,i){return e.length>0&&function tae(n,t,e){return e.some(i=>pv(n,t,i)&&os(i)!==He)}(n,e,i)?{segmentGroup:new Dt(t,eae(i,new Dt(e,n.children))),slicedSegments:[]}:0===e.length&&function nae(n,t,e){return e.some(i=>pv(n,t,i))}(n,e,i)?{segmentGroup:new Dt(n.segments,Joe(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Dt(n.segments,n.children),slicedSegments:e}}function Joe(n,t,e,i,r){const s={};for(const o of i)if(pv(n,e,o)&&!r[os(o)]){const a=new Dt([],{});s[os(o)]=a}return{...r,...s}}function eae(n,t){const e={};e[He]=t;for(const i of n)if(""===i.path&&os(i)!==He){const r=new Dt([],{});e[os(i)]=r}return e}function pv(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class oae{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Qoe(this.urlSerializer,this.urlTree)}noMatchError(t){return new k(4002,!1)}recognize(){const t=jB(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,He).pipe(ul(e=>{if(e instanceof UB)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof fv?this.noMatchError(e):e}),$e(e=>{const i=new cv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},He,this.rootComponentType,null,{}),r=new mo(i,e),s=new RB("",r),o=function Kse(n,t,e=null,i=null){return bB(xB(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,He).pipe(ul(i=>{throw i instanceof fv?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=NB(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Ln(r).pipe(gu(s=>{const o=i.children[s],a=function Doe(n,t){const e=n.filter(i=>os(i)===t);return e.push(...n.filter(i=>os(i)!==t)),e}(e,s);return this.processSegmentGroup(t,a,o,s)}),function Ese(n,t){return Yt(function Sse(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(Mt(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),ev(null),function Ase(n,t){const e=arguments.length>=2;return i=>i.pipe(n?bi((r,s)=>n(r,s,i)):kr,Pw(1),e?ev(t):oB(()=>new Z_))}(),On(s=>{if(null===s)return Cu(i);const o=WB(s);return function aae(n){n.sort((t,e)=>t.value.outlet===He?-1:e.value.outlet===He?1:t.value.outlet.localeCompare(e.value.outlet))}(o),xe(o)}))}processSegment(t,e,i,r,s,o){return Ln(e).pipe(gu(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,s,o).pipe(ul(l=>{if(l instanceof fv)return xe(null);throw l}))),cl(a=>!!a),ul(a=>{if(HB(a))return function rae(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?xe([]):Cu(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,s,o,a){return function iae(n,t,e,i){return!!(os(n)===i||i!==He&&pv(t,e,n))&&("**"===n.path||Qw(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):Cu(r):Cu(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?zB(s):this.applyRedirects.lineralizeSegments(i,s).pipe(On(o=>{const a=new Dt(o,{});return this.processSegment(t,e,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Qw(e,r,s);if(!a)return Cu(e);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?zB(d):this.applyRedirects.lineralizeSegments(r,d).pipe(On(h=>this.processSegment(t,i,e,h.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?cB(r).parameters:{};a=xe({snapshot:new cv(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qB(i),os(i),i.component??i._loadedComponent??null,i,YB(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=Zoe(e,i,r,t).pipe($e(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new cv(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qB(i),os(i),i.component??i._loadedComponent??null,i,YB(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(or(l=>null===l?Cu(e):this.getChildConfig(t=i._injector??t,i,r).pipe(or(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:m}=jB(e,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(u,c,p).pipe($e(v=>null===v?null:[new mo(d,v)]));if(0===c.length&&0===m.length)return xe([new mo(d,[])]);const g=os(i)===s;return this.processSegment(u,c,p,m,g?He:s,!0).pipe($e(v=>[new mo(d,v)]))}))))}getChildConfig(t,e,i){return e.children?xe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?xe({routes:e._loadedRoutes,injector:e._loadedInjector}):function qoe(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?xe(!0):xe(r.map(o=>{const a=bu(o,n);return la(function Roe(n){return n&&Ef(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Tu(),GB())}(t,e,i).pipe(On(r=>r?this.configLoader.loadChildren(t,e).pipe(Un(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Koe(n){return hf(FB(!1,3))}())):xe({routes:[],injector:t})}}function lae(n){const t=n.value.routeConfig;return t&&""===t.path}function WB(n){const t=[],e=new Set;for(const i of n){if(!lae(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=WB(i.children);t.push(new mo(i.value,r))}return t.filter(i=>!e.has(i))}function qB(n){return n.data||{}}function YB(n){return n.resolve||{}}function uae(n,t){return On(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return xe(e);let s=0;return Ln(r).pipe(gu(o=>function dae(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!XB(r)&&(s[pf]=r.title),function hae(n,t,e,i){const r=function fae(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return xe({});const s={};return Ln(r).pipe(On(o=>function pae(n,t,e,i){const r=wf(t)??i,s=bu(n,r);return la(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(cl(),Un(a=>{s[o]=a}))),Pw(1),function aB(n){return $e(()=>n)}(s),ul(o=>HB(o)?Mr:hf(o)))}(s,n,t,i).pipe($e(o=>(n._resolvedData=o,n.data=NB(n,e).resolve,r&&XB(r)&&(n.data[pf]=r.title),null)))}(o.route,i,n,t)),Un(()=>s++),Pw(1),On(o=>s===r.length?xe(e):Mr))})}function XB(n){return"string"==typeof n.title||null===n.title}function Zw(n){return or(t=>{const e=n(t);return e?Ln(e).pipe($e(()=>t)):xe(t)})}const wu=new ee("ROUTES");let Jw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(qF)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return xe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=la(e.loadComponent()).pipe($e(KB),Un(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),ff(()=>{this.componentLoaders.delete(e)})),r=new sB(i,()=>new Pt).pipe(Rw());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function gae(n,t,e,i){return la(n.loadChildren()).pipe($e(KB),On(r=>r instanceof tF||Array.isArray(r)?xe(r):Ln(t.compileModuleAsync(r))),$e(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(wu,[],{optional:!0,self:!0}).flat()),{routes:o.map(Xw),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(ff(()=>{this.childrenLoaders.delete(i)})),o=new sB(s,()=>new Pt).pipe(Rw());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KB(n){return function mae(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let gv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pt,this.transitionAbortSubject=new Pt,this.configLoader=K(Jw),this.environmentInjector=K(dr),this.urlSerializer=K(mf),this.rootContexts=K(Tf),this.inputBindingEnabled=null!==K(uv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>xe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new loe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new aoe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new Fn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xf,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bi(s=>0!==s.id),$e(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),or(s=>{this.currentTransition=s;let o=!1,a=!1;return xe(s).pipe(Un(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),or(l=>{const c=l.currentBrowserUrl.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const h="";return this.events.next(new vu(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Mr}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return xe(l).pipe(or(h=>{const f=this.transitions?.getValue();return this.events.next(new av(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Mr:Promise.resolve(h)}),function cae(n,t,e,i,r,s){return On(o=>function sae(n,t,e,i,r,s,o="emptyOnly"){return new oae(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe($e(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Un(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new EB(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=l,v=new av(h,this.urlSerializer.serialize(f),p,m);this.events.next(v);const _=MB(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:_,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},xe(s)}{const h="";return this.events.next(new vu(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Mr}}),Un(l=>{const c=new ioe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),$e(l=>(this.currentTransition=s={...l,guards:Aoe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function Boe(n,t){return On(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?xe({...e,guardsResult:!0}):function $oe(n,t,e,i){return Ln(n).pipe(On(r=>function Woe(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?xe(s.map(a=>{const l=wf(t)??r,c=bu(a,l);return la(function Loe(n){return n&&Ef(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(cl())})).pipe(Tu()):xe(!0)}(r.component,r.route,e,t,i)),cl(r=>!0!==r,!0))}(o,i,r,n).pipe(On(a=>a&&function Noe(n){return"boolean"==typeof n}(a)?function Hoe(n,t,e,i){return Ln(t).pipe(gu(r=>df(function Uoe(n,t){return null!==n&&t&&t(new coe(n)),xe(!0)}(r.route.parent,i),function Goe(n,t){return null!==n&&t&&t(new doe(n)),xe(!0)}(r.route,i),function joe(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function Ioe(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>rB(()=>xe(o.guards.map(l=>{const c=wf(o.node)??e,u=bu(l,c);return la(function Ooe(n){return n&&Ef(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(cl())})).pipe(Tu())));return xe(s).pipe(Tu())}(n,r.path,e),function zoe(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return xe(!0);const r=i.map(s=>rB(()=>{const o=wf(t)??e,a=bu(s,o);return la(function Poe(n){return n&&Ef(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(cl())}));return xe(r).pipe(Tu())}(n,r.route,e))),cl(r=>!0!==r,!0))}(i,s,n,t):xe(a)),$e(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Un(l=>{if(s.guardsResult=l.guardsResult,hl(l.guardsResult))throw LB(0,l.guardsResult);const c=new roe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),bi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Zw(l=>{if(l.guards.canActivateChecks.length)return xe(l).pipe(Un(c=>{const u=new soe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),or(c=>{let u=!1;return xe(c).pipe(uae(e.paramsInheritanceStrategy,this.environmentInjector),Un({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Un(c=>{const u=new ooe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Zw(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Un(h=>{u.component=h}),$e(()=>{})));for(const h of u.children)d.push(...c(h));return d};return uf(c(l.targetSnapshot.root)).pipe(ev(),Yn(1))}),Zw(()=>this.afterPreactivation()),$e(l=>{const c=function _oe(n,t,e){const i=Cf(n,t._root,e?e._root:void 0);return new kB(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Un(()=>{this.events.next(new $w)}),((n,t,e,i)=>$e(r=>(new Eoe(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Yn(1),Un({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ca(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),kn(this.transitionAbortSubject.pipe(Un(l=>{throw l}))),ff(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),ul(l=>{if(a=!0,VB(l))this.events.next(new bf(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function xoe(n){return VB(n)&&hl(n.url)}(l)?this.events.next(new Hw(l.url)):s.resolve(!1);else{this.events.next(new lv(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(c){s.reject(c)}}return Mr}))}))}cancelNavigationTransition(e,i,r){const s=new bf(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QB(n){return n!==xf}let ZB=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===He);return i}getResolvedTitleForRoute(e){return e.data[pf]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:function(){return K(_ae)},providedIn:"root"})}return n})(),_ae=(()=>{class n extends ZB{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(G(pV))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:function(){return K(xae)},providedIn:"root"})}return n})();class yae{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let xae=(()=>{class n extends yae{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ai(n)))(r||n)}}();static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mv=new ee("",{providedIn:"root",factory:()=>({})});let bae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:function(){return K(Tae)},providedIn:"root"})}return n})(),Tae=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Af=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Af||{});function JB(n,t){n.events.pipe(bi(e=>e instanceof ca||e instanceof bf||e instanceof lv||e instanceof vu),$e(e=>e instanceof ca||e instanceof vu?Af.COMPLETE:e instanceof bf&&(0===e.code||1===e.code)?Af.REDIRECTING:Af.FAILED),bi(e=>e!==Af.REDIRECTING),Yn(1)).subscribe(()=>{t()})}function Cae(n){throw n}function wae(n,t,e){return t.parse("/")}const Dae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ci=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=K(WF),this.isNgZoneEnabled=!1,this._events=new Pt,this.options=K(mv,{optional:!0})||{},this.pendingTasks=K(m_),this.errorHandler=this.options.errorHandler||Cae,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wae,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=K(bae),this.routeReuseStrategy=K(vae),this.titleStrategy=K(ZB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=K(wu,{optional:!0})?.flat()??[],this.navigationTransitions=K(gv),this.urlSerializer=K(mf),this.location=K(PC),this.componentInputBindingEnabled=!!K(uv,{optional:!0}),this.eventsSubscription=new We,this.isNgZoneEnabled=K(ze)instanceof ze&&ze.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _u,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=MB(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(e$(i)&&this._events.next(i));if(i instanceof av)QB(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof vu)this.rawUrlTree=r.rawUrl;else if(i instanceof EB){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof $w)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof bf)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof Hw){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||QB(r.source)};this.scheduleNavigation(s,xf,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof lv&&this.restoreHistory(r,!0),i instanceof ca&&(this.navigated=!0),e$(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Xw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=xB(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),d=this.currentUrlTree.root}return bB(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=hl(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,xf,null,i)}navigate(e,i={skipLocationChange:!1}){return function Eae(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new k(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Dae}:!1===i?{...Sae}:i,hl(e))return dB(this.currentUrlTree,e,r);const s=this.parseUrl(e);return dB(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return JB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e$(n){return!(n instanceof $w||n instanceof Hw)}class t${}let kae=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(bi(e=>e instanceof ca),gu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=tC(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ln(r).pipe(dc())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):xe(null);const s=r.pipe(On(o=>null===o?xe(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?Ln([s,this.loader.loadComponent(i)]).pipe(dc()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(G(ci),G(qF),G(dr),G(t$),G(Jw))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const t1=new ee("");let n$=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof av?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ca?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof vu&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof AB&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new AB(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function zP(){throw new Error("invalid")}()};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function _o(n,t){return{\u0275kind:n,\u0275providers:t}}function r$(){const n=K(Sn);return t=>{const e=n.get(co);if(t!==e.components[0])return;const i=n.get(ci),r=n.get(s$);1===n.get(n1)&&i.initialNavigation(),n.get(o$,null,Ye.Optional)?.setUpPreloading(),n.get(t1,null,Ye.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const s$=new ee("",{factory:()=>new Pt}),n1=new ee("",{providedIn:"root",factory:()=>1}),o$=new ee("");function Pae(n){return _o(0,[{provide:o$,useExisting:kae},{provide:t$,useExisting:n}])}const a$=new ee("ROUTER_FORROOT_GUARD"),Lae=[PC,{provide:mf,useClass:Ow},ci,Tf,{provide:xu,useFactory:function i$(n){return n.routerState.root},deps:[ci]},Jw,[]];function Fae(){return new e2("Router",ci)}let l$=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Lae,[],{provide:wu,multi:!0,useValue:e},{provide:a$,useFactory:Hae,deps:[[ci,new Lr,new ym]]},{provide:mv,useValue:i||{}},i?.useHash?{provide:sl,useClass:ete}:{provide:sl,useClass:M2},{provide:t1,useFactory:()=>{const n=K(yne),t=K(ze),e=K(mv),i=K(gv),r=K(mf);return e.scrollOffset&&n.setOffset(e.scrollOffset),new n$(r,i,n,t,e)}},i?.preloadingStrategy?Pae(i.preloadingStrategy).\u0275providers:[],{provide:e2,multi:!0,useFactory:Fae},i?.initialNavigation?Gae(i):[],i?.bindToComponentInputs?_o(8,[OB,{provide:uv,useExisting:OB}]).\u0275providers:[],[{provide:c$,useFactory:r$},{provide:wC,multi:!0,useExisting:c$}]]}}static forChild(e){return{ngModule:n,providers:[{provide:wu,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(G(a$,8))};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=be({})}return n})();function Hae(n){return"guarded"}function Gae(n){return["disabled"===n.initialNavigation?_o(3,[{provide:mC,multi:!0,useFactory:()=>{const t=K(ci);return()=>{t.setUpLocationChangeListener()}}},{provide:n1,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?_o(2,[{provide:n1,useValue:0},{provide:mC,multi:!0,deps:[Sn],useFactory:t=>{const e=t.get(Zee,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(ci),s=t.get(s$);JB(r,()=>{i(!0)}),t.get(gv).afterPreactivation=()=>(i(!0),s.closed?xe(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const c$=new ee("");function u$(n,t,e,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function A(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(l){u$(s,i,r,o,a,"next",l)}function a(l){u$(s,i,r,o,a,"throw",l)}o(void 0)})}}const d$=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},h$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(e[s>>2],e[(3&s)<<4|a>>4],e[h],e[f])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(d$(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const d=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw new qae;i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _v=function(n){return function(n){const t=d$(n);return h$.encodeByteArray(t,!0)}(n).replace(/\./g,"")},vv=function(n){try{return h$.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},yv=()=>{try{return function Kae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&vv(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},p$=()=>{var n;return null===(n=yv())||void 0===n?void 0:n.config};class g${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function yr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class ua extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,If.prototype.create)}}class If{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?function dle(n,t){return n.replace(hle,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new ua(r,`${this.serviceName}: ${o} (${r}).`,i)}}const hle=/\{\$([^}]+)}/g;function r1(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(_$(s)&&_$(o)){if(!r1(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function _$(n){return null!==n&&"object"==typeof n}function v$(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class ple{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function gle(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=s1),void 0===r.error&&(r.error=s1),void 0===r.complete&&(r.complete=s1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s1(){}function vo(n){return n&&n._delegate?n._delegate:n}class fl{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const pl="[DEFAULT]";class ble{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new g$;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function Cle(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:pl})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=pl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return A(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=pl){return this.instances.has(t)}getOptions(t=pl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===pl?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(t=pl){return this.component?this.component.multipleInstances?t:pl:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class wle{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ble(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const a1=[];var it=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(it||{});const y$={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},Dle=it.INFO,Sle={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},Ele=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=Sle[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class l1{constructor(t){this.name=t,this._logLevel=Dle,this._logHandler=Ele,this._userLogHandler=null,a1.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in it))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?y$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...t),this._logHandler(this,it.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...t),this._logHandler(this,it.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,it.INFO,...t),this._logHandler(this,it.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,it.WARN,...t),this._logHandler(this,it.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...t),this._logHandler(this,it.ERROR,...t)}}const Ale=(n,t)=>t.some(e=>n instanceof e);let x$,b$;const T$=new WeakMap,c1=new WeakMap,C$=new WeakMap,u1=new WeakMap,d1=new WeakMap;let h1={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return c1.get(n);if("objectStoreNames"===t)return n.objectStoreNames||C$.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return da(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function Ole(n){return"function"==typeof n?function Ple(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kle(){return b$||(b$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(f1(this),t),da(T$.get(this))}:function(...t){return da(n.apply(f1(this),t))}:function(t,...e){const i=n.call(f1(this),t,...e);return C$.set(i,t.sort?t.sort():[t]),da(i)}}(n):(n instanceof IDBTransaction&&function Nle(n){if(c1.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});c1.set(n,t)}(n),Ale(n,function Ile(){return x$||(x$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,h1):n)}function da(n){if(n instanceof IDBRequest)return function Mle(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(da(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&T$.set(e,n)}).catch(()=>{}),d1.set(t,n),t}(n);if(u1.has(n))return u1.get(n);const t=Ole(n);return t!==n&&(u1.set(n,t),d1.set(t,n)),t}const f1=n=>d1.get(n),Fle=["get","getKey","getAll","getAllKeys","count"],Vle=["put","add","delete","clear"],p1=new Map;function w$(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(p1.get(t))return p1.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Vle.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Fle.includes(e))return;const s=function(){var o=A(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[e](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return p1.set(t,s),s}!function Rle(n){h1=n(h1)}(n=>({...n,get:(t,e,i)=>w$(t,e)||n.get(t,e,i),has:(t,e)=>!!w$(t,e)||n.has(t,e)}));class Ble{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function $le(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const g1="@firebase/app",gl=new l1("@firebase/app"),bv="[DEFAULT]",hce={[g1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ml=new Map,Tv=new Map;function fce(n,t){try{n.container.addComponent(t)}catch(e){gl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Du(n){const t=n.name;if(Tv.has(t))return gl.debug(`There were multiple attempts to register component ${t}.`),!1;Tv.set(t,n);for(const e of ml.values())fce(e,n);return!0}const yo=new If("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gce{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}const Cv="10.7.1";function E$(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:bv,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw yo.create("bad-app-name",{appName:String(r)});if(e||(e=p$()),!e)throw yo.create("no-options");const s=ml.get(r);if(s){if(r1(e,s.options)&&r1(i,s.config))return s;throw yo.create("duplicate-app",{appName:r})}const o=new wle(r);for(const l of Tv.values())o.addComponent(l);const a=new gce(e,i,o);return ml.set(r,a),a}function A$(n=bv){const t=ml.get(n);if(!t&&n===bv&&p$())return E$();if(!t)throw yo.create("no-app",{appName:n});return t}function I$(){return Array.from(ml.values())}function Ur(n,t,e){var i;let r=null!==(i=hce[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void gl.warn(a.join(" "))}Du(new fl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const mce="firebase-heartbeat-database",_ce=1,kf="firebase-heartbeat-store";let _1=null;function k$(){return _1||(_1=function Lle(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),a=da(o);return i&&o.addEventListener("upgradeneeded",l=>{i(da(o.result),l.oldVersion,l.newVersion,da(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(mce,_ce,{upgrade:(n,t)=>{0===t&&n.createObjectStore(kf)}}).catch(n=>{throw yo.create("idb-open",{originalErrorMessage:n.message})})),_1}function v1(){return(v1=A(function*(n){try{return yield(yield k$()).transaction(kf).objectStore(kf).get(N$(n))}catch(t){if(t instanceof ua)gl.warn(t.message);else{const e=yo.create("idb-get",{originalErrorMessage:t?.message});gl.warn(e.message)}}})).apply(this,arguments)}function M$(n,t){return y1.apply(this,arguments)}function y1(){return(y1=A(function*(n,t){try{const i=(yield k$()).transaction(kf,"readwrite");yield i.objectStore(kf).put(t,N$(n)),yield i.done}catch(e){if(e instanceof ua)gl.warn(e.message);else{const i=yo.create("idb-set",{originalErrorMessage:e?.message});gl.warn(i.message)}}})).apply(this,arguments)}function N$(n){return`${n.name}!${n.options.appId}`}class bce{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Cce(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return A(function*(){var e,i;const s=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=R$();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==o&&!t._heartbeatsCache.heartbeats.some(a=>a.date===o))return t._heartbeatsCache.heartbeats.push({date:o,agent:s}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return A(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=R$(),{heartbeatsToSend:r,unsentEntries:s}=function Tce(n,t=1024){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),P$(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),P$(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),o=_v(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(t._heartbeatsCache.heartbeats=s,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function R$(){return(new Date).toISOString().substring(0,10)}class Cce{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(function*(){return!!function lle(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function cle(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return A(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function vce(n){return v1.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return A(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return M$(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return A(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return M$(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}})()}}function P$(n){return _v(JSON.stringify({version:2,heartbeats:n})).length}!function wce(n){Du(new fl("platform-logger",t=>new Ble(t),"PRIVATE")),Du(new fl("heartbeat",t=>new bce(t),"PRIVATE")),Ur(g1,"0.9.25",n),Ur(g1,"0.9.25","esm2017"),Ur("fire-js","")}(""),Ur("firebase","10.7.1","app");class Ece extends We{constructor(t,e){super()}schedule(t,e=0){return this}}const wv={setInterval(n,t,...e){const{delegate:i}=wv;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=wv;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class O$ extends Ece{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return wv.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&wv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,an(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const L$={now:()=>(L$.delegate||Date).now(),delegate:void 0};class Mf{constructor(t,e=Mf.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Mf.now=L$.now;class F$ extends Mf{constructor(t,e=Mf.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const kce=new class Ice extends F${}(class Ace extends O${constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Dv=new F$(O$),Mce=Dv,x1=new jc("ANGULARFIRE2_VERSION");const b1=(n,t)=>{const e=t?[t]:I$(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};class Nce{constructor(){return b1(Rce)}}const Rce="app-check";function Su(){}class B${zone;delegate;constructor(t,e=kce){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class Pce{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Su,{},Su,Su)),e.pipe(Un({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $$=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new B$(Zone.current)),this.insideAngular=e.run(()=>new B$(Zone.current,Dv)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(G(ze))};static \u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Eu(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function _l(n){return Eu().ngZone.run(()=>n())}function Lce(n){return function Fce(n){return function(e){return(e=e.lift(new Pce(n.ngZone))).pipe(jg(n.outsideAngular),zg(n.insideAngular))}}(Eu())(n)}const Vce=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),_l(()=>n.apply(void 0,i))},Nf=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||=_l(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Su,{},Su,Su))),i[s]=Vce(i[s],e));const r=function Oce(n){return Eu().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof ft){const s=Eu();return r.pipe(jg(s.outsideAngular),zg(s.insideAngular))}return _l(()=>r)}return r instanceof ft?r.pipe(Lce):r instanceof Promise?_l(()=>new Promise((s,o)=>r.then(a=>_l(()=>s(a)),a=>_l(()=>o(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:_l(()=>r)};class Rf{constructor(t){return t}}class H${constructor(){return I$()}}const T1=new ee("angularfire2._apps"),$ce={provide:Rf,useFactory:function Bce(n){return n&&1===n.length?n[0]:new Rf(A$())},deps:[[new Lr,T1]]},Hce={provide:H$,deps:[[new Lr,T1]]};function Gce(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Rf(i)}}let Uce=(()=>{class n{constructor(e){Ur("angularfire",x1.full,"core"),Ur("angularfire",x1.full,"app"),Ur("angular",vP.full,e.toString())}static \u0275fac=function(i){return new(i||n)(G(hr))};static \u0275mod=we({type:n});static \u0275inj=be({providers:[$ce,Hce]})}return n})();function zce(n,...t){return{ngModule:Uce,providers:[{provide:T1,useFactory:Gce(n),multi:!0,deps:[ze,Sn,$$,...t]}]}}const jce=Nf(E$,!0);const Wce=function G$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},U$=new If("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Sv=new l1("@firebase/auth");function Ev(n,...t){Sv.logLevel<=it.ERROR&&Sv.error(`Auth (${Cv}): ${n}`,...t)}function er(n,...t){throw C1(n,...t)}function Ps(n,...t){return C1(n,...t)}function C1(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return U$.create(n,...t)}function W(n,t,...e){if(!n)throw C1(t,...e)}function Os(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Ev(t),new Error(t)}function ha(n,t){n||Os(t)}function j$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function Yce(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function w1(){return"http:"===j$()||"https:"===j$()}()||function ole(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Of{constructor(t,e){this.shortDelay=t,this.longDelay=e,ha(e>t,"Short delay should be less than long delay!"),this.isMobile=function rle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yr())}()||function ale(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Yce()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class W${static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Qce=new Of(3e4,6e4);function Ut(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function zt(n,t,e,i){return S1.apply(this,arguments)}function S1(){return(S1=A(function*(n,t,e,i,r={}){return q$(n,r,A(function*(){let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=v$(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),W$.fetch()(Y$(n,n.config.apiHost,e,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function q$(n,t,e){return E1.apply(this,arguments)}function E1(){return(E1=A(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Kce),t);try{const r=new Jce(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Lf(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Lf(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Lf(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Lf(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function z$(n,t,e){const i=Object.assign(Object.assign({},Wce()),{[t]:e});return new If("auth","Firebase",i).create(t,{appName:n.name})}(n,u,c);er(n,u)}}catch(r){if(r instanceof ua)throw r;er(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function Y$(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?function D1(n,t){ha(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}(n.config,r):`${n.config.apiScheme}://${r}`}class Jce{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ps(this.auth,"network-request-failed")),Qce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Ps(n,t,i);return r.customData._tokenResponse=e,r}function M1(){return(M1=A(function*(n,t){return zt(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function R1(){return(R1=A(function*(n,t){return zt(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Ff(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function P1(){return(P1=A(function*(n,t=!1){const e=vo(n),i=yield e.getIdToken(t),r=Av(i);W(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Ff(O1(r.auth_time)),issuedAtTime:Ff(O1(r.iat)),expirationTime:Ff(O1(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function O1(n){return 1e3*Number(n)}function Av(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return Ev("JWT malformed, contained fewer than 3 sections"),null;try{const r=vv(e);return r?JSON.parse(r):(Ev("Failed to decode base64 JWT payload"),null)}catch(r){return Ev("Caught error parsing JWT payload as JSON",r?.toString()),null}}function bo(n,t){return L1.apply(this,arguments)}function L1(){return(L1=A(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof ua&&function oue({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class aue{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(A(function*(){yield e.iteration()}),i)}iteration(){var t=this;return A(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class J${constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ff(this.lastLoginAt),this.creationTime=Ff(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vf(n){return F1.apply(this,arguments)}function F1(){return F1=A(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield bo(n,function iue(n,t){return R1.apply(this,arguments)}(e,{idToken:i}));W(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?function uue(n){return n.map(t=>{var{providerId:e}=t,i=Ua(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(s.providerUserInfo):[],a=function cue(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new J$(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),F1.apply(this,arguments)}function V1(){return(V1=A(function*(n){const t=vo(n);yield Vf(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function B1(){return(B1=A(function*(n,t){const e=yield q$(n,{},A(function*(){const i=v$({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=Y$(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",W$.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function $1(){return($1=A(function*(n,t){return zt(n,"POST","/v2/accounts:revokeToken",Ut(n,t))})).apply(this,arguments)}class Bf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){W(t.idToken,"internal-error"),W(typeof t.idToken<"u","internal-error"),W(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function sue(n){const t=Av(n);return W(t,"internal-error"),W(typeof t.exp<"u","internal-error"),W(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return A(function*(){return W(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return A(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function due(n,t){return B1.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new Bf;return i&&(W("string"==typeof i,"internal-error",{appName:t}),o.refreshToken=i),r&&(W("string"==typeof r,"internal-error",{appName:t}),o.accessToken=r),s&&(W("number"==typeof s,"internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bf,this.toJSON())}_performRefresh(){return Os("not implemented")}}function fa(n,t){W("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class vl{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=Ua(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new J$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var e=this;return A(function*(){const i=yield bo(e,e.stsTokenManager.getToken(e.auth,t));return W(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function rue(n){return P1.apply(this,arguments)}(this,t)}reload(){return function lue(n){return V1.apply(this,arguments)}(this)}_assign(t){this!==t&&(W(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new vl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return A(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield Vf(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return A(function*(){const e=yield t.getIdToken();return yield bo(t,function tue(n,t){return M1.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,a,l,c,u;const d=null!==(i=e.displayName)&&void 0!==i?i:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,f=null!==(s=e.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=e.photoURL)&&void 0!==o?o:void 0,m=null!==(a=e.tenantId)&&void 0!==a?a:void 0,g=null!==(l=e._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=e.createdAt)&&void 0!==c?c:void 0,_=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:D,providerData:S,stsTokenManager:V}=e;W(y&&V,t,"internal-error");const z=Bf.fromJSON(this.name,V);W("string"==typeof y,t,"internal-error"),fa(d,t.name),fa(h,t.name),W("boolean"==typeof b,t,"internal-error"),W("boolean"==typeof D,t,"internal-error"),fa(f,t.name),fa(p,t.name),fa(m,t.name),fa(g,t.name),fa(v,t.name),fa(_,t.name);const ve=new vl({uid:y,auth:t,email:h,emailVerified:b,displayName:d,isAnonymous:D,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:z,createdAt:v,lastLoginAt:_});return S&&Array.isArray(S)&&(ve.providerData=S.map(fe=>Object.assign({},fe))),g&&(ve._redirectEventId=g),ve}static _fromIdTokenResponse(t,e,i=!1){return A(function*(){const r=new Bf;r.updateFromServerResponse(e);const s=new vl({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield Vf(s),s})()}}const e3=new Map;function To(n){ha(n instanceof Function,"Expected a class definition");let t=e3.get(n);return t?(ha(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,e3.set(n,t),t)}const t3=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return A(function*(){return!0})()}_set(e,i){var r=this;return A(function*(){r.storage[e]=i})()}_get(e){var i=this;return A(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return A(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function Iv(n,t,e){return`firebase:${n}:${t}:${e}`}class Iu{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Iv(this.userKey,r.apiKey,s),this.fullPersistenceKey=Iv("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return A(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?vl._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return A(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return A(function*(){if(!e.length)return new Iu(To(t3),t,i);const r=(yield Promise.all(e.map(function(){var c=A(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||To(t3);const o=Iv(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const u=yield c._get(o);if(u){const d=vl._fromJSON(t,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var c=A(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Iu(s,t,i)):new Iu(s,t,i)})()}}function n3(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function o3(n=yr()){return/iemobile/i.test(n)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function r3(n=yr()){return/firefox\//i.test(n)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function l3(n=yr()){return/blackberry/i.test(n)}(t))return"Blackberry";if(function c3(n=yr()){return/webos/i.test(n)}(t))return"Webos";if(function H1(n=yr()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function s3(n=yr()){return/crios\//i.test(n)}(t))&&!t.includes("edge/"))return"Chrome";if(function a3(n=yr()){return/android/i.test(n)}(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function u3(n,t=[]){let e;switch(n){case"Browser":e=n3(yr());break;case"Worker":e=`${n3(yr())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Cv}/${i}`}class gue{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,a)=>{try{o(t(s))}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return A(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function G1(){return(G1=A(function*(n,t={}){return zt(n,"GET","/v2/passwordPolicy",Ut(n,t))})).apply(this,arguments)}class vue{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=o.minPasswordLength)&&void 0!==e?e:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=t.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=null===(e=l.meetsMinPasswordLength)||void 0===e||e),l.isValid&&(l.isValid=null===(i=l.meetsMaxPasswordLength)||void 0===i||i),l.isValid&&(l.isValid=null===(r=l.containsLowercaseLetter)||void 0===r||r),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}class yue{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d3(this),this.idTokenSubscription=new d3(this),this.beforeStateQueue=new gue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=To(e)),this._initializationPromise=this.queue(A(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield Iu.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return A(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return A(function*(){var i;const r=yield e.assertedPersistence.getCurrentUser();let s=r,o=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const a=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,l=s?._redirectEventId,c=yield e.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return e.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield e.beforeStateQueue.runMiddleware(s)}catch(a){s=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(a))}return s?e.reloadAndSetCurrentUserOrClear(s):e.directlySetCurrentUser(null)}return W(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===s._redirectEventId?e.directlySetCurrentUser(s):e.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(t){var e=this;return A(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return A(function*(){try{yield Vf(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function Xce(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return A(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return A(function*(){const i=t?vo(t):null;return i&&W(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return A(function*(){if(!i._deleted)return t&&W(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue(A(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return A(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue(A(function*(){yield e.assertedPersistence.setPersistence(To(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return A(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return A(function*(){const e=yield function mue(n){return G1.apply(this,arguments)}(t),i=new vue(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new If("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){var e=this;return A(function*(){if(e.currentUser){const i=yield e.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};null!=e.tenantId&&(r.tenantId=e.tenantId),yield function hue(n,t){return $1.apply(this,arguments)}(e,r)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return A(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return A(function*(){if(!e.redirectPersistenceManager){const i=t&&To(t)||e._popupRedirectResolver;W(i,e,"argument-error"),e.redirectPersistenceManager=yield Iu.create(e,[To(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return A(function*(){var i,r;return e._isInitialized&&(yield e.queue(A(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return A(function*(){if(t===e.currentUser)return e.queue(A(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s="function"==typeof e?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof e){const l=t.addObserver(e,i,r);return()=>{o=!0,l()}}{const l=t.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(t){var e=this;return A(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=u3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return A(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield t._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var t=this;return A(function*(){var e;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function qce(n,...t){Sv.logLevel<=it.WARN&&Sv.warn(`Auth (${Cv}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class d3{constructor(t){this.auth=t,this.observer=null,this.addObserver=function fle(n,t){const e=new ple(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function h3(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Of(3e4,6e4),new Of(2e3,1e4),new Of(3e4,6e4),new Of(5e3,15e3),encodeURIComponent("fac");var U3="@firebase/auth";class bhe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return A(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}yv(),function Che(n){Du(new fl("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u3(n)},c=new yue(i,r,s,l);return function Sue(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(To);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Du(new fl("auth-internal",t=>{const e=function vn(n){return vo(n)}(t.getProvider("auth").getImmediate());return new bhe(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(U3,"1.5.1",function The(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Ur(U3,"1.5.1","esm2017")}("Browser");class q3{constructor(){return b1("auth")}}var J,khe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},as={},PS=PS||{},Re=khe||self;function Gv(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function jf(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var OS="closure_uid_"+(1e9*Math.random()>>>0),Nhe=0;function Rhe(n,t,e){return n.call.apply(n.bind,arguments)}function Phe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Ti(n,t,e){return(Ti=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rhe:Phe).apply(null,arguments)}function Uv(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Xn(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function pa(){this.s=this.s,this.o=this.o}pa.prototype.s=!1,pa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Mhe(n){Object.prototype.hasOwnProperty.call(n,OS)&&n[OS]||(n[OS]=++Nhe)}(this)},pa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Y3=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function LS(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function X3(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Gv(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Ci(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Ci.prototype.h=function(){this.defaultPrevented=!0};var Lhe=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const e=()=>{};Re.addEventListener("test",e,t),Re.removeEventListener("test",e,t)}catch{}return n}();function Wf(n){return/^[\s\xa0]*$/.test(n)}function zv(){var n=Re.navigator;return n&&(n=n.userAgent)?n:""}function Ls(n){return-1!=zv().indexOf(n)}function FS(n){return FS[" "](n),n}FS[" "]=function(){};var BS,Vhe=Ls("Opera"),ku=Ls("Trident")||Ls("MSIE"),K3=Ls("Edge"),VS=K3||ku,Q3=Ls("Gecko")&&!(-1!=zv().toLowerCase().indexOf("webkit")&&!Ls("Edge"))&&!(Ls("Trident")||Ls("MSIE"))&&!Ls("Edge"),Bhe=-1!=zv().toLowerCase().indexOf("webkit")&&!Ls("Edge");function Z3(){var n=Re.document;return n?n.documentMode:void 0}e:{var $S="",HS=function(){var n=zv();return Q3?/rv:([^\);]+)(\)|;)/.exec(n):K3?/Edge\/([\d\.]+)/.exec(n):ku?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Bhe?/WebKit\/(\S+)/.exec(n):Vhe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(HS&&($S=HS?HS[1]:""),ku){var GS=Z3();if(null!=GS&&GS>parseFloat($S)){BS=String(GS);break e}}BS=$S}var $he=Re.document&&ku&&(Z3()||parseInt(BS,10))||void 0;function qf(n,t){if(Ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Q3){e:{try{FS(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Hhe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qf.$.h.call(this)}}Xn(qf,Ci);var Hhe={2:"touch",3:"pen",4:"mouse"};qf.prototype.h=function(){qf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yf="closure_listenable_"+(1e6*Math.random()|0),Ghe=0;function Uhe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++Ghe,this.fa=this.ia=!1}function jv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function zS(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function eH(n){const t={};for(const e in n)t[e]=n[e];return t}const tH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nH(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<tH.length;s++)e=tH[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Wv(n){this.src=n,this.g={},this.h=0}function jS(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=Y3(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(jv(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function WS(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}Wv.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=WS(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new Uhe(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var qS="closure_lm_"+(1e6*Math.random()|0),YS={};function iH(n,t,e,i,r){if(i&&i.once)return sH(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)iH(n,t[s],e,i,r);return null}return e=ZS(e),n&&n[Yf]?n.O(t,e,jf(i)?!!i.capture:!!i,r):rH(n,t,e,!1,i,r)}function rH(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=jf(r)?!!r.capture:!!r,a=KS(n);if(a||(n[qS]=a=new Wv(n)),(e=a.add(t,e,i,o,s)).proxy)return e;if(i=function jhe(){const t=Whe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Lhe||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(aH(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function sH(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)sH(n,t[s],e,i,r);return null}return e=ZS(e),n&&n[Yf]?n.P(t,e,jf(i)?!!i.capture:!!i,r):rH(n,t,e,!0,i,r)}function oH(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)oH(n,t[s],e,i,r);else i=jf(i)?!!i.capture:!!i,e=ZS(e),n&&n[Yf]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=WS(s=n.g[t],e,i,r))&&(jv(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=KS(n))&&(t=n.g[t.toString()],n=-1,t&&(n=WS(t,e,i,r)),(e=-1<n?t[n]:null)&&XS(e))}function XS(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Yf])jS(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(aH(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=KS(t))?(jS(e,n),0==e.h&&(e.src=null,t[qS]=null)):jv(n)}}}function aH(n){return n in YS?YS[n]:YS[n]="on"+n}function Whe(n,t){if(n.fa)n=!0;else{t=new qf(t,this);var e=n.listener,i=n.la||n.src;n.ia&&XS(n),n=e.call(i,t)}return n}function KS(n){return(n=n[qS])instanceof Wv?n:null}var QS="__closure_events_fn_"+(1e9*Math.random()>>>0);function ZS(n){return"function"==typeof n?n:(n[QS]||(n[QS]=function(t){return n.handleEvent(t)}),n[QS])}function Kn(){pa.call(this),this.i=new Wv(this),this.S=this,this.J=null}function ui(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Ci(t,n);else if(t instanceof Ci)t.target=t.target||n;else{var r=t;nH(t=new Ci(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=qv(o,i,!0,t)&&r}if(r=qv(o=t.g=n,i,!0,t)&&r,r=qv(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=qv(o=t.g=e[s],i,!1,t)&&r}function qv(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var a=o.listener,l=o.la||o.src;o.ia&&jS(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Xn(Kn,pa),Kn.prototype[Yf]=!0,Kn.prototype.removeEventListener=function(n,t,e,i){oH(this,n,t,e,i)},Kn.prototype.N=function(){if(Kn.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)jv(e[i]);delete n.g[t],n.h--}}this.J=null},Kn.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Kn.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var JS=Re.JSON.stringify;function Yhe(){var n=eE;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var lH=new class qhe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Khe,n=>n.reset());class Khe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Qhe(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Zhe(n){Re.setTimeout(()=>{throw n},0)}let Xf,Kf=!1,eE=new class Xhe{constructor(){this.h=this.g=null}add(t,e){const i=lH.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},cH=()=>{const n=Re.Promise.resolve(void 0);Xf=()=>{n.then(Jhe)}};var Jhe=()=>{for(var n;n=Yhe();){try{n.h.call(n.g)}catch(e){Zhe(e)}var t=lH;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Kf=!1};function Yv(n,t){Kn.call(this),this.h=n||1,this.g=t||Re,this.j=Ti(this.qb,this),this.l=Date.now()}function tE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function nE(n,t,e){if("function"==typeof n)e&&(n=Ti(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ti(n.handleEvent,n)}return 2147483647<Number(t)?-1:Re.setTimeout(n,t||0)}function uH(n){n.g=nE(()=>{n.g=null,n.i&&(n.i=!1,uH(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Xn(Yv,Kn),(J=Yv.prototype).ga=!1,J.T=null,J.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ui(this,"tick"),this.ga&&(tE(this),this.start()))}},J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J.N=function(){Yv.$.N.call(this),tE(this),delete this.g};class efe extends pa{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:uH(this)}N(){super.N(),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qf(n){pa.call(this),this.h=n,this.g={}}Xn(Qf,pa);var dH=[];function hH(n,t,e,i){Array.isArray(e)||(e&&(dH[0]=e.toString()),e=dH);for(var r=0;r<e.length;r++){var s=iH(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function fH(n){zS(n.g,function(t,e){this.g.hasOwnProperty(e)&&XS(t)},n),n.g={}}function Xv(){this.g=!0}function Mu(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function rfe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return JS(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Qf.prototype.N=function(){Qf.$.N.call(this),fH(this)},Qf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xv.prototype.Ea=function(){this.g=!1},Xv.prototype.info=function(){};var Tl={},pH=null;function Kv(){return pH=pH||new Kn}function gH(n){Ci.call(this,Tl.Ta,n)}function Zf(n){const t=Kv();ui(t,new gH(t))}function mH(n,t){Ci.call(this,Tl.STAT_EVENT,n),this.stat=t}function Hi(n){const t=Kv();ui(t,new mH(t,n))}function _H(n,t){Ci.call(this,Tl.Ua,n),this.size=t}function Jf(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){n()},t)}Tl.Ta="serverreachability",Xn(gH,Ci),Tl.STAT_EVENT="statevent",Xn(mH,Ci),Tl.Ua="timingevent",Xn(_H,Ci);var Qv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vH={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iE(){}function xH(){}iE.prototype.h=null;var oE,ep={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rE(){Ci.call(this,"d")}function sE(){Ci.call(this,"c")}function Zv(){}function tp(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Qf(this),this.P=sfe,this.V=new Yv(n=VS?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bH}function bH(){this.i=null,this.g="",this.h=!1}Xn(rE,Ci),Xn(sE,Ci),Xn(Zv,iE),Zv.prototype.g=function(){return new XMLHttpRequest},Zv.prototype.i=function(){return{}},oE=new Zv;var sfe=45e3,TH={},aE={};function lE(n,t,e){n.L=1,n.A=ny(wo(t)),n.u=e,n.S=!0,CH(n,null)}function CH(n,t){n.G=Date.now(),np(n),n.B=wo(n.A);var e=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),RH(e.i,"t",i),n.o=0,e=n.l.J,n.h=new bH,n.g=iG(n.l,e?t:null,!n.u),0<n.O&&(n.M=new efe(Ti(n.Pa,n,n.g),n.O)),hH(n.U,n.g,"readystatechange",n.nb),t=n.I?eH(n.I):{},n.u?(n.v||(n.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,t)):(n.v="GET",n.g.ha(n.B,n.v,null,t)),Zf(),function tfe(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function wH(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function DH(n,t,e){let r,i=!0;for(;!n.J&&n.o<e.length;){if(r=ofe(n,e),r==aE){4==t&&(n.s=4,Hi(14),i=!1),Mu(n.j,n.m,null,"[Incomplete Response]");break}if(r==TH){n.s=4,Hi(15),Mu(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Mu(n.j,n.m,r,null),cE(n,r)}wH(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=t||0!=e.length||n.h.h||(n.s=1,Hi(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),mE(t),t.M=!0,Hi(11))):(Mu(n.j,n.m,e,"[Invalid Chunked Response]"),Cl(n),ip(n))}function ofe(n,t){var e=n.o,i=t.indexOf("\n",e);return-1==i?aE:(e=Number(t.substring(e,i)),isNaN(e)?TH:(i+=1)+e>t.length?aE:(t=t.slice(i,i+e),n.o=i+e,t))}function np(n){n.Y=Date.now()+n.P,SH(n,n.P)}function SH(n,t){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Jf(Ti(n.lb,n),t)}function Jv(n){n.C&&(Re.clearTimeout(n.C),n.C=null)}function ip(n){0==n.l.H||n.J||JH(n.l,n)}function Cl(n){Jv(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,tE(n.V),fH(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function cE(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||uE(e.i,n)))if(!n.K&&uE(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;ly(e),oy(e)}gE(e),Hi(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Jf(Ti(e.ib,e),6e3));if(1>=LH(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Dl(e,11)}else if((n.K||e.g==n)&&ly(e),!Wf(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const u=c[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const d=c[4];null!=d&&(e.Ga=d,e.l.info("SVER="+e.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(e.L=i=1.5*h,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(dE(s,s.h),s.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,jt(i.I,i.F,m))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=nG(i,i.J?i.pa:null,i.Y),o.K){FH(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(Jv(a),np(a)),i.g=o}else QH(i);0<e.j.length&&ay(e)}else"stop"!=c[0]&&"close"!=c[0]||Dl(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Dl(e,7):pE(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}Zf()}catch{}}function EH(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Gv(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function lfe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gv(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function afe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gv(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(J=tp.prototype).setTimeout=function(n){this.P=n},J.nb=function(n){n=n.target;const t=this.M;t&&3==Fs(n)?t.l():this.Pa(n)},J.Pa=function(n){try{if(n==this.g)e:{const u=Fs(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||VS||this.g&&(this.h.h||this.g.ja()||jH(this.g)))){this.J||4!=u||7==t||Zf(),Jv(this);var e=this.g.da();this.ca=e;t:if(wH(this)){var i=jH(this.g);n="";var r=i.length,s=4==Fs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cl(this),ip(this);var o="";break t}this.h.i=new Re.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function nfe(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wf(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.s=3,Hi(12),Cl(this),ip(this);break e}Mu(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cE(this,e)}this.S?(DH(this,u,o),VS&&this.i&&3==u&&(hH(this.U,this.V,"tick",this.mb),this.V.start())):(Mu(this.j,this.m,o,null),cE(this,o)),4==u&&Cl(this),this.i&&!this.J&&(4==u?JH(this.l,this):(this.i=!1,np(this)))}else(function Sfe(n){const t={};n=(n.g&&2<=Fs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Wf(n[i]))continue;var e=Qhe(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function zhe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.s=3,Hi(12)):(this.s=0,Hi(13)),Cl(this),ip(this)}}}catch{}},J.mb=function(){if(this.g){var n=Fs(this.g),t=this.g.ja();this.o<t.length&&(Jv(this),DH(this,n,t),this.i&&4!=n&&np(this))}},J.cancel=function(){this.J=!0,Cl(this)},J.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function ife(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(Zf(),Hi(17)),Cl(this),this.s=2,ip(this)):SH(this,this.Y-n)};var AH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof wl){this.h=n.h,ey(this,n.j),this.s=n.s,this.g=n.g,ty(this,n.m),this.l=n.l;var t=n.i,e=new op;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),IH(this,e),this.o=n.o}else n&&(t=String(n).match(AH))?(this.h=!1,ey(this,t[1]||"",!0),this.s=rp(t[2]||""),this.g=rp(t[3]||"",!0),ty(this,t[4]),this.l=rp(t[5]||"",!0),IH(this,t[6]||"",!0),this.o=rp(t[7]||"")):(this.h=!1,this.i=new op(null,this.h))}function wo(n){return new wl(n)}function ey(n,t,e){n.j=e?rp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function ty(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function IH(n,t,e){t instanceof op?(n.i=t,function gfe(n,t){t&&!n.j&&(ga(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(MH(this,i),RH(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=sp(t,ffe)),n.i=new op(t,n.h))}function jt(n,t,e){n.i.set(t,e)}function ny(n){return jt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,ufe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ufe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}wl.prototype.toString=function(){var n=[],t=this.j;t&&n.push(sp(t,kH,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(sp(t,kH,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(sp(e,"/"==e.charAt(0)?hfe:dfe,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",sp(e,pfe)),n.join("")};var kH=/[#\/\?@]/g,dfe=/[#\?:]/g,hfe=/[#\?]/g,ffe=/[#\?@]/g,pfe=/#/g;function op(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function ga(n){n.g||(n.g=new Map,n.h=0,n.i&&function cfe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function MH(n,t){ga(n),t=Nu(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function NH(n,t){return ga(n),t=Nu(n,t),n.g.has(t)}function RH(n,t,e){MH(n,t),0<e.length&&(n.i=null,n.g.set(Nu(n,t),LS(e)),n.h+=e.length)}function Nu(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function PH(n){this.l=n||_fe,n=Re.PerformanceNavigationTiming?0<(n=Re.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Re.g&&Re.g.Ka&&Re.g.Ka()&&Re.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(J=op.prototype).add=function(n,t){ga(this),this.i=null,n=Nu(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},J.forEach=function(n,t){ga(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},J.ta=function(){ga(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},J.Z=function(n){ga(this);let t=[];if("string"==typeof n)NH(this,n)&&(t=t.concat(this.g.get(Nu(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},J.set=function(n,t){return ga(this),this.i=null,NH(this,n=Nu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},J.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var _fe=10;function OH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function LH(n){return n.h?1:n.g?n.g.size:0}function uE(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function dE(n,t){n.g?n.g.add(t):n.h=t}function FH(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function VH(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return LS(n.i)}PH.prototype.cancel=function(){if(this.i=VH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var vfe=class{stringify(n){return Re.JSON.stringify(n,void 0)}parse(n){return Re.JSON.parse(n,void 0)}};function yfe(){this.g=new vfe}function xfe(n,t,e){const i=e||"";try{EH(n,function(r,s){let o=r;jf(r)&&(o=JS(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function iy(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function ap(n){this.l=n.ec||null,this.j=n.ob||!1}function ry(n,t){Kn.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=hE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xn(ap,iE),ap.prototype.g=function(){return new ry(this.l,this.j)},ap.prototype.i=function(n){return function(){return n}}({}),Xn(ry,Kn);var hE=0;function BH(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function lp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,cp(n)}function cp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(J=ry.prototype).open=function(n,t){if(this.readyState!=hE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,cp(this)},J.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Re).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lp(this)),this.readyState=hE},J.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,cp(this)),this.g&&(this.readyState=3,cp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Re.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BH(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},J.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?lp(this):cp(this),3==this.readyState&&BH(this)}},J.Za=function(n){this.g&&(this.response=this.responseText=n,lp(this))},J.Ya=function(n){this.g&&(this.response=n,lp(this))},J.ka=function(){this.g&&lp(this)},J.setRequestHeader=function(n,t){this.v.append(n,t)},J.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},J.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(ry.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Tfe=Re.JSON.parse;function fn(n){Kn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$H,this.L=this.M=!1}Xn(fn,Kn);var $H="",Cfe=/^https?$/i,wfe=["POST","PUT"];function HH(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,GH(n),sy(n)}function GH(n){n.F||(n.F=!0,ui(n,"complete"),ui(n,"error"))}function UH(n){if(n.h&&typeof PS<"u"&&(!n.C[1]||4!=Fs(n)||2!=n.da()))if(n.v&&4==Fs(n))nE(n.La,0,n);else if(ui(n,"readystatechange"),4==Fs(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match(AH)[1]||null;!r&&Re.self&&Re.self.location&&(r=Re.self.location.protocol.slice(0,-1)),i=!Cfe.test(r?r.toLowerCase():"")}e=i}if(e)ui(n,"complete"),ui(n,"success");else{n.m=6;try{var s=2<Fs(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",GH(n)}}finally{sy(n)}}}function sy(n,t){if(n.g){zH(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||ui(n,"ready");try{e.onreadystatechange=i}catch{}}}function zH(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Re.clearTimeout(n.A),n.A=null)}function Fs(n){return n.g?n.g.readyState:0}function jH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case $H:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function WH(n){let t="";return zS(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function fE(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=WH(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):jt(n,t,e))}function up(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function qH(n){this.Ga=0,this.j=[],this.l=new Xv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=up("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=up("baseRetryDelayMs",5e3,n),this.hb=up("retryDelaySeedMs",1e4,n),this.eb=up("forwardChannelMaxRetries",2,n),this.xa=up("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new PH(n&&n.concurrentRequestLimit),this.Ja=new yfe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pE(n){if(YH(n),3==n.H){var t=n.W++,e=wo(n.I);if(jt(e,"SID",n.K),jt(e,"RID",t),jt(e,"TYPE","terminate"),dp(n,e),(t=new tp(n,n.l,t)).L=2,t.A=ny(wo(e)),e=!1,Re.navigator&&Re.navigator.sendBeacon)try{e=Re.navigator.sendBeacon(t.A.toString(),"")}catch{}!e&&Re.Image&&((new Image).src=t.A,e=!0),e||(t.g=iG(t.l,null),t.g.ha(t.A)),t.G=Date.now(),np(t)}tG(n)}function oy(n){n.g&&(mE(n),n.g.cancel(),n.g=null)}function YH(n){oy(n),n.u&&(Re.clearTimeout(n.u),n.u=null),ly(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Re.clearTimeout(n.m),n.m=null)}function ay(n){if(!OH(n.i)&&!n.m){n.m=!0;var t=n.Na;Xf||cH(),Kf||(Xf(),Kf=!0),eE.add(t,n),n.C=0}}function XH(n,t){var e;e=t?t.m:n.W++;const i=wo(n.I);jt(i,"SID",n.K),jt(i,"RID",e),jt(i,"AID",n.V),dp(n,i),n.o&&n.s&&fE(i,n.o,n.s),e=new tp(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=KH(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),dE(n.i,e),lE(e,i,t)}function dp(n,t){n.na&&zS(n.na,function(e,i){jt(t,i,e)}),n.h&&EH({},function(e,i){jt(t,i,e)})}function KH(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Ti(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{xfe(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function QH(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Xf||cH(),Kf||(Xf(),Kf=!0),eE.add(t,n),n.A=0}}function gE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Jf(Ti(n.Ma,n),eG(n,n.A)),n.A++,0))}function mE(n){null!=n.B&&(Re.clearTimeout(n.B),n.B=null)}function ZH(n){n.g=new tp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=wo(n.wa);jt(t,"RID","rpc"),jt(t,"SID",n.K),jt(t,"AID",n.V),jt(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&jt(t,"TO",n.qa),jt(t,"TYPE","xmlhttp"),dp(n,t),n.o&&n.s&&fE(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.A=ny(wo(t)),e.u=null,e.S=!0,CH(e,n)}function ly(n){null!=n.v&&(Re.clearTimeout(n.v),n.v=null)}function JH(n,t){var e=null;if(n.g==t){ly(n),mE(n),n.g=null;var i=2}else{if(!uE(n.i,t))return;e=t.F,FH(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.u?t.u.length:0,t=Date.now()-t.G;var r=n.C;ui(i=Kv(),new _H(i,e)),ay(n)}else QH(n);else if(3==(r=t.s)||0==r&&0<t.ca||!(1==i&&function Efe(n,t){return!(LH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Jf(Ti(n.Na,n,t),eG(n,n.C)),n.C++,0)))}(n,t)||2==i&&gE(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Dl(n,5);break;case 4:Dl(n,10);break;case 3:Dl(n,6);break;default:Dl(n,2)}}function eG(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Dl(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Ti(n.pb,n);e||(e=new wl("//www.google.com/images/cleardot.gif"),Re.location&&"http"==Re.location.protocol||ey(e,"https"),ny(e)),function bfe(n,t){const e=new Xv;if(Re.Image){const i=new Image;i.onload=Uv(iy,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Uv(iy,e,i,"TestLoadImage: error",!1,t),i.onabort=Uv(iy,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Uv(iy,e,i,"TestLoadImage: timeout",!1,t),Re.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Hi(2);n.H=0,n.h&&n.h.za(t),tG(n),YH(n)}function tG(n){if(n.H=0,n.ma=[],n.h){const t=VH(n.i);(0!=t.length||0!=n.j.length)&&(X3(n.ma,t),X3(n.ma,n.j),n.i.i.length=0,LS(n.j),n.j.length=0),n.h.ya()}}function nG(n,t,e){var i=e instanceof wl?wo(e):new wl(e);if(""!=i.g)t&&(i.g=t+"."+i.g),ty(i,i.m);else{var r=Re.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new wl(null);i&&ey(s,i),t&&(s.g=t),r&&ty(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&jt(i,e,t),jt(i,"VER",n.ra),dp(n,i),i}function iG(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new fn(n.Ha&&!n.va?new ap({ob:e}):n.va)).Oa(n.J),t}function rG(){}function cy(){if(ku&&!(10<=Number($he)))throw Error("Environmental error: no available transport.")}function xr(n,t){Kn.call(this),this.g=new qH(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Wf(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Wf(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Ru(this)}function sG(n){rE.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function oG(){sE.call(this),this.status=1}function Ru(n){this.g=n}function ls(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _E(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function St(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(J=fn.prototype).Oa=function(n){this.M=n},J.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oE.g(),this.C=function yH(n){return n.h||(n.h=n.i())}(this.u?this.u:oE),this.g.onreadystatechange=Ti(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void HH(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Re.FormData&&n instanceof Re.FormData,!(0<=Y3(wfe,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zH(this),0<this.B&&((this.L=function Dfe(n){return ku&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ti(this.ua,this)):this.A=nE(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){HH(this,s)}},J.ua=function(){typeof PS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ui(this,"timeout"),this.abort(8))},J.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ui(this,"complete"),ui(this,"abort"),sy(this))},J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sy(this,!0)),fn.$.N.call(this)},J.La=function(){this.s||(this.G||this.v||this.l?UH(this):this.kb())},J.kb=function(){UH(this)},J.isActive=function(){return!!this.g},J.da=function(){try{return 2<Fs(this)?this.g.status:-1}catch{return-1}},J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},J.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Tfe(t)}},J.Ia=function(){return this.m},J.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(J=qH.prototype).ra=8,J.H=1,J.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new tp(this,this.l,n);let s=this.s;if(this.U&&(s?(s=eH(s),nH(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=KH(this,r,t),jt(e=wo(this.I),"RID",n),jt(e,"CVER",22),this.F&&jt(e,"X-HTTP-Session-Id",this.F),dp(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(WH(s)))+"&"+t:this.o&&fE(e,this.o,s)),dE(this.i,r),this.bb&&jt(e,"TYPE","init"),this.P?(jt(e,"$req",t),jt(e,"SID","null"),r.aa=!0,lE(r,e,null)):lE(r,e,t),this.H=2}}else 3==this.H&&(n?XH(this,n):0==this.j.length||OH(this.i)||XH(this))},J.Ma=function(){if(this.u=null,ZH(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Jf(Ti(this.jb,this),n)}},J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hi(10),oy(this),ZH(this))},J.ib=function(){null!=this.v&&(this.v=null,oy(this),gE(this),Hi(19))},J.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Hi(2)):(this.l.info("Failed to ping google.com"),Hi(1))},J.isActive=function(){return!!this.h&&this.h.isActive(this)},(J=rG.prototype).Ba=function(){},J.Aa=function(){},J.za=function(){},J.ya=function(){},J.isActive=function(){return!0},J.Va=function(){},cy.prototype.g=function(n,t){return new xr(n,t)},Xn(xr,Kn),xr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Hi(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=nG(n,null,n.Y),ay(n)},xr.prototype.close=function(){pE(this.g)},xr.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=JS(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&ay(t)},xr.prototype.N=function(){this.g.h=null,delete this.j,pE(this.g),delete this.g,xr.$.N.call(this)},Xn(sG,rE),Xn(oG,sE),Xn(Ru,rG),Ru.prototype.Ba=function(){ui(this.g,"a")},Ru.prototype.Aa=function(n){ui(this.g,new sG(n))},Ru.prototype.za=function(n){ui(this.g,new oG)},Ru.prototype.ya=function(){ui(this.g,"b")},Xn(ls,function Afe(){this.blockSize=-1}),ls.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ls.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)_E(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){_E(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){_E(this,i),r=0;break}}this.h=r,this.i+=t},ls.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var Ife={};function vE(n){return-128<=n&&128>n?function Fhe(n,t){var e=Ife;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new St([0|t],0>t?-1:0)}):new St([0|n],0>n?-1:0)}function Vs(n){if(isNaN(n)||!isFinite(n))return Pu;if(0>n)return di(Vs(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=yE;return new St(t,0)}var yE=4294967296,Pu=vE(0),xE=vE(1),lG=vE(16777216);function Do(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function jr(n){return-1==n.h}function di(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new St(e,~n.h).add(xE)}function uy(n,t){return n.add(di(t))}function dy(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function hp(n,t){this.g=n,this.h=t}function hy(n,t){if(Do(t))throw Error("division by zero");if(Do(n))return new hp(Pu,Pu);if(jr(n))return t=hy(di(n),t),new hp(di(t.g),di(t.h));if(jr(t))return t=hy(n,di(t)),new hp(di(t.g),t.h);if(30<n.g.length){if(jr(n)||jr(t))throw Error("slowDivide_ only works with positive integers.");for(var e=xE,i=t;0>=i.X(n);)e=cG(e),i=cG(i);var r=Ou(e,1),s=Ou(i,1);for(i=Ou(i,2),e=Ou(e,2);!Do(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=Ou(i,1),e=Ou(e,1)}return t=uy(n,r.R(t)),new hp(r,t)}for(r=Pu;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=Vs(e)).R(t);jr(o)||0<o.X(n);)o=(s=Vs(e-=i)).R(t);Do(s)&&(s=xE),r=r.add(s),n=uy(n,o)}return new hp(r,n)}function cG(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new St(e,n.h)}function Ou(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new St(r,n.h)}(J=St.prototype).ea=function(){if(jr(this))return-di(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:yE+i)*t,t*=yE}return n},J.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Do(this))return"0";if(jr(this))return"-"+di(this).toString(n);for(var t=Vs(Math.pow(n,6)),e=this,i="";;){var r=hy(e,t).g,s=((0<(e=uy(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Do(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},J.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},J.X=function(n){return jr(n=uy(this,n))?-1:Do(n)?0:1},J.abs=function(){return jr(this)?di(this):this},J.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new St(e,-2147483648&e[e.length-1]?-1:0)},J.R=function(n){if(Do(this)||Do(n))return Pu;if(jr(this))return jr(n)?di(this).R(di(n)):di(di(this).R(n));if(jr(n))return di(this.R(di(n)));if(0>this.X(lG)&&0>n.X(lG))return Vs(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=o*l,dy(e,2*i+2*r),e[2*i+2*r+1]+=s*l,dy(e,2*i+2*r+1),e[2*i+2*r+1]+=o*a,dy(e,2*i+2*r+1),e[2*i+2*r+2]+=s*a,dy(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new St(e,0)},J.gb=function(n){return hy(this,n).h},J.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new St(e,this.h&n.h)},J.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new St(e,this.h|n.h)},J.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new St(e,this.h^n.h)},cy.prototype.createWebChannel=cy.prototype.g,xr.prototype.send=xr.prototype.u,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,Qv.NO_ERROR=0,Qv.TIMEOUT=8,Qv.HTTP_ERROR=6,vH.COMPLETE="complete",xH.EventType=ep,ep.OPEN="a",ep.CLOSE="b",ep.ERROR="c",ep.MESSAGE="d",Kn.prototype.listen=Kn.prototype.O,fn.prototype.listenOnce=fn.prototype.P,fn.prototype.getLastError=fn.prototype.Sa,fn.prototype.getLastErrorCode=fn.prototype.Ia,fn.prototype.getStatus=fn.prototype.da,fn.prototype.getResponseJson=fn.prototype.Wa,fn.prototype.getResponseText=fn.prototype.ja,fn.prototype.send=fn.prototype.ha,fn.prototype.setWithCredentials=fn.prototype.Oa,ls.prototype.digest=ls.prototype.l,ls.prototype.reset=ls.prototype.reset,ls.prototype.update=ls.prototype.j,St.prototype.add=St.prototype.add,St.prototype.multiply=St.prototype.R,St.prototype.modulo=St.prototype.gb,St.prototype.compare=St.prototype.X,St.prototype.toNumber=St.prototype.ea,St.prototype.toString=St.prototype.toString,St.prototype.getBits=St.prototype.D,St.fromNumber=Vs,St.fromString=function aG(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return di(aG(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Vs(Math.pow(t,8)),i=Pu,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=Vs(Math.pow(t,s)),i=i.R(s).add(Vs(o))):i=(i=i.R(e)).add(Vs(o))}return i};var kfe=as.createWebChannelTransport=function(){return new cy},Mfe=as.getStatEventTarget=function(){return Kv()},bE=as.ErrorCode=Qv,Nfe=as.EventType=vH,Rfe=as.Event=Tl,uG=as.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fy=(as.FetchXmlHttpFactory=ap,as.WebChannel=xH),Pfe=as.XhrIo=fn,Ofe=as.Md5=ls,Lu=as.Integer=St;const dG="@firebase/firestore";class Qn{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");let Fu="10.7.0";const ma=new l1("@firebase/firestore");function Vu(){return ma.logLevel}function L(n,...t){if(ma.logLevel<=it.DEBUG){const e=t.map(TE);ma.debug(`Firestore (${Fu}): ${n}`,...e)}}function yn(n,...t){if(ma.logLevel<=it.ERROR){const e=t.map(TE);ma.error(`Firestore (${Fu}): ${n}`,...e)}}function br(n,...t){if(ma.logLevel<=it.WARN){const e=t.map(TE);ma.warn(`Firestore (${Fu}): ${n}`,...e)}}function TE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function le(n="Unexpected state"){const t=`FIRESTORE (${Fu}) INTERNAL ASSERTION FAILED: `+n;throw yn(t),new Error(t)}function pe(n,t){n||le()}function q(n,t){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends ua{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zn{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class hG{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Lfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Qn.UNAUTHENTICATED))}shutdown(){}}class Ffe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Vfe{constructor(t){this.t=t,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let o=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zn,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable(A(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zn)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pe("string"==typeof i.accessToken),new hG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return pe(null===t||"string"==typeof t),new Qn(t)}}class Bfe{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $fe{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new Bfe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hfe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(pe("string"==typeof e.token),this.R=e.token,new fG(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gfe(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class pG{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Gfe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Ie(n,t){return n<t?-1:n>t?1:0}function Bu(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class sn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new F(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new F(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new F(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return sn.fromMillis(Date.now())}static fromDate(t){return sn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new sn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ie(this.nanoseconds,t.nanoseconds):Ie(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ge{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ge(t)}static min(){return new ge(new sn(0,0))}static max(){return new ge(new sn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fp{constructor(t,e,i){void 0===e?e=0:e>t.length&&le(),void 0===i?i=t.length-e:i>t.length-e&&le(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===fp.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof fp?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ot extends fp{construct(t,e,i){return new ot(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new F(E.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ot(e)}static emptyPath(){return new ot([])}}const Ufe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends fp{construct(t,e,i){return new Zt(t,e,i)}static isValidIdentifier(t){return Ufe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zt(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new F(E.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new F(E.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new F(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new F(E.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zt(e)}static emptyPath(){return new Zt([])}}class X{constructor(t){this.path=t}static fromPath(t){return new X(ot.fromString(t))}static fromName(t){return new X(ot.fromString(t).popFirst(5))}static empty(){return new X(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ot.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ot.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new X(new ot(t.slice()))}}function _G(n){return new Tr(n.readTime,n.key,-1)}class Tr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Tr(ge.min(),X.empty(),-1)}static max(){return new Tr(ge.max(),X.empty(),-1)}}function wE(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=X.comparator(n.documentKey,t.documentKey),0!==e?e:Ie(n.largestBatchId,t.largestBatchId))}const vG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wfe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function _a(n){return DE.apply(this,arguments)}function DE(){return DE=A(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==vG)throw n;L("LocalStore","Unexpectedly lost primary lease")}),DE.apply(this,arguments)}class C{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new C((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof C?e:C.resolve(e)}catch(e){return C.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):C.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):C.reject(e)}static resolve(t){return new C((e,i)=>{e(t)})}static reject(t){return new C((e,i)=>{i(t)})}static waitFor(t){return new C((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=C.resolve(!1);for(const i of t)e=e.next(r=>r?C.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new C((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(t,e){return new C((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}function va(n){return"IndexedDbTransactionError"===n.name}let Cr=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function gp(n){return null==n}function mp(n){return 0===n&&1/n==-1/0}function EG(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ya(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function AG(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Bt{constructor(t,e){this.comparator=t,this.root=e||hi.EMPTY}insert(t,e){return new Bt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,hi.BLACK,null,null))}remove(t){return new Bt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,hi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new my(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new my(this.root,t,this.comparator,!1)}getReverseIterator(){return new my(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new my(this.root,t,this.comparator,!0)}}class my{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class hi{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??hi.RED,this.left=r??hi.EMPTY,this.right=s??hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new hi(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return hi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const t=this.left.check();if(t!==this.right.check())throw le();return t+(this.isRed()?0:1)}}hi.EMPTY=null,hi.RED=!0,hi.BLACK=!1,hi.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(t,e,i,r,s){return this}insert(t,e,i){return new hi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class It{constructor(t){this.comparator=t,this.data=new Bt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new IG(this.data.getIterator())}getIteratorFrom(t){return new IG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof It)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new It(this.comparator);return e.data=t,e}}class IG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class tr{constructor(t){this.fields=t,t.sort(Zt.comparator)}static empty(){return new tr([])}unionWith(t){let e=new It(Zt.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new tr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Bu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class kG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kG("Invalid base64 string: "+s):s}}(t);return new jn(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new jn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ie(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const gpe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(n){if(pe(!!n),"string"==typeof n){let t=0;const e=gpe.exec(n);if(pe(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pn(n.seconds),nanos:pn(n.nanos)}}function pn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function So(n){return"string"==typeof n?jn.fromBase64String(n):jn.fromUint8Array(n)}function _y(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function vy(n){const t=n.mapValue.fields.__previous_value__;return _y(t)?vy(t):t}function _p(n){const t=xa(n.mapValue.fields.__local_write_time__.timestampValue);return new sn(t.seconds,t.nanos)}class mpe{constructor(t,e,i,r,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Il{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Il("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Il&&t.projectId===this.projectId&&t.database===this.database}}const ba={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ta(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_y(n)?4:PG(n)?9007199254740991:10:le()}function $s(n,t){if(n===t)return!0;const e=Ta(n);if(e!==Ta(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return _p(n).isEqual(_p(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=xa(r.timestampValue),a=xa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,So(n.bytesValue).isEqual(So(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return pn(r.geoPointValue.latitude)===pn(s.geoPointValue.latitude)&&pn(r.geoPointValue.longitude)===pn(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return pn(r.integerValue)===pn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=pn(r.doubleValue),a=pn(s.doubleValue);return o===a?mp(o)===mp(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Bu(n.arrayValue.values||[],t.arrayValue.values||[],$s);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(EG(o)!==EG(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!$s(o[l],a[l])))return!1;return!0}(n,t);default:return le()}var s}function vp(n,t){return void 0!==(n.values||[]).find(e=>$s(e,t))}function Ca(n,t){if(n===t)return 0;const e=Ta(n),i=Ta(t);if(e!==i)return Ie(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ie(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=pn(s.integerValue||s.doubleValue),l=pn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return MG(n.timestampValue,t.timestampValue);case 4:return MG(_p(n),_p(t));case 5:return Ie(n.stringValue,t.stringValue);case 6:return function(s,o){const a=So(s),l=So(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ie(a[c],l[c]);if(0!==u)return u}return Ie(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Ie(pn(s.latitude),pn(o.latitude));return 0!==a?a:Ie(pn(s.longitude),pn(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Ca(a[c],l[c]);if(u)return u}return Ie(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===ba.mapValue&&o===ba.mapValue)return 0;if(s===ba.mapValue)return 1;if(o===ba.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Ie(l[d],u[d]);if(0!==h)return h;const f=Ca(a[l[d]],c[u[d]]);if(0!==f)return f}return Ie(l.length,u.length)}(n.mapValue,t.mapValue);default:throw le()}}function MG(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Ie(n,t);const e=xa(n),i=xa(t),r=Ie(e.seconds,i.seconds);return 0!==r?r:Ie(e.nanos,i.nanos)}function Uu(n){return AE(n)}function AE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=xa(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?So(n.bytesValue).toBase64():"referenceValue"in n?X.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=AE(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${AE(e.fields[o])}`;return r+"}"}(n.mapValue):le()}function IE(n){return!!n&&"integerValue"in n}function yp(n){return!!n&&"arrayValue"in n}function NG(n){return!!n&&"nullValue"in n}function RG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function by(n){return!!n&&"mapValue"in n}function xp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return ya(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=xp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=xp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function PG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class fi{constructor(t){this.value=t}static empty(){return new fi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!by(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=xp(e)}setAll(t){let e=Zt.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=xp(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());by(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return $s(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];by(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ya(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new fi(xp(this.value))}}function FG(n){const t=[];return ya(n.fields,(e,i)=>{const r=new Zt([e]);if(by(i)){const s=FG(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new tr(t)}class Wt{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Wt(t,0,ge.min(),ge.min(),ge.min(),fi.empty(),0)}static newFoundDocument(t,e,i,r){return new Wt(t,1,e,ge.min(),i,r,0)}static newNoDocument(t,e){return new Wt(t,2,e,ge.min(),ge.min(),fi.empty(),0)}static newUnknownDocument(t,e){return new Wt(t,3,e,ge.min(),ge.min(),fi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ge.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Wt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wa{constructor(t,e){this.position=t,this.inclusive=e}}function VG(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?X.comparator(X.fromName(o.referenceValue),e.key):Ca(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function BG(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!$s(n.position[e],t.position[e]))return!1;return!0}class bp{constructor(t,e="asc"){this.field=t,this.dir=e}}function ype(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class $G{}class Je extends $G{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new xpe(t,e,i):"array-contains"===e?new Cpe(t,i):"in"===e?new WG(t,i):"not-in"===e?new wpe(t,i):"array-contains-any"===e?new Dpe(t,i):new Je(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new bpe(t,i):new Tpe(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Ca(e,this.value)):null!==e&&Ta(this.value)===Ta(e)&&this.matchesComparison(Ca(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Et extends $G{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Et(t,e)}matches(t){return zu(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function zu(n){return"and"===n.op}function ME(n){return function HG(n){for(const t of n.filters)if(t instanceof Et)return!1;return!0}(n)&&zu(n)}function NE(n){if(n instanceof Je)return n.field.canonicalString()+n.op.toString()+Uu(n.value);if(ME(n))return n.filters.map(t=>NE(t)).join(",");{const t=n.filters.map(e=>NE(e)).join(",");return`${n.op}(${t})`}}function GG(n,t){return n instanceof Je?(i=n,(r=t)instanceof Je&&i.op===r.op&&i.field.isEqual(r.field)&&$s(i.value,r.value)):n instanceof Et?function(i,r){return r instanceof Et&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,a)=>s&&GG(o,r.filters[a]),!0)}(n,t):void le();var i,r}function zG(n){return n instanceof Je?`${(e=n).field.canonicalString()} ${e.op} ${Uu(e.value)}`:n instanceof Et?function(e){return e.op.toString()+" {"+e.getFilters().map(zG).join(" ,")+"}"}(n):"Filter";var e}class xpe extends Je{constructor(t,e,i){super(t,e,i),this.key=X.fromName(i.referenceValue)}matches(t){const e=X.comparator(t.key,this.key);return this.matchesComparison(e)}}class bpe extends Je{constructor(t,e){super(t,"in",e),this.keys=jG(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Tpe extends Je{constructor(t,e){super(t,"not-in",e),this.keys=jG(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function jG(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>X.fromName(i.referenceValue))}class Cpe extends Je{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return yp(e)&&vp(e.arrayValue,this.value)}}class WG extends Je{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&vp(this.value.arrayValue,e)}}class wpe extends Je{constructor(t,e){super(t,"not-in",e)}matches(t){if(vp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!vp(this.value.arrayValue,e)}}class Dpe extends Je{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!yp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>vp(this.value.arrayValue,i))}}class Spe{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function RE(n,t=null,e=[],i=[],r=null,s=null,o=null){return new Spe(n,t,e,i,r,s,o)}function Ml(n){const t=q(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>NE(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),gp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Uu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Uu(i)).join(",")),t.ce=e}return t.ce}function Tp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!ype(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!GG(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!BG(n.startAt,t.startAt)&&BG(n.endAt,t.endAt)}function Ty(n){return X.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Eo{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function ju(n){return new Eo(n)}function KG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Wu(n){const t=q(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new It(Zt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new bp(s,i))}),e.has(Zt.keyField().canonicalString())||t.le.push(new bp(Zt.keyField(),i))}return t.le}function Gi(n){const t=q(n);return t.he||(t.he=function QG(n,t){if("F"===n.limitType)return RE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new bp(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new wa(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new wa(n.startAt.position,n.startAt.inclusive):null;return RE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Wu(n))),t.he}function wy(n,t,e){return new Eo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Cp(n,t){return Tp(Gi(n),Gi(t))&&n.limitType===t.limitType}function ZG(n){return`${Ml(Gi(n))}|lt:${n.limitType}`}function qu(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>zG(r)).join(", ")}]`),gp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Uu(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Uu(r)).join(",")),`Target(${i})`}(Gi(n))}; limitType=${n.limitType})`}function wp(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):X.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of Wu(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,a,l){const c=VG(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Wu(i),r)||i.endAt&&!function(o,a,l){const c=VG(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Wu(i),r)));var i,r}function eU(n){return(t,e)=>{let i=!1;for(const r of Wu(n)){const s=Epe(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Epe(n,t,e){const i=n.field.isKeyField()?X.comparator(t.key,e.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?Ca(l,c):le()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return le()}}class Ao{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ya(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return AG(this.inner)}size(){return this.innerSize}}const Ape=new Bt(X.comparator);function nr(){return Ape}const tU=new Bt(X.comparator);function Dp(...n){let t=tU;for(const e of n)t=t.insert(e.key,e);return t}function nU(n){let t=tU;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Hs(){return Sp()}function iU(){return Sp()}function Sp(){return new Ao(n=>n.toString(),(n,t)=>n.isEqual(t))}const Ipe=new Bt(X.comparator),kpe=new It(X.comparator);function Ge(...n){let t=kpe;for(const e of n)t=t.add(e);return t}const Mpe=new It(Ie);function rU(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mp(t)?"-0":t}}function sU(n){return{integerValue:""+n}}function oU(n,t){return function xG(n){return"number"==typeof n&&Number.isInteger(n)&&!mp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?sU(t):rU(n,t)}class Dy{constructor(){this._=void 0}}function Npe(n,t,e){return n instanceof Yu?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&_y(s)&&(s=vy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof Nl?lU(n,t):n instanceof Rl?cU(n,t):function(r,s){const o=aU(r,s),a=uU(o)+uU(r.Ie);return IE(o)&&IE(r.Ie)?sU(a):rU(r.serializer,a)}(n,t)}function Rpe(n,t,e){return n instanceof Nl?lU(n,t):n instanceof Rl?cU(n,t):e}function aU(n,t){return n instanceof Xu?IE(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class Yu extends Dy{}class Nl extends Dy{constructor(t){super(),this.elements=t}}function lU(n,t){const e=dU(t);for(const i of n.elements)e.some(r=>$s(r,i))||e.push(i);return{arrayValue:{values:e}}}class Rl extends Dy{constructor(t){super(),this.elements=t}}function cU(n,t){let e=dU(t);for(const i of n.elements)e=e.filter(r=>!$s(r,i));return{arrayValue:{values:e}}}class Xu extends Dy{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function uU(n){return pn(n.integerValue||n.doubleValue)}function dU(n){return yp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ope{constructor(t,e){this.version=t,this.transformResults=e}}class Jt{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Jt}static exists(t){return new Jt(void 0,t)}static updateTime(t){return new Jt(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sy(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Ey{}function hU(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Qu(n.key,Jt.none()):new Ku(n.key,n.data,Jt.none());{const e=n.data,i=fi.empty();let r=new It(Zt.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Io(n.key,i,new tr(r.toArray()),Jt.none())}}function Lpe(n,t,e){n instanceof Ku?function(r,s,o){const a=r.value.clone(),l=gU(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Io?function(r,s,o){if(!Sy(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=gU(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(pU(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Ap(n,t,e,i){return n instanceof Ku?function(s,o,a,l){if(!Sy(s.precondition,o))return a;const c=s.value.clone(),u=mU(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof Io?function(s,o,a,l){if(!Sy(s.precondition,o))return a;const c=mU(s.fieldTransforms,l,o),u=o.data;return u.setAll(pU(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,t,e,i):(a=e,Sy(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Fpe(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=aU(i.transform,r||null);null!=s&&(null===e&&(e=fi.empty()),e.set(i.field,s))}return e||null}function fU(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Bu(i,r,(s,o)=>function Ppe(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Nl&&r instanceof Nl||i instanceof Rl&&r instanceof Rl?Bu(i.elements,r.elements,$s):i instanceof Xu&&r instanceof Xu?$s(i.Ie,r.Ie):i instanceof Yu&&r instanceof Yu);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class Ku extends Ey{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Io extends Ey{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pU(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function gU(n,t,e){const i=new Map;pe(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,Rpe(o,a,e[r]))}return i}function mU(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,Npe(s,o,t))}return i}class Qu extends Ey{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FE extends Ey{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VE{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&Lpe(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ap(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ap(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=iU();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=hU(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ge())}isEqual(t){return this.batchId===t.batchId&&Bu(this.mutations,t.mutations,(e,i)=>fU(e,i))&&Bu(this.baseMutations,t.baseMutations,(e,i)=>fU(e,i))}}class BE{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){pe(t.mutations.length===i.length);let r=Ipe;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new BE(t,e,i,r)}}class $E{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bpe{constructor(t,e){this.count=t,this.unchangedNames=e}}var Nn,at;function vU(n){if(void 0===n)return yn("GRPC error has no .code"),E.UNKNOWN;switch(n){case Nn.OK:return E.OK;case Nn.CANCELLED:return E.CANCELLED;case Nn.UNKNOWN:return E.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return E.INTERNAL;case Nn.UNAVAILABLE:return E.UNAVAILABLE;case Nn.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Nn.NOT_FOUND:return E.NOT_FOUND;case Nn.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Nn.ABORTED:return E.ABORTED;case Nn.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Nn.DATA_LOSS:return E.DATA_LOSS;default:return le()}}(at=Nn||(Nn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";const $pe=new Lu([4294967295,4294967295],0);function xU(n){const t=function yU(){return new TextEncoder}().encode(n),e=new Ofe;return e.update(t),new Uint8Array(e.digest())}function bU(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Lu([e,i],0),new Lu([r,s],0)]}class HE{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Ip(`Invalid padding: ${e}`);if(i<0)throw new Ip(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Ip(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Ip(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=Lu.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(Lu.fromNumber(i)));return 1===r.compare($pe)&&(r=new Lu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=xU(t),[i,r]=bU(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new HE(s,r,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Te)return;const e=xU(t),[i,r]=bU(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Ip extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kp{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Mp.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new kp(ge.min(),r,new Bt(Ie),nr(),Ge())}}class Mp{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Mp(i,e,Ge(),Ge(),Ge())}}class Iy{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class TU{constructor(t,e){this.targetId=t,this.fe=e}}class CU{constructor(t,e,i=jn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class wU{constructor(){this.ge=0,this.pe=SU(),this.ye=jn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Ge(),e=Ge(),i=Ge();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:le()}}),new Mp(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=SU()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,pe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Hpe{constructor(t){this.Le=t,this.ke=new Map,this.qe=nr(),this.Qe=DU(),this.Ke=new Bt(Ie)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:le()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(Ty(s))if(0===i){const o=new X(s.path);this.We(e,o,Wt.newNoDocument(o,ge.min()))}else pe(1===i);else{const o=this.Ze(e);if(o!==i){const a=this.Xe(t),l=a?this.et(a,t,o):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,a;try{o=So(i).toUint8Array()}catch(l){if(l instanceof kG)return br("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new HE(o,r,s)}catch(l){return br(l instanceof Ip?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Ty(a.target)){const l=new X(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,Wt.newNoDocument(l,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=Ge();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new kp(t,e,this.Ke,this.qe,i);return this.qe=nr(),this.Qe=DU(),this.Ke=new Bt(Ie),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new wU,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new It(Ie),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||L("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new wU),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function DU(){return new Bt(X.comparator)}function SU(){return new Bt(X.comparator)}const Gpe={asc:"ASCENDING",desc:"DESCENDING"},Upe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zpe={and:"AND",or:"OR"};class jpe{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function GE(n,t){return n.useProto3Json||gp(t)?t:{value:t}}function Zu(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function EU(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Wpe(n,t){return Zu(n,t.toTimestamp())}function xn(n){return pe(!!n),ge.fromTimestamp(function(e){const i=xa(e);return new sn(i.seconds,i.nanos)}(n))}function UE(n,t){return(i=n,new ot(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function AU(n){const t=ot.fromString(n);return pe(FU(t)),t}function Np(n,t){return UE(n.databaseId,t.path)}function Gs(n,t){const e=AU(t);if(e.get(1)!==n.databaseId.projectId)throw new F(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new F(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new X(kU(e))}function zE(n,t){return UE(n.databaseId,t)}function Rp(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kU(n){return pe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function MU(n,t,e){return{name:Np(n,t),fields:e.value.mapValue.fields}}function RU(n,t){return{documents:[zE(n,t.path)]}}function WE(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=zE(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=zE(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return LU(Et.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Da((d=c).field),direction:Qpe(d.dir)};var d})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=GE(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function PU(n){let t=function IU(n){const t=AU(n);return 4===t.length?ot.emptyPath():kU(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){pe(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=function(d){const h=OU(d);return h instanceof Et&&ME(h)?h.getFilters():[h]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(h=>{return new bp(Ju((p=h).field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;e.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,gp(h)?null:h}(e.limit));let l=null;var d;e.startAt&&(l=new wa((d=e.startAt).values||[],!!d.before));let c=null;return e.endAt&&(c=function(d){return new wa(d.values||[],!d.before)}(e.endAt)),function XG(n,t,e,i,r,s,o,a){return new Eo(n,t,e,i,r,s,o,a)}(t,r,o,s,a,"F",l,c)}function OU(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ju(e.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ju(e.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ju(e.unaryFilter.field);return Je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ju(e.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(n):void 0!==n.fieldFilter?Je.create(Ju((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Et.create(e.compositeFilter.filters.map(i=>OU(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return le()}}(e.compositeFilter.op))}(n):le();var e}function Qpe(n){return Gpe[n]}function Zpe(n){return Upe[n]}function Jpe(n){return zpe[n]}function Da(n){return{fieldPath:n.canonicalString()}}function Ju(n){return Zt.fromServerFormat(n.fieldPath)}function LU(n){return n instanceof Je?function(e){if("=="===e.op){if(RG(e.value))return{unaryFilter:{field:Da(e.field),op:"IS_NAN"}};if(NG(e.value))return{unaryFilter:{field:Da(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(RG(e.value))return{unaryFilter:{field:Da(e.field),op:"IS_NOT_NAN"}};if(NG(e.value))return{unaryFilter:{field:Da(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(e.field),op:Zpe(e.op),value:e.value}}}(n):n instanceof Et?function(e){const i=e.getFilters().map(r=>LU(r));return 1===i.length?i[0]:{compositeFilter:{op:Jpe(e.op),filters:i}}}(n):le()}function ege(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function FU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ko{constructor(t,e,i,r,s=ge.min(),o=ge.min(),a=jn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new ko(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class VU{constructor(t){this.ut=t}}function qE(n){const t=PU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wy(t,t.limit,"L"):t}class Fl{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(pn(t.integerValue));else if("doubleValue"in t){const i=pn(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),mp(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(So(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?PG(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):le()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),X.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}Fl.St=new Fl;class lge{constructor(){this.on=new JE}addToCollectionParentIndex(t,e){return this.on.add(e),C.resolve()}getCollectionParents(t,e){return C.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return C.resolve()}deleteFieldIndex(t,e){return C.resolve()}deleteAllFieldIndexes(t){return C.resolve()}createTargetIndexes(t,e){return C.resolve()}getDocumentsMatchingTarget(t,e){return C.resolve(null)}getIndexType(t,e){return C.resolve(0)}getFieldIndexes(t,e){return C.resolve([])}getNextCollectionGroupToUpdate(t){return C.resolve(null)}getMinOffset(t,e){return C.resolve(Tr.min())}getMinOffsetFromCollectionGroup(t,e){return C.resolve(Tr.min())}updateCollectionGroup(t,e,i){return C.resolve()}updateIndexEntries(t,e){return C.resolve()}}class JE{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new It(ot.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new It(ot.comparator)).toArray()}}new Uint8Array(0);class Di{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Di(t,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Di.DEFAULT_COLLECTION_PERCENTILE=10,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Di.DEFAULT=new Di(41943040,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Di.DISABLED=new Di(-1,0,0);class Bl{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Bl(0)}static Nn(){return new Bl(-1)}}class pge{constructor(){this.changes=new Ao(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Wt.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?C.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class _ge{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class d4{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Ap(i.mutation,r,tr.empty(),sn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ge()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ge()){const r=Hs();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=Dp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=Hs();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ge()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=nr();const o=Sp(),a=Sp();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Io)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Ap(u.mutation,c,u.mutation.getFieldMask(),sn.now())):o.set(c.key,tr.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),e.forEach((c,u)=>{var d;return a.set(c,new _ge(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(t,e){const i=Sp();let r=new Bt((o,a)=>o-a),s=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||tr.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||Ge()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=iU();u.forEach(h=>{if(!s.has(h)){const f=hU(e.get(h),i.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,d))}return C.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return X.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):function PE(n){return null!==n.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):C.resolve(Hs());let a=-1,l=s;return o.next(c=>C.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?C.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,Ge())).next(u=>({batchId:a,changes:nU(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new X(e)).next(i=>{let r=Dp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=Dp();return this.indexManager.getCollectionParents(t,s).next(a=>C.forEach(a,l=>{const c=(d=e,h=l.child(s),new Eo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,Wt.newInvalidDocument(u)))});let a=Dp();return o.forEach((l,c)=>{const u=s.get(l);void 0!==u&&Ap(u.mutation,c,tr.empty(),sn.now()),wp(e,c)&&(a=a.insert(l,c))}),a})}}class vge{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return C.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:xn(r.createTime)}),C.resolve();var r}getNamedQuery(t,e){return C.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:qE(r.bundledQuery),readTime:xn(r.readTime)}),C.resolve();var r}}class yge{constructor(){this.overlays=new Bt(X.comparator),this.lr=new Map}getOverlay(t,e){return C.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Hs();return C.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),C.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),C.resolve()}getOverlaysForCollection(t,e,i){const r=Hs(),s=e.length+1,o=new X(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return C.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Bt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=Hs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Hs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return C.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new $E(e,i));let s=this.lr.get(e);void 0===s&&(s=Ge(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class eA{constructor(){this.hr=new It(Jn.Pr),this.Ir=new It(Jn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new Jn(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new Jn(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new X(new ot([])),i=new Jn(e,t),r=new Jn(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new X(new ot([])),i=new Jn(e,t),r=new Jn(e,t+1);let s=Ge();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new Jn(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Jn{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return X.comparator(t.key,e.key)||Ie(t.gr,e.gr)}static Tr(t,e){return Ie(t.gr,e.gr)||X.comparator(t.key,e.key)}}class xge{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new It(Jn.Pr)}checkEmpty(t){return C.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new VE(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new Jn(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(t,e){return C.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Jn(e,0),r=new Jn(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const a=this.wr(o.gr);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new It(Ie);return e.forEach(r=>{const s=new Jn(r,0),o=new Jn(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),C.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;X.isDocumentKey(s)||(s=s.child(""));const o=new Jn(new X(s),0);let a=new It(Ie);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),C.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){pe(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return C.forEach(e.mutations,r=>{const s=new Jn(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new Jn(e,0),r=this.yr.firstAfterOrEqual(i);return C.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return C.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class bge{constructor(t){this.Cr=t,this.docs=new Bt(X.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return C.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(e))}getEntries(t,e){let i=nr();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Wt.newInvalidDocument(r))}),C.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=nr();const o=e.path,a=new X(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||wE(_G(u),i)<=0||(r.has(u.key)||wp(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(t,e,i,r){le()}vr(t,e){return C.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Tge(this)}getSize(t){return C.resolve(this.size)}}class Tge extends pge{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),C.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class Cge{constructor(t){this.persistence=t,this.Fr=new Ao(e=>Ml(e),Tp),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Mr=0,this.Or=new eA,this.targetCount=0,this.Nr=Bl.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),C.resolve()}getLastRemoteSnapshotVersion(t){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return C.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),C.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new Bl(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,C.resolve()}updateTargetData(t,e){return this.kn(e),C.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,C.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),C.waitFor(s).next(()=>r)}getTargetCount(t){return C.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return C.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),C.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),C.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return C.resolve(i)}containsKey(t,e){return C.resolve(this.Or.containsKey(e))}}class tA{constructor(t,e){this.Br={},this.overlays={},this.Lr=new Cr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Cge(this),this.indexManager=new lge,this.remoteDocumentCache=new bge(i=>this.referenceDelegate.Qr(i)),this.serializer=new VU(e),this.Kr=new vge(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new yge,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new xge(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){L("MemoryPersistence","Starting transaction:",t);const r=new wge(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return C.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class wge extends Wfe{constructor(t){super(),this.currentSequenceNumber=t}}class Fy{constructor(t){this.persistence=t,this.Gr=new eA,this.zr=null}static jr(t){return new Fy(t)}get Hr(){if(this.zr)return this.zr;throw le()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),C.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),C.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),C.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Hr,i=>{const r=X.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,ge.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return C.or([()=>C.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class sA{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Ge(),r=Ge();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new sA(t,e.fromCache,i,r)}}class Sge{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class f4{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Sge;return this.Hi(t,e,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,e,o,a.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Vu()<=it.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",qu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),C.resolve()):(Vu()<=it.DEBUG&&L("QueryEngine","Query:",qu(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Vu()<=it.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",qu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gi(e))):C.resolve())}zi(t,e){if(KG(e))return C.resolve(null);let i=Gi(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=wy(e,null,"F"),i=Gi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Ge(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,o,l.readTime)?this.zi(t,wy(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return KG(e)||r.isEqual(ge.min())?C.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?C.resolve(null):(Vu()<=it.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qu(e)),this.Xi(t,o,e,function mG(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ge.fromTimestamp(1e9===i?new sn(e+1,0):new sn(e,i));return new Tr(r,X.empty(),t)}(r,-1)).next(a=>a))})}Yi(t,e){let i=new It(eU(t));return e.forEach((r,s)=>{wp(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return Vu()<=it.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",qu(e)),this.Gi.getDocumentsMatchingQuery(t,e,Tr.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Ege{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new Bt(Ie),this.ns=new Ao(s=>Ml(s),Tp),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new d4(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function g4(n,t){return oA.apply(this,arguments)}function oA(){return oA=A(function*(n,t){const e=q(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Ge();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),oA.apply(this,arguments)}function m4(n){const t=q(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function kge(n,t){const e=q(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function sd(n,t,e){return aA.apply(this,arguments)}function aA(){return aA=A(function*(n,t,e){const i=q(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!va(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),aA.apply(this,arguments)}function $y(n,t,e){const i=q(n);let r=ge.min(),s=Ge();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=q(l),h=d.ns.get(u);return void 0!==h?C.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(i,o,Gi(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:ge.min(),e?s:Ge())).next(a=>(function x4(n,t,e){let i=n.rs.get(t)||ge.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}(i,function JG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),a),{documents:a,ls:s})))}class hA{constructor(){this.activeTargetIds=function LE(){return Mpe}()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class C4{constructor(){this.eo=new hA,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new hA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Rge{ro(t){}shutdown(){}}class w4{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Uy=null;function pA(){return null===Uy?Uy=268435456+Math.round(2147483648*Math.random()):Uy++,"0x"+Uy.toString(16)}const Pge={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Oge{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const Si="WebChannelConnection";class Lge extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const a=pA(),l=this.So(e,i);L("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(e,l,c,r).then(u=>(L("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw br("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,i,r,s,o,a){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${Pge[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=pA();return new Promise((o,a)=>{const l=new Pfe;l.setWithCredentials(!0),l.listenOnce(Nfe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case bE.NO_ERROR:const u=l.getResponseJson();L(Si,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),o(u);break;case bE.TIMEOUT:L(Si,`RPC '${t}' ${s} timed out`),a(new F(E.DEADLINE_EXCEEDED,"Request time out"));break;case bE.HTTP_ERROR:const d=l.getStatus();if(L(Si,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(v)>=0?v:E.UNKNOWN}(f.status);a(new F(p,f.message))}else a(new F(E.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new F(E.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{L(Si,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);L(Si,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=pA(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=kfe(),a=Mfe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=s.join("");L(Si,`Creating RPC '${t}' stream ${r}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new Oge({co:g=>{f?L(Si,`Not sending because RPC '${t}' stream ${r} is closed:`,g):(h||(L(Si,`Opening RPC '${t}' stream ${r} transport.`),d.open(),h=!0),L(Si,`RPC '${t}' stream ${r} sending:`,g),d.send(g))},lo:()=>d.close()}),m=(g,v,_)=>{g.listen(v,y=>{try{_(y)}catch(b){setTimeout(()=>{throw b},0)}})};return m(d,fy.EventType.OPEN,()=>{f||L(Si,`RPC '${t}' stream ${r} transport opened.`)}),m(d,fy.EventType.CLOSE,()=>{f||(f=!0,L(Si,`RPC '${t}' stream ${r} transport closed`),p.Ro())}),m(d,fy.EventType.ERROR,g=>{f||(f=!0,br(Si,`RPC '${t}' stream ${r} transport errored:`,g),p.Ro(new F(E.UNAVAILABLE,"The operation could not be completed")))}),m(d,fy.EventType.MESSAGE,g=>{var v;if(!f){const _=g.data[0];pe(!!_);const b=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(b){L(Si,`RPC '${t}' stream ${r} received error:`,b);const D=b.status;let S=function(ve){const fe=Nn[ve];if(void 0!==fe)return vU(fe)}(D),V=b.message;void 0===S&&(S=E.INTERNAL,V="Unknown error status: "+D+" with message "+b.message),f=!0,p.Ro(new F(S,V)),d.close()}else L(Si,`RPC '${t}' stream ${r} received:`,_),p.Vo(_)}}),m(a,Rfe.STAT_EVENT,g=>{g.stat===uG.PROXY?L(Si,`RPC '${t}' stream ${r} detected buffering proxy`):g.stat===uG.NOPROXY&&L(Si,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function zy(){return typeof document<"u"?document:null}function Gp(n){return new jpe(n,!0)}class gA{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&L("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class S4{constructor(t,e,i,r,s,o,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new gA(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return A(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return A(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return A(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===E.RESOURCE_EXHAUSTED?(yn(e.toString()),yn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===E.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new F(E.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko(A(function*(){t.state=0,t.start()}))}o_(t){return L("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fge extends S4{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function Ype(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:le(),r=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(pe(void 0===u||"string"==typeof u),jn.fromBase64String(u||"")):(pe(void 0===u||u instanceof Uint8Array),jn.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=void 0===c.code?E.UNKNOWN:vU(c.code);return new F(u,c.message||"")}(o);e=new CU(i,r,s,a||null)}else if("documentChange"in t){const i=t.documentChange,r=Gs(n,i.document.name),s=xn(i.document.updateTime),o=i.document.createTime?xn(i.document.createTime):ge.min(),a=new fi({mapValue:{fields:i.document.fields}}),l=Wt.newFoundDocument(r,s,o,a);e=new Iy(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=Gs(n,i.document),s=i.readTime?xn(i.readTime):ge.min(),o=Wt.newNoDocument(r,s);e=new Iy([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=Gs(n,i.document);e=new Iy([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return le();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new Bpe(r,s);e=new TU(i.targetId,o)}}var c;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?xn(o.readTime):ge.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=Rp(this.serializer),e.addTarget=function(s,o){let a;const l=o.target;if(a=Ty(l)?{documents:RU(s,l)}:{query:WE(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=EU(s,o.resumeToken);const c=GE(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Zu(s,o.snapshotVersion.toTimestamp());const c=GE(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function Kpe(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=Rp(this.serializer),e.removeTarget=t,this.e_(e)}}class Vge extends S4{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(pe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function Xpe(n,t){return n&&n.length>0?(pe(void 0!==t),n.map(e=>function(r,s){let o=xn(r.updateTime?r.updateTime:s);return o.isEqual(ge.min())&&(o=xn(s)),new Ope(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=xn(t.commitTime);return this.listener.I_(i,e)}return pe(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Rp(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>function Pp(n,t){let e;if(t instanceof Ku)e={update:MU(n,t.key,t.value)};else if(t instanceof Qu)e={delete:Np(n,t.key)};else if(t instanceof Io)e={update:MU(n,t.key,t.data),updateMask:ege(t.fieldMask)};else{if(!(t instanceof FE))return le();e={verify:Np(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Yu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Rl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw le()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:Wpe(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:le()),e;var s}(this.serializer,i))};this.e_(e)}}class Bge extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new F(E.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new F(E.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(E.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Hge{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(yn(e),this.f_=!1):L("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Gge{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{i.enqueueAndForget(A(function*(){var l;Ia(o)&&(L("RemoteStore","Restarting streams for network reachability change."),yield(l=A(function*(u){const d=q(u);d.C_.add(4),yield od(d),d.M_.set("Unknown"),d.C_.delete(4),yield Up(d)}),function c(u){return l.apply(this,arguments)})(o))}))}),this.M_=new Hge(i,r)}}function Up(n){return _A.apply(this,arguments)}function _A(){return _A=A(function*(n){if(Ia(n))for(const t of n.v_)yield t(!0)}),_A.apply(this,arguments)}function od(n){return vA.apply(this,arguments)}function vA(){return vA=A(function*(n){for(const t of n.v_)yield t(!1)}),vA.apply(this,arguments)}function jy(n,t){const e=q(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),bA(e)?xA(e):ld(e).Ho()&&yA(e,t))}function zp(n,t){const e=q(n),i=ld(e);e.D_.delete(t),i.Ho()&&E4(e,t),0===e.D_.size&&(i.Ho()?i.Zo():Ia(e)&&e.M_.set("Unknown"))}function yA(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ge.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ld(n).u_(t)}function E4(n,t){n.x_.Oe(t),ld(n).c_(t)}function xA(n){n.x_=new Hpe({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),ld(n).start(),n.M_.g_()}function bA(n){return Ia(n)&&!ld(n).jo()&&n.D_.size>0}function Ia(n){return 0===q(n).C_.size}function A4(n){n.x_=void 0}function Uge(n){return TA.apply(this,arguments)}function TA(){return TA=A(function*(n){n.D_.forEach((t,e)=>{yA(n,t)})}),TA.apply(this,arguments)}function zge(n,t){return CA.apply(this,arguments)}function CA(){return CA=A(function*(n,t){A4(n),bA(n)?(n.M_.w_(t),xA(n)):n.M_.set("Unknown")}),CA.apply(this,arguments)}function jge(n,t,e){return wA.apply(this,arguments)}function wA(){return wA=A(function*(n,t,e){if(n.M_.set("Online"),t instanceof CU&&2===t.state&&t.cause)try{yield(i=A(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){L("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Wy(n,i)}else if(t instanceof Iy?n.x_.$e(t):t instanceof TU?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(ge.min()))try{const i=yield m4(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(jn.EMPTY_BYTE_STRING,u.snapshotVersion)),E4(s,l);const d=new ko(u.target,l,c,u.sequenceNumber);yA(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){L("RemoteStore","Failed to raise snapshot:",i),yield Wy(n,i)}var i}),wA.apply(this,arguments)}function Wy(n,t,e){return DA.apply(this,arguments)}function DA(){return DA=A(function*(n,t,e){if(!va(t))throw t;n.C_.add(1),yield od(n),n.M_.set("Offline"),e||(e=()=>m4(n.localStore)),n.asyncQueue.enqueueRetryable(A(function*(){L("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield Up(n)}))}),DA.apply(this,arguments)}function I4(n,t){return t().catch(e=>Wy(n,e,t))}function ad(n){return SA.apply(this,arguments)}function SA(){return SA=A(function*(n){const t=q(n),e=ka(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Wge(t);)try{const r=yield kge(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,qge(t,r)}catch(r){yield Wy(t,r)}k4(t)&&M4(t)}),SA.apply(this,arguments)}function Wge(n){return Ia(n)&&n.b_.length<10}function qge(n,t){n.b_.push(t);const e=ka(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function k4(n){return Ia(n)&&!ka(n).jo()&&n.b_.length>0}function M4(n){ka(n).start()}function Yge(n){return EA.apply(this,arguments)}function EA(){return EA=A(function*(n){ka(n).E_()}),EA.apply(this,arguments)}function Xge(n){return AA.apply(this,arguments)}function AA(){return AA=A(function*(n){const t=ka(n);for(const e of n.b_)t.P_(e.mutations)}),AA.apply(this,arguments)}function Kge(n,t,e){return IA.apply(this,arguments)}function IA(){return IA=A(function*(n,t,e){const i=n.b_.shift(),r=BE.from(i,t,e);yield I4(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ad(n)}),IA.apply(this,arguments)}function Qge(n,t){return kA.apply(this,arguments)}function kA(){return kA=A(function*(n,t){var e;t&&ka(n).h_&&(yield(e=A(function*(r,s){if(function _U(n){switch(n){default:return le();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(a=s.code)&&a!==E.ABORTED){const o=r.b_.shift();ka(r).Yo(),yield I4(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield ad(r)}var a}),function i(r,s){return e.apply(this,arguments)})(n,t)),k4(n)&&M4(n)}),kA.apply(this,arguments)}function N4(n,t){return MA.apply(this,arguments)}function MA(){return MA=A(function*(n,t){const e=q(n);e.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const i=Ia(e);e.C_.add(3),yield od(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield Up(e)}),MA.apply(this,arguments)}function RA(){return RA=A(function*(n,t){const e=q(n);t?(e.C_.delete(2),yield Up(e)):t||(e.C_.add(2),yield od(e),e.M_.set("Unknown"))}),RA.apply(this,arguments)}function ld(n){return n.O_||(n.O_=function(e,i,r){const s=q(e);return s.A_(),new Fge(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Uge.bind(null,n),Io:zge.bind(null,n),a_:jge.bind(null,n)}),n.v_.push(function(){var t=A(function*(e){e?(n.O_.Yo(),bA(n)?xA(n):n.M_.set("Unknown")):(yield n.O_.stop(),A4(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function ka(n){return n.N_||(n.N_=function(e,i,r){const s=q(e);return s.A_(),new Vge(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Yge.bind(null,n),Io:Qge.bind(null,n),T_:Xge.bind(null,n),I_:Kge.bind(null,n)}),n.v_.push(function(){var t=A(function*(e){e?(n.N_.Yo(),yield ad(n)):(yield n.N_.stop(),n.b_.length>0&&(L("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class PA{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new PA(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F(E.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cd(n,t){if(yn("AsyncQueue",`${t}: ${n}`),va(n))return new F(E.UNAVAILABLE,`${t}: ${n}`);throw n}class ud{constructor(t){this.comparator=t?(e,i)=>t(e,i)||X.comparator(e.key,i.key):(e,i)=>X.comparator(e.key,i.key),this.keyedMap=Dp(),this.sortedSet=new Bt(this.comparator)}static emptySet(t){return new ud(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ud)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new ud;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class R4{constructor(){this.B_=new Bt(X.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):le():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class dd{constructor(t,e,i,r,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new dd(t,e,ud.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Zge{constructor(){this.k_=void 0,this.listeners=[]}}class Jge{constructor(){this.queries=new Ao(t=>ZG(t),Cp),this.onlineState="Unknown",this.q_=new Set}}function LA(){return LA=A(function*(n,t){const e=q(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new Zge),r)try{s.k_=yield e.onListen(i)}catch(o){const a=cd(o,`Initialization of query '${qu(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&BA(e)}),LA.apply(this,arguments)}function VA(){return VA=A(function*(n,t){const e=q(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),VA.apply(this,arguments)}function eme(n,t){const e=q(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&BA(e)}function tme(n,t,e){const i=q(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function BA(n){n.q_.forEach(t=>{t.next()})}class $A{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new dd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=dd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class L4{constructor(t){this.key=t}}class F4{constructor(t){this.key=t}}class V4{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ge(),this.mutatedKeys=Ge(),this._a=eU(t),this.aa=new ud(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new R4,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,d)=>{const h=r.get(u),f=wp(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),g=!0):this.ha(h,f)||(i.track({type:2,doc:f}),g=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((u,d)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return m(f)-m(p)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(i),r=null!=r&&r;const a=e&&!r?this.Ia():[],l=0===this.oa.size&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,0!==o.length||c?{snapshot:new dd(this.query,t.aa,s,o,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new R4,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Ge(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new F4(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new L4(i))}),e}da(t){this.ia=t.ls,this.oa=Ge();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return dd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class rme{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class sme{constructor(t){this.key=t,this.Ra=!1}}class ome{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Ao(a=>ZG(a),Cp),this.fa=new Map,this.ga=new Set,this.pa=new Bt(X.comparator),this.ya=new Map,this.wa=new eA,this.Sa={},this.ba=new Map,this.Da=Bl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function ame(n,t){return HA.apply(this,arguments)}function HA(){return HA=A(function*(n,t){const e=function uI(n){const t=q(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=B4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mme.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ume.bind(null,t),t.Va.a_=eme.bind(null,t.eventManager),t.Va.Fa=tme.bind(null,t.eventManager),t}(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield function rd(n,t){const e=q(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,C.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new ko(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}(e.localStore,Gi(t)),a=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield function GA(n,t,e,i,r){return UA.apply(this,arguments)}(e,t,i,"current"===a,o.resumeToken),e.isPrimaryClient&&jy(e.remoteStore,o)}return r}),HA.apply(this,arguments)}function UA(){return UA=A(function*(n,t,e,i,r){n.va=(d,h,f)=>{return(p=A(function*(g,v,_,y){let b=v.view.ca(_);b.Zi&&(b=yield $y(g.localStore,v.query,!1).then(({documents:z})=>v.view.ca(z,b)));const D=y&&y.targetChanges.get(v.targetId),S=y&&null!=y.targetMismatches.get(v.targetId),V=v.view.applyChanges(b,g.isPrimaryClient,D,S);return JA(g,v.targetId,V.Ta),V.snapshot}),function m(g,v,_,y){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield $y(n.localStore,t,!0),o=new V4(t,s.ls),a=o.ca(s.documents),l=Mp.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);JA(n,e,c.Ta);const u=new rme(t,e,o);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),UA.apply(this,arguments)}function lme(n,t){return zA.apply(this,arguments)}function zA(){return zA=A(function*(n,t){const e=q(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!Cp(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sd(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),zp(e.remoteStore,i.targetId),hd(e,i.targetId)}).catch(_a))):(hd(e,i.targetId),yield sd(e.localStore,i.targetId,!0))}),zA.apply(this,arguments)}function jA(){return jA=A(function*(n,t,e){const i=function dI(n){const t=q(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dme.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hme.bind(null,t),t}(n);try{const r=yield function(o,a){const l=q(o),c=sn.now(),u=a.reduce((f,p)=>f.add(p.key),Ge());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=nr(),m=Ge();return l.ss.getEntries(f,u).next(g=>{p=g,p.forEach((v,_)=>{_.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(g=>{d=g;const v=[];for(const _ of a){const y=Fpe(_,d.get(_.key).overlayedDocument);null!=y&&v.push(new Io(_.key,y,FG(y.value.mapValue),Jt.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:nU(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Bt(Ie)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,e),yield Mo(i,r.changes),yield ad(i.remoteStore)}catch(r){const s=cd(r,"Failed to persist write");e.reject(s)}}),jA.apply(this,arguments)}function B4(n,t){return WA.apply(this,arguments)}function WA(){return WA=A(function*(n,t){const e=q(n);try{const i=yield function Ige(n,t){const e=q(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(e.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>e.qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var m,g,v;null!==t.targetMismatches.get(d)?f=f.withResumeToken(jn.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),g=f,v=u,(0===(m=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(s,f))});let l=nr(),c=Ge();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function _4(n,t,e){let i=Ge(),r=Ge();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=nr();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}(s,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(ge.min())){const u=e.qr.getLastRemoteSnapshotVersion(s).next(d=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.ts=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(pe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?pe(o.Ra):r.removedDocuments.size>0&&(pe(o.Ra),o.Ra=!1))}),yield Mo(e,i,t)}catch(i){yield _a(i)}}),WA.apply(this,arguments)}function $4(n,t,e){const i=q(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=q(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&BA(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function ume(n,t,e){return qA.apply(this,arguments)}function qA(){return qA=A(function*(n,t,e){const i=q(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new Bt(X.comparator);o=o.insert(s,Wt.newNoDocument(s,ge.min()));const a=Ge().add(s),l=new kp(ge.min(),new Map,new Bt(Ie),o,a);yield B4(i,l),i.pa=i.pa.remove(s),i.ya.delete(t),eI(i)}else yield sd(i.localStore,t,!1).then(()=>hd(i,t,e)).catch(_a)}),qA.apply(this,arguments)}function dme(n,t){return YA.apply(this,arguments)}function YA(){return YA=A(function*(n,t){const e=q(n),i=t.batch.batchId;try{const r=yield function Age(n,t){const e=q(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=C.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{const g=c.docVersions.get(p);pe(null!==g),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);ZA(e,i,null),QA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Mo(e,r)}catch(r){yield _a(r)}}),YA.apply(this,arguments)}function hme(n,t,e){return XA.apply(this,arguments)}function XA(){return XA=A(function*(n,t,e){const i=q(n);try{const r=yield function(o,a){const l=q(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(pe(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);ZA(i,t,e),QA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Mo(i,r)}catch(r){yield _a(r)}}),XA.apply(this,arguments)}function QA(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function ZA(n,t,e){const i=q(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function hd(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||H4(n,i)})}function H4(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(zp(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),eI(n))}function JA(n,t,e){for(const i of e)i instanceof L4?(n.wa.addReference(i.key,t),pme(n,i)):i instanceof F4?(L("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||H4(n,i.key)):le()}function pme(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(L("SyncEngine","New document in limbo: "+e),n.ga.add(i),eI(n))}function eI(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new X(ot.fromString(t)),i=n.Da.next();n.ya.set(i,new sme(e)),n.pa=n.pa.insert(e,i),jy(n.remoteStore,new ko(Gi(ju(e.path)),i,"TargetPurposeLimboResolution",Cr._e))}}function Mo(n,t,e){return tI.apply(this,arguments)}function tI(){return tI=A(function*(n,t,e){const i=q(n),r=[],s=[],o=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=sA.Qi(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.Va.a_(r),yield(a=A(function*(c,u){const d=q(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>C.forEach(u,f=>C.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>C.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!va(h))throw h;L("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),g=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,g)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,s))}),tI.apply(this,arguments)}function gme(n,t){return nI.apply(this,arguments)}function nI(){return nI=A(function*(n,t){const e=q(n);if(!e.currentUser.isEqual(t)){L("SyncEngine","User change. New user:",t.toKey());const i=yield g4(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new F(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Mo(e,i._s)}var s}),nI.apply(this,arguments)}function mme(n,t){const e=q(n),i=e.ya.get(t);if(i&&i.Ra)return Ge().add(i.key);{let r=Ge();const s=e.fa.get(t);if(!s)return r;for(const o of s){const a=e.ma.get(o);r=r.unionWith(a.view.ua)}return r}}class qy{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return A(function*(){e.serializer=Gp(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function p4(n,t,e,i){return new Ege(n,t,e,i)}(this.persistence,new f4,t.initialUser,this.serializer)}createPersistence(t){return new tA(Fy.jr,this.serializer)}createSharedClientState(t){return new C4}terminate(){var t=this;return A(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class fd{initialize(t,e){var i=this;return A(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>$4(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=gme.bind(null,i.syncEngine),yield function NA(n,t){return RA.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Jge}createDatastore(t){const e=Gp(t.databaseInfo.databaseId),i=new Lge(t.databaseInfo);return new Bge(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>$4(this.syncEngine,e,0),a=w4.D()?new w4:new Rge,new Gge(i,r,s,o,a);var i,r,s,o,a}createSyncEngine(t,e){return function(r,s,o,a,l,c,u){const d=new ome(r,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return function(){var t=A(function*(i){const r=q(i);L("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield od(r),r.F_.shutdown(),r.M_.set("Unknown")});return function e(i){return t.apply(this,arguments)}}()(this.remoteStore)}}class Yy{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):yn("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Ime{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Qn.UNAUTHENTICATED,this.clientId=pG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=A(function*(a){L("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return A(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(A(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=cd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function Xy(n,t){return hI.apply(this,arguments)}function hI(){return hI=A(function*(n,t){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=A(function*(s){i.isEqual(s)||(yield g4(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),hI.apply(this,arguments)}function fI(n,t){return pI.apply(this,arguments)}function pI(){return pI=A(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function gI(n){return mI.apply(this,arguments)}(n);L("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>N4(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>N4(t.remoteStore,s)),n._onlineComponents=t}),pI.apply(this,arguments)}function mI(){return mI=A(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function q4(n){return"FirebaseError"===n.name?n.code===E.FAILED_PRECONDITION||n.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;br("Error using user provided cache. Falling back to memory cache: "+e),yield Xy(n,new qy)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield Xy(n,new qy);return n._offlineComponents}),mI.apply(this,arguments)}function Ky(n){return _I.apply(this,arguments)}function _I(){return _I=A(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield fI(n,n._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield fI(n,new fd))),n._onlineComponents}),_I.apply(this,arguments)}function yI(){return yI=A(function*(n){const t=yield Ky(n),e=t.eventManager;return e.onListen=ame.bind(null,t.syncEngine),e.onUnlisten=lme.bind(null,t.syncEngine),e}),yI.apply(this,arguments)}function Z4(n,t,e={}){const i=new zn;return n.asyncQueue.enqueueAndForget(A(function*(){return function(s,o,a,l,c){const u=new Yy({next:h=>{o.enqueueAndForget(()=>function FA(n,t){return VA.apply(this,arguments)}(s,d)),h.fromCache&&"server"===l.source?c.reject(new F(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new $A(a,u,{includeMetadataChanges:!0,J_:!0});return function OA(n,t){return LA.apply(this,arguments)}(s,d)}(yield function gd(n){return yI.apply(this,arguments)}(n),n.asyncQueue,t,e,i)})),i.promise}function J4(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const ez=new Map;function xI(n,t,e){if(!e)throw new F(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function tz(n){if(!X.isDocumentKey(n))throw new F(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nz(n){if(X.isDocumentKey(n))throw new F(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":le()}function et(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new F(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Qy(n);throw new F(E.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class rz{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new F(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new F(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function $me(n,t,e,i){if(!0===t&&!0===i)throw new F(E.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=J4(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new F(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jp{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new F(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rz(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new Lfe;switch(i.type){case"firstParty":return new $fe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=ez.get(e);i&&(L("ComponentProvider","Removing Datastore"),ez.delete(e),i.terminate())}(this),Promise.resolve()}}class pi{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new pi(this.firestore,t,this._query)}}class bn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bn(this.firestore,t,this._key)}}class Us extends pi{constructor(t,e,i){super(t,e,ju(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bn(this.firestore,null,new X(t))}withConverter(t){return new Us(this.firestore,t,this._path)}}function Gme(n,t,...e){if(n=vo(n),xI("collection","path",t),n instanceof jp){const i=ot.fromString(t,...e);return nz(i),new Us(n,null,i)}{if(!(n instanceof bn||n instanceof Us))throw new F(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(t,...e));return nz(i),new Us(n.firestore,null,i)}}class zme{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new gA(this,"async_queue_retry"),this.iu=()=>{const e=zy();e&&L("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=zy();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=zy();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new zn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return A(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!va(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,yn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=PA.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&le()}verifyOperationInProgress(){}uu(){var t=this;return A(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}class $t extends jp{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new zme,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oz(this),this._firestoreClient.terminate()}}function Wme(n,t){const i="string"==typeof n?n:t||"(default)",r=function S$(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}("object"==typeof n?n:A$(),"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(n=>{const t=(n=>{var t,e;return null===(e=null===(t=yv())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]})(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),i]:[t.substring(0,e),i]})("firestore");s&&function Hme(n,t,e,i={}){var r;const s=(n=et(n,jp))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Qn.MOCK_USER;else{a=function ile(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_v(JSON.stringify({alg:"none",type:"JWT"})),_v(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new F(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Qn(c)}n._authCredentials=new Ffe(new hG(a,l))}}(r,...s)}return r}function Tn(n){return n._firestoreClient||oz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function oz(n){var t,e,i;const r=n._freezeSettings(),s=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new mpe(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,J4(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new Ime(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class Hl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hl(jn.fromBase64String(t))}catch(e){throw new F(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Hl(jn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class md{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new F(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cz{constructor(t){this._methodName=t}}class TI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new F(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new F(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ie(this._lat,t._lat)||Ie(this._long,t._long)}}const Yme=/^__.*__$/;class Xme{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Io(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ku(t,this.data,e,this.fieldTransforms)}}function dz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class Zy{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new Zy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return e0(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(dz(this.Iu)&&Yme.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class Kme{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Gp(t)}pu(t,e,i,r=!1){return new Zy({Iu:t,methodName:e,gu:i,path:Zt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(n){const t=n._freezeSettings(),e=Gp(n._databaseId);return new Kme(n._databaseId,!!t.ignoreUndefinedProperties,e)}function CI(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);DI("Data must be an object, but it was:",o,i);const a=mz(i,o);let l,c;if(s.merge)l=new tr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Yp(t,d,e);if(!o.contains(h))throw new F(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);vz(u,h)||u.push(h)}l=new tr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Xme(new fi(a),l,c)}function Gl(n,t){if(_z(n=vo(n)))return DI("Unsupported field value:",t,n),mz(n,t);if(n instanceof cz)return function(i,r){if(!dz(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Gl(a,r.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=vo(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return oU(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=sn.fromDate(i);return{timestampValue:Zu(r.serializer,s)}}if(i instanceof sn){const s=new sn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zu(r.serializer,s)}}if(i instanceof TI)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Hl)return{bytesValue:EU(r.serializer,i._byteString)};if(i instanceof bn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:UE(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${Qy(i)}`)}(n,t)}function mz(n,t){const e={};return AG(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ya(n,(i,r)=>{const s=Gl(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function _z(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sn||n instanceof TI||n instanceof Hl||n instanceof bn||n instanceof cz)}function DI(n,t,e){if(!_z(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=Qy(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Yp(n,t,e){if((t=vo(t))instanceof md)return t._internalPath;if("string"==typeof t)return Jy(n,t);throw e0("Field path arguments must be of type string or ",n,!1,void 0,e)}const e_e=new RegExp("[~\\*/\\[\\]]");function Jy(n,t,e){if(t.search(e_e)>=0)throw e0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new md(...t.split("."))._internalPath}catch{throw e0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function e0(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new F(E.INVALID_ARGUMENT,a+n+l)}function vz(n,t){return n.some(e=>e.isEqual(t))}class SI{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new t_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(t0("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class t_e extends SI{data(){return super.data()}}function t0(n,t){return"string"==typeof t?Jy(n,t):t instanceof md?t._internalPath:t._delegate._internalPath}class i_e{convertValue(t,e="none"){switch(Ta(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(So(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw le()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ya(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new TI(pn(t.latitude),pn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=vy(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(_p(t));default:return null}}convertTimestamp(t){const e=xa(t);return new sn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ot.fromString(t);pe(FU(i));const r=new Il(i.get(1),i.get(3)),s=new X(i.popFirst(5));return r.isEqual(e)||yn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}class Ul{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yd extends SI{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new o0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(t0("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class o0 extends yd{data(t={}){return super.data(t)}}class xd{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ul(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new o0(this._firestore,this._userDataWriter,i.key,i,new Ul(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new F(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new o0(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ul(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new o0(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ul(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:s_e(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function s_e(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}class Ma extends i_e{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bn(this.firestore,null,e)}}function o_e(n){n=et(n,pi);const t=et(n.firestore,$t),e=Tn(t),i=new Ma(t);return function yz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new F(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),Z4(e,n._query).then(r=>new xd(t,i,n,r))}function a_e(n,t){const e=et(n.firestore,$t),i=function Ume(n,t,...e){if(n=vo(n),1===arguments.length&&(t=pG.newId()),xI("doc","path",t),n instanceof jp){const i=ot.fromString(t,...e);return tz(i),new bn(n,null,new X(i))}{if(!(n instanceof bn||n instanceof Us))throw new F(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(t,...e));return tz(i),new bn(n.firestore,n instanceof Us?n.converter:null,new X(i))}}(n),r=function AI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}(n.converter,t);return function Kp(n,t){return function(i,r){const s=new zn;return i.asyncQueue.enqueueAndForget(A(function*(){return function cme(n,t,e){return jA.apply(this,arguments)}(yield function vI(n){return Ky(n).then(t=>t.syncEngine)}(i),r,s)})),s.promise}(Tn(n),t)}(e,[CI(_d(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Jt.exists(!1))]).then(()=>i)}!function(t,e=!0){Fu=Cv,Du(new fl("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new $t(new Vfe(i.getProvider("auth-internal")),new Hfe(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new F(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ur(dG,"4.4.0",t),Ur(dG,"4.4.0","esm2017")}();class No{constructor(t){return t}}const Az="firestore",MI=new ee("angularfire2.firestore-instances");function T_e(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new No(i)}}const C_e={provide:class x_e{constructor(){return b1(Az)}},deps:[[new Lr,MI]]},w_e={provide:No,useFactory:function b_e(n,t){const e=function V$(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(o=>o.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}(Az,n,t);return e&&new No(e)},deps:[[new Lr,MI],Rf]};let D_e=(()=>{class n{constructor(){Ur("angularfire",x1.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=be({providers:[w_e,C_e]})}return n})();function S_e(n,...t){return{ngModule:D_e,providers:[{provide:MI,useFactory:T_e(n),multi:!0,deps:[ze,Sn,$$,H$,[new Lr,q3],[new Lr,Nce],...t]}]}}const bd=Nf(a_e,!0),Wr=Nf(Gme,!0),Td=Nf(o_e,!0),E_e=Nf(Wme,!0);class c0{}class u0{}class zs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof zs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new zs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof zs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class A_e{encodeKey(t){return Iz(t)}encodeValue(t){return Iz(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const k_e=/%(\d[a-f0-9])/gi,M_e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Iz(n){return encodeURIComponent(n).replace(k_e,(t,e)=>M_e[e]??t)}function d0(n){return`${n}`}class Na{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new A_e,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function I_e(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(d0):[d0(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Na({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(d0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(d0(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class N_e{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function kz(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Mz(n){return typeof Blob<"u"&&n instanceof Blob}function Nz(n){return typeof FormData<"u"&&n instanceof FormData}class Qp{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function R_e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new zs),this.context||(this.context=new N_e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Na,this.urlWithParams=e}serializeBody(){return null===this.body?null:kz(this.body)||Mz(this.body)||Nz(this.body)||function P_e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Na?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nz(this.body)?null:Mz(this.body)?this.body.type||null:kz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Na?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new Qp(e,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var Cd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Cd||{});class NI{constructor(t,e=200,i="OK"){this.headers=t.headers||new zs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class RI extends NI{constructor(t={}){super(t),this.type=Cd.ResponseHeader}clone(t={}){return new RI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class wd extends NI{constructor(t={}){super(t),this.type=Cd.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new wd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Rz extends NI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function PI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let zl=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Qp)s=e;else{let l,c;l=r.headers instanceof zs?r.headers:new zs(r.headers),r.params&&(c=r.params instanceof Na?r.params:new Na({fromObject:r.params})),s=new Qp(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=xe(s).pipe(gu(l=>this.handler.handle(l)));if(e instanceof Qp||"events"===r.observe)return o;const a=o.pipe(bi(l=>l instanceof wd));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe($e(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe($e(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe($e(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe($e(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Na).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,PI(r,i))}post(e,i,r={}){return this.request("POST",e,PI(r,i))}put(e,i,r={}){return this.request("PUT",e,PI(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(G(c0))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function Lz(n,t){return t(n)}function L_e(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const V_e=new ee(""),Zp=new ee(""),Fz=new ee("");function B_e(){let n=null;return(t,e)=>{null===n&&(n=(K(V_e,{optional:!0})??[]).reduceRight(L_e,Lz));const i=K(m_),r=i.add();return n(t,e).pipe(ff(()=>i.remove(r)))}}let Vz=(()=>{class n extends c0{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=K(m_)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Zp),...this.injector.get(Fz,[])]));this.chain=r.reduceRight((s,o)=>function F_e(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),Lz)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(ff(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(G(u0),G(dr))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();const U_e=/^\)\]\}',?\n/;let $z=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new k(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Ln(i.\u0275loadImpl()):xe(null)).pipe(or(()=>new ft(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((m,g)=>o.setRequestHeader(m,g.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const m=e.detectContentTypeHeader();null!==m&&o.setRequestHeader("Content-Type",m)}if(e.responseType){const m=e.responseType.toLowerCase();o.responseType="json"!==m?m:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const m=o.statusText||"OK",g=new zs(o.getAllResponseHeaders()),v=function z_e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new RI({headers:g,status:o.status,statusText:m,url:v}),l},u=()=>{let{headers:m,status:g,statusText:v,url:_}=c(),y=null;204!==g&&(y=typeof o.response>"u"?o.responseText:o.response),0===g&&(g=y?200:0);let b=g>=200&&g<300;if("json"===e.responseType&&"string"==typeof y){const D=y;y=y.replace(U_e,"");try{y=""!==y?JSON.parse(y):null}catch(S){y=D,b&&(b=!1,y={error:S,text:y})}}b?(s.next(new wd({body:y,headers:m,status:g,statusText:v,url:_||void 0})),s.complete()):s.error(new Rz({error:y,headers:m,status:g,statusText:v,url:_||void 0}))},d=m=>{const{url:g}=c(),v=new Rz({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:g||void 0});s.error(v)};let h=!1;const f=m=>{h||(s.next(c()),h=!0);let g={type:Cd.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),"text"===e.responseType&&o.responseText&&(g.partialText=o.responseText),s.next(g)},p=m=>{let g={type:Cd.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:Cd.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(G(K2))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();const OI=new ee("XSRF_ENABLED"),Hz=new ee("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Gz=new ee("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Uz{}let q_e=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=H2(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(G(An),G(hr),G(Hz))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac})}return n})();function Y_e(n,t){const e=n.url.toLowerCase();if(!K(OI)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=K(Uz).getToken(),r=K(Gz);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Ra=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Ra||{});function X_e(...n){const t=[zl,$z,Vz,{provide:c0,useExisting:Vz},{provide:u0,useExisting:$z},{provide:Zp,useValue:Y_e,multi:!0},{provide:OI,useValue:!0},{provide:Uz,useClass:q_e}];for(const e of n)t.push(...e.\u0275providers);return function Qb(n){return{\u0275providers:n}}(t)}const zz=new ee("LEGACY_INTERCEPTOR_FN");function K_e(){return function jl(n,t){return{\u0275kind:n,\u0275providers:t}}(Ra.LegacyInterceptors,[{provide:zz,useFactory:B_e},{provide:Zp,useExisting:zz,multi:!0}])}let Q_e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=be({providers:[X_e(K_e())]})}return n})(),f0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/movies.xml",this.firestore=K(No)}getMovies(){var e=this;return A(function*(){const i=Wr(e.firestore,"movies");return(yield Td(i)).docs.map(s=>s.data())})()}createMovies(e){var i=this;return A(function*(){const r=Wr(i.firestore,"movies");bd(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(G(zl))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),p0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/libros.xml",this.firestore=K(No)}getBook(){var e=this;return A(function*(){const i=Wr(e.firestore,"books");return(yield Td(i)).docs.map(s=>s.data())})()}createBook(e){var i=this;return A(function*(){const r=Wr(i.firestore,"books");bd(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(G(zl))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),g0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml",this.firestore=K(No)}getGames(){var e=this;return A(function*(){const i=Wr(e.firestore,"games");return(yield Td(i)).docs.map(s=>s.data())})()}createGames(e){var i=this;return A(function*(){const r=Wr(i.firestore,"games");bd(r,{name:e.name,date:e.date,score:e.score,type:null,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(G(zl))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),m0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/series.xml",this.firestore=K(No)}getSeries(){var e=this;return A(function*(){const i=Wr(e.firestore,"series");return(yield Td(i)).docs.map(s=>s.data())})()}createSeries(e){var i=this;return A(function*(){const r=Wr(i.firestore,"series");bd(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(G(zl))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/animes.xml",this.firestore=K(No)}getAnimes(){var e=this;return A(function*(){const i=Wr(e.firestore,"animes");return(yield Td(i)).docs.map(s=>s.data())})()}createAnimes(e){var i=this;return A(function*(){const r=Wr(i.firestore,"animes");bd(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(G(zl))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jp=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jz=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(x(fr),x(ut))};static#t=this.\u0275dir=Q({type:n})}return n})(),Wl=(()=>{class n extends jz{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ai(n)))(r||n)}}();static#t=this.\u0275dir=Q({type:n,features:[bt]})}return n})();const qr=new ee("NgValueAccessor"),sve={provide:qr,useExisting:ct(()=>v0),multi:!0},ave=new ee("CompositionEventMode");let v0=(()=>{class n extends jz{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ove(){const n=ia()?ia().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(x(fr),x(ut),x(ave,8))};static#t=this.\u0275dir=Q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&se("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[At([sve]),bt]})}return n})();const Ei=new ee("NgValidators"),Oa=new ee("NgAsyncValidators");function Kz(n){return function Pa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function y0(n){return null}function nj(n){return null!=n}function ij(n){return Bh(n)?Ln(n):n}function rj(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function sj(n,t){return t.map(e=>e(n))}function oj(n){return n.map(t=>function cve(n){return!n.validate}(t)?t:e=>t.validate(e))}function LI(n){return null!=n?function aj(n){if(!n)return null;const t=n.filter(nj);return 0==t.length?null:function(e){return rj(sj(e,t))}}(oj(n)):null}function FI(n){return null!=n?function lj(n){if(!n)return null;const t=n.filter(nj);return 0==t.length?null:function(e){return function ive(...n){const t=Ug(n),{args:e,keys:i}=tB(n),r=new ft(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Pn(e[u]).subscribe(Mt(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?nB(i,a):a),s.complete())}))}});return t?r.pipe(Nw(t)):r}(sj(e,t).map(ij)).pipe($e(rj))}}(oj(n)):null}function cj(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function VI(n){return n?Array.isArray(n)?n:[n]:[]}function x0(n,t){return Array.isArray(n)?n.includes(t):n===t}function hj(n,t){const e=VI(t);return VI(n).forEach(r=>{x0(e,r)||e.push(r)}),e}function fj(n,t){return VI(t).filter(e=>!x0(n,e))}class pj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=LI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=FI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ui extends pj{get formDirective(){return null}get path(){return null}}class La extends pj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gj{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let mj=(()=>{class n extends gj{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(x(La,2))};static#t=this.\u0275dir=Q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&wt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[bt]})}return n})(),_j=(()=>{class n extends gj{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Ui,10))};static#t=this.\u0275dir=Q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&wt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[bt]})}return n})();const eg="VALID",T0="INVALID",Dd="PENDING",tg="DISABLED";function HI(n){return(C0(n)?n.validators:n)||null}function GI(n,t){return(C0(t)?t.asyncValidators:n)||null}function C0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class bj{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===eg}get invalid(){return this.status===T0}get pending(){return this.status==Dd}get disabled(){return this.status===tg}get enabled(){return this.status!==tg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(hj(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(hj(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(fj(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(fj(t,this._rawAsyncValidators))}hasValidator(t){return x0(this._rawValidators,t)}hasAsyncValidator(t){return x0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Dd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tg,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=eg,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eg||this.status===Dd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tg:eg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Dd,this._hasOwnPendingAsyncValidator=!0;const e=ij(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?tg:this.errors?T0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dd)?Dd:this._anyControlsHaveStatus(T0)?T0:eg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){C0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function fve(n){return Array.isArray(n)?LI(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function pve(n){return Array.isArray(n)?FI(n):n||null}(this._rawAsyncValidators)}}class UI extends bj{constructor(t,e,i){super(HI(e),GI(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function xj(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new k(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function yj(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new k(1e3,"");if(!i[e])throw new k(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Sd=new ee("CallSetDisabledState",{providedIn:"root",factory:()=>w0}),w0="always";function ng(n,t,e=w0){zI(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function _ve(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Tj(n,t)})}(n,t),function yve(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function vve(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Tj(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function mve(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function E0(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function zI(n,t){const e=function uj(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(cj(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function dj(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(cj(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();E0(t._rawValidators,r),E0(t._rawAsyncValidators,r)}function Tj(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const wve={provide:Ui,useExisting:ct(()=>I0)},ig=(()=>Promise.resolve())();let I0=(()=>{class n extends Ui{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ae,this.form=new UI({},LI(e),FI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ig.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ng(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ig.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ig.then(()=>{const i=this._findContainer(e.path),r=new UI({});(function Cj(n,t){zI(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ig.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){ig.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function wj(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(x(Ei,10),x(Oa,10),x(Sd,8))};static#t=this.\u0275dir=Q({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&se("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[At([wve]),bt]})}return n})();function Dj(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Sj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ej=class extends bj{constructor(t=null,e,i){super(HI(e),GI(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),C0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Sj(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Dj(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Dj(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Sj(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Eve={provide:La,useExisting:ct(()=>YI)},kj=(()=>Promise.resolve())();let YI=(()=>{class n extends La{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Ej,this._registered=!1,this.name="",this.update=new ae,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function qI(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===v0?e=s:function Tve(n){return Object.getPrototypeOf(n.constructor)===Wl}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function WI(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ng(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){kj.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&du(i);kj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function D0(n,t){return[...t.path,n]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(x(Ui,9),x(Ei,10),x(Oa,10),x(qr,10),x(Bi,8),x(Sd,8))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[At([Eve]),bt,Nt]})}return n})(),Mj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),Rj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=be({})}return n})();const Fve={provide:qr,useExisting:ct(()=>k0),multi:!0};function $j(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let k0=(()=>{class n extends Wl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=$j(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Vve(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ai(n)))(r||n)}}();static#t=this.\u0275dir=Q({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&se("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[At([Fve]),bt]})}return n})(),M0=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue($j(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(x(ut),x(fr),x(k0,9))};static#t=this.\u0275dir=Q({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const Bve={provide:qr,useExisting:ct(()=>ZI),multi:!0};function Hj(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let ZI=(()=>{class n extends Wl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);r.push(c)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function $ve(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ai(n)))(r||n)}}();static#t=this.\u0275dir=Q({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&se("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[At([Bve]),bt]})}return n})(),N0=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Hj(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Hj(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(x(ut),x(fr),x(ZI,9))};static#t=this.\u0275dir=Q({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),ql=(()=>{class n{constructor(){this._validator=y0}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):y0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Q({type:n,features:[Nt]})}return n})();const Uve={provide:Ei,useExisting:ct(()=>R0),multi:!0};let R0=(()=>{class n extends ql{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=du,this.createValidator=e=>Kz}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ai(n)))(r||n)}}();static#t=this.\u0275dir=Q({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Fe("required",r._enabled?"":null)},inputs:{required:"required"},features:[At([Uve]),bt]})}return n})(),Xve=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=be({imports:[Rj]})}return n})(),Qj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Sd,useValue:e.callSetDisabledState??w0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=be({imports:[Xve]})}return n})(),Zj=(()=>{class n{constructor(e,i){this.router=e,this.dataService=i,this.anioActual=""}ngOnInit(){this.anioActual=(new Date).getFullYear()+""}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}navegarCreate(){this.router.navigate(["/Create"])}navegarTier(){this.router.navigate(["/Tier"])}toggleMobileMenu(){const e=document.getElementById("menu");e.style.display="block"===e.style.display?"none":"block"}static#e=this.\u0275fac=function(i){return new(i||n)(x(ci),x(Jp))};static#t=this.\u0275cmp=pt({type:n,selectors:[["app-sidebar"]],decls:25,vars:0,consts:[[1,"body","col-lg-12","col-12",2,"margin-top","5%"],[1,"row"],[1,"col-lg-10","col-9",2,"margin-top","15%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],["id","btnMenu",1,"btnMenu","col-lg-2","col-3",2,"display","none","margin-top","15%"],[2,"margin","0%",3,"click"],[1,"uil","uil-list-ul"],["id","menu",1,"menu","col-lg-12",2,"margin-left","20%","margin-right","20%"],[3,"click"]],template:function(i,r){1&i&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),Ae(4,"img",4),N()(),I(5,"div",5)(6,"button",6),se("click",function(){return r.toggleMobileMenu()}),Ae(7,"i",7),N()()(),I(8,"div",8)(9,"ul")(10,"li")(11,"a",9),se("click",function(){return r.navegarAComponenteDestino("Peliculas")}),he(12,"Peliculas"),N()(),I(13,"li")(14,"a",9),se("click",function(){return r.navegarAComponenteDestino("Series")}),he(15,"Series"),N()(),I(16,"li")(17,"a",9),se("click",function(){return r.navegarAComponenteDestino("Animes")}),he(18,"Anime"),N()(),I(19,"li")(20,"a",9),se("click",function(){return r.navegarAComponenteDestino("Juegos")}),he(21,"Juegos"),N()(),I(22,"li")(23,"a",9),se("click",function(){return r.navegarAComponenteDestino("Libros")}),he(24,"Libros"),N()()()()())},styles:["a[_ngcontent-%COMP%]{cursor:pointer}a[_ngcontent-%COMP%]:hover{opacity:50%}.menu[_ngcontent-%COMP%]{font-size:1.5rem}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:20%}.btnMenu[_ngcontent-%COMP%]{font-size:2rem}button[_ngcontent-%COMP%]{color:#fff;background-color:transparent;border-style:solid;border-color:#fff}@media (max-width:1000px){.btnMenu[_ngcontent-%COMP%]{display:block!important}.menu[_ngcontent-%COMP%]{display:none}.imgTitle[_ngcontent-%COMP%]{width:80%;margin-left:20%}}"]})}return n})();function Qve(n,t){if(1&n&&(I(0,"option",15),he(1),N()),2&n){const e=t.$implicit;$("value",e),R(1),gr(e)}}function Zve(n,t){if(1&n&&(I(0,"option",16),he(1),N()),2&n){const e=t.$implicit,i=ue();$("value",e)("selected",e===i.opAnios[0]),R(1),gr(e)}}function Jve(n,t){if(1&n&&(I(0,"option",15),he(1),N()),2&n){const e=t.$implicit;$("value",e),R(1),gr(e)}}function eye(n,t){1&n&&(I(0,"span",28),he(1,"\u2605"),N()),2&n&&wt("filled",t.$implicit<=ue().$implicit.score)}const tye=function(){return[1,2,3,4,5]};function nye(n,t){if(1&n&&(I(0,"div",17)(1,"div",18)(2,"div",19),Ae(3,"img",20),N(),I(4,"div",21)(5,"h5",22),he(6),N(),I(7,"p"),he(8),N(),I(9,"div",23)(10,"div",24)(11,"p",25),he(12),N()()()(),I(13,"div",26),ie(14,eye,2,2,"span",27),N()()()),2&n){const e=t.$implicit,i=ue();Gn("border-color",i.getColor(e.score)),R(3),$("src",e.image,Om),R(3),xi(" ",e.name,""),R(2),xi(" ",e.date,""),R(3),Gn("background-color",i.getColorByType(e.type)),R(1),xi(" ",e.type,""),R(2),$("ngForOf",function uF(n,t,e){const i=Pi()+n,r=P();return r[i]===Pe?Es(r,i,e?t.call(e):t()):function Oh(n,t){return n[t]}(r,i)}(9,tye))}}const iye=function(n,t){return{"uil-sort-amount-up":n,"uil-sort-amount-down":t}};let rye=(()=>{class n{constructor(e,i,r,s,o,a,l){this.movieService=e,this.libroService=i,this.gameService=r,this.seriesService=s,this.animeService=o,this.router=a,this.dataService=l,this.data=[],this.resultFilter=[],this.movies=[],this.animes=[],this.message="",this.opTipos=[],this.opAnios=[],this.opCalificacion=[],this.selectedCategory="Todos",this.selectedYear=this.opAnios[0],this.selectedScore="Todos",this.currentSortOrder="desc",this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","lightblue","lightGreen","yellow","Pink","White","lightYellow","green","Purple"]],this.opAnios=["2024","2023","2022","2021","2020","2019"],this.opCalificacion=["0","1","2","3","4","5"]}ngOnInit(){this.dataService.typeData||this.router.navigate(["/"]),this.router.events.subscribe(e=>{this.message=this.dataService.typeData,this.loadData()}),this.selectedYear=this.opAnios[0]}loadData(){var e=this;return A(function*(){"Peliculas"===e.message?e.data=yield e.loadDataForType(e.movieService.getMovies()):"Series"===e.message?e.data=yield e.loadDataForType(e.seriesService.getSeries()):"Animes"===e.message?e.data=yield e.loadDataForType(e.animeService.getAnimes()):"Juegos"===e.message?e.data=yield e.loadDataForType(e.gameService.getGames()):"Libros"===e.message&&(e.data=yield e.loadDataForType(e.libroService.getBook())),e.resultFilter=e.sortData(e.data),console.log(e.resultFilter[0].date),e.resultFilter.forEach(i=>{i.image="data:image/jpg;base64,"+i.image}),e.applyFilters()})()}loadDataForType(e){var i=this;return A(function*(){return(yield e).map(s=>(s.date=i.convertDate(s.date),s))})()}convertDate(e){var r=e.toString().toLowerCase().split("-");return parseInt(r[2],10),r[2]+"-"+r[1]+"-"+r[0]}sortData(e){return e.sort((i,r)=>{const[s,o,a]=i.date.split("-").map(Number),[l,c,u]=r.date.split("-").map(Number);return u!==a?u-a:c!==o?c-o:l-s})}getColorByType(e){const i=this.opTipos[0].indexOf(e);return-1!==i?this.opTipos[1][i]:"greenyellow"}convert(e){var r=e.toString().toLowerCase().split("/");return parseInt(r[2],10)}applyFilters(){this.resultFilter=this.data.filter(e=>"Todos"===this.selectedCategory||e.type===this.selectedCategory).filter(e=>this.convertYear(e)).filter(e=>"Todos"===this.selectedScore||e.score===this.selectedScore)}convertYear(e){const r=e.date.toString().toLowerCase().split("-");return parseInt(r[2],10)+""===this.selectedYear}filterType(e){this.selectedCategory=e.target.value,this.applyFilters()}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}filterScore(e){this.selectedScore=e.target.value,this.applyFilters()}sortDataByScore(){this.resultFilter=this.resultFilter.sort((e,i)=>{const r=e.score,s=i.score;return"asc"===this.currentSortOrder?r-s:s-r}),this.currentSortOrder="asc"===this.currentSortOrder?"desc":"asc"}getColor(e){return 5==e?"gold":"#ded8cf"}static#e=this.\u0275fac=function(i){return new(i||n)(x(f0),x(p0),x(g0),x(m0),x(_0),x(ci),x(Jp))};static#t=this.\u0275cmp=pt({type:n,selectors:[["app-workplace"]],decls:26,vars:9,consts:[[1,"d-flex","flex-wrap"],[1,"col-12","col-sm-12","col-md-6","col-lg-3"],[1,"col-12","col-sm-12","col-md-6","col-lg-9"],[1,"list",2,"display","flex","flex-wrap","wrap"],[2,"margin-left","2%","margin-top","3%"],[1,"filter","col-lg-10","col-12",2,"margin-top","3%","text-align","end","margin-bottom","3%"],["id","opTipos",3,"change"],["disabled","","selected","",2,"display","none"],[3,"value",4,"ngFor","ngForOf"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","opCalificacion",3,"change"],[3,"click"],[1,"uil",3,"ngClass"],["class","card col-lg-3","style","margin-bottom: 3%; margin-left: 2%; margin-right: 2%;",3,"border-color",4,"ngFor","ngForOf"],[3,"value"],[3,"value","selected"],[1,"card","col-lg-3",2,"margin-bottom","3%","margin-left","2%","margin-right","2%"],[1,"row"],[1,"left","col-lg-4","col-3",2,"text-align","center","margin","1%"],["alt","#",1,"imagen",3,"src"],[1,"right","col-lg-6","col-6",2,"margin","1%"],[2,"font-size","1.1rem"],[1,"row",2,"margin-top","10%"],[1,"type","col-lg-12","col-12"],[1,"etiqueta"],[1,"score","col-lg-1","col-2"],["class","star",3,"filled",4,"ngFor","ngForOf"],[1,"star"]],template:function(i,r){1&i&&(I(0,"div",0)(1,"div",1),Ae(2,"app-sidebar"),N(),I(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1"),he(7),N()(),I(8,"div",5)(9,"select",6),se("change",function(o){return r.filterType(o)}),I(10,"option",7),he(11,"Categoria"),N(),I(12,"option"),he(13,"Todos"),N(),ie(14,Qve,2,2,"option",8),N(),I(15,"select",9),se("change",function(o){return r.filterYear(o)}),ie(16,Zve,2,3,"option",10),N(),I(17,"select",11),se("change",function(o){return r.filterScore(o)}),I(18,"option",7),he(19,"Calificacion"),N(),I(20,"option"),he(21,"Todos"),N(),ie(22,Jve,2,2,"option",8),N(),I(23,"button",12),se("click",function(){return r.sortDataByScore()}),Ae(24,"i",13),N()(),ie(25,nye,15,10,"div",14),N()()()),2&i&&(R(7),xi("Lista de ",r.message,""),R(7),$("ngForOf",r.opTipos[0]),R(2),$("ngForOf",r.opAnios),R(6),$("ngForOf",r.opCalificacion),R(2),$("ngClass",lu(6,iye,"asc"===r.currentSortOrder,"desc"===r.currentSortOrder)),R(1),$("ngForOf",r.resultFilter))},dependencies:[U2,Ji,M0,N0,Zj],styles:['.list[_ngcontent-%COMP%]{max-height:calc(105vh - 60px);overflow-y:auto}.card[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text);border-style:solid;border-color:var(--color-text);font-size:.8rem}.etiqueta[_ngcontent-%COMP%]{width:50%;background-color:#ff0;color:#000;box-shadow:0 0 29px #3c3c3c6b;border-radius:5px;font-family:"Hedvig Letters Serif",serif;text-align:center;text-decoration:none}.imagen[_ngcontent-%COMP%]{width:90%;height:130px}.star[_ngcontent-%COMP%]{font-size:18px;color:gray;cursor:pointer}.filled[_ngcontent-%COMP%]{color:gold}select[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}button[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}@media (max-width:1000px){.card[_ngcontent-%COMP%]{width:100%}.imagen[_ngcontent-%COMP%]{width:100%;height:100px;margin:15%}.etiqueta[_ngcontent-%COMP%]{font-size:.8rem}select[_ngcontent-%COMP%]{font-size:1rem}}']})}return n})(),sye=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml",this.firestore=K(No)}getReco(){var e=this;return A(function*(){const i=Wr(e.firestore,"recomendacion");return(yield Td(i)).docs.map(s=>s.data())})()}createReco(e,i){var r=this;return A(function*(){const s=Wr(r.firestore,"recomendacion");bd(s,{name:e,type:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(G(zl))};static#t=this.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oye=(()=>{class n{constructor(e,i,r,s,o,a,l,c){this.router=e,this.dataService=i,this.recoService=r,this.movieService=s,this.libroService=o,this.gameService=a,this.seriesService=l,this.animeService=c,this.tipos=["Peliculas","Series","Animes","Juegos","Libros"],this.recomendaciones=[],this.single=[],this.single2=[],this.valor=0,this.dataMovie=[],this.years=[2023,2022],this.progress={2023:30,2022:70}}getProgressWidth(e){return(this.progress[e]||0)+"%"}ngOnInit(){var e=this;return A(function*(){e.single2=yield e.loadData(2022),e.single=yield e.loadData(2023),yield e.readReco()})()}loadData(e){var i=this;return A(function*(){var r=yield i.movieService.getMovies(),s=yield i.seriesService.getSeries(),o=yield i.animeService.getAnimes(),a=yield i.gameService.getGames(),l=yield i.libroService.getBook();return[{name:"Peliculas",value:i.cantidadPorAnio(r,e)},{name:"Series",value:i.cantidadPorAnio(s,e)},{name:"Animes",value:i.cantidadPorAnio(o,e)},{name:"Juegos",value:i.cantidadPorAnio(a,e)},{name:"Libros",value:i.cantidadPorAnio(l,e)}]})()}cantidadPorAnio(e,i){return e.filter(s=>this.convert(s.date)===i).length}convert(e){var r=e.toString().toLowerCase().split("-");return parseInt(r[0],10)}filterByScore(e){const i=(new Date).getFullYear();return e.filter(r=>r.score>=5&&this.convert(r.date)==i)}filterByTipo(e,i){return e.filter(r=>r.type===i)}saveReco(){this.recoService.createReco(this.nameReco,this.tipo),this.readReco()}readReco(){var e=this;return A(function*(){e.recomendaciones=yield e.recoService.getReco()})()}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}navegarCreate(){this.router.navigate(["/Create"])}navegarTier(){this.router.navigate(["/Tier"])}static#e=this.\u0275fac=function(i){return new(i||n)(x(ci),x(Jp),x(sye),x(f0),x(p0),x(g0),x(m0),x(_0))};static#t=this.\u0275cmp=pt({type:n,selectors:[["app-home"]],decls:56,vars:0,consts:[[1,"container"],[1,"body"],[1,"top","col-lg-12"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"menu","px-4","text-center"],[1,"row","gx-5"],[1,"col"],[1,"p-3","box",3,"click"],[1,"uil","uil-film"],[1,"uil","uil-video"],[1,"uil","uil-airplay"],[1,"uil","uil-basketball-hoop"],[1,"uil","uil-book-open"],[2,"margin-top","5%","margin-left","3%"],[1,"menu2","px-4","text-center"],[1,"uil","uil-subject"],[1,"p-3","box"],[1,"uil","uil-chart-pie"],[1,"uil","uil-create-dashboard"]],template:function(i,r){1&i&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),Ae(4,"img",4),N()(),I(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),se("click",function(){return r.navegarAComponenteDestino("Peliculas")}),Ae(9,"i",9),I(10,"h5"),he(11,"Peliculas"),N()()(),I(12,"div",7)(13,"div",8),se("click",function(){return r.navegarAComponenteDestino("Series")}),Ae(14,"i",10),I(15,"h5"),he(16,"Series"),N()()(),I(17,"div",7)(18,"div",8),se("click",function(){return r.navegarAComponenteDestino("Animes")}),Ae(19,"i",11),I(20,"h5"),he(21,"Animes"),N()()(),I(22,"div",7)(23,"div",8),se("click",function(){return r.navegarAComponenteDestino("Juegos")}),Ae(24,"i",12),I(25,"h5"),he(26,"VideoJuegos"),N()()(),I(27,"div",7)(28,"div",8),se("click",function(){return r.navegarAComponenteDestino("Libros")}),Ae(29,"i",13),I(30,"h5"),he(31,"Libros"),N()()()()(),I(32,"div",14),he(33," Otras ... "),N(),I(34,"div",15)(35,"div",6)(36,"div",7)(37,"div",8),se("click",function(){return r.navegarTier()}),Ae(38,"i",16),I(39,"h5"),he(40,"Tier"),N()()(),I(41,"div",7)(42,"div",17),Ae(43,"i",18),I(44,"h5"),he(45,"Recomendaciones"),N()()(),I(46,"div",7)(47,"div",17),Ae(48,"i",18),I(49,"h5"),he(50,"Estadisticas"),N()()(),I(51,"div",7)(52,"div",8),se("click",function(){return r.navegarCreate()}),Ae(53,"i",19),I(54,"h5"),he(55,"Crear"),N()()()()()()())},styles:[".body[_ngcontent-%COMP%]{background-color:#1f1d3a;margin:5%;padding-bottom:10%;border-radius:5px}.top[_ngcontent-%COMP%]{padding-top:3%}.box[_ngcontent-%COMP%]{cursor:pointer;background-color:#373458;color:#fff;border-radius:5px;margin-top:10%}.box[_ngcontent-%COMP%]:hover{background-color:#504c81}i[_ngcontent-%COMP%]{font-size:50px}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}"]})}return n})();class aye{static getFormData(t){var e=new FormData;for(var i in t)e.append(i,t[i]);return e}static imageToByte(t){return new Promise((i,r)=>{const s=new FileReader;s.onload=o=>{i(o.target.result.split("base64,")[1])},s.readAsDataURL(t),s.onerror=r})}static byteToImage(t){return this._sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+t)}}function lye(n,t){if(1&n&&(I(0,"option",19),he(1),N()),2&n){const e=t.$implicit;$("value",e),R(1),gr(e)}}function cye(n,t){if(1&n&&(I(0,"option",19),he(1),N()),2&n){const e=t.$implicit;$("value",e),R(1),gr(e)}}function uye(n,t){if(1&n){const e=function Ki(){return P()}();I(0,"div",7)(1,"div",8)(2,"div",9)(3,"label"),he(4,"Tipo:"),N()(),I(5,"div",10)(6,"select",20),se("ngModelChange",function(r){return function cn(n){return De.lFrame.contextLView=n,n[gn]}(e),function un(n){return De.lFrame.contextLView=null,n}(ue().data.type=r)}),ie(7,cye,2,2,"option",15),N()()()()}if(2&n){const e=ue();R(6),$("ngModel",e.data.type),R(1),$("ngForOf",e.opTipos[0])}}let dye=(()=>{class n{constructor(e,i,r,s,o,a,l){this.router=e,this.dataService=i,this.libroService=r,this.juegosService=s,this.animeService=o,this.movieService=a,this.serieServicio=l,this.data={},this.opTipos=[],this.opCalificacion=[],this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","blue","green","yellow","Pink","White","lightYellow","lightblue","Purple"]],this.opCalificacion=["0","1","2","3","4","5"]}registrarFacilidad(){}obtenerImagen(e){aye.imageToByte(e.target.files[0]).then(s=>{this.data.image=s})}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}onSubmit(){console.log("EXIT "),"Peliculas"==this.tipo&&this.movieService.createMovies(this.data),"Series"==this.tipo&&this.serieServicio.createSeries(this.data),"Animes"==this.tipo&&this.animeService.createAnimes(this.data),"Juegos"==this.tipo&&this.juegosService.createGames(this.data),"Libros"==this.tipo&&this.libroService.createBook(this.data),this.navegarAComponenteDestino(this.tipo)}static#e=this.\u0275fac=function(i){return new(i||n)(x(ci),x(Jp),x(p0),x(g0),x(_0),x(f0),x(m0))};static#t=this.\u0275cmp=pt({type:n,selectors:[["app-create"]],decls:42,vars:7,consts:[[1,"container","col-lg-12",2,"margin-top","5%"],[3,"ngSubmit"],["movieForm","ngForm"],[1,"container","col-lg-6"],[1,"top","col-lg-12",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"col-lg-12"],[1,"row"],[1,"col-lg-3"],[1,"col-lg-9"],["name","tipo","id","tipo",3,"ngModel","ngModelChange"],["type","text","id","name","name","name","placeholder","Name","required","",3,"ngModel","ngModelChange"],["type","date","id","date","name","date","required","",3,"ngModel","ngModelChange"],["id","score","name","score",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-lg-12",4,"ngIf"],["id","formFileLg","name","formFileLg","type","file","accept","image/png, .jpeg, .jpg, image/gif",3,"change"],["type","submit",3,"disabled"],[3,"value"],["id","type","name","type",3,"ngModel","ngModelChange"]],template:function(i,r){if(1&i&&(I(0,"div",0)(1,"form",1,2),se("ngSubmit",function(){return r.onSubmit()}),I(3,"div",3)(4,"div",4)(5,"a",5),Ae(6,"img",6),N()(),I(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),he(11,"Categoria:"),N()(),I(12,"div",10)(13,"select",11),se("ngModelChange",function(o){return r.tipo=o}),I(14,"option"),he(15,"Peliculas"),N(),I(16,"option"),he(17,"Series"),N(),I(18,"option"),he(19,"Animes"),N(),I(20,"option"),he(21,"Juegos"),N(),I(22,"option"),he(23,"Libros"),N()()()()(),I(24,"div",7)(25,"input",12),se("ngModelChange",function(o){return r.data.name=o}),N()(),I(26,"div",7)(27,"input",13),se("ngModelChange",function(o){return r.data.date=o}),N()(),I(28,"div",7)(29,"div",8)(30,"div",9)(31,"label"),he(32,"Calificacion:"),N()(),I(33,"div",10)(34,"select",14),se("ngModelChange",function(o){return r.data.score=o}),ie(35,lye,2,2,"option",15),N()()()(),ie(36,uye,8,2,"div",16),I(37,"div",7)(38,"input",17),se("change",function(o){return r.obtenerImagen(o)}),N()(),I(39,"div",7)(40,"button",18),he(41,"Submit"),N()()()()()),2&i){const s=function es(n){return function xc(n,t){return n[t]}(function Dq(){return De.lFrame.contextLView}(),Xe+n)}(2);R(13),$("ngModel",r.tipo),R(12),$("ngModel",r.data.name),R(2),$("ngModel",r.data.date),R(7),$("ngModel",r.data.score),R(1),$("ngForOf",r.opCalificacion),R(1),$("ngIf","Juegos"!==r.tipo),R(4),$("disabled",!s.valid)}},dependencies:[Ji,Hr,Mj,M0,N0,v0,k0,mj,_j,R0,YI,I0],styles:["input[_ngcontent-%COMP%]{width:100%;margin-bottom:4%}button[_ngcontent-%COMP%]{width:100%}select[_ngcontent-%COMP%]{width:100%;margin-bottom:4%}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}"]})}return n})();function hye(n,t){if(1&n&&(I(0,"option",8),he(1),N()),2&n){const e=t.$implicit,i=ue();$("value",e)("selected",e===i.opAnios[0]),R(1),gr(e)}}function fye(n,t){if(1&n&&(I(0,"div",13),Ae(1,"img",14),N()),2&n){const e=t.$implicit;R(1),s_("title",e.name),$("src",e.image,Om)}}function pye(n,t){if(1&n&&(I(0,"div")(1,"div",9)(2,"div",10)(3,"h5"),he(4),N()(),I(5,"div",11),ie(6,fye,2,2,"div",12),N()()()),2&n){const e=t.$implicit,i=ue();R(2),Gn("background-color",i.tier[1][e]),R(2),gr(i.categorias[e]),R(2),$("ngForOf",i.dataScore(i.resultFilter,i.categorias.length-e))}}const gye=[{path:"",component:oye},{path:"Sidebar",component:Zj},{path:"Workplace",component:rye},{path:"Create",component:dye},{path:"Tier",component:(()=>{class n{constructor(e,i,r,s,o,a){this.router=e,this.animeService=i,this.movieService=r,this.seriesService=s,this.gameService=o,this.libroService=a,this.categorias=["Dioos","Buenas","Normal","Malas","Olvidables"],this.data=[],this.anioActual="",this.opAnios=["2024","2023","2022","2021","2020","2019","Todos"],this.selectedYear=this.opAnios[0],this.resultFilter=[],this.tier=[[0,1,2,3,4],["#FF7F7F","#FFBF7F","#FFDF7F","#FFFF7F","#BFFF7F"]]}ngOnInit(){}loadData(e){var i=this;return A(function*(){"Peliculas"===e?i.data=yield i.loadDataForType(i.movieService.getMovies()):"Series"===e?i.data=yield i.loadDataForType(i.seriesService.getSeries()):"Animes"===e?i.data=yield i.loadDataForType(i.animeService.getAnimes()):"Juegos"===e?i.data=yield i.loadDataForType(i.gameService.getGames()):"Libros"===e&&(i.data=yield i.loadDataForType(i.libroService.getBook())),console.log(i.selectedYear),i.applyFilters(),i.data.forEach(r=>{r.image="data:image/jpg;base64,"+r.image}),i.resultFilter=i.data})()}loadDataForType(e){return A(function*(){return(yield e).map(r=>r)})()}convertYear(e){const i=e.split("-");return parseInt(i[0],10)+""}dataScore(e,i){return e.filter(r=>r.score==i)}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}applyFilters(){"Todos"===this.selectedYear?(this.resultFilter=this.data,console.log(1)):(this.data=this.data.filter(e=>this.convertYear(e.date)==this.selectedYear),console.log(2))}navegarHome(){this.router.navigate(["./"])}static#e=this.\u0275fac=function(i){return new(i||n)(x(ci),x(_0),x(f0),x(m0),x(g0),x(p0))};static#t=this.\u0275cmp=pt({type:n,selectors:[["app-tier"]],decls:24,vars:2,consts:[[2,"margin","5%"],[1,"row",2,"margin-bottom","5%"],[1,"col-lg-1"],[3,"click"],[1,"col-lg-2"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"value","selected"],[1,"row",2,"margin-bottom","1%"],[1,"izq","col-lg-2"],[1,"der","col-lg-10"],["style","display: inline;",4,"ngFor","ngForOf"],[2,"display","inline"],["alt","#",1,"imagen",3,"title","src"]],template:function(i,r){1&i&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),se("click",function(){return r.navegarHome()}),he(4,"Home"),N()(),I(5,"div",4)(6,"button",3),se("click",function(){return r.loadData("Peliculas")}),he(7,"Peliculas"),N()(),I(8,"div",4)(9,"button",3),se("click",function(){return r.loadData("Series")}),he(10,"Series"),N()(),I(11,"div",4)(12,"button",3),se("click",function(){return r.loadData("Animes")}),he(13,"Animes"),N()(),I(14,"div",4)(15,"button",3),se("click",function(){return r.loadData("Juegos")}),he(16,"Juegos"),N()(),I(17,"div",4)(18,"button",3),se("click",function(){return r.loadData("Libros")}),he(19,"Libros"),N()(),I(20,"div",2)(21,"select",5),se("change",function(o){return r.filterYear(o)}),ie(22,hye,2,3,"option",6),N()()(),ie(23,pye,7,4,"div",7),N()),2&i&&(R(22),$("ngForOf",r.opAnios),R(1),$("ngForOf",r.tier[0]))},dependencies:[Ji,M0,N0],styles:[".imagen[_ngcontent-%COMP%]{width:80px;height:130px;margin-right:1%;margin-bottom:1%;margin-top:1%}.izq[_ngcontent-%COMP%]{border-style:solid;border-color:#000;color:#000;display:flex;align-items:center;justify-content:center}.der[_ngcontent-%COMP%]{border-style:solid;border-color:#000;border-left:none;background-color:#1f1d3a}button[_ngcontent-%COMP%]{width:100%;border-style:solid;border-color:#fff;color:#fff;background-color:transparent}button[_ngcontent-%COMP%]:hover{background-color:#5b4f43}select[_ngcontent-%COMP%]{width:100%;border-style:solid;border-color:#fff;color:#fff;background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}"]})}return n})()}];let mye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=be({imports:[l$.forRoot(gye,{useHash:!0}),l$]})}return n})(),_ye=(()=>{class n{constructor(){this.title="DATA"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=pt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&Ae(0,"router-outlet")},dependencies:[qw]})}return n})();const vye_firebase={apiKey:"AIzaSyB14DmtasKcHP3qgspOmYnuoBj2uyoAsmg",authDomain:"data-aba0f.firebaseapp.com",projectId:"data-aba0f",storageBucket:"data-aba0f.appspot.com",messagingSenderId:"305549292857",appId:"1:305549292857:web:e5b4bdafba9fb4d61524e8"};class JI{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Jj extends JI{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class yye extends JI{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class xye extends JI{constructor(t){super(),this.element=t instanceof ut?t.nativeElement:t}}class bye{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Jj?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof yye?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof xye?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Tye extends bye{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Sn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}const Cye=["addListener","removeListener"],wye=["addEventListener","removeEventListener"],Dye=["on","off"];function Ai(n,t,e,i){if(je(e)&&(i=e,e=void 0),i)return Ai(n,t,e).pipe(Nw(i));const[r,s]=function Aye(n){return je(n.addEventListener)&&je(n.removeEventListener)}(n)?wye.map(o=>a=>n[o](t,a,e)):function Sye(n){return je(n.addListener)&&je(n.removeListener)}(n)?Cye.map(e5(n,t)):function Eye(n){return je(n.on)&&je(n.off)}(n)?Dye.map(e5(n,t)):[];if(!r&&Fx(n))return On(o=>Ai(o,t,e))(Pn(n));if(!r)throw new TypeError("Invalid event target");return new ft(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function e5(n,t){return e=>i=>n[e](t,i)}function kye(){}function ek(n){return null==n?kye:function(){return this.querySelector(n)}}function Rye(){return[]}function t5(n){return null==n?Rye:function(){return this.querySelectorAll(n)}}function n5(n){return function(){return this.matches(n)}}function i5(n){return function(t){return t.matches(n)}}var Lye=Array.prototype.find;function Vye(){return this.firstElementChild}var $ye=Array.prototype.filter;function Hye(){return Array.from(this.children)}function r5(n){return new Array(n.length)}function P0(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function qye(n,t,e,i,r,s){for(var a,o=0,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):e[o]=new P0(n,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a)}function Yye(n,t,e,i,r,s,o){var a,l,f,c=new Map,u=t.length,d=s.length,h=new Array(u);for(a=0;a<u;++a)(l=t[a])&&(h[a]=f=o.call(l,l.__data__,a,t)+"",c.has(f)?r[a]=l:c.set(f,l));for(a=0;a<d;++a)f=o.call(n,s[a],a,s)+"",(l=c.get(f))?(i[a]=l,l.__data__=s[a],c.delete(f)):e[a]=new P0(n,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(r[a]=l)}function Xye(n){return n.__data__}function Qye(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function i0e(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}P0.prototype={constructor:P0,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var tk="http://www.w3.org/1999/xhtml";const s5={svg:"http://www.w3.org/2000/svg",xhtml:tk,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function O0(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),s5.hasOwnProperty(t)?{space:s5[t],local:n}:n}function u0e(n){return function(){this.removeAttribute(n)}}function d0e(n){return function(){this.removeAttributeNS(n.space,n.local)}}function h0e(n,t){return function(){this.setAttribute(n,t)}}function f0e(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function p0e(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function g0e(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function o5(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function _0e(n){return function(){this.style.removeProperty(n)}}function v0e(n,t,e){return function(){this.style.setProperty(n,t,e)}}function y0e(n,t,e){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function Ed(n,t){return n.style.getPropertyValue(t)||o5(n).getComputedStyle(n,null).getPropertyValue(t)}function b0e(n){return function(){delete this[n]}}function T0e(n,t){return function(){this[n]=t}}function C0e(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function a5(n){return n.trim().split(/^|\s+/)}function nk(n){return n.classList||new l5(n)}function l5(n){this._node=n,this._names=a5(n.getAttribute("class")||"")}function c5(n,t){for(var e=nk(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function u5(n,t){for(var e=nk(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function D0e(n){return function(){c5(this,n)}}function S0e(n){return function(){u5(this,n)}}function E0e(n,t){return function(){(t.apply(this,arguments)?c5:u5)(this,n)}}function I0e(){this.textContent=""}function k0e(n){return function(){this.textContent=n}}function M0e(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function R0e(){this.innerHTML=""}function P0e(n){return function(){this.innerHTML=n}}function O0e(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function F0e(){this.nextSibling&&this.parentNode.appendChild(this)}function B0e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H0e(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===tk&&t.documentElement.namespaceURI===tk?t.createElement(n):t.createElementNS(e,n)}}function G0e(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function d5(n){var t=O0(n);return(t.local?G0e:H0e)(t)}function z0e(){return null}function W0e(){var n=this.parentNode;n&&n.removeChild(this)}function Y0e(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function X0e(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function exe(n){return function(){var t=this.__on;if(t){for(var s,e=0,i=-1,r=t.length;e<r;++e)s=t[e],n.type&&s.type!==n.type||s.name!==n.name?t[++i]=s:this.removeEventListener(s.type,s.listener,s.options);++i?t.length=i:delete this.__on}}}function txe(n,t,e){return function(){var r,i=this.__on,s=function Z0e(n){return function(t){n.call(this,t,this.__data__)}}(t);if(i)for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=e),void(r.value=t);this.addEventListener(n.type,s,e),r={type:n.type,name:n.name,value:t,listener:s,options:e},i?i.push(r):this.__on=[r]}}function h5(n,t,e){var i=o5(n),r=i.CustomEvent;"function"==typeof r?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function ixe(n,t){return function(){return h5(this,n,t)}}function rxe(n,t){return function(){return h5(this,n,t.apply(this,arguments))}}l5.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var f5=[null];function wr(n,t){this._groups=n,this._parents=t}function p5(){return new wr([[document.documentElement]],f5)}wr.prototype=p5.prototype={constructor:wr,select:function Mye(n){"function"!=typeof n&&(n=ek(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,c,s=t[r],o=s.length,a=i[r]=new Array(o),u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new wr(i,this._parents)},selectAll:function Oye(n){n="function"==typeof n?function Pye(n){return function(){return function Nye(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):t5(n);for(var t=this._groups,e=t.length,i=[],r=[],s=0;s<e;++s)for(var l,o=t[s],a=o.length,c=0;c<a;++c)(l=o[c])&&(i.push(n.call(l,l.__data__,c,o)),r.push(l));return new wr(i,r)},selectChild:function Bye(n){return this.select(null==n?Vye:function Fye(n){return function(){return Lye.call(this.children,n)}}("function"==typeof n?n:i5(n)))},selectChildren:function Uye(n){return this.selectAll(null==n?Hye:function Gye(n){return function(){return $ye.call(this.children,n)}}("function"==typeof n?n:i5(n)))},filter:function zye(n){"function"!=typeof n&&(n=n5(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new wr(i,this._parents)},data:function Kye(n,t){if(!arguments.length)return Array.from(this,Xye);var e=t?Yye:qye,i=this._parents,r=this._groups;"function"!=typeof n&&(n=function Wye(n){return function(){return n}}(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],d=r[c],h=d.length,f=Qye(n.call(u,u&&u.__data__,c,i)),p=f.length,m=a[c]=new Array(p),g=o[c]=new Array(p);e(u,d,m,g,l[c]=new Array(h),f,t);for(var b,D,_=0,y=0;_<p;++_)if(b=m[_]){for(_>=y&&(y=_+1);!(D=g[y])&&++y<p;);b._next=D||null}}return(o=new wr(o,i))._enter=a,o._exit=l,o},enter:function jye(){return new wr(this._enter||this._groups.map(r5),this._parents)},exit:function Zye(){return new wr(this._exit||this._groups.map(r5),this._parents)},join:function Jye(n,t,e){var i=this.enter(),r=this,s=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=t&&(r=t(r))&&(r=r.selection()),null==e?s.remove():e(s),i&&r?i.merge(r).order():r},merge:function e0e(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,r=e.length,o=Math.min(r,i.length),a=new Array(r),l=0;l<o;++l)for(var f,c=e[l],u=i[l],d=c.length,h=a[l]=new Array(d),p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<r;++l)a[l]=e[l];return new wr(a,this._parents)},selection:function axe(){return this},order:function t0e(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var o,i=n[t],r=i.length-1,s=i[r];--r>=0;)(o=i[r])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function n0e(n){function t(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}n||(n=i0e);for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s){for(var c,o=e[s],a=o.length,l=r[s]=new Array(a),u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new wr(r,this._parents).order()},call:function r0e(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function s0e(){return Array.from(this)},node:function o0e(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function a0e(){let n=0;for(const t of this)++n;return n},empty:function l0e(){return!this.node()},each:function c0e(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a,r=t[e],s=0,o=r.length;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this},attr:function m0e(n,t){var e=O0(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==t?e.local?d0e:u0e:"function"==typeof t?e.local?g0e:p0e:e.local?f0e:h0e)(e,t))},style:function x0e(n,t,e){return arguments.length>1?this.each((null==t?_0e:"function"==typeof t?y0e:v0e)(n,t,e??"")):Ed(this.node(),n)},property:function w0e(n,t){return arguments.length>1?this.each((null==t?b0e:"function"==typeof t?C0e:T0e)(n,t)):this.node()[n]},classed:function A0e(n,t){var e=a5(n+"");if(arguments.length<2){for(var i=nk(this.node()),r=-1,s=e.length;++r<s;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof t?E0e:t?D0e:S0e)(e,t))},text:function N0e(n){return arguments.length?this.each(null==n?I0e:("function"==typeof n?M0e:k0e)(n)):this.node().textContent},html:function L0e(n){return arguments.length?this.each(null==n?R0e:("function"==typeof n?O0e:P0e)(n)):this.node().innerHTML},raise:function V0e(){return this.each(F0e)},lower:function $0e(){return this.each(B0e)},append:function U0e(n){var t="function"==typeof n?n:d5(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function j0e(n,t){var e="function"==typeof n?n:d5(n),i=null==t?z0e:"function"==typeof t?t:ek(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function q0e(){return this.each(W0e)},clone:function K0e(n){return this.select(n?X0e:Y0e)},datum:function Q0e(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function nxe(n,t,e){var r,o,i=function J0e(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}(n+""),s=i.length;if(!(arguments.length<2)){for(a=t?txe:exe,r=0;r<s;++r)this.each(a(i[r],t,e));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function sxe(n,t){return this.each(("function"==typeof t?rxe:ixe)(n,t))},[Symbol.iterator]:function*oxe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var o,i=n[t],r=0,s=i.length;r<s;++r)(o=i[r])&&(yield o)}};const rg=p5;var lxe={value:()=>{}};function g5(){for(var i,n=0,t=arguments.length,e={};n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new L0(e)}function L0(n){this._=n}function uxe(n,t){for(var r,e=0,i=n.length;e<i;++e)if((r=n[e]).name===t)return r.value}function m5(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=lxe,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:t,value:e}),n}L0.prototype=g5.prototype={constructor:L0,on:function(n,t){var r,e=this._,i=function cxe(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}(n+"",e),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(n=i[s]).type)e[r]=m5(e[r],n.name,t);else if(null==t)for(r in e)e[r]=m5(e[r],n.name,null);return this}for(;++s<o;)if((r=(n=i[s]).type)&&(r=uxe(e[r],n.name)))return r},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new L0(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var r,s,e=new Array(r),i=0;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(s=this._[n]).length;i<r;++i)s[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(t,e)}};const _5=g5;function sk(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function v5(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function sg(){}var F0=1/.7,Ad="\\s*([+-]?\\d+)\\s*",ag="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fxe=/^#([0-9a-f]{3,8})$/,pxe=new RegExp(`^rgb\\(${Ad},${Ad},${Ad}\\)$`),gxe=new RegExp(`^rgb\\(${js},${js},${js}\\)$`),mxe=new RegExp(`^rgba\\(${Ad},${Ad},${Ad},${ag}\\)$`),_xe=new RegExp(`^rgba\\(${js},${js},${js},${ag}\\)$`),vxe=new RegExp(`^hsl\\(${ag},${js},${js}\\)$`),yxe=new RegExp(`^hsla\\(${ag},${js},${js},${ag}\\)$`),y5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function x5(){return this.rgb().formatHex()}function b5(){return this.rgb().formatRgb()}function Yl(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=fxe.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?T5(t):3===e?new ir(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?V0(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?V0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=pxe.exec(n))?new ir(t[1],t[2],t[3],1):(t=gxe.exec(n))?new ir(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=mxe.exec(n))?V0(t[1],t[2],t[3],t[4]):(t=_xe.exec(n))?V0(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=vxe.exec(n))?D5(t[1],t[2]/100,t[3]/100,1):(t=yxe.exec(n))?D5(t[1],t[2]/100,t[3]/100,t[4]):y5.hasOwnProperty(n)?T5(y5[n]):"transparent"===n?new ir(NaN,NaN,NaN,0):null}function T5(n){return new ir(n>>16&255,n>>8&255,255&n,1)}function V0(n,t,e,i){return i<=0&&(n=t=e=NaN),new ir(n,t,e,i)}function B0(n,t,e,i){return 1===arguments.length?function Txe(n){return n instanceof sg||(n=Yl(n)),n?new ir((n=n.rgb()).r,n.g,n.b,n.opacity):new ir}(n):new ir(n,t,e,i??1)}function ir(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}function C5(){return`#${Kl(this.r)}${Kl(this.g)}${Kl(this.b)}`}function w5(){const n=$0(this.opacity);return`${1===n?"rgb(":"rgba("}${Xl(this.r)}, ${Xl(this.g)}, ${Xl(this.b)}${1===n?")":`, ${n})`}`}function $0(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Xl(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Kl(n){return((n=Xl(n))<16?"0":"")+n.toString(16)}function D5(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new ds(n,t,e,i)}function S5(n){if(n instanceof ds)return new ds(n.h,n.s,n.l,n.opacity);if(n instanceof sg||(n=Yl(n)),!n)return new ds;if(n instanceof ds)return n;var t=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),s=Math.max(t,e,i),o=NaN,a=s-r,l=(s+r)/2;return a?(o=t===s?(e-i)/a+6*(e<i):e===s?(i-t)/a+2:(t-e)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new ds(o,a,l,n.opacity)}function ds(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}function E5(n){return(n=(n||0)%360)<0?n+360:n}function H0(n){return Math.max(0,Math.min(1,n||0))}function ok(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function A5(n,t,e,i,r){var s=n*n,o=s*n;return((1-3*n+3*s-o)*t+(4-6*s+3*o)*e+(1+3*n+3*s-3*o)*i+o*r)/6}sk(sg,Yl,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:x5,formatHex:x5,formatHex8:function xxe(){return this.rgb().formatHex8()},formatHsl:function bxe(){return S5(this).formatHsl()},formatRgb:b5,toString:b5}),sk(ir,B0,v5(sg,{brighter(n){return n=null==n?F0:Math.pow(F0,n),new ir(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new ir(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ir(Xl(this.r),Xl(this.g),Xl(this.b),$0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C5,formatHex:C5,formatHex8:function Cxe(){return`#${Kl(this.r)}${Kl(this.g)}${Kl(this.b)}${Kl(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:w5,toString:w5})),sk(ds,function wxe(n,t,e,i){return 1===arguments.length?S5(n):new ds(n,t,e,i??1)},v5(sg,{brighter(n){return n=null==n?F0:Math.pow(F0,n),new ds(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new ds(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new ir(ok(n>=240?n-240:n+120,r,i),ok(n,r,i),ok(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new ds(E5(this.h),H0(this.s),H0(this.l),$0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=$0(this.opacity);return`${1===n?"hsl(":"hsla("}${E5(this.h)}, ${100*H0(this.s)}%, ${100*H0(this.l)}%${1===n?")":`, ${n})`}`}}));const ak=n=>()=>n;function k5(n,t){var e=t-n;return e?function I5(n,t){return function(e){return n+e*t}}(n,e):ak(isNaN(n)?t:n)}const G0=function n(t){var e=function Axe(n){return 1==(n=+n)?k5:function(t,e){return e-t?function Exe(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}(t,e,n):ak(isNaN(t)?e:t)}}(t);function i(r,s){var o=e((r=B0(r)).r,(s=B0(s)).r),a=e(r.g,s.g),l=e(r.b,s.b),c=k5(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=n,i}(1);function M5(n){return function(t){var o,a,e=t.length,i=new Array(e),r=new Array(e),s=new Array(e);for(o=0;o<e;++o)a=B0(t[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=n(i),r=n(r),s=n(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}function hs(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}M5(function Dxe(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=n[i],s=n[i+1];return A5((e-i/t)*t,i>0?n[i-1]:2*r-s,r,s,i<t-1?n[i+2]:2*s-r)}}),M5(function Sxe(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t);return A5((e-i/t)*t,n[(i+t-1)%t],n[i%t],n[(i+1)%t],n[(i+2)%t])}});var lk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ck=new RegExp(lk.source,"g");function R5(n,t){var i,r,s,e=lk.lastIndex=ck.lastIndex=0,o=-1,a=[],l=[];for(n+="",t+="";(i=lk.exec(n))&&(r=ck.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:hs(i,r)})),e=ck.lastIndex;return e<t.length&&(s=t.slice(e),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?function Nxe(n){return function(t){return n(t)+""}}(l[0].x):function Mxe(n){return function(){return n}}(t):(t=l.length,function(c){for(var d,u=0;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var z0,ug,Id=0,lg=0,cg=0,O5=1e3,j0=0,Ql=0,W0=0,dg="object"==typeof performance&&performance.now?performance:Date,L5="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function uk(){return Ql||(L5(Lxe),Ql=dg.now()+W0)}function Lxe(){Ql=0}function q0(){this._call=this._time=this._next=null}function F5(n,t,e){var i=new q0;return i.restart(n,t,e),i}function V5(){Ql=(j0=dg.now())+W0,Id=lg=0;try{!function Fxe(){uk(),++Id;for(var t,n=z0;n;)(t=Ql-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Id}()}finally{Id=0,function Bxe(){for(var n,e,t=z0,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:z0=e);ug=n,dk(i)}(),Ql=0}}function Vxe(){var n=dg.now(),t=n-j0;t>O5&&(W0-=t,j0=n)}function dk(n){Id||(lg&&(lg=clearTimeout(lg)),n-Ql>24?(n<1/0&&(lg=setTimeout(V5,n-dg.now()-W0)),cg&&(cg=clearInterval(cg))):(cg||(j0=dg.now(),cg=setInterval(Vxe,O5)),Id=1,L5(V5)))}function B5(n,t,e){var i=new q0;return i.restart(r=>{i.stop(),n(r+t)},t=null==t?0:+t,e),i}q0.prototype=F5.prototype={constructor:q0,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?uk():+e)+(null==t?0:+t),!this._next&&ug!==this&&(ug?ug._next=this:z0=this,ug=this),this._call=n,this._time=e,dk()},stop:function(){this._call&&(this._call=null,this._time=1/0,dk())}};var $xe=_5("start","end","cancel","interrupt"),Hxe=[],$5=0,Y0=3;function K0(n,t,e,i,r,s){var o=n.__transition;if(o){if(e in o)return}else n.__transition={};!function Gxe(n,t,e){var r,i=n.__transition;function o(c){var u,d,h,f;if(1!==e.state)return l();for(u in i)if((f=i[u]).name===e.name){if(f.state===Y0)return B5(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete i[u])}if(B5(function(){e.state===Y0&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=Y0,r=new Array(h=e.tween.length),u=0,d=-1;u<h;++u)(f=e.tween[u].value.call(n,n.__data__,e.index,e.group))&&(r[++d]=f);r.length=d+1}}function a(c){for(var u=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=5,1),d=-1,h=r.length;++d<h;)r[d].call(n,u);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),l())}function l(){for(var c in e.state=6,e.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=e,e.timer=F5(function s(c){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=c&&o(c-e.delay)},0,e.time)}(n,e,{name:t,index:i,group:r,on:$xe,tween:Hxe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:$5})}function pk(n,t){var e=fs(n,t);if(e.state>$5)throw new Error("too late; already scheduled");return e}function Ws(n,t){var e=fs(n,t);if(e.state>Y0)throw new Error("too late; already running");return e}function fs(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}var Q0,U5=180/Math.PI,mk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function z5(n,t,e,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(l=n*e+t*i)&&(e-=n*l,i-=t*l),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,l/=a),n*i<t*e&&(n=-n,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,n)*U5,skewX:Math.atan(l)*U5,scaleX:o,scaleY:a}}function j5(n,t,e,i){function r(c){return c.length?c.pop()+" ":""}return function(c,u){var d=[],h=[];return c=n(c),u=n(u),function s(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push("translate(",null,t,null,e);p.push({i:m-4,x:hs(c,d)},{i:m-2,x:hs(u,h)})}else(d||h)&&f.push("translate("+d+t+h+e)}(c.translateX,c.translateY,u.translateX,u.translateY,d,h),function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(r(d)+"rotate(",null,i)-2,x:hs(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}(c.rotate,u.rotate,d,h),function a(c,u,d,h){c!==u?h.push({i:d.push(r(d)+"skewX(",null,i)-2,x:hs(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}(c.skewX,u.skewX,d,h),function l(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push(r(f)+"scale(",null,",",null,")");p.push({i:m-4,x:hs(c,d)},{i:m-2,x:hs(u,h)})}else(1!==d||1!==h)&&f.push(r(f)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var g,p=-1,m=h.length;++p<m;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var Wxe=j5(function zxe(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?mk:z5(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),qxe=j5(function jxe(n){return null!=n&&(Q0||(Q0=document.createElementNS("http://www.w3.org/2000/svg","g")),Q0.setAttribute("transform",n),n=Q0.transform.baseVal.consolidate())?z5((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):mk},", ",")",")");function Yxe(n,t){var e,i;return function(){var r=Ws(this,n),s=r.tween;if(s!==e)for(var o=0,a=(i=e=s).length;o<a;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}r.tween=i}}function Xxe(n,t,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var s=Ws(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:e},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function _k(n,t,e){var i=n._id;return n.each(function(){var r=Ws(this,i);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return fs(r,i).value[t]}}function W5(n,t){var e;return("number"==typeof t?hs:t instanceof Yl?G0:(e=Yl(t))?(t=e,G0):R5)(n,t)}function Qxe(n){return function(){this.removeAttribute(n)}}function Zxe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Jxe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=t(i=o,e)}}function ebe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=t(i=o,e)}}function tbe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttribute(n):(o=this.getAttribute(n))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function nbe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function obe(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function sbe(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}(n,s)),e}return r._value=t,r}function abe(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function rbe(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}(n,s)),e}return r._value=t,r}function cbe(n,t){return function(){pk(this,n).delay=+t.apply(this,arguments)}}function ube(n,t){return t=+t,function(){pk(this,n).delay=t}}function hbe(n,t){return function(){Ws(this,n).duration=+t.apply(this,arguments)}}function fbe(n,t){return t=+t,function(){Ws(this,n).duration=t}}var Abe=rg.prototype.constructor;function q5(n){return function(){this.style.removeProperty(n)}}var Wbe=0;function Ro(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function Y5(){return++Wbe}var Po=rg.prototype;Ro.prototype=function qbe(n){return rg().transition(n)}.prototype={constructor:Ro,select:function Sbe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=ek(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var u,d,a=i[o],l=a.length,c=s[o]=new Array(l),h=0;h<l;++h)(u=a[h])&&(d=n.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,K0(c[h],t,e,h,c,fs(u,e)));return new Ro(s,this._parents,t,e)},selectAll:function Ebe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=t5(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var u,l=i[a],c=l.length,d=0;d<c;++d)if(u=l[d]){for(var f,h=n.call(u,u.__data__,d,l),p=fs(u,e),m=0,g=h.length;m<g;++m)(f=h[m])&&K0(f,t,e,m,h,p);s.push(h),o.push(u)}return new Ro(s,o,t,e)},selectChild:Po.selectChild,selectChildren:Po.selectChildren,filter:function ybe(n){"function"!=typeof n&&(n=n5(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Ro(i,this._parents,this._name,this._id)},merge:function xbe(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,s=Math.min(i,e.length),o=new Array(i),a=0;a<s;++a)for(var h,l=t[a],c=e[a],u=l.length,d=o[a]=new Array(u),f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<i;++a)o[a]=t[a];return new Ro(o,this._parents,this._name,this._id)},selection:function Ibe(){return new Abe(this._groups,this._parents)},transition:function zbe(){for(var n=this._name,t=this._id,e=Y5(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)if(l=o[c]){var u=fs(l,t);K0(l,n,e,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ro(i,this._parents,n,e)},call:Po.call,nodes:Po.nodes,node:Po.node,size:Po.size,empty:Po.empty,each:Po.each,on:function Cbe(n,t){var e=this._id;return arguments.length<2?fs(this.node(),e).on.on(n):this.each(function Tbe(n,t,e){var i,r,s=function bbe(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?pk:Ws;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(t,e),o.on=r}}(e,n,t))},attr:function ibe(n,t){var e=O0(n),i="transform"===e?qxe:W5;return this.attrTween(n,"function"==typeof t?(e.local?nbe:tbe)(e,i,_k(this,"attr."+n,t)):null==t?(e.local?Zxe:Qxe)(e):(e.local?ebe:Jxe)(e,i,t))},attrTween:function lbe(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var i=O0(n);return this.tween(e,(i.local?obe:abe)(i,t))},style:function Pbe(n,t,e){var i="transform"==(n+="")?Wxe:W5;return null==t?this.styleTween(n,function kbe(n,t){var e,i,r;return function(){var s=Ed(this,n),o=(this.style.removeProperty(n),Ed(this,n));return s===o?null:s===e&&o===i?r:r=t(e=s,i=o)}}(n,i)).on("end.style."+n,q5(n)):"function"==typeof t?this.styleTween(n,function Nbe(n,t,e){var i,r,s;return function(){var o=Ed(this,n),a=e(this),l=a+"";return null==a&&(this.style.removeProperty(n),l=a=Ed(this,n)),o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}(n,i,_k(this,"style."+n,t))).each(function Rbe(n,t){var e,i,r,a,s="style."+t,o="end."+s;return function(){var l=Ws(this,n),c=l.on,u=null==l.value[s]?a||(a=q5(t)):void 0;(c!==e||r!==u)&&(i=(e=c).copy()).on(o,r=u),l.on=i}}(this._id,n)):this.styleTween(n,function Mbe(n,t,e){var i,s,r=e+"";return function(){var o=Ed(this,n);return o===r?null:o===i?s:s=t(i=o,e)}}(n,i,t),e).on("end.style."+n,null)},styleTween:function Fbe(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function Lbe(n,t,e){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&function Obe(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}(n,o,e)),i}return s._value=t,s}(n,t,e??""))},text:function $be(n){return this.tween("text","function"==typeof n?function Bbe(n){return function(){var t=n(this);this.textContent=t??""}}(_k(this,"text",n)):function Vbe(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function Ube(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,function Gbe(n){var t,e;function i(){var r=n.apply(this,arguments);return r!==e&&(t=(e=r)&&function Hbe(n){return function(t){this.textContent=n.call(this,t)}}(r)),t}return i._value=n,i}(n))},remove:function Dbe(){return this.on("end.remove",function wbe(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function Kxe(n,t){var e=this._id;if(n+="",arguments.length<2){for(var o,i=fs(this.node(),e).tween,r=0,s=i.length;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((null==t?Yxe:Xxe)(e,n,t))},delay:function dbe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?cbe:ube)(t,n)):fs(this.node(),t).delay},duration:function pbe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?hbe:fbe)(t,n)):fs(this.node(),t).duration},ease:function mbe(n){var t=this._id;return arguments.length?this.each(function gbe(n,t){if("function"!=typeof t)throw new Error;return function(){Ws(this,n).ease=t}}(t,n)):fs(this.node(),t).ease},easeVarying:function vbe(n){if("function"!=typeof n)throw new Error;return this.each(function _be(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;Ws(this,n).ease=e}}(this._id,n))},end:function jbe(){var n,t,e=this,i=e._id,r=e.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--r&&s()}};e.each(function(){var c=Ws(this,i),u=c.on;u!==n&&((t=(n=u).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),0===r&&s()})},[Symbol.iterator]:Po[Symbol.iterator]};var Xbe={time:null,delay:0,duration:250,ease:function Ybe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function Kbe(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}rg.prototype.interrupt=function Uxe(n){return this.each(function(){!function gk(n,t){var i,r,o,e=n.__transition,s=!0;if(e){for(o in t=null==t?null:t+"",e)(i=e[o]).name===t?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[o]):s=!1;s&&delete n.__transition}}(this,n)})},rg.prototype.transition=function Qbe(n){var t,e;n instanceof Ro?(t=n._id,n=n._name):(t=Y5(),(e=Xbe).time=uk(),n=null==n?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)(l=o[c])&&K0(l,n,t,c,o,e||Kbe(l,t));return new Ro(i,this._parents,n,t)};Math;function hg(n){return{type:n}}function ex(n,t){return null==n||null==t?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function lTe(n,t){return null==n||null==t?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function wk(n){let t,e,i;function r(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}return 2!==n.length?(t=ex,e=(a,l)=>ex(n(a),l),i=(a,l)=>n(a)-l):(t=n===ex||n===lTe?n:cTe,e=n,i=n),{left:r,center:function o(a,l,c=0,u=a.length){const d=r(a,l,c,u-1);return d>c&&i(a[d-1],l)>-i(a[d],l)?d-1:d},right:function s(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}}}function cTe(){return 0}["w","e"].map(hg),["n","s"].map(hg),["n","w","e","s","nw","ne","sw","se"].map(hg);const uTe=Math.sqrt(50),dTe=Math.sqrt(10),hTe=Math.sqrt(2);function tx(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=uTe?10:s>=dTe?5:s>=hTe?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(n*c),l=Math.round(t*c),a/c<n&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(n/c),l=Math.round(t/c),a*c<n&&++a,l*c>t&&--l),l<a&&.5<=e&&e<2?tx(n,t,2*e):[a,l,c]}function Dk(n,t,e){return tx(n=+n,t=+t,e=+e)[2]}function Sk(n,t,e){e=+e;const i=(t=+t)<(n=+n),r=i?Dk(t,n,e):Dk(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}const Lo=1e3,Yr=6e4,Fo=60*Yr,Vo=24*Fo,Ek=7*Vo,eW=30*Vo,Ak=365*Vo,Ik=new Date,kk=new Date;function Wn(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),t(s,1),n(s),s),r.round=s=>{const o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=(s,o)=>(t(s=new Date(+s),null==o?1:Math.floor(o)),s),r.range=(s,o,a)=>{const l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;let c;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=s=>Wn(o=>{if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),e&&(r.count=(s,o)=>(Ik.setTime(+s),kk.setTime(+o),n(Ik),n(kk),Math.floor(e(Ik,kk))),r.every=s=>(s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?o=>i(o)%s==0:o=>r.count(0,o)%s==0):r:null)),r}const nx=Wn(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);nx.every=n=>(n=Math.floor(n),isFinite(n)&&n>0?n>1?Wn(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):nx:null);const Nd=Wn(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*Lo)},(n,t)=>(t-n)/Lo,n=>n.getUTCSeconds()),Mk=Wn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Lo)},(n,t)=>{n.setTime(+n+t*Yr)},(n,t)=>(t-n)/Yr,n=>n.getMinutes()),tW=Wn(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*Yr)},(n,t)=>(t-n)/Yr,n=>n.getUTCMinutes()),Nk=Wn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Lo-n.getMinutes()*Yr)},(n,t)=>{n.setTime(+n+t*Fo)},(n,t)=>(t-n)/Fo,n=>n.getHours()),nW=Wn(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*Fo)},(n,t)=>(t-n)/Fo,n=>n.getUTCHours()),Rk=Wn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Yr)/Vo,n=>n.getDate()-1),iW=(Wn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Vo,n=>n.getUTCDate()-1),Wn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Vo,n=>Math.floor(n/Vo)));function Zl(n){return Wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yr)/Ek)}const Pk=Zl(0);function Jl(n){return Wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/Ek)}Zl(1),Zl(2),Zl(3),Zl(4),Zl(5),Zl(6);const rW=Jl(0),Ok=(Jl(1),Jl(2),Jl(3),Jl(4),Jl(5),Jl(6),Wn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear()),n=>n.getMonth())),sW=Wn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear()),n=>n.getUTCMonth()),ix=Wn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());ix.every=n=>isFinite(n=Math.floor(n))&&n>0?Wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)}):null;const Lk=Wn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());function oW(n,t,e,i,r,s){const o=[[Nd,1,Lo],[Nd,5,5e3],[Nd,15,15e3],[Nd,30,3e4],[s,1,Yr],[s,5,5*Yr],[s,15,15*Yr],[s,30,30*Yr],[r,1,Fo],[r,3,3*Fo],[r,6,6*Fo],[r,12,12*Fo],[i,1,Vo],[i,2,2*Vo],[e,1,Ek],[t,1,eW],[t,3,3*eW],[n,1,Ak]];function l(c,u,d){const h=Math.abs(u-c)/d,f=wk(([,,g])=>g).right(o,h);if(f===o.length)return n.every(Sk(c/Ak,u/Ak,d));if(0===f)return nx.every(Math.max(Sk(c,u,d),1));const[p,m]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return p.every(m)}return[function a(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&"function"==typeof d.range?d:l(c,u,d),p=f?f.range(c,+u+1):[];return h?p.reverse():p},l]}Lk.every=n=>isFinite(n=Math.floor(n))&&n>0?Wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null;const[pGe,gGe]=oW(Lk,sW,rW,iW,nW,tW),[STe,ETe]=oW(ix,Ok,Pk,Rk,Nk,Mk);var Fk=new Date,Vk=new Date;function Bo(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=function(s){return n(s=new Date(+s)),s},r.ceil=function(s){return n(s=new Date(s-1)),t(s,1),n(s),s},r.round=function(s){var o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=function(s,o){return t(s=new Date(+s),null==o?1:Math.floor(o)),s},r.range=function(s,o,a){var c,l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=function(s){return Bo(function(o){if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););})},e&&(r.count=function(s,o){return Fk.setTime(+s),Vk.setTime(+o),n(Fk),n(Vk),Math.floor(e(Fk,Vk))},r.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?function(o){return i(o)%s==0}:function(o){return r.count(0,o)%s==0}):r:null}),r}const fg=864e5,aW=7*fg;function ec(n){return Bo(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/aW})}var lW=ec(0),rx=ec(1),Rd=(ec(2),ec(3),ec(4)),cW=(ec(5),ec(6),Bo(function(n){n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t-n)/fg},function(n){return n.getUTCDate()-1}));const uW=cW;function tc(n){return Bo(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/aW})}var dW=tc(0),sx=tc(1),Pd=(tc(2),tc(3),tc(4)),hW=(tc(5),tc(6),Bo(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/fg,n=>n.getDate()-1));const fW=hW;var $k=Bo(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});$k.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Bo(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};const pg=$k;var Hk=Bo(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});Hk.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Bo(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};const gg=Hk;function Gk(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Uk(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function mg(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}var pW={"-":"",_:" ",0:"0"},ei=/^\s*\d+/,FTe=/^%/,VTe=/[\\^$*+?|[\]().{}]/g;function ht(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<e?new Array(e-s+1).join(t)+r:r)}function BTe(n){return n.replace(VTe,"\\$&")}function _g(n){return new RegExp("^(?:"+n.map(BTe).join("|")+")","i")}function vg(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function $Te(n,t,e){var i=ei.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function HTe(n,t,e){var i=ei.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function GTe(n,t,e){var i=ei.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function UTe(n,t,e){var i=ei.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function zTe(n,t,e){var i=ei.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function gW(n,t,e){var i=ei.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function mW(n,t,e){var i=ei.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function jTe(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function WTe(n,t,e){var i=ei.exec(t.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function qTe(n,t,e){var i=ei.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function _W(n,t,e){var i=ei.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function YTe(n,t,e){var i=ei.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function vW(n,t,e){var i=ei.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function XTe(n,t,e){var i=ei.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function KTe(n,t,e){var i=ei.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function QTe(n,t,e){var i=ei.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function ZTe(n,t,e){var i=ei.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function JTe(n,t,e){var i=FTe.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function eCe(n,t,e){var i=ei.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function tCe(n,t,e){var i=ei.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function yW(n,t){return ht(n.getDate(),t,2)}function nCe(n,t){return ht(n.getHours(),t,2)}function iCe(n,t){return ht(n.getHours()%12||12,t,2)}function rCe(n,t){return ht(1+fW.count(pg(n),n),t,3)}function xW(n,t){return ht(n.getMilliseconds(),t,3)}function sCe(n,t){return xW(n,t)+"000"}function oCe(n,t){return ht(n.getMonth()+1,t,2)}function aCe(n,t){return ht(n.getMinutes(),t,2)}function lCe(n,t){return ht(n.getSeconds(),t,2)}function cCe(n){var t=n.getDay();return 0===t?7:t}function uCe(n,t){return ht(dW.count(pg(n)-1,n),t,2)}function bW(n){var t=n.getDay();return t>=4||0===t?Pd(n):Pd.ceil(n)}function dCe(n,t){return n=bW(n),ht(Pd.count(pg(n),n)+(4===pg(n).getDay()),t,2)}function hCe(n){return n.getDay()}function fCe(n,t){return ht(sx.count(pg(n)-1,n),t,2)}function pCe(n,t){return ht(n.getFullYear()%100,t,2)}function gCe(n,t){return ht((n=bW(n)).getFullYear()%100,t,2)}function mCe(n,t){return ht(n.getFullYear()%1e4,t,4)}function _Ce(n,t){var e=n.getDay();return ht((n=e>=4||0===e?Pd(n):Pd.ceil(n)).getFullYear()%1e4,t,4)}function vCe(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function TW(n,t){return ht(n.getUTCDate(),t,2)}function yCe(n,t){return ht(n.getUTCHours(),t,2)}function xCe(n,t){return ht(n.getUTCHours()%12||12,t,2)}function bCe(n,t){return ht(1+uW.count(gg(n),n),t,3)}function CW(n,t){return ht(n.getUTCMilliseconds(),t,3)}function TCe(n,t){return CW(n,t)+"000"}function CCe(n,t){return ht(n.getUTCMonth()+1,t,2)}function wCe(n,t){return ht(n.getUTCMinutes(),t,2)}function DCe(n,t){return ht(n.getUTCSeconds(),t,2)}function SCe(n){var t=n.getUTCDay();return 0===t?7:t}function ECe(n,t){return ht(lW.count(gg(n)-1,n),t,2)}function wW(n){var t=n.getUTCDay();return t>=4||0===t?Rd(n):Rd.ceil(n)}function ACe(n,t){return n=wW(n),ht(Rd.count(gg(n),n)+(4===gg(n).getUTCDay()),t,2)}function ICe(n){return n.getUTCDay()}function kCe(n,t){return ht(rx.count(gg(n)-1,n),t,2)}function MCe(n,t){return ht(n.getUTCFullYear()%100,t,2)}function NCe(n,t){return ht((n=wW(n)).getUTCFullYear()%100,t,2)}function RCe(n,t){return ht(n.getUTCFullYear()%1e4,t,4)}function PCe(n,t){var e=n.getUTCDay();return ht((n=e>=4||0===e?Rd(n):Rd.ceil(n)).getUTCFullYear()%1e4,t,4)}function OCe(){return"+0000"}function DW(){return"%"}function SW(n){return+n}function EW(n){return Math.floor(+n/1e3)}!function BCe(n){(function LTe(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,s=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,c=_g(r),u=vg(r),d=_g(s),h=vg(s),f=_g(o),p=vg(o),m=_g(a),g=vg(a),v=_g(l),_=vg(l),y={a:function U(j){return o[j.getDay()]},A:function oe(j){return s[j.getDay()]},b:function re(j){return l[j.getMonth()]},B:function Ve(j){return a[j.getMonth()]},c:null,d:yW,e:yW,f:sCe,g:gCe,G:_Ce,H:nCe,I:iCe,j:rCe,L:xW,m:oCe,M:aCe,p:function nt(j){return r[+(j.getHours()>=12)]},q:function Ue(j){return 1+~~(j.getMonth()/3)},Q:SW,s:EW,S:lCe,u:cCe,U:uCe,V:dCe,w:hCe,W:fCe,x:null,X:null,y:pCe,Y:mCe,Z:vCe,"%":DW},b={a:function qn(j){return o[j.getUTCDay()]},A:function Ze(j){return s[j.getUTCDay()]},b:function ti(j){return l[j.getUTCMonth()]},B:function rr(j){return a[j.getUTCMonth()]},c:null,d:TW,e:TW,f:TCe,g:NCe,G:PCe,H:yCe,I:xCe,j:bCe,L:CW,m:CCe,M:wCe,p:function qe(j){return r[+(j.getUTCHours()>=12)]},q:function on(j){return 1+~~(j.getUTCMonth()/3)},Q:SW,s:EW,S:DCe,u:SCe,U:ECe,V:ACe,w:ICe,W:kCe,x:null,X:null,y:MCe,Y:RCe,Z:OCe,"%":DW},D={a:function fe(j,Te,Be){var H=f.exec(Te.slice(Be));return H?(j.w=p.get(H[0].toLowerCase()),Be+H[0].length):-1},A:function te(j,Te,Be){var H=d.exec(Te.slice(Be));return H?(j.w=h.get(H[0].toLowerCase()),Be+H[0].length):-1},b:function tt(j,Te,Be){var H=v.exec(Te.slice(Be));return H?(j.m=_.get(H[0].toLowerCase()),Be+H[0].length):-1},B:function _e(j,Te,Be){var H=m.exec(Te.slice(Be));return H?(j.m=g.get(H[0].toLowerCase()),Be+H[0].length):-1},c:function Qe(j,Te,Be){return z(j,t,Te,Be)},d:_W,e:_W,f:ZTe,g:mW,G:gW,H:vW,I:vW,j:YTe,L:QTe,m:qTe,M:XTe,p:function ve(j,Te,Be){var H=c.exec(Te.slice(Be));return H?(j.p=u.get(H[0].toLowerCase()),Be+H[0].length):-1},q:WTe,Q:eCe,s:tCe,S:KTe,u:HTe,U:GTe,V:UTe,w:$Te,W:zTe,x:function tn(j,Te,Be){return z(j,e,Te,Be)},X:function B(j,Te,Be){return z(j,i,Te,Be)},y:mW,Y:gW,Z:jTe,"%":JTe};function S(j,Te){return function(Be){var ni,ye,nn,H=[],qt=-1,_t=0,mi=j.length;for(Be instanceof Date||(Be=new Date(+Be));++qt<mi;)37===j.charCodeAt(qt)&&(H.push(j.slice(_t,qt)),null!=(ye=pW[ni=j.charAt(++qt)])?ni=j.charAt(++qt):ye="e"===ni?" ":"0",(nn=Te[ni])&&(ni=nn(Be,ye)),H.push(ni),_t=qt+1);return H.push(j.slice(_t,qt)),H.join("")}}function V(j,Te){return function(Be){var _t,mi,H=mg(1900,void 0,1);if(z(H,j,Be+="",0)!=Be.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(1e3*H.s+("L"in H?H.L:0));if(Te&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+12*H.p),void 0===H.m&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(mi=(_t=Uk(mg(H.y,0,1))).getUTCDay(),_t=mi>4||0===mi?rx.ceil(_t):rx(_t),_t=uW.offset(_t,7*(H.V-1)),H.y=_t.getUTCFullYear(),H.m=_t.getUTCMonth(),H.d=_t.getUTCDate()+(H.w+6)%7):(mi=(_t=Gk(mg(H.y,0,1))).getDay(),_t=mi>4||0===mi?sx.ceil(_t):sx(_t),_t=fW.offset(_t,7*(H.V-1)),H.y=_t.getFullYear(),H.m=_t.getMonth(),H.d=_t.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),mi="Z"in H?Uk(mg(H.y,0,1)).getUTCDay():Gk(mg(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+7*H.W-(mi+5)%7:H.w+7*H.U-(mi+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Uk(H)):Gk(H)}}function z(j,Te,Be,H){for(var ni,ye,qt=0,_t=Te.length,mi=Be.length;qt<_t;){if(H>=mi)return-1;if(37===(ni=Te.charCodeAt(qt++))){if(ni=Te.charAt(qt++),!(ye=D[ni in pW?Te.charAt(qt++):ni])||(H=ye(j,Be,H))<0)return-1}else if(ni!=Be.charCodeAt(H++))return-1}return H}return y.x=S(e,y),y.X=S(i,y),y.c=S(t,y),b.x=S(e,b),b.X=S(i,b),b.c=S(t,b),{format:function(j){var Te=S(j+="",y);return Te.toString=function(){return j},Te},parse:function(j){var Te=V(j+="",!1);return Te.toString=function(){return j},Te},utcFormat:function(j){var Te=S(j+="",b);return Te.toString=function(){return j},Te},utcParse:function(j){var Te=V(j+="",!0);return Te.toString=function(){return j},Te}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),wk(ex),wk(function $Ce(n){return null===n?NaN:+n});var PW,ewe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ax(n){if(!(t=ewe.exec(n)))throw new Error("invalid format: "+n);var t;return new jk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function jk(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function lx(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function OW(n,t){var e=lx(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}ax.prototype=jk.prototype,jk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const LW={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function twe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>OW(100*n,t),r:OW,s:function owe(n,t){var e=lx(n,t);if(!e)return n+"";var i=e[0],r=e[1],s=r-(PW=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+lx(n,Math.max(0,t+s-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function FW(n){return n}var VW=Array.prototype.map,BW=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function awe(n){var t=void 0===n.grouping||void 0===n.thousands?FW:function iwe(n,t){return function(e,i){for(var r=e.length,s=[],o=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(e.substring(r-=a,r+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return s.reverse().join(t)}}(VW.call(n.grouping,Number),n.thousands+""),e=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",r=void 0===n.decimal?".":n.decimal+"",s=void 0===n.numerals?FW:function rwe(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}(VW.call(n.numerals,String)),o=void 0===n.percent?"%":n.percent+"",a=void 0===n.minus?"\u2212":n.minus+"",l=void 0===n.nan?"NaN":n.nan+"";function c(d){var h=(d=ax(d)).fill,f=d.align,p=d.sign,m=d.symbol,g=d.zero,v=d.width,_=d.comma,y=d.precision,b=d.trim,D=d.type;"n"===D?(_=!0,D="g"):LW[D]||(void 0===y&&(y=12),b=!0,D="g"),(g||"0"===h&&"="===f)&&(g=!0,h="0",f="=");var S="$"===m?e:"#"===m&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",V="$"===m?i:/[%p]/.test(D)?o:"",z=LW[D],ve=/[defgprs%]/.test(D);function fe(te){var Qe,tn,B,tt=S,_e=V;if("c"===D)_e=z(te)+_e,te="";else{var U=(te=+te)<0||1/te<0;if(te=isNaN(te)?l:z(Math.abs(te),y),b&&(te=function swe(n){e:for(var r,t=n.length,e=1,i=-1;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":0===i&&(i=e),r=e;break;default:if(!+n[e])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(r+1):n}(te)),U&&0==+te&&"+"!==p&&(U=!1),tt=(U?"("===p?p:a:"-"===p||"("===p?"":p)+tt,_e=("s"===D?BW[8+PW/3]:"")+_e+(U&&"("===p?")":""),ve)for(Qe=-1,tn=te.length;++Qe<tn;)if(48>(B=te.charCodeAt(Qe))||B>57){_e=(46===B?r+te.slice(Qe+1):te.slice(Qe))+_e,te=te.slice(0,Qe);break}}_&&!g&&(te=t(te,1/0));var oe=tt.length+te.length+_e.length,re=oe<v?new Array(v-oe+1).join(h):"";switch(_&&g&&(te=t(re+te,re.length?v-_e.length:1/0),re=""),f){case"<":te=tt+te+_e+re;break;case"=":te=tt+re+te+_e;break;case"^":te=re.slice(0,oe=re.length>>1)+tt+te+_e+re.slice(oe);break;default:te=re+tt+te+_e}return s(te)}return y=void 0===y?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),fe.toString=function(){return d+""},fe}return{format:c,formatPrefix:function u(d,h){var f=c(((d=ax(d)).type="f",d)),p=3*Math.max(-8,Math.min(8,Math.floor(function Fd(n){return(n=lx(Math.abs(n)))?n[1]:NaN}(h)/3))),m=Math.pow(10,-p),g=BW[8+p/3];return function(v){return f(m*v)+g}}}}!function lwe(n){awe(n)}({thousands:",",grouping:[3],currency:["$",""]}),Map,Symbol("implicit");var gwe=$a(178);const mwe=["caretElm"];function _we(n,t){}const vwe=function(n){return{model:n}};function ywe(n,t){if(1&n&&(I(0,"span"),ie(1,_we,0,0,"ng-template",5),N()),2&n){const e=ue();R(1),$("ngTemplateOutlet",e.template)("ngTemplateOutletContext",au(2,vwe,e.context))}}function xwe(n,t){1&n&&Ae(0,"span",6),2&n&&$("innerHTML",ue().title,eP)}function lDe(n,t,e){e=e||{};let i,r,s,o=null,a=0;function l(){a=!1===e.leading?0:+new Date,o=null,s=n.apply(i,r)}return function(){const c=+new Date;!a&&!1===e.leading&&(a=c);const u=t-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=n.apply(i,r)):!o&&!1!==e.trailing&&(o=setTimeout(l,u)),s}}function cDe(n,t){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:lDe(s.value,n,t)}),this[r]}}}}var Ke=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",n}(Ke||{});function ZW(n,t,e){return e===Ke.Top?n.top-7:e===Ke.Bottom?n.top+n.height-t.height+7:e===Ke.Center?n.top+n.height/2-t.height/2:void 0}function JW(n,t,e){return e===Ke.Left?n.left-7:e===Ke.Right?n.left+n.width-t.width+7:e===Ke.Center?n.left+n.width/2-t.width/2:void 0}class Dr{static calculateVerticalAlignment(t,e,i){let r=ZW(t,e,i);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,i,r){let s;r===Ke.Top&&(s=t.height/2-i.height/2+7),r===Ke.Bottom&&(s=e.height-t.height/2-i.height/2-7),r===Ke.Center&&(s=e.height/2-i.height/2);const o=ZW(t,e,r);return o+e.height>window.innerHeight&&(s+=o+e.height-window.innerHeight),s}static calculateHorizontalAlignment(t,e,i){let r=JW(t,e,i);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,i,r){let s;r===Ke.Left&&(s=t.width/2-i.width/2+7),r===Ke.Right&&(s=e.width-t.width/2-i.width/2-7),r===Ke.Center&&(s=e.width/2-i.width/2);const o=JW(t,e,r);return o+e.width>window.innerWidth&&(s+=o+e.width-window.innerWidth),s}static shouldFlip(t,e,i,r){let s=!1;return i===Ke.Right&&t.left+t.width+e.width+r>window.innerWidth&&(s=!0),i===Ke.Left&&t.left-e.width-r<0&&(s=!0),i===Ke.Top&&t.top-e.height-r<0&&(s=!0),i===Ke.Bottom&&t.top+t.height+e.height+r>window.innerHeight&&(s=!0),s}static positionCaret(t,e,i,r,s){let o=0,a=0;return t===Ke.Right?(a=-7,o=Dr.calculateVerticalCaret(i,e,r,s)):t===Ke.Left?(a=e.width,o=Dr.calculateVerticalCaret(i,e,r,s)):t===Ke.Top?(o=e.height,a=Dr.calculateHorizontalCaret(i,e,r,s)):t===Ke.Bottom&&(o=-7,a=Dr.calculateHorizontalCaret(i,e,r,s)),{top:o,left:a}}static positionContent(t,e,i,r,s){let o=0,a=0;return t===Ke.Right?(a=i.left+i.width+r,o=Dr.calculateVerticalAlignment(i,e,s)):t===Ke.Left?(a=i.left-e.width-r,o=Dr.calculateVerticalAlignment(i,e,s)):t===Ke.Top?(o=i.top-e.height-r,a=Dr.calculateHorizontalAlignment(i,e,s)):t===Ke.Bottom&&(o=i.top+i.height+r,a=Dr.calculateHorizontalAlignment(i,e,s)),{top:o,left:a}}static determinePlacement(t,e,i,r){if(Dr.shouldFlip(i,e,t,r)){if(t===Ke.Right)return Ke.Left;if(t===Ke.Left)return Ke.Right;if(t===Ke.Top)return Ke.Bottom;if(t===Ke.Bottom)return Ke.Top}return t}}let uDe=(()=>{class n{constructor(e,i,r){this.element=e,this.renderer=i,this.platformId=r}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!function ef(n){return n===X2}(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const r=e.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(e,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,r){const{top:s,left:o}=Dr.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${s}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,i){const r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=Dr.positionCaret(this.placement,i,e,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(e,i){this.placement=Dr.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(x(ut),x(fr),x(hr))},n.\u0275cmp=pt({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&Yh(mwe,5),2&e){let r;Kt(r=Qt())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(e,i){1&e&&se("resize",function(){return i.onWindowResize()},0,kP),2&e&&ea(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(I(0,"div"),Ae(1,"span",0,1),I(3,"div",2),ie(4,ywe,2,4,"span",3),ie(5,xwe,1,1,"span",4),N()()),2&e&&(R(1),function mL(n,t,e){ns(ur,Is,Kc(P(),n,t,e),!0)}("tooltip-caret position-",i.placement,""),$("hidden",!i.showCaret),R(3),$("ngIf",!i.title),R(1),$("ngIf",i.title))},dependencies:[Hr,fu],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function Hg(n,t,e,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}([cDe(100)],n.prototype,"onWindowResize",null),n})();class dDe{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const i=this.injectComponent(t,e);return this.register(t,i),i}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const i=e.indexOf(t);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs={...e,...t.inputs}),i&&(t.outputs={...i,...t.outputs}),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}let Kk,e8=(()=>{class n{constructor(e,i,r){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function hDe(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const r=Object.getOwnPropertyNames(i.inputs);for(const s of r)e.instance[s]=i.inputs[s]}if(void 0!==i.outputs){const r=Object.getOwnPropertyNames(i.outputs);for(const s of r)e.instance[s]=i.outputs[s]}}return e}appendComponent(e,i={},r){r||(r=this.getRootViewContainer());const s=this.getComponentRootNode(r),o=new Tye(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new Jj(e),l=o.attach(a);return this.projectComponentBindings(l,i),l}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(G(co),G(Gc),G(Sn))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})(),qk=(()=>{class n extends dDe{constructor(e){super(e),this.type=uDe}}return n.\u0275fac=function(e){return new(e||n)(G(e8))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})(),o8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li]]}),n})(),l8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({providers:[e8,qk],imports:[[li]]}),n})();typeof window<"u"?Kk=window:typeof global<"u"&&(Kk=global);let Sr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li,o8,l8],li,o8,l8]}),n})(),SDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[Sr]]}),n})(),m8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[Sr]]}),n})();gwe();let IDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[Sr]]}),n})(),kDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[Sr]]}),n})(),MDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[Sr]]}),n})(),_8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[Sr]]}),n})();Math;let Zk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[Sr]]}),n})(),PDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[Sr,Zk,_8]]}),n})(),LDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[Sr]]}),n})(),FDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[Sr]]}),n})(),BDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[Sr,Zk,m8]]}),n})(),HDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[Sr]]}),n})(),GDe=(()=>{class n{constructor(){!function $De(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[Sr,SDe,m8,IDe,kDe,MDe,HDe,_8,PDe,LDe,Zk,FDe,BDe]}),n})();const{isArray:zDe}=Array;function v8(n){return 1===n.length&&zDe(n[0])?n[0]:n}function gx(...n){const t=Ug(n),e=v8(n);return e.length?new ft(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)Pn(e[o]).subscribe(Mt(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Mr}function eM(...n){const t=Ug(n);return Yt((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Pn(n[l]).subscribe(Mt(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(kr))&&(o=null))},kt));e.subscribe(Mt(i,l=>{if(a){const c=[l,...s];i.next(t?t(...c):c)}}))})}new ft(kt),Math,Math,Math;const rEe=["*"],TEe=["dialog"];function rc(n){return null!=n}function zd(n){return(n||document.body).getBoundingClientRect()}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const V8={animation:!0,transitionTimerDelayMs:5},_Ae=()=>{},{transitionTimerDelayMs:vAe}=V8,Sg=new Map,zi=(n,t,e,i)=>{let r=i.context||{};const s=Sg.get(t);if(s)switch(i.runningTransition){case"continue":return Mr;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Sg.delete(t)}const o=e(t,i.animation,r)||_Ae;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),xe(void 0).pipe(function gAe(n){return t=>new ft(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new Pt,l=new Pt,c=a.pipe(function WDe(...n){return t=>df(t,xe(...n))}(!0));Sg.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function mAe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const d=Ai(t,"transitionend").pipe(kn(c),bi(({target:f})=>f===t));(function y8(...n){return 1===(n=v8(n)).length?Pn(n[0]):new ft(function jDe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(Pn(n[i]).subscribe(Mt(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(function Jk(n=0,t,e=Mce){let i=-1;return null!=t&&(PM(t)?e=t:i=t),new ft(r=>{let s=function UDe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(u+vAe).pipe(kn(c)),d,l).pipe(kn(c)).subscribe(()=>{Sg.delete(t),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let bx=(()=>{class n{constructor(){this.animation=V8.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li]]}),n})(),j8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li]]}),n})(),q8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({}),n})(),K8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li]]}),n})(),Q8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({}),n})();var gi=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(gi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const J8=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function e6(n){const t=Array.from(n.querySelectorAll(J8)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let l6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li,Qj]]}),n})(),h6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({}),n})();class ac{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let uIe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Yn(1)).subscribe(()=>{zi(this._zone,this._el.nativeElement,(e,i)=>{i&&zd(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return zi(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(x(ut),x(ze))},n.\u0275cmp=pt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(ea("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),wt("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class f6{close(t){}dismiss(t){}}class dIe{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Pt,this._dismissed=new Pt,this._hidden=new Pt,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(kn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(kn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function fAe(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():xe(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),gx(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yM=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(yM||{});let hIe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Pt,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ae,this.shown=new Pt,this.hidden=new Pt}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Yn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=gx(zi(this._zone,e,()=>e.classList.remove("show"),i),zi(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};gx(zi(this._zone,this._elRef.nativeElement,(s,o)=>{o&&zd(s),s.classList.add("show")},e),zi(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Ai(e,"keydown").pipe(kn(this._closed$),bi(r=>r.which===gi.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(yM.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Ai(this._dialogEl.nativeElement,"mousedown").pipe(kn(this._closed$),Un(()=>i=!1),or(()=>Ai(e,"mouseup").pipe(kn(this._closed$),Yn(1))),bi(({target:r})=>e===r)).subscribe(()=>{i=!0}),Ai(e,"click").pipe(kn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(yM.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=e6(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&zi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(x(An),x(ut),x(ze))},n.\u0275cmp=pt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&Yh(TEe,7),2&e){let r;Kt(r=Qt())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(Fe("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),ea("modal d-block"+(i.windowClass?" "+i.windowClass:"")),wt("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:rEe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(function i_(n){const t=P()[mn][_i];if(!t.projection){const i=t.projection=vh(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?UK(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}(),I(0,"div",0,1)(2,"div",2),function r_(n,t=0,e){const i=P(),r=st(),s=Yc(r,Xe+n,16,null,e||null);null===s.projection&&(s.projection=t),hb(),(!i[to]||bc())&&32!=(32&s.flags)&&function q7(n,t,e){HR(t[Ne],0,t,e,Bb(n,e,t),OR(e.parent||t[_i],e,t))}(r,i,s)}(3),N()()),2&e&&ea("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),fIe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}}return n.\u0275fac=function(e){return new(e||n)(G(An))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pIe=(()=>{class n{constructor(e,i,r,s,o,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new Pt,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new ae,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Ai(t,"focusin").pipe(kn(e),$e(s=>s.target));Ai(t,"keydown").pipe(kn(e),bi(s=>s.which===gi.Tab),eM(r)).subscribe(([s,o])=>{const[a,l]=e6(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Ai(t,"click").pipe(kn(e),eM(r),$e(s=>s[1])).subscribe(s=>s.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,s){const o=s.container instanceof HTMLElement?s.container:rc(s.container)?this._document.querySelector(s.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.hide(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const u=new f6,d=this._getContentRef(e,s.injector||i,r,u,s);let h=!1!==s.backdrop?this._attachBackdrop(e,o):void 0,f=this._attachWindowComponent(e,o,d),p=new dIe(f,d,h,s.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(f),p.result.then(l,l),p.result.then(c,c),u.close=m=>{p.close(m)},u.dismiss=m=>{p.dismiss(m)},this._applyWindowOptions(f.instance,s),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,s),h.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(uIe).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let o=e.resolveComponentFactory(hIe).create(this._injector,r.nodes);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{rc(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{rc(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,o){return r?r instanceof dn?this._createFromTemplateRef(r,s):function F8(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new ac([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new ac([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new ac([[i]])}_createFromComponent(e,i,r,s,o){const a=e.resolveComponentFactory(r),l=Sn.create({providers:[{provide:f6,useValue:s}],parent:i}),c=a.create(l),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new ac([[u]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(G(co),G(Sn),G(An),G(fIe),G(zc),G(ze))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gIe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(G(bx))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mIe=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(G(Gc),G(Sn),G(pIe),G(gIe))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({providers:[mIe]}),n})(),v6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li]]}),n})(),S6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li]]}),n})(),A6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li]]}),n})(),I6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li]]}),n})(),k6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li]]}),n})(),M6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li]]}),n})(),N6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li]]}),n})(),R6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({}),n})();new ee("live announcer delay",{providedIn:"root",factory:function IIe(){return 100}});let P6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[[li]]}),n})();const kIe=[z8,j8,q8,K8,Q8,l6,h6,p6,v6,S6,A6,I6,k6,M6,N6,R6,P6];let MIe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=be({imports:[kIe,z8,j8,q8,K8,Q8,l6,h6,p6,v6,S6,A6,I6,k6,M6,N6,R6,P6]}),n})(),NIe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n,bootstrap:[_ye]});static#n=this.\u0275inj=be({providers:[Jp],imports:[fV,mye,Q_e,GDe,pse,MIe,Qj,zce(()=>jce(vye_firebase)),S_e(()=>E_e())]})}return n})();uie().bootstrapModule(NIe).catch(n=>console.error(n))},178:Ks=>{function Ar(Ht){return Ht instanceof Buffer?Buffer.from(Ht):new Ht.constructor(Ht.buffer.slice(),Ht.byteOffset,Ht.length)}Ks.exports=function $a(Ht){return(Ht=Ht||{}).circles?function je(Ht){var Gt=[],an=[];return Ht.proto?function vt(me){if("object"!=typeof me||null===me)return me;if(me instanceof Date)return new Date(me);if(Array.isArray(me))return We(me,vt);if(me instanceof Map)return new Map(We(Array.from(me),vt));if(me instanceof Set)return new Set(We(Array.from(me),vt));var de={};for(var lt in Gt.push(me),an.push(de),me){var ke=me[lt];if("object"!=typeof ke||null===ke)de[lt]=ke;else if(ke instanceof Date)de[lt]=new Date(ke);else if(ke instanceof Map)de[lt]=new Map(We(Array.from(ke),vt));else if(ke instanceof Set)de[lt]=new Set(We(Array.from(ke),vt));else if(ArrayBuffer.isView(ke))de[lt]=Ar(ke);else{var kt=Gt.indexOf(ke);de[lt]=-1!==kt?an[kt]:vt(ke)}}return Gt.pop(),an.pop(),de}:function Oe(me){if("object"!=typeof me||null===me)return me;if(me instanceof Date)return new Date(me);if(Array.isArray(me))return We(me,Oe);if(me instanceof Map)return new Map(We(Array.from(me),Oe));if(me instanceof Set)return new Set(We(Array.from(me),Oe));var de={};for(var lt in Gt.push(me),an.push(de),me)if(!1!==Object.hasOwnProperty.call(me,lt)){var ke=me[lt];if("object"!=typeof ke||null===ke)de[lt]=ke;else if(ke instanceof Date)de[lt]=new Date(ke);else if(ke instanceof Map)de[lt]=new Map(We(Array.from(ke),Oe));else if(ke instanceof Set)de[lt]=new Set(We(Array.from(ke),Oe));else if(ArrayBuffer.isView(ke))de[lt]=Ar(ke);else{var kt=Gt.indexOf(ke);de[lt]=-1!==kt?an[kt]:Oe(ke)}}return Gt.pop(),an.pop(),de};function We(me,de){for(var lt=Object.keys(me),ke=new Array(lt.length),kt=0;kt<lt.length;kt++){var _s=lt[kt],sr=me[_s];if("object"!=typeof sr||null===sr)ke[_s]=sr;else if(sr instanceof Date)ke[_s]=new Date(sr);else if(ArrayBuffer.isView(sr))ke[_s]=Ar(sr);else{var vs=Gt.indexOf(sr);ke[_s]=-1!==vs?an[vs]:de(sr)}}return ke}}(Ht):Ht.proto?function We(Oe){if("object"!=typeof Oe||null===Oe)return Oe;if(Oe instanceof Date)return new Date(Oe);if(Array.isArray(Oe))return Gt(Oe,We);if(Oe instanceof Map)return new Map(Gt(Array.from(Oe),We));if(Oe instanceof Set)return new Set(Gt(Array.from(Oe),We));var vt={};for(var me in Oe){var de=Oe[me];vt[me]="object"!=typeof de||null===de?de:de instanceof Date?new Date(de):de instanceof Map?new Map(Gt(Array.from(de),We)):de instanceof Set?new Set(Gt(Array.from(de),We)):ArrayBuffer.isView(de)?Ar(de):We(de)}return vt}:function an(Oe){if("object"!=typeof Oe||null===Oe)return Oe;if(Oe instanceof Date)return new Date(Oe);if(Array.isArray(Oe))return Gt(Oe,an);if(Oe instanceof Map)return new Map(Gt(Array.from(Oe),an));if(Oe instanceof Set)return new Set(Gt(Array.from(Oe),an));var vt={};for(var me in Oe)if(!1!==Object.hasOwnProperty.call(Oe,me)){var de=Oe[me];vt[me]="object"!=typeof de||null===de?de:de instanceof Date?new Date(de):de instanceof Map?new Map(Gt(Array.from(de),an)):de instanceof Set?new Set(Gt(Array.from(de),an)):ArrayBuffer.isView(de)?Ar(de):an(de)}return vt};function Gt(Oe,vt){for(var me=Object.keys(Oe),de=new Array(me.length),lt=0;lt<me.length;lt++){var ke=me[lt],kt=Oe[ke];de[ke]="object"!=typeof kt||null===kt?kt:kt instanceof Date?new Date(kt):ArrayBuffer.isView(kt)?Ar(kt):vt(kt)}return de}}},614:()=>{const Ks=":";const Ua=function(w,...T){if(Ua.translate){const O=Ua.translate(w,T);w=O[0],T=O[1]}let M=Gg(w[0],w.raw[0]);for(let O=1;O<w.length;O++)M+=T[O-1]+Gg(w[O],w.raw[O]);return M},Hg=":";function Gg(w,T){return T.charAt(0)===Hg?w.substring(function Fg(w,T){for(let M=1,O=1;M<w.length;M++,O++)if("\\"===T[O])O++;else if(w[M]===Ks)return M;throw new Error(`Unterminated $localize metadata block in "${T}".`)}(w,T)+1):w}globalThis.$localize=Ua}},Ks=>{var Ar=je=>Ks(Ks.s=je);Ar(614),Ar(180)}]);