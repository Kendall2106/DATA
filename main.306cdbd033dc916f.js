"use strict";(self.webpackChunkTrackify=self.webpackChunkTrackify||[]).push([[179],{285:(to,Pr,ja)=>{function Ke(n){return"function"==typeof n}function Wt(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const qt=Wt(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function gn(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Ve{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Ke(i))try{i()}catch(s){t=s instanceof qt?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ve(s)}catch(o){t=t??[],o instanceof qt?t=[...t,...o.errors]:t.push(o)}}if(t)throw new qt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ve(t);else{if(t instanceof Ve){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&gn(e,t)}remove(t){const{_finalizers:e}=this;e&&gn(e,t),t instanceof Ve&&t._removeParent(this)}}Ve.EMPTY=(()=>{const n=new Ve;return n.closed=!0,n})();const $e=Ve.EMPTY;function Ct(n){return n instanceof Ve||n&&"closed"in n&&Ke(n.remove)&&Ke(n.add)&&Ke(n.unsubscribe)}function ve(n){Ke(n)?n():n.unsubscribe()}const pe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},pt={setTimeout(n,t,...e){const{delegate:i}=pt;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=pt;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ne(n){pt.setTimeout(()=>{const{onUnhandledError:t}=pe;if(!t)throw n;t(n)})}function Ot(){}const xs=rh("C",void 0,void 0);function rh(n,t,e){return{kind:n,value:t,error:e}}let Cs=null;function Wa(n){if(pe.useDeprecatedSynchronousErrorHandling){const t=!Cs;if(t&&(Cs={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Cs;if(Cs=null,e)throw i}}else n()}class vc extends Ve{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ct(t)&&t.add(this)):this.destination=Xg}static create(t,e,i){return new qa(t,e,i)}next(t){this.isStopped?oh(function Ts(n){return rh("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?oh(function dr(n){return rh("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?oh(xs,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const sh=Function.prototype.bind;function Or(n,t){return sh.call(n,t)}class Kg{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Yo(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Yo(i)}else Yo(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Yo(e)}}}class qa extends vc{constructor(t,e,i){let r;if(super(),Ke(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&pe.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Or(t.next,s),error:t.error&&Or(t.error,s),complete:t.complete&&Or(t.complete,s)}):r=t}this.destination=new Kg(r)}}function Yo(n){pe.useDeprecatedSynchronousErrorHandling?function Yg(n){pe.useDeprecatedSynchronousErrorHandling&&Cs&&(Cs.errorThrown=!0,Cs.error=n)}(n):Ne(n)}function oh(n,t){const{onStoppedNotification:e}=pe;e&&pt.setTimeout(()=>e(n,t))}const Xg={closed:!0,next:Ot,error:function nx(n){throw n},complete:Ot},ah="function"==typeof Symbol&&Symbol.observable||"@@observable";function Lr(n){return n}function Qg(n){return 0===n.length?Lr:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let lt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function rx(n){return n&&n instanceof vc||function Jg(n){return n&&Ke(n.next)&&Ke(n.error)&&Ke(n.complete)}(n)&&Ct(n)}(e)?e:new qa(e,i,r);return Wa(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Zg(i))((r,s)=>{const o=new qa({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ah](){return this}pipe(...e){return Qg(e)(this)}toPromise(e){return new(e=Zg(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function Zg(n){var t;return null!==(t=n??pe.Promise)&&void 0!==t?t:Promise}const em=Wt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let De=(()=>{class n extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new sx(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new em}next(e){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?$e:(this.currentObservers=null,s.push(e),new Ve(()=>{this.currentObservers=null,gn(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new lt;return e.source=this,e}}return n.create=(t,e)=>new sx(t,e),n})();class sx extends De{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:$e}}function tm(n){return Ke(n?.lift)}function Yt(n){return t=>{if(tm(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Et(n,t,e,i,r){return new nm(n,t,e,i,r)}class nm extends vc{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ge(n,t){return Yt((e,i)=>{let r=0;e.subscribe(Et(i,s=>{i.next(n.call(t,s,r++))}))})}function Ya(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}function In(n){return this instanceof In?(this.v=n,this):new In(n)}function Ko(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function An(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const cx=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function dR(n){return Ke(n?.then)}function hR(n){return Ke(n[ah])}function fR(n){return Symbol.asyncIterator&&Ke(n?.[Symbol.asyncIterator])}function pR(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gR=function cq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mR(n){return Ke(n?.[gR])}function _R(n){return function Xa(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof In?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield In(e.read());if(r)return yield In(void 0);yield yield In(i)}}finally{e.releaseLock()}})}function vR(n){return Ke(n?.getReader)}function Mn(n){if(n instanceof lt)return n;if(null!=n){if(hR(n))return function uq(n){return new lt(t=>{const e=n[ah]();if(Ke(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(cx(n))return function dq(n){return new lt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(dR(n))return function hq(n){return new lt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ne)})}(n);if(fR(n))return yR(n);if(mR(n))return function fq(n){return new lt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(vR(n))return function pq(n){return yR(_R(n))}(n)}throw pR(n)}function yR(n){return new lt(t=>{(function gq(n,t){var e,i,r,s;return function fe(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Ko(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function io(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Bn(n,t,e=1/0){return Ke(t)?Bn((i,r)=>Ge((s,o)=>t(i,s,r,o))(Mn(n(i,r))),e):("number"==typeof t&&(e=t),Yt((i,r)=>function mq(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{s&&t.next(m),c++;let g=!1;Mn(e(m,u++)).subscribe(Et(t,v=>{r?.(v),s?f(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const v=l.shift();o?io(t,o,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return n.subscribe(Et(t,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function bc(n=1/0){return Bn(Lr,n)}const Fr=new lt(n=>n.complete());function bR(n){return n&&Ke(n.schedule)}function ux(n){return n[n.length-1]}function om(n){return Ke(ux(n))?n.pop():void 0}function uh(n){return bR(ux(n))?n.pop():void 0}function am(n,t=0){return Yt((e,i)=>{e.subscribe(Et(i,r=>io(i,n,()=>i.next(r),t),()=>io(i,n,()=>i.complete(),t),r=>io(i,n,()=>i.error(r),t)))})}function lm(n,t=0){return Yt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function xR(n,t){if(!n)throw new Error("Iterable cannot be null");return new lt(e=>{io(e,t,()=>{const i=n[Symbol.asyncIterator]();io(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Hn(n,t){return t?function wq(n,t){if(null!=n){if(hR(n))return function yq(n,t){return Mn(n).pipe(lm(t),am(t))}(n,t);if(cx(n))return function xq(n,t){return new lt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(dR(n))return function bq(n,t){return Mn(n).pipe(lm(t),am(t))}(n,t);if(fR(n))return xR(n,t);if(mR(n))return function Tq(n,t){return new lt(e=>{let i;return io(e,t,()=>{i=n[gR](),io(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>Ke(i?.return)&&i.return()})}(n,t);if(vR(n))return function Cq(n,t){return xR(_R(n),t)}(n,t)}throw pR(n)}(n,t):Mn(n)}function cm(...n){const t=uh(n),e=function vq(n,t){return"number"==typeof ux(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Mn(i[0]):bc(e)(Hn(i,t)):Fr}class $n extends De{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function Te(...n){return Hn(n,uh(n))}function TR(n={}){const{connector:t=(()=>new De),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Yt((m,g)=>{c++,!d&&!u&&h();const v=l=l??t();g.add(()=>{c--,0===c&&!d&&!u&&(a=dx(p,r))}),v.subscribe(g),!o&&c>0&&(o=new qa({next:_=>v.next(_),error:_=>{d=!0,h(),a=dx(f,e,_),v.error(_)},complete:()=>{u=!0,h(),a=dx(f,i),v.complete()}}),Mn(m).subscribe(o))})(s)}}function dx(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new qa({next:()=>{i.unsubscribe(),n()}});return Mn(t(...e)).subscribe(i)}function Ki(n,t){return Yt((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(Et(i,l=>{r?.unsubscribe();let c=0;const u=s++;Mn(n(l,u)).subscribe(r=Et(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Dq(n,t){return n===t}function It(n){for(let t in n)if(n[t]===It)return t;throw Error("Could not find renamed property on target object.")}function dm(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Gn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Gn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function hx(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Sq=It({__forward_ref__:It});function gt(n){return n.__forward_ref__=gt,n.toString=function(){return Gn(this())},n}function ke(n){return fx(n)?n():n}function fx(n){return"function"==typeof n&&n.hasOwnProperty(Sq)&&n.__forward_ref__===gt}function px(n){return n&&!!n.\u0275providers}const CR="https://g.co/ng/security#xss";class R extends Error{constructor(t,e){super(function hm(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Pe(n){return"string"==typeof n?n:null==n?"":String(n)}function gx(n,t){throw new R(-201,!1)}function Vr(n,t){null==n&&function Ae(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function we(n){return{providers:n.providers||[],imports:n.imports||[]}}function fm(n){return wR(n,gm)||wR(n,DR)}function wR(n,t){return n.hasOwnProperty(t)?n[t]:null}function pm(n){return n&&(n.hasOwnProperty(mx)||n.hasOwnProperty(Pq))?n[mx]:null}const gm=It({\u0275prov:It}),mx=It({\u0275inj:It}),DR=It({ngInjectableDef:It}),Pq=It({ngInjectorDef:It});var Qe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Qe||{});let _x;function Xi(n){const t=_x;return _x=n,t}function ER(n,t,e){const i=fm(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Qe.Optional?null:void 0!==t?t:void gx(Gn(n))}const Bt=globalThis;class j{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=q({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const dh={},Tx="__NG_DI_FLAG__",mm="ngTempTokenPath",Fq=/\n/gm,IR="__source";let xc;function Xo(n){const t=xc;return xc=n,t}function Hq(n,t=Qe.Default){if(void 0===xc)throw new R(-203,!1);return null===xc?ER(n,void 0,t):xc.get(n,t&Qe.Optional?null:void 0,t)}function O(n,t=Qe.Default){return(function SR(){return _x}()||Hq)(ke(n),t)}function ee(n,t=Qe.Default){return O(n,_m(t))}function _m(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Cx(n){const t=[];for(let e=0;e<n.length;e++){const i=ke(n[e]);if(Array.isArray(i)){if(0===i.length)throw new R(900,!1);let r,s=Qe.Default;for(let o=0;o<i.length;o++){const a=i[o],l=$q(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(O(r,s))}else t.push(O(i))}return t}function hh(n,t){return n[Tx]=t,n.prototype[Tx]=t,n}function $q(n){return n[Tx]}function ro(n){return{toString:n}.toString()}var vm=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(vm||{}),Br=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Br||{});const ws={},mt=[],ym=It({\u0275cmp:It}),wx=It({\u0275dir:It}),Dx=It({\u0275pipe:It}),MR=It({\u0275mod:It}),so=It({\u0275fac:It}),fh=It({__NG_ELEMENT_ID__:It}),RR=It({__NG_ENV_ID__:It});function NR(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function Sx(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];OR(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function PR(n){return 3===n||4===n||6===n}function OR(n){return 64===n.charCodeAt(0)}function ph(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||LR(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function LR(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const FR="ng-template";function zq(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==NR(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function VR(n){return 4===n.type&&n.value!==FR}function jq(n,t,e){return t===(4!==n.type||e?n.value:FR)}function Wq(n,t,e){let i=4;const r=n.attrs||[],s=function Kq(n){for(let t=0;t<n.length;t++)if(PR(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!jq(n,l,e)||""===l&&1===t.length){if(ts(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!zq(n.attrs,c,e)){if(ts(i))return!1;o=!0}continue}const d=qq(8&i?"class":l,r,VR(n),e);if(-1===d){if(ts(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==NR(f,c,0)||2&i&&c!==h){if(ts(i))return!1;o=!0}}}}else{if(!o&&!ts(i)&&!ts(l))return!1;if(o&&ts(l))continue;o=!1,i=l|1&i}}return ts(i)||o}function ts(n){return 0==(1&n)}function qq(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function Xq(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function BR(n,t,e=!1){for(let i=0;i<t.length;i++)if(Wq(n,t[i],e))return!0;return!1}function Qq(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function HR(n,t){return n?":not("+t.trim()+")":t}function Zq(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!ts(o)&&(t+=HR(s,r),r=""),i=o,s=s||!ts(i);e++}return""!==r&&(t+=HR(s,r)),t}function _t(n){return ro(()=>{const t=GR(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===vm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Br.Emulated,styles:n.styles||mt,_:null,schemas:n.schemas||null,tView:null,id:""};UR(e);const i=n.dependencies;return e.directiveDefs=bm(i,!1),e.pipeDefs=bm(i,!0),e.id=function o7(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function n7(n){return ct(n)||si(n)}function i7(n){return null!==n}function Se(n){return ro(()=>({type:n.type,bootstrap:n.bootstrap||mt,declarations:n.declarations||mt,imports:n.imports||mt,exports:n.exports||mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function $R(n,t){if(null==n)return ws;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function Y(n){return ro(()=>{const t=GR(n);return UR(t),t})}function ct(n){return n[ym]||null}function si(n){return n[wx]||null}function Oi(n){return n[Dx]||null}function fr(n,t){const e=n[MR]||null;if(!e&&!0===t)throw new Error(`Type ${Gn(n)} does not have '\u0275mod' property.`);return e}function GR(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||ws,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$R(n.inputs,t),outputs:$R(n.outputs)}}function UR(n){n.features?.forEach(t=>t(n))}function bm(n,t){if(!n)return null;const e=t?Oi:n7;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(i7)}const mn=0,oe=1,Ue=2,en=3,ns=4,gh=5,Ci=6,Cc=7,bn=8,Qo=9,wc=10,Oe=11,mh=12,zR=13,Dc=14,xn=15,_h=16,Sc=17,Ds=18,vh=19,jR=20,Zo=21,oo=22,yh=23,bh=24,Ze=25,Ex=1,WR=2,Ss=7,Ec=9,oi=11;function Zi(n){return Array.isArray(n)&&"object"==typeof n[Ex]}function Li(n){return Array.isArray(n)&&!0===n[Ex]}function Ax(n){return 0!=(4&n.flags)}function Za(n){return n.componentOffset>-1}function Tm(n){return 1==(1&n.flags)}function is(n){return!!n.template}function Ix(n){return 0!=(512&n[Ue])}function Ja(n,t){return n.hasOwnProperty(so)?n[so]:null}let ai=null,Cm=!1;function Hr(n){const t=ai;return ai=n,t}const KR={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function QR(n){if(!Th(n)||n.dirty){if(!n.producerMustRecompute(n)&&!eN(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function JR(n){n.dirty=!0,function ZR(n){if(void 0===n.liveConsumerNode)return;const t=Cm;Cm=!0;try{for(const e of n.liveConsumerNode)e.dirty||JR(e)}finally{Cm=t}}(n),n.consumerMarkedDirty?.(n)}function Mx(n){return n&&(n.nextProducerIndex=0),Hr(n)}function Rx(n,t){if(Hr(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Th(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)wm(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function eN(n){Ac(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(QR(e),i!==e.version))return!0}return!1}function tN(n){if(Ac(n),Th(n))for(let t=0;t<n.producerNode.length;t++)wm(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function wm(n,t){if(function iN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ac(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)wm(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Ac(r),r.producerIndexOfThis[i]=t}}function Th(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ac(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let rN=null;const lN=()=>{},y7=(()=>({...KR,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:lN}))();class b7{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Nt(){return cN}function cN(n){return n.type.prototype.ngOnChanges&&(n.setInput=T7),x7}function x7(){const n=dN(this),t=n?.current;if(t){const e=n.previous;if(e===ws)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function T7(n,t,e,i){const r=this.declaredInputs[e],s=dN(n)||function C7(n,t){return n[uN]=t}(n,{previous:ws,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new b7(l&&l.currentValue,t,a===ws),n[i]=t}Nt.ngInherit=!0;const uN="__ngSimpleChanges__";function dN(n){return n[uN]||null}const Es=function(n,t,e){};function Ht(n){for(;Array.isArray(n);)n=n[mn];return n}function Dm(n,t){return Ht(t[n])}function Ji(n,t){return Ht(t[n.index])}function pN(n,t){return n.data[t]}function pr(n,t){const e=t[n];return Zi(e)?e:e[mn]}function ea(n,t){return null==t?null:n[t]}function gN(n){n[Sc]=0}function I7(n){1024&n[Ue]||(n[Ue]|=1024,_N(n,1))}function mN(n){1024&n[Ue]&&(n[Ue]&=-1025,_N(n,-1))}function _N(n,t){let e=n[en];if(null===e)return;e[gh]+=t;let i=e;for(e=e[en];null!==e&&(1===t&&1===i[gh]||-1===t&&0===i[gh]);)e[gh]+=t,i=e,e=e[en]}const Ie={lFrame:AN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bN(){return Ie.bindingsEnabled}function kc(){return null!==Ie.skipHydrationRootTNode}function L(){return Ie.lFrame.lView}function ut(){return Ie.lFrame.tView}function cn(n){return Ie.lFrame.contextLView=n,n[bn]}function un(n){return Ie.lFrame.contextLView=null,n}function li(){let n=xN();for(;null!==n&&64===n.type;)n=n.parent;return n}function xN(){return Ie.lFrame.currentTNode}function As(n,t){const e=Ie.lFrame;e.currentTNode=n,e.isParent=t}function Fx(){return Ie.lFrame.isParent}function Vx(){Ie.lFrame.isParent=!1}function Fi(){const n=Ie.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Mc(){return Ie.lFrame.bindingIndex++}function lo(n){const t=Ie.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function $7(n,t){const e=Ie.lFrame;e.bindingIndex=e.bindingRootIndex=n,Bx(t)}function Bx(n){Ie.lFrame.currentDirectiveIndex=n}function DN(){return Ie.lFrame.currentQueryIndex}function $x(n){Ie.lFrame.currentQueryIndex=n}function U7(n){const t=n[oe];return 2===t.type?t.declTNode:1===t.type?n[Ci]:null}function SN(n,t,e){if(e&Qe.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Qe.Host||(r=U7(s),null===r||(s=s[Dc],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Ie.lFrame=EN();return i.currentTNode=t,i.lView=n,!0}function Gx(n){const t=EN(),e=n[oe];Ie.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function EN(){const n=Ie.lFrame,t=null===n?null:n.child;return null===t?AN(n):t}function AN(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function IN(){const n=Ie.lFrame;return Ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const kN=IN;function Ux(){const n=IN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vi(){return Ie.lFrame.selectedIndex}function el(n){Ie.lFrame.selectedIndex=n}function dn(){const n=Ie.lFrame;return pN(n.tView,n.selectedIndex)}let RN=!0;function Em(){return RN}function ta(n){RN=n}function Am(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function Im(n,t,e){NN(n,t,3,e)}function km(n,t,e,i){(3&n[Ue])===e&&NN(n,t,e,i)}function zx(n,t){let e=n[Ue];(3&e)===t&&(e&=8191,e+=1,n[Ue]=e)}function NN(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Sc]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Sc]+=65536),(a<s||-1==s)&&(K7(n,e,t,l),n[Sc]=(4294901760&n[Sc])+l+2),l++}function PN(n,t){Es(4,n,t);const e=Hr(null);try{t.call(n)}finally{Hr(e),Es(5,n,t)}}function K7(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];r?n[Ue]>>13<n[Sc]>>16&&(3&n[Ue])===t&&(n[Ue]+=8192,PN(a,s)):PN(a,s)}const Rc=-1;class wh{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Wx(n){return n!==Rc}function Dh(n){return 32767&n}function Sh(n,t){let e=function J7(n){return n>>16}(n),i=t;for(;e>0;)i=i[Dc],e--;return i}let qx=!0;function Mm(n){const t=qx;return qx=n,t}const ON=255,LN=5;let eY=0;const Is={};function Rm(n,t){const e=FN(n,t);if(-1!==e)return e;const i=t[oe];i.firstCreatePass&&(n.injectorIndex=t.length,Yx(i.data,n),Yx(t,null),Yx(i.blueprint,null));const r=Nm(n,t),s=n.injectorIndex;if(Wx(r)){const o=Dh(r),a=Sh(r,t),l=a[oe].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function Yx(n,t){n.push(0,0,0,0,0,0,0,0,t)}function FN(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Nm(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=zN(r),null===i)return Rc;if(e++,r=r[Dc],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Rc}function Kx(n,t,e){!function tY(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(fh)&&(i=e[fh]),null==i&&(i=e[fh]=eY++);const r=i&ON;t.data[n+(r>>LN)]|=1<<r}(n,t,e)}function VN(n,t,e){if(e&Qe.Optional||void 0!==n)return n;gx()}function BN(n,t,e,i){if(e&Qe.Optional&&void 0===i&&(i=null),!(e&(Qe.Self|Qe.Host))){const r=n[Qo],s=Xi(void 0);try{return r?r.get(t,i,e&Qe.Optional):ER(t,i,e&Qe.Optional)}finally{Xi(s)}}return VN(i,0,e)}function HN(n,t,e,i=Qe.Default,r){if(null!==n){if(2048&t[Ue]&&!(i&Qe.Self)){const o=function aY(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[Ue]&&!(512&o[Ue]);){const a=$N(s,o,e,i|Qe.Self,Is);if(a!==Is)return a;let l=s.parent;if(!l){const c=o[jR];if(c){const u=c.get(e,Is,i);if(u!==Is)return u}l=zN(o),o=o[Dc]}s=l}return r}(n,t,e,i,Is);if(o!==Is)return o}const s=$N(n,t,e,i,Is);if(s!==Is)return s}return BN(t,e,i,r)}function $N(n,t,e,i,r){const s=function rY(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(fh)?n[fh]:void 0;return"number"==typeof t?t>=0?t&ON:oY:t}(e);if("function"==typeof s){if(!SN(t,n,i))return i&Qe.Host?VN(r,0,i):BN(t,e,i,r);try{let o;if(o=s(i),null!=o||i&Qe.Optional)return o;gx()}finally{kN()}}else if("number"==typeof s){let o=null,a=FN(n,t),l=Rc,c=i&Qe.Host?t[xn][Ci]:null;for((-1===a||i&Qe.SkipSelf)&&(l=-1===a?Nm(n,t):t[a+8],l!==Rc&&UN(i,!1)?(o=t[oe],a=Dh(l),t=Sh(l,t)):a=-1);-1!==a;){const u=t[oe];if(GN(s,a,u.data)){const d=iY(a,t,e,o,i,c);if(d!==Is)return d}l=t[a+8],l!==Rc&&UN(i,t[oe].data[a+8]===c)&&GN(s,a,t)?(o=u,a=Dh(l),t=Sh(l,t)):a=-1}}return r}function iY(n,t,e,i,r,s){const o=t[oe],a=o.data[n+8],u=Pm(a,o,e,null==i?Za(a)&&qx:i!=o&&0!=(3&a.type),r&Qe.Host&&s===a);return null!==u?tl(t,o,u,a):Is}function Pm(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=o[l];if(f&&is(f)&&f.type===e)return l}return null}function tl(n,t,e,i){let r=n[e];const s=t.data;if(function X7(n){return n instanceof wh}(r)){const o=r;o.resolving&&function Eq(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new R(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Pe(n)}(s[e]));const a=Mm(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Xi(o.injectImpl):null;SN(n,i,Qe.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Y7(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=cN(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&Xi(c),Mm(a),o.resolving=!1,kN()}}return r}function GN(n,t,e){return!!(e[t+(n>>LN)]&1<<n)}function UN(n,t){return!(n&Qe.Self||n&Qe.Host&&t)}class Bi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return HN(this._tNode,this._lView,t,_m(i),e)}}function oY(){return new Bi(li(),L())}function ci(n){return ro(()=>{const t=n.prototype.constructor,e=t[so]||Xx(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[so]||Xx(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Xx(n){return fx(n)?()=>{const t=Xx(ke(n));return t&&t()}:Ja(n)}function zN(n){const t=n[oe],e=t.type;return 2===e?t.declTNode:1===e?n[Ci]:null}const Oc="__parameters__";function Fc(n,t,e){return ro(()=>{const i=function Qx(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Oc)?l[Oc]:Object.defineProperty(l,Oc,{value:[]})[Oc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Bc(n,t){n.forEach(e=>Array.isArray(e)?Bc(e,t):t(e))}function WN(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Om(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ih(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function gr(n,t,e){let i=Hc(n,t);return i>=0?n[1|i]=e:(i=~i,function pY(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Zx(n,t){const e=Hc(n,t);if(e>=0)return n[1|e]}function Hc(n,t){return function qN(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Gr=hh(Fc("Optional"),8),Fm=hh(Fc("SkipSelf"),4);function Gm(n){return 128==(128&n.flags)}var na=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(na||{});const iT=new Map;let VY=0;const sT="__ngContext__";function wi(n,t){Zi(t)?(n[sT]=t[vh],function HY(n){iT.set(n[vh],n)}(t)):n[sT]=t}let oT;function aT(n,t){return oT(n,t)}function Rh(n){const t=n[en];return Li(t)?t[en]:t}function fP(n){return gP(n[mh])}function pP(n){return gP(n[ns])}function gP(n){for(;null!==n&&!Li(n);)n=n[ns];return n}function Uc(n,t,e,i,r){if(null!=i){let s,o=!1;Li(i)?s=i:Zi(i)&&(o=!0,i=i[mn]);const a=Ht(i);0===n&&null!==e?null==r?yP(t,e,a):nl(t,e,a,r||null,!0):1===n&&null!==e?nl(t,e,a,r||null,!0):2===n?function Km(n,t,e){const i=qm(n,t);i&&function sK(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function lK(n,t,e,i,r){const s=e[Ss];s!==Ht(e)&&Uc(t,n,i,s,r);for(let a=oi;a<e.length;a++){const l=e[a];Ph(l[oe],l,n,t,i,s)}}(t,n,s,e,r)}}function jm(n,t,e){return n.createElement(t,e)}function _P(n,t){const e=n[Ec],i=e.indexOf(t);mN(t),e.splice(i,1)}function Wm(n,t){if(n.length<=oi)return;const e=oi+t,i=n[e];if(i){const r=i[_h];null!==r&&r!==n&&_P(r,i),t>0&&(n[e-1][ns]=i[ns]);const s=Om(n,oi+t);!function QY(n,t){Ph(n,t,t[Oe],2,null,null),t[mn]=null,t[Ci]=null}(i[oe],i);const o=s[Ds];null!==o&&o.detachView(s[oe]),i[en]=null,i[ns]=null,i[Ue]&=-129}return i}function cT(n,t){if(!(256&t[Ue])){const e=t[Oe];t[yh]&&tN(t[yh]),t[bh]&&tN(t[bh]),e.destroyNode&&Ph(n,t,e,3,null,null),function eK(n){let t=n[mh];if(!t)return uT(n[oe],n);for(;t;){let e=null;if(Zi(t))e=t[mh];else{const i=t[oi];i&&(e=i)}if(!e){for(;t&&!t[ns]&&t!==n;)Zi(t)&&uT(t[oe],t),t=t[en];null===t&&(t=n),Zi(t)&&uT(t[oe],t),e=t&&t[ns]}t=e}}(t)}}function uT(n,t){if(!(256&t[Ue])){t[Ue]&=-129,t[Ue]|=256,function rK(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof wh)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Es(4,a,l);try{l.call(a)}finally{Es(5,a,l)}}else{Es(4,r,s);try{s.call(r)}finally{Es(5,r,s)}}}}}(n,t),function iK(n,t){const e=n.cleanup,i=t[Cc];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[Cc]=null);const r=t[Zo];if(null!==r){t[Zo]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[oe].type&&t[Oe].destroy();const e=t[_h];if(null!==e&&Li(t[en])){e!==t[en]&&_P(e,t);const i=t[Ds];null!==i&&i.detachView(n)}!function $Y(n){iT.delete(n[vh])}(t)}}function dT(n,t,e){return function vP(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[mn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Br.None||s===Br.Emulated)return null}return Ji(i,e)}}(n,t.parent,e)}function nl(n,t,e,i,r){n.insertBefore(t,e,i,r)}function yP(n,t,e){n.appendChild(t,e)}function bP(n,t,e,i,r){null!==i?nl(n,t,e,i,r):yP(n,t,e)}function qm(n,t){return n.parentNode(t)}function xP(n,t,e){return CP(n,t,e)}let hT,Xm,mT,Qm,CP=function TP(n,t,e){return 40&n.type?Ji(n,e):null};function Ym(n,t,e,i){const r=dT(n,i,t),s=t[Oe],a=xP(i.parent||t[Ci],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)bP(s,r,e[l],a,!1);else bP(s,r,e,a,!1);void 0!==hT&&hT(s,i,t,e,r)}function Nh(n,t){if(null!==t){const e=t.type;if(3&e)return Ji(t,n);if(4&e)return fT(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Nh(n,i);{const r=n[t.index];return Li(r)?fT(-1,r):Ht(r)}}if(32&e)return aT(t,n)()||Ht(n[t.index]);{const i=DP(n,t);return null!==i?Array.isArray(i)?i[0]:Nh(Rh(n[xn]),i):Nh(n,t.next)}}return null}function DP(n,t){return null!==t?n[xn][Ci].projection[t.projection]:null}function fT(n,t){const e=oi+n+1;if(e<t.length){const i=t[e],r=i[oe].firstChild;if(null!==r)return Nh(i,r)}return t[Ss]}function pT(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&wi(Ht(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)pT(n,t,e.child,i,r,s,!1),Uc(t,n,r,a,s);else if(32&l){const c=aT(e,i);let u;for(;u=c();)Uc(t,n,r,u,s);Uc(t,n,r,a,s)}else 16&l?EP(n,t,i,e,r,s):Uc(t,n,r,a,s);e=o?e.projectionNext:e.next}}function Ph(n,t,e,i,r,s){pT(e,i,n.firstChild,t,r,s,!1)}function EP(n,t,e,i,r,s){const o=e[xn],l=o[Ci].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Uc(t,n,r,l[c],s);else{let c=l;const u=o[en];Gm(i)&&(c.flags|=128),pT(n,t,c,u,r,s,!0)}}function AP(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function IP(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&Sx(n,t,i),null!==r&&AP(n,t,r),null!==s&&function uK(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function zc(n){return function gT(){if(void 0===Xm&&(Xm=null,Bt.trustedTypes))try{Xm=Bt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xm}()?.createHTML(n)||n}function jc(){if(void 0!==mT)return mT;if(typeof document<"u")return document;throw new R(210,!1)}function kP(n){return function _T(){if(void 0===Qm&&(Qm=null,Bt.trustedTypes))try{Qm=Bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qm}()?.createHTML(n)||n}class NP{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${CR})`}}function ia(n){return n instanceof NP?n.changingThisBreaksApplicationSecurity:n}function Oh(n,t){const e=function bK(n){return n instanceof NP&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${CR})`)}return e===t}class xK{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(zc(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class TK{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=zc(t),e}}const wK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vT(n){return(n=String(n)).match(wK)?n:"unsafe:"+n}function co(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Lh(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const OP=co("area,br,col,hr,img,wbr"),LP=co("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),FP=co("rp,rt"),yT=Lh(OP,Lh(LP,co("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lh(FP,co("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lh(FP,LP)),bT=co("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),VP=Lh(bT,co("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),co("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),DK=co("script,style,template");class SK{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!yT.hasOwnProperty(e))return this.sanitizedSomething=!0,!DK.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!VP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;bT[a]&&(l=vT(l)),this.buf.push(" ",o,'="',BP(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();yT.hasOwnProperty(e)&&!OP.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(BP(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const EK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AK=/([^\#-~ |!])/g;function BP(n){return n.replace(/&/g,"&amp;").replace(EK,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(AK,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zm;function xT(n){return"content"in n&&function kK(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Wc=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Wc||{});function HP(n){const t=Fh();return t?kP(t.sanitize(Wc.HTML,n)||""):Oh(n,"HTML")?kP(ia(n)):function IK(n,t){let e=null;try{Zm=Zm||function PP(n){const t=new TK(n);return function CK(){try{return!!(new window.DOMParser).parseFromString(zc(""),"text/html")}catch{return!1}}()?new xK(t):t}(n);let i=t?String(t):"";e=Zm.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Zm.getInertBodyElement(i)}while(i!==s);return zc((new SK).sanitizeChildren(xT(e)||e))}finally{if(e){const i=xT(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(jc(),Pe(n))}function qc(n){const t=Fh();return t?t.sanitize(Wc.URL,n)||"":Oh(n,"URL")?ia(n):vT(Pe(n))}function Fh(){const n=L();return n&&n[wc].sanitizer}const Vh=new j("ENVIRONMENT_INITIALIZER"),UP=new j("INJECTOR",-1),zP=new j("INJECTOR_DEF_TYPES");class TT{get(t,e=dh){if(e===dh){const i=new Error(`NullInjectorError: No provider for ${Gn(t)}!`);throw i.name="NullInjectorError",i}return e}}function LK(...n){return{\u0275providers:jP(0,n),\u0275fromNgModule:!0}}function jP(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return Bc(t,o=>{const a=o;Jm(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&WP(r,s),e}function WP(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];wT(r,s=>{t(s,i)})}}function Jm(n,t,e,i){if(!(n=ke(n)))return!1;let r=null,s=pm(n);const o=!s&&ct(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=pm(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Jm(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{Bc(s.imports,u=>{Jm(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&WP(c,t)}if(!a){const c=Ja(r)||(()=>new r);t({provide:r,useFactory:c,deps:mt},r),t({provide:zP,useValue:r,multi:!0},r),t({provide:Vh,useValue:()=>O(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;wT(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function wT(n,t){for(let e of n)px(e)&&(e=e.\u0275providers),Array.isArray(e)?wT(e,t):t(e)}const FK=It({provide:String,useValue:It});function DT(n){return null!==n&&"object"==typeof n&&FK in n}function il(n){return"function"==typeof n}const ST=new j("Set Injector scope."),e_={},BK={};let ET;function t_(){return void 0===ET&&(ET=new TT),ET}class mr{}class Yc extends mr{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,IT(t,o=>this.processProvider(o)),this.records.set(UP,Kc(void 0,this)),r.has("environment")&&this.records.set(mr,Kc(void 0,this));const s=this.records.get(ST);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(zP.multi,mt,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Xo(this),i=Xi(void 0);try{return t()}finally{Xo(e),Xi(i)}}get(t,e=dh,i=Qe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(RR))return t[RR](this);i=_m(i);const s=Xo(this),o=Xi(void 0);try{if(!(i&Qe.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function zK(n){return"function"==typeof n||"object"==typeof n&&n instanceof j}(t)&&fm(t);l=c&&this.injectableDefInScope(c)?Kc(AT(t),e_):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Qe.Self?t_():this.parent).get(t,e=i&Qe.Optional&&e===dh?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[mm]=a[mm]||[]).unshift(Gn(t)),s)throw a;return function Gq(n,t,e,i){const r=n[mm];throw t[IR]&&r.unshift(t[IR]),n.message=function Uq(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Gn(t);if(Array.isArray(t))r=t.map(Gn).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Gn(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Fq,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[mm]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Xi(o),Xo(s)}}resolveInjectorInitializers(){const t=Xo(this),e=Xi(void 0);try{const r=this.get(Vh.multi,mt,Qe.Self);for(const s of r)s()}finally{Xo(t),Xi(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Gn(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(t){let e=il(t=ke(t))?t:ke(t&&t.provide);const i=function $K(n){return DT(n)?Kc(void 0,n.useValue):Kc(KP(n),e_)}(t);if(il(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Kc(void 0,e_,!0),r.factory=()=>Cx(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===e_&&(e.value=BK,e.value=e.factory()),"object"==typeof e.value&&e.value&&function UK(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ke(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function AT(n){const t=fm(n),e=null!==t?t.factory:Ja(n);if(null!==e)return e;if(n instanceof j)throw new R(204,!1);if(n instanceof Function)return function HK(n){const t=n.length;if(t>0)throw Ih(t,"?"),new R(204,!1);const e=function Nq(n){return n&&(n[gm]||n[DR])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new R(204,!1)}function KP(n,t,e){let i;if(il(n)){const r=ke(n);return Ja(r)||AT(r)}if(DT(n))i=()=>ke(n.useValue);else if(function YP(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Cx(n.deps||[]));else if(function qP(n){return!(!n||!n.useExisting)}(n))i=()=>O(ke(n.useExisting));else{const r=ke(n&&(n.useClass||n.provide));if(!function GK(n){return!!n.deps}(n))return Ja(r)||AT(r);i=()=>new r(...Cx(n.deps))}return i}function Kc(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function IT(n,t){for(const e of n)Array.isArray(e)?IT(e,t):e&&px(e)?IT(e.\u0275providers,t):t(e)}const n_=new j("AppId",{providedIn:"root",factory:()=>jK}),jK="ng",XP=new j("Platform Initializer"),tr=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),QP=new j("AnimationModuleType"),ZP=new j("CSP nonce",{providedIn:"root",factory:()=>jc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let JP=(n,t,e)=>null;function FT(n,t,e=!1){return JP(n,t,e)}class tX{}class nO{}class iX{resolveComponentFactory(t){throw function nX(n){const t=Error(`No component factory found for ${Gn(n)}.`);return t.ngComponent=n,t}(t)}}let Zc=(()=>{class n{static#e=this.NULL=new iX}return n})();function rX(){return Jc(li(),L())}function Jc(n,t){return new Je(Ji(n,t))}let Je=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=rX}return n})();function sX(n){return n instanceof Je?n.nativeElement:n}class eu{}let _r=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function oX(){const n=L(),e=pr(li().index,n);return(Zi(e)?e:n)[Oe]}()}return n})(),aX=(()=>{class n{static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();class tu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const rO=new tu("16.2.12"),HT={};function lO(n,t=null,e=null,i){const r=cO(n,t,e,i);return r.resolveInjectorInitializers(),r}function cO(n,t=null,e=null,i,r=new Set){const s=[e||mt,LK(n)];return i=i||("object"==typeof n?void 0:Gn(n)),new Yc(s,t||t_(),i||null,r)}let Rn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=dh;static#t=this.NULL=new TT;static create(e,i){if(Array.isArray(e))return lO({name:""},i,e,"");{const r=e.name??"";return lO({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=q({token:n,providedIn:"any",factory:()=>O(UP)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function GT(n){return n.ngOriginalError}class uo{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&GT(t);for(;e&&GT(e);)e=GT(e);return e||null}}function zT(n){return t=>{setTimeout(n,void 0,t)}}const Q=class pX extends De{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=zT(s),r&&(r=zT(r)),o&&(o=zT(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof Ve&&t.add(a),a}};function dO(...n){}class Le{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Q(!1),this.onMicrotaskEmpty=new Q(!1),this.onStable=new Q(!1),this.onError=new Q(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function gX(){const n="function"==typeof Bt.requestAnimationFrame;let t=Bt[n?"requestAnimationFrame":"setTimeout"],e=Bt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function vX(n){const t=()=>{!function _X(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Bt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,WT(n),n.isCheckStableRunning=!0,jT(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),WT(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{if(function bX(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,s,o,a);try{return hO(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),fO(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return hO(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),fO(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,WT(n),jT(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Le.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(Le.isInAngularZone())throw new R(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,mX,dO,dO);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const mX={};function jT(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function WT(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function hO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fO(n){n._nesting--,jT(n)}class yX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Q,this.onMicrotaskEmpty=new Q,this.onStable=new Q,this.onError=new Q}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const pO=new j("",{providedIn:"root",factory:gO});function gO(){const n=ee(Le);let t=!0;return cm(new lt(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new lt(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Le.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Le.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(TR()))}function mO(n){return n.ownerDocument.defaultView}function ho(n){return n instanceof Function?n():n}let qT=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function $h(n){for(;n;){n[Ue]|=64;const t=Rh(n);if(Ix(n)&&!t)return n;n=t}return null}const xO=new j("",{providedIn:"root",factory:()=>!1});let c_=null;function DO(n,t){return n[t]??AO()}function SO(n,t){const e=AO();e.producerNode?.length&&(n[t]=c_,e.lView=n,c_=EO())}const IX={...KR,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{$h(n.lView)},lView:null};function EO(){return Object.create(IX)}function AO(){return c_??=EO(),c_}const Be={};function P(n){IO(ut(),L(),Vi()+n,!1)}function IO(n,t,e,i){if(!i)if(3==(3&t[Ue])){const s=n.preOrderCheckHooks;null!==s&&Im(t,s,e)}else{const s=n.preOrderHooks;null!==s&&km(t,s,0,e)}el(e)}function b(n,t=Qe.Default){const e=L();return null===e?O(n,t):HN(li(),e,ke(n),t)}function u_(n,t,e,i,r,s,o,a,l,c,u){const d=t.blueprint.slice();return d[mn]=r,d[Ue]=140|i,(null!==c||n&&2048&n[Ue])&&(d[Ue]|=2048),gN(d),d[en]=d[Dc]=n,d[bn]=e,d[wc]=o||n&&n[wc],d[Oe]=a||n&&n[Oe],d[Qo]=l||n&&n[Qo]||null,d[Ci]=s,d[vh]=function BY(){return VY++}(),d[oo]=u,d[jR]=c,d[xn]=2==t.type?n[xn]:d,d}function ru(n,t,e,i,r){let s=n.data[t];if(null===s)s=function YT(n,t,e,i,r){const s=xN(),o=Fx(),l=n.data[t]=function FX(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,a=0;return kc()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,t,e,i,r),function H7(){return Ie.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function Ch(){const n=Ie.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return As(s,!0),s}function Gh(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function MO(n,t,e,i,r){const s=DO(t,yh),o=Vi(),a=2&i;try{el(-1),a&&t.length>Ze&&IO(n,t,Ze,!1),Es(a?2:0,r);const c=a?s:null,u=Mx(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{Rx(c,u)}}finally{a&&null===t[yh]&&SO(t,yh),el(o),Es(a?3:1,r)}}function KT(n,t,e){if(Ax(t)){const i=Hr(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{Hr(i)}}}function XT(n,t,e){bN()&&(function zX(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;Za(e)&&function QX(n,t,e){const i=Ji(t,n),r=RO(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=d_(n,u_(n,r,null,o,i,t,null,n[wc].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Rm(e,t),wi(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=tl(t,n,a,e);wi(c,t),null!==o&&ZX(0,a-r,c,l,0,o),is(l)&&(pr(e.index,t)[bn]=tl(t,n,a,e))}}(n,t,e,Ji(e,t)),64==(64&e.flags)&&FO(n,t,e))}function QT(n,t,e=Ji){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function RO(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=ZT(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function ZT(n,t,e,i,r,s,o,a,l,c,u){const d=Ze+i,h=d+r,f=function MX(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Be);return e}(d,h),p="function"==typeof c?c():c;return f[oe]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let NO=n=>null;function PO(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?OO(e,t,r,s):i.hasOwnProperty(r)&&OO(e,t,i[r],s)}return e}function OO(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function vr(n,t,e,i,r,s,o,a){const l=Ji(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(iC(n,e,u,i,r),Za(t)&&function HX(n,t){const e=pr(t,n);16&e[Ue]||(e[Ue]|=64)}(e,t.index)):3&t.type&&(i=function BX(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}function JT(n,t,e,i){if(bN()){const r=null===i?null:{"":-1},s=function WX(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(BR(t,o.selectors,!1))if(i||(i=[]),is(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),eC(n,t,a.length)}else i.unshift(o),eC(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&LO(n,t,e,o,r,a),r&&function qX(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new R(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=ph(e.mergedAttrs,e.attrs)}function LO(n,t,e,i,r,s){for(let c=0;c<i.length;c++)Kx(Rm(e,t),n,i[c].type);!function KX(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Gh(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=ph(e.mergedAttrs,u.hostAttrs),XX(n,e,t,l,u),YX(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function VX(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const d=s[u],h=e?e.get(d):null,p=h?h.outputs:null;l=PO(d.inputs,u,l,h?h.inputs:null),c=PO(d.outputs,u,c,p);const m=null===l||null===o||VR(t)?null:JX(l,u,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function FO(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function G7(){return Ie.lFrame.currentDirectiveIndex}();try{el(s);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];Bx(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&jX(l,c)}}finally{el(-1),Bx(o)}}function jX(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function eC(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function YX(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;is(t)&&(e[""]=n)}}function XX(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Ja(r.type)),o=new wh(s,is(r),b);n.blueprint[i]=o,e[i]=o,function GX(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function UX(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,Gh(n,e,r.hostVars,Be),r)}function ks(n,t,e,i,r,s){const o=Ji(n,t);!function tC(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?Pe(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[Oe],o,s,n.value,e,i,r)}function ZX(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)VO(i,e,o[a++],o[a++],o[a++])}function VO(n,t,e,i,r){const s=Hr(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Hr(s)}}function JX(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function BO(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function HO(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];$x(e[i]),o.contentQueries(2,t[s],s)}}}function d_(n,t){return n[mh]?n[zR][ns]=t:n[mh]=t,n[zR]=t,t}function nC(n,t,e){$x(0);const i=Hr(null);try{t(n,e)}finally{Hr(i)}}function $O(n){return n[Cc]||(n[Cc]=[])}function GO(n){return n.cleanup||(n.cleanup=[])}function zO(n,t){const e=n[Qo],i=e?e.get(uo,null):null;i&&i.handleError(t)}function iC(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++];VO(n.data[o],t[o],i,a,r)}}function eQ(n,t){const e=pr(t,n),i=e[oe];!function tQ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[mn];null!==r&&null===e[oo]&&(e[oo]=FT(r,e[Qo])),rC(i,e,e[bn])}function rC(n,t,e){Gx(t);try{const i=n.viewQuery;null!==i&&nC(1,i,e);const r=n.template;null!==r&&MO(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&HO(n,t),n.staticViewQueries&&nC(2,n.viewQuery,e);const s=n.components;null!==s&&function nQ(n,t){for(let e=0;e<t.length;e++)eQ(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Ue]&=-5,Ux()}}let jO=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function v7(n,t,e){const i=Object.create(y7);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>JR(i),run:()=>{if(i.dirty=!1,i.hasRun&&!eN(i))return;i.hasRun=!0;const o=Mx(i);try{i.cleanupFn(),i.cleanupFn=lN,i.fn(r)}finally{Rx(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function h_(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=hx(r,a):2==s&&(i=hx(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function Uh(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(Ht(s)),Li(s)&&WO(s,i);const o=e.type;if(8&o)Uh(n,t,e.child,i);else if(32&o){const a=aT(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=DP(t,e);if(Array.isArray(a))i.push(...a);else{const l=Rh(t[xn]);Uh(l[oe],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function WO(n,t){for(let e=oi;e<n.length;e++){const i=n[e],r=i[oe].firstChild;null!==r&&Uh(i[oe],i,r,t)}n[Ss]!==n[mn]&&t.push(n[Ss])}function f_(n,t,e,i=!0){const r=t[wc],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{qO(n,t,n.template,e)}catch(l){throw i&&zO(t,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function qO(n,t,e,i){const r=t[Ue];if(256!=(256&r)){t[wc].effectManager?.flush(),Gx(t);try{gN(t),function CN(n){return Ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&MO(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&Im(t,c,null)}else{const c=n.preOrderHooks;null!==c&&km(t,c,0,null),zx(t,0)}if(function sQ(n){for(let t=fP(n);null!==t;t=pP(t)){if(!t[WR])continue;const e=t[Ec];for(let i=0;i<e.length;i++){I7(e[i])}}}(t),YO(t,2),null!==n.contentQueries&&HO(n,t),o){const c=n.contentCheckHooks;null!==c&&Im(t,c)}else{const c=n.contentHooks;null!==c&&km(t,c,1),zx(t,1)}!function kX(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=DO(t,bh);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)el(~s);else{const o=s,a=e[++r],l=e[++r];$7(a,o),i.dirty=!1;const c=Mx(i);try{l(2,t[o])}finally{Rx(i,c)}}}}finally{null===t[bh]&&SO(t,bh),el(-1)}}(n,t);const a=n.components;null!==a&&XO(t,a,0);const l=n.viewQuery;if(null!==l&&nC(2,l,i),o){const c=n.viewCheckHooks;null!==c&&Im(t,c)}else{const c=n.viewHooks;null!==c&&km(t,c,2),zx(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Ue]&=-73,mN(t)}finally{Ux()}}}function YO(n,t){for(let e=fP(n);null!==e;e=pP(e))for(let i=oi;i<e.length;i++)KO(e[i],t)}function oQ(n,t,e){KO(pr(t,n),e)}function KO(n,t){if(!function E7(n){return 128==(128&n[Ue])}(n))return;const e=n[oe],i=n[Ue];if(80&i&&0===t||1024&i||2===t)qO(e,n,e.template,n[bn]);else if(n[gh]>0){YO(n,1);const r=e.components;null!==r&&XO(n,r,1)}}function XO(n,t,e){for(let i=0;i<t.length;i++)oQ(n,t[i],e)}class zh{get rootNodes(){const t=this._lView,e=t[oe];return Uh(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bn]}set context(t){this._lView[bn]=t}get destroyed(){return 256==(256&this._lView[Ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[en];if(Li(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Wm(t,i),Om(e,i))}this._attachedToViewContainer=!1}cT(this._lView[oe],this._lView)}onDestroy(t){!function vN(n,t){if(256==(256&n[Ue]))throw new R(911,!1);null===n[Zo]&&(n[Zo]=[]),n[Zo].push(t)}(this._lView,t)}markForCheck(){$h(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ue]&=-129}reattach(){this._lView[Ue]|=128}detectChanges(){f_(this._lView[oe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JY(n,t){Ph(n,t,t[Oe],2,null,null)}(this._lView[oe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=t}}class aQ extends zh{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;f_(t[oe],t,t[bn],!1)}checkNoChanges(){}get context(){return null}}class QO extends Zc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new jh(e,this.ngModule)}}function ZO(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class cQ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=_m(i);const r=this.injector.get(t,HT,i);return r!==HT||e===HT?r:this.parentInjector.get(t,e,i)}}class jh extends nO{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=ZO(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return ZO(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Jq(n){return n.map(Zq).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof mr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new cQ(t,s):t,a=o.get(eu,null);if(null===a)throw new R(407,!1);const d={rendererFactory:a,sanitizer:o.get(aX,null),effectManager:o.get(jO,null),afterRenderEventManager:o.get(qT,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function RX(n,t,e,i){const s=i.get(xO,!1)||e===Br.ShadowDom,o=n.selectRootElement(t,s);return function NX(n){NO(n)}(o),o}(h,i,this.componentDef.encapsulation,o):jm(h,f,function lQ(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=FT(p,o,!0));const y=ZT(0,null,null,1,0,null,null,null,null,null,null),x=u_(null,y,null,v,null,null,d,h,o,null,_);let D,S;Gx(x);try{const H=this.componentDef;let W,be=null;H.findHostDirectiveDefs?(W=[],be=new Map,H.findHostDirectiveDefs(H,W,be),W.push(H)):W=[H];const ge=function dQ(n,t){const e=n[oe],i=Ze;return n[i]=t,ru(e,i,2,"#host",null)}(x,p),se=function hQ(n,t,e,i,r,s,o){const a=r[oe];!function fQ(n,t,e,i){for(const r of n)t.mergedAttrs=ph(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(h_(t,t.mergedAttrs,!0),null!==e&&IP(i,e,t))}(i,n,t,o);let l=null;null!==t&&(l=FT(t,r[Qo]));const c=s.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const d=u_(r,RO(e),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&eC(a,n,i.length-1),d_(r,d),r[n.index]=d}(ge,p,H,W,x,d,h);S=pN(y,Ze),p&&function gQ(n,t,e,i){if(i)Sx(n,e,["ng-version",rO.full]);else{const{attrs:r,classes:s}=function e7(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!ts(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Sx(n,e,r),s&&s.length>0&&AP(n,e,s.join(" "))}}(h,H,p,i),void 0!==e&&function mQ(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(S,this.ngContentSelectors,e),D=function pQ(n,t,e,i,r,s){const o=li(),a=r[oe],l=Ji(o,r);LO(a,r,o,e,null,i);for(let u=0;u<e.length;u++)wi(tl(r,a,o.directiveStart+u,o),r);FO(a,r,o),l&&wi(l,r);const c=tl(r,a,o.directiveStart+o.componentOffset,o);if(n[bn]=r[bn]=c,null!==s)for(const u of s)u(c,t);return KT(a,o,n),c}(se,H,W,be,x,[_Q]),rC(y,x,null)}finally{Ux()}return new uQ(this.componentType,D,Jc(S,x),x,S)}}class uQ extends tX{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new aQ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;iC(s[oe],s,r,t,e),this.previousInputValues.set(t,e),$h(pr(this._tNode.index,s))}}get injector(){return new Bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function _Q(){const n=li();Am(L()[oe],n)}function St(n){let t=function JO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(is(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new R(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=p_(n.inputs),o.inputTransforms=p_(n.inputTransforms),o.declaredInputs=p_(n.declaredInputs),o.outputs=p_(n.outputs);const a=r.hostBindings;a&&xQ(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&yQ(n,l),c&&bQ(n,c),dm(n.inputs,r.inputs),dm(n.declaredInputs,r.declaredInputs),dm(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),dm(o.inputTransforms,r.inputTransforms)),is(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===St&&(e=!1)}}t=Object.getPrototypeOf(t)}!function vQ(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ph(r.hostAttrs,e=ph(e,r.hostAttrs))}}(i)}function p_(n){return n===ws?{}:n===mt?[]:n}function yQ(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function bQ(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function xQ(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function rl(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function g_(n){return!!sC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function sC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ms(n,t,e){return n[t]=e}function Di(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function He(n,t,e,i){const r=L();return Di(r,Mc(),t)&&(ut(),ks(dn(),r,n,t,e,i)),He}function ou(n,t,e,i){return Di(n,Mc(),e)?t+Pe(e)+i:Be}function ae(n,t,e,i,r,s,o,a){const l=L(),c=ut(),u=n+Ze,d=c.firstCreatePass?function WQ(n,t,e,i,r,s,o,a,l){const c=t.consts,u=ru(t,n,4,o||null,ea(c,a));JT(t,e,u,ea(c,l)),Am(t,u);const d=u.tView=ZT(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,s,o):c.data[u];As(d,!1);const h=gL(c,l,d,n);Em()&&Ym(c,l,h,d),wi(h,l),d_(l,l[u]=BO(h,l,h,d)),Tm(d)&&XT(c,l,d),null!=o&&QT(l,d,a)}let gL=function mL(n,t,e,i){return ta(!0),t[Oe].createComment("")};function $(n,t,e){const i=L();return Di(i,Mc(),t)&&vr(ut(),dn(),i,n,t,i[Oe],e,!1),$}function dC(n,t,e,i,r){const o=r?"class":"style";iC(n,e,t.inputs[o],o,i)}function E(n,t,e,i){const r=L(),s=ut(),o=Ze+n,a=r[Oe],l=s.firstCreatePass?function XQ(n,t,e,i,r,s){const o=t.consts,l=ru(t,n,2,i,ea(o,r));return JT(t,e,l,ea(o,s)),null!==l.attrs&&h_(l,l.attrs,!1),null!==l.mergedAttrs&&h_(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,e,i):s.data[o],c=_L(s,r,l,a,t,n);r[o]=c;const u=Tm(l);return As(l,!0),IP(a,c,l),32!=(32&l.flags)&&Em()&&Ym(s,r,c,l),0===function M7(){return Ie.lFrame.elementDepthCount}()&&wi(c,r),function R7(){Ie.lFrame.elementDepthCount++}(),u&&(XT(s,r,l),KT(s,l,r)),null!==i&&QT(r,l),E}function M(){let n=li();Fx()?Vx():(n=n.parent,As(n,!1));const t=n;(function P7(n){return Ie.skipHydrationRootTNode===n})(t)&&function V7(){Ie.skipHydrationRootTNode=null}(),function N7(){Ie.lFrame.elementDepthCount--}();const e=ut();return e.firstCreatePass&&(Am(e,n),Ax(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Q7(n){return 0!=(8&n.flags)}(t)&&dC(e,t,L(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Z7(n){return 0!=(16&n.flags)}(t)&&dC(e,t,L(),t.stylesWithoutHost,!1),M}function xe(n,t,e,i){return E(n,t,e,i),M(),xe}let _L=(n,t,e,i,r,s)=>(ta(!0),jm(i,r,function MN(){return Ie.lFrame.currentNamespace}()));function Hi(){return L()}function Xh(n){return!!n&&"function"==typeof n.then}function bL(n){return!!n&&"function"==typeof n.subscribe}function re(n,t,e,i){const r=L(),s=ut(),o=li();return function TL(n,t,e,i,r,s,o){const a=Tm(i),c=n.firstCreatePass&&GO(n),u=t[bn],d=$O(t);let h=!0;if(3&i.type||o){const m=Ji(i,t),g=o?o(m):m,v=d.length,_=o?x=>o(Ht(x[i.index])):i.index;let y=null;if(!o&&a&&(y=function nZ(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[Cc],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,h=!1;else{s=wL(i,t,u,s,!1);const x=e.listen(g,r,s);d.push(s,x),c&&c.push(r,_,v,v+1)}}else s=wL(i,t,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const D=t[p[g]][p[g+1]].subscribe(s),S=d.length;d.push(s,D),c&&c.push(r,i.index,S,-(S+1))}}}(s,r,r[Oe],o,n,t,i),re}function CL(n,t,e,i){try{return Es(6,t,e),!1!==e(i)}catch(r){return zO(n,r),!1}finally{Es(7,t,e)}}function wL(n,t,e,i,r){return function s(o){if(o===Function)return i;$h(n.componentOffset>-1?pr(n.index,t):t);let l=CL(t,e,i,o),c=s.__ngNextListenerFn__;for(;c;)l=CL(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function de(n=1){return function z7(n){return(Ie.lFrame.contextLView=function j7(n,t){for(;n>0;)t=t[Dc],n--;return t}(n,Ie.lFrame.contextLView))[bn]}(n)}function iZ(n,t){let e=null;const i=function Yq(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?BR(n,s,!0):Qq(i,s))return r}else e=r}return e}function T_(n,t,e){return C_(n,"",t,"",e),T_}function C_(n,t,e,i,r){const s=L(),o=ou(s,t,e,i);return o!==Be&&vr(ut(),dn(),s,n,o,s[Oe],r,!1),C_}function w_(n,t){return n<<17|t<<2}function ra(n){return n>>17&32767}function pC(n){return 2|n}function ol(n){return(131068&n)>>2}function gC(n,t){return-131069&n|t<<2}function mC(n){return 1|n}function NL(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?ra(s):ol(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];cZ(n[a],t)&&(l=!0,n[a+1]=i?mC(u):pC(u)),a=i?ra(u):ol(u)}l&&(n[e+1]=i?pC(s):mC(s))}function cZ(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Hc(n,t)>=0}const jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function PL(n){return n.substring(jn.key,jn.keyEnd)}function OL(n,t){const e=jn.textEnd;return e===t?-1:(t=jn.keyEnd=function fZ(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,jn.key=t,e),pu(n,t,e))}function pu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Wn(n,t,e){return ss(n,t,e,!1),Wn}function yt(n,t){return ss(n,t,null,!0),yt}function sa(n){os(TZ,Ns,n,!0)}function Ns(n,t){for(let e=function dZ(n){return function FL(n){jn.key=0,jn.keyEnd=0,jn.value=0,jn.valueEnd=0,jn.textEnd=n.length}(n),OL(n,pu(n,0,jn.textEnd))}(t);e>=0;e=OL(t,e))gr(n,PL(t),!0)}function ss(n,t,e,i){const r=L(),s=ut(),o=lo(2);s.firstUpdatePass&&$L(s,n,o,i),t!==Be&&Di(r,o,t)&&UL(s,s.data[Vi()],r,r[Oe],n,r[o+1]=function wZ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Gn(ia(n)))),n}(t,e),i,o)}function os(n,t,e,i){const r=ut(),s=lo(2);r.firstUpdatePass&&$L(r,null,s,i);const o=L();if(e!==Be&&Di(o,s,e)){const a=r.data[Vi()];if(jL(a,i)&&!HL(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=hx(l,e||"")),dC(r,a,o,e,i)}else!function CZ(n,t,e,i,r,s,o,a){r===Be&&(r=mt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),null!==p&&UL(n,t,e,i,p,m,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[Oe],o[s+1],o[s+1]=function xZ(n,t,e){if(null==e||""===e)return mt;const i=[],r=ia(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function HL(n,t){return t>=n.expandoStartIndex}function $L(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Vi()],o=HL(n,e);jL(s,i)&&null===t&&!o&&(t=!1),t=function _Z(n,t,e,i){const r=function Hx(n){const t=Ie.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Qh(e=_C(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=_C(r,n,t,e,i),null===s){let l=function vZ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==ol(i))return n[ra(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=_C(null,n,t,l[1],i),l=Qh(l,t.attrs,i),function yZ(n,t,e,i){n[ra(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function bZ(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Qh(i,n[s].hostAttrs,e);return Qh(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function aZ(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=ra(o),l=ol(o);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||Hc(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const h=ra(n[a+1]);n[i+1]=w_(h,a),0!==h&&(n[h+1]=gC(n[h+1],i)),n[a+1]=function sZ(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=w_(a,0),0!==a&&(n[a+1]=gC(n[a+1],i)),a=i;else n[i+1]=w_(l,0),0===a?a=i:n[l+1]=gC(n[l+1],i),l=i;c&&(n[i+1]=pC(n[i+1])),NL(n,u,i,!0),NL(n,u,i,!1),function lZ(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Hc(s,t)>=0&&(e[i+1]=mC(e[i+1]))}(t,u,n,i,s),o=w_(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function _C(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=Qh(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Qh(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),gr(n,o,!!e||t[++s]))}return void 0===n?null:n}function TZ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&gr(n,i,e)}function UL(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function oZ(n){return 1==(1&n)}(c)?zL(l,t,e,r,ol(c),o):void 0;D_(u)||(D_(s)||function rZ(n){return 2==(2&n)}(c)&&(s=zL(l,null,e,r,a,o)),function cK(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:na.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=na.Important),n.setStyle(e,i,r,s))}}(i,o,Dm(Vi(),e),r,s))}function zL(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===Be&&(h=d?mt:void 0);let f=d?Zx(h,i):u===i?h:void 0;if(c&&!D_(f)&&(f=Zx(l,i)),D_(f)&&(a=f,o))return a;const p=n[r+1];r=o?ra(p):ol(p)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=Zx(l,i))}return a}function D_(n){return void 0!==n}function jL(n,t){return 0!=(n.flags&(t?8:16))}function ue(n,t=""){const e=L(),i=ut(),r=n+Ze,s=i.firstCreatePass?ru(i,r,1,t,null):i.data[r],o=WL(i,e,s,t,n);e[r]=o,Em()&&Ym(i,e,o,s),As(s,!1)}let WL=(n,t,e,i,r)=>(ta(!0),function zm(n,t){return n.createText(t)}(t[Oe],i));function yr(n){return ui("",n,""),yr}function ui(n,t,e){const i=L(),r=ou(i,n,t,e);return r!==Be&&function fo(n,t,e){const i=Dm(t,n);!function mP(n,t,e){n.setValue(t,e)}(n[Oe],i,e)}(i,Vi(),r),ui}const mu="en-US";let pF=mu;function xC(n,t,e,i,r){if(n=ke(n),Array.isArray(n))for(let s=0;s<n.length;s++)xC(n[s],t,e,i,r);else{const s=ut(),o=L(),a=li();let l=il(n)?n:ke(n.provide);const c=KP(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(il(n)||!n.multi){const f=new wh(c,r,b),p=CC(l,t,r?u:u+h,d);-1===p?(Kx(Rm(a,o),s,l),TC(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(f),o.push(f)):(e[p]=f,o[p]=f)}else{const f=CC(l,t,u+h,d),p=CC(l,t,u,u+h),g=p>=0&&e[p];if(r&&!g||!r&&!(f>=0&&e[f])){Kx(Rm(a,o),s,l);const v=function GJ(n,t,e,i,r){const s=new wh(n,e,b);return s.multi=[],s.index=t,s.componentProviders=0,BF(s,r,i&&!e),s}(r?$J:HJ,e.length,r,i,c);!r&&g&&(e[p].providerFactory=v),TC(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(v),o.push(v)}else TC(s,n,f>-1?f:p,BF(e[r?p:f],c,!r&&i));!r&&i&&g&&e[p].componentProviders++}}}function TC(n,t,e,i){const r=il(t),s=function VK(n){return!!n.useClass}(t);if(r||s){const l=(s?ke(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function BF(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function CC(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function HJ(n,t,e,i){return wC(this.multi,[])}function $J(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=tl(e,e[oe],this.providerFactory.index,i);s=a.slice(0,o),wC(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],wC(r,s);return s}function wC(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function dt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function BJ(n,t,e){const i=ut();if(i.firstCreatePass){const r=is(n);xC(e,i.data,i.blueprint,r,!0),xC(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class cl{}class HF{}class DC extends cl{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new QO(this);const r=fr(t);this._bootstrapComponents=ho(r.bootstrap),this._r3Injector=cO(t,e,[{provide:cl,useValue:this},{provide:Zc,useValue:this.componentFactoryResolver},...i],Gn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class SC extends HF{constructor(t){super(),this.moduleType=t}create(t){return new DC(this.moduleType,t,[])}}class $F extends cl{constructor(t){super(),this.componentFactoryResolver=new QO(this),this.instance=null;const e=new Yc([...t.providers,{provide:cl,useValue:this},{provide:Zc,useValue:this.componentFactoryResolver}],t.parent||t_(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function EC(n,t,e=null){return new $F({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let jJ=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=jP(0,e.type),r=i.length>0?EC([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(O(mr))})}return n})();function GF(n){n.getStandaloneInjector=t=>t.get(jJ).getOrCreateStandaloneInjector(n)}function _u(n,t,e,i){return function XF(n,t,e,i,r,s){const o=t+e;return Di(n,o,r)?Ms(n,o+1,s?i.call(s,r):i(r)):rf(n,o+1)}(L(),Fi(),n,t,e,i)}function vu(n,t,e,i,r){return function QF(n,t,e,i,r,s,o){const a=t+e;return function sl(n,t,e,i){const r=Di(n,t,e);return Di(n,t+1,i)||r}(n,a,r,s)?Ms(n,a+2,o?i.call(o,r,s):i(r,s)):rf(n,a+2)}(L(),Fi(),n,t,e,i,r)}function rf(n,t){const e=n[t];return e===Be?void 0:e}function fee(){return this._results[Symbol.iterator]()}class kC{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Q)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=kC.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=fee)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function $r(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function hY(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function gee(n,t,e,i=!0){const r=t[oe];if(function tK(n,t,e,i){const r=oi+i,s=e.length;i>0&&(e[r-1][ns]=t),i<s-oi?(t[ns]=e[r],WN(e,oi+i,t)):(e.push(t),t[ns]=null),t[en]=e;const o=t[_h];null!==o&&e!==o&&function nK(n,t){const e=n[Ec];t[xn]!==t[en][en][xn]&&(n[WR]=!0),null===e?n[Ec]=[t]:e.push(t)}(o,t);const a=t[Ds];null!==a&&a.insertView(n),t[Ue]|=128}(r,t,n,e),i){const s=fT(e,n),o=t[Oe],a=qm(o,n[Ss]);null!==a&&function ZY(n,t,e,i,r,s){i[mn]=r,i[Ci]=t,Ph(n,i,e,1,r,s)}(r,n[Ci],o,t,a,s)}}let tn=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=vee}return n})();const mee=tn,_ee=class extends mee{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function pee(n,t,e,i){const r=t.tView,a=u_(n,r,e,4096&n[Ue]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[_h]=n[t.index];const c=n[Ds];return null!==c&&(a[Ds]=c.createEmbeddedView(r)),rC(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new zh(r)}};function vee(){return k_(li(),L())}function k_(n,t){return 4&n.type?new _ee(t,n,Jc(n,t)):null}let br=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=wee}return n})();function wee(){return l2(li(),L())}const Dee=br,o2=class extends Dee{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Jc(this._hostTNode,this._hostLView)}get injector(){return new Bi(this._hostTNode,this._hostLView)}get parentInjector(){const t=Nm(this._hostTNode,this._hostLView);if(Wx(t)){const e=Sh(t,this._hostLView),i=Dh(t);return new Bi(e[oe].data[i+8],e)}return new Bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=a2(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-oi}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,s){const o=t&&!function Ah(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const m=e||{};a=m.index,i=m.injector,r=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const l=o?t:new jh(ct(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const g=(o?c:this.parentInjector).get(mr,null);g&&(s=g)}ct(l.componentType??{});const f=l.create(c,r,null,s);return this.insertImpl(f.hostView,a,false),f}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function A7(n){return Li(n[en])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[en],u=new o2(c,c[Ci],c[en]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;return gee(a,r,o,!i),t.attachToViewContainerRef(),WN(MC(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=a2(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Wm(this._lContainer,e);i&&(Om(MC(this._lContainer),e),cT(i[oe],i))}detach(t){const e=this._adjustIndex(t,-1),i=Wm(this._lContainer,e);return i&&null!=Om(MC(this._lContainer),e)?new zh(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function a2(n){return n[8]}function MC(n){return n[8]||(n[8]=[])}function l2(n,t){let e;const i=t[n.index];return Li(i)?e=i:(e=BO(i,t,null,n),t[n.index]=e,d_(t,e)),c2(e,t,n,i),new o2(e,n,t)}let c2=function u2(n,t,e,i){if(n[Ss])return;let r;r=8&e.type?Ht(i):function See(n,t){const e=n[Oe],i=e.createComment(""),r=Ji(t,n);return nl(e,qm(e,r),i,function oK(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Ss]=r};class RC{constructor(t){this.queryList=t,this.matches=null}clone(){return new RC(this.queryList)}setDirty(){this.queryList.setDirty()}}class NC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new NC(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==g2(t,e).matches&&this.queries[e].setDirty()}}class d2{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class PC{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new PC(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class OC{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new OC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Iee(e,s)),this.matchTNodeWithReadOption(t,e,Pm(e,t,s,!1,!1))}else i===tn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Pm(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Je||r===br||r===tn&&4&e.type)this.addMatch(e.index,-2);else{const s=Pm(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Iee(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Mee(n,t,e,i){return-1===e?function kee(n,t){return 11&n.type?Jc(n,t):4&n.type?k_(n,t):null}(t,n):-2===e?function Ree(n,t,e){return e===Je?Jc(t,n):e===tn?k_(t,n):e===br?l2(t,n):void 0}(n,t,i):tl(n,n[oe],e,t)}function h2(n,t,e,i){const r=t[Ds].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Mee(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function LC(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=h2(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=oi;d<u.length;d++){const h=u[d];h[_h]===h[en]&&LC(h[oe],h,c,i)}if(null!==u[Ec]){const d=u[Ec];for(let h=0;h<d.length;h++){const f=d[h];LC(f[oe],f,c,i)}}}}}return i}function Lt(n){const t=L(),e=ut(),i=DN();$x(i+1);const r=g2(e,i);if(n.dirty&&function S7(n){return 4==(4&n[Ue])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?LC(e,t,i,[]):h2(e,t,r,i);n.reset(s,sX),n.notifyOnChanges()}return!0}return!1}function af(n,t,e){const i=ut();i.firstCreatePass&&(p2(i,new d2(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),f2(i,L(),t)}function hn(n,t,e,i){const r=ut();if(r.firstCreatePass){const s=li();p2(r,new d2(t,e,i),s.index),function Pee(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}f2(r,L(),e)}function Ft(){return function Nee(n,t){return n[Ds].queries[t].queryList}(L(),DN())}function f2(n,t,e){const i=new kC(4==(4&e));(function LX(n,t,e,i){const r=$O(t);r.push(e),n.firstCreatePass&&GO(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Ds]&&(t[Ds]=new NC),t[Ds].queries.push(new RC(i))}function p2(n,t,e){null===n.queries&&(n.queries=new PC),n.queries.track(new OC(t,e))}function g2(n,t){return n.queries.getByIndex(t)}const GC=new j("Application Initializer");let UC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=ee(GC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(Xh(s))e.push(s);else if(bL(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R2=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const po=new j("LocaleId",{providedIn:"root",factory:()=>ee(po,Qe.Optional|Qe.SkipSelf)||function tte(){return typeof $localize<"u"&&$localize.locale||mu}()});let N_=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $n(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class rte{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let N2=(()=>{class n{compileModuleSync(e){return new SC(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=ho(fr(e).declarations).reduce((o,a)=>{const l=ct(a);return l&&o.push(new jh(l)),o},[]);return new rte(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const F2=new j(""),O_=new j("");let YC,WC=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,YC||(function Ste(n){YC=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Le.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(O(Le),O(qC),O(O_))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),qC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return YC?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),aa=null;const V2=new j("AllowMultipleToken"),KC=new j("PlatformDestroyListeners"),XC=new j("appBootstrapListener");class H2{constructor(t,e){this.name=t,this.token=e}}function G2(n,t,e=[]){const i=`Platform: ${t}`,r=new j(i);return(s=[])=>{let o=QC();if(!o||o.injector.get(V2,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function Ite(n){if(aa&&!aa.get(V2,!1))throw new R(400,!1);(function B2(){!function f7(n){rN=n}(()=>{throw new R(600,!1)})})(),aa=n;const t=n.get(z2);(function $2(n){n.get(XP,null)?.forEach(e=>e())})(n)}(function U2(n=[],t){return Rn.create({name:t,providers:[{provide:ST,useValue:"platform"},{provide:KC,useValue:new Set([()=>aa=null])},...n]})}(a,i))}return function Mte(n){const t=QC();if(!t)throw new R(401,!1);return t}()}}function QC(){return aa?.get(z2)??null}let z2=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function Rte(n="zone.js",t){return"noop"===n?new yX:"zone.js"===n?new Le(t):n}(i?.ngZone,function j2(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function zJ(n,t,e){return new DC(n,t,e)}(e.moduleType,this.injector,function X2(n){return[{provide:Le,useFactory:n},{provide:Vh,multi:!0,useFactory:()=>{const t=ee(Pte,{optional:!0});return()=>t.initialize()}},{provide:K2,useFactory:Nte},{provide:pO,useFactory:gO}]}(()=>r)),o=s.injector.get(uo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{L_(this._modules,s),a.unsubscribe()})}),function W2(n,t,e){try{const i=e();return Xh(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(UC);return a.runInitializers(),a.donePromise.then(()=>(function gF(n){Vr(n,"Expected localeId to be defined"),"string"==typeof n&&(pF=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(po,mu)||mu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=q2({},i);return function Ete(n,t,e){const i=new SC(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(go);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new R(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(KC,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(O(Rn))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function q2(n,t){return Array.isArray(t)?t.reduce(q2,n):{...n,...t}}let go=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ee(K2),this.zoneIsStable=ee(pO),this.componentTypes=[],this.components=[],this.isStable=ee(N_).hasPendingTasks.pipe(Ki(e=>e?Te(!1):this.zoneIsStable),function um(n,t=Lr){return n=n??Dq,Yt((e,i)=>{let r,s=!0;e.subscribe(Et(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}(),TR()),this._injector=ee(mr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof nO;if(!this._injector.get(UC).done)throw!r&&function Tc(n){const t=ct(n)||si(n)||Oi(n);return null!==t&&t.standalone}(e),new R(405,!1);let o;o=r?e:this._injector.get(Zc).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function Ate(n){return n.isBoundToModule}(o)?void 0:this._injector.get(cl),c=o.create(Rn.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(F2,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),L_(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;L_(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(XC,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>L_(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new R(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function L_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const K2=new j("",{providedIn:"root",factory:()=>ee(uo).handleError.bind(void 0)});function Nte(){const n=ee(Le),t=ee(uo);return e=>n.runOutsideAngular(()=>t.handleError(e))}let Pte=(()=>{class n{constructor(){this.zone=ee(Le),this.applicationRef=ee(go)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let di=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Lte}return n})();function Lte(n){return function Fte(n,t,e){if(Za(n)&&!e){const i=pr(n.index,t);return new zh(i,i)}return 47&n.type?new zh(t[xn],t):null}(li(),L(),16==(16&n))}class eV{constructor(){}supports(t){return g_(t)}create(t){return new Ute(t)}}const Gte=(n,t)=>t;class Ute{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Gte}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<nV(i,r,s)?e:i,a=nV(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!g_(t))throw new R(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function AQ(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new zte(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new tV),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tV),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class zte{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jte{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class tV{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new jte,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nV(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class iV{constructor(){}supports(t){return t instanceof Map||sC(t)}create(){return new Wte}}class Wte{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||sC(t)))throw new R(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new qte(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class qte{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rV(){return new B_([new eV])}let B_=(()=>{class n{static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:rV});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||rV()),deps:[[n,new Fm,new Gr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new R(901,!1)}}return n})();function sV(){return new uf([new iV])}let uf=(()=>{class n{static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:sV});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||sV()),deps:[[n,new Fm,new Gr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new R(901,!1)}}return n})();const Xte=G2(null,"core",[]);let Qte=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(O(go))};static#t=this.\u0275mod=Se({type:n});static#n=this.\u0275inj=we({})}return n})();function xr(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let iw=null;function la(){return iw}class dne{}const Gt=new j("DocumentToken");let rw=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return ee(fne)},providedIn:"platform"})}return n})();const hne=new j("Location Initialized");let fne=(()=>{class n extends rw{constructor(){super(),this._doc=ee(Gt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return la().getBaseHref(this._doc)}onPopState(e){const i=la().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=la().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function sw(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function pV(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function mo(n){return n&&"?"!==n[0]?"?"+n:n}let dl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return ee(mV)},providedIn:"root"})}return n})();const gV=new j("appBaseHref");let mV=(()=>{class n extends dl{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ee(Gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return sw(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+mo(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+mo(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+mo(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(rw),O(gV,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pne=(()=>{class n extends dl{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=sw(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+mo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+mo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(rw),O(gV,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),ow=(()=>{class n{constructor(e){this._subject=new Q,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function _ne(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(pV(_V(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+mo(i))}normalize(e){return n.stripTrailingSlash(function mne(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,_V(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mo(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+mo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=mo;static#t=this.joinWithSlash=sw;static#n=this.stripTrailingSlash=pV;static#i=this.\u0275fac=function(i){return new(i||n)(O(dl))};static#r=this.\u0275prov=q({token:n,factory:function(){return function gne(){return new ow(O(dl))}()},providedIn:"root"})}return n})();function _V(n){return n.replace(/\/index.html$/,"")}function SV(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const mw=/\s+/,EV=[];let AV=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=EV,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(mw):EV}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(mw):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(mw).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(b(B_),b(uf),b(Je),b(_r))};static#t=this.\u0275dir=Y({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class nie{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zi=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new nie(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),kV(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{kV(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(b(br),b(tn),b(B_))};static#t=this.\u0275dir=Y({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function kV(n,t){n.context.$implicit=t.item}let Wr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new iie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){MV("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){MV("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(b(br),b(tn))};static#t=this.\u0275dir=Y({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class iie{constructor(){this.$implicit=null,this.ngIf=null}}function MV(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Gn(t)}'.`)}let Tu=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(b(br))};static#t=this.\u0275dir=Y({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Nt]})}return n})(),hi=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Se({type:n});static#n=this.\u0275inj=we({})}return n})();const PV="browser";function Cu(n){return n===PV}function Q_(n){return"server"===n}let Pie=(()=>{class n{static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new Oie(O(Gt),window)})}return n})();class Oie{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Lie(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class OV{}class sre extends dne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Cw extends sre{static makeCurrent(){!function une(n){iw||(iw=n)}(new Cw)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ore(){return pf=pf||document.querySelector("base"),pf?pf.getAttribute("href"):null}();return null==e?null:function are(n){ev=ev||document.createElement("a"),ev.setAttribute("href",n);const t=ev.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){pf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return SV(document.cookie,t)}}let ev,pf=null,cre=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const ww=new j("EventManagerPlugins");let HV=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new R(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(O(ww),O(Le))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();class $V{constructor(t){this._doc=t}}const Dw="ng-app-id";let GV=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Q_(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Dw}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(Dw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Dw,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Gt),O(n_),O(ZP,8),O(tr))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const Sw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ew=/%COMP%/g,fre=new j("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function zV(n,t){return t.map(e=>e.replace(Ew,n))}let Aw=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Q_(a),this.defaultRenderer=new Iw(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Br.ShadowDom&&(i={...i,encapsulation:Br.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof WV?r.applyToHost(e):r instanceof kw&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Br.Emulated:s=new WV(l,c,i,this.appId,u,o,a,d);break;case Br.ShadowDom:return new _re(l,c,e,i,o,a,this.nonce,d);default:s=new kw(l,c,i,u,o,a,d)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(O(HV),O(GV),O(n_),O(fre),O(Gt),O(tr),O(Le),O(ZP))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();class Iw{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Sw[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(jV(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(jV(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new R(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Sw[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Sw[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(na.DashCase|na.Important)?t.style.setProperty(e,i,r&na.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&na.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=la().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function jV(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _re extends Iw{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=zV(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kw extends Iw{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?zV(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class WV extends kw{constructor(t,e,i,r,s,o,a,l){const c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=function pre(n){return"_ngcontent-%COMP%".replace(Ew,n)}(c),this.hostAttr=function gre(n){return"_nghost-%COMP%".replace(Ew,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let vre=(()=>{class n extends $V{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Gt))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const qV=["alt","control","meta","shift"],yre={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bre={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xre=(()=>{class n extends $V{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>la().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),qV.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=yre[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),qV.forEach(o=>{o!==r&&(0,bre[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(O(Gt))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const KV=[{provide:tr,useValue:PV},{provide:XP,useValue:function Tre(){Cw.makeCurrent()},multi:!0},{provide:Gt,useFactory:function wre(){return function pK(n){mT=n}(document),document},deps:[]}],Dre=G2(Xte,"browser",KV),Sre=new j(""),XV=[{provide:O_,useClass:class lre{addToWindow(t){Bt.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new R(5103,!1);return s},Bt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Bt.getAllAngularRootElements=()=>t.getAllRootElements(),Bt.frameworkStabilizers||(Bt.frameworkStabilizers=[]),Bt.frameworkStabilizers.push(i=>{const r=Bt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?la().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:F2,useClass:WC,deps:[Le,qC,O_]},{provide:WC,useClass:WC,deps:[Le,qC,O_]}],QV=[{provide:ST,useValue:"root"},{provide:uo,useFactory:function Cre(){return new uo},deps:[]},{provide:ww,useClass:vre,multi:!0,deps:[Gt,Le,tr]},{provide:ww,useClass:xre,multi:!0,deps:[Gt]},Aw,GV,HV,{provide:eu,useExisting:Aw},{provide:OV,useClass:cre,deps:[]},[]];let ZV=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:n_,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Sre,12))};static#t=this.\u0275mod=Se({type:n});static#n=this.\u0275inj=we({providers:[...QV,...XV],imports:[hi,Qte]})}return n})(),JV=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(O(Gt))};static#t=this.\u0275prov=q({token:n,factory:function(i){let r=null;return r=i?new i:function Are(){return new JV(O(Gt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;class iB{}class Nre{}const yo="*";function sB(n,t=null){return{type:2,steps:n,options:t}}function ua(n){return{type:6,styles:n,offset:null}}class gf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class oB{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function aB(n){return new R(3e3,!1)}function da(n){switch(n.length){case 0:return new gf;case 1:return n[0];default:return new oB(n)}}function lB(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,r),m){case"!":m=e.get(f);break;case yo:m=i.get(f);break;default:m=n.normalizeStyleValue(f,p,m,r)}d.set(p,m)}),u||s.push(d),a=d,o=c}),r.length)throw function nse(n){return new R(3502,!1)}();return s}function Ow(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Lw(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Lw(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Lw(e,"destroy",n)))}}function Lw(n,t,e){const s=Fw(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function Fw(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Cr(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function cB(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const pse=(()=>typeof document>"u"?null:document.documentElement)();function Vw(n){const t=n.parentNode||n.host||null;return t===pse?null:t}let hl=null,uB=!1;function dB(n,t){for(;t;){if(t===n)return!0;t=Vw(t)}return!1}function hB(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let fB=(()=>{class n{validateStyleProperty(e){return function mse(n){hl||(hl=function _se(){return typeof document<"u"?document.body:null}()||{},uB=!!hl.style&&"WebkitAppearance"in hl.style);let t=!0;return hl.style&&!function gse(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in hl.style,!t&&uB&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in hl.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return dB(e,i)}getParentElement(e){return Vw(e)}query(e,i,r){return hB(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new gf(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Bw=(()=>{class n{static#e=this.NOOP=new fB}return n})();const vse=1e3,Hw="ng-enter",tv="ng-leave",nv="ng-trigger",iv=".ng-trigger",gB="ng-animating",$w=".ng-animating";function bo(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Gw(parseFloat(t[1]),t[2])}function Gw(n,t){return"s"===t?n*vse:n}function rv(n,t,e){return n.hasOwnProperty("duration")?n:function bse(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(aB()),{duration:0,delay:0,easing:""};r=Gw(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=Gw(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function Pre(){return new R(3100,!1)}()),a=!0),s<0&&(t.push(function Ore(){return new R(3101,!1)}()),a=!0),a&&t.splice(l,0,aB())}return{duration:r,delay:s,easing:o}}(n,t,e)}function mf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function mB(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ha(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Os(n,t,e){t.forEach((i,r)=>{const s=zw(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function fl(n,t){t.forEach((e,i)=>{const r=zw(i);n.style[r]=""})}function _f(n){return Array.isArray(n)?1==n.length?n[0]:sB(n):n}const Uw=new RegExp("{{\\s*(.+?)\\s*}}","g");function vB(n){let t=[];if("string"==typeof n){let e;for(;e=Uw.exec(n);)t.push(e[1]);Uw.lastIndex=0}return t}function vf(n,t,e){const i=n.toString(),r=i.replace(Uw,(s,o)=>{let a=t[o];return null==a&&(e.push(function Fre(n){return new R(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function sv(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Cse=/-+([a-z0-9])/g;function zw(n){return n.replace(Cse,(...t)=>t[1].toUpperCase())}function wr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Vre(n){return new R(3004,!1)}()}}function yB(n,t){return window.getComputedStyle(n)[t]}const ov="*";function Sse(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Ese(n,t,e){if(":"==n[0]){const l=function Ase(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Zre(n){return new R(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Qre(n){return new R(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(bB(r,o));"<"==s[0]&&!(r==ov&&o==ov)&&t.push(bB(o,r))}(i,e,t)):e.push(n),e}const av=new Set(["true","1"]),lv=new Set(["false","0"]);function bB(n,t){const e=av.has(n)||lv.has(n),i=av.has(t)||lv.has(t);return(r,s)=>{let o=n==ov||n==r,a=t==ov||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?av.has(n):lv.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?av.has(t):lv.has(t)),o&&a}}const Ise=new RegExp("s*:selfs*,?","g");function jw(n,t,e,i){return new kse(n).build(t,e,i)}class kse{constructor(t){this._driver=t}build(t,e,i){const r=new Nse(e);return this._resetContextStyleTimingState(r),wr(this,_f(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function Hre(){return new R(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function $re(){return new R(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{vB(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(sv(s.values()),e.errors.push(function Gre(n,t){return new R(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=wr(this,_f(t.animation),e);return{type:1,matchers:Sse(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:pl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>wr(this,i,e)),options:pl(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=wr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:pl(t.options)}}visitAnimate(t,e){const i=function Ose(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ww(rv(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Ww(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=rv(e,t);return Ww(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:ua({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=ua(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===yo?i.push(a):e.errors.push(new R(3002,!1)):i.push(mB(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function zre(n,t,e,i,r){return new R(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&function Tse(n,t,e){const i=t.params||{},r=vB(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Lre(n){return new R(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function jre(){return new R(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(v=>{const _=this._makeStyleAst(v,e);let y=null!=_.offset?_.offset:function Pse(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(_.styles),x=0;return null!=y&&(s++,x=_.offset=y),l=l||x<0||x>1,a=a||x<c,c=x,o.push(x),_});l&&e.errors.push(function Wre(){return new R(3012,!1)}()),a&&e.errors.push(function qre(){return new R(3200,!1)}());const d=t.steps.length;let h=0;s>0&&s<d?e.errors.push(function Yre(){return new R(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((v,_)=>{const y=h>0?_==f?1:h*_:o[_],x=y*g;e.currentTime=p+m.delay+x,m.duration=x,this._validateStyleAst(v,e),v.offset=y,i.styles.push(v)}),i}visitReference(t,e){return{type:8,animation:wr(this,_f(t.animation),e),options:pl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:pl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:pl(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function Mse(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Ise,"")),n=n.replace(/@\*/g,iv).replace(/@\w+/g,e=>iv+"-"+e.slice(1)).replace(/:animating/g,$w),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Cr(e.collectedStyles,e.currentQuerySelector,new Map);const a=wr(this,_f(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:pl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Kre(){return new R(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:rv(t.timings,e.errors,!0);return{type:12,animation:wr(this,_f(t.animation),e),timings:i,options:null}}}class Nse{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pl(n){return n?(n=mf(n)).params&&(n.params=function Rse(n){return n?mf(n):null}(n.params)):n={},n}function Ww(n,t,e){return{duration:n,delay:t,easing:e}}function qw(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class cv{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Vse=new RegExp(":enter","g"),Hse=new RegExp(":leave","g");function Yw(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return(new $se).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class $se{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new cv;const d=new Kw(t,e,c,r,s,u,[]);d.options=l;const h=l.delay?bo(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),wr(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[qw(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:bo(vf(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?bo(i.duration):null,a=null!=i.delay?bo(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),wr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=uv);const o=bo(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>wr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?bo(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),wr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return rv(e.params?vf(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?bo(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=uv);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),wr(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;wr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const uv={};class Kw{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=uv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new dv(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=bo(i.duration)),null!=i.delay&&(r.delay=bo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=vf(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new Kw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=uv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new Gse(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Vse,"."+this._enterClassName)).replace(Hse,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function Xre(n){return new R(3014,!1)}()),a}}class dv{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new dv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||yo),this._currentKeyframe.set(e,yo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function Use(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,yo)}else ha(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=vf(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??yo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=ha(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===yo&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=t.size?sv(t.values()):[],o=e.size?sv(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return qw(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Gse extends dv{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=ha(t[0]);l.set("offset",0),s.push(l);const c=ha(t[0]);c.set("offset",CB(a)),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=ha(t[d]);const f=h.get("offset");h.set("offset",CB((e+f*i)/o)),s.push(h)}i=o,e=0,r="",t=s}return qw(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function CB(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Xw{}const zse=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class jse extends Xw{normalizePropertyName(t,e){return zw(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(zse.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Bre(n,t){return new R(3005,!1)}())}return o+s}}function wB(n,t,e,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Qw={};class DB{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Wse(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Qw,p=this.buildStyles(i,a&&a.params||Qw,d),m=l&&l.params||Qw,g=this.buildStyles(r,m,d),v=new Set,_=new Map,y=new Map,x="void"===r,D={params:qse(m,h),delay:this.ast.options?.delay},S=u?[]:Yw(t,e,this.ast.animation,s,o,p,g,D,c,d);let H=0;if(S.forEach(be=>{H=Math.max(be.duration+be.delay,H)}),d.length)return wB(e,this._triggerName,i,r,x,p,g,[],[],_,y,H,d);S.forEach(be=>{const ge=be.element,se=Cr(_,ge,new Set);be.preStyleProps.forEach(ye=>se.add(ye));const st=Cr(y,ge,new Set);be.postStyleProps.forEach(ye=>st.add(ye)),ge!==e&&v.add(ge)});const W=sv(v.values());return wB(e,this._triggerName,i,r,x,p,g,S,W,_,y,H)}}function qse(n,t){const e=mf(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Yse{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=mf(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=vf(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class Xse{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Yse(r.style,r.options&&r.options.params||{},i))}),SB(this.states,"true","1"),SB(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new DB(t,r,this.states))}),this.fallbackTransition=function Qse(n,t,e){return new DB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function SB(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Zse=new cv;class Jse{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=jw(this._driver,e,i,[]);if(i.length)throw function ise(n){return new R(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=lB(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=Yw(this._driver,e,s,Hw,tv,new Map,new Map,i,Zse,r),o.forEach(u=>{const d=Cr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function rse(){return new R(3300,!1)}()),o=[]),r.length)throw function sse(n){return new R(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,yo))})});const c=da(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function ose(n){return new R(3301,!1)}();return e}listen(t,e,i,r){const s=Fw(e,"","","");return Ow(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const EB="ng-animate-queued",Zw="ng-animate-disabled",roe=[],AB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},soe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cs="__ng_removed";class Jw{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function coe(n){return n??null}(i?t.value:t),i){const s=mf(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const yf="void",e1=new Jw(yf);class ooe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,qr(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function ase(n,t){return new R(3302,!1)}();if(null==i||0==i.length)throw function lse(n){return new R(3303,!1)}();if(!function uoe(n){return"start"==n||"done"==n}(i))throw function cse(n,t){return new R(3400,!1)}();const s=Cr(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=Cr(this._engine.statesByElement,t,new Map);return a.has(e)||(qr(t,nv),qr(t,nv+"-"+e),a.set(e,e1)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function use(n){return new R(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new t1(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(qr(t,nv),qr(t,nv+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new Jw(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=e1),c.value!==yf&&l.value===c.value){if(!function foe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),v=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{fl(t,g),Os(t,v)})}return}const h=Cr(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(qr(t,EB),o.onStart(()=>{wu(t,EB)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let v=g.indexOf(o);v>=0&&g.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,iv,!0);i.forEach(r=>{if(r[cs])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,yf,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&da(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||e1,u=new Jw(yf),d=new t1(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[cs];(!s||s===AB)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){qr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=Fw(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Ow(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class aoe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new ooe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(hv(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!hv(e))return;const s=e[cs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),qr(t,Zw)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),wu(t,Zw))}removeNode(t,e,i){if(hv(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[cs]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return hv(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,iv,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,$w,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return da(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[cs];if(e&&e.setForRemoval){if(t[cs]=AB,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Zw)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)qr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?da(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function dse(n){return new R(3402,!1)}()}_flushAnimations(t,e){const i=new cv,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(G=>{u.add(G);const z=this.driver.query(G,".ng-animate-queued",!0);for(let ce=0;ce<z.length;ce++)u.add(z[ce])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=MB(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((G,z)=>{const ce=Hw+m++;p.set(z,ce),G.forEach(le=>qr(le,ce))});const g=[],v=new Set,_=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){const z=this.collectedLeaveElements[G],ce=z[cs];ce&&ce.setForRemoval&&(g.push(z),v.add(z),ce.hasAnimation?this.driver.query(z,".ng-star-inserted",!0).forEach(le=>v.add(le)):_.add(z))}const y=new Map,x=MB(h,Array.from(v));x.forEach((G,z)=>{const ce=tv+m++;y.set(z,ce),G.forEach(le=>qr(le,ce))}),t.push(()=>{f.forEach((G,z)=>{const ce=p.get(z);G.forEach(le=>wu(le,ce))}),x.forEach((G,z)=>{const ce=y.get(z);G.forEach(le=>wu(le,ce))}),g.forEach(G=>{this.processLeaveNode(G)})});const D=[],S=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(e).forEach(ce=>{const le=ce.player,ze=ce.element;if(D.push(le),this.collectedEnterElements.length){const Xe=ze[cs];if(Xe&&Xe.setForMove){if(Xe.previousTriggersValues&&Xe.previousTriggersValues.has(ce.triggerName)){const pn=Xe.previousTriggersValues.get(ce.triggerName),K=this.statesByElement.get(ce.element);if(K&&K.has(ce.triggerName)){const Ee=K.get(ce.triggerName);Ee.value=pn,K.set(ce.triggerName,Ee)}}return void le.destroy()}}const ot=!d||!this.driver.containsElement(d,ze),Ye=y.get(ze),Xn=p.get(ze),nt=this._buildInstruction(ce,i,Xn,Ye,ot);if(nt.errors&&nt.errors.length)return void S.push(nt);if(ot)return le.onStart(()=>fl(ze,nt.fromStyles)),le.onDestroy(()=>Os(ze,nt.toStyles)),void r.push(le);if(ce.isFallbackTransition)return le.onStart(()=>fl(ze,nt.fromStyles)),le.onDestroy(()=>Os(ze,nt.toStyles)),void r.push(le);const ii=[];nt.timelines.forEach(Xe=>{Xe.stretchStartingKeyframe=!0,this.disabledNodes.has(Xe.element)||ii.push(Xe)}),nt.timelines=ii,i.append(ze,nt.timelines),o.push({instruction:nt,player:le,element:ze}),nt.queriedElements.forEach(Xe=>Cr(a,Xe,[]).push(le)),nt.preStyleProps.forEach((Xe,pn)=>{if(Xe.size){let K=l.get(pn);K||l.set(pn,K=new Set),Xe.forEach((Ee,je)=>K.add(je))}}),nt.postStyleProps.forEach((Xe,pn)=>{let K=c.get(pn);K||c.set(pn,K=new Set),Xe.forEach((Ee,je)=>K.add(je))})});if(S.length){const G=[];S.forEach(z=>{G.push(function hse(n,t){return new R(3505,!1)}())}),D.forEach(z=>z.destroy()),this.reportError(G)}const H=new Map,W=new Map;o.forEach(G=>{const z=G.element;i.has(z)&&(W.set(z,z),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,H))}),r.forEach(G=>{const z=G.element;this._getPreviousPlayers(z,!1,G.namespaceId,G.triggerName,null).forEach(le=>{Cr(H,z,[]).push(le),le.destroy()})});const be=g.filter(G=>NB(G,l,c)),ge=new Map;kB(ge,this.driver,_,c,yo).forEach(G=>{NB(G,l,c)&&be.push(G)});const st=new Map;f.forEach((G,z)=>{kB(st,this.driver,new Set(G),l,"!")}),be.forEach(G=>{const z=ge.get(G),ce=st.get(G);ge.set(G,new Map([...z?.entries()??[],...ce?.entries()??[]]))});const ye=[],tt=[],an={};o.forEach(G=>{const{element:z,player:ce,instruction:le}=G;if(i.has(z)){if(u.has(z))return ce.onDestroy(()=>Os(z,le.toStyles)),ce.disabled=!0,ce.overrideTotalTime(le.totalTime),void r.push(ce);let ze=an;if(W.size>1){let Ye=z;const Xn=[];for(;Ye=Ye.parentNode;){const nt=W.get(Ye);if(nt){ze=nt;break}Xn.push(Ye)}Xn.forEach(nt=>W.set(nt,ze))}const ot=this._buildAnimation(ce.namespaceId,le,H,s,st,ge);if(ce.setRealPlayer(ot),ze===an)ye.push(ce);else{const Ye=this.playersByElement.get(ze);Ye&&Ye.length&&(ce.parentPlayer=da(Ye)),r.push(ce)}}else fl(z,le.fromStyles),ce.onDestroy(()=>Os(z,le.toStyles)),tt.push(ce),u.has(z)&&r.push(ce)}),tt.forEach(G=>{const z=s.get(G.element);if(z&&z.length){const ce=da(z);G.setRealPlayer(ce)}}),r.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<g.length;G++){const z=g[G],ce=z[cs];if(wu(z,tv),ce&&ce.hasAnimation)continue;let le=[];if(a.size){let ot=a.get(z);ot&&ot.length&&le.push(...ot);let Ye=this.driver.query(z,$w,!0);for(let Xn=0;Xn<Ye.length;Xn++){let nt=a.get(Ye[Xn]);nt&&nt.length&&le.push(...nt)}}const ze=le.filter(ot=>!ot.destroyed);ze.length?doe(this,z,ze):this.processLeaveNode(z)}return g.length=0,ye.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();const z=this.players.indexOf(G);this.players.splice(z,1)}),G.play()}),ye}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==yf;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=Cr(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}fl(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const m=p.element;u.add(m);const g=m[cs];if(g&&g.removedBeforeQueried)return new gf(p.duration,p.delay);const v=m!==l,_=function hoe(n){const t=[];return RB(n,t),t}((i.get(m)||roe).map(H=>H.getRealPlayer())).filter(H=>!!H.element&&H.element===m),y=s.get(m),x=o.get(m),D=lB(this._normalizer,p.keyframes,y,x),S=this._buildPlayer(p,D,_);if(p.subTimeline&&r&&d.add(m),v){const H=new t1(t,a,m);H.setRealPlayer(S),c.push(H)}return S});c.forEach(p=>{Cr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function loe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>qr(p,gB));const f=da(h);return f.onDestroy(()=>{u.forEach(p=>wu(p,gB)),Os(l,e.toStyles)}),d.forEach(p=>{Cr(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new gf(t.duration,t.delay)}}class t1{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new gf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Ow(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Cr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function hv(n){return n&&1===n.nodeType}function IB(n,t){const e=n.style.display;return n.style.display=t??"none",e}function kB(n,t,e,i,r){const s=[];e.forEach(l=>s.push(IB(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[cs]=soe,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>IB(l,s[a++])),o}function MB(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function qr(n,t){n.classList?.add(t)}function wu(n,t){n.classList?.remove(t)}function doe(n,t,e){da(e).onDone(()=>n.processLeaveNode(t))}function RB(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof oB?RB(i.players,t):t.push(i)}}function NB(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class fv{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new aoe(t,e,i),this._timelineEngine=new Jse(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=jw(this._driver,s,l,[]);if(l.length)throw function tse(n,t){return new R(3404,!1)}();a=function Kse(n,t,e){return new Xse(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=cB(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=cB(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let goe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Os(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Os(this._element,this._initialStyles),this._endStyles&&(Os(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fl(this._element,this._endStyles),this._endStyles=null),Os(this._element,this._initialStyles),this._state=3)}}return n})();function n1(n){let t=null;return n.forEach((e,i)=>{(function moe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class PB{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:yB(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class _oe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return dB(t,e)}getParentElement(t){return Vw(t)}query(t,e,i){return hB(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof PB);(function wse(n,t){return 0===n||0===t})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function xse(n){return n.length?n[0]instanceof Map?n:n.map(t=>mB(t)):[]}(e).map(f=>ha(f));d=function Dse(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,yB(n,a)))}}return t}(t,d,c);const h=function poe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=n1(t[0]),t.length>1&&(i=n1(t[t.length-1]))):t instanceof Map&&(e=n1(t)),e||i?new goe(n,e,i):null}(t,d);return new PB(t,d,l,h)}}let voe=(()=>{class n extends iB{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Br.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?sB(e):e;return OB(this._renderer,null,i,"register",[r]),new yoe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(eu),O(Gt))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();class yoe extends Nre{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new boe(this._id,t,e||{},this._renderer)}}class boe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return OB(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function OB(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const LB="@.disabled";let xoe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new FB("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return i.data.animation.forEach(l),new Toe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(O(eu),O(fv),O(Le))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();class FB{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==LB?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Toe extends FB{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==LB?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Coe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function woe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let Doe=(()=>{class n extends fv{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Gt),O(Bw),O(Xw),O(go))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const VB=[{provide:iB,useClass:voe},{provide:Xw,useFactory:function Soe(){return new jse}},{provide:fv,useClass:Doe},{provide:eu,useFactory:function Eoe(n,t,e){return new xoe(n,t,e)},deps:[Aw,fv,Le]}],r1=[{provide:Bw,useFactory:()=>new _oe},{provide:QP,useValue:"BrowserAnimations"},...VB],BB=[{provide:Bw,useClass:fB},{provide:QP,useValue:"NoopAnimations"},...VB];let Aoe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?BB:r1}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Se({type:n});static#n=this.\u0275inj=we({providers:r1,imports:[ZV]})}return n})();const{isArray:koe}=Array,{getPrototypeOf:Moe,prototype:Roe,keys:Noe}=Object;function HB(n){if(1===n.length){const t=n[0];if(koe(t))return{args:t,keys:null};if(function Poe(n){return n&&"object"==typeof n&&Moe(n)===Roe}(t)){const e=Noe(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Ooe}=Array;function s1(n){return Ge(t=>function Loe(n,t){return Ooe(t)?n(...t):n(t)}(n,t))}function $B(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function bf(...n){const t=uh(n),e=om(n),{args:i,keys:r}=HB(n);if(0===i.length)return Hn([],t);const s=new lt(function Foe(n,t,e=Lr){return i=>{GB(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)GB(t,()=>{const c=Hn(n[l],t);let u=!1;c.subscribe(Et(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>$B(r,o):Lr));return e?s.pipe(s1(e)):s}function GB(n,t,e){n?io(e,n,t):t()}const gv=Wt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xf(...n){return function Voe(){return bc(1)}()(Hn(n,uh(n)))}function UB(n){return new lt(t=>{Mn(n()).subscribe(t)})}function Tf(n,t){const e=Ke(n)?n:()=>n,i=r=>r.error(e());return new lt(t?r=>t.schedule(i,0,r):i)}function o1(){return Yt((n,t)=>{let e=null;n._refCount++;const i=Et(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class zB extends lt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,tm(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ve;const e=this.getSubject();t.add(this.source.subscribe(Et(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ve.EMPTY)}return t}refCount(){return o1()(this)}}function Pn(n){return n<=0?()=>Fr:Yt((t,e)=>{let i=0;t.subscribe(Et(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function gl(...n){const t=uh(n);return Yt((e,i)=>{(t?xf(n,e,t):xf(n,e)).subscribe(i)})}function fi(n,t){return Yt((e,i)=>{let r=0;e.subscribe(Et(i,s=>n.call(t,s,r++)&&i.next(s)))})}function mv(n){return Yt((t,e)=>{let i=!1;t.subscribe(Et(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function jB(n=Boe){return Yt((t,e)=>{let i=!1;t.subscribe(Et(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Boe(){return new gv}function ml(n,t){const e=arguments.length>=2;return i=>i.pipe(n?fi((r,s)=>n(r,s,i)):Lr,Pn(1),e?mv(t):jB(()=>new gv))}function Du(n,t){return Ke(t)?Bn(n,t,1):Bn(n,1)}function On(n,t,e){const i=Ke(n)||t||e?{next:n,error:t,complete:e}:n;return i?Yt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Et(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Lr}function _l(n){return Yt((t,e)=>{let s,i=null,r=!1;i=t.subscribe(Et(e,void 0,void 0,o=>{s=Mn(n(o,_l(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function a1(n){return n<=0?()=>Fr:Yt((t,e)=>{let i=[];t.subscribe(Et(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Cf(n){return Yt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function nn(n){return Yt((t,e)=>{Mn(n).subscribe(Et(e,()=>e.complete(),Ot)),!e.closed&&t.subscribe(e)})}const We="primary",wf=Symbol("RouteTitle");class Uoe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Su(n){return new Uoe(n)}function zoe(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ls(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!qB(n[r],t[r]))return!1;return!0}function qB(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function YB(n){return n.length>0?n[n.length-1]:null}function fa(n){return function Ioe(n){return!!n&&(n instanceof lt||Ke(n.lift)&&Ke(n.subscribe))}(n)?n:Xh(n)?Hn(Promise.resolve(n)):Te(n)}const Woe={exact:function QB(n,t,e){if(!vl(n.segments,t.segments)||!_v(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!QB(n.children[i],t.children[i],e))return!1;return!0},subset:ZB},KB={exact:function qoe(n,t){return Ls(n,t)},subset:function Yoe(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>qB(n[e],t[e]))},ignored:()=>!0};function XB(n,t,e){return Woe[e.paths](n.root,t.root,e.matrixParams)&&KB[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ZB(n,t,e){return JB(n,t,t.segments,e)}function JB(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!vl(r,e)||t.hasChildren()||!_v(r,e,i))}if(n.segments.length===e.length){if(!vl(n.segments,e)||!_v(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!ZB(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(vl(n.segments,r)&&_v(n.segments,r,i)&&n.children[We])&&JB(n.children[We],t,s,i)}}function _v(n,t,e){return t.every((i,r)=>KB[e](n[r].parameters,i.parameters))}class Eu{constructor(t=new kt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Su(this.queryParams)),this._queryParamMap}toString(){return Qoe.serialize(this)}}class kt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vv(this)}}class Df{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Su(this.parameters)),this._parameterMap}toString(){return nH(this)}}function vl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Sf=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return new l1},providedIn:"root"})}return n})();class l1{parse(t){const e=new lae(t);return new Eu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ef(t.root,!0)}`,i=function eae(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${yv(e)}=${yv(r)}`).join("&"):`${yv(e)}=${yv(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Zoe(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Qoe=new l1;function vv(n){return n.segments.map(t=>nH(t)).join("/")}function Ef(n,t){if(!n.hasChildren())return vv(n);if(t){const e=n.children[We]?Ef(n.children[We],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==We&&i.push(`${r}:${Ef(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Xoe(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===We&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==We&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===We?[Ef(n.children[We],!1)]:[`${r}:${Ef(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[We]?`${vv(n)}/${e[0]}`:`${vv(n)}/(${e.join("//")})`}}function eH(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yv(n){return eH(n).replace(/%3B/gi,";")}function c1(n){return eH(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bv(n){return decodeURIComponent(n)}function tH(n){return bv(n.replace(/\+/g,"%20"))}function nH(n){return`${c1(n.path)}${function Joe(n){return Object.keys(n).map(t=>`;${c1(t)}=${c1(n[t])}`).join("")}(n.parameters)}`}const tae=/^[^\/()?;#]+/;function u1(n){const t=n.match(tae);return t?t[0]:""}const nae=/^[^\/()?;=#]+/,rae=/^[^=?&#]+/,oae=/^[^&#]+/;class lae{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[We]=new kt(t,e)),i}parseSegment(){const t=u1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(t),new Df(bv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function iae(n){const t=n.match(nae);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=u1(this.remaining);r&&(i=r,this.capture(i))}t[bv(e)]=bv(i)}parseQueryParam(t){const e=function sae(n){const t=n.match(rae);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function aae(n){const t=n.match(oae);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=tH(e),s=tH(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=u1(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new R(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=We);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[We]:new kt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new R(4011,!1)}}function iH(n){return n.segments.length>0?new kt([],{[We]:n}):n}function rH(n){const t={};for(const i of Object.keys(n.children)){const s=rH(n.children[i]);if(i===We&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function cae(n){if(1===n.numberOfChildren&&n.children[We]){const t=n.children[We];return new kt(n.segments.concat(t.segments),t.children)}return n}(new kt(n.segments,t))}function yl(n){return n instanceof Eu}function sH(n){let t;const r=iH(function e(s){const o={};for(const l of s.children){const c=e(l);o[l.outlet]=c}const a=new kt(s.url,o);return s===n&&(t=a),a}(n.root));return t??r}function oH(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return d1(r,r,r,e,i);const s=function dae(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new lH(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new lH(e,t,i)}(t);if(s.toRoot())return d1(r,r,new kt([],{}),e,i);const o=function hae(n,t,e){if(n.isAbsolute)return new Tv(t,!0,0);if(!e)return new Tv(t,!1,NaN);if(null===e.parent)return new Tv(e,!0,0);const i=xv(n.commands[0])?0:1;return function fae(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new R(4005,!1);r=i.segments.length}return new Tv(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?If(o.segmentGroup,o.index,s.commands):cH(o.segmentGroup,o.index,s.commands);return d1(r,o.segmentGroup,a,e,i)}function xv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Af(n){return"object"==typeof n&&null!=n&&n.outlets}function d1(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===t?e:aH(n,t,e);const a=iH(rH(o));return new Eu(a,s,r)}function aH(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:aH(s,t,e)}),new kt(n.segments,i)}class lH{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&xv(i[0]))throw new R(4003,!1);const r=i.find(Af);if(r&&r!==YB(i))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tv{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function cH(n,t,e){if(n||(n=new kt([],{})),0===n.segments.length&&n.hasChildren())return If(n,t,e);const i=function gae(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(Af(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!dH(l,c,o))return s;i+=2}else{if(!dH(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new kt(n.segments.slice(0,i.pathIndex),{});return s.children[We]=new kt(n.segments.slice(i.pathIndex),n.children),If(s,0,r)}return i.match&&0===r.length?new kt(n.segments,{}):i.match&&!n.hasChildren()?h1(n,t,e):i.match?If(n,0,r):h1(n,t,e)}function If(n,t,e){if(0===e.length)return new kt(n.segments,{});{const i=function pae(n){return Af(n[0])?n[0].outlets:{[We]:n}}(e),r={};if(Object.keys(i).some(s=>s!==We)&&n.children[We]&&1===n.numberOfChildren&&0===n.children[We].segments.length){const s=If(n.children[We],t,e);return new kt(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=cH(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new kt(n.segments,r)}}function h1(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Af(s)){const l=mae(s.outlets);return new kt(i,l)}if(0===r&&xv(e[0])){i.push(new Df(n.segments[t].path,uH(e[0]))),r++;continue}const o=Af(s)?s.outlets[We]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&xv(a)?(i.push(new Df(o,uH(a))),r+=2):(i.push(new Df(o,{})),r++)}return new kt(i,{})}function mae(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=h1(new kt([],{}),0,i))}),t}function uH(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function dH(n,t,e){return n==e.path&&Ls(t,e.parameters)}const kf="imperative";class Fs{constructor(t,e){this.id=t,this.url=e}}class Cv extends Fs{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pa extends Fs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mf extends Fs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Au extends Fs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class wv extends Fs{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hH extends Fs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _ae extends Fs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vae extends Fs{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yae extends Fs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bae extends Fs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xae{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tae{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cae{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wae{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dae{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sae{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fH{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class f1{}class p1{constructor(t){this.url=t}}class Eae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rf,this.attachRef=null}}let Rf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Eae,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class pH{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=g1(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=g1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=m1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return m1(t,this._root).map(e=>e.value)}}function g1(n,t){if(n===t.value)return t;for(const e of t.children){const i=g1(n,e);if(i)return i}return null}function m1(n,t){if(n===t.value)return[t];for(const e of t.children){const i=m1(n,e);if(i.length)return i.unshift(t),i}return[]}class xo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Iu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class gH extends pH{constructor(t,e){super(t),this.snapshot=e,_1(this,t)}toString(){return this.snapshot.toString()}}function mH(n,t){const e=function Aae(n,t){const o=new Dv([],{},{},"",{},We,t,null,{});return new vH("",new xo(o,[]))}(0,t),i=new $n([new Df("",{})]),r=new $n({}),s=new $n({}),o=new $n({}),a=new $n(""),l=new ku(i,r,o,a,s,We,t,e.root);return l.snapshot=e.root,new gH(new xo(l,[]),e)}class ku{constructor(t,e,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ge(c=>c[wf]))??Te(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ge(t=>Su(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ge(t=>Su(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _H(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Iae(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Dv{get title(){return this.data?.[wf]}constructor(t,e,i,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Su(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Su(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vH extends pH{constructor(t,e){super(e),this.url=t,_1(this,e)}toString(){return yH(this._root)}}function _1(n,t){t.value._routerState=n,t.children.forEach(e=>_1(n,e))}function yH(n){const t=n.children.length>0?` { ${n.children.map(yH).join(", ")} } `:"";return`${n.value}${t}`}function v1(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ls(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ls(t.params,e.params)||n.paramsSubject.next(e.params),function joe(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ls(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Ls(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function y1(n,t){const e=Ls(n.params,t.params)&&function Koe(n,t){return vl(n,t)&&n.every((e,i)=>Ls(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||y1(n.parent,t.parent))}let b1=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=We,this.activateEvents=new Q,this.deactivateEvents=new Q,this.attachEvents=new Q,this.detachEvents=new Q,this.parentContexts=ee(Rf),this.location=ee(br),this.changeDetector=ee(di),this.environmentInjector=ee(mr),this.inputBinder=ee(Sv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new kae(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Y({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nt]})}return n})();class kae{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ku?this.route:t===Rf?this.childContexts:this.parent.get(t,e)}}const Sv=new j("");let bH=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=bf([i.queryParams,i.params,i.data]).pipe(Ki(([s,o,a],l)=>(a={...s,...o,...a},0===l?Te(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function cne(n){const t=ct(n);if(!t)return null;const e=new jh(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function Nf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Rae(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Nf(n,i,r);return Nf(n,i)})}(n,t,e);return new xo(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Nf(n,a)),o}}const i=function Nae(n){return new ku(new $n(n.url),new $n(n.params),new $n(n.queryParams),new $n(n.fragment),new $n(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Nf(n,s));return new xo(i,r)}}const x1="ngNavigationCancelingError";function xH(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=yl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=TH(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function TH(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[x1]=!0,i.cancellationCode=t,e&&(i.url=e),i}function CH(n){return n&&n[x1]}let wH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=_t({type:n,selectors:[["ng-component"]],standalone:!0,features:[GF],decls:1,vars:0,template:function(i,r){1&i&&xe(0,"router-outlet")},dependencies:[b1],encapsulation:2})}return n})();function T1(n){const t=n.children&&n.children.map(T1),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==We&&(e.component=wH),e}function us(n){return n.outlet||We}function Pf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class $ae{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),v1(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Iu(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Iu(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Iu(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Iu(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Sae(s.value.snapshot))}),t.children.length&&this.forwardEvent(new wae(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(v1(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),v1(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Pf(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class DH{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ev{constructor(t,e){this.component=t,this.route=e}}function Gae(n,t,e){const i=n._root;return Of(i,t?t._root:null,e,[i.value])}function Mu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function Rq(n){return null!==fm(n)}(n)?t.get(n):n:i}function Of(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Iu(t);return n.children.forEach(o=>{(function zae(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function jae(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!vl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!vl(n.url,t.url)||!Ls(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!y1(n,t)||!Ls(n.queryParams,t.queryParams);default:return!y1(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new DH(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Of(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ev(a.outlet.component,o))}else o&&Lf(t,a,r),r.canActivateChecks.push(new DH(i)),Of(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Lf(a,e.getContext(o),r)),r}function Lf(n,t,e){const i=Iu(n),r=n.value;Object.entries(i).forEach(([s,o])=>{Lf(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Ev(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Ff(n){return"function"==typeof n}function SH(n){return n instanceof gv||"EmptyError"===n?.name}const Av=Symbol("INITIAL_VALUE");function Ru(){return Ki(n=>bf(n.map(t=>t.pipe(Pn(1),gl(Av)))).pipe(Ge(t=>{for(const e of t)if(!0!==e){if(e===Av)return Av;if(!1===e||e instanceof Eu)return e}return!0}),fi(t=>t!==Av),Pn(1)))}function EH(n){return function ix(...n){return Qg(n)}(On(t=>{if(yl(t))throw xH(0,t)}),Ge(t=>!0===t))}class Iv{constructor(t){this.segmentGroup=t||null}}class AH{constructor(t){this.urlTree=t}}function Nu(n){return Tf(new Iv(n))}function IH(n){return Tf(new AH(n))}class dle{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new R(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Te(i);if(r.numberOfChildren>1||!r.children[We])return Tf(new R(4e3,!1));r=r.children[We]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Eu(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new kt(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new R(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const C1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hle(n,t,e,i,r){const s=w1(n,t,e);return s.matched?(i=function Oae(n,t){return n.providers&&!n._injector&&(n._injector=EC(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function lle(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Te(r.map(o=>{const a=Mu(o,n);return fa(function Qae(n){return n&&Ff(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Ru(),EH()):Te(!0)}(i,t,e).pipe(Ge(o=>!0===o?s:{...C1}))):Te(s)}function w1(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...C1}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||zoe)(e,n,t);if(!r)return{...C1};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function kH(n,t,e,i){return e.length>0&&function gle(n,t,e){return e.some(i=>kv(n,t,i)&&us(i)!==We)}(n,e,i)?{segmentGroup:new kt(t,ple(i,new kt(e,n.children))),slicedSegments:[]}:0===e.length&&function mle(n,t,e){return e.some(i=>kv(n,t,i))}(n,e,i)?{segmentGroup:new kt(n.segments,fle(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new kt(n.segments,n.children),slicedSegments:e}}function fle(n,t,e,i,r){const s={};for(const o of i)if(kv(n,e,o)&&!r[us(o)]){const a=new kt([],{});s[us(o)]=a}return{...r,...s}}function ple(n,t){const e={};e[We]=t;for(const i of n)if(""===i.path&&us(i)!==We){const r=new kt([],{});e[us(i)]=r}return e}function kv(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class ble{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new dle(this.urlSerializer,this.urlTree)}noMatchError(t){return new R(4002,!1)}recognize(){const t=kH(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,We).pipe(_l(e=>{if(e instanceof AH)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Iv?this.noMatchError(e):e}),Ge(e=>{const i=new Dv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},We,this.rootComponentType,null,{}),r=new xo(i,e),s=new vH("",r),o=function uae(n,t,e=null,i=null){return oH(sH(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,We).pipe(_l(i=>{throw i instanceof Iv?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=_H(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Hn(r).pipe(Du(s=>{const o=i.children[s],a=function Bae(n,t){const e=n.filter(i=>us(i)===t);return e.push(...n.filter(i=>us(i)!==t)),e}(e,s);return this.processSegmentGroup(t,a,o,s)}),function $oe(n,t){return Yt(function Hoe(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(Et(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),mv(null),function Goe(n,t){const e=arguments.length>=2;return i=>i.pipe(n?fi((r,s)=>n(r,s,i)):Lr,a1(1),e?mv(t):jB(()=>new gv))}(),Bn(s=>{if(null===s)return Nu(i);const o=MH(s);return function xle(n){n.sort((t,e)=>t.value.outlet===We?-1:e.value.outlet===We?1:t.value.outlet.localeCompare(e.value.outlet))}(o),Te(o)}))}processSegment(t,e,i,r,s,o){return Hn(e).pipe(Du(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,s,o).pipe(_l(l=>{if(l instanceof Iv)return Te(null);throw l}))),ml(a=>!!a),_l(a=>{if(SH(a))return function vle(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?Te([]):Nu(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,s,o,a){return function _le(n,t,e,i){return!!(us(n)===i||i!==We&&kv(t,e,n))&&("**"===n.path||w1(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):Nu(r):Nu(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?IH(s):this.applyRedirects.lineralizeSegments(i,s).pipe(Bn(o=>{const a=new kt(o,{});return this.processSegment(t,e,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=w1(e,r,s);if(!a)return Nu(e);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?IH(d):this.applyRedirects.lineralizeSegments(r,d).pipe(Bn(h=>this.processSegment(t,i,e,h.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?YB(r).parameters:{};a=Te({snapshot:new Dv(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RH(i),us(i),i.component??i._loadedComponent??null,i,NH(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=hle(e,i,r,t).pipe(Ge(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new Dv(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,RH(i),us(i),i.component??i._loadedComponent??null,i,NH(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(Ki(l=>null===l?Nu(e):this.getChildConfig(t=i._injector??t,i,r).pipe(Ki(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:m}=kH(e,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(Ge(v=>null===v?null:[new xo(d,v)]));if(0===c.length&&0===m.length)return Te([new xo(d,[])]);const g=us(i)===s;return this.processSegment(u,c,p,m,g?We:s,!0).pipe(Ge(v=>[new xo(d,v)]))}))))}getChildConfig(t,e,i){return e.children?Te({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Te({routes:e._loadedRoutes,injector:e._loadedInjector}):function ale(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Te(!0):Te(r.map(o=>{const a=Mu(o,n);return fa(function qae(n){return n&&Ff(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Ru(),EH())}(t,e,i).pipe(Bn(r=>r?this.configLoader.loadChildren(t,e).pipe(On(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function ule(n){return Tf(TH(!1,3))}())):Te({routes:[],injector:t})}}function Tle(n){const t=n.value.routeConfig;return t&&""===t.path}function MH(n){const t=[],e=new Set;for(const i of n){if(!Tle(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=MH(i.children);t.push(new xo(i.value,r))}return t.filter(i=>!e.has(i))}function RH(n){return n.data||{}}function NH(n){return n.resolve||{}}function wle(n,t){return Bn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Te(e);let s=0;return Hn(r).pipe(Du(o=>function Dle(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!PH(r)&&(s[wf]=r.title),function Sle(n,t,e,i){const r=function Ele(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Te({});const s={};return Hn(r).pipe(Bn(o=>function Ale(n,t,e,i){const r=Pf(t)??i,s=Mu(n,r);return fa(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(ml(),On(a=>{s[o]=a}))),a1(1),function WB(n){return Ge(()=>n)}(s),_l(o=>SH(o)?Fr:Tf(o)))}(s,n,t,i).pipe(Ge(o=>(n._resolvedData=o,n.data=_H(n,e).resolve,r&&PH(r)&&(n.data[wf]=r.title),null)))}(o.route,i,n,t)),On(()=>s++),a1(1),Bn(o=>s===r.length?Te(e):Fr))})}function PH(n){return"string"==typeof n.title||null===n.title}function D1(n){return Ki(t=>{const e=n(t);return e?Hn(e).pipe(Ge(()=>t)):Te(t)})}const Pu=new j("ROUTES");let S1=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ee(N2)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Te(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=fa(e.loadComponent()).pipe(Ge(OH),On(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Cf(()=>{this.componentLoaders.delete(e)})),r=new zB(i,()=>new De).pipe(o1());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Te({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Ile(n,t,e,i){return fa(n.loadChildren()).pipe(Ge(OH),Bn(r=>r instanceof HF||Array.isArray(r)?Te(r):Hn(t.compileModuleAsync(r))),Ge(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(Pu,[],{optional:!0,self:!0}).flat()),{routes:o.map(T1),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Cf(()=>{this.childrenLoaders.delete(i)})),o=new zB(s,()=>new De).pipe(o1());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OH(n){return function kle(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Mv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new De,this.transitionAbortSubject=new De,this.configLoader=ee(S1),this.environmentInjector=ee(mr),this.urlSerializer=ee(Sf),this.rootContexts=ee(Rf),this.inputBindingEnabled=null!==ee(Sv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Te(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Tae(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new xae(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new $n({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kf,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fi(s=>0!==s.id),Ge(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),Ki(s=>{this.currentTransition=s;let o=!1,a=!1;return Te(s).pipe(On(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ki(l=>{const c=l.currentBrowserUrl.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const h="";return this.events.next(new Au(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Fr}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Te(l).pipe(Ki(h=>{const f=this.transitions?.getValue();return this.events.next(new Cv(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Fr:Promise.resolve(h)}),function Cle(n,t,e,i,r,s){return Bn(o=>function yle(n,t,e,i,r,s,o="emptyOnly"){return new ble(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe(Ge(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),On(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new hH(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=l,v=new Cv(h,this.urlSerializer.serialize(f),p,m);this.events.next(v);const _=mH(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:_,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},Te(s)}{const h="";return this.events.next(new Au(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Fr}}),On(l=>{const c=new _ae(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Ge(l=>(this.currentTransition=s={...l,guards:Gae(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function Jae(n,t){return Bn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?Te({...e,guardsResult:!0}):function ele(n,t,e,i){return Hn(n).pipe(Bn(r=>function ole(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Te(s.map(a=>{const l=Pf(t)??r,c=Mu(a,l);return fa(function Xae(n){return n&&Ff(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(ml())})).pipe(Ru()):Te(!0)}(r.component,r.route,e,t,i)),ml(r=>!0!==r,!0))}(o,i,r,n).pipe(Bn(a=>a&&function Wae(n){return"boolean"==typeof n}(a)?function tle(n,t,e,i){return Hn(t).pipe(Du(r=>xf(function ile(n,t){return null!==n&&t&&t(new Cae(n)),Te(!0)}(r.route.parent,i),function nle(n,t){return null!==n&&t&&t(new Dae(n)),Te(!0)}(r.route,i),function sle(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function Uae(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>UB(()=>Te(o.guards.map(l=>{const c=Pf(o.node)??e,u=Mu(l,c);return fa(function Kae(n){return n&&Ff(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(ml())})).pipe(Ru())));return Te(s).pipe(Ru())}(n,r.path,e),function rle(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Te(!0);const r=i.map(s=>UB(()=>{const o=Pf(t)??e,a=Mu(s,o);return fa(function Yae(n){return n&&Ff(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(ml())}));return Te(r).pipe(Ru())}(n,r.route,e))),ml(r=>!0!==r,!0))}(i,s,n,t):Te(a)),Ge(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),On(l=>{if(s.guardsResult=l.guardsResult,yl(l.guardsResult))throw xH(0,l.guardsResult);const c=new vae(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),fi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),D1(l=>{if(l.guards.canActivateChecks.length)return Te(l).pipe(On(c=>{const u=new yae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ki(c=>{let u=!1;return Te(c).pipe(wle(e.paramsInheritanceStrategy,this.environmentInjector),On({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),On(c=>{const u=new bae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),D1(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(On(h=>{u.component=h}),Ge(()=>{})));for(const h of u.children)d.push(...c(h));return d};return bf(c(l.targetSnapshot.root)).pipe(mv(),Pn(1))}),D1(()=>this.afterPreactivation()),Ge(l=>{const c=function Mae(n,t,e){const i=Nf(n,t._root,e?e._root:void 0);return new gH(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),On(()=>{this.events.next(new f1)}),((n,t,e,i)=>Ge(r=>(new $ae(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Pn(1),On({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),nn(this.transitionAbortSubject.pipe(On(l=>{throw l}))),Cf(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),_l(l=>{if(a=!0,CH(l))this.events.next(new Mf(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Pae(n){return CH(n)&&yl(n.url)}(l)?this.events.next(new p1(l.url)):s.resolve(!1);else{this.events.next(new wv(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(c){s.reject(c)}}return Fr}))}))}cancelNavigationTransition(e,i,r){const s=new Mf(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LH(n){return n!==kf}let FH=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===We);return i}getResolvedTitleForRoute(e){return e.data[wf]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return ee(Mle)},providedIn:"root"})}return n})(),Mle=(()=>{class n extends FH{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(JV))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return ee(Ple)},providedIn:"root"})}return n})();class Nle{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Ple=(()=>{class n extends Nle{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ci(n)))(r||n)}}();static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Rv=new j("",{providedIn:"root",factory:()=>({})});let Ole=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return ee(Lle)},providedIn:"root"})}return n})(),Lle=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Vf||{});function VH(n,t){n.events.pipe(fi(e=>e instanceof pa||e instanceof Mf||e instanceof wv||e instanceof Au),Ge(e=>e instanceof pa||e instanceof Au?Vf.COMPLETE:e instanceof Mf&&(0===e.code||1===e.code)?Vf.REDIRECTING:Vf.FAILED),fi(e=>e!==Vf.REDIRECTING),Pn(1)).subscribe(()=>{t()})}function Fle(n){throw n}function Vle(n,t,e){return t.parse("/")}const Ble={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hle={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ee(R2),this.isNgZoneEnabled=!1,this._events=new De,this.options=ee(Rv,{optional:!0})||{},this.pendingTasks=ee(N_),this.errorHandler=this.options.errorHandler||Fle,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Vle,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ee(Ole),this.routeReuseStrategy=ee(Rle),this.titleStrategy=ee(FH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ee(Pu,{optional:!0})?.flat()??[],this.navigationTransitions=ee(Mv),this.urlSerializer=ee(Sf),this.location=ee(ow),this.componentInputBindingEnabled=!!ee(Sv,{optional:!0}),this.eventsSubscription=new Ve,this.isNgZoneEnabled=ee(Le)instanceof Le&&Le.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Eu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(BH(i)&&this._events.next(i));if(i instanceof Cv)LH(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Au)this.rawUrlTree=r.rawUrl;else if(i instanceof hH){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof f1)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Mf)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof p1){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||LH(r.source)};this.scheduleNavigation(s,kf,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof wv&&this.restoreHistory(r,!0),i instanceof pa&&(this.navigated=!0),BH(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),kf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(T1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=sH(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),d=this.currentUrlTree.root}return oH(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=yl(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,kf,null,i)}navigate(e,i={skipLocationChange:!1}){return function $le(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new R(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Ble}:!1===i?{...Hle}:i,yl(e))return XB(this.currentUrlTree,e,r);const s=this.parseUrl(e);return XB(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return VH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BH(n){return!(n instanceof f1||n instanceof p1)}class HH{}let zle=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(fi(e=>e instanceof pa),Du(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=EC(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Hn(r).pipe(bc())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Te(null);const s=r.pipe(Bn(o=>null===o?Te(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?Hn([s,this.loader.loadComponent(i)]).pipe(bc()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(O(pi),O(N2),O(mr),O(HH),O(S1))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const A1=new j("");let $H=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Cv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof pa?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Au&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof fH&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fH(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function kO(){throw new Error("invalid")}()};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function To(n,t){return{\u0275kind:n,\u0275providers:t}}function UH(){const n=ee(Rn);return t=>{const e=n.get(go);if(t!==e.components[0])return;const i=n.get(pi),r=n.get(zH);1===n.get(I1)&&i.initialNavigation(),n.get(jH,null,Qe.Optional)?.setUpPreloading(),n.get(A1,null,Qe.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const zH=new j("",{factory:()=>new De}),I1=new j("",{providedIn:"root",factory:()=>1}),jH=new j("");function Yle(n){return To(0,[{provide:jH,useExisting:zle},{provide:HH,useExisting:n}])}const WH=new j("ROUTER_FORROOT_GUARD"),Xle=[ow,{provide:Sf,useClass:l1},pi,Rf,{provide:ku,useFactory:function GH(n){return n.routerState.root},deps:[pi]},S1,[]];function Qle(){return new H2("Router",pi)}let qH=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Xle,[],{provide:Pu,multi:!0,useValue:e},{provide:WH,useFactory:tce,deps:[[pi,new Gr,new Fm]]},{provide:Rv,useValue:i||{}},i?.useHash?{provide:dl,useClass:pne}:{provide:dl,useClass:mV},{provide:A1,useFactory:()=>{const n=ee(Pie),t=ee(Le),e=ee(Rv),i=ee(Mv),r=ee(Sf);return e.scrollOffset&&n.setOffset(e.scrollOffset),new $H(r,i,n,t,e)}},i?.preloadingStrategy?Yle(i.preloadingStrategy).\u0275providers:[],{provide:H2,multi:!0,useFactory:Qle},i?.initialNavigation?nce(i):[],i?.bindToComponentInputs?To(8,[bH,{provide:Sv,useExisting:bH}]).\u0275providers:[],[{provide:YH,useFactory:UH},{provide:XC,multi:!0,useExisting:YH}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Pu,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(WH,8))};static#t=this.\u0275mod=Se({type:n});static#n=this.\u0275inj=we({})}return n})();function tce(n){return"guarded"}function nce(n){return["disabled"===n.initialNavigation?To(3,[{provide:GC,multi:!0,useFactory:()=>{const t=ee(pi);return()=>{t.setUpLocationChangeListener()}}},{provide:I1,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?To(2,[{provide:I1,useValue:0},{provide:GC,multi:!0,deps:[Rn],useFactory:t=>{const e=t.get(hne,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(pi),s=t.get(zH);VH(r,()=>{i(!0)}),t.get(Mv).afterPreactivation=()=>(i(!0),s.closed?Te(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const YH=new j("");function KH(n,t,e,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function I(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(l){KH(s,i,r,o,a,"next",l)}function a(l){KH(s,i,r,o,a,"throw",l)}o(void 0)})}}const XH=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},QH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(e[s>>2],e[(3&s)<<4|a>>4],e[h],e[f])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(XH(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const d=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw new ace;i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ace extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nv=function(n){return function(n){const t=XH(n);return QH.encodeByteArray(t,!0)}(n).replace(/\./g,"")},Pv=function(n){try{return QH.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},Ov=()=>{try{return function uce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Pv(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},JH=()=>{var n;return null===(n=Ov())||void 0===n?void 0:n.config};class e${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function Dr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class ga extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bf.prototype.create)}}class Bf{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?function Dce(n,t){return n.replace(Sce,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new ga(r,`${this.serviceName}: ${o} (${r}).`,i)}}const Sce=/\{\$([^}]+)}/g;function M1(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(n$(s)&&n$(o)){if(!M1(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function n$(n){return null!==n&&"object"==typeof n}function i$(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class Ace{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function Ice(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=R1),void 0===r.error&&(r.error=R1),void 0===r.complete&&(r.complete=R1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R1(){}function Co(n){return n&&n._delegate?n._delegate:n}class bl{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const xl="[DEFAULT]";class Oce{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new e$;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function Fce(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:xl})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=xl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return I(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=xl){return this.instances.has(t)}getOptions(t=xl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===xl?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(t=xl){return this.component?this.component.multipleInstances?t:xl:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Vce{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Oce(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const P1=[];var at=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(at||{});const r$={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},Bce=at.INFO,Hce={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},$ce=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=Hce[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class O1{constructor(t){this.name=t,this._logLevel=Bce,this._logHandler=$ce,this._userLogHandler=null,P1.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in at))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?r$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...t),this._logHandler(this,at.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...t),this._logHandler(this,at.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,at.INFO,...t),this._logHandler(this,at.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,at.WARN,...t),this._logHandler(this,at.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...t),this._logHandler(this,at.ERROR,...t)}}const Gce=(n,t)=>t.some(e=>n instanceof e);let s$,o$;const a$=new WeakMap,L1=new WeakMap,l$=new WeakMap,F1=new WeakMap,V1=new WeakMap;let B1={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return L1.get(n);if("objectStoreNames"===t)return n.objectStoreNames||l$.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ma(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function Kce(n){return"function"==typeof n?function Yce(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zce(){return o$||(o$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(H1(this),t),ma(a$.get(this))}:function(...t){return ma(n.apply(H1(this),t))}:function(t,...e){const i=n.call(H1(this),t,...e);return l$.set(i,t.sort?t.sort():[t]),ma(i)}}(n):(n instanceof IDBTransaction&&function Wce(n){if(L1.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});L1.set(n,t)}(n),Gce(n,function Uce(){return s$||(s$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,B1):n)}function ma(n){if(n instanceof IDBRequest)return function jce(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(ma(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&a$.set(e,n)}).catch(()=>{}),V1.set(t,n),t}(n);if(F1.has(n))return F1.get(n);const t=Kce(n);return t!==n&&(F1.set(n,t),V1.set(t,n)),t}const H1=n=>V1.get(n),Qce=["get","getKey","getAll","getAllKeys","count"],Zce=["put","add","delete","clear"],$1=new Map;function c$(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if($1.get(t))return $1.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Zce.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Qce.includes(e))return;const s=function(){var o=I(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[e](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return $1.set(t,s),s}!function qce(n){B1=n(B1)}(n=>({...n,get:(t,e,i)=>c$(t,e)||n.get(t,e,i),has:(t,e)=>!!c$(t,e)||n.has(t,e)}));class Jce{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function eue(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const G1="@firebase/app",Tl=new O1("@firebase/app"),Fv="[DEFAULT]",Sue={[G1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Cl=new Map,Vv=new Map;function Eue(n,t){try{n.container.addComponent(t)}catch(e){Tl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ou(n){const t=n.name;if(Vv.has(t))return Tl.debug(`There were multiple attempts to register component ${t}.`),!1;Vv.set(t,n);for(const e of Cl.values())Eue(e,n);return!0}const wo=new Bf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Iue{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}const Bv="10.7.1";function h$(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:Fv,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw wo.create("bad-app-name",{appName:String(r)});if(e||(e=JH()),!e)throw wo.create("no-options");const s=Cl.get(r);if(s){if(M1(e,s.options)&&M1(i,s.config))return s;throw wo.create("duplicate-app",{appName:r})}const o=new Vce(r);for(const l of Vv.values())o.addComponent(l);const a=new Iue(e,i,o);return Cl.set(r,a),a}function f$(n=Fv){const t=Cl.get(n);if(!t&&n===Fv&&JH())return h$();if(!t)throw wo.create("no-app",{appName:n});return t}function p$(){return Array.from(Cl.values())}function Yr(n,t,e){var i;let r=null!==(i=Sue[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Tl.warn(a.join(" "))}Ou(new bl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const kue="firebase-heartbeat-database",Mue=1,Hf="firebase-heartbeat-store";let z1=null;function g$(){return z1||(z1=function Xce(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),a=ma(o);return i&&o.addEventListener("upgradeneeded",l=>{i(ma(o.result),l.oldVersion,l.newVersion,ma(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(kue,Mue,{upgrade:(n,t)=>{0===t&&n.createObjectStore(Hf)}}).catch(n=>{throw wo.create("idb-open",{originalErrorMessage:n.message})})),z1}function j1(){return(j1=I(function*(n){try{return yield(yield g$()).transaction(Hf).objectStore(Hf).get(_$(n))}catch(t){if(t instanceof ga)Tl.warn(t.message);else{const e=wo.create("idb-get",{originalErrorMessage:t?.message});Tl.warn(e.message)}}})).apply(this,arguments)}function m$(n,t){return W1.apply(this,arguments)}function W1(){return(W1=I(function*(n,t){try{const i=(yield g$()).transaction(Hf,"readwrite");yield i.objectStore(Hf).put(t,_$(n)),yield i.done}catch(e){if(e instanceof ga)Tl.warn(e.message);else{const i=wo.create("idb-set",{originalErrorMessage:e?.message});Tl.warn(i.message)}}})).apply(this,arguments)}function _$(n){return`${n.name}!${n.options.appId}`}class Oue{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Fue(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return I(function*(){var e,i;const s=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=v$();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==o&&!t._heartbeatsCache.heartbeats.some(a=>a.date===o))return t._heartbeatsCache.heartbeats.push({date:o,agent:s}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return I(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=v$(),{heartbeatsToSend:r,unsentEntries:s}=function Lue(n,t=1024){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),y$(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),y$(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),o=Nv(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(t._heartbeatsCache.heartbeats=s,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function v$(){return(new Date).toISOString().substring(0,10)}class Fue{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(function*(){return!!function Tce(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Cce(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return I(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function Rue(n){return j1.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return I(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return m$(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return I(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return m$(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}})()}}function y$(n){return Nv(JSON.stringify({version:2,heartbeats:n})).length}!function Vue(n){Ou(new bl("platform-logger",t=>new Jce(t),"PRIVATE")),Ou(new bl("heartbeat",t=>new Oue(t),"PRIVATE")),Yr(G1,"0.9.25",n),Yr(G1,"0.9.25","esm2017"),Yr("fire-js","")}(""),Yr("firebase","10.7.1","app");class $ue extends Ve{constructor(t,e){super()}schedule(t,e=0){return this}}const Hv={setInterval(n,t,...e){const{delegate:i}=Hv;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Hv;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class $v extends $ue{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return Hv.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Hv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,gn(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const b$={now:()=>(b$.delegate||Date).now(),delegate:void 0};class $f{constructor(t,e=$f.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}$f.now=b$.now;class Gv extends $f{constructor(t,e=$f.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const zue=new class Uue extends Gv{}(class Gue extends $v{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Lu=new Gv($v),jue=Lu,q1=new tu("ANGULARFIRE2_VERSION");const Y1=(n,t)=>{const e=t?[t]:p$(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};class Wue{constructor(){return Y1(que)}}const que="app-check";function Fu(){}class T${zone;delegate;constructor(t,e=zue){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class Yue{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fu,{},Fu,Fu)),e.pipe(On({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let C$=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new T$(Zone.current)),this.insideAngular=e.run(()=>new T$(Zone.current,Lu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(O(Le))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vu(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function wl(n){return Vu().ngZone.run(()=>n())}function Xue(n){return function Que(n){return function(e){return(e=e.lift(new Yue(n.ngZone))).pipe(lm(n.outsideAngular),am(n.insideAngular))}}(Vu())(n)}const Zue=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),wl(()=>n.apply(void 0,i))},Gf=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||=wl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fu,{},Fu,Fu))),i[s]=Zue(i[s],e));const r=function Kue(n){return Vu().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof lt){const s=Vu();return r.pipe(lm(s.outsideAngular),am(s.insideAngular))}return wl(()=>r)}return r instanceof lt?r.pipe(Xue):r instanceof Promise?wl(()=>new Promise((s,o)=>r.then(a=>wl(()=>s(a)),a=>wl(()=>o(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:wl(()=>r)};class Uf{constructor(t){return t}}class w${constructor(){return p$()}}const K1=new j("angularfire2._apps"),ede={provide:Uf,useFactory:function Jue(n){return n&&1===n.length?n[0]:new Uf(f$())},deps:[[new Gr,K1]]},tde={provide:w$,deps:[[new Gr,K1]]};function nde(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Uf(i)}}let ide=(()=>{class n{constructor(e){Yr("angularfire",q1.full,"core"),Yr("angularfire",q1.full,"app"),Yr("angular",rO.full,e.toString())}static \u0275fac=function(i){return new(i||n)(O(tr))};static \u0275mod=Se({type:n});static \u0275inj=we({providers:[ede,tde]})}return n})();function rde(n,...t){return{ngModule:ide,providers:[{provide:K1,useFactory:nde(n),multi:!0,deps:[Le,Rn,C$,...t]}]}}const sde=Gf(h$,!0);const ode=function D$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},S$=new Bf("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Uv=new O1("@firebase/auth");function zv(n,...t){Uv.logLevel<=at.ERROR&&Uv.error(`Auth (${Bv}): ${n}`,...t)}function rr(n,...t){throw X1(n,...t)}function Vs(n,...t){return X1(n,...t)}function X1(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return S$.create(n,...t)}function X(n,t,...e){if(!n)throw X1(t,...e)}function Bs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw zv(t),new Error(t)}function _a(n,t){n||Bs(t)}function A$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function lde(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Q1(){return"http:"===A$()||"https:"===A$()}()||function bce(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class jf{constructor(t,e){this.shortDelay=t,this.longDelay=e,_a(e>t,"Short delay should be less than long delay!"),this.isMobile=function vce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dr())}()||function xce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return lde()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class I${static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ude={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dde=new jf(3e4,6e4);function Kt(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function Xt(n,t,e,i){return J1.apply(this,arguments)}function J1(){return(J1=I(function*(n,t,e,i,r={}){return k$(n,r,I(function*(){let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=i$(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),I$.fetch()(M$(n,n.config.apiHost,e,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function k$(n,t,e){return eD.apply(this,arguments)}function eD(){return(eD=I(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},ude),t);try{const r=new fde(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Wf(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Wf(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Wf(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Wf(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function E$(n,t,e){const i=Object.assign(Object.assign({},ode()),{[t]:e});return new Bf("auth","Firebase",i).create(t,{appName:n.name})}(n,u,c);rr(n,u)}}catch(r){if(r instanceof ga)throw r;rr(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function M$(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?function Z1(n,t){_a(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}(n.config,r):`${n.config.apiScheme}://${r}`}class fde{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Vs(this.auth,"network-request-failed")),dde.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Vs(n,t,i);return r.customData._tokenResponse=e,r}function rD(){return(rD=I(function*(n,t){return Xt(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function oD(){return(oD=I(function*(n,t){return Xt(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function qf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function aD(){return(aD=I(function*(n,t=!1){const e=Co(n),i=yield e.getIdToken(t),r=jv(i);X(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:qf(lD(r.auth_time)),issuedAtTime:qf(lD(r.iat)),expirationTime:qf(lD(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function lD(n){return 1e3*Number(n)}function jv(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return zv("JWT malformed, contained fewer than 3 sections"),null;try{const r=Pv(e);return r?JSON.parse(r):(zv("Failed to decode base64 JWT payload"),null)}catch(r){return zv("Caught error parsing JWT payload as JSON",r?.toString()),null}}function So(n,t){return cD.apply(this,arguments)}function cD(){return(cD=I(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof ga&&function bde({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class xde{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(I(function*(){yield e.iteration()}),i)}iteration(){var t=this;return I(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class L${constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=qf(this.lastLoginAt),this.creationTime=qf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yf(n){return uD.apply(this,arguments)}function uD(){return uD=I(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield So(n,function _de(n,t){return oD.apply(this,arguments)}(e,{idToken:i}));X(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?function wde(n){return n.map(t=>{var{providerId:e}=t,i=Ya(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(s.providerUserInfo):[],a=function Cde(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new L$(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),uD.apply(this,arguments)}function dD(){return(dD=I(function*(n){const t=Co(n);yield Yf(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function hD(){return(hD=I(function*(n,t){const e=yield k$(n,{},I(function*(){const i=i$({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=M$(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",I$.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function fD(){return(fD=I(function*(n,t){return Xt(n,"POST","/v2/accounts:revokeToken",Kt(n,t))})).apply(this,arguments)}class Kf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){X(t.idToken,"internal-error"),X(typeof t.idToken<"u","internal-error"),X(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function yde(n){const t=jv(n);return X(t,"internal-error"),X(typeof t.exp<"u","internal-error"),X(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return I(function*(){return X(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return I(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function Dde(n,t){return hD.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new Kf;return i&&(X("string"==typeof i,"internal-error",{appName:t}),o.refreshToken=i),r&&(X("string"==typeof r,"internal-error",{appName:t}),o.accessToken=r),s&&(X("number"==typeof s,"internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Kf,this.toJSON())}_performRefresh(){return Bs("not implemented")}}function va(n,t){X("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class Dl{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=Ya(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new L$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var e=this;return I(function*(){const i=yield So(e,e.stsTokenManager.getToken(e.auth,t));return X(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function vde(n){return aD.apply(this,arguments)}(this,t)}reload(){return function Tde(n){return dD.apply(this,arguments)}(this)}_assign(t){this!==t&&(X(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Dl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return I(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield Yf(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return I(function*(){const e=yield t.getIdToken();return yield So(t,function gde(n,t){return rD.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,a,l,c,u;const d=null!==(i=e.displayName)&&void 0!==i?i:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,f=null!==(s=e.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=e.photoURL)&&void 0!==o?o:void 0,m=null!==(a=e.tenantId)&&void 0!==a?a:void 0,g=null!==(l=e._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=e.createdAt)&&void 0!==c?c:void 0,_=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:x,isAnonymous:D,providerData:S,stsTokenManager:H}=e;X(y&&H,t,"internal-error");const W=Kf.fromJSON(this.name,H);X("string"==typeof y,t,"internal-error"),va(d,t.name),va(h,t.name),X("boolean"==typeof x,t,"internal-error"),X("boolean"==typeof D,t,"internal-error"),va(f,t.name),va(p,t.name),va(m,t.name),va(g,t.name),va(v,t.name),va(_,t.name);const be=new Dl({uid:y,auth:t,email:h,emailVerified:x,displayName:d,isAnonymous:D,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:W,createdAt:v,lastLoginAt:_});return S&&Array.isArray(S)&&(be.providerData=S.map(ge=>Object.assign({},ge))),g&&(be._redirectEventId=g),be}static _fromIdTokenResponse(t,e,i=!1){return I(function*(){const r=new Kf;r.updateFromServerResponse(e);const s=new Dl({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield Yf(s),s})()}}const F$=new Map;function Eo(n){_a(n instanceof Function,"Expected a class definition");let t=F$.get(n);return t?(_a(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,F$.set(n,t),t)}const V$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(function*(){return!0})()}_set(e,i){var r=this;return I(function*(){r.storage[e]=i})()}_get(e){var i=this;return I(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return I(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function Wv(n,t,e){return`firebase:${n}:${t}:${e}`}class Hu{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Wv(this.userKey,r.apiKey,s),this.fullPersistenceKey=Wv("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return I(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?Dl._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return I(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return I(function*(){if(!e.length)return new Hu(Eo(V$),t,i);const r=(yield Promise.all(e.map(function(){var c=I(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||Eo(V$);const o=Wv(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const u=yield c._get(o);if(u){const d=Dl._fromJSON(t,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var c=I(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Hu(s,t,i)):new Hu(s,t,i)})()}}function B$(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function G$(n=Dr()){return/iemobile/i.test(n)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function H$(n=Dr()){return/firefox\//i.test(n)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function z$(n=Dr()){return/blackberry/i.test(n)}(t))return"Blackberry";if(function j$(n=Dr()){return/webos/i.test(n)}(t))return"Webos";if(function pD(n=Dr()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function $$(n=Dr()){return/crios\//i.test(n)}(t))&&!t.includes("edge/"))return"Chrome";if(function U$(n=Dr()){return/android/i.test(n)}(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function W$(n,t=[]){let e;switch(n){case"Browser":e=B$(Dr());break;case"Worker":e=`${B$(Dr())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Bv}/${i}`}class Ide{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,a)=>{try{o(t(s))}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return I(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function gD(){return(gD=I(function*(n,t={}){return Xt(n,"GET","/v2/passwordPolicy",Kt(n,t))})).apply(this,arguments)}class Rde{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=o.minPasswordLength)&&void 0!==e?e:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=t.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=null===(e=l.meetsMinPasswordLength)||void 0===e||e),l.isValid&&(l.isValid=null===(i=l.meetsMaxPasswordLength)||void 0===i||i),l.isValid&&(l.isValid=null===(r=l.containsLowercaseLetter)||void 0===r||r),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}class Nde{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q$(this),this.idTokenSubscription=new q$(this),this.beforeStateQueue=new Ide(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=Eo(e)),this._initializationPromise=this.queue(I(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield Hu.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return I(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return I(function*(){var i;const r=yield e.assertedPersistence.getCurrentUser();let s=r,o=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const a=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,l=s?._redirectEventId,c=yield e.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return e.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield e.beforeStateQueue.runMiddleware(s)}catch(a){s=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(a))}return s?e.reloadAndSetCurrentUserOrClear(s):e.directlySetCurrentUser(null)}return X(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===s._redirectEventId?e.directlySetCurrentUser(s):e.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(t){var e=this;return I(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return I(function*(){try{yield Yf(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function cde(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return I(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return I(function*(){const i=t?Co(t):null;return i&&X(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return I(function*(){if(!i._deleted)return t&&X(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue(I(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return I(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue(I(function*(){yield e.assertedPersistence.setPersistence(Eo(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return I(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return I(function*(){const e=yield function kde(n){return gD.apply(this,arguments)}(t),i=new Rde(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Bf("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){var e=this;return I(function*(){if(e.currentUser){const i=yield e.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};null!=e.tenantId&&(r.tenantId=e.tenantId),yield function Sde(n,t){return fD.apply(this,arguments)}(e,r)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return I(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return I(function*(){if(!e.redirectPersistenceManager){const i=t&&Eo(t)||e._popupRedirectResolver;X(i,e,"argument-error"),e.redirectPersistenceManager=yield Hu.create(e,[Eo(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return I(function*(){var i,r;return e._isInitialized&&(yield e.queue(I(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return I(function*(){if(t===e.currentUser)return e.queue(I(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s="function"==typeof e?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof e){const l=t.addObserver(e,i,r);return()=>{o=!0,l()}}{const l=t.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(t){var e=this;return I(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=W$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return I(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield t._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var t=this;return I(function*(){var e;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function ade(n,...t){Uv.logLevel<=at.WARN&&Uv.warn(`Auth (${Bv}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class q${constructor(t){this.auth=t,this.observer=null,this.addObserver=function Ece(n,t){const e=new Ace(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Y$(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new jf(3e4,6e4),new jf(2e3,1e4),new jf(3e4,6e4),new jf(5e3,15e3),encodeURIComponent("fac");var S3="@firebase/auth";class Ofe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return I(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Ov(),function Ffe(n){Ou(new bl("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W$(n)},c=new Nde(i,r,s,l);return function Hde(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Eo);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ou(new bl("auth-internal",t=>{const e=function Cn(n){return Co(n)}(t.getProvider("auth").getImmediate());return new Ofe(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(S3,"1.5.1",function Lfe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Yr(S3,"1.5.1","esm2017")}("Browser");class k3{constructor(){return Y1("auth")}}var ie,zfe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ds={},aE=aE||{},Fe=zfe||self;function sy(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function tp(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var lE="closure_uid_"+(1e9*Math.random()>>>0),Wfe=0;function qfe(n,t,e){return n.call.apply(n.bind,arguments)}function Yfe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Si(n,t,e){return(Si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qfe:Yfe).apply(null,arguments)}function oy(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Qn(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function ya(){this.s=this.s,this.o=this.o}ya.prototype.s=!1,ya.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function jfe(n){Object.prototype.hasOwnProperty.call(n,lE)&&n[lE]||(n[lE]=++Wfe)}(this)},ya.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const M3=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function cE(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function R3(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(sy(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Ei(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Ei.prototype.h=function(){this.defaultPrevented=!0};var Xfe=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const e=()=>{};Fe.addEventListener("test",e,t),Fe.removeEventListener("test",e,t)}catch{}return n}();function np(n){return/^[\s\xa0]*$/.test(n)}function ay(){var n=Fe.navigator;return n&&(n=n.userAgent)?n:""}function Hs(n){return-1!=ay().indexOf(n)}function uE(n){return uE[" "](n),n}uE[" "]=function(){};var hE,Zfe=Hs("Opera"),$u=Hs("Trident")||Hs("MSIE"),N3=Hs("Edge"),dE=N3||$u,P3=Hs("Gecko")&&!(-1!=ay().toLowerCase().indexOf("webkit")&&!Hs("Edge"))&&!(Hs("Trident")||Hs("MSIE"))&&!Hs("Edge"),Jfe=-1!=ay().toLowerCase().indexOf("webkit")&&!Hs("Edge");function O3(){var n=Fe.document;return n?n.documentMode:void 0}e:{var fE="",pE=function(){var n=ay();return P3?/rv:([^\);]+)(\)|;)/.exec(n):N3?/Edge\/([\d\.]+)/.exec(n):$u?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Jfe?/WebKit\/(\S+)/.exec(n):Zfe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(pE&&(fE=pE?pE[1]:""),$u){var gE=O3();if(null!=gE&&gE>parseFloat(fE)){hE=String(gE);break e}}hE=fE}var epe=Fe.document&&$u&&(O3()||parseInt(hE,10))||void 0;function ip(n,t){if(Ei.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(P3){e:{try{uE(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tpe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ip.$.h.call(this)}}Qn(ip,Ei);var tpe={2:"touch",3:"pen",4:"mouse"};ip.prototype.h=function(){ip.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var rp="closure_listenable_"+(1e6*Math.random()|0),npe=0;function ipe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++npe,this.fa=this.ia=!1}function ly(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function _E(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function F3(n){const t={};for(const e in n)t[e]=n[e];return t}const V3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B3(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<V3.length;s++)e=V3[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function cy(n){this.src=n,this.g={},this.h=0}function vE(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=M3(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(ly(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function yE(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}cy.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=yE(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new ipe(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var bE="closure_lm_"+(1e6*Math.random()|0),xE={};function H3(n,t,e,i,r){if(i&&i.once)return G3(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)H3(n,t[s],e,i,r);return null}return e=DE(e),n&&n[rp]?n.O(t,e,tp(i)?!!i.capture:!!i,r):$3(n,t,e,!1,i,r)}function $3(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=tp(r)?!!r.capture:!!r,a=CE(n);if(a||(n[bE]=a=new cy(n)),(e=a.add(t,e,i,o,s)).proxy)return e;if(i=function spe(){const t=ope;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Xfe||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(z3(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function G3(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G3(n,t[s],e,i,r);return null}return e=DE(e),n&&n[rp]?n.P(t,e,tp(i)?!!i.capture:!!i,r):$3(n,t,e,!0,i,r)}function U3(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)U3(n,t[s],e,i,r);else i=tp(i)?!!i.capture:!!i,e=DE(e),n&&n[rp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=yE(s=n.g[t],e,i,r))&&(ly(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=CE(n))&&(t=n.g[t.toString()],n=-1,t&&(n=yE(t,e,i,r)),(e=-1<n?t[n]:null)&&TE(e))}function TE(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[rp])vE(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(z3(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=CE(t))?(vE(e,n),0==e.h&&(e.src=null,t[bE]=null)):ly(n)}}}function z3(n){return n in xE?xE[n]:xE[n]="on"+n}function ope(n,t){if(n.fa)n=!0;else{t=new ip(t,this);var e=n.listener,i=n.la||n.src;n.ia&&TE(n),n=e.call(i,t)}return n}function CE(n){return(n=n[bE])instanceof cy?n:null}var wE="__closure_events_fn_"+(1e9*Math.random()>>>0);function DE(n){return"function"==typeof n?n:(n[wE]||(n[wE]=function(t){return n.handleEvent(t)}),n[wE])}function Zn(){ya.call(this),this.i=new cy(this),this.S=this,this.J=null}function gi(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Ei(t,n);else if(t instanceof Ei)t.target=t.target||n;else{var r=t;B3(t=new Ei(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=uy(o,i,!0,t)&&r}if(r=uy(o=t.g=n,i,!0,t)&&r,r=uy(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=uy(o=t.g=e[s],i,!1,t)&&r}function uy(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var a=o.listener,l=o.la||o.src;o.ia&&vE(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Qn(Zn,ya),Zn.prototype[rp]=!0,Zn.prototype.removeEventListener=function(n,t,e,i){U3(this,n,t,e,i)},Zn.prototype.N=function(){if(Zn.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)ly(e[i]);delete n.g[t],n.h--}}this.J=null},Zn.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Zn.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var SE=Fe.JSON.stringify;function lpe(){var n=EE;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var j3=new class ape{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new upe,n=>n.reset());class upe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function dpe(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function hpe(n){Fe.setTimeout(()=>{throw n},0)}let sp,op=!1,EE=new class cpe{constructor(){this.h=this.g=null}add(t,e){const i=j3.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},W3=()=>{const n=Fe.Promise.resolve(void 0);sp=()=>{n.then(fpe)}};var fpe=()=>{for(var n;n=lpe();){try{n.h.call(n.g)}catch(e){hpe(e)}var t=j3;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}op=!1};function dy(n,t){Zn.call(this),this.h=n||1,this.g=t||Fe,this.j=Si(this.qb,this),this.l=Date.now()}function AE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function IE(n,t,e){if("function"==typeof n)e&&(n=Si(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Si(n.handleEvent,n)}return 2147483647<Number(t)?-1:Fe.setTimeout(n,t||0)}function q3(n){n.g=IE(()=>{n.g=null,n.i&&(n.i=!1,q3(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Qn(dy,Zn),(ie=dy.prototype).ga=!1,ie.T=null,ie.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gi(this,"tick"),this.ga&&(AE(this),this.start()))}},ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ie.N=function(){dy.$.N.call(this),AE(this),delete this.g};class ppe extends ya{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:q3(this)}N(){super.N(),this.g&&(Fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ap(n){ya.call(this),this.h=n,this.g={}}Qn(ap,ya);var Y3=[];function K3(n,t,e,i){Array.isArray(e)||(e&&(Y3[0]=e.toString()),e=Y3);for(var r=0;r<e.length;r++){var s=H3(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function X3(n){_E(n.g,function(t,e){this.g.hasOwnProperty(e)&&TE(t)},n),n.g={}}function hy(){this.g=!0}function Gu(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function vpe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return SE(e)}catch{return t}}(n,e)+(i?" "+i:"")})}ap.prototype.N=function(){ap.$.N.call(this),X3(this)},ap.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hy.prototype.Ea=function(){this.g=!1},hy.prototype.info=function(){};var Il={},Q3=null;function fy(){return Q3=Q3||new Zn}function Z3(n){Ei.call(this,Il.Ta,n)}function lp(n){const t=fy();gi(t,new Z3(t))}function J3(n,t){Ei.call(this,Il.STAT_EVENT,n),this.stat=t}function ji(n){const t=fy();gi(t,new J3(t,n))}function eG(n,t){Ei.call(this,Il.Ua,n),this.size=t}function cp(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Fe.setTimeout(function(){n()},t)}Il.Ta="serverreachability",Qn(Z3,Ei),Il.STAT_EVENT="statevent",Qn(J3,Ei),Il.Ua="timingevent",Qn(eG,Ei);var py={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tG={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kE(){}function iG(){}kE.prototype.h=null;var NE,up={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ME(){Ei.call(this,"d")}function RE(){Ei.call(this,"c")}function gy(){}function dp(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new ap(this),this.P=ype,this.V=new dy(n=dE?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rG}function rG(){this.i=null,this.g="",this.h=!1}Qn(ME,Ei),Qn(RE,Ei),Qn(gy,kE),gy.prototype.g=function(){return new XMLHttpRequest},gy.prototype.i=function(){return{}},NE=new gy;var ype=45e3,sG={},PE={};function OE(n,t,e){n.L=1,n.A=yy(Io(t)),n.u=e,n.S=!0,oG(n,null)}function oG(n,t){n.G=Date.now(),hp(n),n.B=Io(n.A);var e=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),mG(e.i,"t",i),n.o=0,e=n.l.J,n.h=new rG,n.g=HG(n.l,e?t:null,!n.u),0<n.O&&(n.M=new ppe(Si(n.Pa,n,n.g),n.O)),K3(n.U,n.g,"readystatechange",n.nb),t=n.I?F3(n.I):{},n.u?(n.v||(n.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,t)):(n.v="GET",n.g.ha(n.B,n.v,null,t)),lp(),function gpe(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function aG(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function lG(n,t,e){let r,i=!0;for(;!n.J&&n.o<e.length;){if(r=bpe(n,e),r==PE){4==t&&(n.s=4,ji(14),i=!1),Gu(n.j,n.m,null,"[Incomplete Response]");break}if(r==sG){n.s=4,ji(15),Gu(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Gu(n.j,n.m,r,null),LE(n,r)}aG(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=t||0!=e.length||n.h.h||(n.s=1,ji(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),UE(t),t.M=!0,ji(11))):(Gu(n.j,n.m,e,"[Invalid Chunked Response]"),kl(n),fp(n))}function bpe(n,t){var e=n.o,i=t.indexOf("\n",e);return-1==i?PE:(e=Number(t.substring(e,i)),isNaN(e)?sG:(i+=1)+e>t.length?PE:(t=t.slice(i,i+e),n.o=i+e,t))}function hp(n){n.Y=Date.now()+n.P,cG(n,n.P)}function cG(n,t){if(null!=n.C)throw Error("WatchDog timer not null");n.C=cp(Si(n.lb,n),t)}function my(n){n.C&&(Fe.clearTimeout(n.C),n.C=null)}function fp(n){0==n.l.H||n.J||LG(n.l,n)}function kl(n){my(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,AE(n.V),X3(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function LE(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||FE(e.i,n)))if(!n.K&&FE(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;Dy(e),Cy(e)}GE(e),ji(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=cp(Si(e.ib,e),6e3));if(1>=yG(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Rl(e,11)}else if((n.K||e.g==n)&&Dy(e),!np(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const u=c[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const d=c[4];null!=d&&(e.Ga=d,e.l.info("SVER="+e.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(e.L=i=1.5*h,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(VE(s,s.h),s.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,Qt(i.I,i.F,m))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=BG(i,i.J?i.pa:null,i.Y),o.K){bG(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(my(a),hp(a)),i.g=o}else PG(i);0<e.j.length&&wy(e)}else"stop"!=c[0]&&"close"!=c[0]||Rl(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Rl(e,7):$E(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}lp()}catch{}}function uG(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(sy(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function Tpe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(sy(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function xpe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(sy(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(ie=dp.prototype).setTimeout=function(n){this.P=n},ie.nb=function(n){n=n.target;const t=this.M;t&&3==$s(n)?t.l():this.Pa(n)},ie.Pa=function(n){try{if(n==this.g)e:{const u=$s(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||dE||this.g&&(this.h.h||this.g.ja()||AG(this.g)))){this.J||4!=u||7==t||lp(),my(this);var e=this.g.da();this.ca=e;t:if(aG(this)){var i=AG(this.g);n="";var r=i.length,s=4==$s(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){kl(this),fp(this);var o="";break t}this.h.i=new Fe.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function mpe(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!np(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.s=3,ji(12),kl(this),fp(this);break e}Gu(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,LE(this,e)}this.S?(lG(this,u,o),dE&&this.i&&3==u&&(K3(this.U,this.V,"tick",this.mb),this.V.start())):(Gu(this.j,this.m,o,null),LE(this,o)),4==u&&kl(this),this.i&&!this.J&&(4==u?LG(this.l,this):(this.i=!1,hp(this)))}else(function Hpe(n){const t={};n=(n.g&&2<=$s(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(np(n[i]))continue;var e=dpe(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function rpe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.s=3,ji(12)):(this.s=0,ji(13)),kl(this),fp(this)}}}catch{}},ie.mb=function(){if(this.g){var n=$s(this.g),t=this.g.ja();this.o<t.length&&(my(this),lG(this,n,t),this.i&&4!=n&&hp(this))}},ie.cancel=function(){this.J=!0,kl(this)},ie.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function _pe(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(lp(),ji(17)),kl(this),this.s=2,fp(this)):cG(this,this.Y-n)};var dG=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ml(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ml){this.h=n.h,_y(this,n.j),this.s=n.s,this.g=n.g,vy(this,n.m),this.l=n.l;var t=n.i,e=new mp;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),hG(this,e),this.o=n.o}else n&&(t=String(n).match(dG))?(this.h=!1,_y(this,t[1]||"",!0),this.s=pp(t[2]||""),this.g=pp(t[3]||"",!0),vy(this,t[4]),this.l=pp(t[5]||"",!0),hG(this,t[6]||"",!0),this.o=pp(t[7]||"")):(this.h=!1,this.i=new mp(null,this.h))}function Io(n){return new Ml(n)}function _y(n,t,e){n.j=e?pp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function vy(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function hG(n,t,e){t instanceof mp?(n.i=t,function Ipe(n,t){t&&!n.j&&(ba(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(pG(this,i),mG(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=gp(t,Epe)),n.i=new mp(t,n.h))}function Qt(n,t,e){n.i.set(t,e)}function yy(n){return Qt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function pp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,wpe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function wpe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ml.prototype.toString=function(){var n=[],t=this.j;t&&n.push(gp(t,fG,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(gp(t,fG,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(gp(e,"/"==e.charAt(0)?Spe:Dpe,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",gp(e,Ape)),n.join("")};var fG=/[#\/\?@]/g,Dpe=/[#\?:]/g,Spe=/[#\?]/g,Epe=/[#\?@]/g,Ape=/#/g;function mp(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function ba(n){n.g||(n.g=new Map,n.h=0,n.i&&function Cpe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function pG(n,t){ba(n),t=Uu(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function gG(n,t){return ba(n),t=Uu(n,t),n.g.has(t)}function mG(n,t,e){pG(n,t),0<e.length&&(n.i=null,n.g.set(Uu(n,t),cE(e)),n.h+=e.length)}function Uu(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function _G(n){this.l=n||Mpe,n=Fe.PerformanceNavigationTiming?0<(n=Fe.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Fe.g&&Fe.g.Ka&&Fe.g.Ka()&&Fe.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ie=mp.prototype).add=function(n,t){ba(this),this.i=null,n=Uu(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ie.forEach=function(n,t){ba(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},ie.ta=function(){ba(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},ie.Z=function(n){ba(this);let t=[];if("string"==typeof n)gG(this,n)&&(t=t.concat(this.g.get(Uu(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},ie.set=function(n,t){return ba(this),this.i=null,gG(this,n=Uu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ie.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var Mpe=10;function vG(n){return!!n.h||!!n.g&&n.g.size>=n.j}function yG(n){return n.h?1:n.g?n.g.size:0}function FE(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function VE(n,t){n.g?n.g.add(t):n.h=t}function bG(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function xG(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return cE(n.i)}_G.prototype.cancel=function(){if(this.i=xG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Rpe=class{stringify(n){return Fe.JSON.stringify(n,void 0)}parse(n){return Fe.JSON.parse(n,void 0)}};function Npe(){this.g=new Rpe}function Ppe(n,t,e){const i=e||"";try{uG(n,function(r,s){let o=r;tp(r)&&(o=SE(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function by(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function _p(n){this.l=n.ec||null,this.j=n.ob||!1}function xy(n,t){Zn.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=BE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qn(_p,kE),_p.prototype.g=function(){return new xy(this.l,this.j)},_p.prototype.i=function(n){return function(){return n}}({}),Qn(xy,Zn);var BE=0;function TG(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function vp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yp(n)}function yp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ie=xy.prototype).open=function(n,t){if(this.readyState!=BE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,yp(this)},ie.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Fe).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vp(this)),this.readyState=BE},ie.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yp(this)),this.g&&(this.readyState=3,yp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Fe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TG(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ie.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?vp(this):yp(this),3==this.readyState&&TG(this)}},ie.Za=function(n){this.g&&(this.response=this.responseText=n,vp(this))},ie.Ya=function(n){this.g&&(this.response=n,vp(this))},ie.ka=function(){this.g&&vp(this)},ie.setRequestHeader=function(n,t){this.v.append(n,t)},ie.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ie.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(xy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Lpe=Fe.JSON.parse;function vn(n){Zn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CG,this.L=this.M=!1}Qn(vn,Zn);var CG="",Fpe=/^https?$/i,Vpe=["POST","PUT"];function wG(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,DG(n),Ty(n)}function DG(n){n.F||(n.F=!0,gi(n,"complete"),gi(n,"error"))}function SG(n){if(n.h&&typeof aE<"u"&&(!n.C[1]||4!=$s(n)||2!=n.da()))if(n.v&&4==$s(n))IE(n.La,0,n);else if(gi(n,"readystatechange"),4==$s(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match(dG)[1]||null;!r&&Fe.self&&Fe.self.location&&(r=Fe.self.location.protocol.slice(0,-1)),i=!Fpe.test(r?r.toLowerCase():"")}e=i}if(e)gi(n,"complete"),gi(n,"success");else{n.m=6;try{var s=2<$s(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",DG(n)}}finally{Ty(n)}}}function Ty(n,t){if(n.g){EG(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||gi(n,"ready");try{e.onreadystatechange=i}catch{}}}function EG(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Fe.clearTimeout(n.A),n.A=null)}function $s(n){return n.g?n.g.readyState:0}function AG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case CG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function IG(n){let t="";return _E(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function HE(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=IG(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Qt(n,t,e))}function bp(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function kG(n){this.Ga=0,this.j=[],this.l=new hy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bp("baseRetryDelayMs",5e3,n),this.hb=bp("retryDelaySeedMs",1e4,n),this.eb=bp("forwardChannelMaxRetries",2,n),this.xa=bp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new _G(n&&n.concurrentRequestLimit),this.Ja=new Npe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $E(n){if(MG(n),3==n.H){var t=n.W++,e=Io(n.I);if(Qt(e,"SID",n.K),Qt(e,"RID",t),Qt(e,"TYPE","terminate"),xp(n,e),(t=new dp(n,n.l,t)).L=2,t.A=yy(Io(e)),e=!1,Fe.navigator&&Fe.navigator.sendBeacon)try{e=Fe.navigator.sendBeacon(t.A.toString(),"")}catch{}!e&&Fe.Image&&((new Image).src=t.A,e=!0),e||(t.g=HG(t.l,null),t.g.ha(t.A)),t.G=Date.now(),hp(t)}VG(n)}function Cy(n){n.g&&(UE(n),n.g.cancel(),n.g=null)}function MG(n){Cy(n),n.u&&(Fe.clearTimeout(n.u),n.u=null),Dy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Fe.clearTimeout(n.m),n.m=null)}function wy(n){if(!vG(n.i)&&!n.m){n.m=!0;var t=n.Na;sp||W3(),op||(sp(),op=!0),EE.add(t,n),n.C=0}}function RG(n,t){var e;e=t?t.m:n.W++;const i=Io(n.I);Qt(i,"SID",n.K),Qt(i,"RID",e),Qt(i,"AID",n.V),xp(n,i),n.o&&n.s&&HE(i,n.o,n.s),e=new dp(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=NG(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),VE(n.i,e),OE(e,i,t)}function xp(n,t){n.na&&_E(n.na,function(e,i){Qt(t,i,e)}),n.h&&uG({},function(e,i){Qt(t,i,e)})}function NG(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Si(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{Ppe(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function PG(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;sp||W3(),op||(sp(),op=!0),EE.add(t,n),n.A=0}}function GE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=cp(Si(n.Ma,n),FG(n,n.A)),n.A++,0))}function UE(n){null!=n.B&&(Fe.clearTimeout(n.B),n.B=null)}function OG(n){n.g=new dp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Io(n.wa);Qt(t,"RID","rpc"),Qt(t,"SID",n.K),Qt(t,"AID",n.V),Qt(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Qt(t,"TO",n.qa),Qt(t,"TYPE","xmlhttp"),xp(n,t),n.o&&n.s&&HE(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.A=yy(Io(t)),e.u=null,e.S=!0,oG(e,n)}function Dy(n){null!=n.v&&(Fe.clearTimeout(n.v),n.v=null)}function LG(n,t){var e=null;if(n.g==t){Dy(n),UE(n),n.g=null;var i=2}else{if(!FE(n.i,t))return;e=t.F,bG(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.u?t.u.length:0,t=Date.now()-t.G;var r=n.C;gi(i=fy(),new eG(i,e)),wy(n)}else PG(n);else if(3==(r=t.s)||0==r&&0<t.ca||!(1==i&&function $pe(n,t){return!(yG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=cp(Si(n.Na,n,t),FG(n,n.C)),n.C++,0)))}(n,t)||2==i&&GE(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Rl(n,5);break;case 4:Rl(n,10);break;case 3:Rl(n,6);break;default:Rl(n,2)}}function FG(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Rl(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Si(n.pb,n);e||(e=new Ml("//www.google.com/images/cleardot.gif"),Fe.location&&"http"==Fe.location.protocol||_y(e,"https"),yy(e)),function Ope(n,t){const e=new hy;if(Fe.Image){const i=new Image;i.onload=oy(by,e,i,"TestLoadImage: loaded",!0,t),i.onerror=oy(by,e,i,"TestLoadImage: error",!1,t),i.onabort=oy(by,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=oy(by,e,i,"TestLoadImage: timeout",!1,t),Fe.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ji(2);n.H=0,n.h&&n.h.za(t),VG(n),MG(n)}function VG(n){if(n.H=0,n.ma=[],n.h){const t=xG(n.i);(0!=t.length||0!=n.j.length)&&(R3(n.ma,t),R3(n.ma,n.j),n.i.i.length=0,cE(n.j),n.j.length=0),n.h.ya()}}function BG(n,t,e){var i=e instanceof Ml?Io(e):new Ml(e);if(""!=i.g)t&&(i.g=t+"."+i.g),vy(i,i.m);else{var r=Fe.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Ml(null);i&&_y(s,i),t&&(s.g=t),r&&vy(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&Qt(i,e,t),Qt(i,"VER",n.ra),xp(n,i),i}function HG(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new vn(n.Ha&&!n.va?new _p({ob:e}):n.va)).Oa(n.J),t}function $G(){}function Sy(){if($u&&!(10<=Number(epe)))throw Error("Environmental error: no available transport.")}function Sr(n,t){Zn.call(this),this.g=new kG(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!np(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!np(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new zu(this)}function GG(n){ME.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function UG(){RE.call(this),this.status=1}function zu(n){this.g=n}function hs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zE(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Mt(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(ie=vn.prototype).Oa=function(n){this.M=n},ie.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():NE.g(),this.C=function nG(n){return n.h||(n.h=n.i())}(this.u?this.u:NE),this.g.onreadystatechange=Si(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void wG(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Fe.FormData&&n instanceof Fe.FormData,!(0<=M3(Vpe,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{EG(this),0<this.B&&((this.L=function Bpe(n){return $u&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Si(this.ua,this)):this.A=IE(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){wG(this,s)}},ie.ua=function(){typeof aE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gi(this,"timeout"),this.abort(8))},ie.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,gi(this,"complete"),gi(this,"abort"),Ty(this))},ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ty(this,!0)),vn.$.N.call(this)},ie.La=function(){this.s||(this.G||this.v||this.l?SG(this):this.kb())},ie.kb=function(){SG(this)},ie.isActive=function(){return!!this.g},ie.da=function(){try{return 2<$s(this)?this.g.status:-1}catch{return-1}},ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ie.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Lpe(t)}},ie.Ia=function(){return this.m},ie.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ie=kG.prototype).ra=8,ie.H=1,ie.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new dp(this,this.l,n);let s=this.s;if(this.U&&(s?(s=F3(s),B3(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=NG(this,r,t),Qt(e=Io(this.I),"RID",n),Qt(e,"CVER",22),this.F&&Qt(e,"X-HTTP-Session-Id",this.F),xp(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(IG(s)))+"&"+t:this.o&&HE(e,this.o,s)),VE(this.i,r),this.bb&&Qt(e,"TYPE","init"),this.P?(Qt(e,"$req",t),Qt(e,"SID","null"),r.aa=!0,OE(r,e,null)):OE(r,e,t),this.H=2}}else 3==this.H&&(n?RG(this,n):0==this.j.length||vG(this.i)||RG(this))},ie.Ma=function(){if(this.u=null,OG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=cp(Si(this.jb,this),n)}},ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ji(10),Cy(this),OG(this))},ie.ib=function(){null!=this.v&&(this.v=null,Cy(this),GE(this),ji(19))},ie.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ji(2)):(this.l.info("Failed to ping google.com"),ji(1))},ie.isActive=function(){return!!this.h&&this.h.isActive(this)},(ie=$G.prototype).Ba=function(){},ie.Aa=function(){},ie.za=function(){},ie.ya=function(){},ie.isActive=function(){return!0},ie.Va=function(){},Sy.prototype.g=function(n,t){return new Sr(n,t)},Qn(Sr,Zn),Sr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;ji(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=BG(n,null,n.Y),wy(n)},Sr.prototype.close=function(){$E(this.g)},Sr.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=SE(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&wy(t)},Sr.prototype.N=function(){this.g.h=null,delete this.j,$E(this.g),delete this.g,Sr.$.N.call(this)},Qn(GG,ME),Qn(UG,RE),Qn(zu,$G),zu.prototype.Ba=function(){gi(this.g,"a")},zu.prototype.Aa=function(n){gi(this.g,new GG(n))},zu.prototype.za=function(n){gi(this.g,new UG)},zu.prototype.ya=function(){gi(this.g,"b")},Qn(hs,function Gpe(){this.blockSize=-1}),hs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hs.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)zE(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){zE(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){zE(this,i),r=0;break}}this.h=r,this.i+=t},hs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var Upe={};function jE(n){return-128<=n&&128>n?function Qfe(n,t){var e=Upe;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Mt([0|t],0>t?-1:0)}):new Mt([0|n],0>n?-1:0)}function Gs(n){if(isNaN(n)||!isFinite(n))return ju;if(0>n)return mi(Gs(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=WE;return new Mt(t,0)}var WE=4294967296,ju=jE(0),qE=jE(1),jG=jE(16777216);function ko(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Xr(n){return-1==n.h}function mi(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Mt(e,~n.h).add(qE)}function Ey(n,t){return n.add(mi(t))}function Ay(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Tp(n,t){this.g=n,this.h=t}function Iy(n,t){if(ko(t))throw Error("division by zero");if(ko(n))return new Tp(ju,ju);if(Xr(n))return t=Iy(mi(n),t),new Tp(mi(t.g),mi(t.h));if(Xr(t))return t=Iy(n,mi(t)),new Tp(mi(t.g),t.h);if(30<n.g.length){if(Xr(n)||Xr(t))throw Error("slowDivide_ only works with positive integers.");for(var e=qE,i=t;0>=i.X(n);)e=WG(e),i=WG(i);var r=Wu(e,1),s=Wu(i,1);for(i=Wu(i,2),e=Wu(e,2);!ko(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=Wu(i,1),e=Wu(e,1)}return t=Ey(n,r.R(t)),new Tp(r,t)}for(r=ju;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=Gs(e)).R(t);Xr(o)||0<o.X(n);)o=(s=Gs(e-=i)).R(t);ko(s)&&(s=qE),r=r.add(s),n=Ey(n,o)}return new Tp(r,n)}function WG(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Mt(e,n.h)}function Wu(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Mt(r,n.h)}(ie=Mt.prototype).ea=function(){if(Xr(this))return-mi(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:WE+i)*t,t*=WE}return n},ie.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ko(this))return"0";if(Xr(this))return"-"+mi(this).toString(n);for(var t=Gs(Math.pow(n,6)),e=this,i="";;){var r=Iy(e,t).g,s=((0<(e=Ey(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(ko(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},ie.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ie.X=function(n){return Xr(n=Ey(this,n))?-1:ko(n)?0:1},ie.abs=function(){return Xr(this)?mi(this):this},ie.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new Mt(e,-2147483648&e[e.length-1]?-1:0)},ie.R=function(n){if(ko(this)||ko(n))return ju;if(Xr(this))return Xr(n)?mi(this).R(mi(n)):mi(mi(this).R(n));if(Xr(n))return mi(this.R(mi(n)));if(0>this.X(jG)&&0>n.X(jG))return Gs(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=o*l,Ay(e,2*i+2*r),e[2*i+2*r+1]+=s*l,Ay(e,2*i+2*r+1),e[2*i+2*r+1]+=o*a,Ay(e,2*i+2*r+1),e[2*i+2*r+2]+=s*a,Ay(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Mt(e,0)},ie.gb=function(n){return Iy(this,n).h},ie.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Mt(e,this.h&n.h)},ie.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Mt(e,this.h|n.h)},ie.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Mt(e,this.h^n.h)},Sy.prototype.createWebChannel=Sy.prototype.g,Sr.prototype.send=Sr.prototype.u,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,py.NO_ERROR=0,py.TIMEOUT=8,py.HTTP_ERROR=6,tG.COMPLETE="complete",iG.EventType=up,up.OPEN="a",up.CLOSE="b",up.ERROR="c",up.MESSAGE="d",Zn.prototype.listen=Zn.prototype.O,vn.prototype.listenOnce=vn.prototype.P,vn.prototype.getLastError=vn.prototype.Sa,vn.prototype.getLastErrorCode=vn.prototype.Ia,vn.prototype.getStatus=vn.prototype.da,vn.prototype.getResponseJson=vn.prototype.Wa,vn.prototype.getResponseText=vn.prototype.ja,vn.prototype.send=vn.prototype.ha,vn.prototype.setWithCredentials=vn.prototype.Oa,hs.prototype.digest=hs.prototype.l,hs.prototype.reset=hs.prototype.reset,hs.prototype.update=hs.prototype.j,Mt.prototype.add=Mt.prototype.add,Mt.prototype.multiply=Mt.prototype.R,Mt.prototype.modulo=Mt.prototype.gb,Mt.prototype.compare=Mt.prototype.X,Mt.prototype.toNumber=Mt.prototype.ea,Mt.prototype.toString=Mt.prototype.toString,Mt.prototype.getBits=Mt.prototype.D,Mt.fromNumber=Gs,Mt.fromString=function zG(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return mi(zG(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Gs(Math.pow(t,8)),i=ju,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=Gs(Math.pow(t,s)),i=i.R(s).add(Gs(o))):i=(i=i.R(e)).add(Gs(o))}return i};var zpe=ds.createWebChannelTransport=function(){return new Sy},jpe=ds.getStatEventTarget=function(){return fy()},YE=ds.ErrorCode=py,Wpe=ds.EventType=tG,qpe=ds.Event=Il,qG=ds.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ky=(ds.FetchXmlHttpFactory=_p,ds.WebChannel=iG),Ype=ds.XhrIo=vn,Kpe=ds.Md5=hs,qu=ds.Integer=Mt;const YG="@firebase/firestore";class Jn{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");let Yu="10.7.0";const xa=new O1("@firebase/firestore");function Ku(){return xa.logLevel}function V(n,...t){if(xa.logLevel<=at.DEBUG){const e=t.map(KE);xa.debug(`Firestore (${Yu}): ${n}`,...e)}}function wn(n,...t){if(xa.logLevel<=at.ERROR){const e=t.map(KE);xa.error(`Firestore (${Yu}): ${n}`,...e)}}function Er(n,...t){if(xa.logLevel<=at.WARN){const e=t.map(KE);xa.warn(`Firestore (${Yu}): ${n}`,...e)}}function KE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function he(n="Unexpected state"){const t=`FIRESTORE (${Yu}) INTERNAL ASSERTION FAILED: `+n;throw wn(t),new Error(t)}function me(n,t){n||he()}function J(n,t){return n}const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends ga{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qn{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class KG{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Xpe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Jn.UNAUTHENTICATED))}shutdown(){}}class Qpe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Zpe{constructor(t){this.t=t,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let o=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qn,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable(I(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qn)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(me("string"==typeof i.accessToken),new KG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return me(null===t||"string"==typeof t),new Jn(t)}}class Jpe{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ege{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new Jpe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tge{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(me("string"==typeof e.token),this.R=e.token,new XG(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nge(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class QG{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=nge(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Re(n,t){return n<t?-1:n>t?1:0}function Xu(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class fn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return fn.fromMillis(Date.now())}static fromDate(t){return fn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new fn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Re(this.nanoseconds,t.nanoseconds):Re(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _e{constructor(t){this.timestamp=t}static fromTimestamp(t){return new _e(t)}static min(){return new _e(new fn(0,0))}static max(){return new _e(new fn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cp{constructor(t,e,i){void 0===e?e=0:e>t.length&&he(),void 0===i?i=t.length-e:i>t.length-e&&he(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Cp.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Cp?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ht extends Cp{construct(t,e,i){return new ht(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ht(e)}static emptyPath(){return new ht([])}}const ige=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Cp{construct(t,e,i){return new rn(t,e,i)}static isValidIdentifier(t){return ige.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rn(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(e)}static emptyPath(){return new rn([])}}class te{constructor(t){this.path=t}static fromPath(t){return new te(ht.fromString(t))}static fromName(t){return new te(ht.fromString(t).popFirst(5))}static empty(){return new te(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ht.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ht.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new te(new ht(t.slice()))}}function eU(n){return new Ar(n.readTime,n.key,-1)}class Ar{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ar(_e.min(),te.empty(),-1)}static max(){return new Ar(_e.max(),te.empty(),-1)}}function QE(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=te.comparator(n.documentKey,t.documentKey),0!==e?e:Re(n.largestBatchId,t.largestBatchId))}const tU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ta(n){return ZE.apply(this,arguments)}function ZE(){return ZE=I(function*(n){if(n.code!==k.FAILED_PRECONDITION||n.message!==tU)throw n;V("LocalStore","Unexpectedly lost primary lease")}),ZE.apply(this,arguments)}class C{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new C((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof C?e:C.resolve(e)}catch(e){return C.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):C.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):C.reject(e)}static resolve(t){return new C((e,i)=>{e(t)})}static reject(t){return new C((e,i)=>{i(t)})}static waitFor(t){return new C((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=C.resolve(!1);for(const i of t)e=e.next(r=>r?C.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new C((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(t,e){return new C((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}function Ca(n){return"IndexedDbTransactionError"===n.name}let Ir=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function Dp(n){return null==n}function Sp(n){return 0===n&&1/n==-1/0}function uU(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function wa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function dU(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class zt{constructor(t,e){this.comparator=t,this.root=e||_i.EMPTY}insert(t,e){return new zt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,_i.BLACK,null,null))}remove(t){return new zt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_i.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ny(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ny(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ny(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ny(this.root,t,this.comparator,!0)}}class Ny{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class _i{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??_i.RED,this.left=r??_i.EMPTY,this.right=s??_i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new _i(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return _i.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,_i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,_i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const t=this.left.check();if(t!==this.right.check())throw he();return t+(this.isRed()?0:1)}}_i.EMPTY=null,_i.RED=!0,_i.BLACK=!1,_i.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,e,i,r,s){return this}insert(t,e,i){return new _i(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(t){this.comparator=t,this.data=new zt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new hU(this.data.getIterator())}getIteratorFrom(t){return new hU(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Pt)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Pt(this.comparator);return e.data=t,e}}class hU{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class sr{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new sr([])}unionWith(t){let e=new Pt(rn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new sr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Xu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class fU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fU("Invalid base64 string: "+s):s}}(t);return new Yn(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Yn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Re(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const Ige=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(n){if(me(!!n),"string"==typeof n){let t=0;const e=Ige.exec(n);if(me(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yn(n.seconds),nanos:yn(n.nanos)}}function yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Mo(n){return"string"==typeof n?Yn.fromBase64String(n):Yn.fromUint8Array(n)}function Py(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Oy(n){const t=n.mapValue.fields.__previous_value__;return Py(t)?Oy(t):t}function Ep(n){const t=Da(n.mapValue.fields.__local_write_time__.timestampValue);return new fn(t.seconds,t.nanos)}class kge{constructor(t,e,i,r,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ll{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}const Sa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ea(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Py(n)?4:_U(n)?9007199254740991:10:he()}function zs(n,t){if(n===t)return!0;const e=Ea(n);if(e!==Ea(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ep(n).isEqual(Ep(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Da(r.timestampValue),a=Da(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Mo(n.bytesValue).isEqual(Mo(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return yn(r.geoPointValue.latitude)===yn(s.geoPointValue.latitude)&&yn(r.geoPointValue.longitude)===yn(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return yn(r.integerValue)===yn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=yn(r.doubleValue),a=yn(s.doubleValue);return o===a?Sp(o)===Sp(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Xu(n.arrayValue.values||[],t.arrayValue.values||[],zs);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(uU(o)!==uU(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!zs(o[l],a[l])))return!1;return!0}(n,t);default:return he()}var s}function Ap(n,t){return void 0!==(n.values||[]).find(e=>zs(e,t))}function Aa(n,t){if(n===t)return 0;const e=Ea(n),i=Ea(t);if(e!==i)return Re(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=yn(s.integerValue||s.doubleValue),l=yn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return pU(n.timestampValue,t.timestampValue);case 4:return pU(Ep(n),Ep(t));case 5:return Re(n.stringValue,t.stringValue);case 6:return function(s,o){const a=Mo(s),l=Mo(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Re(a[c],l[c]);if(0!==u)return u}return Re(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Re(yn(s.latitude),yn(o.latitude));return 0!==a?a:Re(yn(s.longitude),yn(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Aa(a[c],l[c]);if(u)return u}return Re(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Sa.mapValue&&o===Sa.mapValue)return 0;if(s===Sa.mapValue)return 1;if(o===Sa.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Re(l[d],u[d]);if(0!==h)return h;const f=Aa(a[l[d]],c[u[d]]);if(0!==f)return f}return Re(l.length,u.length)}(n.mapValue,t.mapValue);default:throw he()}}function pU(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Re(n,t);const e=Da(n),i=Da(t),r=Re(e.seconds,i.seconds);return 0!==r?r:Re(e.nanos,i.nanos)}function ed(n){return tA(n)}function tA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Da(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Mo(n.bytesValue).toBase64():"referenceValue"in n?te.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=tA(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${tA(e.fields[o])}`;return r+"}"}(n.mapValue):he()}function nA(n){return!!n&&"integerValue"in n}function Ip(n){return!!n&&"arrayValue"in n}function gU(n){return!!n&&"nullValue"in n}function mU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vy(n){return!!n&&"mapValue"in n}function kp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return wa(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=kp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=kp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function _U(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class vi{constructor(t){this.value=t}static empty(){return new vi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Vy(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=kp(e)}setAll(t){let e=rn.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=kp(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Vy(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return zs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Vy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){wa(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new vi(kp(this.value))}}function bU(n){const t=[];return wa(n.fields,(e,i)=>{const r=new rn([e]);if(Vy(i)){const s=bU(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new sr(t)}class Zt{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Zt(t,0,_e.min(),_e.min(),_e.min(),vi.empty(),0)}static newFoundDocument(t,e,i,r){return new Zt(t,1,e,_e.min(),i,r,0)}static newNoDocument(t,e){return new Zt(t,2,e,_e.min(),_e.min(),vi.empty(),0)}static newUnknownDocument(t,e){return new Zt(t,3,e,_e.min(),_e.min(),vi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(_e.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Zt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ia{constructor(t,e){this.position=t,this.inclusive=e}}function xU(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?te.comparator(te.fromName(o.referenceValue),e.key):Aa(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function TU(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!zs(n.position[e],t.position[e]))return!1;return!0}class Mp{constructor(t,e="asc"){this.field=t,this.dir=e}}function Nge(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class CU{}class it extends CU{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Pge(t,e,i):"array-contains"===e?new Fge(t,i):"in"===e?new IU(t,i):"not-in"===e?new Vge(t,i):"array-contains-any"===e?new Bge(t,i):new it(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Oge(t,i):new Lge(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Aa(e,this.value)):null!==e&&Ea(this.value)===Ea(e)&&this.matchesComparison(Aa(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rt extends CU{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Rt(t,e)}matches(t){return td(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function td(n){return"and"===n.op}function rA(n){return function wU(n){for(const t of n.filters)if(t instanceof Rt)return!1;return!0}(n)&&td(n)}function sA(n){if(n instanceof it)return n.field.canonicalString()+n.op.toString()+ed(n.value);if(rA(n))return n.filters.map(t=>sA(t)).join(",");{const t=n.filters.map(e=>sA(e)).join(",");return`${n.op}(${t})`}}function DU(n,t){return n instanceof it?(i=n,(r=t)instanceof it&&i.op===r.op&&i.field.isEqual(r.field)&&zs(i.value,r.value)):n instanceof Rt?function(i,r){return r instanceof Rt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,a)=>s&&DU(o,r.filters[a]),!0)}(n,t):void he();var i,r}function EU(n){return n instanceof it?`${(e=n).field.canonicalString()} ${e.op} ${ed(e.value)}`:n instanceof Rt?function(e){return e.op.toString()+" {"+e.getFilters().map(EU).join(" ,")+"}"}(n):"Filter";var e}class Pge extends it{constructor(t,e,i){super(t,e,i),this.key=te.fromName(i.referenceValue)}matches(t){const e=te.comparator(t.key,this.key);return this.matchesComparison(e)}}class Oge extends it{constructor(t,e){super(t,"in",e),this.keys=AU(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Lge extends it{constructor(t,e){super(t,"not-in",e),this.keys=AU(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function AU(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>te.fromName(i.referenceValue))}class Fge extends it{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ip(e)&&Ap(e.arrayValue,this.value)}}class IU extends it{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ap(this.value.arrayValue,e)}}class Vge extends it{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ap(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ap(this.value.arrayValue,e)}}class Bge extends it{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ip(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Ap(this.value.arrayValue,i))}}class Hge{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function oA(n,t=null,e=[],i=[],r=null,s=null,o=null){return new Hge(n,t,e,i,r,s,o)}function Vl(n){const t=J(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>sA(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),Dp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ed(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ed(i)).join(",")),t.ce=e}return t.ce}function Rp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Nge(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!DU(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!TU(n.startAt,t.startAt)&&TU(n.endAt,t.endAt)}function By(n){return te.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ro{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function nd(n){return new Ro(n)}function NU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function id(n){const t=J(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pt(rn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new Mp(s,i))}),e.has(rn.keyField().canonicalString())||t.le.push(new Mp(rn.keyField(),i))}return t.le}function Wi(n){const t=J(n);return t.he||(t.he=function PU(n,t){if("F"===n.limitType)return oA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new Mp(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Ia(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ia(n.startAt.position,n.startAt.inclusive):null;return oA(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,id(n))),t.he}function $y(n,t,e){return new Ro(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Np(n,t){return Rp(Wi(n),Wi(t))&&n.limitType===t.limitType}function OU(n){return`${Vl(Wi(n))}|lt:${n.limitType}`}function rd(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>EU(r)).join(", ")}]`),Dp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>ed(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>ed(r)).join(",")),`Target(${i})`}(Wi(n))}; limitType=${n.limitType})`}function Pp(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):te.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of id(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,a,l){const c=xU(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,id(i),r)||i.endAt&&!function(o,a,l){const c=xU(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,id(i),r)));var i,r}function FU(n){return(t,e)=>{let i=!1;for(const r of id(n)){const s=$ge(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function $ge(n,t,e){const i=n.field.isKeyField()?te.comparator(t.key,e.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?Aa(l,c):he()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return he()}}class No{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){wa(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return dU(this.inner)}size(){return this.innerSize}}const Gge=new zt(te.comparator);function or(){return Gge}const VU=new zt(te.comparator);function Op(...n){let t=VU;for(const e of n)t=t.insert(e.key,e);return t}function BU(n){let t=VU;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function js(){return Lp()}function HU(){return Lp()}function Lp(){return new No(n=>n.toString(),(n,t)=>n.isEqual(t))}const Uge=new zt(te.comparator),zge=new Pt(te.comparator);function qe(...n){let t=zge;for(const e of n)t=t.add(e);return t}const jge=new Pt(Re);function $U(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sp(t)?"-0":t}}function GU(n){return{integerValue:""+n}}function UU(n,t){return function iU(n){return"number"==typeof n&&Number.isInteger(n)&&!Sp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?GU(t):$U(n,t)}class Gy{constructor(){this._=void 0}}function Wge(n,t,e){return n instanceof sd?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Py(s)&&(s=Oy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof Bl?jU(n,t):n instanceof Hl?WU(n,t):function(r,s){const o=zU(r,s),a=qU(o)+qU(r.Ie);return nA(o)&&nA(r.Ie)?GU(a):$U(r.serializer,a)}(n,t)}function qge(n,t,e){return n instanceof Bl?jU(n,t):n instanceof Hl?WU(n,t):e}function zU(n,t){return n instanceof od?nA(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class sd extends Gy{}class Bl extends Gy{constructor(t){super(),this.elements=t}}function jU(n,t){const e=YU(t);for(const i of n.elements)e.some(r=>zs(r,i))||e.push(i);return{arrayValue:{values:e}}}class Hl extends Gy{constructor(t){super(),this.elements=t}}function WU(n,t){let e=YU(t);for(const i of n.elements)e=e.filter(r=>!zs(r,i));return{arrayValue:{values:e}}}class od extends Gy{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function qU(n){return yn(n.integerValue||n.doubleValue)}function YU(n){return Ip(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Kge{constructor(t,e){this.version=t,this.transformResults=e}}class sn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new sn}static exists(t){return new sn(void 0,t)}static updateTime(t){return new sn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uy(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class zy{}function KU(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new ld(n.key,sn.none()):new ad(n.key,n.data,sn.none());{const e=n.data,i=vi.empty();let r=new Pt(rn.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Po(n.key,i,new sr(r.toArray()),sn.none())}}function Xge(n,t,e){n instanceof ad?function(r,s,o){const a=r.value.clone(),l=ZU(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Po?function(r,s,o){if(!Uy(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ZU(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(QU(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Vp(n,t,e,i){return n instanceof ad?function(s,o,a,l){if(!Uy(s.precondition,o))return a;const c=s.value.clone(),u=JU(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof Po?function(s,o,a,l){if(!Uy(s.precondition,o))return a;const c=JU(s.fieldTransforms,l,o),u=o.data;return u.setAll(QU(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,t,e,i):(a=e,Uy(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Qge(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=zU(i.transform,r||null);null!=s&&(null===e&&(e=vi.empty()),e.set(i.field,s))}return e||null}function XU(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Xu(i,r,(s,o)=>function Yge(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Bl&&r instanceof Bl||i instanceof Hl&&r instanceof Hl?Xu(i.elements,r.elements,zs):i instanceof od&&r instanceof od?zs(i.Ie,r.Ie):i instanceof sd&&r instanceof sd);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class ad extends zy{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Po extends zy{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QU(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function ZU(n,t,e){const i=new Map;me(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,qge(o,a,e[r]))}return i}function JU(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,Wge(s,o,t))}return i}class ld extends zy{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uA extends zy{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dA{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&Xge(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Vp(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Vp(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=HU();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=KU(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(_e.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),qe())}isEqual(t){return this.batchId===t.batchId&&Xu(this.mutations,t.mutations,(e,i)=>XU(e,i))&&Xu(this.baseMutations,t.baseMutations,(e,i)=>XU(e,i))}}class hA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){me(t.mutations.length===i.length);let r=Uge;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new hA(t,e,i,r)}}class fA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jge{constructor(t,e){this.count=t,this.unchangedNames=e}}var Fn,ft;function tz(n){if(void 0===n)return wn("GRPC error has no .code"),k.UNKNOWN;switch(n){case Fn.OK:return k.OK;case Fn.CANCELLED:return k.CANCELLED;case Fn.UNKNOWN:return k.UNKNOWN;case Fn.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Fn.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Fn.INTERNAL:return k.INTERNAL;case Fn.UNAVAILABLE:return k.UNAVAILABLE;case Fn.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Fn.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Fn.NOT_FOUND:return k.NOT_FOUND;case Fn.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Fn.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Fn.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Fn.ABORTED:return k.ABORTED;case Fn.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Fn.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Fn.DATA_LOSS:return k.DATA_LOSS;default:return he()}}(ft=Fn||(Fn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";const eme=new qu([4294967295,4294967295],0);function iz(n){const t=function nz(){return new TextEncoder}().encode(n),e=new Kpe;return e.update(t),new Uint8Array(e.digest())}function rz(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new qu([e,i],0),new qu([r,s],0)]}class pA{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Bp(`Invalid padding: ${e}`);if(i<0)throw new Bp(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Bp(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Bp(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=qu.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(qu.fromNumber(i)));return 1===r.compare(eme)&&(r=new qu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=iz(t),[i,r]=rz(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new pA(s,r,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Te)return;const e=iz(t),[i,r]=rz(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Bp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hp{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,$p.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Hp(_e.min(),r,new zt(Re),or(),qe())}}class $p{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new $p(i,e,qe(),qe(),qe())}}class Wy{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class sz{constructor(t,e){this.targetId=t,this.fe=e}}class oz{constructor(t,e,i=Yn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class az{constructor(){this.ge=0,this.pe=cz(),this.ye=Yn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=qe(),e=qe(),i=qe();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:he()}}),new $p(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=cz()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,me(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class tme{constructor(t){this.Le=t,this.ke=new Map,this.qe=or(),this.Qe=lz(),this.Ke=new zt(Re)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:he()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(By(s))if(0===i){const o=new te(s.path);this.We(e,o,Zt.newNoDocument(o,_e.min()))}else me(1===i);else{const o=this.Ze(e);if(o!==i){const a=this.Xe(t),l=a?this.et(a,t,o):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,a;try{o=Mo(i).toUint8Array()}catch(l){if(l instanceof fU)return Er("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new pA(o,r,s)}catch(l){return Er(l instanceof Bp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&By(a.target)){const l=new te(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,Zt.newNoDocument(l,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=qe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new Hp(t,e,this.Ke,this.qe,i);return this.qe=or(),this.Qe=lz(),this.Ke=new zt(Re),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new az,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new Pt(Re),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||V("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new az),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function lz(){return new zt(te.comparator)}function cz(){return new zt(te.comparator)}const nme={asc:"ASCENDING",desc:"DESCENDING"},ime={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rme={and:"AND",or:"OR"};class sme{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function gA(n,t){return n.useProto3Json||Dp(t)?t:{value:t}}function cd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uz(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function ome(n,t){return cd(n,t.toTimestamp())}function Dn(n){return me(!!n),_e.fromTimestamp(function(e){const i=Da(e);return new fn(i.seconds,i.nanos)}(n))}function mA(n,t){return(i=n,new ht(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function dz(n){const t=ht.fromString(n);return me(bz(t)),t}function Gp(n,t){return mA(n.databaseId,t.path)}function Ws(n,t){const e=dz(t);if(e.get(1)!==n.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new te(fz(e))}function _A(n,t){return mA(n.databaseId,t)}function Up(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fz(n){return me(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pz(n,t,e){return{name:Gp(n,t),fields:e.value.mapValue.fields}}function mz(n,t){return{documents:[_A(n,t.path)]}}function yA(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=_A(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=_A(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return yz(Rt.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:ka((d=c).field),direction:dme(d.dir)};var d})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=gA(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function _z(n){let t=function hz(n){const t=dz(n);return 4===t.length?ht.emptyPath():fz(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){me(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=function(d){const h=vz(d);return h instanceof Rt&&rA(h)?h.getFilters():[h]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(h=>{return new Mp(ud((p=h).field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;e.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Dp(h)?null:h}(e.limit));let l=null;var d;e.startAt&&(l=new Ia((d=e.startAt).values||[],!!d.before));let c=null;return e.endAt&&(c=function(d){return new Ia(d.values||[],!d.before)}(e.endAt)),function RU(n,t,e,i,r,s,o,a){return new Ro(n,t,e,i,r,s,o,a)}(t,r,o,s,a,"F",l,c)}function vz(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ud(e.unaryFilter.field);return it.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ud(e.unaryFilter.field);return it.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ud(e.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ud(e.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(n):void 0!==n.fieldFilter?it.create(ud((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Rt.create(e.compositeFilter.filters.map(i=>vz(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return he()}}(e.compositeFilter.op))}(n):he();var e}function dme(n){return nme[n]}function hme(n){return ime[n]}function fme(n){return rme[n]}function ka(n){return{fieldPath:n.canonicalString()}}function ud(n){return rn.fromServerFormat(n.fieldPath)}function yz(n){return n instanceof it?function(e){if("=="===e.op){if(mU(e.value))return{unaryFilter:{field:ka(e.field),op:"IS_NAN"}};if(gU(e.value))return{unaryFilter:{field:ka(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mU(e.value))return{unaryFilter:{field:ka(e.field),op:"IS_NOT_NAN"}};if(gU(e.value))return{unaryFilter:{field:ka(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(e.field),op:hme(e.op),value:e.value}}}(n):n instanceof Rt?function(e){const i=e.getFilters().map(r=>yz(r));return 1===i.length?i[0]:{compositeFilter:{op:fme(e.op),filters:i}}}(n):he()}function pme(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function bz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Oo{constructor(t,e,i,r,s=_e.min(),o=_e.min(),a=Yn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Oo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Oo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class xz{constructor(t){this.ut=t}}function bA(n){const t=_z({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$y(t,t.limit,"L"):t}class zl{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(yn(t.integerValue));else if("doubleValue"in t){const i=yn(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),Sp(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(Mo(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?_U(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):he()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),te.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}zl.St=new zl;class Tme{constructor(){this.on=new SA}addToCollectionParentIndex(t,e){return this.on.add(e),C.resolve()}getCollectionParents(t,e){return C.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return C.resolve()}deleteFieldIndex(t,e){return C.resolve()}deleteAllFieldIndexes(t){return C.resolve()}createTargetIndexes(t,e){return C.resolve()}getDocumentsMatchingTarget(t,e){return C.resolve(null)}getIndexType(t,e){return C.resolve(0)}getFieldIndexes(t,e){return C.resolve([])}getNextCollectionGroupToUpdate(t){return C.resolve(null)}getMinOffset(t,e){return C.resolve(Ar.min())}getMinOffsetFromCollectionGroup(t,e){return C.resolve(Ar.min())}updateCollectionGroup(t,e,i){return C.resolve()}updateIndexEntries(t,e){return C.resolve()}}class SA{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Pt(ht.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Pt(ht.comparator)).toArray()}}new Uint8Array(0);class Ii{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ii(t,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(41943040,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);class Wl{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new Wl(0)}static Nn(){return new Wl(-1)}}class Ame{constructor(){this.changes=new No(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Zt.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?C.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Mme{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Yz{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Vp(i.mutation,r,sr.empty(),fn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,qe()).next(()=>i))}getLocalViewOfDocuments(t,e,i=qe()){const r=js();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=Op();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=js();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,qe()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=or();const o=Lp(),a=Lp();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Po)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Vp(u.mutation,c,u.mutation.getFieldMask(),fn.now())):o.set(c.key,sr.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),e.forEach((c,u)=>{var d;return a.set(c,new Mme(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(t,e){const i=Lp();let r=new zt((o,a)=>o-a),s=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||sr.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||qe()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=HU();u.forEach(h=>{if(!s.has(h)){const f=KU(e.get(h),i.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,d))}return C.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return te.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):function aA(n){return null!==n.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):C.resolve(js());let a=-1,l=s;return o.next(c=>C.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?C.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,qe())).next(u=>({batchId:a,changes:BU(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new te(e)).next(i=>{let r=Op();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=Op();return this.indexManager.getCollectionParents(t,s).next(a=>C.forEach(a,l=>{const c=(d=e,h=l.child(s),new Ro(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,Zt.newInvalidDocument(u)))});let a=Op();return o.forEach((l,c)=>{const u=s.get(l);void 0!==u&&Vp(u.mutation,c,sr.empty(),fn.now()),Pp(e,c)&&(a=a.insert(l,c))}),a})}}class Rme{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return C.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:Dn(r.createTime)}),C.resolve();var r}getNamedQuery(t,e){return C.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:bA(r.bundledQuery),readTime:Dn(r.readTime)}),C.resolve();var r}}class Nme{constructor(){this.overlays=new zt(te.comparator),this.lr=new Map}getOverlay(t,e){return C.resolve(this.overlays.get(e))}getOverlays(t,e){const i=js();return C.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),C.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),C.resolve()}getOverlaysForCollection(t,e,i){const r=js(),s=e.length+1,o=new te(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return C.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new zt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=js(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=js(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return C.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new fA(e,i));let s=this.lr.get(e);void 0===s&&(s=qe(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class EA{constructor(){this.hr=new Pt(ti.Pr),this.Ir=new Pt(ti.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new ti(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new ti(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new te(new ht([])),i=new ti(e,t),r=new ti(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new te(new ht([])),i=new ti(e,t),r=new ti(e,t+1);let s=qe();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new ti(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class ti{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return te.comparator(t.key,e.key)||Re(t.gr,e.gr)}static Tr(t,e){return Re(t.gr,e.gr)||te.comparator(t.key,e.key)}}class Pme{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new Pt(ti.Pr)}checkEmpty(t){return C.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new dA(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new ti(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(t,e){return C.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return C.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ti(e,0),r=new ti(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const a=this.wr(o.gr);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Pt(Re);return e.forEach(r=>{const s=new ti(r,0),o=new ti(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),C.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;te.isDocumentKey(s)||(s=s.child(""));const o=new ti(new te(s),0);let a=new Pt(Re);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),C.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){me(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return C.forEach(e.mutations,r=>{const s=new ti(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new ti(e,0),r=this.yr.firstAfterOrEqual(i);return C.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return C.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Ome{constructor(t){this.Cr=t,this.docs=new zt(te.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return C.resolve(i?i.document.mutableCopy():Zt.newInvalidDocument(e))}getEntries(t,e){let i=or();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Zt.newInvalidDocument(r))}),C.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=or();const o=e.path,a=new te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||QE(eU(u),i)<=0||(r.has(u.key)||Pp(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return C.resolve(s)}getAllFromCollectionGroup(t,e,i,r){he()}vr(t,e){return C.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Lme(this)}getSize(t){return C.resolve(this.size)}}class Lme extends Ame{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),C.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class Fme{constructor(t){this.persistence=t,this.Fr=new No(e=>Vl(e),Rp),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Mr=0,this.Or=new EA,this.targetCount=0,this.Nr=Wl.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),C.resolve()}getLastRemoteSnapshotVersion(t){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return C.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),C.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new Wl(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,C.resolve()}updateTargetData(t,e){return this.kn(e),C.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,C.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),C.waitFor(s).next(()=>r)}getTargetCount(t){return C.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return C.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),C.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),C.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return C.resolve(i)}containsKey(t,e){return C.resolve(this.Or.containsKey(e))}}class AA{constructor(t,e){this.Br={},this.overlays={},this.Lr=new Ir(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Fme(this),this.indexManager=new Tme,this.remoteDocumentCache=new Ome(i=>this.referenceDelegate.Qr(i)),this.serializer=new xz(e),this.Kr=new Rme(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Nme,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new Pme(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){V("MemoryPersistence","Starting transaction:",t);const r=new Vme(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return C.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class Vme extends oge{constructor(t){super(),this.currentSequenceNumber=t}}class e0{constructor(t){this.persistence=t,this.Gr=new EA,this.zr=null}static jr(t){return new e0(t)}get Hr(){if(this.zr)return this.zr;throw he()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),C.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),C.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),C.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Hr,i=>{const r=te.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,_e.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return C.or([()=>C.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class RA{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=qe(),r=qe();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new RA(t,e.fromCache,i,r)}}class Hme{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Xz{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Hme;return this.Hi(t,e,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,e,o,a.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(Ku()<=at.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",rd(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),C.resolve()):(Ku()<=at.DEBUG&&V("QueryEngine","Query:",rd(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Ku()<=at.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",rd(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wi(e))):C.resolve())}zi(t,e){if(NU(e))return C.resolve(null);let i=Wi(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=$y(e,null,"F"),i=Wi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=qe(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,o,l.readTime)?this.zi(t,$y(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return NU(e)||r.isEqual(_e.min())?C.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?C.resolve(null):(Ku()<=at.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rd(e)),this.Xi(t,o,e,function JG(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=_e.fromTimestamp(1e9===i?new fn(e+1,0):new fn(e,i));return new Ar(r,te.empty(),t)}(r,-1)).next(a=>a))})}Yi(t,e){let i=new Pt(FU(t));return e.forEach((r,s)=>{Pp(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return Ku()<=at.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",rd(e)),this.Gi.getDocumentsMatchingQuery(t,e,Ar.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class $me{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new zt(Re),this.ns=new No(s=>Vl(s),Rp),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Yz(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function Zz(n,t){return NA.apply(this,arguments)}function NA(){return NA=I(function*(n,t){const e=J(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=qe();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),NA.apply(this,arguments)}function Jz(n){const t=J(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function zme(n,t){const e=J(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function md(n,t,e){return PA.apply(this,arguments)}function PA(){return PA=I(function*(n,t,e){const i=J(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Ca(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),PA.apply(this,arguments)}function r0(n,t,e){const i=J(n);let r=_e.min(),s=qe();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=J(l),h=d.ns.get(u);return void 0!==h?C.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(i,o,Wi(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:_e.min(),e?s:qe())).next(a=>(function ij(n,t,e){let i=n.rs.get(t)||_e.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}(i,function LU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),a),{documents:a,ls:s})))}class BA{constructor(){this.activeTargetIds=function cA(){return jge}()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class oj{constructor(){this.eo=new BA,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new BA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class qme{ro(t){}shutdown(){}}class aj{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let a0=null;function $A(){return null===a0?a0=268435456+Math.round(2147483648*Math.random()):a0++,"0x"+a0.toString(16)}const Yme={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kme{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const ki="WebChannelConnection";class Xme extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const a=$A(),l=this.So(e,i);V("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(e,l,c,r).then(u=>(V("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw Er("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,i,r,s,o,a){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${Yme[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=$A();return new Promise((o,a)=>{const l=new Ype;l.setWithCredentials(!0),l.listenOnce(Wpe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case YE.NO_ERROR:const u=l.getResponseJson();V(ki,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),o(u);break;case YE.TIMEOUT:V(ki,`RPC '${t}' ${s} timed out`),a(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case YE.HTTP_ERROR:const d=l.getStatus();if(V(ki,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(v)>=0?v:k.UNKNOWN}(f.status);a(new B(p,f.message))}else a(new B(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(k.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{V(ki,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);V(ki,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=$A(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=zpe(),a=jpe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=s.join("");V(ki,`Creating RPC '${t}' stream ${r}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new Kme({co:g=>{f?V(ki,`Not sending because RPC '${t}' stream ${r} is closed:`,g):(h||(V(ki,`Opening RPC '${t}' stream ${r} transport.`),d.open(),h=!0),V(ki,`RPC '${t}' stream ${r} sending:`,g),d.send(g))},lo:()=>d.close()}),m=(g,v,_)=>{g.listen(v,y=>{try{_(y)}catch(x){setTimeout(()=>{throw x},0)}})};return m(d,ky.EventType.OPEN,()=>{f||V(ki,`RPC '${t}' stream ${r} transport opened.`)}),m(d,ky.EventType.CLOSE,()=>{f||(f=!0,V(ki,`RPC '${t}' stream ${r} transport closed`),p.Ro())}),m(d,ky.EventType.ERROR,g=>{f||(f=!0,Er(ki,`RPC '${t}' stream ${r} transport errored:`,g),p.Ro(new B(k.UNAVAILABLE,"The operation could not be completed")))}),m(d,ky.EventType.MESSAGE,g=>{var v;if(!f){const _=g.data[0];me(!!_);const x=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(x){V(ki,`RPC '${t}' stream ${r} received error:`,x);const D=x.status;let S=function(be){const ge=Fn[be];if(void 0!==ge)return tz(ge)}(D),H=x.message;void 0===S&&(S=k.INTERNAL,H="Unknown error status: "+D+" with message "+x.message),f=!0,p.Ro(new B(S,H)),d.close()}else V(ki,`RPC '${t}' stream ${r} received:`,_),p.Vo(_)}}),m(a,qpe.STAT_EVENT,g=>{g.stat===qG.PROXY?V(ki,`RPC '${t}' stream ${r} detected buffering proxy`):g.stat===qG.NOPROXY&&V(ki,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function l0(){return typeof document<"u"?document:null}function Zp(n){return new sme(n,!0)}class GA{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&V("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class cj{constructor(t,e,i,r,s,o,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new GA(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return I(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return I(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return I(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===k.RESOURCE_EXHAUSTED?(wn(e.toString()),wn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===k.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new B(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko(I(function*(){t.state=0,t.start()}))}o_(t){return V("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qme extends cj{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function lme(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:he(),r=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(me(void 0===u||"string"==typeof u),Yn.fromBase64String(u||"")):(me(void 0===u||u instanceof Uint8Array),Yn.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=void 0===c.code?k.UNKNOWN:tz(c.code);return new B(u,c.message||"")}(o);e=new oz(i,r,s,a||null)}else if("documentChange"in t){const i=t.documentChange,r=Ws(n,i.document.name),s=Dn(i.document.updateTime),o=i.document.createTime?Dn(i.document.createTime):_e.min(),a=new vi({mapValue:{fields:i.document.fields}}),l=Zt.newFoundDocument(r,s,o,a);e=new Wy(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=Ws(n,i.document),s=i.readTime?Dn(i.readTime):_e.min(),o=Zt.newNoDocument(r,s);e=new Wy([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=Ws(n,i.document);e=new Wy([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return he();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new Jge(r,s);e=new sz(i.targetId,o)}}var c;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return _e.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?Dn(o.readTime):_e.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=Up(this.serializer),e.addTarget=function(s,o){let a;const l=o.target;if(a=By(l)?{documents:mz(s,l)}:{query:yA(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uz(s,o.resumeToken);const c=gA(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=cd(s,o.snapshotVersion.toTimestamp());const c=gA(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function ume(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=Up(this.serializer),e.removeTarget=t,this.e_(e)}}class Zme extends cj{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(me(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function cme(n,t){return n&&n.length>0?(me(void 0!==t),n.map(e=>function(r,s){let o=Dn(r.updateTime?r.updateTime:s);return o.isEqual(_e.min())&&(o=Dn(s)),new Kge(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Dn(t.commitTime);return this.listener.I_(i,e)}return me(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Up(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>function zp(n,t){let e;if(t instanceof ad)e={update:pz(n,t.key,t.value)};else if(t instanceof ld)e={delete:Gp(n,t.key)};else if(t instanceof Po)e={update:pz(n,t.key,t.data),updateMask:pme(t.fieldMask)};else{if(!(t instanceof uA))return he();e={verify:Gp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof sd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof od)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw he()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:ome(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:he()),e;var s}(this.serializer,i))};this.e_(e)}}class Jme extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new B(k.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class t_e{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(wn(e),this.f_=!1):V("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class n_e{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{i.enqueueAndForget(I(function*(){var l;Pa(o)&&(V("RemoteStore","Restarting streams for network reachability change."),yield(l=I(function*(u){const d=J(u);d.C_.add(4),yield _d(d),d.M_.set("Unknown"),d.C_.delete(4),yield Jp(d)}),function c(u){return l.apply(this,arguments)})(o))}))}),this.M_=new t_e(i,r)}}function Jp(n){return zA.apply(this,arguments)}function zA(){return zA=I(function*(n){if(Pa(n))for(const t of n.v_)yield t(!0)}),zA.apply(this,arguments)}function _d(n){return jA.apply(this,arguments)}function jA(){return jA=I(function*(n){for(const t of n.v_)yield t(!1)}),jA.apply(this,arguments)}function c0(n,t){const e=J(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),YA(e)?qA(e):yd(e).Ho()&&WA(e,t))}function eg(n,t){const e=J(n),i=yd(e);e.D_.delete(t),i.Ho()&&uj(e,t),0===e.D_.size&&(i.Ho()?i.Zo():Pa(e)&&e.M_.set("Unknown"))}function WA(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_e.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}yd(n).u_(t)}function uj(n,t){n.x_.Oe(t),yd(n).c_(t)}function qA(n){n.x_=new tme({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),yd(n).start(),n.M_.g_()}function YA(n){return Pa(n)&&!yd(n).jo()&&n.D_.size>0}function Pa(n){return 0===J(n).C_.size}function dj(n){n.x_=void 0}function i_e(n){return KA.apply(this,arguments)}function KA(){return KA=I(function*(n){n.D_.forEach((t,e)=>{WA(n,t)})}),KA.apply(this,arguments)}function r_e(n,t){return XA.apply(this,arguments)}function XA(){return XA=I(function*(n,t){dj(n),YA(n)?(n.M_.w_(t),qA(n)):n.M_.set("Unknown")}),XA.apply(this,arguments)}function s_e(n,t,e){return QA.apply(this,arguments)}function QA(){return QA=I(function*(n,t,e){if(n.M_.set("Online"),t instanceof oz&&2===t.state&&t.cause)try{yield(i=I(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){V("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield u0(n,i)}else if(t instanceof Wy?n.x_.$e(t):t instanceof sz?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(_e.min()))try{const i=yield Jz(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(Yn.EMPTY_BYTE_STRING,u.snapshotVersion)),uj(s,l);const d=new Oo(u.target,l,c,u.sequenceNumber);WA(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){V("RemoteStore","Failed to raise snapshot:",i),yield u0(n,i)}var i}),QA.apply(this,arguments)}function u0(n,t,e){return ZA.apply(this,arguments)}function ZA(){return ZA=I(function*(n,t,e){if(!Ca(t))throw t;n.C_.add(1),yield _d(n),n.M_.set("Offline"),e||(e=()=>Jz(n.localStore)),n.asyncQueue.enqueueRetryable(I(function*(){V("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield Jp(n)}))}),ZA.apply(this,arguments)}function hj(n,t){return t().catch(e=>u0(n,e,t))}function vd(n){return JA.apply(this,arguments)}function JA(){return JA=I(function*(n){const t=J(n),e=Oa(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;o_e(t);)try{const r=yield zme(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,a_e(t,r)}catch(r){yield u0(t,r)}fj(t)&&pj(t)}),JA.apply(this,arguments)}function o_e(n){return Pa(n)&&n.b_.length<10}function a_e(n,t){n.b_.push(t);const e=Oa(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function fj(n){return Pa(n)&&!Oa(n).jo()&&n.b_.length>0}function pj(n){Oa(n).start()}function l_e(n){return eI.apply(this,arguments)}function eI(){return eI=I(function*(n){Oa(n).E_()}),eI.apply(this,arguments)}function c_e(n){return tI.apply(this,arguments)}function tI(){return tI=I(function*(n){const t=Oa(n);for(const e of n.b_)t.P_(e.mutations)}),tI.apply(this,arguments)}function u_e(n,t,e){return nI.apply(this,arguments)}function nI(){return nI=I(function*(n,t,e){const i=n.b_.shift(),r=hA.from(i,t,e);yield hj(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield vd(n)}),nI.apply(this,arguments)}function d_e(n,t){return iI.apply(this,arguments)}function iI(){return iI=I(function*(n,t){var e;t&&Oa(n).h_&&(yield(e=I(function*(r,s){if(function ez(n){switch(n){default:return he();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}(a=s.code)&&a!==k.ABORTED){const o=r.b_.shift();Oa(r).Yo(),yield hj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield vd(r)}var a}),function i(r,s){return e.apply(this,arguments)})(n,t)),fj(n)&&pj(n)}),iI.apply(this,arguments)}function gj(n,t){return rI.apply(this,arguments)}function rI(){return rI=I(function*(n,t){const e=J(n);e.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const i=Pa(e);e.C_.add(3),yield _d(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield Jp(e)}),rI.apply(this,arguments)}function oI(){return oI=I(function*(n,t){const e=J(n);t?(e.C_.delete(2),yield Jp(e)):t||(e.C_.add(2),yield _d(e),e.M_.set("Unknown"))}),oI.apply(this,arguments)}function yd(n){return n.O_||(n.O_=function(e,i,r){const s=J(e);return s.A_(),new Qme(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:i_e.bind(null,n),Io:r_e.bind(null,n),a_:s_e.bind(null,n)}),n.v_.push(function(){var t=I(function*(e){e?(n.O_.Yo(),YA(n)?qA(n):n.M_.set("Unknown")):(yield n.O_.stop(),dj(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function Oa(n){return n.N_||(n.N_=function(e,i,r){const s=J(e);return s.A_(),new Zme(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:l_e.bind(null,n),Io:d_e.bind(null,n),T_:c_e.bind(null,n),I_:u_e.bind(null,n)}),n.v_.push(function(){var t=I(function*(e){e?(n.N_.Yo(),yield vd(n)):(yield n.N_.stop(),n.b_.length>0&&(V("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class aI{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new aI(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bd(n,t){if(wn("AsyncQueue",`${t}: ${n}`),Ca(n))return new B(k.UNAVAILABLE,`${t}: ${n}`);throw n}class xd{constructor(t){this.comparator=t?(e,i)=>t(e,i)||te.comparator(e.key,i.key):(e,i)=>te.comparator(e.key,i.key),this.keyedMap=Op(),this.sortedSet=new zt(this.comparator)}static emptySet(t){return new xd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof xd)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new xd;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class mj{constructor(){this.B_=new zt(te.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):he():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Td{constructor(t,e,i,r,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new Td(t,e,xd.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Np(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class h_e{constructor(){this.k_=void 0,this.listeners=[]}}class f_e{constructor(){this.queries=new No(t=>OU(t),Np),this.onlineState="Unknown",this.q_=new Set}}function cI(){return cI=I(function*(n,t){const e=J(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new h_e),r)try{s.k_=yield e.onListen(i)}catch(o){const a=bd(o,`Initialization of query '${rd(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&hI(e)}),cI.apply(this,arguments)}function dI(){return dI=I(function*(n,t){const e=J(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),dI.apply(this,arguments)}function p_e(n,t){const e=J(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&hI(e)}function g_e(n,t,e){const i=J(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function hI(n){n.q_.forEach(t=>{t.next()})}class fI{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Td(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=Td.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class yj{constructor(t){this.key=t}}class bj{constructor(t){this.key=t}}class xj{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=qe(),this.mutatedKeys=qe(),this._a=FU(t),this.aa=new xd(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new mj,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,d)=>{const h=r.get(u),f=Pp(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),g=!0):this.ha(h,f)||(i.track({type:2,doc:f}),g=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((u,d)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return m(f)-m(p)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(i),r=null!=r&&r;const a=e&&!r?this.Ia():[],l=0===this.oa.size&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,0!==o.length||c?{snapshot:new Td(this.query,t.aa,s,o,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new mj,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=qe(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new bj(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new yj(i))}),e}da(t){this.ia=t.ls,this.oa=qe();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return Td.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class v_e{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class y_e{constructor(t){this.key=t,this.Ra=!1}}class b_e{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new No(a=>OU(a),Np),this.fa=new Map,this.ga=new Set,this.pa=new zt(te.comparator),this.ya=new Map,this.wa=new EA,this.Sa={},this.ba=new Map,this.Da=Wl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function x_e(n,t){return pI.apply(this,arguments)}function pI(){return pI=I(function*(n,t){const e=function FI(n){const t=J(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tj.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=k_e.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=w_e.bind(null,t),t.Va.a_=p_e.bind(null,t.eventManager),t.Va.Fa=g_e.bind(null,t.eventManager),t}(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield function gd(n,t){const e=J(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,C.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new Oo(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}(e.localStore,Wi(t)),a=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield function gI(n,t,e,i,r){return mI.apply(this,arguments)}(e,t,i,"current"===a,o.resumeToken),e.isPrimaryClient&&c0(e.remoteStore,o)}return r}),pI.apply(this,arguments)}function mI(){return mI=I(function*(n,t,e,i,r){n.va=(d,h,f)=>{return(p=I(function*(g,v,_,y){let x=v.view.ca(_);x.Zi&&(x=yield r0(g.localStore,v.query,!1).then(({documents:W})=>v.view.ca(W,x)));const D=y&&y.targetChanges.get(v.targetId),S=y&&null!=y.targetMismatches.get(v.targetId),H=v.view.applyChanges(x,g.isPrimaryClient,D,S);return SI(g,v.targetId,H.Ta),H.snapshot}),function m(g,v,_,y){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield r0(n.localStore,t,!0),o=new xj(t,s.ls),a=o.ca(s.documents),l=$p.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);SI(n,e,c.Ta);const u=new v_e(t,e,o);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),mI.apply(this,arguments)}function T_e(n,t){return _I.apply(this,arguments)}function _I(){return _I=I(function*(n,t){const e=J(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!Np(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield md(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),eg(e.remoteStore,i.targetId),Cd(e,i.targetId)}).catch(Ta))):(Cd(e,i.targetId),yield md(e.localStore,i.targetId,!0))}),_I.apply(this,arguments)}function vI(){return vI=I(function*(n,t,e){const i=function VI(n){const t=J(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=D_e.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=S_e.bind(null,t),t}(n);try{const r=yield function(o,a){const l=J(o),c=fn.now(),u=a.reduce((f,p)=>f.add(p.key),qe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=or(),m=qe();return l.ss.getEntries(f,u).next(g=>{p=g,p.forEach((v,_)=>{_.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(g=>{d=g;const v=[];for(const _ of a){const y=Qge(_,d.get(_.key).overlayedDocument);null!=y&&v.push(new Po(_.key,y,bU(y.value.mapValue),sn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:BU(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new zt(Re)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,e),yield Lo(i,r.changes),yield vd(i.remoteStore)}catch(r){const s=bd(r,"Failed to persist write");e.reject(s)}}),vI.apply(this,arguments)}function Tj(n,t){return yI.apply(this,arguments)}function yI(){return yI=I(function*(n,t){const e=J(n);try{const i=yield function Ume(n,t){const e=J(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(e.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>e.qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var m,g,v;null!==t.targetMismatches.get(d)?f=f.withResumeToken(Yn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),g=f,v=u,(0===(m=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(s,f))});let l=or(),c=qe();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function ej(n,t,e){let i=qe(),r=qe();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=or();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}(s,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(_e.min())){const u=e.qr.getLastRemoteSnapshotVersion(s).next(d=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.ts=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?me(o.Ra):r.removedDocuments.size>0&&(me(o.Ra),o.Ra=!1))}),yield Lo(e,i,t)}catch(i){yield Ta(i)}}),yI.apply(this,arguments)}function Cj(n,t,e){const i=J(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=J(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&hI(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function w_e(n,t,e){return bI.apply(this,arguments)}function bI(){return bI=I(function*(n,t,e){const i=J(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new zt(te.comparator);o=o.insert(s,Zt.newNoDocument(s,_e.min()));const a=qe().add(s),l=new Hp(_e.min(),new Map,new zt(Re),o,a);yield Tj(i,l),i.pa=i.pa.remove(s),i.ya.delete(t),EI(i)}else yield md(i.localStore,t,!1).then(()=>Cd(i,t,e)).catch(Ta)}),bI.apply(this,arguments)}function D_e(n,t){return xI.apply(this,arguments)}function xI(){return xI=I(function*(n,t){const e=J(n),i=t.batch.batchId;try{const r=yield function Gme(n,t){const e=J(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=C.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{const g=c.docVersions.get(p);me(null!==g),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=qe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);DI(e,i,null),wI(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Lo(e,r)}catch(r){yield Ta(r)}}),xI.apply(this,arguments)}function S_e(n,t,e){return TI.apply(this,arguments)}function TI(){return TI=I(function*(n,t,e){const i=J(n);try{const r=yield function(o,a){const l=J(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(me(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);DI(i,t,e),wI(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Lo(i,r)}catch(r){yield Ta(r)}}),TI.apply(this,arguments)}function wI(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function DI(n,t,e){const i=J(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Cd(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||wj(n,i)})}function wj(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(eg(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),EI(n))}function SI(n,t,e){for(const i of e)i instanceof yj?(n.wa.addReference(i.key,t),A_e(n,i)):i instanceof bj?(V("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||wj(n,i.key)):he()}function A_e(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(V("SyncEngine","New document in limbo: "+e),n.ga.add(i),EI(n))}function EI(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new te(ht.fromString(t)),i=n.Da.next();n.ya.set(i,new y_e(e)),n.pa=n.pa.insert(e,i),c0(n.remoteStore,new Oo(Wi(nd(e.path)),i,"TargetPurposeLimboResolution",Ir._e))}}function Lo(n,t,e){return AI.apply(this,arguments)}function AI(){return AI=I(function*(n,t,e){const i=J(n),r=[],s=[],o=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=RA.Qi(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.Va.a_(r),yield(a=I(function*(c,u){const d=J(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>C.forEach(u,f=>C.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>C.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ca(h))throw h;V("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),g=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,g)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,s))}),AI.apply(this,arguments)}function I_e(n,t){return II.apply(this,arguments)}function II(){return II=I(function*(n,t){const e=J(n);if(!e.currentUser.isEqual(t)){V("SyncEngine","User change. New user:",t.toKey());const i=yield Zz(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new B(k.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Lo(e,i._s)}var s}),II.apply(this,arguments)}function k_e(n,t){const e=J(n),i=e.ya.get(t);if(i&&i.Ra)return qe().add(i.key);{let r=qe();const s=e.fa.get(t);if(!s)return r;for(const o of s){const a=e.ma.get(o);r=r.unionWith(a.view.ua)}return r}}class d0{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return I(function*(){e.serializer=Zp(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function Qz(n,t,e,i){return new $me(n,t,e,i)}(this.persistence,new Xz,t.initialUser,this.serializer)}createPersistence(t){return new AA(e0.jr,this.serializer)}createSharedClientState(t){return new oj}terminate(){var t=this;return I(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class wd{initialize(t,e){var i=this;return I(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Cj(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=I_e.bind(null,i.syncEngine),yield function sI(n,t){return oI.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new f_e}createDatastore(t){const e=Zp(t.databaseInfo.databaseId),i=new Xme(t.databaseInfo);return new Jme(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>Cj(this.syncEngine,e,0),a=aj.D()?new aj:new qme,new n_e(i,r,s,o,a);var i,r,s,o,a}createSyncEngine(t,e){return function(r,s,o,a,l,c,u){const d=new b_e(r,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return function(){var t=I(function*(i){const r=J(i);V("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield _d(r),r.F_.shutdown(),r.M_.set("Unknown")});return function e(i){return t.apply(this,arguments)}}()(this.remoteStore)}}class h0{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):wn("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class U_e{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Jn.UNAUTHENTICATED,this.clientId=QG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=I(function*(a){V("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return I(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(I(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=bd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function f0(n,t){return BI.apply(this,arguments)}function BI(){return BI=I(function*(n,t){n.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=I(function*(s){i.isEqual(s)||(yield Zz(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),BI.apply(this,arguments)}function HI(n,t){return $I.apply(this,arguments)}function $I(){return $I=I(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function GI(n){return UI.apply(this,arguments)}(n);V("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>gj(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>gj(t.remoteStore,s)),n._onlineComponents=t}),$I.apply(this,arguments)}function UI(){return UI=I(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield f0(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function kj(n){return"FirebaseError"===n.name?n.code===k.FAILED_PRECONDITION||n.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;Er("Error using user provided cache. Falling back to memory cache: "+e),yield f0(n,new d0)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield f0(n,new d0);return n._offlineComponents}),UI.apply(this,arguments)}function p0(n){return zI.apply(this,arguments)}function zI(){return zI=I(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield HI(n,n._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield HI(n,new wd))),n._onlineComponents}),zI.apply(this,arguments)}function WI(){return WI=I(function*(n){const t=yield p0(n),e=t.eventManager;return e.onListen=x_e.bind(null,t.syncEngine),e.onUnlisten=T_e.bind(null,t.syncEngine),e}),WI.apply(this,arguments)}function Oj(n,t,e={}){const i=new qn;return n.asyncQueue.enqueueAndForget(I(function*(){return function(s,o,a,l,c){const u=new h0({next:h=>{o.enqueueAndForget(()=>function uI(n,t){return dI.apply(this,arguments)}(s,d)),h.fromCache&&"server"===l.source?c.reject(new B(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new fI(a,u,{includeMetadataChanges:!0,J_:!0});return function lI(n,t){return cI.apply(this,arguments)}(s,d)}(yield function Sd(n){return WI.apply(this,arguments)}(n),n.asyncQueue,t,e,i)})),i.promise}function Lj(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const Fj=new Map;function qI(n,t,e){if(!e)throw new B(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Vj(n){if(!te.isDocumentKey(n))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Bj(n){if(te.isDocumentKey(n))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function g0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":he()}function rt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=g0(n);throw new B(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class $j{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function eve(n,t,e,i){if(!0===t&&!0===i)throw new B(k.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Lj(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tg{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $j({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $j(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new Xpe;switch(i.type){case"firstParty":return new ege(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Fj.get(e);i&&(V("ComponentProvider","Removing Datastore"),Fj.delete(e),i.terminate())}(this),Promise.resolve()}}class yi{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new yi(this.firestore,t,this._query)}}class Sn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Sn(this.firestore,t,this._key)}}class qs extends yi{constructor(t,e,i){super(t,e,nd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Sn(this.firestore,null,new te(t))}withConverter(t){return new qs(this.firestore,t,this._path)}}function nve(n,t,...e){if(n=Co(n),qI("collection","path",t),n instanceof tg){const i=ht.fromString(t,...e);return Bj(i),new qs(n,null,i)}{if(!(n instanceof Sn||n instanceof qs))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(t,...e));return Bj(i),new qs(n.firestore,null,i)}}class rve{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new GA(this,"async_queue_retry"),this.iu=()=>{const e=l0();e&&V("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=l0();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=l0();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new qn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return I(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!Ca(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,wn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=aI.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&he()}verifyOperationInProgress(){}uu(){var t=this;return I(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}class jt extends tg{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new rve,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Uj(this),this._firestoreClient.terminate()}}function ove(n,t){const i="string"==typeof n?n:t||"(default)",r=function d$(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}("object"==typeof n?n:f$(),"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(n=>{const t=(n=>{var t,e;return null===(e=null===(t=Ov())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]})(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),i]:[t.substring(0,e),i]})("firestore");s&&function tve(n,t,e,i={}){var r;const s=(n=rt(n,tg))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Jn.MOCK_USER;else{a=function _ce(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nv(JSON.stringify({alg:"none",type:"JWT"})),Nv(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Jn(c)}n._authCredentials=new Qpe(new KG(a,l))}}(r,...s)}return r}function En(n){return n._firestoreClient||Uj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Uj(n){var t,e,i;const r=n._freezeSettings(),s=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new kge(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Lj(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new U_e(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class Yl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yl(Yn.fromBase64String(t))}catch(e){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Yl(Yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Ed{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wj{constructor(t){this._methodName=t}}class KI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Re(this._lat,t._lat)||Re(this._long,t._long)}}const lve=/^__.*__$/;class cve{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Po(t,this.data,this.fieldMask,e,this.fieldTransforms):new ad(t,this.data,e,this.fieldTransforms)}}function Yj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class m0{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new m0(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return v0(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(Yj(this.Iu)&&lve.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class uve{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Zp(t)}pu(t,e,i,r=!1){return new m0({Iu:t,methodName:e,gu:i,path:rn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ad(n){const t=n._freezeSettings(),e=Zp(n._databaseId);return new uve(n._databaseId,!!t.ignoreUndefinedProperties,e)}function XI(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);ZI("Data must be an object, but it was:",o,i);const a=Jj(i,o);let l,c;if(s.merge)l=new sr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=rg(t,d,e);if(!o.contains(h))throw new B(k.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);t4(u,h)||u.push(h)}l=new sr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new cve(new vi(a),l,c)}function Kl(n,t){if(e4(n=Co(n)))return ZI("Unsupported field value:",t,n),Jj(n,t);if(n instanceof Wj)return function(i,r){if(!Yj(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Kl(a,r.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=Co(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return UU(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=fn.fromDate(i);return{timestampValue:cd(r.serializer,s)}}if(i instanceof fn){const s=new fn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cd(r.serializer,s)}}if(i instanceof KI)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yl)return{bytesValue:uz(r.serializer,i._byteString)};if(i instanceof Sn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mA(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${g0(i)}`)}(n,t)}function Jj(n,t){const e={};return dU(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wa(n,(i,r)=>{const s=Kl(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function e4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof fn||n instanceof KI||n instanceof Yl||n instanceof Sn||n instanceof Wj)}function ZI(n,t,e){if(!e4(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=g0(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function rg(n,t,e){if((t=Co(t))instanceof Ed)return t._internalPath;if("string"==typeof t)return _0(n,t);throw v0("Field path arguments must be of type string or ",n,!1,void 0,e)}const pve=new RegExp("[~\\*/\\[\\]]");function _0(n,t,e){if(t.search(pve)>=0)throw v0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ed(...t.split("."))._internalPath}catch{throw v0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function v0(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new B(k.INVALID_ARGUMENT,a+n+l)}function t4(n,t){return n.some(e=>e.isEqual(t))}class JI{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new gve(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(y0("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class gve extends JI{data(){return super.data()}}function y0(n,t){return"string"==typeof t?_0(n,t):t instanceof Ed?t._internalPath:t._delegate._internalPath}class _ve{convertValue(t,e="none"){switch(Ea(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Mo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw he()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return wa(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new KI(yn(t.latitude),yn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Oy(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Ep(t));default:return null}}convertTimestamp(t){const e=Da(t);return new fn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ht.fromString(t);me(bz(i));const r=new Ll(i.get(1),i.get(3)),s=new te(i.popFirst(5));return r.isEqual(e)||wn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}class Xl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kd extends JI{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new C0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(y0("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class C0 extends kd{data(t={}){return super.data(t)}}class Md{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Xl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new C0(this._firestore,this._userDataWriter,i.key,i,new Xl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new C0(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Xl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new C0(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Xl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:yve(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function yve(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}class La extends _ve{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Sn(this.firestore,null,e)}}function bve(n){n=rt(n,yi);const t=rt(n.firestore,jt),e=En(t),i=new La(t);return function n4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),Oj(e,n._query).then(r=>new Md(t,i,n,r))}function xve(n,t){const e=rt(n.firestore,jt),i=function ive(n,t,...e){if(n=Co(n),1===arguments.length&&(t=QG.newId()),qI("doc","path",t),n instanceof tg){const i=ht.fromString(t,...e);return Vj(i),new Sn(n,null,new te(i))}{if(!(n instanceof Sn||n instanceof qs))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(t,...e));return Vj(i),new Sn(n.firestore,n instanceof qs?n.converter:null,new te(i))}}(n),r=function tk(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}(n.converter,t);return function og(n,t){return function(i,r){const s=new qn;return i.asyncQueue.enqueueAndForget(I(function*(){return function C_e(n,t,e){return vI.apply(this,arguments)}(yield function jI(n){return p0(n).then(t=>t.syncEngine)}(i),r,s)})),s.promise}(En(n),t)}(e,[XI(Ad(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,sn.exists(!1))]).then(()=>i)}!function(t,e=!0){Yu=Bv,Ou(new bl("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new jt(new Zpe(i.getProvider("auth-internal")),new tge(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Yr(YG,"4.4.0",t),Yr(YG,"4.4.0","esm2017")}();class Ys{constructor(t){return t}}const d4="firestore",rk=new j("angularfire2.firestore-instances");function Lve(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Ys(i)}}const Fve={provide:class Pve{constructor(){return Y1(d4)}},deps:[[new Gr,rk]]},Vve={provide:Ys,useFactory:function Ove(n,t){const e=function x$(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(o=>o.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}(d4,n,t);return e&&new Ys(e)},deps:[[new Gr,rk],Uf]};let Bve=(()=>{class n{constructor(){Yr("angularfire",q1.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Se({type:n});static \u0275inj=we({providers:[Vve,Fve]})}return n})();function Hve(n,...t){return{ngModule:Bve,providers:[{provide:rk,useFactory:Lve(n),multi:!0,deps:[Le,Rn,C$,w$,[new Gr,k3],[new Gr,Wue],...t]}]}}const Ql=Gf(xve,!0),ar=Gf(nve,!0),Zl=Gf(bve,!0),$ve=Gf(ove,!0);class S0{}class E0{}class Ks{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ks?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ks;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ks?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Gve{encodeKey(t){return h4(t)}encodeValue(t){return h4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const zve=/%(\d[a-f0-9])/gi,jve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function h4(n){return encodeURIComponent(n).replace(zve,(t,e)=>jve[e]??t)}function A0(n){return`${n}`}class Fa{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Gve,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Uve(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(A0):[A0(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Fa({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(A0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(A0(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Wve{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function f4(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function p4(n){return typeof Blob<"u"&&n instanceof Blob}function g4(n){return typeof FormData<"u"&&n instanceof FormData}class ag{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function qve(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ks),this.context||(this.context=new Wve),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Fa,this.urlWithParams=e}serializeBody(){return null===this.body?null:f4(this.body)||p4(this.body)||g4(this.body)||function Yve(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||g4(this.body)?null:p4(this.body)?this.body.type||null:f4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new ag(e,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var Rd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Rd||{});class sk{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ks,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ok extends sk{constructor(t={}){super(t),this.type=Rd.ResponseHeader}clone(t={}){return new ok({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Nd extends sk{constructor(t={}){super(t),this.type=Rd.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Nd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class m4 extends sk{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function ak(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Fo=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof ag)s=e;else{let l,c;l=r.headers instanceof Ks?r.headers:new Ks(r.headers),r.params&&(c=r.params instanceof Fa?r.params:new Fa({fromObject:r.params})),s=new ag(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Te(s).pipe(Du(l=>this.handler.handle(l)));if(e instanceof ag||"events"===r.observe)return o;const a=o.pipe(fi(l=>l instanceof Nd));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ge(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ge(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ge(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ge(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Fa).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,ak(r,i))}post(e,i,r={}){return this.request("POST",e,ak(r,i))}put(e,i,r={}){return this.request("PUT",e,ak(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(O(S0))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function y4(n,t){return t(n)}function Xve(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const Zve=new j(""),lg=new j(""),b4=new j("");function Jve(){let n=null;return(t,e)=>{null===n&&(n=(ee(Zve,{optional:!0})??[]).reduceRight(Xve,y4));const i=ee(N_),r=i.add();return n(t,e).pipe(Cf(()=>i.remove(r)))}}let x4=(()=>{class n extends S0{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=ee(N_)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(lg),...this.injector.get(b4,[])]));this.chain=r.reduceRight((s,o)=>function Qve(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),y4)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Cf(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(O(E0),O(mr))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const iye=/^\)\]\}',?\n/;let C4=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new R(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Hn(i.\u0275loadImpl()):Te(null)).pipe(Ki(()=>new lt(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((m,g)=>o.setRequestHeader(m,g.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const m=e.detectContentTypeHeader();null!==m&&o.setRequestHeader("Content-Type",m)}if(e.responseType){const m=e.responseType.toLowerCase();o.responseType="json"!==m?m:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const m=o.statusText||"OK",g=new Ks(o.getAllResponseHeaders()),v=function rye(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new ok({headers:g,status:o.status,statusText:m,url:v}),l},u=()=>{let{headers:m,status:g,statusText:v,url:_}=c(),y=null;204!==g&&(y=typeof o.response>"u"?o.responseText:o.response),0===g&&(g=y?200:0);let x=g>=200&&g<300;if("json"===e.responseType&&"string"==typeof y){const D=y;y=y.replace(iye,"");try{y=""!==y?JSON.parse(y):null}catch(S){y=D,x&&(x=!1,y={error:S,text:y})}}x?(s.next(new Nd({body:y,headers:m,status:g,statusText:v,url:_||void 0})),s.complete()):s.error(new m4({error:y,headers:m,status:g,statusText:v,url:_||void 0}))},d=m=>{const{url:g}=c(),v=new m4({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:g||void 0});s.error(v)};let h=!1;const f=m=>{h||(s.next(c()),h=!0);let g={type:Rd.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),"text"===e.responseType&&o.responseText&&(g.partialText=o.responseText),s.next(g)},p=m=>{let g={type:Rd.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:Rd.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(O(OV))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const lk=new j("XSRF_ENABLED"),w4=new j("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),D4=new j("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class S4{}let aye=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=SV(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(O(Gt),O(tr),O(w4))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function lye(n,t){const e=n.url.toLowerCase();if(!ee(lk)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=ee(S4).getToken(),r=ee(D4);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Va=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Va||{});function cye(...n){const t=[Fo,C4,x4,{provide:S0,useExisting:x4},{provide:E0,useExisting:C4},{provide:lg,useValue:lye,multi:!0},{provide:lk,useValue:!0},{provide:S4,useClass:aye}];for(const e of n)t.push(...e.\u0275providers);return function CT(n){return{\u0275providers:n}}(t)}const E4=new j("LEGACY_INTERCEPTOR_FN");function uye(){return function Jl(n,t){return{\u0275kind:n,\u0275providers:t}}(Va.LegacyInterceptors,[{provide:E4,useFactory:Jve},{provide:lg,useExisting:E4,multi:!0}])}let dye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Se({type:n});static#n=this.\u0275inj=we({providers:[cye(uye())]})}return n})(),k0=(()=>{class n{constructor(e){this.http=e,this.firestore=ee(Ys)}getMusic(){var e=this;return I(function*(){const i=ar(e.firestore,"music");return(yield Zl(i)).docs.map(s=>s.data())})()}createMusic(e){var i=this;return I(function*(){const r=ar(i.firestore,"music");Ql(r,{name:e.name,date:e.date,score:e.score,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),M0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/movies.xml",this.firestore=ee(Ys)}getMovies(){var e=this;return I(function*(){const i=ar(e.firestore,"movies");return(yield Zl(i)).docs.map(s=>s.data())})()}createMovies(e){var i=this;return I(function*(){const r=ar(i.firestore,"movies");Ql(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/libros.xml",this.firestore=ee(Ys)}getBook(){var e=this;return I(function*(){const i=ar(e.firestore,"books");return(yield Zl(i)).docs.map(s=>s.data())})()}createBook(e){var i=this;return I(function*(){const r=ar(i.firestore,"books");Ql(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),N0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml",this.firestore=ee(Ys)}getGames(){var e=this;return I(function*(){const i=ar(e.firestore,"games");return(yield Zl(i)).docs.map(s=>s.data())})()}createGames(e){var i=this;return I(function*(){const r=ar(i.firestore,"games");Ql(r,{name:e.name,date:e.date,score:e.score,type:null,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/series.xml",this.firestore=ee(Ys)}getSeries(){var e=this;return I(function*(){const i=ar(e.firestore,"series");return(yield Zl(i)).docs.map(s=>s.data())})()}createSeries(e){var i=this;return I(function*(){const r=ar(i.firestore,"series");Ql(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),O0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/animes.xml",this.firestore=ee(Ys)}getAnimes(){var e=this;return I(function*(){const i=ar(e.firestore,"animes");return(yield Zl(i)).docs.map(s=>s.data())})()}createAnimes(e){var i=this;return I(function*(){const r=ar(i.firestore,"animes");Ql(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cg=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A4=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(b(_r),b(Je))};static#t=this.\u0275dir=Y({type:n})}return n})(),ec=(()=>{class n extends A4{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ci(n)))(r||n)}}();static#t=this.\u0275dir=Y({type:n,features:[St]})}return n})();const Qr=new j("NgValueAccessor"),yye={provide:Qr,useExisting:gt(()=>L0),multi:!0},xye=new j("CompositionEventMode");let L0=(()=>{class n extends A4{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bye(){const n=la()?la().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(b(_r),b(Je),b(xye,8))};static#t=this.\u0275dir=Y({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&re("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[dt([yye]),St]})}return n})();const Mi=new j("NgValidators"),Ha=new j("NgAsyncValidators");function N4(n){return function Ba(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function F0(n){return null}function B4(n){return null!=n}function H4(n){return Xh(n)?Hn(n):n}function $4(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function G4(n,t){return t.map(e=>e(n))}function U4(n){return n.map(t=>function Cye(n){return!n.validate}(t)?t:e=>t.validate(e))}function ck(n){return null!=n?function z4(n){if(!n)return null;const t=n.filter(B4);return 0==t.length?null:function(e){return $4(G4(e,t))}}(U4(n)):null}function uk(n){return null!=n?function j4(n){if(!n)return null;const t=n.filter(B4);return 0==t.length?null:function(e){return function _ye(...n){const t=om(n),{args:e,keys:i}=HB(n),r=new lt(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Mn(e[u]).subscribe(Et(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?$B(i,a):a),s.complete())}))}});return t?r.pipe(s1(t)):r}(G4(e,t).map(H4)).pipe(Ge($4))}}(U4(n)):null}function W4(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function dk(n){return n?Array.isArray(n)?n:[n]:[]}function V0(n,t){return Array.isArray(n)?n.includes(t):n===t}function K4(n,t){const e=dk(t);return dk(n).forEach(r=>{V0(e,r)||e.push(r)}),e}function X4(n,t){return dk(t).filter(e=>!V0(n,e))}class Q4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ck(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=uk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class qi extends Q4{get formDirective(){return null}get path(){return null}}class $a extends Q4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Z4{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let J4=(()=>{class n extends Z4{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(b($a,2))};static#t=this.\u0275dir=Y({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&yt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[St]})}return n})(),e5=(()=>{class n extends Z4{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(b(qi,10))};static#t=this.\u0275dir=Y({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&yt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[St]})}return n})();const ug="VALID",H0="INVALID",Pd="PENDING",dg="DISABLED";function pk(n){return($0(n)?n.validators:n)||null}function gk(n,t){return($0(t)?t.asyncValidators:n)||null}function $0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class r5{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ug}get invalid(){return this.status===H0}get pending(){return this.status==Pd}get disabled(){return this.status===dg}get enabled(){return this.status!==dg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(K4(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(K4(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(X4(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(X4(t,this._rawAsyncValidators))}hasValidator(t){return V0(this._rawValidators,t)}hasAsyncValidator(t){return V0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=dg,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ug,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ug||this.status===Pd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dg:ug}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pd,this._hasOwnPendingAsyncValidator=!0;const e=H4(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Q,this.statusChanges=new Q}_calculateStatus(){return this._allControlsDisabled()?dg:this.errors?H0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pd)?Pd:this._anyControlsHaveStatus(H0)?H0:ug}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){$0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Eye(n){return Array.isArray(n)?ck(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Aye(n){return Array.isArray(n)?uk(n):n||null}(this._rawAsyncValidators)}}class mk extends r5{constructor(t,e,i){super(pk(e),gk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function i5(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new R(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function n5(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new R(1e3,"");if(!i[e])throw new R(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Od=new j("CallSetDisabledState",{providedIn:"root",factory:()=>G0}),G0="always";function hg(n,t,e=G0){_k(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Mye(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&s5(n,t)})}(n,t),function Nye(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Rye(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&s5(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function kye(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function j0(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function _k(n,t){const e=function q4(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(W4(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function Y4(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(W4(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();j0(t._rawValidators,r),j0(t._rawAsyncValidators,r)}function s5(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Vye={provide:qi,useExisting:gt(()=>q0)},fg=(()=>Promise.resolve())();let q0=(()=>{class n extends qi{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Q,this.form=new mk({},ck(e),uk(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){fg.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),hg(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){fg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){fg.then(()=>{const i=this._findContainer(e.path),r=new mk({});(function o5(n,t){_k(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){fg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){fg.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function a5(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(b(Mi,10),b(Ha,10),b(Od,8))};static#t=this.\u0275dir=Y({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&re("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[dt([Vye]),St]})}return n})();function l5(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function c5(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const u5=class extends r5{constructor(t=null,e,i){super(pk(e),gk(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=c5(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){l5(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){l5(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){c5(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},$ye={provide:$a,useExisting:gt(()=>xk)},f5=(()=>Promise.resolve())();let xk=(()=>{class n extends $a{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new u5,this._registered=!1,this.name="",this.update=new Q,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function bk(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===L0?e=s:function Lye(n){return Object.getPrototypeOf(n.constructor)===ec}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function yk(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){f5.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&xr(i);f5.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function U0(n,t){return[...t.path,n]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(b(qi,9),b(Mi,10),b(Ha,10),b(Qr,10),b(di,8),b(Od,8))};static#t=this.\u0275dir=Y({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[dt([$ye]),St,Nt]})}return n})(),p5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Y({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),m5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Se({type:n});static#n=this.\u0275inj=we({})}return n})();const Qye={provide:Qr,useExisting:gt(()=>Y0),multi:!0};function C5(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Y0=(()=>{class n extends ec{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=C5(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Zye(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ci(n)))(r||n)}}();static#t=this.\u0275dir=Y({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&re("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[dt([Qye]),St]})}return n})(),K0=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(C5(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(b(Je),b(_r),b(Y0,9))};static#t=this.\u0275dir=Y({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const Jye={provide:Qr,useExisting:gt(()=>Dk),multi:!0};function w5(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Dk=(()=>{class n extends ec{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);r.push(c)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function e0e(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ci(n)))(r||n)}}();static#t=this.\u0275dir=Y({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&re("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[dt([Jye]),St]})}return n})(),X0=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(w5(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(w5(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(b(Je),b(_r),b(Dk,9))};static#t=this.\u0275dir=Y({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),tc=(()=>{class n{constructor(){this._validator=F0}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):F0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Y({type:n,features:[Nt]})}return n})();const i0e={provide:Mi,useExisting:gt(()=>Q0),multi:!0};let Q0=(()=>{class n extends tc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xr,this.createValidator=e=>N4}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=ci(n)))(r||n)}}();static#t=this.\u0275dir=Y({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&He("required",r._enabled?"":null)},inputs:{required:"required"},features:[dt([i0e]),St]})}return n})(),c0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Se({type:n});static#n=this.\u0275inj=we({imports:[m5]})}return n})(),Sk=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Od,useValue:e.callSetDisabledState??G0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Se({type:n});static#n=this.\u0275inj=we({imports:[c0e]})}return n})(),P5=(()=>{class n{constructor(e,i){this.router=e,this.dataService=i,this.anioActual=""}ngOnInit(){this.anioActual=(new Date).getFullYear()+""}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}navegarCreate(){this.router.navigate(["/Create"])}navegarTier(){this.router.navigate(["/Tier"])}toggleMobileMenu(){const e=document.getElementById("menu");e.style.display="block"===e.style.display?"none":"block"}static#e=this.\u0275fac=function(i){return new(i||n)(b(pi),b(cg))};static#t=this.\u0275cmp=_t({type:n,selectors:[["app-sidebar"]],decls:25,vars:0,consts:[[1,"body","col-lg-12","col-12",2,"margin-top","5%"],[1,"row"],[1,"col-lg-10","col-9",2,"margin-top","15%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],["id","btnMenu",1,"btnMenu","col-lg-2","col-3",2,"display","none","margin-top","15%"],[2,"margin","0%",3,"click"],[1,"uil","uil-list-ul"],["id","menu",1,"menu","col-lg-12",2,"margin-left","20%","margin-right","20%"],[3,"click"]],template:function(i,r){1&i&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),xe(4,"img",4),M()(),E(5,"div",5)(6,"button",6),re("click",function(){return r.toggleMobileMenu()}),xe(7,"i",7),M()()(),E(8,"div",8)(9,"ul")(10,"li")(11,"a",9),re("click",function(){return r.navegarAComponenteDestino("Peliculas")}),ue(12,"Peliculas"),M()(),E(13,"li")(14,"a",9),re("click",function(){return r.navegarAComponenteDestino("Series")}),ue(15,"Series"),M()(),E(16,"li")(17,"a",9),re("click",function(){return r.navegarAComponenteDestino("Animes")}),ue(18,"Anime"),M()(),E(19,"li")(20,"a",9),re("click",function(){return r.navegarAComponenteDestino("Juegos")}),ue(21,"Juegos"),M()(),E(22,"li")(23,"a",9),re("click",function(){return r.navegarAComponenteDestino("Libros")}),ue(24,"Libros"),M()()()()())},styles:["a[_ngcontent-%COMP%]{cursor:pointer}a[_ngcontent-%COMP%]:hover{opacity:50%}.menu[_ngcontent-%COMP%]{font-size:1.5rem}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:20%}.btnMenu[_ngcontent-%COMP%]{font-size:2rem}button[_ngcontent-%COMP%]{color:#fff;background-color:transparent;border-style:solid;border-color:#fff}@media (max-width:1000px){.btnMenu[_ngcontent-%COMP%]{display:block!important}.menu[_ngcontent-%COMP%]{display:none}.imgTitle[_ngcontent-%COMP%]{width:80%;margin-left:20%}}"]})}return n})();function d0e(n,t){if(1&n&&(E(0,"option",15),ue(1),M()),2&n){const e=t.$implicit;$("value",e),P(1),yr(e)}}function h0e(n,t){if(1&n&&(E(0,"option",16),ue(1),M()),2&n){const e=t.$implicit,i=de();$("value",e)("selected",e===i.opAnios[0]),P(1),yr(e)}}function f0e(n,t){if(1&n&&(E(0,"option",15),ue(1),M()),2&n){const e=t.$implicit;$("value",e),P(1),yr(e)}}function p0e(n,t){1&n&&(E(0,"span",28),ue(1,"\u2605"),M()),2&n&&yt("filled",t.$implicit<=de().$implicit.score)}const g0e=function(){return[1,2,3,4,5]};function m0e(n,t){if(1&n&&(E(0,"div",17)(1,"div",18)(2,"div",19),xe(3,"img",20),M(),E(4,"div",21)(5,"h5",22),ue(6),M(),E(7,"p"),ue(8),M(),E(9,"div",23)(10,"div",24)(11,"p",25),ue(12),M()()()(),E(13,"div",26),ae(14,p0e,2,2,"span",27),M()()()),2&n){const e=t.$implicit,i=de();Wn("border-color",i.getColor(e.score)),P(3),$("src",e.image,qc),P(3),ui(" ",e.name,""),P(2),ui(" ",e.date,""),P(3),Wn("background-color",i.getColorByType(e.type)),P(1),ui(" ",e.type,""),P(2),$("ngForOf",function KF(n,t,e){const i=Fi()+n,r=L();return r[i]===Be?Ms(r,i,e?t.call(e):t()):function Wh(n,t){return n[t]}(r,i)}(9,g0e))}}const _0e=function(n,t){return{"uil-sort-amount-up":n,"uil-sort-amount-down":t}};let v0e=(()=>{class n{constructor(e,i,r,s,o,a,l,c){this.musicService=e,this.movieService=i,this.libroService=r,this.gameService=s,this.seriesService=o,this.animeService=a,this.router=l,this.dataService=c,this.data=[],this.resultFilter=[],this.movies=[],this.animes=[],this.message="",this.opTipos=[],this.opAnios=[],this.opCalificacion=[],this.selectedCategory="Todos",this.selectedYear=this.opAnios[0],this.selectedScore="Todos",this.currentSortOrder="desc",this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","lightblue","lightGreen","yellow","Pink","White","lightYellow","green","Purple"]],this.opAnios=["2024","2023","2022","2021","2020","2019"],this.opCalificacion=["0","1","2","3","4","5"]}ngOnInit(){this.dataService.typeData||this.router.navigate(["/"]),this.router.events.subscribe(e=>{this.message=this.dataService.typeData,this.loadData()}),this.selectedYear=this.opAnios[0]}loadData(){var e=this;return I(function*(){"Peliculas"===e.message?e.data=yield e.loadDataForType(e.movieService.getMovies()):"Series"===e.message?e.data=yield e.loadDataForType(e.seriesService.getSeries()):"Animes"===e.message?e.data=yield e.loadDataForType(e.animeService.getAnimes()):"Juegos"===e.message?e.data=yield e.loadDataForType(e.gameService.getGames()):"Libros"===e.message?e.data=yield e.loadDataForType(e.libroService.getBook()):"Musica"===e.message&&(e.data=yield e.loadDataForType(e.musicService.getMusic())),e.resultFilter=e.sortData(e.data),console.log(e.resultFilter[0].date),e.resultFilter.forEach(i=>{i.image="data:image/jpg;base64,"+i.image}),e.applyFilters()})()}loadDataForType(e){var i=this;return I(function*(){return(yield e).map(s=>(s.date=i.convertDate(s.date),s))})()}convertDate(e){var r=e.toString().toLowerCase().split("-");return parseInt(r[2],10),r[2]+"-"+r[1]+"-"+r[0]}sortData(e){return e.sort((i,r)=>{const[s,o,a]=i.date.split("-").map(Number),[l,c,u]=r.date.split("-").map(Number);return u!==a?u-a:c!==o?c-o:l-s})}getColorByType(e){const i=this.opTipos[0].indexOf(e);return-1!==i?this.opTipos[1][i]:"greenyellow"}convert(e){var r=e.toString().toLowerCase().split("/");return parseInt(r[2],10)}applyFilters(){this.resultFilter=this.data.filter(e=>"Todos"===this.selectedCategory||e.type===this.selectedCategory).filter(e=>this.convertYear(e)).filter(e=>"Todos"===this.selectedScore||e.score===this.selectedScore)}convertYear(e){const r=e.date.toString().toLowerCase().split("-");return parseInt(r[2],10)+""===this.selectedYear}filterType(e){this.selectedCategory=e.target.value,this.applyFilters()}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}filterScore(e){this.selectedScore=e.target.value,this.applyFilters()}sortDataByScore(){this.resultFilter=this.resultFilter.sort((e,i)=>{const r=e.score,s=i.score;return"asc"===this.currentSortOrder?r-s:s-r}),this.currentSortOrder="asc"===this.currentSortOrder?"desc":"asc"}getColor(e){return 5==e?"gold":"#ded8cf"}static#e=this.\u0275fac=function(i){return new(i||n)(b(k0),b(M0),b(R0),b(N0),b(P0),b(O0),b(pi),b(cg))};static#t=this.\u0275cmp=_t({type:n,selectors:[["app-workplace"]],decls:26,vars:9,consts:[[1,"d-flex","flex-wrap"],[1,"col-12","col-sm-12","col-md-6","col-lg-3"],[1,"col-12","col-sm-12","col-md-6","col-lg-9"],[1,"list",2,"display","flex","flex-wrap","wrap"],[2,"margin-left","2%","margin-top","3%"],[1,"filter","col-lg-10","col-12",2,"margin-top","3%","text-align","end","margin-bottom","3%"],["id","opTipos",3,"change"],["disabled","","selected","",2,"display","none"],[3,"value",4,"ngFor","ngForOf"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","opCalificacion",3,"change"],[3,"click"],[1,"uil",3,"ngClass"],["class","card col-lg-3","style","margin-bottom: 3%; margin-left: 2%; margin-right: 2%;",3,"border-color",4,"ngFor","ngForOf"],[3,"value"],[3,"value","selected"],[1,"card","col-lg-3",2,"margin-bottom","3%","margin-left","2%","margin-right","2%"],[1,"row"],[1,"left","col-lg-4","col-3",2,"text-align","center","margin","1%"],["alt","#",1,"imagen",3,"src"],[1,"right","col-lg-6","col-6",2,"margin","1%"],[2,"font-size","1.1rem"],[1,"row",2,"margin-top","10%"],[1,"type","col-lg-12","col-12"],[1,"etiqueta"],[1,"score","col-lg-1","col-2"],["class","star",3,"filled",4,"ngFor","ngForOf"],[1,"star"]],template:function(i,r){1&i&&(E(0,"div",0)(1,"div",1),xe(2,"app-sidebar"),M(),E(3,"div",2)(4,"div",3)(5,"div",4)(6,"h1"),ue(7),M()(),E(8,"div",5)(9,"select",6),re("change",function(o){return r.filterType(o)}),E(10,"option",7),ue(11,"Categoria"),M(),E(12,"option"),ue(13,"Todos"),M(),ae(14,d0e,2,2,"option",8),M(),E(15,"select",9),re("change",function(o){return r.filterYear(o)}),ae(16,h0e,2,3,"option",10),M(),E(17,"select",11),re("change",function(o){return r.filterScore(o)}),E(18,"option",7),ue(19,"Calificacion"),M(),E(20,"option"),ue(21,"Todos"),M(),ae(22,f0e,2,2,"option",8),M(),E(23,"button",12),re("click",function(){return r.sortDataByScore()}),xe(24,"i",13),M()(),ae(25,m0e,15,10,"div",14),M()()()),2&i&&(P(7),ui("Lista de ",r.message,""),P(7),$("ngForOf",r.opTipos[0]),P(2),$("ngForOf",r.opAnios),P(6),$("ngForOf",r.opCalificacion),P(2),$("ngClass",vu(6,_0e,"asc"===r.currentSortOrder,"desc"===r.currentSortOrder)),P(1),$("ngForOf",r.resultFilter))},dependencies:[AV,zi,K0,X0,P5],styles:['.list[_ngcontent-%COMP%]{max-height:calc(105vh - 60px);overflow-y:auto}.card[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text);border-style:solid;border-color:var(--color-text);font-size:.8rem}.etiqueta[_ngcontent-%COMP%]{width:50%;background-color:#ff0;color:#000;box-shadow:0 0 29px #3c3c3c6b;border-radius:5px;font-family:"Hedvig Letters Serif",serif;text-align:center;text-decoration:none}.imagen[_ngcontent-%COMP%]{width:90%;height:130px}.star[_ngcontent-%COMP%]{font-size:18px;color:gray;cursor:pointer}.filled[_ngcontent-%COMP%]{color:gold}select[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}button[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}@media (max-width:1000px){.card[_ngcontent-%COMP%]{width:100%}.imagen[_ngcontent-%COMP%]{width:100%;height:100px;margin:15%}.etiqueta[_ngcontent-%COMP%]{font-size:.8rem}select[_ngcontent-%COMP%]{font-size:1rem}}']})}return n})(),O5=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml",this.firestore=ee(Ys)}getReco(){var e=this;return I(function*(){const i=ar(e.firestore,"recomendacion");return(yield Zl(i)).docs.map(s=>s.data())})()}createReco(e,i){var r=this;return I(function*(){const s=ar(r.firestore,"recomendacion");Ql(s,{name:e,type:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),y0e=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u){this.router=e,this.dataService=i,this.recoService=r,this.musicService=s,this.movieService=o,this.libroService=a,this.gameService=l,this.seriesService=c,this.animeService=u,this.tipos=["Peliculas","Series","Animes","Juegos","Libros","Musica"],this.recomendaciones=[],this.single=[],this.single2=[],this.valor=0,this.dataMovie=[],this.years=[2023,2022],this.progress={2023:30,2022:70}}getProgressWidth(e){return(this.progress[e]||0)+"%"}ngOnInit(){var e=this;return I(function*(){e.single2=yield e.loadData(2022),e.single=yield e.loadData(2023),yield e.readReco()})()}loadData(e){var i=this;return I(function*(){var r=yield i.movieService.getMovies(),s=yield i.seriesService.getSeries(),o=yield i.animeService.getAnimes(),a=yield i.gameService.getGames(),l=yield i.libroService.getBook(),c=yield i.musicService.getMusic();return[{name:"Peliculas",value:i.cantidadPorAnio(r,e)},{name:"Series",value:i.cantidadPorAnio(s,e)},{name:"Animes",value:i.cantidadPorAnio(o,e)},{name:"Juegos",value:i.cantidadPorAnio(a,e)},{name:"Libros",value:i.cantidadPorAnio(l,e)},{name:"Musica",value:i.cantidadPorAnio(c,e)}]})()}cantidadPorAnio(e,i){return e.filter(s=>this.convert(s.date)===i).length}convert(e){var r=e.toString().toLowerCase().split("-");return parseInt(r[0],10)}filterByScore(e){const i=(new Date).getFullYear();return e.filter(r=>r.score>=5&&this.convert(r.date)==i)}filterByTipo(e,i){return e.filter(r=>r.type===i)}saveReco(){this.recoService.createReco(this.nameReco,this.tipo),this.readReco()}readReco(){var e=this;return I(function*(){e.recomendaciones=yield e.recoService.getReco()})()}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}navegarCreate(){this.router.navigate(["/Create"])}navegarTier(){this.router.navigate(["/Tier"])}navegarList(){this.router.navigate(["/ListNext"])}static#e=this.\u0275fac=function(i){return new(i||n)(b(pi),b(cg),b(O5),b(k0),b(M0),b(R0),b(N0),b(P0),b(O0))};static#t=this.\u0275cmp=_t({type:n,selectors:[["app-home"]],decls:61,vars:0,consts:[[1,"container"],[1,"body"],[1,"top","col-lg-12"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"menu","px-4","text-center"],[1,"row","gx-5"],[1,"col"],[1,"p-3","box",3,"click"],[1,"uil","uil-film"],[1,"uil","uil-video"],[1,"uil","uil-airplay"],[1,"uil","uil-basketball-hoop"],[1,"uil","uil-book-open"],[1,"uil","uil-volume"],[2,"margin-top","5%","margin-left","3%"],[1,"menu2","px-4","text-center"],[1,"uil","uil-subject"],[1,"uil","uil-chart-pie"],[1,"p-3","box"],[1,"uil","uil-create-dashboard"]],template:function(i,r){1&i&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),xe(4,"img",4),M()(),E(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),re("click",function(){return r.navegarAComponenteDestino("Peliculas")}),xe(9,"i",9),E(10,"h5"),ue(11,"Peliculas"),M()()(),E(12,"div",7)(13,"div",8),re("click",function(){return r.navegarAComponenteDestino("Series")}),xe(14,"i",10),E(15,"h5"),ue(16,"Series"),M()()(),E(17,"div",7)(18,"div",8),re("click",function(){return r.navegarAComponenteDestino("Animes")}),xe(19,"i",11),E(20,"h5"),ue(21,"Animes"),M()()(),E(22,"div",7)(23,"div",8),re("click",function(){return r.navegarAComponenteDestino("Juegos")}),xe(24,"i",12),E(25,"h5"),ue(26,"VideoJuegos"),M()()(),E(27,"div",7)(28,"div",8),re("click",function(){return r.navegarAComponenteDestino("Libros")}),xe(29,"i",13),E(30,"h5"),ue(31,"Libros"),M()()(),E(32,"div",7)(33,"div",8),re("click",function(){return r.navegarAComponenteDestino("Musica")}),xe(34,"i",14),E(35,"h5"),ue(36,"Musica"),M()()()()(),E(37,"div",15),ue(38," Otras ... "),M(),E(39,"div",16)(40,"div",6)(41,"div",7)(42,"div",8),re("click",function(){return r.navegarTier()}),xe(43,"i",17),E(44,"h5"),ue(45,"Tier"),M()()(),E(46,"div",7)(47,"div",8),re("click",function(){return r.navegarList()}),xe(48,"i",18),E(49,"h5"),ue(50,"Recomendaciones"),M()()(),E(51,"div",7)(52,"div",19),xe(53,"i",18),E(54,"h5"),ue(55,"Estadisticas"),M()()(),E(56,"div",7)(57,"div",8),re("click",function(){return r.navegarCreate()}),xe(58,"i",20),E(59,"h5"),ue(60,"Crear"),M()()()()()()())},styles:[".body[_ngcontent-%COMP%]{background-color:#1f1d3a;margin:5%;padding-bottom:10%;border-radius:5px}.top[_ngcontent-%COMP%]{padding-top:3%}.box[_ngcontent-%COMP%]{cursor:pointer;background-color:#373458;color:#fff;border-radius:5px;margin-top:10%}.box[_ngcontent-%COMP%]:hover{background-color:#504c81}i[_ngcontent-%COMP%]{font-size:50px}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}"]})}return n})();class b0e{static getFormData(t){var e=new FormData;for(var i in t)e.append(i,t[i]);return e}static imageToByte(t){return new Promise((i,r)=>{const s=new FileReader;s.onload=o=>{i(o.target.result.split("base64,")[1])},s.readAsDataURL(t),s.onerror=r})}static byteToImage(t){return this._sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+t)}}function x0e(n,t){if(1&n&&(E(0,"option",19),ue(1),M()),2&n){const e=t.$implicit;$("value",e),P(1),yr(e)}}function T0e(n,t){if(1&n&&(E(0,"option",19),ue(1),M()),2&n){const e=t.$implicit;$("value",e),P(1),yr(e)}}function C0e(n,t){if(1&n){const e=Hi();E(0,"div",7)(1,"div",8)(2,"div",9)(3,"label"),ue(4,"Tipo:"),M()(),E(5,"div",10)(6,"select",20),re("ngModelChange",function(r){return cn(e),un(de().data.type=r)}),ae(7,T0e,2,2,"option",15),M()()()()}if(2&n){const e=de();P(6),$("ngModel",e.data.type),P(1),$("ngForOf",e.opTipos[0])}}let w0e=(()=>{class n{constructor(e,i,r,s,o,a,l,c){this.router=e,this.dataService=i,this.musicService=r,this.libroService=s,this.juegosService=o,this.animeService=a,this.movieService=l,this.serieServicio=c,this.data={},this.opTipos=[],this.opCalificacion=[],this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","blue","green","yellow","Pink","White","lightYellow","lightblue","Purple"]],this.opCalificacion=["0","1","2","3","4","5"]}registrarFacilidad(){}obtenerImagen(e){b0e.imageToByte(e.target.files[0]).then(s=>{this.data.image=s})}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}onSubmit(){console.log("EXIT "),"Peliculas"==this.tipo&&this.movieService.createMovies(this.data),"Series"==this.tipo&&this.serieServicio.createSeries(this.data),"Animes"==this.tipo&&this.animeService.createAnimes(this.data),"Juegos"==this.tipo&&this.juegosService.createGames(this.data),"Libros"==this.tipo&&this.libroService.createBook(this.data),"Musica"==this.tipo&&this.musicService.createMusic(this.data),this.navegarAComponenteDestino(this.tipo)}static#e=this.\u0275fac=function(i){return new(i||n)(b(pi),b(cg),b(k0),b(R0),b(N0),b(O0),b(M0),b(P0))};static#t=this.\u0275cmp=_t({type:n,selectors:[["app-create"]],decls:44,vars:7,consts:[[1,"container","col-lg-12",2,"margin-top","5%"],[3,"ngSubmit"],["movieForm","ngForm"],[1,"container","col-lg-6"],[1,"top","col-lg-12",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"col-lg-12"],[1,"row"],[1,"col-lg-3"],[1,"col-lg-9"],["name","tipo","id","tipo",3,"ngModel","ngModelChange"],["type","text","id","name","name","name","placeholder","Name","required","",3,"ngModel","ngModelChange"],["type","date","id","date","name","date","required","",3,"ngModel","ngModelChange"],["id","score","name","score",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-lg-12",4,"ngIf"],["id","formFileLg","name","formFileLg","type","file","accept","image/png, .jpeg, .jpg, image/gif",3,"change"],["type","submit",3,"disabled"],[3,"value"],["id","type","name","type",3,"ngModel","ngModelChange"]],template:function(i,r){if(1&i&&(E(0,"div",0)(1,"form",1,2),re("ngSubmit",function(){return r.onSubmit()}),E(3,"div",3)(4,"div",4)(5,"a",5),xe(6,"img",6),M()(),E(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),ue(11,"Categoria:"),M()(),E(12,"div",10)(13,"select",11),re("ngModelChange",function(o){return r.tipo=o}),E(14,"option"),ue(15,"Peliculas"),M(),E(16,"option"),ue(17,"Series"),M(),E(18,"option"),ue(19,"Animes"),M(),E(20,"option"),ue(21,"Juegos"),M(),E(22,"option"),ue(23,"Libros"),M(),E(24,"option"),ue(25,"Musica"),M()()()()(),E(26,"div",7)(27,"input",12),re("ngModelChange",function(o){return r.data.name=o}),M()(),E(28,"div",7)(29,"input",13),re("ngModelChange",function(o){return r.data.date=o}),M()(),E(30,"div",7)(31,"div",8)(32,"div",9)(33,"label"),ue(34,"Calificacion:"),M()(),E(35,"div",10)(36,"select",14),re("ngModelChange",function(o){return r.data.score=o}),ae(37,x0e,2,2,"option",15),M()()()(),ae(38,C0e,8,2,"div",16),E(39,"div",7)(40,"input",17),re("change",function(o){return r.obtenerImagen(o)}),M()(),E(41,"div",7)(42,"button",18),ue(43,"Submit"),M()()()()()),2&i){const s=function rs(n){return function Ic(n,t){return n[t]}(function B7(){return Ie.lFrame.contextLView}(),Ze+n)}(2);P(13),$("ngModel",r.tipo),P(14),$("ngModel",r.data.name),P(2),$("ngModel",r.data.date),P(7),$("ngModel",r.data.score),P(1),$("ngForOf",r.opCalificacion),P(1),$("ngIf","Juegos"!==r.tipo&&"Musica"!==r.tipo),P(4),$("disabled",!s.valid)}},dependencies:[zi,Wr,p5,K0,X0,L0,Y0,J4,e5,Q0,xk,q0],styles:["input[_ngcontent-%COMP%]{width:100%;margin-bottom:4%}button[_ngcontent-%COMP%]{width:100%}select[_ngcontent-%COMP%]{width:100%;margin-bottom:4%}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}"]})}return n})();function D0e(n,t){if(1&n&&(E(0,"option",9),ue(1),M()),2&n){const e=t.$implicit,i=de();$("value",e)("selected",e===i.opAnios[0]),P(1),yr(e)}}function S0e(n,t){if(1&n&&(E(0,"div",14),xe(1,"img",15),M()),2&n){const e=t.$implicit;P(1),T_("title",e.name),$("src",e.image,qc)}}function E0e(n,t){if(1&n&&(E(0,"div")(1,"div",10)(2,"div",11)(3,"h5"),ue(4),M()(),E(5,"div",12),ae(6,S0e,2,2,"div",13),M()()()),2&n){const e=t.$implicit,i=de();P(2),Wn("background-color",i.tier[1][e]),P(2),yr(i.categorias[e]),P(2),$("ngForOf",i.dataScore(i.resultFilter,i.categorias.length-e))}}let A0e=(()=>{class n{constructor(e,i,r,s,o,a,l){this.router=e,this.musicService=i,this.animeService=r,this.movieService=s,this.seriesService=o,this.gameService=a,this.libroService=l,this.categorias=["Dioos","Buenas","Normal","Malas","Olvidables"],this.data=[],this.anioActual="",this.opAnios=["2024","2023","2022","2021","2020","2019","Todos"],this.selectedYear=this.opAnios[0],this.resultFilter=[],this.resultCount=0,this.tier=[[0,1,2,3,4],["#FF7F7F","#FFBF7F","#FFDF7F","#FFFF7F","#BFFF7F"]]}ngOnInit(){}loadData(e){var i=this;return I(function*(){"Peliculas"===e?i.data=yield i.loadDataForType(i.movieService.getMovies()):"Series"===e?i.data=yield i.loadDataForType(i.seriesService.getSeries()):"Animes"===e?i.data=yield i.loadDataForType(i.animeService.getAnimes()):"Juegos"===e?i.data=yield i.loadDataForType(i.gameService.getGames()):"Libros"===e?i.data=yield i.loadDataForType(i.libroService.getBook()):"Musica"===e&&(i.data=yield i.loadDataForType(i.musicService.getMusic())),console.log(i.selectedYear),i.applyFilters(),i.data.forEach(r=>{r.image="data:image/jpg;base64,"+r.image}),i.resultFilter=i.data,i.resultCount=i.resultFilter.length})()}loadDataForType(e){return I(function*(){return(yield e).map(r=>r)})()}convertYear(e){const i=e.split("-");return parseInt(i[0],10)+""}dataScore(e,i){return e.filter(r=>r.score==i)}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}applyFilters(){"Todos"===this.selectedYear?(this.resultFilter=this.data,console.log(1)):(this.data=this.data.filter(e=>this.convertYear(e.date)==this.selectedYear),console.log(2))}navegarHome(){this.router.navigate(["./"])}static#e=this.\u0275fac=function(i){return new(i||n)(b(pi),b(k0),b(O0),b(M0),b(P0),b(N0),b(R0))};static#t=this.\u0275cmp=_t({type:n,selectors:[["app-tier"]],decls:30,vars:3,consts:[[2,"margin","5%"],[1,"row",2,"margin-bottom","5%"],[1,"col-lg-1"],[3,"click"],[1,"col-lg-2"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"resultCount"],[3,"value","selected"],[1,"row",2,"margin-bottom","1%"],[1,"izq","col-lg-2"],[1,"der","col-lg-10"],["style","display: inline;",4,"ngFor","ngForOf"],[2,"display","inline"],["alt","#",1,"imagen",3,"title","src"]],template:function(i,r){1&i&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),re("click",function(){return r.navegarHome()}),ue(4,"Home"),M()(),E(5,"div",4)(6,"button",3),re("click",function(){return r.loadData("Peliculas")}),ue(7,"Peliculas"),M()(),E(8,"div",4)(9,"button",3),re("click",function(){return r.loadData("Series")}),ue(10,"Series"),M()(),E(11,"div",4)(12,"button",3),re("click",function(){return r.loadData("Animes")}),ue(13,"Animes"),M()(),E(14,"div",4)(15,"button",3),re("click",function(){return r.loadData("Juegos")}),ue(16,"Juegos"),M()(),E(17,"div",4)(18,"button",3),re("click",function(){return r.loadData("Libros")}),ue(19,"Libros"),M()(),E(20,"div",4)(21,"button",3),re("click",function(){return r.loadData("Musica")}),ue(22,"Musica"),M()(),E(23,"div",2)(24,"select",5),re("change",function(o){return r.filterYear(o)}),ae(25,D0e,2,3,"option",6),M()()(),ae(26,E0e,7,4,"div",7),E(27,"div",8)(28,"h5"),ue(29),M()()()),2&i&&(P(25),$("ngForOf",r.opAnios),P(1),$("ngForOf",r.tier[0]),P(3),ui("Total: ",r.resultCount,""))},dependencies:[zi,K0,X0],styles:[".imagen[_ngcontent-%COMP%]{width:80px;height:130px;margin-right:1%;margin-bottom:1%;margin-top:1%}.izq[_ngcontent-%COMP%]{border-style:solid;border-color:#000;color:#000;display:flex;align-items:center;justify-content:center}.der[_ngcontent-%COMP%]{border-style:solid;border-color:#000;border-left:none;background-color:#1f1d3a}button[_ngcontent-%COMP%]{width:100%;border-style:solid;border-color:#fff;color:#fff;background-color:transparent}button[_ngcontent-%COMP%]:hover{background-color:#5b4f43}select[_ngcontent-%COMP%]{width:100%;border-style:solid;border-color:#fff;color:#fff;background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}.resultCount[_ngcontent-%COMP%]{text-align:right}"]})}return n})(),I0e=(()=>{class n{constructor(e){this.http=e,this.apiUrl="https://api.jikan.moe/v4/anime"}getAnimeByPage(e){return this.http.get(`${this.apiUrl}?page=${e}`)}searchAnimesByName(e,i){return this.http.get(`${this.apiUrl}?q=${e}&page=${i}`)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Fo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const k0e=["addListener","removeListener"],M0e=["addEventListener","removeEventListener"],R0e=["on","off"];function bi(n,t,e,i){if(Ke(e)&&(i=e,e=void 0),i)return bi(n,t,e).pipe(s1(i));const[r,s]=function O0e(n){return Ke(n.addEventListener)&&Ke(n.removeEventListener)}(n)?M0e.map(o=>a=>n[o](t,a,e)):function N0e(n){return Ke(n.addListener)&&Ke(n.removeListener)}(n)?k0e.map(L5(n,t)):function P0e(n){return Ke(n.on)&&Ke(n.off)}(n)?R0e.map(L5(n,t)):[];if(!r&&cx(n))return Bn(o=>bi(o,t,e))(Mn(n));if(!r)throw new TypeError("Invalid event target");return new lt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function L5(n,t){return e=>i=>n[e](t,i)}function pg(n=0,t,e=jue){let i=-1;return null!=t&&(bR(t)?e=t:i=t),new lt(r=>{let s=function L0e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:F0e}=Array;function F5(n){return 1===n.length&&F0e(n[0])?n[0]:n}function Z0(...n){const t=om(n),e=F5(n);return e.length?new lt(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)Mn(e[o]).subscribe(Et(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Fr}function Ek(...n){const t=om(n);return Yt((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Mn(n[l]).subscribe(Et(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Lr))&&(o=null))},Ot));e.subscribe(Et(i,l=>{if(a){const c=[l,...s];i.next(t?t(...c):c)}}))})}new lt(Ot),Math,Math,Math;const Qbe=["*"],gxe=["dialog"];function rc(n){return null!=n}function Hd(n){return(n||document.body).getBoundingClientRect()}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const iW={animation:!0,transitionTimerDelayMs:5},uTe=()=>{},{transitionTimerDelayMs:dTe}=iW,xg=new Map,Yi=(n,t,e,i)=>{let r=i.context||{};const s=xg.get(t);if(s)switch(i.runningTransition){case"continue":return Fr;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),xg.delete(t)}const o=e(t,i.animation,r)||uTe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),Te(void 0).pipe(function lTe(n){return t=>new lt(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new De,l=new De,c=a.pipe(function B0e(...n){return t=>xf(t,Te(...n))}(!0));xg.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function cTe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const d=bi(t,"transitionend").pipe(nn(c),fi(({target:f})=>f===t));(function V5(...n){return 1===(n=F5(n)).length?Mn(n[0]):new lt(function V0e(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(Mn(n[i]).subscribe(Et(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(pg(u+dTe).pipe(nn(c)),d,l).pipe(nn(c)).subscribe(()=>{xg.delete(t),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let rb=(()=>{class n{constructor(){this.animation=iW.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi]]}),n})(),uW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi]]}),n})(),hW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({}),n})(),gW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi]]}),n})(),mW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({}),n})();var xi=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(xi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const vW=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function yW(n){const t=Array.from(n.querySelectorAll(vW)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let EW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi,Sk]]}),n})(),Wk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Y({type:n,selectors:[["",8,"navbar"]]}),n})(),kW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({}),n})();class ac{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let iCe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Pn(1)).subscribe(()=>{Yi(this._zone,this._el.nativeElement,(e,i)=>{i&&Hd(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Yi(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(b(Je),b(Le))},n.\u0275cmp=_t({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(sa("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),yt("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class MW{close(t){}dismiss(t){}}class rCe{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new De,this._dismissed=new De,this._hidden=new De,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(nn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(nn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function oTe(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Te(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Z0(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var qk=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(qk||{});let sCe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new De,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Q,this.shown=new De,this.hidden=new De}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Pn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=Z0(Yi(this._zone,e,()=>e.classList.remove("show"),i),Yi(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};Z0(Yi(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Hd(s),s.classList.add("show")},e),Yi(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{bi(e,"keydown").pipe(nn(this._closed$),fi(r=>r.which===xi.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(qk.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;bi(this._dialogEl.nativeElement,"mousedown").pipe(nn(this._closed$),On(()=>i=!1),Ki(()=>bi(e,"mouseup").pipe(nn(this._closed$),Pn(1))),fi(({target:r})=>e===r)).subscribe(()=>{i=!0}),bi(e,"click").pipe(nn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(qk.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=yW(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Yi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(b(Gt),b(Je),b(Le))},n.\u0275cmp=_t({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&af(gxe,7),2&e){let r;Lt(r=Ft())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(He("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),sa("modal d-block"+(i.windowClass?" "+i.windowClass:"")),yt("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Qbe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(function b_(n){const t=L()[xn][Ci];if(!t.projection){const i=t.projection=Ih(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?iZ(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}(),E(0,"div",0,1)(2,"div",2),function x_(n,t=0,e){const i=L(),r=ut(),s=ru(r,Ze+n,16,null,e||null);null===s.projection&&(s.projection=t),Vx(),(!i[oo]||kc())&&32!=(32&s.flags)&&function aK(n,t,e){EP(t[Oe],0,t,e,dT(n,e,t),xP(e.parent||t[Ci],e,t))}(r,i,s)}(3),M()()),2&e&&sa("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),oCe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}}return n.\u0275fac=function(e){return new(e||n)(O(Gt))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aCe=(()=>{class n{constructor(e,i,r,s,o,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new De,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Q,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=bi(t,"focusin").pipe(nn(e),Ge(s=>s.target));bi(t,"keydown").pipe(nn(e),fi(s=>s.which===xi.Tab),Ek(r)).subscribe(([s,o])=>{const[a,l]=yW(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&bi(t,"click").pipe(nn(e),Ek(r),Ge(s=>s[1])).subscribe(s=>s.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,s){const o=s.container instanceof HTMLElement?s.container:rc(s.container)?this._document.querySelector(s.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.hide(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const u=new MW,d=this._getContentRef(e,s.injector||i,r,u,s);let h=!1!==s.backdrop?this._attachBackdrop(e,o):void 0,f=this._attachWindowComponent(e,o,d),p=new rCe(f,d,h,s.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(f),p.result.then(l,l),p.result.then(c,c),u.close=m=>{p.close(m)},u.dismiss=m=>{p.dismiss(m)},this._applyWindowOptions(f.instance,s),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,s),h.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(iCe).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let o=e.resolveComponentFactory(sCe).create(this._injector,r.nodes);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{rc(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{rc(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,o){return r?r instanceof tn?this._createFromTemplateRef(r,s):function nW(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new ac([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new ac([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new ac([[i]])}_createFromComponent(e,i,r,s,o){const a=e.resolveComponentFactory(r),l=Rn.create({providers:[{provide:MW,useValue:s}],parent:i}),c=a.create(l),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new ac([[u]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(O(go),O(Rn),O(Gt),O(oCe),O(eu),O(Le))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lCe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(O(rb))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cCe=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(O(Zc),O(Rn),O(aCe),O(lCe))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({providers:[cCe]}),n})(),LW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi]]}),n})(),zW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi]]}),n})(),WW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi]]}),n})(),qW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi]]}),n})(),YW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi]]}),n})(),KW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi]]}),n})(),XW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi]]}),n})(),QW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({}),n})();new j("live announcer delay",{providedIn:"root",factory:function TCe(){return 100}});let ZW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi]]}),n})();const CCe=[cW,uW,hW,gW,mW,EW,kW,RW,LW,zW,WW,qW,YW,KW,XW,QW,ZW];let wCe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[CCe,cW,uW,hW,gW,mW,EW,kW,RW,LW,zW,WW,qW,YW,KW,XW,QW,ZW]}),n})();function JW(n,t=0){return function DCe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function lr(n){return n instanceof Je?n.nativeElement:n}const Sg={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Sg;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Ve(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Sg;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Sg;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},e8=new class ACe extends Gv{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class ECe extends $v{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Sg.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Sg.cancelAnimationFrame(e),t._scheduled=void 0)}});let Qk,ICe=1;const hb={};function t8(n){return n in hb&&(delete hb[n],!0)}const kCe={setImmediate(n){const t=ICe++;return hb[t]=!0,Qk||(Qk=Promise.resolve()),Qk.then(()=>t8(t)&&n()),t},clearImmediate(n){t8(n)}},{setImmediate:MCe,clearImmediate:RCe}=kCe,fb={setImmediate(...n){const{delegate:t}=fb;return(t?.setImmediate||MCe)(...n)},clearImmediate(n){const{delegate:t}=fb;return(t?.clearImmediate||RCe)(n)},delegate:void 0};new class PCe extends Gv{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class NCe extends $v{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=fb.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(fb.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function n8(n,t=Lu){return function LCe(n){return Yt((t,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(Et(e,c=>{i=!0,r=c,s||Mn(n(c)).subscribe(s=Et(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>pg(n,t))}let Zk;try{Zk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Zk=!1}let Eg,Jk,i8=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Cu(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Zk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(O(tr))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ag(n){return function FCe(){if(null==Eg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Eg=!0}))}finally{Eg=Eg||!1}return Eg}()?n:!!n.capture}function s8(n){if(function VCe(){if(null==Jk){const n=typeof document<"u"?document.head:null;Jk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Jk}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function gb(n){return n.composedPath?n.composedPath()[0]:n.target}let HCe=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new De,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new lt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(n8(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Te()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(fi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=lr(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>bi(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Le),O(i8),O(Gt,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GCe=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new De,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(n8(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(O(i8),O(Le),O(Gt,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Se({type:n});static#n=this.\u0275inj=we({})}return n})();const owe=new j("cdk-dir-doc",{providedIn:"root",factory:function awe(){return ee(Gt)}}),lwe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let c8=(()=>{class n{constructor(e){this.value="ltr",this.change=new Q,e&&(this.value=function cwe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?lwe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(O(owe,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eM(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function zd(n,t){const e=t?"":"none";eM(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function u8(n,t,e){eM(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function mb(n,t){return t&&"none"!=t?n+" "+t:n}function d8(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function tM(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function nM(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function iM(n,t,e){const{top:i,bottom:r,left:s,right:o}=n;return e>=i&&e<=r&&t>=s&&t<=o}function Ig(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function h8(n,t,e,i){const{top:r,right:s,bottom:o,left:a,width:l,height:c}=n,u=l*t,d=c*t;return i>r-d&&i<o+d&&e>a-u&&e<s+u}class f8{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:nM(e)})})}handleScroll(t){const e=gb(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let s,o;if(e===this._document){const c=this.getViewportScrollPosition();s=c.top,o=c.left}else s=e.scrollTop,o=e.scrollLeft;const a=r.top-s,l=r.left-o;return this.positions.forEach((c,u)=>{c.clientRect&&e!==u&&e.contains(u)&&Ig(c.clientRect,a,l)}),r.top=s,r.left=o,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function p8(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?_8(n,t):("input"===i||"select"===i||"textarea"===i)&&m8(n,t),g8("canvas",n,t,_8),g8("input, textarea, select",n,t,m8),t}function g8(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let o=0;o<r.length;o++)i(r[o],s[o])}}let dwe=0;function m8(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${dwe++}`)}function _8(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const v8=Ag({passive:!0}),_b=Ag({passive:!1}),rM=new Set(["position"]);class fwe{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>zd(e,t)))}constructor(t,e,i,r,s,o){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new De,this._pointerMoveSubscription=Ve.EMPTY,this._pointerUpSubscription=Ve.EMPTY,this._scrollSubscription=Ve.EMPTY,this._resizeSubscription=Ve.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new De,this.started=new De,this.released=new De,this.ended=new De,this.entered=new De,this.exited=new De,this.dropped=new De,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const f=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),p=this._dropContainer;if(!f)return void this._endDragSequence(a);(!p||!p.isDragging()&&!p.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const u=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=c.x-u.x+this._passiveTransform.x,d.y=c.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new f8(i),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>lr(i)),this._handles.forEach(i=>zd(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=lr(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,_b),e.addEventListener("touchstart",this._pointerDown,v8),e.addEventListener("dragstart",this._nativeDragStart,_b)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?lr(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),zd(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),zd(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){kg(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),u8(i,!1,rM),this._document.body.appendChild(r.replaceChild(s,i)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=kg(e),s=!r&&0!==e.button,o=this._rootElement,a=gb(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?function iwe(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function nwe(n){return 0===n.buttons||0===n.detail}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||l||c)return;if(this._handles.length){const h=o.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=nM(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){u8(this._rootElement,!0,rM),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),s=this._getDragDistance(r),o=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,o,s,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const s=t.matchSize?this._initialClientRect:null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),r=b8(o,this._document),this._previewRef=o,t.matchSize?x8(r,s):r.style.transform=vb(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=p8(this._rootElement),x8(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return eM(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},rM),zd(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>r.classList.add(s)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function uwe(n){const t=getComputedStyle(n),e=tM(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=e.indexOf(i),s=tM(t,"transition-duration"),o=tM(t,"transition-delay");return d8(s[r])+d8(o[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=o=>{(!o||gb(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=b8(this._placeholderRef,this._document)):i=p8(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,s=r?r.getBoundingClientRect():t,o=kg(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:s.left-t.left+(o.pageX-s.left-a.left),y:s.top-t.top+(o.pageY-s.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=kg(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=s,a.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+o,d=a.bottom-(c-o);i=y8(i,a.left+s,a.right-(l-s)),r=y8(r,u,d)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-s.x),a=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>s.x?1:-1,s.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,zd(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,_b),t.removeEventListener("touchstart",this._pointerDown,v8),t.removeEventListener("dragstart",this._nativeDragStart,_b)}_applyRootElementTransform(t,e){const i=vb(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=mb(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=vb(t,e);this._preview.style.transform=mb(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,o=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(s>0&&(t+=s),o>0&&(t-=o)):t=0,r.height>i.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:kg(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=gb(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Ig(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=s8(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return lr(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function vb(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function y8(n,t,e){return Math.max(t,Math.min(e,n))}function kg(n){return"t"===n.type[0]}function b8(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function x8(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=vb(t.left,t.top)}function Mg(n,t){return Math.max(0,Math.min(t,n))}class gwe{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===o&&s.length>0)return null;const a="horizontal"===this.orientation,l=s.findIndex(g=>g.drag===t),c=s[o],d=c.clientRect,h=l>o?1:-1,f=this._getItemOffsetPx(s[l].clientRect,d,h),p=this._getSiblingOffsetPx(l,s,h),m=s.slice();return function pwe(n,t,e){const i=Mg(t,n.length-1),r=Mg(e,n.length-1);if(i===r)return;const s=n[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)n[a]=n[a+o];n[r]=s}(s,l,o),s.forEach((g,v)=>{if(m[v]===g)return;const _=g.drag===t,y=_?f:p,x=_?t.getPlaceholderElement():g.drag.getRootElement();g.offset+=y,a?(x.style.transform=mb(`translate3d(${Math.round(g.offset)}px, 0, 0)`,g.initialTransform),Ig(g.clientRect,0,y)):(x.style.transform=mb(`translate3d(0, ${Math.round(g.offset)}px, 0)`,g.initialTransform),Ig(g.clientRect,y,0))}),this._previousSwap.overlaps=iM(d,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:o}}enter(t,e,i,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,o=this._activeDraggables,a=o.indexOf(t),l=t.getPlaceholderElement();let c=o[s];if(c===t&&(c=o[s+1]),!c&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const u=c.getRootElement();u.parentElement.insertBefore(l,u),o.splice(s,0,t)}else lr(this._element).appendChild(l),o.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Ig(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:nM(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let s=r?e.left-t.left:e.top-t.top;return-1===i&&(s+=r?e.width-t.width:e.height-t.height),s}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,s=e[t].clientRect,o=e[t+-1*i];let a=s[r?"width":"height"]*i;if(o){const l=r?"left":"top",c=r?"right":"bottom";-1===i?a-=o.clientRect[l]-s[c]:a+=s[l]-o.clientRect[c]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return r?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return r?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==t&&((!r||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==o&&this._sortPredicate(o,t)?o:-1}}class mwe{constructor(t,e,i,r,s){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new De,this.entered=new De,this.exited=new De,this.dropped=new De,this.sorted=new De,this.receivingStarted=new De,this.receivingStopped=new De,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ve.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new De,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function swe(n=0,t=Lu){return n<0&&(n=0),pg(n,n,t)}(0,e8).pipe(nn(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?o.scrollBy(0,-a):2===this._verticalScrollDirection&&o.scrollBy(0,a),1===this._horizontalScrollDirection?o.scrollBy(-a,0):2===this._horizontalScrollDirection&&o.scrollBy(a,0)})},this.element=lr(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new f8(i),this._sortStrategy=new gwe(this.element,e),this._sortStrategy.withSortPredicate((o,a)=>this.sortPredicate(o,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,s,o,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:a,event:l})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=lr(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!h8(this._clientRect,.05,e,i))return;const s=this._sortStrategy.sort(t,e,i,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,s=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||h8(o.clientRect,.05,t,e)&&([r,s]=function _we(n,t,e,i){const r=w8(t,i),s=D8(t,e);let o=0,a=0;if(r){const l=n.scrollTop;1===r?l>0&&(o=1):n.scrollHeight-l>n.clientHeight&&(o=2)}if(s){const l=n.scrollLeft;1===s?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,t,e),(r||s)&&(i=a))}),!r&&!s){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};r=w8(l,e),s=D8(l,t),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=lr(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=lr(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=lr(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&iM(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!iM(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const s=lr(this.element);return r===s||s.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=s8(lr(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function w8(n,t){const{top:e,bottom:i,height:r}=n,s=.05*r;return t>=e-s&&t<=e+s?1:t>=i-s&&t<=i+s?2:0}function D8(n,t){const{left:e,right:i,width:r}=n,s=.05*r;return t>=e-s&&t<=e+s?1:t>=i-s&&t<=i+s?2:0}const yb=Ag({passive:!1,capture:!0});let vwe=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new De,this.pointerUp=new De,this.scroll=new De,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,yb)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,yb)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:yb}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:yb}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new lt(r=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&r.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),cm(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Le),O(Gt))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ywe={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let sM=(()=>{class n{constructor(e,i,r,s){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(e,i=ywe){return new fwe(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new mwe(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Gt),O(Le),O(GCe),O(vwe))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const oM=new j("CDK_DRAG_PARENT"),aM=new j("CdkDragHandle"),S8=new j("CdkDragPlaceholder"),E8=new j("CdkDragPreview"),A8=new j("CDK_DRAG_CONFIG"),I8=new j("CdkDropList");let k8=(()=>{class n{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}constructor(e,i,r,s,o,a,l,c,u,d,h){this.element=e,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=o,this._dir=l,this._changeDetectorRef=u,this._selfHandle=d,this._parentDrag=h,this._destroyed=new De,this.started=new Q,this.released=new Q,this.ended=new Q,this.entered=new Q,this.exited=new Q,this.dropped=new Q,this.moved=new lt(f=>{const p=this._dragRef.moved.pipe(Ge(m=>({source:this,pointerPosition:m.pointerPosition,event:m.event,delta:m.delta,distance:m.distance}))).subscribe(f);return()=>{p.unsubscribe()}}),this._dragRef=c.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:a?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Pn(1),nn(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):lr(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:JW(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(Pn(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:s,previewClass:o,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:u}=e;this.disabled=l??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),o&&(this.previewClass=o),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.changes.pipe(gl(this._handles),On(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Ki(e=>cm(...e.map(i=>i._stateChanges.pipe(gl(i))))),nn(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}static#t=this.\u0275fac=function(i){return new(i||n)(b(Je),b(I8,12),b(Gt),b(Le),b(br),b(A8,8),b(c8,8),b(sM),b(di),b(aM,10),b(oM,12))};static#n=this.\u0275dir=Y({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(i,r,s){if(1&i&&(hn(s,E8,5),hn(s,S8,5),hn(s,aM,5)),2&i){let o;Lt(o=Ft())&&(r._previewTemplate=o.first),Lt(o=Ft())&&(r._placeholderTemplate=o.first),Lt(o=Ft())&&(r._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){2&i&&yt("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled",xr],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[dt([{provide:oM,useExisting:n}]),rl,Nt]})}return n})();const lM=new j("CdkDropListGroup");let Dwe=0,M8=(()=>{class n{static#e=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}constructor(e,i,r,s,o,a,l){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=o,this._group=a,this._destroyed=new De,this.connectedTo=[],this.id="cdk-drop-list-"+Dwe++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new Q,this.entered=new Q,this.exited=new Q,this.sorted=new Q,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(c,u)=>this.enterPredicate(c.data,u.data),this._dropListRef.sortPredicate=(c,u,d)=>this.sortPredicate(c,u.data,d.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(gl(this._dir.value),nn(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function SCe(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(o=>o.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=JW(this.autoScrollStep,2),e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),cm(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:i,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:o,listOrientation:a}=e;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=o??!1,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static#t=this.\u0275fac=function(i){return new(i||n)(b(Je),b(sM),b(di),b(HCe),b(c8,8),b(lM,12),b(A8,8))};static#n=this.\u0275dir=Y({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,r){2&i&&(He("id",r.id),yt("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled",xr],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled",xr],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled",xr],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[dt([{provide:lM,useValue:void 0},{provide:I8,useExisting:n}]),rl]})}return n})(),Swe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Se({type:n});static#n=this.\u0275inj=we({providers:[sM],imports:[UCe]})}return n})();function Ewe(n,t){if(1&n){const e=Hi();E(0,"div",17)(1,"div",18),xe(2,"img",19),E(3,"button",20),re("click",function(){const s=cn(e).$implicit;return un(de().saveAnime(s))}),ue(4,"click"),M()()()}if(2&n){const e=t.$implicit;P(2),$("src",e.images.jpg.image_url,qc)}}function Awe(n,t){if(1&n&&(E(0,"div",17)(1,"div",18),xe(2,"img",19),M()()),2&n){const e=t.$implicit;P(2),$("src",e.images.jpg.image_url,qc)}}const Iwe=[{path:"",component:y0e},{path:"Sidebar",component:P5},{path:"Workplace",component:v0e},{path:"Create",component:w0e},{path:"Tier",component:A0e},{path:"ListNext",component:(()=>{class n{constructor(e,i){this.recoService=e,this.apiAnimeService=i,this.recomendaciones=[],this.animes=[],this.opTipos=[]}ngOnInit(){var e=this;return I(function*(){yield e.getAll()})()}getAll(){var e=this;return I(function*(){yield e.apiAnimeService.getAnimeByPage(10).subscribe(i=>{e.animes=i.data})})()}saveAnime(e){this.recomendaciones.push(e)}static#e=this.\u0275fac=function(i){return new(i||n)(b(O5),b(I0e))};static#t=this.\u0275cmp=_t({type:n,selectors:[["app-list-next"]],decls:19,vars:2,consts:[[1,"container","col-lg-12",2,"margin-top","5%"],[1,"top","col-lg-12",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"table-container"],[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["role","search",1,"d-flex"],["type","search","placeholder","Nombre","aria-label","Search","name","searchTerm",1,"form-control","me-2"],[1,"btn","btn-outline-success"],["cdkDropList","",1,"row"],["cdkDrag","","class","col-lg-2 col-4 col-md-4",4,"ngFor","ngForOf"],["cdkDropList","",1,"row",2,"background","black"],["cdkDrag","",1,"col-lg-2","col-4","col-md-4"],[1,"card","container"],["alt","#",1,"imagen",3,"src"],[3,"click"]],template:function(i,r){1&i&&(E(0,"div",0)(1,"div",1)(2,"a",2),xe(3,"img",3),M()(),E(4,"div",4)(5,"nav",5)(6,"div",6)(7,"button",7),xe(8,"span",8),M(),E(9,"div",9),xe(10,"ul",10),E(11,"div",11),xe(12,"input",12),E(13,"button",13),ue(14,"Buscar"),M()()()()(),E(15,"div",14),ae(16,Ewe,5,1,"div",15),M(),E(17,"div",16),ae(18,Awe,3,1,"div",15),M()()()),2&i&&(P(16),$("ngForOf",r.animes),P(2),$("ngForOf",r.recomendaciones))},dependencies:[zi,Wk,M8,k8],styles:['.table-container[_ngcontent-%COMP%]{margin:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#000}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}.etiqueta[_ngcontent-%COMP%]{color:#000;box-shadow:0 0 29px #3c3c3c6b;border-radius:5px;font-family:"Hedvig Letters Serif",serif;text-align:center;text-decoration:none}.card[_ngcontent-%COMP%]{padding:5px;margin:5px;background-color:#fff;border:1px solid #ddd;cursor:grab}mat-icon[_ngcontent-%COMP%]{margin-right:10px}.imagen[_ngcontent-%COMP%]{width:100%;height:250px;border:1px solid #000000}']})}return n})()}];let kwe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Se({type:n});static#n=this.\u0275inj=we({imports:[qH.forRoot(Iwe,{useHash:!0}),Sk,qH]})}return n})(),Mwe=(()=>{class n{constructor(){this.title="DATA"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=_t({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&xe(0,"router-outlet")},dependencies:[b1]})}return n})();const Rwe_firebase={apiKey:"AIzaSyB14DmtasKcHP3qgspOmYnuoBj2uyoAsmg",authDomain:"data-aba0f.firebaseapp.com",projectId:"data-aba0f",storageBucket:"data-aba0f.appspot.com",messagingSenderId:"305549292857",appId:"1:305549292857:web:e5b4bdafba9fb4d61524e8"};class cM{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class R8 extends cM{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class Nwe extends cM{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Pwe extends cM{constructor(t){super(),this.element=t instanceof Je?t.nativeElement:t}}class Owe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof R8?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Nwe?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Pwe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Lwe extends Owe{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Rn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}function Vwe(){}function uM(n){return null==n?Vwe:function(){return this.querySelector(n)}}function $we(){return[]}function N8(n){return null==n?$we:function(){return this.querySelectorAll(n)}}function P8(n){return function(){return this.matches(n)}}function O8(n){return function(t){return t.matches(n)}}var zwe=Array.prototype.find;function Wwe(){return this.firstElementChild}var Ywe=Array.prototype.filter;function Kwe(){return Array.from(this.children)}function L8(n){return new Array(n.length)}function bb(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function t1e(n,t,e,i,r,s){for(var a,o=0,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):e[o]=new bb(n,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a)}function n1e(n,t,e,i,r,s,o){var a,l,f,c=new Map,u=t.length,d=s.length,h=new Array(u);for(a=0;a<u;++a)(l=t[a])&&(h[a]=f=o.call(l,l.__data__,a,t)+"",c.has(f)?r[a]=l:c.set(f,l));for(a=0;a<d;++a)f=o.call(n,s[a],a,s)+"",(l=c.get(f))?(i[a]=l,l.__data__=s[a],c.delete(f)):e[a]=new bb(n,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(r[a]=l)}function i1e(n){return n.__data__}function s1e(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function d1e(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}bb.prototype={constructor:bb,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var dM="http://www.w3.org/1999/xhtml";const F8={svg:"http://www.w3.org/2000/svg",xhtml:dM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xb(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),F8.hasOwnProperty(t)?{space:F8[t],local:n}:n}function v1e(n){return function(){this.removeAttribute(n)}}function y1e(n){return function(){this.removeAttributeNS(n.space,n.local)}}function b1e(n,t){return function(){this.setAttribute(n,t)}}function x1e(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function T1e(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function C1e(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function V8(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function D1e(n){return function(){this.style.removeProperty(n)}}function S1e(n,t,e){return function(){this.style.setProperty(n,t,e)}}function E1e(n,t,e){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function jd(n,t){return n.style.getPropertyValue(t)||V8(n).getComputedStyle(n,null).getPropertyValue(t)}function I1e(n){return function(){delete this[n]}}function k1e(n,t){return function(){this[n]=t}}function M1e(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function B8(n){return n.trim().split(/^|\s+/)}function hM(n){return n.classList||new H8(n)}function H8(n){this._node=n,this._names=B8(n.getAttribute("class")||"")}function $8(n,t){for(var e=hM(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function G8(n,t){for(var e=hM(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function N1e(n){return function(){$8(this,n)}}function P1e(n){return function(){G8(this,n)}}function O1e(n,t){return function(){(t.apply(this,arguments)?$8:G8)(this,n)}}function F1e(){this.textContent=""}function V1e(n){return function(){this.textContent=n}}function B1e(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function $1e(){this.innerHTML=""}function G1e(n){return function(){this.innerHTML=n}}function U1e(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function j1e(){this.nextSibling&&this.parentNode.appendChild(this)}function q1e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K1e(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===dM&&t.documentElement.namespaceURI===dM?t.createElement(n):t.createElementNS(e,n)}}function X1e(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function U8(n){var t=xb(n);return(t.local?X1e:K1e)(t)}function Z1e(){return null}function eDe(){var n=this.parentNode;n&&n.removeChild(this)}function nDe(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function iDe(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function lDe(n){return function(){var t=this.__on;if(t){for(var s,e=0,i=-1,r=t.length;e<r;++e)s=t[e],n.type&&s.type!==n.type||s.name!==n.name?t[++i]=s:this.removeEventListener(s.type,s.listener,s.options);++i?t.length=i:delete this.__on}}}function cDe(n,t,e){return function(){var r,i=this.__on,s=function oDe(n){return function(t){n.call(this,t,this.__data__)}}(t);if(i)for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=e),void(r.value=t);this.addEventListener(n.type,s,e),r={type:n.type,name:n.name,value:t,listener:s,options:e},i?i.push(r):this.__on=[r]}}function z8(n,t,e){var i=V8(n),r=i.CustomEvent;"function"==typeof r?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function dDe(n,t){return function(){return z8(this,n,t)}}function hDe(n,t){return function(){return z8(this,n,t.apply(this,arguments))}}H8.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var j8=[null];function Mr(n,t){this._groups=n,this._parents=t}function W8(){return new Mr([[document.documentElement]],j8)}Mr.prototype=W8.prototype={constructor:Mr,select:function Bwe(n){"function"!=typeof n&&(n=uM(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,c,s=t[r],o=s.length,a=i[r]=new Array(o),u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Mr(i,this._parents)},selectAll:function Uwe(n){n="function"==typeof n?function Gwe(n){return function(){return function Hwe(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):N8(n);for(var t=this._groups,e=t.length,i=[],r=[],s=0;s<e;++s)for(var l,o=t[s],a=o.length,c=0;c<a;++c)(l=o[c])&&(i.push(n.call(l,l.__data__,c,o)),r.push(l));return new Mr(i,r)},selectChild:function qwe(n){return this.select(null==n?Wwe:function jwe(n){return function(){return zwe.call(this.children,n)}}("function"==typeof n?n:O8(n)))},selectChildren:function Qwe(n){return this.selectAll(null==n?Kwe:function Xwe(n){return function(){return Ywe.call(this.children,n)}}("function"==typeof n?n:O8(n)))},filter:function Zwe(n){"function"!=typeof n&&(n=P8(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Mr(i,this._parents)},data:function r1e(n,t){if(!arguments.length)return Array.from(this,i1e);var e=t?n1e:t1e,i=this._parents,r=this._groups;"function"!=typeof n&&(n=function e1e(n){return function(){return n}}(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],d=r[c],h=d.length,f=s1e(n.call(u,u&&u.__data__,c,i)),p=f.length,m=a[c]=new Array(p),g=o[c]=new Array(p);e(u,d,m,g,l[c]=new Array(h),f,t);for(var x,D,_=0,y=0;_<p;++_)if(x=m[_]){for(_>=y&&(y=_+1);!(D=g[y])&&++y<p;);x._next=D||null}}return(o=new Mr(o,i))._enter=a,o._exit=l,o},enter:function Jwe(){return new Mr(this._enter||this._groups.map(L8),this._parents)},exit:function o1e(){return new Mr(this._exit||this._groups.map(L8),this._parents)},join:function a1e(n,t,e){var i=this.enter(),r=this,s=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=t&&(r=t(r))&&(r=r.selection()),null==e?s.remove():e(s),i&&r?i.merge(r).order():r},merge:function l1e(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,r=e.length,o=Math.min(r,i.length),a=new Array(r),l=0;l<o;++l)for(var f,c=e[l],u=i[l],d=c.length,h=a[l]=new Array(d),p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<r;++l)a[l]=e[l];return new Mr(a,this._parents)},selection:function gDe(){return this},order:function c1e(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var o,i=n[t],r=i.length-1,s=i[r];--r>=0;)(o=i[r])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function u1e(n){function t(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}n||(n=d1e);for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s){for(var c,o=e[s],a=o.length,l=r[s]=new Array(a),u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Mr(r,this._parents).order()},call:function h1e(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function f1e(){return Array.from(this)},node:function p1e(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function g1e(){let n=0;for(const t of this)++n;return n},empty:function m1e(){return!this.node()},each:function _1e(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a,r=t[e],s=0,o=r.length;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this},attr:function w1e(n,t){var e=xb(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==t?e.local?y1e:v1e:"function"==typeof t?e.local?C1e:T1e:e.local?x1e:b1e)(e,t))},style:function A1e(n,t,e){return arguments.length>1?this.each((null==t?D1e:"function"==typeof t?E1e:S1e)(n,t,e??"")):jd(this.node(),n)},property:function R1e(n,t){return arguments.length>1?this.each((null==t?I1e:"function"==typeof t?M1e:k1e)(n,t)):this.node()[n]},classed:function L1e(n,t){var e=B8(n+"");if(arguments.length<2){for(var i=hM(this.node()),r=-1,s=e.length;++r<s;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof t?O1e:t?N1e:P1e)(e,t))},text:function H1e(n){return arguments.length?this.each(null==n?F1e:("function"==typeof n?B1e:V1e)(n)):this.node().textContent},html:function z1e(n){return arguments.length?this.each(null==n?$1e:("function"==typeof n?U1e:G1e)(n)):this.node().innerHTML},raise:function W1e(){return this.each(j1e)},lower:function Y1e(){return this.each(q1e)},append:function Q1e(n){var t="function"==typeof n?n:U8(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function J1e(n,t){var e="function"==typeof n?n:U8(n),i=null==t?Z1e:"function"==typeof t?t:uM(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function tDe(){return this.each(eDe)},clone:function rDe(n){return this.select(n?iDe:nDe)},datum:function sDe(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function uDe(n,t,e){var r,o,i=function aDe(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}(n+""),s=i.length;if(!(arguments.length<2)){for(a=t?cDe:lDe,r=0;r<s;++r)this.each(a(i[r],t,e));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function fDe(n,t){return this.each(("function"==typeof t?hDe:dDe)(n,t))},[Symbol.iterator]:function*pDe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var o,i=n[t],r=0,s=i.length;r<s;++r)(o=i[r])&&(yield o)}};const Rg=W8;var mDe={value:()=>{}};function q8(){for(var i,n=0,t=arguments.length,e={};n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new Tb(e)}function Tb(n){this._=n}function vDe(n,t){for(var r,e=0,i=n.length;e<i;++e)if((r=n[e]).name===t)return r.value}function Y8(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=mDe,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:t,value:e}),n}Tb.prototype=q8.prototype={constructor:Tb,on:function(n,t){var r,e=this._,i=function _De(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}(n+"",e),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(n=i[s]).type)e[r]=Y8(e[r],n.name,t);else if(null==t)for(r in e)e[r]=Y8(e[r],n.name,null);return this}for(;++s<o;)if((r=(n=i[s]).type)&&(r=vDe(e[r],n.name)))return r},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new Tb(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var r,s,e=new Array(r),i=0;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(s=this._[n]).length;i<r;++i)s[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(t,e)}};const K8=q8;function gM(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function X8(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function Ng(){}var Cb=1/.7,Wd="\\s*([+-]?\\d+)\\s*",Og="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xDe=/^#([0-9a-f]{3,8})$/,TDe=new RegExp(`^rgb\\(${Wd},${Wd},${Wd}\\)$`),CDe=new RegExp(`^rgb\\(${Js},${Js},${Js}\\)$`),wDe=new RegExp(`^rgba\\(${Wd},${Wd},${Wd},${Og}\\)$`),DDe=new RegExp(`^rgba\\(${Js},${Js},${Js},${Og}\\)$`),SDe=new RegExp(`^hsl\\(${Og},${Js},${Js}\\)$`),EDe=new RegExp(`^hsla\\(${Og},${Js},${Js},${Og}\\)$`),Q8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Z8(){return this.rgb().formatHex()}function J8(){return this.rgb().formatRgb()}function cc(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=xDe.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?e6(t):3===e?new cr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?wb(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?wb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=TDe.exec(n))?new cr(t[1],t[2],t[3],1):(t=CDe.exec(n))?new cr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=wDe.exec(n))?wb(t[1],t[2],t[3],t[4]):(t=DDe.exec(n))?wb(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=SDe.exec(n))?i6(t[1],t[2]/100,t[3]/100,1):(t=EDe.exec(n))?i6(t[1],t[2]/100,t[3]/100,t[4]):Q8.hasOwnProperty(n)?e6(Q8[n]):"transparent"===n?new cr(NaN,NaN,NaN,0):null}function e6(n){return new cr(n>>16&255,n>>8&255,255&n,1)}function wb(n,t,e,i){return i<=0&&(n=t=e=NaN),new cr(n,t,e,i)}function Db(n,t,e,i){return 1===arguments.length?function kDe(n){return n instanceof Ng||(n=cc(n)),n?new cr((n=n.rgb()).r,n.g,n.b,n.opacity):new cr}(n):new cr(n,t,e,i??1)}function cr(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}function t6(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}`}function n6(){const n=Sb(this.opacity);return`${1===n?"rgb(":"rgba("}${uc(this.r)}, ${uc(this.g)}, ${uc(this.b)}${1===n?")":`, ${n})`}`}function Sb(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function uc(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function dc(n){return((n=uc(n))<16?"0":"")+n.toString(16)}function i6(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new vs(n,t,e,i)}function r6(n){if(n instanceof vs)return new vs(n.h,n.s,n.l,n.opacity);if(n instanceof Ng||(n=cc(n)),!n)return new vs;if(n instanceof vs)return n;var t=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),s=Math.max(t,e,i),o=NaN,a=s-r,l=(s+r)/2;return a?(o=t===s?(e-i)/a+6*(e<i):e===s?(i-t)/a+2:(t-e)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new vs(o,a,l,n.opacity)}function vs(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}function s6(n){return(n=(n||0)%360)<0?n+360:n}function Eb(n){return Math.max(0,Math.min(1,n||0))}function mM(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function o6(n,t,e,i,r){var s=n*n,o=s*n;return((1-3*n+3*s-o)*t+(4-6*s+3*o)*e+(1+3*n+3*s-3*o)*i+o*r)/6}gM(Ng,cc,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Z8,formatHex:Z8,formatHex8:function ADe(){return this.rgb().formatHex8()},formatHsl:function IDe(){return r6(this).formatHsl()},formatRgb:J8,toString:J8}),gM(cr,Db,X8(Ng,{brighter(n){return n=null==n?Cb:Math.pow(Cb,n),new cr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new cr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new cr(uc(this.r),uc(this.g),uc(this.b),Sb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t6,formatHex:t6,formatHex8:function MDe(){return`#${dc(this.r)}${dc(this.g)}${dc(this.b)}${dc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:n6,toString:n6})),gM(vs,function RDe(n,t,e,i){return 1===arguments.length?r6(n):new vs(n,t,e,i??1)},X8(Ng,{brighter(n){return n=null==n?Cb:Math.pow(Cb,n),new vs(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new vs(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new cr(mM(n>=240?n-240:n+120,r,i),mM(n,r,i),mM(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new vs(s6(this.h),Eb(this.s),Eb(this.l),Sb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Sb(this.opacity);return`${1===n?"hsl(":"hsla("}${s6(this.h)}, ${100*Eb(this.s)}%, ${100*Eb(this.l)}%${1===n?")":`, ${n})`}`}}));const _M=n=>()=>n;function l6(n,t){var e=t-n;return e?function a6(n,t){return function(e){return n+e*t}}(n,e):_M(isNaN(n)?t:n)}const Ab=function n(t){var e=function LDe(n){return 1==(n=+n)?l6:function(t,e){return e-t?function ODe(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}(t,e,n):_M(isNaN(t)?e:t)}}(t);function i(r,s){var o=e((r=Db(r)).r,(s=Db(s)).r),a=e(r.g,s.g),l=e(r.b,s.b),c=l6(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=n,i}(1);function c6(n){return function(t){var o,a,e=t.length,i=new Array(e),r=new Array(e),s=new Array(e);for(o=0;o<e;++o)a=Db(t[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=n(i),r=n(r),s=n(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}function ys(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}c6(function NDe(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=n[i],s=n[i+1];return o6((e-i/t)*t,i>0?n[i-1]:2*r-s,r,s,i<t-1?n[i+2]:2*s-r)}}),c6(function PDe(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t);return o6((e-i/t)*t,n[(i+t-1)%t],n[i%t],n[(i+1)%t],n[(i+2)%t])}});var vM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yM=new RegExp(vM.source,"g");function d6(n,t){var i,r,s,e=vM.lastIndex=yM.lastIndex=0,o=-1,a=[],l=[];for(n+="",t+="";(i=vM.exec(n))&&(r=yM.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:ys(i,r)})),e=yM.lastIndex;return e<t.length&&(s=t.slice(e),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?function HDe(n){return function(t){return n(t)+""}}(l[0].x):function BDe(n){return function(){return n}}(t):(t=l.length,function(c){for(var d,u=0;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var kb,Vg,qd=0,Lg=0,Fg=0,f6=1e3,Mb=0,hc=0,Rb=0,Bg="object"==typeof performance&&performance.now?performance:Date,p6="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function bM(){return hc||(p6(zDe),hc=Bg.now()+Rb)}function zDe(){hc=0}function Nb(){this._call=this._time=this._next=null}function g6(n,t,e){var i=new Nb;return i.restart(n,t,e),i}function m6(){hc=(Mb=Bg.now())+Rb,qd=Lg=0;try{!function jDe(){bM(),++qd;for(var t,n=kb;n;)(t=hc-n._time)>=0&&n._call.call(void 0,t),n=n._next;--qd}()}finally{qd=0,function qDe(){for(var n,e,t=kb,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:kb=e);Vg=n,xM(i)}(),hc=0}}function WDe(){var n=Bg.now(),t=n-Mb;t>f6&&(Rb-=t,Mb=n)}function xM(n){qd||(Lg&&(Lg=clearTimeout(Lg)),n-hc>24?(n<1/0&&(Lg=setTimeout(m6,n-Bg.now()-Rb)),Fg&&(Fg=clearInterval(Fg))):(Fg||(Mb=Bg.now(),Fg=setInterval(WDe,f6)),qd=1,p6(m6)))}function _6(n,t,e){var i=new Nb;return i.restart(r=>{i.stop(),n(r+t)},t=null==t?0:+t,e),i}Nb.prototype=g6.prototype={constructor:Nb,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?bM():+e)+(null==t?0:+t),!this._next&&Vg!==this&&(Vg?Vg._next=this:kb=this,Vg=this),this._call=n,this._time=e,xM()},stop:function(){this._call&&(this._call=null,this._time=1/0,xM())}};var YDe=K8("start","end","cancel","interrupt"),KDe=[],v6=0,Pb=3;function Lb(n,t,e,i,r,s){var o=n.__transition;if(o){if(e in o)return}else n.__transition={};!function XDe(n,t,e){var r,i=n.__transition;function o(c){var u,d,h,f;if(1!==e.state)return l();for(u in i)if((f=i[u]).name===e.name){if(f.state===Pb)return _6(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete i[u])}if(_6(function(){e.state===Pb&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=Pb,r=new Array(h=e.tween.length),u=0,d=-1;u<h;++u)(f=e.tween[u].value.call(n,n.__data__,e.index,e.group))&&(r[++d]=f);r.length=d+1}}function a(c){for(var u=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=5,1),d=-1,h=r.length;++d<h;)r[d].call(n,u);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),l())}function l(){for(var c in e.state=6,e.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=e,e.timer=g6(function s(c){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=c&&o(c-e.delay)},0,e.time)}(n,e,{name:t,index:i,group:r,on:YDe,tween:KDe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:v6})}function wM(n,t){var e=bs(n,t);if(e.state>v6)throw new Error("too late; already scheduled");return e}function eo(n,t){var e=bs(n,t);if(e.state>Pb)throw new Error("too late; already running");return e}function bs(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}var Fb,x6=180/Math.PI,SM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function T6(n,t,e,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(l=n*e+t*i)&&(e-=n*l,i-=t*l),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,l/=a),n*i<t*e&&(n=-n,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,n)*x6,skewX:Math.atan(l)*x6,scaleX:o,scaleY:a}}function C6(n,t,e,i){function r(c){return c.length?c.pop()+" ":""}return function(c,u){var d=[],h=[];return c=n(c),u=n(u),function s(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push("translate(",null,t,null,e);p.push({i:m-4,x:ys(c,d)},{i:m-2,x:ys(u,h)})}else(d||h)&&f.push("translate("+d+t+h+e)}(c.translateX,c.translateY,u.translateX,u.translateY,d,h),function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(r(d)+"rotate(",null,i)-2,x:ys(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}(c.rotate,u.rotate,d,h),function a(c,u,d,h){c!==u?h.push({i:d.push(r(d)+"skewX(",null,i)-2,x:ys(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}(c.skewX,u.skewX,d,h),function l(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push(r(f)+"scale(",null,",",null,")");p.push({i:m-4,x:ys(c,d)},{i:m-2,x:ys(u,h)})}else(1!==d||1!==h)&&f.push(r(f)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var g,p=-1,m=h.length;++p<m;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var eSe=C6(function ZDe(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?SM:T6(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),tSe=C6(function JDe(n){return null!=n&&(Fb||(Fb=document.createElementNS("http://www.w3.org/2000/svg","g")),Fb.setAttribute("transform",n),n=Fb.transform.baseVal.consolidate())?T6((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):SM},", ",")",")");function nSe(n,t){var e,i;return function(){var r=eo(this,n),s=r.tween;if(s!==e)for(var o=0,a=(i=e=s).length;o<a;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}r.tween=i}}function iSe(n,t,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var s=eo(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:e},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function EM(n,t,e){var i=n._id;return n.each(function(){var r=eo(this,i);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return bs(r,i).value[t]}}function w6(n,t){var e;return("number"==typeof t?ys:t instanceof cc?Ab:(e=cc(t))?(t=e,Ab):d6)(n,t)}function sSe(n){return function(){this.removeAttribute(n)}}function oSe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function aSe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=t(i=o,e)}}function lSe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=t(i=o,e)}}function cSe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttribute(n):(o=this.getAttribute(n))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function uSe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function pSe(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function fSe(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}(n,s)),e}return r._value=t,r}function gSe(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function hSe(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}(n,s)),e}return r._value=t,r}function _Se(n,t){return function(){wM(this,n).delay=+t.apply(this,arguments)}}function vSe(n,t){return t=+t,function(){wM(this,n).delay=t}}function bSe(n,t){return function(){eo(this,n).duration=+t.apply(this,arguments)}}function xSe(n,t){return t=+t,function(){eo(this,n).duration=t}}var LSe=Rg.prototype.constructor;function D6(n){return function(){this.style.removeProperty(n)}}var eEe=0;function $o(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function S6(){return++eEe}var Go=Rg.prototype;$o.prototype=function tEe(n){return Rg().transition(n)}.prototype={constructor:$o,select:function PSe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=uM(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var u,d,a=i[o],l=a.length,c=s[o]=new Array(l),h=0;h<l;++h)(u=a[h])&&(d=n.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,Lb(c[h],t,e,h,c,bs(u,e)));return new $o(s,this._parents,t,e)},selectAll:function OSe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=N8(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var u,l=i[a],c=l.length,d=0;d<c;++d)if(u=l[d]){for(var f,h=n.call(u,u.__data__,d,l),p=bs(u,e),m=0,g=h.length;m<g;++m)(f=h[m])&&Lb(f,t,e,m,h,p);s.push(h),o.push(u)}return new $o(s,o,t,e)},selectChild:Go.selectChild,selectChildren:Go.selectChildren,filter:function ESe(n){"function"!=typeof n&&(n=P8(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new $o(i,this._parents,this._name,this._id)},merge:function ASe(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,s=Math.min(i,e.length),o=new Array(i),a=0;a<s;++a)for(var h,l=t[a],c=e[a],u=l.length,d=o[a]=new Array(u),f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<i;++a)o[a]=t[a];return new $o(o,this._parents,this._name,this._id)},selection:function FSe(){return new LSe(this._groups,this._parents)},transition:function ZSe(){for(var n=this._name,t=this._id,e=S6(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)if(l=o[c]){var u=bs(l,t);Lb(l,n,e,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new $o(i,this._parents,n,e)},call:Go.call,nodes:Go.nodes,node:Go.node,size:Go.size,empty:Go.empty,each:Go.each,on:function MSe(n,t){var e=this._id;return arguments.length<2?bs(this.node(),e).on.on(n):this.each(function kSe(n,t,e){var i,r,s=function ISe(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?wM:eo;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(t,e),o.on=r}}(e,n,t))},attr:function dSe(n,t){var e=xb(n),i="transform"===e?tSe:w6;return this.attrTween(n,"function"==typeof t?(e.local?uSe:cSe)(e,i,EM(this,"attr."+n,t)):null==t?(e.local?oSe:sSe)(e):(e.local?lSe:aSe)(e,i,t))},attrTween:function mSe(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var i=xb(n);return this.tween(e,(i.local?pSe:gSe)(i,t))},style:function GSe(n,t,e){var i="transform"==(n+="")?eSe:w6;return null==t?this.styleTween(n,function VSe(n,t){var e,i,r;return function(){var s=jd(this,n),o=(this.style.removeProperty(n),jd(this,n));return s===o?null:s===e&&o===i?r:r=t(e=s,i=o)}}(n,i)).on("end.style."+n,D6(n)):"function"==typeof t?this.styleTween(n,function HSe(n,t,e){var i,r,s;return function(){var o=jd(this,n),a=e(this),l=a+"";return null==a&&(this.style.removeProperty(n),l=a=jd(this,n)),o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}(n,i,EM(this,"style."+n,t))).each(function $Se(n,t){var e,i,r,a,s="style."+t,o="end."+s;return function(){var l=eo(this,n),c=l.on,u=null==l.value[s]?a||(a=D6(t)):void 0;(c!==e||r!==u)&&(i=(e=c).copy()).on(o,r=u),l.on=i}}(this._id,n)):this.styleTween(n,function BSe(n,t,e){var i,s,r=e+"";return function(){var o=jd(this,n);return o===r?null:o===i?s:s=t(i=o,e)}}(n,i,t),e).on("end.style."+n,null)},styleTween:function jSe(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function zSe(n,t,e){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&function USe(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}(n,o,e)),i}return s._value=t,s}(n,t,e??""))},text:function YSe(n){return this.tween("text","function"==typeof n?function qSe(n){return function(){var t=n(this);this.textContent=t??""}}(EM(this,"text",n)):function WSe(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function QSe(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,function XSe(n){var t,e;function i(){var r=n.apply(this,arguments);return r!==e&&(t=(e=r)&&function KSe(n){return function(t){this.textContent=n.call(this,t)}}(r)),t}return i._value=n,i}(n))},remove:function NSe(){return this.on("end.remove",function RSe(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function rSe(n,t){var e=this._id;if(n+="",arguments.length<2){for(var o,i=bs(this.node(),e).tween,r=0,s=i.length;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((null==t?nSe:iSe)(e,n,t))},delay:function ySe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?_Se:vSe)(t,n)):bs(this.node(),t).delay},duration:function TSe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?bSe:xSe)(t,n)):bs(this.node(),t).duration},ease:function wSe(n){var t=this._id;return arguments.length?this.each(function CSe(n,t){if("function"!=typeof t)throw new Error;return function(){eo(this,n).ease=t}}(t,n)):bs(this.node(),t).ease},easeVarying:function SSe(n){if("function"!=typeof n)throw new Error;return this.each(function DSe(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;eo(this,n).ease=e}}(this._id,n))},end:function JSe(){var n,t,e=this,i=e._id,r=e.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--r&&s()}};e.each(function(){var c=eo(this,i),u=c.on;u!==n&&((t=(n=u).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),0===r&&s()})},[Symbol.iterator]:Go[Symbol.iterator]};var iEe={time:null,delay:0,duration:250,ease:function nEe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function rEe(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}Rg.prototype.interrupt=function QDe(n){return this.each(function(){!function DM(n,t){var i,r,o,e=n.__transition,s=!0;if(e){for(o in t=null==t?null:t+"",e)(i=e[o]).name===t?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[o]):s=!1;s&&delete n.__transition}}(this,n)})},Rg.prototype.transition=function sEe(n){var t,e;n instanceof $o?(t=n._id,n=n._name):(t=S6(),(e=iEe).time=bM(),n=null==n?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)(l=o[c])&&Lb(l,n,t,c,o,e||rEe(l,t));return new $o(i,this._parents,n,t)};Math;function Hg(n){return{type:n}}function Hb(n,t){return null==n||null==t?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function mEe(n,t){return null==n||null==t?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function PM(n){let t,e,i;function r(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}return 2!==n.length?(t=Hb,e=(a,l)=>Hb(n(a),l),i=(a,l)=>n(a)-l):(t=n===Hb||n===mEe?n:_Ee,e=n,i=n),{left:r,center:function o(a,l,c=0,u=a.length){const d=r(a,l,c,u-1);return d>c&&i(a[d-1],l)>-i(a[d],l)?d-1:d},right:function s(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}}}function _Ee(){return 0}["w","e"].map(Hg),["n","s"].map(Hg),["n","w","e","s","nw","ne","sw","se"].map(Hg);const vEe=Math.sqrt(50),yEe=Math.sqrt(10),bEe=Math.sqrt(2);function $b(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=vEe?10:s>=yEe?5:s>=bEe?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(n*c),l=Math.round(t*c),a/c<n&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(n/c),l=Math.round(t/c),a*c<n&&++a,l*c>t&&--l),l<a&&.5<=e&&e<2?$b(n,t,2*e):[a,l,c]}function OM(n,t,e){return $b(n=+n,t=+t,e=+e)[2]}function LM(n,t,e){e=+e;const i=(t=+t)<(n=+n),r=i?OM(t,n,e):OM(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}const zo=1e3,es=6e4,jo=60*es,Wo=24*jo,FM=7*Wo,R6=30*Wo,VM=365*Wo,BM=new Date,HM=new Date;function Kn(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),t(s,1),n(s),s),r.round=s=>{const o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=(s,o)=>(t(s=new Date(+s),null==o?1:Math.floor(o)),s),r.range=(s,o,a)=>{const l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;let c;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=s=>Kn(o=>{if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),e&&(r.count=(s,o)=>(BM.setTime(+s),HM.setTime(+o),n(BM),n(HM),Math.floor(e(BM,HM))),r.every=s=>(s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?o=>i(o)%s==0:o=>r.count(0,o)%s==0):r:null)),r}const Gb=Kn(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);Gb.every=n=>(n=Math.floor(n),isFinite(n)&&n>0?n>1?Kn(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):Gb:null);const Xd=Kn(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*zo)},(n,t)=>(t-n)/zo,n=>n.getUTCSeconds()),$M=Kn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*zo)},(n,t)=>{n.setTime(+n+t*es)},(n,t)=>(t-n)/es,n=>n.getMinutes()),N6=Kn(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*es)},(n,t)=>(t-n)/es,n=>n.getUTCMinutes()),GM=Kn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*zo-n.getMinutes()*es)},(n,t)=>{n.setTime(+n+t*jo)},(n,t)=>(t-n)/jo,n=>n.getHours()),P6=Kn(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*jo)},(n,t)=>(t-n)/jo,n=>n.getUTCHours()),UM=Kn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*es)/Wo,n=>n.getDate()-1),O6=(Kn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Wo,n=>n.getUTCDate()-1),Kn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Wo,n=>Math.floor(n/Wo)));function fc(n){return Kn(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*es)/FM)}const zM=fc(0);function pc(n){return Kn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/FM)}fc(1),fc(2),fc(3),fc(4),fc(5),fc(6);const L6=pc(0),jM=(pc(1),pc(2),pc(3),pc(4),pc(5),pc(6),Kn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear()),n=>n.getMonth())),F6=Kn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear()),n=>n.getUTCMonth()),Ub=Kn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());Ub.every=n=>isFinite(n=Math.floor(n))&&n>0?Kn(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)}):null;const WM=Kn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());function V6(n,t,e,i,r,s){const o=[[Xd,1,zo],[Xd,5,5e3],[Xd,15,15e3],[Xd,30,3e4],[s,1,es],[s,5,5*es],[s,15,15*es],[s,30,30*es],[r,1,jo],[r,3,3*jo],[r,6,6*jo],[r,12,12*jo],[i,1,Wo],[i,2,2*Wo],[e,1,FM],[t,1,R6],[t,3,3*R6],[n,1,VM]];function l(c,u,d){const h=Math.abs(u-c)/d,f=PM(([,,g])=>g).right(o,h);if(f===o.length)return n.every(LM(c/VM,u/VM,d));if(0===f)return Gb.every(Math.max(LM(c,u,d),1));const[p,m]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return p.every(m)}return[function a(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&"function"==typeof d.range?d:l(c,u,d),p=f?f.range(c,+u+1):[];return h?p.reverse():p},l]}WM.every=n=>isFinite(n=Math.floor(n))&&n>0?Kn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null;const[c9e,u9e]=V6(WM,F6,L6,O6,P6,N6),[PEe,OEe]=V6(Ub,jM,zM,UM,GM,$M);var qM=new Date,YM=new Date;function qo(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=function(s){return n(s=new Date(+s)),s},r.ceil=function(s){return n(s=new Date(s-1)),t(s,1),n(s),s},r.round=function(s){var o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=function(s,o){return t(s=new Date(+s),null==o?1:Math.floor(o)),s},r.range=function(s,o,a){var c,l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=function(s){return qo(function(o){if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););})},e&&(r.count=function(s,o){return qM.setTime(+s),YM.setTime(+o),n(qM),n(YM),Math.floor(e(qM,YM))},r.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?function(o){return i(o)%s==0}:function(o){return r.count(0,o)%s==0}):r:null}),r}const $g=864e5,B6=7*$g;function gc(n){return qo(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/B6})}var H6=gc(0),zb=gc(1),Qd=(gc(2),gc(3),gc(4)),$6=(gc(5),gc(6),qo(function(n){n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t-n)/$g},function(n){return n.getUTCDate()-1}));const G6=$6;function mc(n){return qo(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/B6})}var U6=mc(0),jb=mc(1),Zd=(mc(2),mc(3),mc(4)),z6=(mc(5),mc(6),qo(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/$g,n=>n.getDate()-1));const j6=z6;var XM=qo(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});XM.every=function(n){return isFinite(n=Math.floor(n))&&n>0?qo(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};const Gg=XM;var QM=qo(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});QM.every=function(n){return isFinite(n=Math.floor(n))&&n>0?qo(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};const Ug=QM;function ZM(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function JM(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function zg(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}var W6={"-":"",_:" ",0:"0"},ni=/^\s*\d+/,jEe=/^%/,WEe=/[\\^$*+?|[\]().{}]/g;function vt(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<e?new Array(e-s+1).join(t)+r:r)}function qEe(n){return n.replace(WEe,"\\$&")}function jg(n){return new RegExp("^(?:"+n.map(qEe).join("|")+")","i")}function Wg(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function YEe(n,t,e){var i=ni.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function KEe(n,t,e){var i=ni.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function XEe(n,t,e){var i=ni.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function QEe(n,t,e){var i=ni.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function ZEe(n,t,e){var i=ni.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function q6(n,t,e){var i=ni.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function Y6(n,t,e){var i=ni.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function JEe(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function eAe(n,t,e){var i=ni.exec(t.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function tAe(n,t,e){var i=ni.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function K6(n,t,e){var i=ni.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function nAe(n,t,e){var i=ni.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function X6(n,t,e){var i=ni.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function iAe(n,t,e){var i=ni.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function rAe(n,t,e){var i=ni.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function sAe(n,t,e){var i=ni.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function oAe(n,t,e){var i=ni.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function aAe(n,t,e){var i=jEe.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function lAe(n,t,e){var i=ni.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function cAe(n,t,e){var i=ni.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function Q6(n,t){return vt(n.getDate(),t,2)}function uAe(n,t){return vt(n.getHours(),t,2)}function dAe(n,t){return vt(n.getHours()%12||12,t,2)}function hAe(n,t){return vt(1+j6.count(Gg(n),n),t,3)}function Z6(n,t){return vt(n.getMilliseconds(),t,3)}function fAe(n,t){return Z6(n,t)+"000"}function pAe(n,t){return vt(n.getMonth()+1,t,2)}function gAe(n,t){return vt(n.getMinutes(),t,2)}function mAe(n,t){return vt(n.getSeconds(),t,2)}function _Ae(n){var t=n.getDay();return 0===t?7:t}function vAe(n,t){return vt(U6.count(Gg(n)-1,n),t,2)}function J6(n){var t=n.getDay();return t>=4||0===t?Zd(n):Zd.ceil(n)}function yAe(n,t){return n=J6(n),vt(Zd.count(Gg(n),n)+(4===Gg(n).getDay()),t,2)}function bAe(n){return n.getDay()}function xAe(n,t){return vt(jb.count(Gg(n)-1,n),t,2)}function TAe(n,t){return vt(n.getFullYear()%100,t,2)}function CAe(n,t){return vt((n=J6(n)).getFullYear()%100,t,2)}function wAe(n,t){return vt(n.getFullYear()%1e4,t,4)}function DAe(n,t){var e=n.getDay();return vt((n=e>=4||0===e?Zd(n):Zd.ceil(n)).getFullYear()%1e4,t,4)}function SAe(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vt(t/60|0,"0",2)+vt(t%60,"0",2)}function e9(n,t){return vt(n.getUTCDate(),t,2)}function EAe(n,t){return vt(n.getUTCHours(),t,2)}function AAe(n,t){return vt(n.getUTCHours()%12||12,t,2)}function IAe(n,t){return vt(1+G6.count(Ug(n),n),t,3)}function t9(n,t){return vt(n.getUTCMilliseconds(),t,3)}function kAe(n,t){return t9(n,t)+"000"}function MAe(n,t){return vt(n.getUTCMonth()+1,t,2)}function RAe(n,t){return vt(n.getUTCMinutes(),t,2)}function NAe(n,t){return vt(n.getUTCSeconds(),t,2)}function PAe(n){var t=n.getUTCDay();return 0===t?7:t}function OAe(n,t){return vt(H6.count(Ug(n)-1,n),t,2)}function n9(n){var t=n.getUTCDay();return t>=4||0===t?Qd(n):Qd.ceil(n)}function LAe(n,t){return n=n9(n),vt(Qd.count(Ug(n),n)+(4===Ug(n).getUTCDay()),t,2)}function FAe(n){return n.getUTCDay()}function VAe(n,t){return vt(zb.count(Ug(n)-1,n),t,2)}function BAe(n,t){return vt(n.getUTCFullYear()%100,t,2)}function HAe(n,t){return vt((n=n9(n)).getUTCFullYear()%100,t,2)}function $Ae(n,t){return vt(n.getUTCFullYear()%1e4,t,4)}function GAe(n,t){var e=n.getUTCDay();return vt((n=e>=4||0===e?Qd(n):Qd.ceil(n)).getUTCFullYear()%1e4,t,4)}function UAe(){return"+0000"}function i9(){return"%"}function r9(n){return+n}function s9(n){return Math.floor(+n/1e3)}!function qAe(n){(function zEe(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,s=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,c=jg(r),u=Wg(r),d=jg(s),h=Wg(s),f=jg(o),p=Wg(o),m=jg(a),g=Wg(a),v=jg(l),_=Wg(l),y={a:function z(K){return o[K.getDay()]},A:function ce(K){return s[K.getDay()]},b:function le(K){return l[K.getMonth()]},B:function ze(K){return a[K.getMonth()]},c:null,d:Q6,e:Q6,f:fAe,g:CAe,G:DAe,H:uAe,I:dAe,j:hAe,L:Z6,m:pAe,M:gAe,p:function ot(K){return r[+(K.getHours()>=12)]},q:function Ye(K){return 1+~~(K.getMonth()/3)},Q:r9,s:s9,S:mAe,u:_Ae,U:vAe,V:yAe,w:bAe,W:xAe,x:null,X:null,y:TAe,Y:wAe,Z:SAe,"%":i9},x={a:function Xn(K){return o[K.getUTCDay()]},A:function nt(K){return s[K.getUTCDay()]},b:function ii(K){return l[K.getUTCMonth()]},B:function ur(K){return a[K.getUTCMonth()]},c:null,d:e9,e:e9,f:kAe,g:HAe,G:GAe,H:EAe,I:AAe,j:IAe,L:t9,m:MAe,M:RAe,p:function Xe(K){return r[+(K.getUTCHours()>=12)]},q:function pn(K){return 1+~~(K.getUTCMonth()/3)},Q:r9,s:s9,S:NAe,u:PAe,U:OAe,V:LAe,w:FAe,W:VAe,x:null,X:null,y:BAe,Y:$Ae,Z:UAe,"%":i9},D={a:function ge(K,Ee,je){var U=f.exec(Ee.slice(je));return U?(K.w=p.get(U[0].toLowerCase()),je+U[0].length):-1},A:function se(K,Ee,je){var U=d.exec(Ee.slice(je));return U?(K.w=h.get(U[0].toLowerCase()),je+U[0].length):-1},b:function st(K,Ee,je){var U=v.exec(Ee.slice(je));return U?(K.m=_.get(U[0].toLowerCase()),je+U[0].length):-1},B:function ye(K,Ee,je){var U=m.exec(Ee.slice(je));return U?(K.m=g.get(U[0].toLowerCase()),je+U[0].length):-1},c:function tt(K,Ee,je){return W(K,t,Ee,je)},d:K6,e:K6,f:oAe,g:Y6,G:q6,H:X6,I:X6,j:nAe,L:sAe,m:tAe,M:iAe,p:function be(K,Ee,je){var U=c.exec(Ee.slice(je));return U?(K.p=u.get(U[0].toLowerCase()),je+U[0].length):-1},q:eAe,Q:lAe,s:cAe,S:rAe,u:KEe,U:XEe,V:QEe,w:YEe,W:ZEe,x:function an(K,Ee,je){return W(K,e,Ee,je)},X:function G(K,Ee,je){return W(K,i,Ee,je)},y:Y6,Y:q6,Z:JEe,"%":aAe};function S(K,Ee){return function(je){var ri,Ce,ln,U=[],Jt=-1,Tt=0,Ti=K.length;for(je instanceof Date||(je=new Date(+je));++Jt<Ti;)37===K.charCodeAt(Jt)&&(U.push(K.slice(Tt,Jt)),null!=(Ce=W6[ri=K.charAt(++Jt)])?ri=K.charAt(++Jt):Ce="e"===ri?" ":"0",(ln=Ee[ri])&&(ri=ln(je,Ce)),U.push(ri),Tt=Jt+1);return U.push(K.slice(Tt,Jt)),U.join("")}}function H(K,Ee){return function(je){var Tt,Ti,U=zg(1900,void 0,1);if(W(U,K,je+="",0)!=je.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(1e3*U.s+("L"in U?U.L:0));if(Ee&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+12*U.p),void 0===U.m&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(Ti=(Tt=JM(zg(U.y,0,1))).getUTCDay(),Tt=Ti>4||0===Ti?zb.ceil(Tt):zb(Tt),Tt=G6.offset(Tt,7*(U.V-1)),U.y=Tt.getUTCFullYear(),U.m=Tt.getUTCMonth(),U.d=Tt.getUTCDate()+(U.w+6)%7):(Ti=(Tt=ZM(zg(U.y,0,1))).getDay(),Tt=Ti>4||0===Ti?jb.ceil(Tt):jb(Tt),Tt=j6.offset(Tt,7*(U.V-1)),U.y=Tt.getFullYear(),U.m=Tt.getMonth(),U.d=Tt.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),Ti="Z"in U?JM(zg(U.y,0,1)).getUTCDay():ZM(zg(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+7*U.W-(Ti+5)%7:U.w+7*U.U-(Ti+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,JM(U)):ZM(U)}}function W(K,Ee,je,U){for(var ri,Ce,Jt=0,Tt=Ee.length,Ti=je.length;Jt<Tt;){if(U>=Ti)return-1;if(37===(ri=Ee.charCodeAt(Jt++))){if(ri=Ee.charAt(Jt++),!(Ce=D[ri in W6?Ee.charAt(Jt++):ri])||(U=Ce(K,je,U))<0)return-1}else if(ri!=je.charCodeAt(U++))return-1}return U}return y.x=S(e,y),y.X=S(i,y),y.c=S(t,y),x.x=S(e,x),x.X=S(i,x),x.c=S(t,x),{format:function(K){var Ee=S(K+="",y);return Ee.toString=function(){return K},Ee},parse:function(K){var Ee=H(K+="",!1);return Ee.toString=function(){return K},Ee},utcFormat:function(K){var Ee=S(K+="",x);return Ee.toString=function(){return K},Ee},utcParse:function(K){var Ee=H(K+="",!0);return Ee.toString=function(){return K},Ee}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),PM(Hb),PM(function YAe(n){return null===n?NaN:+n});var h9,lIe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qb(n){if(!(t=lIe.exec(n)))throw new Error("invalid format: "+n);var t;return new tR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function tR(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function Yb(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function f9(n,t){var e=Yb(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}qb.prototype=tR.prototype,tR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const p9={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function cIe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>f9(100*n,t),r:f9,s:function pIe(n,t){var e=Yb(n,t);if(!e)return n+"";var i=e[0],r=e[1],s=r-(h9=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+Yb(n,Math.max(0,t+s-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function g9(n){return n}var m9=Array.prototype.map,_9=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function gIe(n){var t=void 0===n.grouping||void 0===n.thousands?g9:function dIe(n,t){return function(e,i){for(var r=e.length,s=[],o=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(e.substring(r-=a,r+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return s.reverse().join(t)}}(m9.call(n.grouping,Number),n.thousands+""),e=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",r=void 0===n.decimal?".":n.decimal+"",s=void 0===n.numerals?g9:function hIe(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}(m9.call(n.numerals,String)),o=void 0===n.percent?"%":n.percent+"",a=void 0===n.minus?"\u2212":n.minus+"",l=void 0===n.nan?"NaN":n.nan+"";function c(d){var h=(d=qb(d)).fill,f=d.align,p=d.sign,m=d.symbol,g=d.zero,v=d.width,_=d.comma,y=d.precision,x=d.trim,D=d.type;"n"===D?(_=!0,D="g"):p9[D]||(void 0===y&&(y=12),x=!0,D="g"),(g||"0"===h&&"="===f)&&(g=!0,h="0",f="=");var S="$"===m?e:"#"===m&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",H="$"===m?i:/[%p]/.test(D)?o:"",W=p9[D],be=/[defgprs%]/.test(D);function ge(se){var tt,an,G,st=S,ye=H;if("c"===D)ye=W(se)+ye,se="";else{var z=(se=+se)<0||1/se<0;if(se=isNaN(se)?l:W(Math.abs(se),y),x&&(se=function fIe(n){e:for(var r,t=n.length,e=1,i=-1;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":0===i&&(i=e),r=e;break;default:if(!+n[e])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(r+1):n}(se)),z&&0==+se&&"+"!==p&&(z=!1),st=(z?"("===p?p:a:"-"===p||"("===p?"":p)+st,ye=("s"===D?_9[8+h9/3]:"")+ye+(z&&"("===p?")":""),be)for(tt=-1,an=se.length;++tt<an;)if(48>(G=se.charCodeAt(tt))||G>57){ye=(46===G?r+se.slice(tt+1):se.slice(tt))+ye,se=se.slice(0,tt);break}}_&&!g&&(se=t(se,1/0));var ce=st.length+se.length+ye.length,le=ce<v?new Array(v-ce+1).join(h):"";switch(_&&g&&(se=t(le+se,le.length?v-ye.length:1/0),le=""),f){case"<":se=st+se+ye+le;break;case"=":se=st+le+se+ye;break;case"^":se=le.slice(0,ce=le.length>>1)+st+se+ye+le.slice(ce);break;default:se=le+st+se+ye}return s(se)}return y=void 0===y?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),ge.toString=function(){return d+""},ge}return{format:c,formatPrefix:function u(d,h){var f=c(((d=qb(d)).type="f",d)),p=3*Math.max(-8,Math.min(8,Math.floor(function th(n){return(n=Yb(Math.abs(n)))?n[1]:NaN}(h)/3))),m=Math.pow(10,-p),g=_9[8+p/3];return function(v){return f(m*v)+g}}}}!function mIe(n){gIe(n)}({thousands:",",grouping:[3],currency:["$",""]}),Map,Symbol("implicit");var CIe=ja(178);const wIe=["caretElm"];function DIe(n,t){}const SIe=function(n){return{model:n}};function EIe(n,t){if(1&n&&(E(0,"span"),ae(1,DIe,0,0,"ng-template",5),M()),2&n){const e=de();P(1),$("ngTemplateOutlet",e.template)("ngTemplateOutletContext",_u(2,SIe,e.context))}}function AIe(n,t){1&n&&xe(0,"span",6),2&n&&$("innerHTML",de().title,HP)}function mMe(n,t,e){e=e||{};let i,r,s,o=null,a=0;function l(){a=!1===e.leading?0:+new Date,o=null,s=n.apply(i,r)}return function(){const c=+new Date;!a&&!1===e.leading&&(a=c);const u=t-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=n.apply(i,r)):!o&&!1!==e.trailing&&(o=setTimeout(l,u)),s}}function _Me(n,t){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:mMe(s.value,n,t)}),this[r]}}}}var et=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",n}(et||{});function k9(n,t,e){return e===et.Top?n.top-7:e===et.Bottom?n.top+n.height-t.height+7:e===et.Center?n.top+n.height/2-t.height/2:void 0}function M9(n,t,e){return e===et.Left?n.left-7:e===et.Right?n.left+n.width-t.width+7:e===et.Center?n.left+n.width/2-t.width/2:void 0}class Rr{static calculateVerticalAlignment(t,e,i){let r=k9(t,e,i);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,i,r){let s;r===et.Top&&(s=t.height/2-i.height/2+7),r===et.Bottom&&(s=e.height-t.height/2-i.height/2-7),r===et.Center&&(s=e.height/2-i.height/2);const o=k9(t,e,r);return o+e.height>window.innerHeight&&(s+=o+e.height-window.innerHeight),s}static calculateHorizontalAlignment(t,e,i){let r=M9(t,e,i);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,i,r){let s;r===et.Left&&(s=t.width/2-i.width/2+7),r===et.Right&&(s=e.width-t.width/2-i.width/2-7),r===et.Center&&(s=e.width/2-i.width/2);const o=M9(t,e,r);return o+e.width>window.innerWidth&&(s+=o+e.width-window.innerWidth),s}static shouldFlip(t,e,i,r){let s=!1;return i===et.Right&&t.left+t.width+e.width+r>window.innerWidth&&(s=!0),i===et.Left&&t.left-e.width-r<0&&(s=!0),i===et.Top&&t.top-e.height-r<0&&(s=!0),i===et.Bottom&&t.top+t.height+e.height+r>window.innerHeight&&(s=!0),s}static positionCaret(t,e,i,r,s){let o=0,a=0;return t===et.Right?(a=-7,o=Rr.calculateVerticalCaret(i,e,r,s)):t===et.Left?(a=e.width,o=Rr.calculateVerticalCaret(i,e,r,s)):t===et.Top?(o=e.height,a=Rr.calculateHorizontalCaret(i,e,r,s)):t===et.Bottom&&(o=-7,a=Rr.calculateHorizontalCaret(i,e,r,s)),{top:o,left:a}}static positionContent(t,e,i,r,s){let o=0,a=0;return t===et.Right?(a=i.left+i.width+r,o=Rr.calculateVerticalAlignment(i,e,s)):t===et.Left?(a=i.left-e.width-r,o=Rr.calculateVerticalAlignment(i,e,s)):t===et.Top?(o=i.top-e.height-r,a=Rr.calculateHorizontalAlignment(i,e,s)):t===et.Bottom&&(o=i.top+i.height+r,a=Rr.calculateHorizontalAlignment(i,e,s)),{top:o,left:a}}static determinePlacement(t,e,i,r){if(Rr.shouldFlip(i,e,t,r)){if(t===et.Right)return et.Left;if(t===et.Left)return et.Right;if(t===et.Top)return et.Bottom;if(t===et.Bottom)return et.Top}return t}}let vMe=(()=>{class n{constructor(e,i,r){this.element=e,this.renderer=i,this.platformId=r}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Cu(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const r=e.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(e,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,r){const{top:s,left:o}=Rr.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${s}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,i){const r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=Rr.positionCaret(this.placement,i,e,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(e,i){this.placement=Rr.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(b(Je),b(_r),b(tr))},n.\u0275cmp=_t({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&af(wIe,5),2&e){let r;Lt(r=Ft())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(e,i){1&e&&re("resize",function(){return i.onWindowResize()},0,mO),2&e&&sa(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(E(0,"div"),xe(1,"span",0,1),E(3,"div",2),ae(4,EIe,2,4,"span",3),ae(5,AIe,1,1,"span",4),M()()),2&e&&(P(1),function tF(n,t,e){os(gr,Ns,ou(L(),n,t,e),!0)}("tooltip-caret position-",i.placement,""),$("hidden",!i.showCaret),P(3),$("ngIf",!i.title),P(1),$("ngIf",i.title))},dependencies:[Wr,Tu],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function rm(n,t,e,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}([_Me(100)],n.prototype,"onWindowResize",null),n})();class yMe{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const i=this.injectComponent(t,e);return this.register(t,i),i}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const i=e.indexOf(t);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs={...e,...t.inputs}),i&&(t.outputs={...i,...t.outputs}),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}let oR,R9=(()=>{class n{constructor(e,i,r){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function bMe(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const r=Object.getOwnPropertyNames(i.inputs);for(const s of r)e.instance[s]=i.inputs[s]}if(void 0!==i.outputs){const r=Object.getOwnPropertyNames(i.outputs);for(const s of r)e.instance[s]=i.outputs[s]}}return e}appendComponent(e,i={},r){r||(r=this.getRootViewContainer());const s=this.getComponentRootNode(r),o=new Lwe(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new R8(e),l=o.attach(a);return this.projectComponentBindings(l,i),l}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(O(go),O(Zc),O(Rn))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),iR=(()=>{class n extends yMe{constructor(e){super(e),this.type=vMe}}return n.\u0275fac=function(e){return new(e||n)(O(R9))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),V9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi]]}),n})(),H9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({providers:[R9,iR],imports:[[hi]]}),n})();typeof window<"u"?oR=window:typeof global<"u"&&(oR=global);let Nr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[hi,V9,H9],hi,V9,H9]}),n})(),PMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[Nr]]}),n})(),Y9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[Nr]]}),n})();CIe();let FMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[Nr]]}),n})(),VMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[Nr]]}),n})(),BMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[Nr]]}),n})(),K9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[Nr]]}),n})();Math;let lR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[Nr]]}),n})(),GMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[Nr,lR,K9]]}),n})(),zMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[Nr]]}),n})(),jMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[Nr]]}),n})(),qMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[Nr,lR,Y9]]}),n})(),KMe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[[Nr]]}),n})(),XMe=(()=>{class n{constructor(){!function YMe(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Se({type:n}),n.\u0275inj=we({imports:[Nr,PMe,Y9,FMe,VMe,BMe,KMe,K9,GMe,zMe,lR,jMe,qMe]}),n})(),QMe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Se({type:n,bootstrap:[Mwe]});static#n=this.\u0275inj=we({providers:[cg],imports:[ZV,kwe,dye,XMe,Aoe,wCe,Sk,Swe,rde(()=>sde(Rwe_firebase)),Hve(()=>$ve())]})}return n})();Dre().bootstrapModule(QMe).catch(n=>console.error(n))},178:to=>{function Pr(Wt){return Wt instanceof Buffer?Buffer.from(Wt):new Wt.constructor(Wt.buffer.slice(),Wt.byteOffset,Wt.length)}to.exports=function ja(Wt){return(Wt=Wt||{}).circles?function Ke(Wt){var qt=[],gn=[];return Wt.proto?function Ct(ve){if("object"!=typeof ve||null===ve)return ve;if(ve instanceof Date)return new Date(ve);if(Array.isArray(ve))return Ve(ve,Ct);if(ve instanceof Map)return new Map(Ve(Array.from(ve),Ct));if(ve instanceof Set)return new Set(Ve(Array.from(ve),Ct));var pe={};for(var pt in qt.push(ve),gn.push(pe),ve){var Ne=ve[pt];if("object"!=typeof Ne||null===Ne)pe[pt]=Ne;else if(Ne instanceof Date)pe[pt]=new Date(Ne);else if(Ne instanceof Map)pe[pt]=new Map(Ve(Array.from(Ne),Ct));else if(Ne instanceof Set)pe[pt]=new Set(Ve(Array.from(Ne),Ct));else if(ArrayBuffer.isView(Ne))pe[pt]=Pr(Ne);else{var Ot=qt.indexOf(Ne);pe[pt]=-1!==Ot?gn[Ot]:Ct(Ne)}}return qt.pop(),gn.pop(),pe}:function $e(ve){if("object"!=typeof ve||null===ve)return ve;if(ve instanceof Date)return new Date(ve);if(Array.isArray(ve))return Ve(ve,$e);if(ve instanceof Map)return new Map(Ve(Array.from(ve),$e));if(ve instanceof Set)return new Set(Ve(Array.from(ve),$e));var pe={};for(var pt in qt.push(ve),gn.push(pe),ve)if(!1!==Object.hasOwnProperty.call(ve,pt)){var Ne=ve[pt];if("object"!=typeof Ne||null===Ne)pe[pt]=Ne;else if(Ne instanceof Date)pe[pt]=new Date(Ne);else if(Ne instanceof Map)pe[pt]=new Map(Ve(Array.from(Ne),$e));else if(Ne instanceof Set)pe[pt]=new Set(Ve(Array.from(Ne),$e));else if(ArrayBuffer.isView(Ne))pe[pt]=Pr(Ne);else{var Ot=qt.indexOf(Ne);pe[pt]=-1!==Ot?gn[Ot]:$e(Ne)}}return qt.pop(),gn.pop(),pe};function Ve(ve,pe){for(var pt=Object.keys(ve),Ne=new Array(pt.length),Ot=0;Ot<pt.length;Ot++){var xs=pt[Ot],dr=ve[xs];if("object"!=typeof dr||null===dr)Ne[xs]=dr;else if(dr instanceof Date)Ne[xs]=new Date(dr);else if(ArrayBuffer.isView(dr))Ne[xs]=Pr(dr);else{var Ts=qt.indexOf(dr);Ne[xs]=-1!==Ts?gn[Ts]:pe(dr)}}return Ne}}(Wt):Wt.proto?function Ve($e){if("object"!=typeof $e||null===$e)return $e;if($e instanceof Date)return new Date($e);if(Array.isArray($e))return qt($e,Ve);if($e instanceof Map)return new Map(qt(Array.from($e),Ve));if($e instanceof Set)return new Set(qt(Array.from($e),Ve));var Ct={};for(var ve in $e){var pe=$e[ve];Ct[ve]="object"!=typeof pe||null===pe?pe:pe instanceof Date?new Date(pe):pe instanceof Map?new Map(qt(Array.from(pe),Ve)):pe instanceof Set?new Set(qt(Array.from(pe),Ve)):ArrayBuffer.isView(pe)?Pr(pe):Ve(pe)}return Ct}:function gn($e){if("object"!=typeof $e||null===$e)return $e;if($e instanceof Date)return new Date($e);if(Array.isArray($e))return qt($e,gn);if($e instanceof Map)return new Map(qt(Array.from($e),gn));if($e instanceof Set)return new Set(qt(Array.from($e),gn));var Ct={};for(var ve in $e)if(!1!==Object.hasOwnProperty.call($e,ve)){var pe=$e[ve];Ct[ve]="object"!=typeof pe||null===pe?pe:pe instanceof Date?new Date(pe):pe instanceof Map?new Map(qt(Array.from(pe),gn)):pe instanceof Set?new Set(qt(Array.from(pe),gn)):ArrayBuffer.isView(pe)?Pr(pe):gn(pe)}return Ct};function qt($e,Ct){for(var ve=Object.keys($e),pe=new Array(ve.length),pt=0;pt<ve.length;pt++){var Ne=ve[pt],Ot=$e[Ne];pe[Ne]="object"!=typeof Ot||null===Ot?Ot:Ot instanceof Date?new Date(Ot):ArrayBuffer.isView(Ot)?Pr(Ot):Ct(Ot)}return pe}}},614:()=>{const to=":";const Ya=function(w,...T){if(Ya.translate){const F=Ya.translate(w,T);w=F[0],T=F[1]}let N=sm(w[0],w.raw[0]);for(let F=1;F<w.length;F++)N+=T[F-1]+sm(w[F],w.raw[F]);return N},rm=":";function sm(w,T){return T.charAt(0)===rm?w.substring(function em(w,T){for(let N=1,F=1;N<w.length;N++,F++)if("\\"===T[F])F++;else if(w[N]===to)return N;throw new Error(`Unterminated $localize metadata block in "${T}".`)}(w,T)+1):w}globalThis.$localize=Ya}},to=>{var Pr=Ke=>to(to.s=Ke);Pr(614),Pr(285)}]);