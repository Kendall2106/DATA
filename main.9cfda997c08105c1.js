"use strict";(self.webpackChunkTrackify=self.webpackChunkTrackify||[]).push([[179],{397:(mo,zr,ll)=>{function Qe(n){return"function"==typeof n}function Kt(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Xt=Kt(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function yn(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class He{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Qe(i))try{i()}catch(s){t=s instanceof Xt?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ye(s)}catch(o){t=t??[],o instanceof Xt?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Xt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ye(t);else{if(t instanceof He){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&yn(e,t)}remove(t){const{_finalizers:e}=this;e&&yn(e,t),t instanceof He&&t._removeParent(this)}}He.EMPTY=(()=>{const n=new He;return n.closed=!0,n})();const Ge=He.EMPTY;function St(n){return n instanceof He||n&&"closed"in n&&Qe(n.remove)&&Qe(n.add)&&Qe(n.unsubscribe)}function ye(n){Qe(n)?n():n.unsubscribe()}const ge={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},mt={setTimeout(n,t,...e){const{delegate:i}=mt;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=mt;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Le(n){mt.setTimeout(()=>{const{onUnhandledError:t}=ge;if(!t)throw n;t(n)})}function Ht(){}const Rs=Th("C",void 0,void 0);function Th(n,t,e){return{kind:n,value:t,error:e}}let Ps=null;function cl(n){if(ge.useDeprecatedSynchronousErrorHandling){const t=!Ps;if(t&&(Ps={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Ps;if(Ps=null,e)throw i}}else n()}class Bc extends He{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,St(t)&&t.add(this)):this.destination=Tm}static create(t,e,i){return new ul(t,e,i)}next(t){this.isStopped?Ch(function Ns(n){return Th("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ch(function Cr(n){return Th("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ch(Rs,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xh=Function.prototype.bind;function jr(n,t){return xh.call(n,t)}class bm{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ua(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ua(i)}else ua(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ua(e)}}}class ul extends Bc{constructor(t,e,i){let r;if(super(),Qe(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&ge.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&jr(t.next,s),error:t.error&&jr(t.error,s),complete:t.complete&&jr(t.complete,s)}):r=t}this.destination=new bm(r)}}function ua(n){ge.useDeprecatedSynchronousErrorHandling?function ym(n){ge.useDeprecatedSynchronousErrorHandling&&Ps&&(Ps.errorThrown=!0,Ps.error=n)}(n):Le(n)}function Ch(n,t){const{onStoppedNotification:e}=ge;e&&mt.setTimeout(()=>e(n,t))}const Tm={closed:!0,next:Ht,error:function OT(n){throw n},complete:Ht},wh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wr(n){return n}function xm(n){return 0===n.length?Wr:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let ct=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function FT(n){return n&&n instanceof Bc||function wm(n){return n&&Qe(n.next)&&Qe(n.error)&&Qe(n.complete)}(n)&&St(n)}(e)?e:new ul(e,i,r);return cl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Cm(i))((r,s)=>{const o=new ul({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[wh](){return this}pipe(...e){return xm(e)(this)}toPromise(e){return new(e=Cm(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function Cm(n){var t;return null!==(t=n??ge.Promise)&&void 0!==t?t:Promise}const Sm=Kt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ee=(()=>{class n extends ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new VT(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Sm}next(e){cl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){cl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){cl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Ge:(this.currentObservers=null,s.push(e),new He(()=>{this.currentObservers=null,yn(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new ct;return e.source=this,e}}return n.create=(t,e)=>new VT(t,e),n})();class VT extends Ee{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Ge}}function Em(n){return Qe(n?.lift)}function Qt(n){return t=>{if(Em(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function It(n,t,e,i,r){return new Dm(n,t,e,i,r)}class Dm extends Bc{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ze(n,t){return Qt((e,i)=>{let r=0;e.subscribe(It(i,s=>{i.next(n.call(t,s,r++))}))})}function dl(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}function Ln(n){return this instanceof Ln?(this.v=n,this):new Ln(n)}function da(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function On(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const UT=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ZR(n){return Qe(n?.then)}function JR(n){return Qe(n[wh])}function eN(n){return Symbol.asyncIterator&&Qe(n?.[Symbol.asyncIterator])}function tN(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const nN=function Mq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function iN(n){return Qe(n?.[nN])}function rN(n){return function fl(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Ln?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Ln(e.read());if(r)return yield Ln(void 0);yield yield Ln(i)}}finally{e.releaseLock()}})}function sN(n){return Qe(n?.getReader)}function Vn(n){if(n instanceof ct)return n;if(null!=n){if(JR(n))return function Rq(n){return new ct(t=>{const e=n[wh]();if(Qe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(UT(n))return function Nq(n){return new ct(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(ZR(n))return function Pq(n){return new ct(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Le)})}(n);if(eN(n))return oN(n);if(iN(n))return function Oq(n){return new ct(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(sN(n))return function Lq(n){return oN(rN(n))}(n)}throw tN(n)}function oN(n){return new ct(t=>{(function Fq(n,t){var e,i,r,s;return function pe(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=da(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function vo(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Wn(n,t,e=1/0){return Qe(t)?Wn((i,r)=>ze((s,o)=>t(i,s,r,o))(Vn(n(i,r))),e):("number"==typeof t&&(e=t),Qt((i,r)=>function Vq(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{s&&t.next(m),c++;let g=!1;Vn(e(m,u++)).subscribe(It(t,v=>{r?.(v),s?f(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const v=l.shift();o?vo(t,o,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return n.subscribe(It(t,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function $c(n=1/0){return Wn(Wr,n)}const qr=new ct(n=>n.complete());function aN(n){return n&&Qe(n.schedule)}function GT(n){return n[n.length-1]}function Mm(n){return Qe(GT(n))?n.pop():void 0}function Dh(n){return aN(GT(n))?n.pop():void 0}function Rm(n,t=0){return Qt((e,i)=>{e.subscribe(It(i,r=>vo(i,n,()=>i.next(r),t),()=>vo(i,n,()=>i.complete(),t),r=>vo(i,n,()=>i.error(r),t)))})}function Nm(n,t=0){return Qt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function lN(n,t){if(!n)throw new Error("Iterable cannot be null");return new ct(e=>{vo(e,t,()=>{const i=n[Symbol.asyncIterator]();vo(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function qn(n,t){return t?function Wq(n,t){if(null!=n){if(JR(n))return function $q(n,t){return Vn(n).pipe(Nm(t),Rm(t))}(n,t);if(UT(n))return function Gq(n,t){return new ct(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(ZR(n))return function Uq(n,t){return Vn(n).pipe(Nm(t),Rm(t))}(n,t);if(eN(n))return lN(n,t);if(iN(n))return function zq(n,t){return new ct(e=>{let i;return vo(e,t,()=>{i=n[nN](),vo(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>Qe(i?.return)&&i.return()})}(n,t);if(sN(n))return function jq(n,t){return lN(rN(n),t)}(n,t)}throw tN(n)}(n,t):Vn(n)}function Ah(...n){const t=Dh(n),e=function Hq(n,t){return"number"==typeof GT(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Vn(i[0]):$c(e)(qn(i,t)):qr}class Bn extends Ee{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function Se(...n){return qn(n,Dh(n))}function cN(n={}){const{connector:t=(()=>new Ee),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Qt((m,g)=>{c++,!d&&!u&&h();const v=l=l??t();g.add(()=>{c--,0===c&&!d&&!u&&(a=zT(p,r))}),v.subscribe(g),!o&&c>0&&(o=new ul({next:_=>v.next(_),error:_=>{d=!0,h(),a=zT(f,e,_),v.error(_)},complete:()=>{u=!0,h(),a=zT(f,i),v.complete()}}),Vn(m).subscribe(o))})(s)}}function zT(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new ul({next:()=>{i.unsubscribe(),n()}});return Vn(t(...e)).subscribe(i)}function or(n,t){return Qt((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(It(i,l=>{r?.unsubscribe();let c=0;const u=s++;Vn(n(l,u)).subscribe(r=It(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function qq(n,t){return n===t}function Mt(n){for(let t in n)if(n[t]===Mt)return t;throw Error("Could not find renamed property on target object.")}function Om(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Yn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Yn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function jT(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Yq=Mt({__forward_ref__:Mt});function _t(n){return n.__forward_ref__=_t,n.toString=function(){return Yn(this())},n}function Re(n){return WT(n)?n():n}function WT(n){return"function"==typeof n&&n.hasOwnProperty(Yq)&&n.__forward_ref__===_t}function qT(n){return n&&!!n.\u0275providers}const uN="https://g.co/ng/security#xss";class P extends Error{constructor(t,e){super(function Lm(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Fe(n){return"string"==typeof n?n:null==n?"":String(n)}function YT(n,t){throw new P(-201,!1)}function Yr(n,t){null==n&&function ke(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function be(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fm(n){return dN(n,Bm)||dN(n,hN)}function dN(n,t){return n.hasOwnProperty(t)?n[t]:null}function Vm(n){return n&&(n.hasOwnProperty(KT)||n.hasOwnProperty(nY))?n[KT]:null}const Bm=Mt({\u0275prov:Mt}),KT=Mt({\u0275inj:Mt}),hN=Mt({ngInjectableDef:Mt}),nY=Mt({ngInjectorDef:Mt});var Je=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Je||{});let XT;function ar(n){const t=XT;return XT=n,t}function pN(n,t,e){const i=Fm(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Je.Optional?null:void 0!==t?t:void YT(Yn(n))}const Ut=globalThis;class q{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=z({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ih={},tx="__NG_DI_FLAG__",Hm="ngTempTokenPath",sY=/\n/gm,mN="__source";let Uc;function ha(n){const t=Uc;return Uc=n,t}function lY(n,t=Je.Default){if(void 0===Uc)throw new P(-203,!1);return null===Uc?pN(n,void 0,t):Uc.get(n,t&Je.Optional?null:void 0,t)}function L(n,t=Je.Default){return(function fN(){return XT}()||lY)(Re(n),t)}function te(n,t=Je.Default){return L(n,$m(t))}function $m(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function nx(n){const t=[];for(let e=0;e<n.length;e++){const i=Re(n[e]);if(Array.isArray(i)){if(0===i.length)throw new P(900,!1);let r,s=Je.Default;for(let o=0;o<i.length;o++){const a=i[o],l=cY(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(L(r,s))}else t.push(L(i))}return t}function kh(n,t){return n[tx]=t,n.prototype[tx]=t,n}function cY(n){return n[tx]}function yo(n){return{toString:n}.toString()}var Um=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Um||{}),Kr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Kr||{});const Os={},vt=[],Gm=Mt({\u0275cmp:Mt}),ix=Mt({\u0275dir:Mt}),rx=Mt({\u0275pipe:Mt}),vN=Mt({\u0275mod:Mt}),bo=Mt({\u0275fac:Mt}),Mh=Mt({__NG_ELEMENT_ID__:Mt}),yN=Mt({__NG_ENV_ID__:Mt});function bN(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function sx(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];xN(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function TN(n){return 3===n||4===n||6===n}function xN(n){return 64===n.charCodeAt(0)}function Rh(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||CN(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function CN(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const wN="ng-template";function hY(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==bN(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function SN(n){return 4===n.type&&n.value!==wN}function fY(n,t,e){return t===(4!==n.type||e?n.value:wN)}function pY(n,t,e){let i=4;const r=n.attrs||[],s=function _Y(n){for(let t=0;t<n.length;t++)if(TN(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!fY(n,l,e)||""===l&&1===t.length){if(ds(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!hY(n.attrs,c,e)){if(ds(i))return!1;o=!0}continue}const d=gY(8&i?"class":l,r,SN(n),e);if(-1===d){if(ds(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==bN(f,c,0)||2&i&&c!==h){if(ds(i))return!1;o=!0}}}}else{if(!o&&!ds(i)&&!ds(l))return!1;if(o&&ds(l))continue;o=!1,i=l|1&i}}return ds(i)||o}function ds(n){return 0==(1&n)}function gY(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function vY(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function EN(n,t,e=!1){for(let i=0;i<t.length;i++)if(pY(n,t[i],e))return!0;return!1}function yY(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function DN(n,t){return n?":not("+t.trim()+")":t}function bY(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!ds(o)&&(t+=DN(s,r),r=""),i=o,s=s||!ds(i);e++}return""!==r&&(t+=DN(s,r)),t}function Pe(n){return yo(()=>{const t=IN(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Um.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Kr.Emulated,styles:n.styles||vt,_:null,schemas:n.schemas||null,tView:null,id:""};kN(e);const i=n.dependencies;return e.directiveDefs=zm(i,!1),e.pipeDefs=zm(i,!0),e.id=function AY(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function wY(n){return ut(n)||mi(n)}function SY(n){return null!==n}function xe(n){return yo(()=>({type:n.type,bootstrap:n.bootstrap||vt,declarations:n.declarations||vt,imports:n.imports||vt,exports:n.exports||vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function AN(n,t){if(null==n)return Os;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function Q(n){return yo(()=>{const t=IN(n);return kN(t),t})}function ut(n){return n[Gm]||null}function mi(n){return n[ix]||null}function qi(n){return n[rx]||null}function Sr(n,t){const e=n[vN]||null;if(!e&&!0===t)throw new Error(`Type ${Yn(n)} does not have '\u0275mod' property.`);return e}function IN(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Os,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||vt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AN(n.inputs,t),outputs:AN(n.outputs)}}function kN(n){n.features?.forEach(t=>t(n))}function zm(n,t){if(!n)return null;const e=t?qi:wY;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(SY)}const bn=0,ue=1,je=2,rn=3,hs=4,Nh=5,Ni=6,zc=7,Sn=8,fa=9,jc=10,Ve=11,Ph=12,MN=13,Wc=14,En=15,Oh=16,qc=17,Ls=18,Lh=19,RN=20,pa=21,To=22,Fh=23,Vh=24,et=25,ox=1,NN=2,Fs=7,Yc=9,_i=11;function cr(n){return Array.isArray(n)&&"object"==typeof n[ox]}function Yi(n){return Array.isArray(n)&&!0===n[ox]}function ax(n){return 0!=(4&n.flags)}function gl(n){return n.componentOffset>-1}function Wm(n){return 1==(1&n.flags)}function fs(n){return!!n.template}function lx(n){return 0!=(512&n[je])}function ml(n,t){return n.hasOwnProperty(bo)?n[bo]:null}let vi=null,qm=!1;function Xr(n){const t=vi;return vi=n,t}const LN={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function VN(n){if(!Hh(n)||n.dirty){if(!n.producerMustRecompute(n)&&!$N(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function HN(n){n.dirty=!0,function BN(n){if(void 0===n.liveConsumerNode)return;const t=qm;qm=!0;try{for(const e of n.liveConsumerNode)e.dirty||HN(e)}finally{qm=t}}(n),n.consumerMarkedDirty?.(n)}function ux(n){return n&&(n.nextProducerIndex=0),Xr(n)}function dx(n,t){if(Xr(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Hh(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Ym(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function $N(n){Kc(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(VN(e),i!==e.version))return!0}return!1}function UN(n){if(Kc(n),Hh(n))for(let t=0;t<n.producerNode.length;t++)Ym(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ym(n,t){if(function zN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Kc(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Ym(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Kc(r),r.producerIndexOfThis[i]=t}}function Hh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Kc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let jN=null;const KN=()=>{},$Y=(()=>({...LN,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:KN}))();class UY{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function At(){return XN}function XN(n){return n.type.prototype.ngOnChanges&&(n.setInput=zY),GY}function GY(){const n=ZN(this),t=n?.current;if(t){const e=n.previous;if(e===Os)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function zY(n,t,e,i){const r=this.declaredInputs[e],s=ZN(n)||function jY(n,t){return n[QN]=t}(n,{previous:Os,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new UY(l&&l.currentValue,t,a===Os),n[i]=t}At.ngInherit=!0;const QN="__ngSimpleChanges__";function ZN(n){return n[QN]||null}const Vs=function(n,t,e){};function Gt(n){for(;Array.isArray(n);)n=n[bn];return n}function Km(n,t){return Gt(t[n])}function ur(n,t){return Gt(t[n.index])}function tP(n,t){return n.data[t]}function Er(n,t){const e=t[n];return cr(e)?e:e[bn]}function ma(n,t){return null==t?null:n[t]}function nP(n){n[qc]=0}function QY(n){1024&n[je]||(n[je]|=1024,rP(n,1))}function iP(n){1024&n[je]&&(n[je]&=-1025,rP(n,-1))}function rP(n,t){let e=n[rn];if(null===e)return;e[Nh]+=t;let i=e;for(e=e[rn];null!==e&&(1===t&&1===i[Nh]||-1===t&&0===i[Nh]);)e[Nh]+=t,i=e,e=e[rn]}const Me={lFrame:gP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function aP(){return Me.bindingsEnabled}function Qc(){return null!==Me.skipHydrationRootTNode}function F(){return Me.lFrame.lView}function dt(){return Me.lFrame.tView}function Ft(n){return Me.lFrame.contextLView=n,n[Sn]}function Vt(n){return Me.lFrame.contextLView=null,n}function yi(){let n=lP();for(;null!==n&&64===n.type;)n=n.parent;return n}function lP(){return Me.lFrame.currentTNode}function Bs(n,t){const e=Me.lFrame;e.currentTNode=n,e.isParent=t}function mx(){return Me.lFrame.isParent}function _x(){Me.lFrame.isParent=!1}function Ki(){const n=Me.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Zc(){return Me.lFrame.bindingIndex++}function Co(n){const t=Me.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function cK(n,t){const e=Me.lFrame;e.bindingIndex=e.bindingRootIndex=n,vx(t)}function vx(n){Me.lFrame.currentDirectiveIndex=n}function hP(){return Me.lFrame.currentQueryIndex}function bx(n){Me.lFrame.currentQueryIndex=n}function dK(n){const t=n[ue];return 2===t.type?t.declTNode:1===t.type?n[Ni]:null}function fP(n,t,e){if(e&Je.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Je.Host||(r=dK(s),null===r||(s=s[Wc],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Me.lFrame=pP();return i.currentTNode=t,i.lView=n,!0}function Tx(n){const t=pP(),e=n[ue];Me.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function pP(){const n=Me.lFrame,t=null===n?null:n.child;return null===t?gP(n):t}function gP(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function mP(){const n=Me.lFrame;return Me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _P=mP;function xx(){const n=mP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Xi(){return Me.lFrame.selectedIndex}function _l(n){Me.lFrame.selectedIndex=n}function hn(){const n=Me.lFrame;return tP(n.tView,n.selectedIndex)}function fn(){Me.lFrame.currentNamespace="svg"}let yP=!0;function Qm(){return yP}function _a(n){yP=n}function Zm(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function Jm(n,t,e){bP(n,t,3,e)}function e_(n,t,e,i){(3&n[je])===e&&bP(n,t,e,i)}function Cx(n,t){let e=n[je];(3&e)===t&&(e&=8191,e+=1,n[je]=e)}function bP(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[qc]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[qc]+=65536),(a<s||-1==s)&&(_K(n,e,t,l),n[qc]=(4294901760&n[qc])+l+2),l++}function TP(n,t){Vs(4,n,t);const e=Xr(null);try{t.call(n)}finally{Xr(e),Vs(5,n,t)}}function _K(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];r?n[je]>>13<n[qc]>>16&&(3&n[je])===t&&(n[je]+=8192,TP(a,s)):TP(a,s)}const Jc=-1;class Uh{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Sx(n){return n!==Jc}function Gh(n){return 32767&n}function zh(n,t){let e=function TK(n){return n>>16}(n),i=t;for(;e>0;)i=i[Wc],e--;return i}let Ex=!0;function t_(n){const t=Ex;return Ex=n,t}const xP=255,CP=5;let xK=0;const Hs={};function n_(n,t){const e=wP(n,t);if(-1!==e)return e;const i=t[ue];i.firstCreatePass&&(n.injectorIndex=t.length,Dx(i.data,n),Dx(t,null),Dx(i.blueprint,null));const r=i_(n,t),s=n.injectorIndex;if(Sx(r)){const o=Gh(r),a=zh(r,t),l=a[ue].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function Dx(n,t){n.push(0,0,0,0,0,0,0,0,t)}function wP(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function i_(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=MP(r),null===i)return Jc;if(e++,r=r[Wc],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Jc}function Ax(n,t,e){!function CK(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Mh)&&(i=e[Mh]),null==i&&(i=e[Mh]=xK++);const r=i&xP;t.data[n+(r>>CP)]|=1<<r}(n,t,e)}function SP(n,t,e){if(e&Je.Optional||void 0!==n)return n;YT()}function EP(n,t,e,i){if(e&Je.Optional&&void 0===i&&(i=null),!(e&(Je.Self|Je.Host))){const r=n[fa],s=ar(void 0);try{return r?r.get(t,i,e&Je.Optional):pN(t,i,e&Je.Optional)}finally{ar(s)}}return SP(i,0,e)}function DP(n,t,e,i=Je.Default,r){if(null!==n){if(2048&t[je]&&!(i&Je.Self)){const o=function IK(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[je]&&!(512&o[je]);){const a=AP(s,o,e,i|Je.Self,Hs);if(a!==Hs)return a;let l=s.parent;if(!l){const c=o[RN];if(c){const u=c.get(e,Hs,i);if(u!==Hs)return u}l=MP(o),o=o[Wc]}s=l}return r}(n,t,e,i,Hs);if(o!==Hs)return o}const s=AP(n,t,e,i,Hs);if(s!==Hs)return s}return EP(t,e,i,r)}function AP(n,t,e,i,r){const s=function EK(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Mh)?n[Mh]:void 0;return"number"==typeof t?t>=0?t&xP:AK:t}(e);if("function"==typeof s){if(!fP(t,n,i))return i&Je.Host?SP(r,0,i):EP(t,e,i,r);try{let o;if(o=s(i),null!=o||i&Je.Optional)return o;YT()}finally{_P()}}else if("number"==typeof s){let o=null,a=wP(n,t),l=Jc,c=i&Je.Host?t[En][Ni]:null;for((-1===a||i&Je.SkipSelf)&&(l=-1===a?i_(n,t):t[a+8],l!==Jc&&kP(i,!1)?(o=t[ue],a=Gh(l),t=zh(l,t)):a=-1);-1!==a;){const u=t[ue];if(IP(s,a,u.data)){const d=SK(a,t,e,o,i,c);if(d!==Hs)return d}l=t[a+8],l!==Jc&&kP(i,t[ue].data[a+8]===c)&&IP(s,a,t)?(o=u,a=Gh(l),t=zh(l,t)):a=-1}}return r}function SK(n,t,e,i,r,s){const o=t[ue],a=o.data[n+8],u=r_(a,o,e,null==i?gl(a)&&Ex:i!=o&&0!=(3&a.type),r&Je.Host&&s===a);return null!==u?vl(t,o,u,a):Hs}function r_(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=o[l];if(f&&fs(f)&&f.type===e)return l}return null}function vl(n,t,e,i){let r=n[e];const s=t.data;if(function vK(n){return n instanceof Uh}(r)){const o=r;o.resolving&&function Kq(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new P(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Fe(n)}(s[e]));const a=t_(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?ar(o.injectImpl):null;fP(n,i,Je.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function mK(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=XN(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&ar(c),t_(a),o.resolving=!1,_P()}}return r}function IP(n,t,e){return!!(e[t+(n>>CP)]&1<<n)}function kP(n,t){return!(n&Je.Self||n&Je.Host&&t)}class Qi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return DP(this._tNode,this._lView,t,$m(i),e)}}function AK(){return new Qi(yi(),F())}function Dn(n){return yo(()=>{const t=n.prototype.constructor,e=t[bo]||Ix(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[bo]||Ix(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Ix(n){return WT(n)?()=>{const t=Ix(Re(n));return t&&t()}:ml(n)}function MP(n){const t=n[ue],e=t.type;return 2===e?t.declTNode:1===e?n[Ni]:null}const nu="__parameters__";function ru(n,t,e){return yo(()=>{const i=function kx(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(nu)?l[nu]:Object.defineProperty(l,nu,{value:[]})[nu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function ou(n,t){n.forEach(e=>Array.isArray(e)?ou(e,t):t(e))}function NP(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function s_(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function qh(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Dr(n,t,e){let i=au(n,t);return i>=0?n[1|i]=e:(i=~i,function LK(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Mx(n,t){const e=au(n,t);if(e>=0)return n[1|e]}function au(n,t){return function PP(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Zr=kh(ru("Optional"),8),a_=kh(ru("SkipSelf"),4);function h_(n){return 128==(128&n.flags)}var va=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(va||{});const iX=/^>|^->|<!--|-->|--!>|<!-$/g,rX=/(<|>)/g,sX="\u200b$1\u200b";const Lx=new Map;let oX=0;const Vx="__ngContext__";function Pi(n,t){cr(t)?(n[Vx]=t[Lh],function lX(n){Lx.set(n[Lh],n)}(t)):n[Vx]=t}let Bx;function Hx(n,t){return Bx(n,t)}function Xh(n){const t=n[rn];return Yi(t)?t[rn]:t}function eO(n){return nO(n[Ph])}function tO(n){return nO(n[hs])}function nO(n){for(;null!==n&&!Yi(n);)n=n[hs];return n}function uu(n,t,e,i,r){if(null!=i){let s,o=!1;Yi(i)?s=i:cr(i)&&(o=!0,i=i[bn]);const a=Gt(i);0===n&&null!==e?null==r?oO(t,e,a):yl(t,e,a,r||null,!0):1===n&&null!==e?yl(t,e,a,r||null,!0):2===n?function y_(n,t,e){const i=__(n,t);i&&function DX(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function kX(n,t,e,i,r){const s=e[Fs];s!==Gt(e)&&uu(t,n,i,s,r);for(let a=_i;a<e.length;a++){const l=e[a];Zh(l[ue],l,n,t,i,s)}}(t,n,s,e,r)}}function $x(n,t){return n.createComment(function WP(n){return n.replace(iX,t=>t.replace(rX,sX))}(t))}function g_(n,t,e){return n.createElement(t,e)}function rO(n,t){const e=n[Yc],i=e.indexOf(t);iP(t),e.splice(i,1)}function m_(n,t){if(n.length<=_i)return;const e=_i+t,i=n[e];if(i){const r=i[Oh];null!==r&&r!==n&&rO(r,i),t>0&&(n[e-1][hs]=i[hs]);const s=s_(n,_i+t);!function yX(n,t){Zh(n,t,t[Ve],2,null,null),t[bn]=null,t[Ni]=null}(i[ue],i);const o=s[Ls];null!==o&&o.detachView(s[ue]),i[rn]=null,i[hs]=null,i[je]&=-129}return i}function Ux(n,t){if(!(256&t[je])){const e=t[Ve];t[Fh]&&UN(t[Fh]),t[Vh]&&UN(t[Vh]),e.destroyNode&&Zh(n,t,e,3,null,null),function xX(n){let t=n[Ph];if(!t)return Gx(n[ue],n);for(;t;){let e=null;if(cr(t))e=t[Ph];else{const i=t[_i];i&&(e=i)}if(!e){for(;t&&!t[hs]&&t!==n;)cr(t)&&Gx(t[ue],t),t=t[rn];null===t&&(t=n),cr(t)&&Gx(t[ue],t),e=t&&t[hs]}t=e}}(t)}}function Gx(n,t){if(!(256&t[je])){t[je]&=-129,t[je]|=256,function EX(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Uh)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Vs(4,a,l);try{l.call(a)}finally{Vs(5,a,l)}}else{Vs(4,r,s);try{s.call(r)}finally{Vs(5,r,s)}}}}}(n,t),function SX(n,t){const e=n.cleanup,i=t[zc];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[zc]=null);const r=t[pa];if(null!==r){t[pa]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[ue].type&&t[Ve].destroy();const e=t[Oh];if(null!==e&&Yi(t[rn])){e!==t[rn]&&rO(e,t);const i=t[Ls];null!==i&&i.detachView(n)}!function cX(n){Lx.delete(n[Lh])}(t)}}function zx(n,t,e){return function sO(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[bn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Kr.None||s===Kr.Emulated)return null}return ur(i,e)}}(n,t.parent,e)}function yl(n,t,e,i,r){n.insertBefore(t,e,i,r)}function oO(n,t,e){n.appendChild(t,e)}function aO(n,t,e,i,r){null!==i?yl(n,t,e,i,r):oO(n,t,e)}function __(n,t){return n.parentNode(t)}function lO(n,t,e){return uO(n,t,e)}let jx,b_,Kx,T_,uO=function cO(n,t,e){return 40&n.type?ur(n,e):null};function v_(n,t,e,i){const r=zx(n,i,t),s=t[Ve],a=lO(i.parent||t[Ni],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)aO(s,r,e[l],a,!1);else aO(s,r,e,a,!1);void 0!==jx&&jx(s,i,t,e,r)}function Qh(n,t){if(null!==t){const e=t.type;if(3&e)return ur(t,n);if(4&e)return Wx(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Qh(n,i);{const r=n[t.index];return Yi(r)?Wx(-1,r):Gt(r)}}if(32&e)return Hx(t,n)()||Gt(n[t.index]);{const i=hO(n,t);return null!==i?Array.isArray(i)?i[0]:Qh(Xh(n[En]),i):Qh(n,t.next)}}return null}function hO(n,t){return null!==t?n[En][Ni].projection[t.projection]:null}function Wx(n,t){const e=_i+n+1;if(e<t.length){const i=t[e],r=i[ue].firstChild;if(null!==r)return Qh(i,r)}return t[Fs]}function qx(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&Pi(Gt(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)qx(n,t,e.child,i,r,s,!1),uu(t,n,r,a,s);else if(32&l){const c=Hx(e,i);let u;for(;u=c();)uu(t,n,r,u,s);uu(t,n,r,a,s)}else 16&l?pO(n,t,i,e,r,s):uu(t,n,r,a,s);e=o?e.projectionNext:e.next}}function Zh(n,t,e,i,r,s){qx(e,i,n.firstChild,t,r,s,!1)}function pO(n,t,e,i,r,s){const o=e[En],l=o[Ni].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)uu(t,n,r,l[c],s);else{let c=l;const u=o[rn];h_(i)&&(c.flags|=128),qx(n,t,c,u,r,s,!0)}}function gO(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function mO(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&sx(n,t,i),null!==r&&gO(n,t,r),null!==s&&function RX(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function du(n){return function Yx(){if(void 0===b_&&(b_=null,Ut.trustedTypes))try{b_=Ut.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return b_}()?.createHTML(n)||n}function hu(){if(void 0!==Kx)return Kx;if(typeof document<"u")return document;throw new P(210,!1)}function _O(n){return function Xx(){if(void 0===T_&&(T_=null,Ut.trustedTypes))try{T_=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return T_}()?.createHTML(n)||n}class bO{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uN})`}}function ya(n){return n instanceof bO?n.changingThisBreaksApplicationSecurity:n}function Jh(n,t){const e=function UX(n){return n instanceof bO&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${uN})`)}return e===t}class GX{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(du(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class zX{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=du(t),e}}const WX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qx(n){return(n=String(n)).match(WX)?n:"unsafe:"+n}function wo(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function ef(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const xO=wo("area,br,col,hr,img,wbr"),CO=wo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wO=wo("rp,rt"),Zx=ef(xO,ef(CO,wo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ef(wO,wo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ef(wO,CO)),Jx=wo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SO=ef(Jx,wo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qX=wo("script,style,template");class YX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Zx.hasOwnProperty(e))return this.sanitizedSomething=!0,!qX.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!SO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Jx[a]&&(l=Qx(l)),this.buf.push(" ",o,'="',EO(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Zx.hasOwnProperty(e)&&!xO.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(EO(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const KX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,XX=/([^\#-~ |!])/g;function EO(n){return n.replace(/&/g,"&amp;").replace(KX,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(XX,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let x_;function eC(n){return"content"in n&&function ZX(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var fu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(fu||{});function DO(n){const t=tf();return t?_O(t.sanitize(fu.HTML,n)||""):Jh(n,"HTML")?_O(ya(n)):function QX(n,t){let e=null;try{x_=x_||function TO(n){const t=new zX(n);return function jX(){try{return!!(new window.DOMParser).parseFromString(du(""),"text/html")}catch{return!1}}()?new GX(t):t}(n);let i=t?String(t):"";e=x_.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=x_.getInertBodyElement(i)}while(i!==s);return du((new YX).sanitizeChildren(eC(e)||e))}finally{if(e){const i=eC(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(hu(),Fe(n))}function $s(n){const t=tf();return t?t.sanitize(fu.URL,n)||"":Jh(n,"URL")?ya(n):Qx(Fe(n))}function tf(){const n=F();return n&&n[jc].sanitizer}const nf=new q("ENVIRONMENT_INITIALIZER"),kO=new q("INJECTOR",-1),MO=new q("INJECTOR_DEF_TYPES");class tC{get(t,e=Ih){if(e===Ih){const i=new Error(`NullInjectorError: No provider for ${Yn(t)}!`);throw i.name="NullInjectorError",i}return e}}function rQ(...n){return{\u0275providers:RO(0,n),\u0275fromNgModule:!0}}function RO(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return ou(t,o=>{const a=o;C_(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&NO(r,s),e}function NO(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];iC(r,s=>{t(s,i)})}}function C_(n,t,e,i){if(!(n=Re(n)))return!1;let r=null,s=Vm(n);const o=!s&&ut(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=Vm(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)C_(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{ou(s.imports,u=>{C_(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&NO(c,t)}if(!a){const c=ml(r)||(()=>new r);t({provide:r,useFactory:c,deps:vt},r),t({provide:MO,useValue:r,multi:!0},r),t({provide:nf,useValue:()=>L(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;iC(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function iC(n,t){for(let e of n)qT(e)&&(e=e.\u0275providers),Array.isArray(e)?iC(e,t):t(e)}const sQ=Mt({provide:String,useValue:Mt});function rC(n){return null!==n&&"object"==typeof n&&sQ in n}function bl(n){return"function"==typeof n}const sC=new q("Set Injector scope."),w_={},aQ={};let oC;function S_(){return void 0===oC&&(oC=new tC),oC}class hr{}class pu extends hr{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lC(t,o=>this.processProvider(o)),this.records.set(kO,gu(void 0,this)),r.has("environment")&&this.records.set(hr,gu(void 0,this));const s=this.records.get(sC);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(MO.multi,vt,Je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=ha(this),i=ar(void 0);try{return t()}finally{ha(e),ar(i)}}get(t,e=Ih,i=Je.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(yN))return t[yN](this);i=$m(i);const s=ha(this),o=ar(void 0);try{if(!(i&Je.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function hQ(n){return"function"==typeof n||"object"==typeof n&&n instanceof q}(t)&&Fm(t);l=c&&this.injectableDefInScope(c)?gu(aC(t),w_):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Je.Self?S_():this.parent).get(t,e=i&Je.Optional&&e===Ih?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Hm]=a[Hm]||[]).unshift(Yn(t)),s)throw a;return function uY(n,t,e,i){const r=n[Hm];throw t[mN]&&r.unshift(t[mN]),n.message=function dY(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Yn(t);if(Array.isArray(t))r=t.map(Yn).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Yn(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(sY,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Hm]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{ar(o),ha(s)}}resolveInjectorInitializers(){const t=ha(this),e=ar(void 0);try{const r=this.get(nf.multi,vt,Je.Self);for(const s of r)s()}finally{ha(t),ar(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Yn(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(t){let e=bl(t=Re(t))?t:Re(t&&t.provide);const i=function cQ(n){return rC(n)?gu(void 0,n.useValue):gu(LO(n),w_)}(t);if(bl(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=gu(void 0,w_,!0),r.factory=()=>nx(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===w_&&(e.value=aQ,e.value=e.factory()),"object"==typeof e.value&&e.value&&function dQ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Re(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function aC(n){const t=Fm(n),e=null!==t?t.factory:ml(n);if(null!==e)return e;if(n instanceof q)throw new P(204,!1);if(n instanceof Function)return function lQ(n){const t=n.length;if(t>0)throw qh(t,"?"),new P(204,!1);const e=function tY(n){return n&&(n[Bm]||n[hN])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new P(204,!1)}function LO(n,t,e){let i;if(bl(n)){const r=Re(n);return ml(r)||aC(r)}if(rC(n))i=()=>Re(n.useValue);else if(function OO(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...nx(n.deps||[]));else if(function PO(n){return!(!n||!n.useExisting)}(n))i=()=>L(Re(n.useExisting));else{const r=Re(n&&(n.useClass||n.provide));if(!function uQ(n){return!!n.deps}(n))return ml(r)||aC(r);i=()=>new r(...nx(n.deps))}return i}function gu(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function lC(n,t){for(const e of n)Array.isArray(e)?lC(e,t):e&&qT(e)?lC(e.\u0275providers,t):t(e)}const E_=new q("AppId",{providedIn:"root",factory:()=>fQ}),fQ="ng",FO=new q("Platform Initializer"),oi=new q("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),VO=new q("AnimationModuleType"),BO=new q("CSP nonce",{providedIn:"root",factory:()=>hu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let HO=(n,t,e)=>null;function mC(n,t,e=!1){return HO(n,t,e)}class CQ{}class GO{}class SQ{resolveComponentFactory(t){throw function wQ(n){const t=Error(`No component factory found for ${Yn(n)}.`);return t.ngComponent=n,t}(t)}}let Tl=(()=>{class n{static#e=this.NULL=new SQ}return n})();function EQ(){return vu(yi(),F())}function vu(n,t){return new $e(ur(n,t))}let $e=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=EQ}return n})();function DQ(n){return n instanceof $e?n.nativeElement:n}class ba{}let bi=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function AQ(){const n=F(),e=Er(yi().index,n);return(cr(e)?e:n)[Ve]}()}return n})(),IQ=(()=>{class n{static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:()=>null})}return n})();class yu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const jO=new yu("16.2.12"),yC={};function KO(n,t=null,e=null,i){const r=XO(n,t,e,i);return r.resolveInjectorInitializers(),r}function XO(n,t=null,e=null,i,r=new Set){const s=[e||vt,rQ(n)];return i=i||("object"==typeof n?void 0:Yn(n)),new pu(s,t||S_(),i||null,r)}let pn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Ih;static#t=this.NULL=new tC;static create(e,i){if(Array.isArray(e))return KO({name:""},i,e,"");{const r=e.name??"";return KO({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=z({token:n,providedIn:"any",factory:()=>L(kO)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function TC(n){return n.ngOriginalError}class So{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&TC(t);for(;e&&TC(e);)e=TC(e);return e||null}}function CC(n){return t=>{setTimeout(n,void 0,t)}}const W=class LQ extends Ee{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=CC(s),r&&(r=CC(r)),o&&(o=CC(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof He&&t.add(a),a}};function ZO(...n){}class Ae{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new W(!1),this.onMicrotaskEmpty=new W(!1),this.onStable=new W(!1),this.onError=new W(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function FQ(){const n="function"==typeof Ut.requestAnimationFrame;let t=Ut[n?"requestAnimationFrame":"setTimeout"],e=Ut[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function HQ(n){const t=()=>{!function BQ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ut,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,SC(n),n.isCheckStableRunning=!0,wC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),SC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{if(function UQ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,s,o,a);try{return JO(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),eL(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return JO(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),eL(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,SC(n),wC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new P(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,VQ,ZO,ZO);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const VQ={};function wC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function SC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function JO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function eL(n){n._nesting--,wC(n)}class $Q{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new W,this.onMicrotaskEmpty=new W,this.onStable=new W,this.onError=new W}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const tL=new q("",{providedIn:"root",factory:nL});function nL(){const n=te(Ae);let t=!0;return Ah(new ct(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new ct(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(cN()))}function R_(n){return n.ownerDocument.defaultView}function Eo(n){return n instanceof Function?n():n}let EC=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();function af(n){for(;n;){n[je]|=64;const t=Xh(n);if(lx(n)&&!t)return n;n=t}return null}const aL=new q("",{providedIn:"root",factory:()=>!1});let P_=null;function dL(n,t){return n[t]??pL()}function hL(n,t){const e=pL();e.producerNode?.length&&(n[t]=P_,e.lView=n,P_=fL())}const QQ={...LN,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{af(n.lView)},lView:null};function fL(){return Object.create(QQ)}function pL(){return P_??=fL(),P_}const Ue={};function I(n){gL(dt(),F(),Xi()+n,!1)}function gL(n,t,e,i){if(!i)if(3==(3&t[je])){const s=n.preOrderCheckHooks;null!==s&&Jm(t,s,e)}else{const s=n.preOrderHooks;null!==s&&e_(t,s,0,e)}_l(e)}function y(n,t=Je.Default){const e=F();return null===e?L(n,t):DP(yi(),e,Re(n),t)}function O_(n,t,e,i,r,s,o,a,l,c,u){const d=t.blueprint.slice();return d[bn]=r,d[je]=140|i,(null!==c||n&&2048&n[je])&&(d[je]|=2048),nP(d),d[rn]=d[Wc]=n,d[Sn]=e,d[jc]=o||n&&n[jc],d[Ve]=a||n&&n[Ve],d[fa]=l||n&&n[fa]||null,d[Ni]=s,d[Lh]=function aX(){return oX++}(),d[To]=u,d[RN]=c,d[En]=2==t.type?n[En]:d,d}function xu(n,t,e,i,r){let s=n.data[t];if(null===s)s=function DC(n,t,e,i,r){const s=lP(),o=mx(),l=n.data[t]=function sZ(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,a=0;return Qc()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,t,e,i,r),function lK(){return Me.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function $h(){const n=Me.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Bs(s,!0),s}function lf(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function _L(n,t,e,i,r){const s=dL(t,Fh),o=Xi(),a=2&i;try{_l(-1),a&&t.length>et&&gL(n,t,et,!1),Vs(a?2:0,r);const c=a?s:null,u=ux(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{dx(c,u)}}finally{a&&null===t[Fh]&&hL(t,Fh),_l(o),Vs(a?3:1,r)}}function AC(n,t,e){if(ax(t)){const i=Xr(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{Xr(i)}}}function IC(n,t,e){aP()&&(function hZ(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;gl(e)&&function yZ(n,t,e){const i=ur(t,n),r=vL(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=L_(n,O_(n,r,null,o,i,t,null,n[jc].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||n_(e,t),Pi(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=vl(t,n,a,e);Pi(c,t),null!==o&&bZ(0,a-r,c,l,0,o),fs(l)&&(Er(e.index,t)[Sn]=vl(t,n,a,e))}}(n,t,e,ur(e,t)),64==(64&e.flags)&&CL(n,t,e))}function kC(n,t,e=ur){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function vL(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=MC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function MC(n,t,e,i,r,s,o,a,l,c,u){const d=et+i,h=d+r,f=function JQ(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Ue);return e}(d,h),p="function"==typeof c?c():c;return f[ue]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let yL=n=>null;function bL(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?TL(e,t,r,s):i.hasOwnProperty(r)&&TL(e,t,i[r],s)}return e}function TL(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function Ar(n,t,e,i,r,s,o,a){const l=ur(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(LC(n,e,u,i,r),gl(t)&&function lZ(n,t){const e=Er(t,n);16&e[je]||(e[je]|=64)}(e,t.index)):3&t.type&&(i=function aZ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}function RC(n,t,e,i){if(aP()){const r=null===i?null:{"":-1},s=function pZ(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(EN(t,o.selectors,!1))if(i||(i=[]),fs(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),NC(n,t,a.length)}else i.unshift(o),NC(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&xL(n,t,e,o,r,a),r&&function gZ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new P(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=Rh(e.mergedAttrs,e.attrs)}function xL(n,t,e,i,r,s){for(let c=0;c<i.length;c++)Ax(n_(e,t),n,i[c].type);!function _Z(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=lf(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=Rh(e.mergedAttrs,u.hostAttrs),vZ(n,e,t,l,u),mZ(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function oZ(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const d=s[u],h=e?e.get(d):null,p=h?h.outputs:null;l=bL(d.inputs,u,l,h?h.inputs:null),c=bL(d.outputs,u,c,p);const m=null===l||null===o||SN(t)?null:TZ(l,u,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function CL(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function uK(){return Me.lFrame.currentDirectiveIndex}();try{_l(s);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];vx(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&fZ(l,c)}}finally{_l(-1),vx(o)}}function fZ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function NC(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function mZ(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;fs(t)&&(e[""]=n)}}function vZ(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=ml(r.type)),o=new Uh(s,fs(r),y);n.blueprint[i]=o,e[i]=o,function uZ(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function dZ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,lf(n,e,r.hostVars,Ue),r)}function Us(n,t,e,i,r,s){const o=ur(n,t);!function PC(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?Fe(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[Ve],o,s,n.value,e,i,r)}function bZ(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)wL(i,e,o[a++],o[a++],o[a++])}function wL(n,t,e,i,r){const s=Xr(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Xr(s)}}function TZ(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function SL(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function EL(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];bx(e[i]),o.contentQueries(2,t[s],s)}}}function L_(n,t){return n[Ph]?n[MN][hs]=t:n[Ph]=t,n[MN]=t,t}function OC(n,t,e){bx(0);const i=Xr(null);try{t(n,e)}finally{Xr(i)}}function DL(n){return n[zc]||(n[zc]=[])}function AL(n){return n.cleanup||(n.cleanup=[])}function kL(n,t){const e=n[fa],i=e?e.get(So,null):null;i&&i.handleError(t)}function LC(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++];wL(n.data[o],t[o],i,a,r)}}function xZ(n,t){const e=Er(t,n),i=e[ue];!function CZ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[bn];null!==r&&null===e[To]&&(e[To]=mC(r,e[fa])),FC(i,e,e[Sn])}function FC(n,t,e){Tx(t);try{const i=n.viewQuery;null!==i&&OC(1,i,e);const r=n.template;null!==r&&_L(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&EL(n,t),n.staticViewQueries&&OC(2,n.viewQuery,e);const s=n.components;null!==s&&function wZ(n,t){for(let e=0;e<t.length;e++)xZ(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[je]&=-5,xx()}}let ML=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function HY(n,t,e){const i=Object.create($Y);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>HN(i),run:()=>{if(i.dirty=!1,i.hasRun&&!$N(i))return;i.hasRun=!0;const o=ux(i);try{i.cleanupFn(),i.cleanupFn=KN,i.fn(r)}finally{dx(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();function F_(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=jT(r,a):2==s&&(i=jT(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function cf(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(Gt(s)),Yi(s)&&RL(s,i);const o=e.type;if(8&o)cf(n,t,e.child,i);else if(32&o){const a=Hx(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=hO(t,e);if(Array.isArray(a))i.push(...a);else{const l=Xh(t[En]);cf(l[ue],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function RL(n,t){for(let e=_i;e<n.length;e++){const i=n[e],r=i[ue].firstChild;null!==r&&cf(i[ue],i,r,t)}n[Fs]!==n[bn]&&t.push(n[Fs])}function V_(n,t,e,i=!0){const r=t[jc],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{NL(n,t,n.template,e)}catch(l){throw i&&kL(t,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function NL(n,t,e,i){const r=t[je];if(256!=(256&r)){t[jc].effectManager?.flush(),Tx(t);try{nP(t),function uP(n){return Me.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&_L(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&Jm(t,c,null)}else{const c=n.preOrderHooks;null!==c&&e_(t,c,0,null),Cx(t,0)}if(function DZ(n){for(let t=eO(n);null!==t;t=tO(t)){if(!t[NN])continue;const e=t[Yc];for(let i=0;i<e.length;i++){QY(e[i])}}}(t),PL(t,2),null!==n.contentQueries&&EL(n,t),o){const c=n.contentCheckHooks;null!==c&&Jm(t,c)}else{const c=n.contentHooks;null!==c&&e_(t,c,1),Cx(t,1)}!function ZQ(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=dL(t,Vh);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)_l(~s);else{const o=s,a=e[++r],l=e[++r];cK(a,o),i.dirty=!1;const c=ux(i);try{l(2,t[o])}finally{dx(i,c)}}}}finally{null===t[Vh]&&hL(t,Vh),_l(-1)}}(n,t);const a=n.components;null!==a&&LL(t,a,0);const l=n.viewQuery;if(null!==l&&OC(2,l,i),o){const c=n.viewCheckHooks;null!==c&&Jm(t,c)}else{const c=n.viewHooks;null!==c&&e_(t,c,2),Cx(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[je]&=-73,iP(t)}finally{xx()}}}function PL(n,t){for(let e=eO(n);null!==e;e=tO(e))for(let i=_i;i<e.length;i++)OL(e[i],t)}function AZ(n,t,e){OL(Er(t,n),e)}function OL(n,t){if(!function KY(n){return 128==(128&n[je])}(n))return;const e=n[ue],i=n[je];if(80&i&&0===t||1024&i||2===t)NL(e,n,e.template,n[Sn]);else if(n[Nh]>0){PL(n,1);const r=e.components;null!==r&&LL(n,r,1)}}function LL(n,t,e){for(let i=0;i<t.length;i++)AZ(n,t[i],e)}class uf{get rootNodes(){const t=this._lView,e=t[ue];return cf(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(t){this._lView[Sn]=t}get destroyed(){return 256==(256&this._lView[je])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[rn];if(Yi(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(m_(t,i),s_(e,i))}this._attachedToViewContainer=!1}Ux(this._lView[ue],this._lView)}onDestroy(t){!function sP(n,t){if(256==(256&n[je]))throw new P(911,!1);null===n[pa]&&(n[pa]=[]),n[pa].push(t)}(this._lView,t)}markForCheck(){af(this._cdRefInjectingView||this._lView)}detach(){this._lView[je]&=-129}reattach(){this._lView[je]|=128}detectChanges(){V_(this._lView[ue],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function TX(n,t){Zh(n,t,t[Ve],2,null,null)}(this._lView[ue],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=t}}class IZ extends uf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;V_(t[ue],t,t[Sn],!1)}checkNoChanges(){}get context(){return null}}class FL extends Tl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new df(e,this.ngModule)}}function VL(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class MZ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=$m(i);const r=this.injector.get(t,yC,i);return r!==yC||e===yC?r:this.parentInjector.get(t,e,i)}}class df extends GO{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=VL(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return VL(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function TY(n){return n.map(bY).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof hr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new MZ(t,s):t,a=o.get(ba,null);if(null===a)throw new P(407,!1);const d={rendererFactory:a,sanitizer:o.get(IQ,null),effectManager:o.get(ML,null),afterRenderEventManager:o.get(EC,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function eZ(n,t,e,i){const s=i.get(aL,!1)||e===Kr.ShadowDom,o=n.selectRootElement(t,s);return function tZ(n){yL(n)}(o),o}(h,i,this.componentDef.encapsulation,o):g_(h,f,function kZ(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=mC(p,o,!0));const b=MC(0,null,null,1,0,null,null,null,null,null,null),x=O_(null,b,null,v,null,null,d,h,o,null,_);let D,k;Tx(x);try{const $=this.componentDef;let X,we=null;$.findHostDirectiveDefs?(X=[],we=new Map,$.findHostDirectiveDefs($,X,we),X.push($)):X=[$];const me=function NZ(n,t){const e=n[ue],i=et;return n[i]=t,xu(e,i,2,"#host",null)}(x,p),ce=function PZ(n,t,e,i,r,s,o){const a=r[ue];!function OZ(n,t,e,i){for(const r of n)t.mergedAttrs=Rh(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(F_(t,t.mergedAttrs,!0),null!==e&&mO(i,e,t))}(i,n,t,o);let l=null;null!==t&&(l=mC(t,r[fa]));const c=s.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const d=O_(r,vL(e),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&NC(a,n,i.length-1),L_(r,d),r[n.index]=d}(me,p,$,X,x,d,h);k=tP(b,et),p&&function FZ(n,t,e,i){if(i)sx(n,e,["ng-version",jO.full]);else{const{attrs:r,classes:s}=function xY(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!ds(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&sx(n,e,r),s&&s.length>0&&gO(n,e,s.join(" "))}}(h,$,p,i),void 0!==e&&function VZ(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(k,this.ngContentSelectors,e),D=function LZ(n,t,e,i,r,s){const o=yi(),a=r[ue],l=ur(o,r);xL(a,r,o,e,null,i);for(let u=0;u<e.length;u++)Pi(vl(r,a,o.directiveStart+u,o),r);CL(a,r,o),l&&Pi(l,r);const c=vl(r,a,o.directiveStart+o.componentOffset,o);if(n[Sn]=r[Sn]=c,null!==s)for(const u of s)u(c,t);return AC(a,o,n),c}(ce,$,X,we,x,[BZ]),FC(b,x,null)}finally{xx()}return new RZ(this.componentType,D,vu(k,x),x,k)}}class RZ extends CQ{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new IZ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;LC(s[ue],s,r,t,e),this.previousInputValues.set(t,e),af(Er(this._tNode.index,s))}}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function BZ(){const n=yi();Zm(F()[ue],n)}function ht(n){let t=function BL(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(fs(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new P(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=B_(n.inputs),o.inputTransforms=B_(n.inputTransforms),o.declaredInputs=B_(n.declaredInputs),o.outputs=B_(n.outputs);const a=r.hostBindings;a&&GZ(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&$Z(n,l),c&&UZ(n,c),Om(n.inputs,r.inputs),Om(n.declaredInputs,r.declaredInputs),Om(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Om(o.inputTransforms,r.inputTransforms)),fs(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ht&&(e=!1)}}t=Object.getPrototypeOf(t)}!function HZ(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Rh(r.hostAttrs,e=Rh(e,r.hostAttrs))}}(i)}function B_(n){return n===Os?{}:n===vt?[]:n}function $Z(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function UZ(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function GZ(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function Ao(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function H_(n){return!!VC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function VC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Gs(n,t,e){return n[t]=e}function Oi(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function xl(n,t,e,i){const r=Oi(n,t,e);return Oi(n,t+1,i)||r}function Te(n,t,e,i){const r=F();return Oi(r,Zc(),t)&&(dt(),Us(hn(),r,n,t,e,i)),Te}function wu(n,t,e,i){return Oi(n,Zc(),e)?t+Fe(e)+i:Ue}function U(n,t,e,i,r,s,o,a){const l=F(),c=dt(),u=n+et,d=c.firstCreatePass?function pJ(n,t,e,i,r,s,o,a,l){const c=t.consts,u=xu(t,n,4,o||null,ma(c,a));RC(t,e,u,ma(c,l)),Zm(t,u);const d=u.tView=MC(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,s,o):c.data[u];Bs(d,!1);const h=tF(c,l,d,n);Qm()&&v_(c,l,h,d),Pi(h,l),L_(l,l[u]=SL(h,l,h,d)),Wm(d)&&IC(c,l,d),null!=o&&kC(l,d,a)}let tF=function nF(n,t,e,i){return _a(!0),t[Ve].createComment("")};function R(n,t,e){const i=F();return Oi(i,Zc(),t)&&Ar(dt(),hn(),i,n,t,i[Ve],e,!1),R}function zC(n,t,e,i,r){const o=r?"class":"style";LC(n,e,t.inputs[o],o,i)}function T(n,t,e,i){const r=F(),s=dt(),o=et+n,a=r[Ve],l=s.firstCreatePass?function vJ(n,t,e,i,r,s){const o=t.consts,l=xu(t,n,2,i,ma(o,r));return RC(t,e,l,ma(o,s)),null!==l.attrs&&F_(l,l.attrs,!1),null!==l.mergedAttrs&&F_(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,e,i):s.data[o],c=iF(s,r,l,a,t,n);r[o]=c;const u=Wm(l);return Bs(l,!0),mO(a,c,l),32!=(32&l.flags)&&Qm()&&v_(s,r,c,l),0===function JY(){return Me.lFrame.elementDepthCount}()&&Pi(c,r),function eK(){Me.lFrame.elementDepthCount++}(),u&&(IC(s,r,l),AC(s,l,r)),null!==i&&kC(r,l),T}function C(){let n=yi();mx()?_x():(n=n.parent,Bs(n,!1));const t=n;(function nK(n){return Me.skipHydrationRootTNode===n})(t)&&function oK(){Me.skipHydrationRootTNode=null}(),function tK(){Me.lFrame.elementDepthCount--}();const e=dt();return e.firstCreatePass&&(Zm(e,n),ax(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function yK(n){return 0!=(8&n.flags)}(t)&&zC(e,t,F(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function bK(n){return 0!=(16&n.flags)}(t)&&zC(e,t,F(),t.stylesWithoutHost,!1),C}function ie(n,t,e,i){return T(n,t,e,i),C(),ie}let iF=(n,t,e,i,r,s)=>(_a(!0),g_(i,r,function vP(){return Me.lFrame.currentNamespace}()));function mf(n,t,e){const i=F(),r=dt(),s=n+et,o=r.firstCreatePass?function TJ(n,t,e,i,r){const s=t.consts,o=ma(s,i),a=xu(t,n,8,"ng-container",o);return null!==o&&F_(a,o,!0),RC(t,e,a,ma(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];Bs(o,!0);const a=rF(r,i,o,n);return i[s]=a,Qm()&&v_(r,i,a,o),Pi(a,i),Wm(o)&&(IC(r,i,o),AC(r,o,i)),null!=e&&kC(i,o),mf}function _f(){let n=yi();const t=dt();return mx()?_x():(n=n.parent,Bs(n,!1)),t.firstCreatePass&&(Zm(t,n),ax(n)&&t.queries.elementEnd(n)),_f}function Cl(n,t,e){return mf(n,t,e),_f(),Cl}let rF=(n,t,e,i)=>(_a(!0),$x(t[Ve],""));function Hn(){return F()}function vf(n){return!!n&&"function"==typeof n.then}function sF(n){return!!n&&"function"==typeof n.subscribe}function K(n,t,e,i){const r=F(),s=dt(),o=yi();return function aF(n,t,e,i,r,s,o){const a=Wm(i),c=n.firstCreatePass&&AL(n),u=t[Sn],d=DL(t);let h=!0;if(3&i.type||o){const m=ur(i,t),g=o?o(m):m,v=d.length,_=o?x=>o(Gt(x[i.index])):i.index;let b=null;if(!o&&a&&(b=function wJ(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[zc],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=cF(i,t,u,s,!1);const x=e.listen(g,r,s);d.push(s,x),c&&c.push(r,_,v,v+1)}}else s=cF(i,t,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const D=t[p[g]][p[g+1]].subscribe(s),k=d.length;d.push(s,D),c&&c.push(r,i.index,k,-(k+1))}}}(s,r,r[Ve],o,n,t,i),K}function lF(n,t,e,i){try{return Vs(6,t,e),!1!==e(i)}catch(r){return kL(n,r),!1}finally{Vs(7,t,e)}}function cF(n,t,e,i,r){return function s(o){if(o===Function)return i;af(n.componentOffset>-1?Er(n.index,t):t);let l=lF(t,e,i,o),c=s.__ngNextListenerFn__;for(;c;)l=lF(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function J(n=1){return function hK(n){return(Me.lFrame.contextLView=function fK(n,t){for(;n>0;)t=t[Wc],n--;return t}(n,Me.lFrame.contextLView))[Sn]}(n)}function SJ(n,t){let e=null;const i=function mY(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?EN(n,s,!0):yY(i,s))return r}else e=r}return e}function Io(n){const t=F()[En][Ni];if(!t.projection){const i=t.projection=qh(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?SJ(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function zs(n,t=0,e){const i=F(),r=dt(),s=xu(r,et+n,16,null,e||null);null===s.projection&&(s.projection=t),_x(),(!i[To]||Qc())&&32!=(32&s.flags)&&function IX(n,t,e){pO(t[Ve],0,t,e,zx(n,e,t),lO(e.parent||t[Ni],e,t))}(r,i,s)}function j_(n,t,e){return W_(n,"",t,"",e),j_}function W_(n,t,e,i,r){const s=F(),o=wu(s,t,e,i);return o!==Ue&&Ar(dt(),hn(),s,n,o,s[Ve],r,!1),W_}function q_(n,t){return n<<17|t<<2}function Ta(n){return n>>17&32767}function jC(n){return 2|n}function wl(n){return(131068&n)>>2}function WC(n,t){return-131069&n|t<<2}function qC(n){return 1|n}function vF(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?Ta(s):wl(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];MJ(n[a],t)&&(l=!0,n[a+1]=i?qC(u):jC(u)),a=i?Ta(u):wl(u)}l&&(n[e+1]=i?jC(s):qC(s))}function MJ(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&au(n,t)>=0}const Xn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yF(n){return n.substring(Xn.key,Xn.keyEnd)}function bF(n,t){const e=Xn.textEnd;return e===t?-1:(t=Xn.keyEnd=function OJ(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Xn.key=t,e),Ru(n,t,e))}function Ru(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Qn(n,t,e){return gs(n,t,e,!1),Qn}function bt(n,t){return gs(n,t,null,!0),bt}function Ti(n){ms(zJ,Ws,n,!0)}function Ws(n,t){for(let e=function NJ(n){return function xF(n){Xn.key=0,Xn.keyEnd=0,Xn.value=0,Xn.valueEnd=0,Xn.textEnd=n.length}(n),bF(n,Ru(n,0,Xn.textEnd))}(t);e>=0;e=bF(t,e))Dr(n,yF(t),!0)}function gs(n,t,e,i){const r=F(),s=dt(),o=Co(2);s.firstUpdatePass&&EF(s,n,o,i),t!==Ue&&Oi(r,o,t)&&AF(s,s.data[Xi()],r,r[Ve],n,r[o+1]=function WJ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Yn(ya(n)))),n}(t,e),i,o)}function ms(n,t,e,i){const r=dt(),s=Co(2);r.firstUpdatePass&&EF(r,null,s,i);const o=F();if(e!==Ue&&Oi(o,s,e)){const a=r.data[Xi()];if(kF(a,i)&&!SF(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=jT(l,e||"")),zC(r,a,o,e,i)}else!function jJ(n,t,e,i,r,s,o,a){r===Ue&&(r=vt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),null!==p&&AF(n,t,e,i,p,m,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[Ve],o[s+1],o[s+1]=function GJ(n,t,e){if(null==e||""===e)return vt;const i=[],r=ya(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function SF(n,t){return t>=n.expandoStartIndex}function EF(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Xi()],o=SF(n,e);kF(s,i)&&null===t&&!o&&(t=!1),t=function BJ(n,t,e,i){const r=function yx(n){const t=Me.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=yf(e=YC(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=YC(r,n,t,e,i),null===s){let l=function HJ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==wl(i))return n[Ta(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=YC(null,n,t,l[1],i),l=yf(l,t.attrs,i),function $J(n,t,e,i){n[Ta(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function UJ(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=yf(i,n[s].hostAttrs,e);return yf(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function IJ(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Ta(o),l=wl(o);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||au(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const h=Ta(n[a+1]);n[i+1]=q_(h,a),0!==h&&(n[h+1]=WC(n[h+1],i)),n[a+1]=function DJ(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=q_(a,0),0!==a&&(n[a+1]=WC(n[a+1],i)),a=i;else n[i+1]=q_(l,0),0===a?a=i:n[l+1]=WC(n[l+1],i),l=i;c&&(n[i+1]=jC(n[i+1])),vF(n,u,i,!0),vF(n,u,i,!1),function kJ(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&au(s,t)>=0&&(e[i+1]=qC(e[i+1]))}(t,u,n,i,s),o=q_(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function YC(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=yf(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function yf(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Dr(n,o,!!e||t[++s]))}return void 0===n?null:n}function zJ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Dr(n,i,e)}function AF(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function AJ(n){return 1==(1&n)}(c)?IF(l,t,e,r,wl(c),o):void 0;Y_(u)||(Y_(s)||function EJ(n){return 2==(2&n)}(c)&&(s=IF(l,null,e,r,a,o)),function MX(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:va.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=va.Important),n.setStyle(e,i,r,s))}}(i,o,Km(Xi(),e),r,s))}function IF(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===Ue&&(h=d?vt:void 0);let f=d?Mx(h,i):u===i?h:void 0;if(c&&!Y_(f)&&(f=Mx(l,i)),Y_(f)&&(a=f,o))return a;const p=n[r+1];r=o?Ta(p):wl(p)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=Mx(l,i))}return a}function Y_(n){return void 0!==n}function kF(n,t){return 0!=(n.flags&(t?8:16))}function ee(n,t=""){const e=F(),i=dt(),r=n+et,s=i.firstCreatePass?xu(i,r,1,t,null):i.data[r],o=MF(i,e,s,t,n);e[r]=o,Qm()&&v_(i,e,o,s),Bs(s,!1)}let MF=(n,t,e,i,r)=>(_a(!0),function p_(n,t){return n.createText(t)}(t[Ve],i));function Li(n){return Zn("",n,""),Li}function Zn(n,t,e){const i=F(),r=wu(i,n,t,e);return r!==Ue&&function Do(n,t,e){const i=Km(t,n);!function iO(n,t,e){n.setValue(t,e)}(n[Ve],i,e)}(i,Xi(),r),Zn}const Pu="en-US";let JF=Pu;function ZC(n,t,e,i,r){if(n=Re(n),Array.isArray(n))for(let s=0;s<n.length;s++)ZC(n[s],t,e,i,r);else{const s=dt(),o=F(),a=yi();let l=bl(n)?n:Re(n.provide);const c=LO(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(bl(n)||!n.multi){const f=new Uh(c,r,y),p=ew(l,t,r?u:u+h,d);-1===p?(Ax(n_(a,o),s,l),JC(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(f),o.push(f)):(e[p]=f,o[p]=f)}else{const f=ew(l,t,u+h,d),p=ew(l,t,u,u+h),g=p>=0&&e[p];if(r&&!g||!r&&!(f>=0&&e[f])){Ax(n_(a,o),s,l);const v=function ute(n,t,e,i,r){const s=new Uh(n,e,y);return s.multi=[],s.index=t,s.componentProviders=0,S2(s,r,i&&!e),s}(r?cte:lte,e.length,r,i,c);!r&&g&&(e[p].providerFactory=v),JC(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(v),o.push(v)}else JC(s,n,f>-1?f:p,S2(e[r?p:f],c,!r&&i));!r&&i&&g&&e[p].componentProviders++}}}function JC(n,t,e,i){const r=bl(t),s=function oQ(n){return!!n.useClass}(t);if(r||s){const l=(s?Re(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function S2(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function ew(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function lte(n,t,e,i){return tw(this.multi,[])}function cte(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=vl(e,e[ue],this.providerFactory.index,i);s=a.slice(0,o),tw(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],tw(r,s);return s}function tw(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ft(n,t=[]){return e=>{e.providersResolver=(i,r)=>function ate(n,t,e){const i=dt();if(i.firstCreatePass){const r=fs(n);ZC(e,i.data,i.blueprint,r,!0),ZC(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Dl{}class E2{}class nw extends Dl{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new FL(this);const r=Sr(t);this._bootstrapComponents=Eo(r.bootstrap),this._r3Injector=XO(t,e,[{provide:Dl,useValue:this},{provide:Tl,useValue:this.componentFactoryResolver},...i],Yn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class iw extends E2{constructor(t){super(),this.moduleType=t}create(t){return new nw(this.moduleType,t,[])}}class D2 extends Dl{constructor(t){super(),this.componentFactoryResolver=new FL(this),this.instance=null;const e=new pu([...t.providers,{provide:Dl,useValue:this},{provide:Tl,useValue:this.componentFactoryResolver}],t.parent||S_(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rw(n,t,e=null){return new D2({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let fte=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=RO(0,e.type),r=i.length>0?rw([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(L(hr))})}return n})();function Ca(n){n.getStandaloneInjector=t=>t.get(fte).getOrCreateStandaloneInjector(n)}function Ir(n,t,e,i){return function O2(n,t,e,i,r,s){const o=t+e;return Oi(n,o,r)?Gs(n,o+1,s?i.call(s,r):i(r)):Sf(n,o+1)}(F(),Ki(),n,t,e,i)}function Al(n,t,e,i,r){return function L2(n,t,e,i,r,s,o){const a=t+e;return xl(n,a,r,s)?Gs(n,a+2,o?i.call(o,r,s):i(r,s)):Sf(n,a+2)}(F(),Ki(),n,t,e,i,r)}function Ou(n,t,e,i,r,s){return function F2(n,t,e,i,r,s,o,a){const l=t+e;return function $_(n,t,e,i,r){const s=xl(n,t,e,i);return Oi(n,t+2,r)||s}(n,l,r,s,o)?Gs(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):Sf(n,l+3)}(F(),Ki(),n,t,e,i,r,s)}function Sf(n,t){const e=n[t];return e===Ue?void 0:e}function Ote(){return this._results[Symbol.iterator]()}class ow{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new W)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ow.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Ote)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Qr(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function PK(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Fte(n,t,e,i=!0){const r=t[ue];if(function CX(n,t,e,i){const r=_i+i,s=e.length;i>0&&(e[r-1][hs]=t),i<s-_i?(t[hs]=e[r],NP(e,_i+i,t)):(e.push(t),t[hs]=null),t[rn]=e;const o=t[Oh];null!==o&&e!==o&&function wX(n,t){const e=n[Yc];t[En]!==t[rn][rn][En]&&(n[NN]=!0),null===e?n[Yc]=[t]:e.push(t)}(o,t);const a=t[Ls];null!==a&&a.insertView(n),t[je]|=128}(r,t,n,e),i){const s=Wx(e,n),o=t[Ve],a=__(o,n[Fs]);null!==a&&function bX(n,t,e,i,r,s){i[bn]=r,i[Ni]=t,Zh(n,i,e,1,r,s)}(r,n[Ni],o,t,a,s)}}let jt=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Hte}return n})();const Vte=jt,Bte=class extends Vte{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function Lte(n,t,e,i){const r=t.tView,a=O_(n,r,e,4096&n[je]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Oh]=n[t.index];const c=n[Ls];return null!==c&&(a[Ls]=c.createEmbeddedView(r)),FC(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new uf(r)}};function Hte(){return J_(yi(),F())}function J_(n,t){return 4&n.type?new Bte(t,n,vu(n,t)):null}let kr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Wte}return n})();function Wte(){return W2(yi(),F())}const qte=kr,z2=class extends qte{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return vu(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){const t=i_(this._hostTNode,this._hostLView);if(Sx(t)){const e=zh(t,this._hostLView),i=Gh(t);return new Qi(e[ue].data[i+8],e)}return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=j2(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-_i}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,s){const o=t&&!function Wh(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const m=e||{};a=m.index,i=m.injector,r=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const l=o?t:new df(ut(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const g=(o?c:this.parentInjector).get(hr,null);g&&(s=g)}ut(l.componentType??{});const f=l.create(c,r,null,s);return this.insertImpl(f.hostView,a,false),f}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function XY(n){return Yi(n[rn])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[rn],u=new z2(c,c[Ni],c[rn]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;return Fte(a,r,o,!i),t.attachToViewContainerRef(),NP(aw(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=j2(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=m_(this._lContainer,e);i&&(s_(aw(this._lContainer),e),Ux(i[ue],i))}detach(t){const e=this._adjustIndex(t,-1),i=m_(this._lContainer,e);return i&&null!=s_(aw(this._lContainer),e)?new uf(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function j2(n){return n[8]}function aw(n){return n[8]||(n[8]=[])}function W2(n,t){let e;const i=t[n.index];return Yi(i)?e=i:(e=SL(i,t,null,n),t[n.index]=e,L_(t,e)),q2(e,t,n,i),new z2(e,n,t)}let q2=function Y2(n,t,e,i){if(n[Fs])return;let r;r=8&e.type?Gt(i):function Yte(n,t){const e=n[Ve],i=e.createComment(""),r=ur(t,n);return yl(e,__(e,r),i,function AX(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Fs]=r};class lw{constructor(t){this.queryList=t,this.matches=null}clone(){return new lw(this.queryList)}setDirty(){this.queryList.setDirty()}}class cw{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new cw(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==J2(t,e).matches&&this.queries[e].setDirty()}}class K2{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class uw{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new uw(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class dw{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new dw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Qte(e,s)),this.matchTNodeWithReadOption(t,e,r_(e,t,s,!1,!1))}else i===jt?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,r_(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===$e||r===kr||r===jt&&4&e.type)this.addMatch(e.index,-2);else{const s=r_(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Qte(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Jte(n,t,e,i){return-1===e?function Zte(n,t){return 11&n.type?vu(n,t):4&n.type?J_(n,t):null}(t,n):-2===e?function ene(n,t,e){return e===$e?vu(t,n):e===jt?J_(t,n):e===kr?W2(t,n):void 0}(n,t,i):vl(n,n[ue],e,t)}function X2(n,t,e,i){const r=t[Ls].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Jte(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function hw(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=X2(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=_i;d<u.length;d++){const h=u[d];h[Oh]===h[rn]&&hw(h[ue],h,c,i)}if(null!==u[Yc]){const d=u[Yc];for(let h=0;h<d.length;h++){const f=d[h];hw(f[ue],f,c,i)}}}}}return i}function Rt(n){const t=F(),e=dt(),i=hP();bx(i+1);const r=J2(e,i);if(n.dirty&&function YY(n){return 4==(4&n[je])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?hw(e,t,i,[]):X2(e,t,r,i);n.reset(s,DQ),n.notifyOnChanges()}return!0}return!1}function Il(n,t,e){const i=dt();i.firstCreatePass&&(Z2(i,new K2(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),Q2(i,F(),t)}function gn(n,t,e,i){const r=dt();if(r.firstCreatePass){const s=yi();Z2(r,new K2(t,e,i),s.index),function nne(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}Q2(r,F(),e)}function Nt(){return function tne(n,t){return n[Ls].queries[t].queryList}(F(),hP())}function Q2(n,t,e){const i=new ow(4==(4&e));(function rZ(n,t,e,i){const r=DL(t);r.push(e),n.firstCreatePass&&AL(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Ls]&&(t[Ls]=new cw),t[Ls].queries.push(new lw(i))}function Z2(n,t,e){null===n.queries&&(n.queries=new uw),n.queries.track(new dw(t,e))}function J2(n,t){return n.queries.getByIndex(t)}const vw=new q("Application Initializer");let yw=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=te(vw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(vf(s))e.push(s);else if(sF(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mV=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ko=new q("LocaleId",{providedIn:"root",factory:()=>te(ko,Je.Optional|Je.SkipSelf)||function Cne(){return typeof $localize<"u"&&$localize.locale||Pu}()});let nv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Bn(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ene{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let _V=(()=>{class n{compileModuleSync(e){return new iw(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Eo(Sr(e).declarations).reduce((o,a)=>{const l=ut(a);return l&&o.push(new df(l)),o},[]);return new Ene(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const TV=new q(""),rv=new q("");let ww,xw=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ww||(function Yne(n){ww=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(L(Ae),L(Cw),L(rv))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Cw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return ww?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),wa=null;const xV=new q("AllowMultipleToken"),Sw=new q("PlatformDestroyListeners"),Ew=new q("appBootstrapListener");class wV{constructor(t,e){this.name=t,this.token=e}}function EV(n,t,e=[]){const i=`Platform: ${t}`,r=new q(i);return(s=[])=>{let o=Dw();if(!o||o.injector.get(xV,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function Qne(n){if(wa&&!wa.get(xV,!1))throw new P(400,!1);(function CV(){!function OY(n){jN=n}(()=>{throw new P(600,!1)})})(),wa=n;const t=n.get(AV);(function SV(n){n.get(FO,null)?.forEach(e=>e())})(n)}(function DV(n=[],t){return pn.create({name:t,providers:[{provide:sC,useValue:"platform"},{provide:Sw,useValue:new Set([()=>wa=null])},...n]})}(a,i))}return function Jne(n){const t=Dw();if(!t)throw new P(401,!1);return t}()}}function Dw(){return wa?.get(AV)??null}let AV=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function eie(n="zone.js",t){return"noop"===n?new $Q:"zone.js"===n?new Ae(t):n}(i?.ngZone,function IV(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function hte(n,t,e){return new nw(n,t,e)}(e.moduleType,this.injector,function PV(n){return[{provide:Ae,useFactory:n},{provide:nf,multi:!0,useFactory:()=>{const t=te(nie,{optional:!0});return()=>t.initialize()}},{provide:NV,useFactory:tie},{provide:tL,useFactory:nL}]}(()=>r)),o=s.injector.get(So,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{sv(this._modules,s),a.unsubscribe()})}),function kV(n,t,e){try{const i=e();return vf(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(yw);return a.runInitializers(),a.donePromise.then(()=>(function e2(n){Yr(n,"Expected localeId to be defined"),"string"==typeof n&&(JF=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ko,Pu)||Pu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=MV({},i);return function Kne(n,t,e){const i=new iw(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(_s);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new P(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Sw,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(L(pn))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function MV(n,t){return Array.isArray(t)?t.reduce(MV,n):{...n,...t}}let _s=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=te(NV),this.zoneIsStable=te(tL),this.componentTypes=[],this.components=[],this.isStable=te(nv).hasPendingTasks.pipe(or(e=>e?Se(!1):this.zoneIsStable),function Pm(n,t=Wr){return n=n??qq,Qt((e,i)=>{let r,s=!0;e.subscribe(It(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}(),cN()),this._injector=te(hr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof GO;if(!this._injector.get(yw).done)throw!r&&function Gc(n){const t=ut(n)||mi(n)||qi(n);return null!==t&&t.standalone}(e),new P(405,!1);let o;o=r?e:this._injector.get(Tl).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function Xne(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Dl),c=o.create(pn.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(TV,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),sv(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;sv(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(Ew,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>sv(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new P(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const NV=new q("",{providedIn:"root",factory:()=>te(So).handleError.bind(void 0)});function tie(){const n=te(Ae),t=te(So);return e=>n.runOutsideAngular(()=>t.handleError(e))}let nie=(()=>{class n{constructor(){this.zone=te(Ae),this.applicationRef=te(_s)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let ai=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=rie}return n})();function rie(n){return function sie(n,t,e){if(gl(n)&&!e){const i=Er(n.index,t);return new uf(i,i)}return 47&n.type?new uf(t[En],t):null}(yi(),F(),16==(16&n))}class VV{constructor(){}supports(t){return H_(t)}create(t){return new die(t)}}const uie=(n,t)=>t;class die{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||uie}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<HV(i,r,s)?e:i,a=HV(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!H_(t))throw new P(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function XZ(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new hie(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new BV),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BV),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class hie{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fie{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class BV{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new fie,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HV(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class $V{constructor(){}supports(t){return t instanceof Map||VC(t)}create(){return new gie}}class gie{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||VC(t)))throw new P(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new mie(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class mie{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UV(){return new lv([new VV])}let lv=(()=>{class n{static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:UV});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||UV()),deps:[[n,new a_,new Zr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new P(901,!1)}}return n})();function GV(){return new If([new $V])}let If=(()=>{class n{static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:GV});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||GV()),deps:[[n,new a_,new Zr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new P(901,!1)}}return n})();const yie=EV(null,"core",[]);let bie=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(L(_s))};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({})}return n})();function xi(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Mie(n,t=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?t:Number(n)}let Nw=null;function Sa(){return Nw}class Lie{}const Tt=new q("DocumentToken");let Pw=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return te(Vie)},providedIn:"platform"})}return n})();const Fie=new q("Location Initialized");let Vie=(()=>{class n extends Pw{constructor(){super(),this._doc=te(Tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sa().getBaseHref(this._doc)}onPopState(e){const i=Sa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Sa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Ow(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ZV(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Mo(n){return n&&"?"!==n[0]?"?"+n:n}let Ml=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return te(eB)},providedIn:"root"})}return n})();const JV=new q("appBaseHref");let eB=(()=>{class n extends Ml{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??te(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ow(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Mo(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+Mo(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+Mo(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(L(Pw),L(JV,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bie=(()=>{class n extends Ml{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ow(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+Mo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+Mo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(L(Pw),L(JV,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Lw=(()=>{class n{constructor(e){this._subject=new W,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Uie(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(ZV(tB(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Mo(i))}normalize(e){return n.stripTrailingSlash(function $ie(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,tB(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Mo(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Mo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Mo;static#t=this.joinWithSlash=Ow;static#n=this.stripTrailingSlash=ZV;static#i=this.\u0275fac=function(i){return new(i||n)(L(Ml))};static#r=this.\u0275prov=z({token:n,factory:function(){return function Hie(){return new Lw(L(Ml))}()},providedIn:"root"})}return n})();function tB(n){return n.replace(/\/index.html$/,"")}function uB(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const Ww=/\s+/,dB=[];let qw=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=dB,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Ww):dB}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Ww):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Ww).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(y(lv),y(If),y($e),y(bi))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Dre{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ci=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Dre(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),fB(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{fB(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(y(kr),y(jt),y(lv))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function fB(n,t){n.context.$implicit=t.item}let Rr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Are,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pB("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pB("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(y(kr),y(jt))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Are{constructor(){this.$implicit=null,this.ngIf=null}}function pB(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Yn(t)}'.`)}let mB=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:va.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(y($e),y(If),y(bi))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),Rl=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(y(kr))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[At]})}return n})(),mn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({})}return n})();const vB="browser";function gr(n){return n===vB}function bv(n){return"server"===n}let ise=(()=>{class n{static#e=this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new rse(L(Tt),window)})}return n})();class rse{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function sse(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class yB{}class Ase extends Lie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class e1 extends Ase{static makeCurrent(){!function Oie(n){Nw||(Nw=n)}(new e1)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ise(){return Nf=Nf||document.querySelector("base"),Nf?Nf.getAttribute("href"):null}();return null==e?null:function kse(n){Cv=Cv||document.createElement("a"),Cv.setAttribute("href",n);const t=Cv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Nf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return uB(document.cookie,t)}}let Cv,Nf=null,Rse=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const t1=new q("EventManagerPlugins");let wB=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(L(t1),L(Ae))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class SB{constructor(t){this._doc=t}}const n1="ng-app-id";let EB=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bv(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${n1}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(n1),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(n1,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(L(Tt),L(E_),L(BO,8),L(oi))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const r1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},s1=/%COMP%/g,Lse=new q("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function AB(n,t){return t.map(e=>e.replace(s1,n))}let o1=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=bv(a),this.defaultRenderer=new a1(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Kr.ShadowDom&&(i={...i,encapsulation:Kr.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof kB?r.applyToHost(e):r instanceof l1&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Kr.Emulated:s=new kB(l,c,i,this.appId,u,o,a,d);break;case Kr.ShadowDom:return new Hse(l,c,e,i,o,a,this.nonce,d);default:s=new l1(l,c,i,u,o,a,d)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(L(wB),L(EB),L(E_),L(Lse),L(Tt),L(oi),L(Ae),L(BO))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class a1{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(r1[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(IB(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(IB(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new P(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=r1[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=r1[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(va.DashCase|va.Important)?t.style.setProperty(e,i,r&va.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&va.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Sa().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function IB(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Hse extends a1{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=AB(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class l1 extends a1{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?AB(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class kB extends l1{constructor(t,e,i,r,s,o,a,l){const c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=function Fse(n){return"_ngcontent-%COMP%".replace(s1,n)}(c),this.hostAttr=function Vse(n){return"_nghost-%COMP%".replace(s1,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let $se=(()=>{class n extends SB{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(L(Tt))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const MB=["alt","control","meta","shift"],Use={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gse={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zse=(()=>{class n extends SB{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sa().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),MB.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=Use[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),MB.forEach(o=>{o!==r&&(0,Gse[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(L(Tt))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const NB=[{provide:oi,useValue:vB},{provide:FO,useValue:function jse(){e1.makeCurrent()},multi:!0},{provide:Tt,useFactory:function qse(){return function LX(n){Kx=n}(document),document},deps:[]}],Yse=EV(yie,"browser",NB),Kse=new q(""),PB=[{provide:rv,useClass:class Mse{addToWindow(t){Ut.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new P(5103,!1);return s},Ut.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ut.getAllAngularRootElements=()=>t.getAllRootElements(),Ut.frameworkStabilizers||(Ut.frameworkStabilizers=[]),Ut.frameworkStabilizers.push(i=>{const r=Ut.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Sa().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:TV,useClass:xw,deps:[Ae,Cw,rv]},{provide:xw,useClass:xw,deps:[Ae,Cw,rv]}],OB=[{provide:sC,useValue:"root"},{provide:So,useFactory:function Wse(){return new So},deps:[]},{provide:t1,useClass:$se,multi:!0,deps:[Tt,Ae,oi]},{provide:t1,useClass:zse,multi:!0,deps:[Tt]},o1,EB,wB,{provide:ba,useExisting:o1},{provide:yB,useClass:Rse,deps:[]},[]];let LB=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:E_,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(L(Kse,12))};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({providers:[...OB,...PB],imports:[mn,bie]})}return n})(),FB=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(L(Tt))};static#t=this.\u0275prov=z({token:n,factory:function(i){let r=null;return r=i?new i:function Qse(){return new FB(L(Tt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;class $B{}class noe{}const Po="*";function GB(n,t=null){return{type:2,steps:n,options:t}}function Da(n){return{type:6,styles:n,offset:null}}class Pf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class zB{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function jB(n){return new P(3e3,!1)}function Aa(n){switch(n.length){case 0:return new Pf;case 1:return n[0];default:return new zB(n)}}function WB(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,r),m){case"!":m=e.get(f);break;case Po:m=i.get(f);break;default:m=n.normalizeStyleValue(f,p,m,r)}d.set(p,m)}),u||s.push(d),a=d,o=c}),r.length)throw function Soe(n){return new P(3502,!1)}();return s}function f1(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&p1(e,"start",n)));break;case"done":n.onDone(()=>i(e&&p1(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&p1(e,"destroy",n)))}}function p1(n,t,e){const s=g1(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function g1(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Nr(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function qB(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const Foe=(()=>typeof document>"u"?null:document.documentElement)();function m1(n){const t=n.parentNode||n.host||null;return t===Foe?null:t}let Nl=null,YB=!1;function KB(n,t){for(;t;){if(t===n)return!0;t=m1(t)}return!1}function XB(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let QB=(()=>{class n{validateStyleProperty(e){return function Boe(n){Nl||(Nl=function Hoe(){return typeof document<"u"?document.body:null}()||{},YB=!!Nl.style&&"WebkitAppearance"in Nl.style);let t=!0;return Nl.style&&!function Voe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Nl.style,!t&&YB&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Nl.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return KB(e,i)}getParentElement(e){return m1(e)}query(e,i,r){return XB(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new Pf(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),_1=(()=>{class n{static#e=this.NOOP=new QB}return n})();const $oe=1e3,v1="ng-enter",wv="ng-leave",Sv="ng-trigger",Ev=".ng-trigger",JB="ng-animating",y1=".ng-animating";function Oo(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:b1(parseFloat(t[1]),t[2])}function b1(n,t){return"s"===t?n*$oe:n}function Dv(n,t,e){return n.hasOwnProperty("duration")?n:function Goe(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(jB()),{duration:0,delay:0,easing:""};r=b1(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=b1(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function ioe(){return new P(3100,!1)}()),a=!0),s<0&&(t.push(function roe(){return new P(3101,!1)}()),a=!0),a&&t.splice(l,0,jB())}return{duration:r,delay:s,easing:o}}(n,t,e)}function Of(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function e3(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Ia(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Ys(n,t,e){t.forEach((i,r)=>{const s=x1(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function Pl(n,t){t.forEach((e,i)=>{const r=x1(i);n.style[r]=""})}function Lf(n){return Array.isArray(n)?1==n.length?n[0]:GB(n):n}const T1=new RegExp("{{\\s*(.+?)\\s*}}","g");function n3(n){let t=[];if("string"==typeof n){let e;for(;e=T1.exec(n);)t.push(e[1]);T1.lastIndex=0}return t}function Ff(n,t,e){const i=n.toString(),r=i.replace(T1,(s,o)=>{let a=t[o];return null==a&&(e.push(function ooe(n){return new P(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Av(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Woe=/-+([a-z0-9])/g;function x1(n){return n.replace(Woe,(...t)=>t[1].toUpperCase())}function Pr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function aoe(n){return new P(3004,!1)}()}}function r3(n,t){return window.getComputedStyle(n)[t]}const Iv="*";function Koe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Xoe(n,t,e){if(":"==n[0]){const l=function Qoe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Toe(n){return new P(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function boe(n){return new P(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(s3(r,o));"<"==s[0]&&!(r==Iv&&o==Iv)&&t.push(s3(o,r))}(i,e,t)):e.push(n),e}const kv=new Set(["true","1"]),Mv=new Set(["false","0"]);function s3(n,t){const e=kv.has(n)||Mv.has(n),i=kv.has(t)||Mv.has(t);return(r,s)=>{let o=n==Iv||n==r,a=t==Iv||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?kv.has(n):Mv.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?kv.has(t):Mv.has(t)),o&&a}}const Zoe=new RegExp("s*:selfs*,?","g");function C1(n,t,e,i){return new Joe(n).build(t,e,i)}class Joe{constructor(t){this._driver=t}build(t,e,i){const r=new nae(e);return this._resetContextStyleTimingState(r),Pr(this,Lf(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function coe(){return new P(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function uoe(){return new P(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{n3(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Av(s.values()),e.errors.push(function doe(n,t){return new P(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Pr(this,Lf(t.animation),e);return{type:1,matchers:Koe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ol(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Pr(this,i,e)),options:Ol(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=Pr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:Ol(t.options)}}visitAnimate(t,e){const i=function rae(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return w1(Dv(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=w1(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Dv(e,t);return w1(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Da({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Da(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Po?i.push(a):e.errors.push(new P(3002,!1)):i.push(e3(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function foe(n,t,e,i,r){return new P(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&function joe(n,t,e){const i=t.params||{},r=n3(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function soe(n){return new P(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function poe(){return new P(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(v=>{const _=this._makeStyleAst(v,e);let b=null!=_.offset?_.offset:function iae(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(_.styles),x=0;return null!=b&&(s++,x=_.offset=b),l=l||x<0||x>1,a=a||x<c,c=x,o.push(x),_});l&&e.errors.push(function goe(){return new P(3012,!1)}()),a&&e.errors.push(function moe(){return new P(3200,!1)}());const d=t.steps.length;let h=0;s>0&&s<d?e.errors.push(function _oe(){return new P(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((v,_)=>{const b=h>0?_==f?1:h*_:o[_],x=b*g;e.currentTime=p+m.delay+x,m.duration=x,this._validateStyleAst(v,e),v.offset=b,i.styles.push(v)}),i}visitReference(t,e){return{type:8,animation:Pr(this,Lf(t.animation),e),options:Ol(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ol(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ol(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function eae(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Zoe,"")),n=n.replace(/@\*/g,Ev).replace(/@\w+/g,e=>Ev+"-"+e.slice(1)).replace(/:animating/g,y1),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Nr(e.collectedStyles,e.currentQuerySelector,new Map);const a=Pr(this,Lf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Ol(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function voe(){return new P(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Dv(t.timings,e.errors,!0);return{type:12,animation:Pr(this,Lf(t.animation),e),timings:i,options:null}}}class nae{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ol(n){return n?(n=Of(n)).params&&(n.params=function tae(n){return n?Of(n):null}(n.params)):n={},n}function w1(n,t,e){return{duration:n,delay:t,easing:e}}function S1(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Rv{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const aae=new RegExp(":enter","g"),cae=new RegExp(":leave","g");function E1(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return(new uae).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class uae{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new Rv;const d=new D1(t,e,c,r,s,u,[]);d.options=l;const h=l.delay?Oo(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Pr(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[S1(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:Oo(Ff(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?Oo(i.duration):null,a=null!=i.delay?Oo(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Pr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Nv);const o=Oo(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Pr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Oo(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Pr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Dv(e.params?Ff(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Oo(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Nv);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),Pr(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Pr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Nv={};class D1{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Pv(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Oo(i.duration)),null!=i.delay&&(r.delay=Oo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Ff(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new D1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Nv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new dae(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(aae,"."+this._enterClassName)).replace(cae,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function yoe(n){return new P(3014,!1)}()),a}}class Pv{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Pv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Po),this._currentKeyframe.set(e,Po);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function hae(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Po)}else Ia(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=Ff(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Po),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Ia(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===Po&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=t.size?Av(t.values()):[],o=e.size?Av(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return S1(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class dae extends Pv{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=Ia(t[0]);l.set("offset",0),s.push(l);const c=Ia(t[0]);c.set("offset",l3(a)),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=Ia(t[d]);const f=h.get("offset");h.set("offset",l3((e+f*i)/o)),s.push(h)}i=o,e=0,r="",t=s}return S1(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function l3(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class A1{}const fae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class pae extends A1{normalizePropertyName(t,e){return x1(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(fae.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function loe(n,t){return new P(3005,!1)}())}return o+s}}function c3(n,t,e,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const I1={};class u3{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function gae(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||I1,p=this.buildStyles(i,a&&a.params||I1,d),m=l&&l.params||I1,g=this.buildStyles(r,m,d),v=new Set,_=new Map,b=new Map,x="void"===r,D={params:mae(m,h),delay:this.ast.options?.delay},k=u?[]:E1(t,e,this.ast.animation,s,o,p,g,D,c,d);let $=0;if(k.forEach(we=>{$=Math.max(we.duration+we.delay,$)}),d.length)return c3(e,this._triggerName,i,r,x,p,g,[],[],_,b,$,d);k.forEach(we=>{const me=we.element,ce=Nr(_,me,new Set);we.preStyleProps.forEach(Ce=>ce.add(Ce));const ot=Nr(b,me,new Set);we.postStyleProps.forEach(Ce=>ot.add(Ce)),me!==e&&v.add(me)});const X=Av(v.values());return c3(e,this._triggerName,i,r,x,p,g,k,X,_,b,$)}}function mae(n,t){const e=Of(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class _ae{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Of(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Ff(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class yae{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new _ae(r.style,r.options&&r.options.params||{},i))}),d3(this.states,"true","1"),d3(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new u3(t,r,this.states))}),this.fallbackTransition=function bae(n,t,e){return new u3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function d3(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Tae=new Rv;class xae{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=C1(this._driver,e,i,[]);if(i.length)throw function Eoe(n){return new P(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=WB(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=E1(this._driver,e,s,v1,wv,new Map,new Map,i,Tae,r),o.forEach(u=>{const d=Nr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function Doe(){return new P(3300,!1)}()),o=[]),r.length)throw function Aoe(n){return new P(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Po))})});const c=Aa(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Ioe(n){return new P(3301,!1)}();return e}listen(t,e,i,r){const s=g1(e,"","","");return f1(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const h3="ng-animate-queued",k1="ng-animate-disabled",Dae=[],f3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Aae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bs="__ng_removed";class M1{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Rae(n){return n??null}(i?t.value:t),i){const s=Of(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Vf="void",R1=new M1(Vf);class Iae{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ns(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function koe(n,t){return new P(3302,!1)}();if(null==i||0==i.length)throw function Moe(n){return new P(3303,!1)}();if(!function Nae(n){return"start"==n||"done"==n}(i))throw function Roe(n,t){return new P(3400,!1)}();const s=Nr(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=Nr(this._engine.statesByElement,t,new Map);return a.has(e)||(ns(t,Sv),ns(t,Sv+"-"+e),a.set(e,R1)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Noe(n){return new P(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new N1(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(ns(t,Sv),ns(t,Sv+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new M1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=R1),c.value!==Vf&&l.value===c.value){if(!function Lae(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),v=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Pl(t,g),Ys(t,v)})}return}const h=Nr(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(ns(t,h3),o.onStart(()=>{Bu(t,h3)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let v=g.indexOf(o);v>=0&&g.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Ev,!0);i.forEach(r=>{if(r[bs])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,Vf,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&Aa(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||R1,u=new M1(Vf),d=new N1(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[bs];(!s||s===f3)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ns(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=g1(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,f1(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class kae{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Iae(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(Ov(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Ov(e))return;const s=e[bs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ns(t,k1)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Bu(t,k1))}removeNode(t,e,i){if(Ov(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[bs]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Ov(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Ev,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,y1,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Aa(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[bs];if(e&&e.setForRemoval){if(t[bs]=f3,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(k1)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ns(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Aa(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Poe(n){return new P(3402,!1)}()}_flushAnimations(t,e){const i=new Rv,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(G=>{u.add(G);const Y=this.driver.query(G,".ng-animate-queued",!0);for(let he=0;he<Y.length;he++)u.add(Y[he])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=m3(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((G,Y)=>{const he=v1+m++;p.set(Y,he),G.forEach(de=>ns(de,he))});const g=[],v=new Set,_=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){const Y=this.collectedLeaveElements[G],he=Y[bs];he&&he.setForRemoval&&(g.push(Y),v.add(Y),he.hasAnimation?this.driver.query(Y,".ng-star-inserted",!0).forEach(de=>v.add(de)):_.add(Y))}const b=new Map,x=m3(h,Array.from(v));x.forEach((G,Y)=>{const he=wv+m++;b.set(Y,he),G.forEach(de=>ns(de,he))}),t.push(()=>{f.forEach((G,Y)=>{const he=p.get(Y);G.forEach(de=>Bu(de,he))}),x.forEach((G,Y)=>{const he=b.get(Y);G.forEach(de=>Bu(de,he))}),g.forEach(G=>{this.processLeaveNode(G)})});const D=[],k=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(e).forEach(he=>{const de=he.player,We=he.element;if(D.push(de),this.collectedEnterElements.length){const Ze=We[bs];if(Ze&&Ze.setForMove){if(Ze.previousTriggersValues&&Ze.previousTriggersValues.has(he.triggerName)){const vn=Ze.previousTriggersValues.get(he.triggerName),ne=this.statesByElement.get(he.element);if(ne&&ne.has(he.triggerName)){const Ie=ne.get(he.triggerName);Ie.value=vn,ne.set(he.triggerName,Ie)}}return void de.destroy()}}const at=!d||!this.driver.containsElement(d,We),Xe=b.get(We),si=p.get(We),it=this._buildInstruction(he,i,si,Xe,at);if(it.errors&&it.errors.length)return void k.push(it);if(at)return de.onStart(()=>Pl(We,it.fromStyles)),de.onDestroy(()=>Ys(We,it.toStyles)),void r.push(de);if(he.isFallbackTransition)return de.onStart(()=>Pl(We,it.fromStyles)),de.onDestroy(()=>Ys(We,it.toStyles)),void r.push(de);const pi=[];it.timelines.forEach(Ze=>{Ze.stretchStartingKeyframe=!0,this.disabledNodes.has(Ze.element)||pi.push(Ze)}),it.timelines=pi,i.append(We,it.timelines),o.push({instruction:it,player:de,element:We}),it.queriedElements.forEach(Ze=>Nr(a,Ze,[]).push(de)),it.preStyleProps.forEach((Ze,vn)=>{if(Ze.size){let ne=l.get(vn);ne||l.set(vn,ne=new Set),Ze.forEach((Ie,qe)=>ne.add(qe))}}),it.postStyleProps.forEach((Ze,vn)=>{let ne=c.get(vn);ne||c.set(vn,ne=new Set),Ze.forEach((Ie,qe)=>ne.add(qe))})});if(k.length){const G=[];k.forEach(Y=>{G.push(function Ooe(n,t){return new P(3505,!1)}())}),D.forEach(Y=>Y.destroy()),this.reportError(G)}const $=new Map,X=new Map;o.forEach(G=>{const Y=G.element;i.has(Y)&&(X.set(Y,Y),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,$))}),r.forEach(G=>{const Y=G.element;this._getPreviousPlayers(Y,!1,G.namespaceId,G.triggerName,null).forEach(de=>{Nr($,Y,[]).push(de),de.destroy()})});const we=g.filter(G=>v3(G,l,c)),me=new Map;g3(me,this.driver,_,c,Po).forEach(G=>{v3(G,l,c)&&we.push(G)});const ot=new Map;f.forEach((G,Y)=>{g3(ot,this.driver,new Set(G),l,"!")}),we.forEach(G=>{const Y=me.get(G),he=ot.get(G);me.set(G,new Map([...Y?.entries()??[],...he?.entries()??[]]))});const Ce=[],nt=[],un={};o.forEach(G=>{const{element:Y,player:he,instruction:de}=G;if(i.has(Y)){if(u.has(Y))return he.onDestroy(()=>Ys(Y,de.toStyles)),he.disabled=!0,he.overrideTotalTime(de.totalTime),void r.push(he);let We=un;if(X.size>1){let Xe=Y;const si=[];for(;Xe=Xe.parentNode;){const it=X.get(Xe);if(it){We=it;break}si.push(Xe)}si.forEach(it=>X.set(it,We))}const at=this._buildAnimation(he.namespaceId,de,$,s,ot,me);if(he.setRealPlayer(at),We===un)Ce.push(he);else{const Xe=this.playersByElement.get(We);Xe&&Xe.length&&(he.parentPlayer=Aa(Xe)),r.push(he)}}else Pl(Y,de.fromStyles),he.onDestroy(()=>Ys(Y,de.toStyles)),nt.push(he),u.has(Y)&&r.push(he)}),nt.forEach(G=>{const Y=s.get(G.element);if(Y&&Y.length){const he=Aa(Y);G.setRealPlayer(he)}}),r.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<g.length;G++){const Y=g[G],he=Y[bs];if(Bu(Y,wv),he&&he.hasAnimation)continue;let de=[];if(a.size){let at=a.get(Y);at&&at.length&&de.push(...at);let Xe=this.driver.query(Y,y1,!0);for(let si=0;si<Xe.length;si++){let it=a.get(Xe[si]);it&&it.length&&de.push(...it)}}const We=de.filter(at=>!at.destroyed);We.length?Pae(this,Y,We):this.processLeaveNode(Y)}return g.length=0,Ce.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();const Y=this.players.indexOf(G);this.players.splice(Y,1)}),G.play()}),Ce}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==Vf;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=Nr(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Pl(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const m=p.element;u.add(m);const g=m[bs];if(g&&g.removedBeforeQueried)return new Pf(p.duration,p.delay);const v=m!==l,_=function Oae(n){const t=[];return _3(n,t),t}((i.get(m)||Dae).map($=>$.getRealPlayer())).filter($=>!!$.element&&$.element===m),b=s.get(m),x=o.get(m),D=WB(this._normalizer,p.keyframes,b,x),k=this._buildPlayer(p,D,_);if(p.subTimeline&&r&&d.add(m),v){const $=new N1(t,a,m);$.setRealPlayer(k),c.push($)}return k});c.forEach(p=>{Nr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Mae(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>ns(p,JB));const f=Aa(h);return f.onDestroy(()=>{u.forEach(p=>Bu(p,JB)),Ys(l,e.toStyles)}),d.forEach(p=>{Nr(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Pf(t.duration,t.delay)}}class N1{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Pf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>f1(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Nr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ov(n){return n&&1===n.nodeType}function p3(n,t){const e=n.style.display;return n.style.display=t??"none",e}function g3(n,t,e,i,r){const s=[];e.forEach(l=>s.push(p3(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[bs]=Aae,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>p3(l,s[a++])),o}function m3(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function ns(n,t){n.classList?.add(t)}function Bu(n,t){n.classList?.remove(t)}function Pae(n,t,e){Aa(e).onDone(()=>n.processLeaveNode(t))}function _3(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof zB?_3(i.players,t):t.push(i)}}function v3(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Lv{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new kae(t,e,i),this._timelineEngine=new xae(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=C1(this._driver,s,l,[]);if(l.length)throw function woe(n,t){return new P(3404,!1)}();a=function vae(n,t,e){return new yae(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=qB(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=qB(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let Vae=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ys(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ys(this._element,this._initialStyles),this._endStyles&&(Ys(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pl(this._element,this._endStyles),this._endStyles=null),Ys(this._element,this._initialStyles),this._state=3)}}return n})();function P1(n){let t=null;return n.forEach((e,i)=>{(function Bae(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class y3{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:r3(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Hae{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return KB(t,e)}getParentElement(t){return m1(t)}query(t,e,i){return XB(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof y3);(function qoe(n,t){return 0===n||0===t})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function zoe(n){return n.length?n[0]instanceof Map?n:n.map(t=>e3(t)):[]}(e).map(f=>Ia(f));d=function Yoe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,r3(n,a)))}}return t}(t,d,c);const h=function Fae(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=P1(t[0]),t.length>1&&(i=P1(t[t.length-1]))):t instanceof Map&&(e=P1(t)),e||i?new Vae(n,e,i):null}(t,d);return new y3(t,d,l,h)}}let $ae=(()=>{class n extends $B{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Kr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?GB(e):e;return b3(this._renderer,null,i,"register",[r]),new Uae(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(L(ba),L(Tt))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class Uae extends noe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Gae(this._id,t,e||{},this._renderer)}}class Gae{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return b3(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function b3(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const T3="@.disabled";let zae=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new x3("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return i.data.animation.forEach(l),new jae(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(L(ba),L(Lv),L(Ae))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();class x3{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==T3?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class jae extends x3{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==T3?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Wae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function qae(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let Yae=(()=>{class n extends Lv{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(L(Tt),L(_1),L(A1),L(_s))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const C3=[{provide:$B,useClass:$ae},{provide:A1,useFactory:function Kae(){return new pae}},{provide:Lv,useClass:Yae},{provide:ba,useFactory:function Xae(n,t,e){return new zae(n,t,e)},deps:[o1,Lv,Ae]}],O1=[{provide:_1,useFactory:()=>new Hae},{provide:VO,useValue:"BrowserAnimations"},...C3],w3=[{provide:_1,useClass:QB},{provide:VO,useValue:"NoopAnimations"},...C3];let Qae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?w3:O1}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({providers:O1,imports:[LB]})}return n})();const{isArray:Jae}=Array,{getPrototypeOf:ele,prototype:tle,keys:nle}=Object;function S3(n){if(1===n.length){const t=n[0];if(Jae(t))return{args:t,keys:null};if(function ile(n){return n&&"object"==typeof n&&ele(n)===tle}(t)){const e=nle(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:rle}=Array;function L1(n){return ze(t=>function sle(n,t){return rle(t)?n(...t):n(t)}(n,t))}function E3(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Bf(...n){const t=Dh(n),e=Mm(n),{args:i,keys:r}=S3(n);if(0===i.length)return qn([],t);const s=new ct(function ole(n,t,e=Wr){return i=>{D3(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)D3(t,()=>{const c=qn(n[l],t);let u=!1;c.subscribe(It(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>E3(r,o):Wr));return e?s.pipe(L1(e)):s}function D3(n,t,e){n?vo(e,n,t):t()}const Vv=Kt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Hf(...n){return function ale(){return $c(1)}()(qn(n,Dh(n)))}function A3(n){return new ct(t=>{Vn(n()).subscribe(t)})}function $f(n,t){const e=Qe(n)?n:()=>n,i=r=>r.error(e());return new ct(t?r=>t.schedule(i,0,r):i)}function F1(){return Qt((n,t)=>{let e=null;n._refCount++;const i=It(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class I3 extends ct{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Em(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new He;const e=this.getSubject();t.add(this.source.subscribe(It(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=He.EMPTY)}return t}refCount(){return F1()(this)}}function In(n){return n<=0?()=>qr:Qt((t,e)=>{let i=0;t.subscribe(It(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Hu(...n){const t=Dh(n);return Qt((e,i)=>{(t?Hf(n,e,t):Hf(n,e)).subscribe(i)})}function wi(n,t){return Qt((e,i)=>{let r=0;e.subscribe(It(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Bv(n){return Qt((t,e)=>{let i=!1;t.subscribe(It(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function k3(n=lle){return Qt((t,e)=>{let i=!1;t.subscribe(It(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function lle(){return new Vv}function Ll(n,t){const e=arguments.length>=2;return i=>i.pipe(n?wi((r,s)=>n(r,s,i)):Wr,In(1),e?Bv(t):k3(()=>new Vv))}function $u(n,t){return Qe(t)?Wn(n,t,1):Wn(n,1)}function Un(n,t,e){const i=Qe(n)||t||e?{next:n,error:t,complete:e}:n;return i?Qt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(It(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Wr}function Fl(n){return Qt((t,e)=>{let s,i=null,r=!1;i=t.subscribe(It(e,void 0,void 0,o=>{s=Vn(n(o,Fl(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function V1(n){return n<=0?()=>qr:Qt((t,e)=>{let i=[];t.subscribe(It(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Uf(n){return Qt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function sn(n){return Qt((t,e)=>{Vn(n).subscribe(It(e,()=>e.complete(),Ht)),!e.closed&&t.subscribe(e)})}const Ye="primary",Gf=Symbol("RouteTitle");class hle{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Uu(n){return new hle(n)}function fle(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ks(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!R3(n[r],t[r]))return!1;return!0}function R3(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function N3(n){return n.length>0?n[n.length-1]:null}function ka(n){return function Zae(n){return!!n&&(n instanceof ct||Qe(n.lift)&&Qe(n.subscribe))}(n)?n:vf(n)?qn(Promise.resolve(n)):Se(n)}const gle={exact:function L3(n,t,e){if(!Vl(n.segments,t.segments)||!Hv(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!L3(n.children[i],t.children[i],e))return!1;return!0},subset:F3},P3={exact:function mle(n,t){return Ks(n,t)},subset:function _le(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>R3(n[e],t[e]))},ignored:()=>!0};function O3(n,t,e){return gle[e.paths](n.root,t.root,e.matrixParams)&&P3[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function F3(n,t,e){return V3(n,t,t.segments,e)}function V3(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Vl(r,e)||t.hasChildren()||!Hv(r,e,i))}if(n.segments.length===e.length){if(!Vl(n.segments,e)||!Hv(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!F3(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Vl(n.segments,r)&&Hv(n.segments,r,i)&&n.children[Ye])&&V3(n.children[Ye],t,s,i)}}function Hv(n,t,e){return t.every((i,r)=>P3[e](n[r].parameters,i.parameters))}class Gu{constructor(t=new Pt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return ble.serialize(this)}}class Pt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $v(this)}}class zf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Uu(this.parameters)),this._parameterMap}toString(){return $3(this)}}function Vl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let jf=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return new B1},providedIn:"root"})}return n})();class B1{parse(t){const e=new Mle(t);return new Gu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Wf(t.root,!0)}`,i=function Cle(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Uv(e)}=${Uv(r)}`).join("&"):`${Uv(e)}=${Uv(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Tle(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ble=new B1;function $v(n){return n.segments.map(t=>$3(t)).join("/")}function Wf(n,t){if(!n.hasChildren())return $v(n);if(t){const e=n.children[Ye]?Wf(n.children[Ye],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Ye&&i.push(`${r}:${Wf(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function yle(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ye&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ye&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Ye?[Wf(n.children[Ye],!1)]:[`${r}:${Wf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ye]?`${$v(n)}/${e[0]}`:`${$v(n)}/(${e.join("//")})`}}function B3(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uv(n){return B3(n).replace(/%3B/gi,";")}function H1(n){return B3(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gv(n){return decodeURIComponent(n)}function H3(n){return Gv(n.replace(/\+/g,"%20"))}function $3(n){return`${H1(n.path)}${function xle(n){return Object.keys(n).map(t=>`;${H1(t)}=${H1(n[t])}`).join("")}(n.parameters)}`}const wle=/^[^\/()?;#]+/;function $1(n){const t=n.match(wle);return t?t[0]:""}const Sle=/^[^\/()?;=#]+/,Dle=/^[^=?&#]+/,Ile=/^[^&#]+/;class Mle{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ye]=new Pt(t,e)),i}parseSegment(){const t=$1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(t),new zf(Gv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Ele(n){const t=n.match(Sle);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=$1(this.remaining);r&&(i=r,this.capture(i))}t[Gv(e)]=Gv(i)}parseQueryParam(t){const e=function Ale(n){const t=n.match(Dle);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function kle(n){const t=n.match(Ile);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=H3(e),s=H3(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=$1(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new P(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ye);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Ye]:new Pt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new P(4011,!1)}}function U3(n){return n.segments.length>0?new Pt([],{[Ye]:n}):n}function G3(n){const t={};for(const i of Object.keys(n.children)){const s=G3(n.children[i]);if(i===Ye&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Rle(n){if(1===n.numberOfChildren&&n.children[Ye]){const t=n.children[Ye];return new Pt(n.segments.concat(t.segments),t.children)}return n}(new Pt(n.segments,t))}function Bl(n){return n instanceof Gu}function z3(n){let t;const r=U3(function e(s){const o={};for(const l of s.children){const c=e(l);o[l.outlet]=c}const a=new Pt(s.url,o);return s===n&&(t=a),a}(n.root));return t??r}function j3(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return U1(r,r,r,e,i);const s=function Ple(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new q3(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new q3(e,t,i)}(t);if(s.toRoot())return U1(r,r,new Pt([],{}),e,i);const o=function Ole(n,t,e){if(n.isAbsolute)return new jv(t,!0,0);if(!e)return new jv(t,!1,NaN);if(null===e.parent)return new jv(e,!0,0);const i=zv(n.commands[0])?0:1;return function Lle(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new P(4005,!1);r=i.segments.length}return new jv(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?Yf(o.segmentGroup,o.index,s.commands):Y3(o.segmentGroup,o.index,s.commands);return U1(r,o.segmentGroup,a,e,i)}function zv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function qf(n){return"object"==typeof n&&null!=n&&n.outlets}function U1(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===t?e:W3(n,t,e);const a=U3(G3(o));return new Gu(a,s,r)}function W3(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:W3(s,t,e)}),new Pt(n.segments,i)}class q3{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&zv(i[0]))throw new P(4003,!1);const r=i.find(qf);if(r&&r!==N3(i))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jv{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Y3(n,t,e){if(n||(n=new Pt([],{})),0===n.segments.length&&n.hasChildren())return Yf(n,t,e);const i=function Vle(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(qf(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!X3(l,c,o))return s;i+=2}else{if(!X3(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Pt(n.segments.slice(0,i.pathIndex),{});return s.children[Ye]=new Pt(n.segments.slice(i.pathIndex),n.children),Yf(s,0,r)}return i.match&&0===r.length?new Pt(n.segments,{}):i.match&&!n.hasChildren()?G1(n,t,e):i.match?Yf(n,0,r):G1(n,t,e)}function Yf(n,t,e){if(0===e.length)return new Pt(n.segments,{});{const i=function Fle(n){return qf(n[0])?n[0].outlets:{[Ye]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Ye)&&n.children[Ye]&&1===n.numberOfChildren&&0===n.children[Ye].segments.length){const s=Yf(n.children[Ye],t,e);return new Pt(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=Y3(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Pt(n.segments,r)}}function G1(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(qf(s)){const l=Ble(s.outlets);return new Pt(i,l)}if(0===r&&zv(e[0])){i.push(new zf(n.segments[t].path,K3(e[0]))),r++;continue}const o=qf(s)?s.outlets[Ye]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&zv(a)?(i.push(new zf(o,K3(a))),r+=2):(i.push(new zf(o,{})),r++)}return new Pt(i,{})}function Ble(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=G1(new Pt([],{}),0,i))}),t}function K3(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function X3(n,t,e){return n==e.path&&Ks(t,e.parameters)}const Kf="imperative";class Xs{constructor(t,e){this.id=t,this.url=e}}class Wv extends Xs{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ma extends Xs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xf extends Xs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zu extends Xs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class qv extends Xs{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Q3 extends Xs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hle extends Xs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $le extends Xs{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ule extends Xs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gle extends Xs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zle{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jle{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wle{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qle{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yle{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kle{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z3{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class z1{}class j1{constructor(t){this.url=t}}class Xle{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Qf,this.attachRef=null}}let Qf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Xle,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class J3{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=W1(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=W1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=q1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return q1(t,this._root).map(e=>e.value)}}function W1(n,t){if(n===t.value)return t;for(const e of t.children){const i=W1(n,e);if(i)return i}return null}function q1(n,t){if(n===t.value)return[t];for(const e of t.children){const i=q1(n,e);if(i.length)return i.unshift(t),i}return[]}class Lo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ju(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class eH extends J3{constructor(t,e){super(t),this.snapshot=e,Y1(this,t)}toString(){return this.snapshot.toString()}}function tH(n,t){const e=function Qle(n,t){const o=new Yv([],{},{},"",{},Ye,t,null,{});return new iH("",new Lo(o,[]))}(0,t),i=new Bn([new zf("",{})]),r=new Bn({}),s=new Bn({}),o=new Bn({}),a=new Bn(""),l=new Wu(i,r,o,a,s,Ye,t,e.root);return l.snapshot=e.root,new eH(new Lo(l,[]),e)}class Wu{constructor(t,e,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ze(c=>c[Gf]))??Se(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ze(t=>Uu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ze(t=>Uu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nH(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Zle(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Yv{get title(){return this.data?.[Gf]}constructor(t,e,i,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iH extends J3{constructor(t,e){super(e),this.url=t,Y1(this,e)}toString(){return rH(this._root)}}function Y1(n,t){t.value._routerState=n,t.children.forEach(e=>Y1(n,e))}function rH(n){const t=n.children.length>0?` { ${n.children.map(rH).join(", ")} } `:"";return`${n.value}${t}`}function K1(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ks(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ks(t.params,e.params)||n.paramsSubject.next(e.params),function ple(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ks(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Ks(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function X1(n,t){const e=Ks(n.params,t.params)&&function vle(n,t){return Vl(n,t)&&n.every((e,i)=>Ks(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||X1(n.parent,t.parent))}let Q1=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new W,this.deactivateEvents=new W,this.attachEvents=new W,this.detachEvents=new W,this.parentContexts=te(Qf),this.location=te(kr),this.changeDetector=te(ai),this.environmentInjector=te(hr),this.inputBinder=te(Kv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Jle(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Q({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[At]})}return n})();class Jle{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Wu?this.route:t===Qf?this.childContexts:this.parent.get(t,e)}}const Kv=new q("");let sH=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Bf([i.queryParams,i.params,i.data]).pipe(or(([s,o,a],l)=>(a={...s,...o,...a},0===l?Se(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function Pie(n){const t=ut(n);if(!t)return null;const e=new df(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function Zf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function tce(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Zf(n,i,r);return Zf(n,i)})}(n,t,e);return new Lo(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Zf(n,a)),o}}const i=function nce(n){return new Wu(new Bn(n.url),new Bn(n.params),new Bn(n.queryParams),new Bn(n.fragment),new Bn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Zf(n,s));return new Lo(i,r)}}const Z1="ngNavigationCancelingError";function oH(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Bl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=aH(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function aH(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Z1]=!0,i.cancellationCode=t,e&&(i.url=e),i}function lH(n){return n&&n[Z1]}let cH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Pe({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ca],decls:1,vars:0,template:function(i,r){1&i&&ie(0,"router-outlet")},dependencies:[Q1],encapsulation:2})}return n})();function J1(n){const t=n.children&&n.children.map(J1),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ye&&(e.component=cH),e}function Ts(n){return n.outlet||Ye}function Jf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class uce{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),K1(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=ju(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=ju(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=ju(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=ju(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Kle(s.value.snapshot))}),t.children.length&&this.forwardEvent(new qle(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(K1(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),K1(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Jf(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class uH{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Xv{constructor(t,e){this.component=t,this.route=e}}function dce(n,t,e){const i=n._root;return ep(i,t?t._root:null,e,[i.value])}function qu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function eY(n){return null!==Fm(n)}(n)?t.get(n):n:i}function ep(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=ju(t);return n.children.forEach(o=>{(function fce(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function pce(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Vl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Vl(n.url,t.url)||!Ks(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!X1(n,t)||!Ks(n.queryParams,t.queryParams);default:return!X1(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new uH(i)):(s.data=o.data,s._resolvedData=o._resolvedData),ep(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Xv(a.outlet.component,o))}else o&&tp(t,a,r),r.canActivateChecks.push(new uH(i)),ep(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>tp(a,e.getContext(o),r)),r}function tp(n,t,e){const i=ju(n),r=n.value;Object.entries(i).forEach(([s,o])=>{tp(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Xv(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function np(n){return"function"==typeof n}function dH(n){return n instanceof Vv||"EmptyError"===n?.name}const Qv=Symbol("INITIAL_VALUE");function Yu(){return or(n=>Bf(n.map(t=>t.pipe(In(1),Hu(Qv)))).pipe(ze(t=>{for(const e of t)if(!0!==e){if(e===Qv)return Qv;if(!1===e||e instanceof Gu)return e}return!0}),wi(t=>t!==Qv),In(1)))}function hH(n){return function LT(...n){return xm(n)}(Un(t=>{if(Bl(t))throw oH(0,t)}),ze(t=>!0===t))}class Zv{constructor(t){this.segmentGroup=t||null}}class fH{constructor(t){this.urlTree=t}}function Ku(n){return $f(new Zv(n))}function pH(n){return $f(new fH(n))}class Pce{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new P(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Se(i);if(r.numberOfChildren>1||!r.children[Ye])return $f(new P(4e3,!1));r=r.children[Ye]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Gu(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new Pt(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new P(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const eS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Oce(n,t,e,i,r){const s=tS(n,t,e);return s.matched?(i=function rce(n,t){return n.providers&&!n._injector&&(n._injector=rw(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Mce(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Se(r.map(o=>{const a=qu(o,n);return ka(function bce(n){return n&&np(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Yu(),hH()):Se(!0)}(i,t,e).pipe(ze(o=>!0===o?s:{...eS}))):Se(s)}function tS(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...eS}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||fle)(e,n,t);if(!r)return{...eS};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function gH(n,t,e,i){return e.length>0&&function Vce(n,t,e){return e.some(i=>Jv(n,t,i)&&Ts(i)!==Ye)}(n,e,i)?{segmentGroup:new Pt(t,Fce(i,new Pt(e,n.children))),slicedSegments:[]}:0===e.length&&function Bce(n,t,e){return e.some(i=>Jv(n,t,i))}(n,e,i)?{segmentGroup:new Pt(n.segments,Lce(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Pt(n.segments,n.children),slicedSegments:e}}function Lce(n,t,e,i,r){const s={};for(const o of i)if(Jv(n,e,o)&&!r[Ts(o)]){const a=new Pt([],{});s[Ts(o)]=a}return{...r,...s}}function Fce(n,t){const e={};e[Ye]=t;for(const i of n)if(""===i.path&&Ts(i)!==Ye){const r=new Pt([],{});e[Ts(i)]=r}return e}function Jv(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Gce{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Pce(this.urlSerializer,this.urlTree)}noMatchError(t){return new P(4002,!1)}recognize(){const t=gH(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ye).pipe(Fl(e=>{if(e instanceof fH)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Zv?this.noMatchError(e):e}),ze(e=>{const i=new Yv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),r=new Lo(i,e),s=new iH("",r),o=function Nle(n,t,e=null,i=null){return j3(z3(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Ye).pipe(Fl(i=>{throw i instanceof Zv?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=nH(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return qn(r).pipe($u(s=>{const o=i.children[s],a=function lce(n,t){const e=n.filter(i=>Ts(i)===t);return e.push(...n.filter(i=>Ts(i)!==t)),e}(e,s);return this.processSegmentGroup(t,a,o,s)}),function ule(n,t){return Qt(function cle(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(It(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Bv(null),function dle(n,t){const e=arguments.length>=2;return i=>i.pipe(n?wi((r,s)=>n(r,s,i)):Wr,V1(1),e?Bv(t):k3(()=>new Vv))}(),Wn(s=>{if(null===s)return Ku(i);const o=mH(s);return function zce(n){n.sort((t,e)=>t.value.outlet===Ye?-1:e.value.outlet===Ye?1:t.value.outlet.localeCompare(e.value.outlet))}(o),Se(o)}))}processSegment(t,e,i,r,s,o){return qn(e).pipe($u(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,s,o).pipe(Fl(l=>{if(l instanceof Zv)return Se(null);throw l}))),Ll(a=>!!a),Fl(a=>{if(dH(a))return function $ce(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?Se([]):Ku(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,s,o,a){return function Hce(n,t,e,i){return!!(Ts(n)===i||i!==Ye&&Jv(t,e,n))&&("**"===n.path||tS(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):Ku(r):Ku(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?pH(s):this.applyRedirects.lineralizeSegments(i,s).pipe(Wn(o=>{const a=new Pt(o,{});return this.processSegment(t,e,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=tS(e,r,s);if(!a)return Ku(e);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?pH(d):this.applyRedirects.lineralizeSegments(r,d).pipe(Wn(h=>this.processSegment(t,i,e,h.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?N3(r).parameters:{};a=Se({snapshot:new Yv(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_H(i),Ts(i),i.component??i._loadedComponent??null,i,vH(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=Oce(e,i,r,t).pipe(ze(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new Yv(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_H(i),Ts(i),i.component??i._loadedComponent??null,i,vH(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(or(l=>null===l?Ku(e):this.getChildConfig(t=i._injector??t,i,r).pipe(or(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:m}=gH(e,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(ze(v=>null===v?null:[new Lo(d,v)]));if(0===c.length&&0===m.length)return Se([new Lo(d,[])]);const g=Ts(i)===s;return this.processSegment(u,c,p,m,g?Ye:s,!0).pipe(ze(v=>[new Lo(d,v)]))}))))}getChildConfig(t,e,i){return e.children?Se({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Se({routes:e._loadedRoutes,injector:e._loadedInjector}):function kce(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Se(!0):Se(r.map(o=>{const a=qu(o,n);return ka(function mce(n){return n&&np(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Yu(),hH())}(t,e,i).pipe(Wn(r=>r?this.configLoader.loadChildren(t,e).pipe(Un(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Nce(n){return $f(aH(!1,3))}())):Se({routes:[],injector:t})}}function jce(n){const t=n.value.routeConfig;return t&&""===t.path}function mH(n){const t=[],e=new Set;for(const i of n){if(!jce(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=mH(i.children);t.push(new Lo(i.value,r))}return t.filter(i=>!e.has(i))}function _H(n){return n.data||{}}function vH(n){return n.resolve||{}}function qce(n,t){return Wn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Se(e);let s=0;return qn(r).pipe($u(o=>function Yce(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!yH(r)&&(s[Gf]=r.title),function Kce(n,t,e,i){const r=function Xce(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Se({});const s={};return qn(r).pipe(Wn(o=>function Qce(n,t,e,i){const r=Jf(t)??i,s=qu(n,r);return ka(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(Ll(),Un(a=>{s[o]=a}))),V1(1),function M3(n){return ze(()=>n)}(s),Fl(o=>dH(o)?qr:$f(o)))}(s,n,t,i).pipe(ze(o=>(n._resolvedData=o,n.data=nH(n,e).resolve,r&&yH(r)&&(n.data[Gf]=r.title),null)))}(o.route,i,n,t)),Un(()=>s++),V1(1),Wn(o=>s===r.length?Se(e):qr))})}function yH(n){return"string"==typeof n.title||null===n.title}function nS(n){return or(t=>{const e=n(t);return e?qn(e).pipe(ze(()=>t)):Se(t)})}const Xu=new q("ROUTES");let iS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=te(_V)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Se(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ka(e.loadComponent()).pipe(ze(bH),Un(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Uf(()=>{this.componentLoaders.delete(e)})),r=new I3(i,()=>new Ee).pipe(F1());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Zce(n,t,e,i){return ka(n.loadChildren()).pipe(ze(bH),Wn(r=>r instanceof E2||Array.isArray(r)?Se(r):qn(t.compileModuleAsync(r))),ze(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(Xu,[],{optional:!0,self:!0}).flat()),{routes:o.map(J1),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Uf(()=>{this.childrenLoaders.delete(i)})),o=new I3(s,()=>new Ee).pipe(F1());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bH(n){return function Jce(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ey=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee,this.transitionAbortSubject=new Ee,this.configLoader=te(iS),this.environmentInjector=te(hr),this.urlSerializer=te(jf),this.rootContexts=te(Qf),this.inputBindingEnabled=null!==te(Kv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new jle(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new zle(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new Bn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Kf,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wi(s=>0!==s.id),ze(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),or(s=>{this.currentTransition=s;let o=!1,a=!1;return Se(s).pipe(Un(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),or(l=>{const c=l.currentBrowserUrl.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const h="";return this.events.next(new zu(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),qr}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Se(l).pipe(or(h=>{const f=this.transitions?.getValue();return this.events.next(new Wv(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?qr:Promise.resolve(h)}),function Wce(n,t,e,i,r,s){return Wn(o=>function Uce(n,t,e,i,r,s,o="emptyOnly"){return new Gce(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe(ze(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Un(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new Q3(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=l,v=new Wv(h,this.urlSerializer.serialize(f),p,m);this.events.next(v);const _=tH(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:_,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},Se(s)}{const h="";return this.events.next(new zu(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),qr}}),Un(l=>{const c=new Hle(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ze(l=>(this.currentTransition=s={...l,guards:dce(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function xce(n,t){return Wn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?Se({...e,guardsResult:!0}):function Cce(n,t,e,i){return qn(n).pipe(Wn(r=>function Ice(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Se(s.map(a=>{const l=Jf(t)??r,c=qu(a,l);return ka(function yce(n){return n&&np(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(Ll())})).pipe(Yu()):Se(!0)}(r.component,r.route,e,t,i)),Ll(r=>!0!==r,!0))}(o,i,r,n).pipe(Wn(a=>a&&function gce(n){return"boolean"==typeof n}(a)?function wce(n,t,e,i){return qn(t).pipe($u(r=>Hf(function Ece(n,t){return null!==n&&t&&t(new Wle(n)),Se(!0)}(r.route.parent,i),function Sce(n,t){return null!==n&&t&&t(new Yle(n)),Se(!0)}(r.route,i),function Ace(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function hce(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>A3(()=>Se(o.guards.map(l=>{const c=Jf(o.node)??e,u=qu(l,c);return ka(function vce(n){return n&&np(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Ll())})).pipe(Yu())));return Se(s).pipe(Yu())}(n,r.path,e),function Dce(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Se(!0);const r=i.map(s=>A3(()=>{const o=Jf(t)??e,a=qu(s,o);return ka(function _ce(n){return n&&np(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(Ll())}));return Se(r).pipe(Yu())}(n,r.route,e))),Ll(r=>!0!==r,!0))}(i,s,n,t):Se(a)),ze(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Un(l=>{if(s.guardsResult=l.guardsResult,Bl(l.guardsResult))throw oH(0,l.guardsResult);const c=new $le(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),wi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),nS(l=>{if(l.guards.canActivateChecks.length)return Se(l).pipe(Un(c=>{const u=new Ule(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),or(c=>{let u=!1;return Se(c).pipe(qce(e.paramsInheritanceStrategy,this.environmentInjector),Un({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Un(c=>{const u=new Gle(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),nS(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Un(h=>{u.component=h}),ze(()=>{})));for(const h of u.children)d.push(...c(h));return d};return Bf(c(l.targetSnapshot.root)).pipe(Bv(),In(1))}),nS(()=>this.afterPreactivation()),ze(l=>{const c=function ece(n,t,e){const i=Zf(n,t._root,e?e._root:void 0);return new eH(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Un(()=>{this.events.next(new z1)}),((n,t,e,i)=>ze(r=>(new uce(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),In(1),Un({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ma(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),sn(this.transitionAbortSubject.pipe(Un(l=>{throw l}))),Uf(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Fl(l=>{if(a=!0,lH(l))this.events.next(new Xf(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function ice(n){return lH(n)&&Bl(n.url)}(l)?this.events.next(new j1(l.url)):s.resolve(!1);else{this.events.next(new qv(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(c){s.reject(c)}}return qr}))}))}cancelNavigationTransition(e,i,r){const s=new Xf(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TH(n){return n!==Kf}let xH=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ye);return i}getResolvedTitleForRoute(e){return e.data[Gf]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return te(eue)},providedIn:"root"})}return n})(),eue=(()=>{class n extends xH{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(L(FB))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return te(iue)},providedIn:"root"})}return n})();class nue{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let iue=(()=>{class n extends nue{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ty=new q("",{providedIn:"root",factory:()=>({})});let rue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:function(){return te(sue)},providedIn:"root"})}return n})(),sue=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ip=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ip||{});function CH(n,t){n.events.pipe(wi(e=>e instanceof Ma||e instanceof Xf||e instanceof qv||e instanceof zu),ze(e=>e instanceof Ma||e instanceof zu?ip.COMPLETE:e instanceof Xf&&(0===e.code||1===e.code)?ip.REDIRECTING:ip.FAILED),wi(e=>e!==ip.REDIRECTING),In(1)).subscribe(()=>{t()})}function oue(n){throw n}function aue(n,t,e){return t.parse("/")}const lue={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cue={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Si=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=te(mV),this.isNgZoneEnabled=!1,this._events=new Ee,this.options=te(ty,{optional:!0})||{},this.pendingTasks=te(nv),this.errorHandler=this.options.errorHandler||oue,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||aue,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=te(rue),this.routeReuseStrategy=te(tue),this.titleStrategy=te(xH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=te(Xu,{optional:!0})?.flat()??[],this.navigationTransitions=te(ey),this.urlSerializer=te(jf),this.location=te(Lw),this.componentInputBindingEnabled=!!te(Kv,{optional:!0}),this.eventsSubscription=new He,this.isNgZoneEnabled=te(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Gu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(wH(i)&&this._events.next(i));if(i instanceof Wv)TH(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof zu)this.rawUrlTree=r.rawUrl;else if(i instanceof Q3){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof z1)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Xf)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof j1){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||TH(r.source)};this.scheduleNavigation(s,Kf,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof qv&&this.restoreHistory(r,!0),i instanceof Ma&&(this.navigated=!0),wH(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Kf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(J1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=z3(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),d=this.currentUrlTree.root}return j3(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Bl(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Kf,null,i)}navigate(e,i={skipLocationChange:!1}){return function uue(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new P(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...lue}:!1===i?{...cue}:i,Bl(e))return O3(this.currentUrlTree,e,r);const s=this.parseUrl(e);return O3(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return CH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wH(n){return!(n instanceof z1||n instanceof j1)}class SH{}let fue=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(wi(e=>e instanceof Ma),$u(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=rw(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return qn(r).pipe($c())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Se(null);const s=r.pipe(Wn(o=>null===o?Se(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?qn([s,this.loader.loadComponent(i)]).pipe($c()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(L(Si),L(_V),L(hr),L(SH),L(iS))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const sS=new q("");let EH=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Wv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ma?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof zu&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Z3&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Z3(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function mL(){throw new Error("invalid")}()};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function Fo(n,t){return{\u0275kind:n,\u0275providers:t}}function AH(){const n=te(pn);return t=>{const e=n.get(_s);if(t!==e.components[0])return;const i=n.get(Si),r=n.get(IH);1===n.get(oS)&&i.initialNavigation(),n.get(kH,null,Je.Optional)?.setUpPreloading(),n.get(sS,null,Je.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const IH=new q("",{factory:()=>new Ee}),oS=new q("",{providedIn:"root",factory:()=>1}),kH=new q("");function _ue(n){return Fo(0,[{provide:kH,useExisting:fue},{provide:SH,useExisting:n}])}const MH=new q("ROUTER_FORROOT_GUARD"),yue=[Lw,{provide:jf,useClass:B1},Si,Qf,{provide:Wu,useFactory:function DH(n){return n.routerState.root},deps:[Si]},iS,[]];function bue(){return new wV("Router",Si)}let RH=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[yue,[],{provide:Xu,multi:!0,useValue:e},{provide:MH,useFactory:wue,deps:[[Si,new Zr,new a_]]},{provide:ty,useValue:i||{}},i?.useHash?{provide:Ml,useClass:Bie}:{provide:Ml,useClass:eB},{provide:sS,useFactory:()=>{const n=te(ise),t=te(Ae),e=te(ty),i=te(ey),r=te(jf);return e.scrollOffset&&n.setOffset(e.scrollOffset),new EH(r,i,n,t,e)}},i?.preloadingStrategy?_ue(i.preloadingStrategy).\u0275providers:[],{provide:wV,multi:!0,useFactory:bue},i?.initialNavigation?Sue(i):[],i?.bindToComponentInputs?Fo(8,[sH,{provide:Kv,useExisting:sH}]).\u0275providers:[],[{provide:NH,useFactory:AH},{provide:Ew,multi:!0,useExisting:NH}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Xu,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(L(MH,8))};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({})}return n})();function wue(n){return"guarded"}function Sue(n){return["disabled"===n.initialNavigation?Fo(3,[{provide:vw,multi:!0,useFactory:()=>{const t=te(Si);return()=>{t.setUpLocationChangeListener()}}},{provide:oS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fo(2,[{provide:oS,useValue:0},{provide:vw,multi:!0,deps:[pn],useFactory:t=>{const e=t.get(Fie,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Si),s=t.get(IH);CH(r,()=>{i(!0)}),t.get(ey).afterPreactivation=()=>(i(!0),s.closed?Se(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const NH=new q("");function PH(n,t,e,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function M(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(l){PH(s,i,r,o,a,"next",l)}function a(l){PH(s,i,r,o,a,"throw",l)}o(void 0)})}}const OH=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},LH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(e[s>>2],e[(3&s)<<4|a>>4],e[h],e[f])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(OH(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const d=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw new kue;i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ny=function(n){return function(n){const t=OH(n);return LH.encodeByteArray(t,!0)}(n).replace(/\./g,"")},iy=function(n){try{return LH.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},ry=()=>{try{return function Nue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&iy(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},VH=()=>{var n;return null===(n=ry())||void 0===n?void 0:n.config};class BH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function Or(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Ra extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rp.prototype.create)}}class rp{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?function Yue(n,t){return n.replace(Kue,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new Ra(r,`${this.serviceName}: ${o} (${r}).`,i)}}const Kue=/\{\$([^}]+)}/g;function lS(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if($H(s)&&$H(o)){if(!lS(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function $H(n){return null!==n&&"object"==typeof n}function UH(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class Que{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function Zue(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=cS),void 0===r.error&&(r.error=cS),void 0===r.complete&&(r.complete=cS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cS(){}function Vo(n){return n&&n._delegate?n._delegate:n}class Hl{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const $l="[DEFAULT]";class rde{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new BH;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function ode(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:$l})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=$l){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return M(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=$l){return this.instances.has(t)}getOptions(t=$l){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===$l?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(t=$l){return this.component?this.component.multipleInstances?t:$l:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ade{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new rde(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const dS=[];var lt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(lt||{});const GH={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},lde=lt.INFO,cde={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},ude=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=cde[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class hS{constructor(t){this.name=t,this._logLevel=lde,this._logHandler=ude,this._userLogHandler=null,dS.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?GH[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...t),this._logHandler(this,lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...t),this._logHandler(this,lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...t),this._logHandler(this,lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...t),this._logHandler(this,lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...t),this._logHandler(this,lt.ERROR,...t)}}const dde=(n,t)=>t.some(e=>n instanceof e);let zH,jH;const WH=new WeakMap,fS=new WeakMap,qH=new WeakMap,pS=new WeakMap,gS=new WeakMap;let mS={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return fS.get(n);if("objectStoreNames"===t)return n.objectStoreNames||qH.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Na(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function vde(n){return"function"==typeof n?function _de(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fde(){return jH||(jH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(_S(this),t),Na(WH.get(this))}:function(...t){return Na(n.apply(_S(this),t))}:function(t,...e){const i=n.call(_S(this),t,...e);return qH.set(i,t.sort?t.sort():[t]),Na(i)}}(n):(n instanceof IDBTransaction&&function gde(n){if(fS.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});fS.set(n,t)}(n),dde(n,function hde(){return zH||(zH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,mS):n)}function Na(n){if(n instanceof IDBRequest)return function pde(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Na(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&WH.set(e,n)}).catch(()=>{}),gS.set(t,n),t}(n);if(pS.has(n))return pS.get(n);const t=vde(n);return t!==n&&(pS.set(n,t),gS.set(t,n)),t}const _S=n=>gS.get(n),bde=["get","getKey","getAll","getAllKeys","count"],Tde=["put","add","delete","clear"],vS=new Map;function YH(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(vS.get(t))return vS.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Tde.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!bde.includes(e))return;const s=function(){var o=M(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[e](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return vS.set(t,s),s}!function mde(n){mS=n(mS)}(n=>({...n,get:(t,e,i)=>YH(t,e)||n.get(t,e,i),has:(t,e)=>!!YH(t,e)||n.has(t,e)}));class xde{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function Cde(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const yS="@firebase/app",Ul=new hS("@firebase/app"),oy="[DEFAULT]",Kde={[yS]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gl=new Map,ay=new Map;function Xde(n,t){try{n.container.addComponent(t)}catch(e){Ul.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Qu(n){const t=n.name;if(ay.has(t))return Ul.debug(`There were multiple attempts to register component ${t}.`),!1;ay.set(t,n);for(const e of Gl.values())Xde(e,n);return!0}const Bo=new rp("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zde{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bo.create("app-deleted",{appName:this._name})}}const ly="10.7.1";function QH(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:oy,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw Bo.create("bad-app-name",{appName:String(r)});if(e||(e=VH()),!e)throw Bo.create("no-options");const s=Gl.get(r);if(s){if(lS(e,s.options)&&lS(i,s.config))return s;throw Bo.create("duplicate-app",{appName:r})}const o=new ade(r);for(const l of ay.values())o.addComponent(l);const a=new Zde(e,i,o);return Gl.set(r,a),a}function ZH(n=oy){const t=Gl.get(n);if(!t&&n===oy&&VH())return QH();if(!t)throw Bo.create("no-app",{appName:n});return t}function JH(){return Array.from(Gl.values())}function is(n,t,e){var i;let r=null!==(i=Kde[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ul.warn(a.join(" "))}Qu(new Hl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Jde="firebase-heartbeat-database",ehe=1,sp="firebase-heartbeat-store";let TS=null;function e$(){return TS||(TS=function yde(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),a=Na(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Na(o.result),l.oldVersion,l.newVersion,Na(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Jde,ehe,{upgrade:(n,t)=>{0===t&&n.createObjectStore(sp)}}).catch(n=>{throw Bo.create("idb-open",{originalErrorMessage:n.message})})),TS}function xS(){return(xS=M(function*(n){try{return yield(yield e$()).transaction(sp).objectStore(sp).get(n$(n))}catch(t){if(t instanceof Ra)Ul.warn(t.message);else{const e=Bo.create("idb-get",{originalErrorMessage:t?.message});Ul.warn(e.message)}}})).apply(this,arguments)}function t$(n,t){return CS.apply(this,arguments)}function CS(){return(CS=M(function*(n,t){try{const i=(yield e$()).transaction(sp,"readwrite");yield i.objectStore(sp).put(t,n$(n)),yield i.done}catch(e){if(e instanceof Ra)Ul.warn(e.message);else{const i=Bo.create("idb-set",{originalErrorMessage:e?.message});Ul.warn(i.message)}}})).apply(this,arguments)}function n$(n){return`${n.name}!${n.options.appId}`}class rhe{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new ohe(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return M(function*(){var e,i;const s=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=i$();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==o&&!t._heartbeatsCache.heartbeats.some(a=>a.date===o))return t._heartbeatsCache.heartbeats.push({date:o,agent:s}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return M(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=i$(),{heartbeatsToSend:r,unsentEntries:s}=function she(n,t=1024){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),r$(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),r$(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),o=ny(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(t._heartbeatsCache.heartbeats=s,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function i$(){return(new Date).toISOString().substring(0,10)}class ohe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return M(function*(){return!!function jue(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Wue(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return M(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function the(n){return xS.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return M(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return t$(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return M(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return t$(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}})()}}function r$(n){return ny(JSON.stringify({version:2,heartbeats:n})).length}!function ahe(n){Qu(new Hl("platform-logger",t=>new xde(t),"PRIVATE")),Qu(new Hl("heartbeat",t=>new rhe(t),"PRIVATE")),is(yS,"0.9.25",n),is(yS,"0.9.25","esm2017"),is("fire-js","")}(""),is("firebase","10.7.1","app");class uhe extends He{constructor(t,e){super()}schedule(t,e=0){return this}}const cy={setInterval(n,t,...e){const{delegate:i}=cy;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=cy;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class uy extends uhe{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return cy.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&cy.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,yn(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const s$={now:()=>(s$.delegate||Date).now(),delegate:void 0};class op{constructor(t,e=op.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}op.now=s$.now;class dy extends op{constructor(t,e=op.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const fhe=new class hhe extends dy{}(class dhe extends uy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Zu=new dy(uy),phe=Zu,wS=new yu("ANGULARFIRE2_VERSION");const SS=(n,t)=>{const e=t?[t]:JH(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};class ghe{constructor(){return SS(mhe)}}const mhe="app-check";function Ju(){}class a${zone;delegate;constructor(t,e=fhe){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class _he{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ju,{},Ju,Ju)),e.pipe(Un({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let l$=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new a$(Zone.current)),this.insideAngular=e.run(()=>new a$(Zone.current,Zu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(L(Ae))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ed(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function zl(n){return ed().ngZone.run(()=>n())}function yhe(n){return function bhe(n){return function(e){return(e=e.lift(new _he(n.ngZone))).pipe(Nm(n.outsideAngular),Rm(n.insideAngular))}}(ed())(n)}const The=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),zl(()=>n.apply(void 0,i))},ap=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||=zl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ju,{},Ju,Ju))),i[s]=The(i[s],e));const r=function vhe(n){return ed().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof ct){const s=ed();return r.pipe(Nm(s.outsideAngular),Rm(s.insideAngular))}return zl(()=>r)}return r instanceof ct?r.pipe(yhe):r instanceof Promise?zl(()=>new Promise((s,o)=>r.then(a=>zl(()=>s(a)),a=>zl(()=>o(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:zl(()=>r)};class lp{constructor(t){return t}}class c${constructor(){return JH()}}const ES=new q("angularfire2._apps"),Che={provide:lp,useFactory:function xhe(n){return n&&1===n.length?n[0]:new lp(ZH())},deps:[[new Zr,ES]]},whe={provide:c$,deps:[[new Zr,ES]]};function She(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new lp(i)}}let Ehe=(()=>{class n{constructor(e){is("angularfire",wS.full,"core"),is("angularfire",wS.full,"app"),is("angular",jO.full,e.toString())}static \u0275fac=function(i){return new(i||n)(L(oi))};static \u0275mod=xe({type:n});static \u0275inj=be({providers:[Che,whe]})}return n})();function Dhe(n,...t){return{ngModule:Ehe,providers:[{provide:ES,useFactory:She(n),multi:!0,deps:[Ae,pn,l$,...t]}]}}const Ahe=ap(QH,!0);const Ihe=function u$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},d$=new rp("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),hy=new hS("@firebase/auth");function fy(n,...t){hy.logLevel<=lt.ERROR&&hy.error(`Auth (${ly}): ${n}`,...t)}function mr(n,...t){throw DS(n,...t)}function Qs(n,...t){return DS(n,...t)}function DS(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return d$.create(n,...t)}function re(n,t,...e){if(!n)throw DS(t,...e)}function Zs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw fy(t),new Error(t)}function Pa(n,t){n||Zs(t)}function f$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function Mhe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function AS(){return"http:"===f$()||"https:"===f$()}()||function Gue(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class up{constructor(t,e){this.shortDelay=t,this.longDelay=e,Pa(e>t,"Short delay should be less than long delay!"),this.isMobile=function $ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}()||function zue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Mhe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class p${static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nhe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Phe=new up(3e4,6e4);function Zt(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function Jt(n,t,e,i){return kS.apply(this,arguments)}function kS(){return(kS=M(function*(n,t,e,i,r={}){return g$(n,r,M(function*(){let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=UH(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),p$.fetch()(m$(n,n.config.apiHost,e,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function g$(n,t,e){return MS.apply(this,arguments)}function MS(){return(MS=M(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Nhe),t);try{const r=new Lhe(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw dp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw dp(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw dp(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw dp(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function h$(n,t,e){const i=Object.assign(Object.assign({},Ihe()),{[t]:e});return new rp("auth","Firebase",i).create(t,{appName:n.name})}(n,u,c);mr(n,u)}}catch(r){if(r instanceof Ra)throw r;mr(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function m$(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?function IS(n,t){Pa(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}(n.config,r):`${n.config.apiScheme}://${r}`}class Lhe{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Qs(this.auth,"network-request-failed")),Phe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dp(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Qs(n,t,i);return r.customData._tokenResponse=e,r}function OS(){return(OS=M(function*(n,t){return Jt(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function FS(){return(FS=M(function*(n,t){return Jt(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function hp(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function VS(){return(VS=M(function*(n,t=!1){const e=Vo(n),i=yield e.getIdToken(t),r=py(i);re(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:hp(BS(r.auth_time)),issuedAtTime:hp(BS(r.iat)),expirationTime:hp(BS(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function BS(n){return 1e3*Number(n)}function py(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return fy("JWT malformed, contained fewer than 3 sections"),null;try{const r=iy(e);return r?JSON.parse(r):(fy("Failed to decode base64 JWT payload"),null)}catch(r){return fy("Caught error parsing JWT payload as JSON",r?.toString()),null}}function $o(n,t){return HS.apply(this,arguments)}function HS(){return(HS=M(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof Ra&&function Ghe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class zhe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(M(function*(){yield e.iteration()}),i)}iteration(){var t=this;return M(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class T${constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=hp(this.lastLoginAt),this.creationTime=hp(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fp(n){return $S.apply(this,arguments)}function $S(){return $S=M(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield $o(n,function Hhe(n,t){return FS.apply(this,arguments)}(e,{idToken:i}));re(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?function qhe(n){return n.map(t=>{var{providerId:e}=t,i=dl(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(s.providerUserInfo):[],a=function Whe(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new T$(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),$S.apply(this,arguments)}function US(){return(US=M(function*(n){const t=Vo(n);yield fp(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function GS(){return(GS=M(function*(n,t){const e=yield g$(n,{},M(function*(){const i=UH({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=m$(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",p$.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function zS(){return(zS=M(function*(n,t){return Jt(n,"POST","/v2/accounts:revokeToken",Zt(n,t))})).apply(this,arguments)}class pp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){re(t.idToken,"internal-error"),re(typeof t.idToken<"u","internal-error"),re(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function Uhe(n){const t=py(n);return re(t,"internal-error"),re(typeof t.exp<"u","internal-error"),re(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return M(function*(){return re(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return M(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function Yhe(n,t){return GS.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new pp;return i&&(re("string"==typeof i,"internal-error",{appName:t}),o.refreshToken=i),r&&(re("string"==typeof r,"internal-error",{appName:t}),o.accessToken=r),s&&(re("number"==typeof s,"internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new pp,this.toJSON())}_performRefresh(){return Zs("not implemented")}}function Oa(n,t){re("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class jl{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=dl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zhe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new T$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var e=this;return M(function*(){const i=yield $o(e,e.stsTokenManager.getToken(e.auth,t));return re(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function $he(n){return VS.apply(this,arguments)}(this,t)}reload(){return function jhe(n){return US.apply(this,arguments)}(this)}_assign(t){this!==t&&(re(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new jl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return M(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield fp(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return M(function*(){const e=yield t.getIdToken();return yield $o(t,function Vhe(n,t){return OS.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,a,l,c,u;const d=null!==(i=e.displayName)&&void 0!==i?i:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,f=null!==(s=e.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=e.photoURL)&&void 0!==o?o:void 0,m=null!==(a=e.tenantId)&&void 0!==a?a:void 0,g=null!==(l=e._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=e.createdAt)&&void 0!==c?c:void 0,_=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:x,isAnonymous:D,providerData:k,stsTokenManager:$}=e;re(b&&$,t,"internal-error");const X=pp.fromJSON(this.name,$);re("string"==typeof b,t,"internal-error"),Oa(d,t.name),Oa(h,t.name),re("boolean"==typeof x,t,"internal-error"),re("boolean"==typeof D,t,"internal-error"),Oa(f,t.name),Oa(p,t.name),Oa(m,t.name),Oa(g,t.name),Oa(v,t.name),Oa(_,t.name);const we=new jl({uid:b,auth:t,email:h,emailVerified:x,displayName:d,isAnonymous:D,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:X,createdAt:v,lastLoginAt:_});return k&&Array.isArray(k)&&(we.providerData=k.map(me=>Object.assign({},me))),g&&(we._redirectEventId=g),we}static _fromIdTokenResponse(t,e,i=!1){return M(function*(){const r=new pp;r.updateFromServerResponse(e);const s=new jl({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield fp(s),s})()}}const x$=new Map;function Uo(n){Pa(n instanceof Function,"Expected a class definition");let t=x$.get(n);return t?(Pa(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,x$.set(n,t),t)}const C$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return M(function*(){return!0})()}_set(e,i){var r=this;return M(function*(){r.storage[e]=i})()}_get(e){var i=this;return M(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return M(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function gy(n,t,e){return`firebase:${n}:${t}:${e}`}class nd{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=gy(this.userKey,r.apiKey,s),this.fullPersistenceKey=gy("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return M(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?jl._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return M(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return M(function*(){if(!e.length)return new nd(Uo(C$),t,i);const r=(yield Promise.all(e.map(function(){var c=M(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||Uo(C$);const o=gy(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const u=yield c._get(o);if(u){const d=jl._fromJSON(t,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var c=M(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new nd(s,t,i)):new nd(s,t,i)})()}}function w$(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function D$(n=Or()){return/iemobile/i.test(n)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function S$(n=Or()){return/firefox\//i.test(n)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function I$(n=Or()){return/blackberry/i.test(n)}(t))return"Blackberry";if(function k$(n=Or()){return/webos/i.test(n)}(t))return"Webos";if(function jS(n=Or()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function E$(n=Or()){return/crios\//i.test(n)}(t))&&!t.includes("edge/"))return"Chrome";if(function A$(n=Or()){return/android/i.test(n)}(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function M$(n,t=[]){let e;switch(n){case"Browser":e=w$(Or());break;case"Worker":e=`${w$(Or())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ly}/${i}`}class Zhe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,a)=>{try{o(t(s))}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return M(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function WS(){return(WS=M(function*(n,t={}){return Jt(n,"GET","/v2/passwordPolicy",Zt(n,t))})).apply(this,arguments)}class tfe{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=o.minPasswordLength)&&void 0!==e?e:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=t.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=null===(e=l.meetsMinPasswordLength)||void 0===e||e),l.isValid&&(l.isValid=null===(i=l.meetsMaxPasswordLength)||void 0===i||i),l.isValid&&(l.isValid=null===(r=l.containsLowercaseLetter)||void 0===r||r),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}class nfe{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R$(this),this.idTokenSubscription=new R$(this),this.beforeStateQueue=new Zhe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=Uo(e)),this._initializationPromise=this.queue(M(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield nd.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return M(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return M(function*(){var i;const r=yield e.assertedPersistence.getCurrentUser();let s=r,o=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const a=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,l=s?._redirectEventId,c=yield e.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return e.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield e.beforeStateQueue.runMiddleware(s)}catch(a){s=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(a))}return s?e.reloadAndSetCurrentUserOrClear(s):e.directlySetCurrentUser(null)}return re(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===s._redirectEventId?e.directlySetCurrentUser(s):e.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(t){var e=this;return M(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return M(function*(){try{yield fp(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function Rhe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return M(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return M(function*(){const i=t?Vo(t):null;return i&&re(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return M(function*(){if(!i._deleted)return t&&re(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue(M(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return M(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue(M(function*(){yield e.assertedPersistence.setPersistence(Uo(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return M(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return M(function*(){const e=yield function Jhe(n){return WS.apply(this,arguments)}(t),i=new tfe(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new rp("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){var e=this;return M(function*(){if(e.currentUser){const i=yield e.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};null!=e.tenantId&&(r.tenantId=e.tenantId),yield function Khe(n,t){return zS.apply(this,arguments)}(e,r)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return M(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return M(function*(){if(!e.redirectPersistenceManager){const i=t&&Uo(t)||e._popupRedirectResolver;re(i,e,"argument-error"),e.redirectPersistenceManager=yield nd.create(e,[Uo(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return M(function*(){var i,r;return e._isInitialized&&(yield e.queue(M(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return M(function*(){if(t===e.currentUser)return e.queue(M(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s="function"==typeof e?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof e){const l=t.addObserver(e,i,r);return()=>{o=!0,l()}}{const l=t.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(t){var e=this;return M(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=M$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return M(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield t._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var t=this;return M(function*(){var e;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function khe(n,...t){hy.logLevel<=lt.WARN&&hy.warn(`Auth (${ly}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class R${constructor(t){this.auth=t,this.observer=null,this.addObserver=function Xue(n,t){const e=new Que(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function N$(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new up(3e4,6e4),new up(2e3,1e4),new up(3e4,6e4),new up(5e3,15e3),encodeURIComponent("fac");var uU="@firebase/auth";class rge{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return M(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}ry(),function oge(n){Qu(new Hl("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M$(n)},c=new nfe(i,r,s,l);return function cfe(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Uo);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Qu(new Hl("auth-internal",t=>{const e=function kn(n){return Vo(n)}(t.getProvider("auth").getImmediate());return new rge(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(uU,"1.5.1",function sge(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),is(uU,"1.5.1","esm2017")}("Browser");class pU{constructor(){return SS("auth")}}var le,fge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xs={},VD=VD||{},Be=fge||self;function Ay(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function bp(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var BD="closure_uid_"+(1e9*Math.random()>>>0),gge=0;function mge(n,t,e){return n.call.apply(n.bind,arguments)}function _ge(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Fi(n,t,e){return(Fi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mge:_ge).apply(null,arguments)}function Iy(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function li(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function La(){this.s=this.s,this.o=this.o}La.prototype.s=!1,La.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function pge(n){Object.prototype.hasOwnProperty.call(n,BD)&&n[BD]||(n[BD]=++gge)}(this)},La.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gU=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function HD(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function mU(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Ay(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Vi(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Vi.prototype.h=function(){this.defaultPrevented=!0};var yge=function(){if(!Be.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const e=()=>{};Be.addEventListener("test",e,t),Be.removeEventListener("test",e,t)}catch{}return n}();function Tp(n){return/^[\s\xa0]*$/.test(n)}function ky(){var n=Be.navigator;return n&&(n=n.userAgent)?n:""}function Js(n){return-1!=ky().indexOf(n)}function $D(n){return $D[" "](n),n}$D[" "]=function(){};var GD,Tge=Js("Opera"),id=Js("Trident")||Js("MSIE"),_U=Js("Edge"),UD=_U||id,vU=Js("Gecko")&&!(-1!=ky().toLowerCase().indexOf("webkit")&&!Js("Edge"))&&!(Js("Trident")||Js("MSIE"))&&!Js("Edge"),xge=-1!=ky().toLowerCase().indexOf("webkit")&&!Js("Edge");function yU(){var n=Be.document;return n?n.documentMode:void 0}e:{var zD="",jD=function(){var n=ky();return vU?/rv:([^\);]+)(\)|;)/.exec(n):_U?/Edge\/([\d\.]+)/.exec(n):id?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):xge?/WebKit\/(\S+)/.exec(n):Tge?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(jD&&(zD=jD?jD[1]:""),id){var WD=yU();if(null!=WD&&WD>parseFloat(zD)){GD=String(WD);break e}}GD=zD}var Cge=Be.document&&id&&(yU()||parseInt(GD,10))||void 0;function xp(n,t){if(Vi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(vU){e:{try{$D(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wge[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xp.$.h.call(this)}}li(xp,Vi);var wge={2:"touch",3:"pen",4:"mouse"};xp.prototype.h=function(){xp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Cp="closure_listenable_"+(1e6*Math.random()|0),Sge=0;function Ege(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++Sge,this.fa=this.ia=!1}function My(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function YD(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function TU(n){const t={};for(const e in n)t[e]=n[e];return t}const xU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CU(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<xU.length;s++)e=xU[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Ry(n){this.src=n,this.g={},this.h=0}function KD(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=gU(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(My(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function XD(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}Ry.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=XD(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new Ege(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var QD="closure_lm_"+(1e6*Math.random()|0),ZD={};function wU(n,t,e,i,r){if(i&&i.once)return EU(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)wU(n,t[s],e,i,r);return null}return e=nA(e),n&&n[Cp]?n.O(t,e,bp(i)?!!i.capture:!!i,r):SU(n,t,e,!1,i,r)}function SU(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=bp(r)?!!r.capture:!!r,a=eA(n);if(a||(n[QD]=a=new Ry(n)),(e=a.add(t,e,i,o,s)).proxy)return e;if(i=function Age(){const t=Ige;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)yge||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(AU(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function EU(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)EU(n,t[s],e,i,r);return null}return e=nA(e),n&&n[Cp]?n.P(t,e,bp(i)?!!i.capture:!!i,r):SU(n,t,e,!0,i,r)}function DU(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)DU(n,t[s],e,i,r);else i=bp(i)?!!i.capture:!!i,e=nA(e),n&&n[Cp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=XD(s=n.g[t],e,i,r))&&(My(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=eA(n))&&(t=n.g[t.toString()],n=-1,t&&(n=XD(t,e,i,r)),(e=-1<n?t[n]:null)&&JD(e))}function JD(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Cp])KD(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(AU(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=eA(t))?(KD(e,n),0==e.h&&(e.src=null,t[QD]=null)):My(n)}}}function AU(n){return n in ZD?ZD[n]:ZD[n]="on"+n}function Ige(n,t){if(n.fa)n=!0;else{t=new xp(t,this);var e=n.listener,i=n.la||n.src;n.ia&&JD(n),n=e.call(i,t)}return n}function eA(n){return(n=n[QD])instanceof Ry?n:null}var tA="__closure_events_fn_"+(1e9*Math.random()>>>0);function nA(n){return"function"==typeof n?n:(n[tA]||(n[tA]=function(t){return n.handleEvent(t)}),n[tA])}function ci(){La.call(this),this.i=new Ry(this),this.S=this,this.J=null}function Ei(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Vi(t,n);else if(t instanceof Vi)t.target=t.target||n;else{var r=t;CU(t=new Vi(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=Ny(o,i,!0,t)&&r}if(r=Ny(o=t.g=n,i,!0,t)&&r,r=Ny(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Ny(o=t.g=e[s],i,!1,t)&&r}function Ny(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var a=o.listener,l=o.la||o.src;o.ia&&KD(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}li(ci,La),ci.prototype[Cp]=!0,ci.prototype.removeEventListener=function(n,t,e,i){DU(this,n,t,e,i)},ci.prototype.N=function(){if(ci.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)My(e[i]);delete n.g[t],n.h--}}this.J=null},ci.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ci.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var iA=Be.JSON.stringify;function Mge(){var n=rA;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var IU=new class kge{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Nge,n=>n.reset());class Nge{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Pge(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Oge(n){Be.setTimeout(()=>{throw n},0)}let wp,Sp=!1,rA=new class Rge{constructor(){this.h=this.g=null}add(t,e){const i=IU.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},kU=()=>{const n=Be.Promise.resolve(void 0);wp=()=>{n.then(Lge)}};var Lge=()=>{for(var n;n=Mge();){try{n.h.call(n.g)}catch(e){Oge(e)}var t=IU;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Sp=!1};function Py(n,t){ci.call(this),this.h=n||1,this.g=t||Be,this.j=Fi(this.qb,this),this.l=Date.now()}function sA(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function oA(n,t,e){if("function"==typeof n)e&&(n=Fi(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fi(n.handleEvent,n)}return 2147483647<Number(t)?-1:Be.setTimeout(n,t||0)}function MU(n){n.g=oA(()=>{n.g=null,n.i&&(n.i=!1,MU(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}li(Py,ci),(le=Py.prototype).ga=!1,le.T=null,le.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ei(this,"tick"),this.ga&&(sA(this),this.start()))}},le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.N=function(){Py.$.N.call(this),sA(this),delete this.g};class Fge extends La{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:MU(this)}N(){super.N(),this.g&&(Be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ep(n){La.call(this),this.h=n,this.g={}}li(Ep,La);var RU=[];function NU(n,t,e,i){Array.isArray(e)||(e&&(RU[0]=e.toString()),e=RU);for(var r=0;r<e.length;r++){var s=wU(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function PU(n){YD(n.g,function(t,e){this.g.hasOwnProperty(e)&&JD(t)},n),n.g={}}function Oy(){this.g=!0}function rd(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function $ge(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return iA(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Ep.prototype.N=function(){Ep.$.N.call(this),PU(this)},Ep.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Oy.prototype.Ea=function(){this.g=!1},Oy.prototype.info=function(){};var Kl={},OU=null;function Ly(){return OU=OU||new ci}function LU(n){Vi.call(this,Kl.Ta,n)}function Dp(n){const t=Ly();Ei(t,new LU(t))}function FU(n,t){Vi.call(this,Kl.STAT_EVENT,n),this.stat=t}function tr(n){const t=Ly();Ei(t,new FU(t,n))}function VU(n,t){Vi.call(this,Kl.Ua,n),this.size=t}function Ap(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Be.setTimeout(function(){n()},t)}Kl.Ta="serverreachability",li(LU,Vi),Kl.STAT_EVENT="statevent",li(FU,Vi),Kl.Ua="timingevent",li(VU,Vi);var Fy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function aA(){}function $U(){}aA.prototype.h=null;var uA,Ip={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lA(){Vi.call(this,"d")}function cA(){Vi.call(this,"c")}function Vy(){}function kp(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Ep(this),this.P=Uge,this.V=new Py(n=UD?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UU}function UU(){this.i=null,this.g="",this.h=!1}li(lA,Vi),li(cA,Vi),li(Vy,aA),Vy.prototype.g=function(){return new XMLHttpRequest},Vy.prototype.i=function(){return{}},uA=new Vy;var Uge=45e3,GU={},dA={};function hA(n,t,e){n.L=1,n.A=Uy(zo(t)),n.u=e,n.S=!0,zU(n,null)}function zU(n,t){n.G=Date.now(),Mp(n),n.B=zo(n.A);var e=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),eG(e.i,"t",i),n.o=0,e=n.l.J,n.h=new UU,n.g=wG(n.l,e?t:null,!n.u),0<n.O&&(n.M=new Fge(Fi(n.Pa,n,n.g),n.O)),NU(n.U,n.g,"readystatechange",n.nb),t=n.I?TU(n.I):{},n.u?(n.v||(n.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,t)):(n.v="GET",n.g.ha(n.B,n.v,null,t)),Dp(),function Vge(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function jU(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function WU(n,t,e){let r,i=!0;for(;!n.J&&n.o<e.length;){if(r=Gge(n,e),r==dA){4==t&&(n.s=4,tr(14),i=!1),rd(n.j,n.m,null,"[Incomplete Response]");break}if(r==GU){n.s=4,tr(15),rd(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}rd(n.j,n.m,r,null),fA(n,r)}jU(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=t||0!=e.length||n.h.h||(n.s=1,tr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),bA(t),t.M=!0,tr(11))):(rd(n.j,n.m,e,"[Invalid Chunked Response]"),Xl(n),Rp(n))}function Gge(n,t){var e=n.o,i=t.indexOf("\n",e);return-1==i?dA:(e=Number(t.substring(e,i)),isNaN(e)?GU:(i+=1)+e>t.length?dA:(t=t.slice(i,i+e),n.o=i+e,t))}function Mp(n){n.Y=Date.now()+n.P,qU(n,n.P)}function qU(n,t){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Ap(Fi(n.lb,n),t)}function By(n){n.C&&(Be.clearTimeout(n.C),n.C=null)}function Rp(n){0==n.l.H||n.J||bG(n.l,n)}function Xl(n){By(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,sA(n.V),PU(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function fA(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||pA(e.i,n)))if(!n.K&&pA(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;Yy(e),Wy(e)}yA(e),tr(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Ap(Fi(e.ib,e),6e3));if(1>=iG(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Zl(e,11)}else if((n.K||e.g==n)&&Yy(e),!Tp(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const u=c[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const d=c[4];null!=d&&(e.Ga=d,e.l.info("SVER="+e.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(e.L=i=1.5*h,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(gA(s,s.h),s.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,en(i.I,i.F,m))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=CG(i,i.J?i.pa:null,i.Y),o.K){rG(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(By(a),Mp(a)),i.g=o}else vG(i);0<e.j.length&&qy(e)}else"stop"!=c[0]&&"close"!=c[0]||Zl(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Zl(e,7):vA(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}Dp()}catch{}}function YU(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Ay(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function jge(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ay(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function zge(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ay(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(le=kp.prototype).setTimeout=function(n){this.P=n},le.nb=function(n){n=n.target;const t=this.M;t&&3==eo(n)?t.l():this.Pa(n)},le.Pa=function(n){try{if(n==this.g)e:{const u=eo(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||UD||this.g&&(this.h.h||this.g.ja()||hG(this.g)))){this.J||4!=u||7==t||Dp(),By(this);var e=this.g.da();this.ca=e;t:if(jU(this)){var i=hG(this.g);n="";var r=i.length,s=4==eo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xl(this),Rp(this);var o="";break t}this.h.i=new Be.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function Bge(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tp(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.s=3,tr(12),Xl(this),Rp(this);break e}rd(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fA(this,e)}this.S?(WU(this,u,o),UD&&this.i&&3==u&&(NU(this.U,this.V,"tick",this.mb),this.V.start())):(rd(this.j,this.m,o,null),fA(this,o)),4==u&&Xl(this),this.i&&!this.J&&(4==u?bG(this.l,this):(this.i=!1,Mp(this)))}else(function cme(n){const t={};n=(n.g&&2<=eo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Tp(n[i]))continue;var e=Pge(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function Dge(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.s=3,tr(12)):(this.s=0,tr(13)),Xl(this),Rp(this)}}}catch{}},le.mb=function(){if(this.g){var n=eo(this.g),t=this.g.ja();this.o<t.length&&(By(this),WU(this,n,t),this.i&&4!=n&&Mp(this))}},le.cancel=function(){this.J=!0,Xl(this)},le.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function Hge(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(Dp(),tr(17)),Xl(this),this.s=2,Rp(this)):qU(this,this.Y-n)};var KU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ql(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ql){this.h=n.h,Hy(this,n.j),this.s=n.s,this.g=n.g,$y(this,n.m),this.l=n.l;var t=n.i,e=new Op;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),XU(this,e),this.o=n.o}else n&&(t=String(n).match(KU))?(this.h=!1,Hy(this,t[1]||"",!0),this.s=Np(t[2]||""),this.g=Np(t[3]||"",!0),$y(this,t[4]),this.l=Np(t[5]||"",!0),XU(this,t[6]||"",!0),this.o=Np(t[7]||"")):(this.h=!1,this.i=new Op(null,this.h))}function zo(n){return new Ql(n)}function Hy(n,t,e){n.j=e?Np(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function $y(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function XU(n,t,e){t instanceof Op?(n.i=t,function Zge(n,t){t&&!n.j&&(Fa(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(ZU(this,i),eG(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Pp(t,Xge)),n.i=new Op(t,n.h))}function en(n,t,e){n.i.set(t,e)}function Uy(n){return en(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Np(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Pp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,qge),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qge(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ql.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Pp(t,QU,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Pp(t,QU,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Pp(e,"/"==e.charAt(0)?Kge:Yge,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Pp(e,Qge)),n.join("")};var QU=/[#\/\?@]/g,Yge=/[#\?:]/g,Kge=/[#\?]/g,Xge=/[#\?@]/g,Qge=/#/g;function Op(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Fa(n){n.g||(n.g=new Map,n.h=0,n.i&&function Wge(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function ZU(n,t){Fa(n),t=sd(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function JU(n,t){return Fa(n),t=sd(n,t),n.g.has(t)}function eG(n,t,e){ZU(n,t),0<e.length&&(n.i=null,n.g.set(sd(n,t),HD(e)),n.h+=e.length)}function sd(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function tG(n){this.l=n||eme,n=Be.PerformanceNavigationTiming?0<(n=Be.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Be.g&&Be.g.Ka&&Be.g.Ka()&&Be.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(le=Op.prototype).add=function(n,t){Fa(this),this.i=null,n=sd(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},le.forEach=function(n,t){Fa(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},le.ta=function(){Fa(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},le.Z=function(n){Fa(this);let t=[];if("string"==typeof n)JU(this,n)&&(t=t.concat(this.g.get(sd(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},le.set=function(n,t){return Fa(this),this.i=null,JU(this,n=sd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},le.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var eme=10;function nG(n){return!!n.h||!!n.g&&n.g.size>=n.j}function iG(n){return n.h?1:n.g?n.g.size:0}function pA(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function gA(n,t){n.g?n.g.add(t):n.h=t}function rG(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function sG(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return HD(n.i)}tG.prototype.cancel=function(){if(this.i=sG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var tme=class{stringify(n){return Be.JSON.stringify(n,void 0)}parse(n){return Be.JSON.parse(n,void 0)}};function nme(){this.g=new tme}function ime(n,t,e){const i=e||"";try{YU(n,function(r,s){let o=r;bp(r)&&(o=iA(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Gy(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Lp(n){this.l=n.ec||null,this.j=n.ob||!1}function zy(n,t){ci.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=mA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}li(Lp,aA),Lp.prototype.g=function(){return new zy(this.l,this.j)},Lp.prototype.i=function(n){return function(){return n}}({}),li(zy,ci);var mA=0;function oG(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Fp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Vp(n)}function Vp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(le=zy.prototype).open=function(n,t){if(this.readyState!=mA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Vp(this)},le.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Be).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fp(this)),this.readyState=mA},le.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Vp(this)),this.g&&(this.readyState=3,Vp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Be.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oG(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},le.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Fp(this):Vp(this),3==this.readyState&&oG(this)}},le.Za=function(n){this.g&&(this.response=this.responseText=n,Fp(this))},le.Ya=function(n){this.g&&(this.response=n,Fp(this))},le.ka=function(){this.g&&Fp(this)},le.setRequestHeader=function(n,t){this.v.append(n,t)},le.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(zy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var sme=Be.JSON.parse;function xn(n){ci.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=aG,this.L=this.M=!1}li(xn,ci);var aG="",ome=/^https?$/i,ame=["POST","PUT"];function lG(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,cG(n),jy(n)}function cG(n){n.F||(n.F=!0,Ei(n,"complete"),Ei(n,"error"))}function uG(n){if(n.h&&typeof VD<"u"&&(!n.C[1]||4!=eo(n)||2!=n.da()))if(n.v&&4==eo(n))oA(n.La,0,n);else if(Ei(n,"readystatechange"),4==eo(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match(KU)[1]||null;!r&&Be.self&&Be.self.location&&(r=Be.self.location.protocol.slice(0,-1)),i=!ome.test(r?r.toLowerCase():"")}e=i}if(e)Ei(n,"complete"),Ei(n,"success");else{n.m=6;try{var s=2<eo(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",cG(n)}}finally{jy(n)}}}function jy(n,t){if(n.g){dG(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Ei(n,"ready");try{e.onreadystatechange=i}catch{}}}function dG(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Be.clearTimeout(n.A),n.A=null)}function eo(n){return n.g?n.g.readyState:0}function hG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case aG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function fG(n){let t="";return YD(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function _A(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=fG(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):en(n,t,e))}function Bp(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function pG(n){this.Ga=0,this.j=[],this.l=new Oy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bp("baseRetryDelayMs",5e3,n),this.hb=Bp("retryDelaySeedMs",1e4,n),this.eb=Bp("forwardChannelMaxRetries",2,n),this.xa=Bp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new tG(n&&n.concurrentRequestLimit),this.Ja=new nme,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vA(n){if(gG(n),3==n.H){var t=n.W++,e=zo(n.I);if(en(e,"SID",n.K),en(e,"RID",t),en(e,"TYPE","terminate"),Hp(n,e),(t=new kp(n,n.l,t)).L=2,t.A=Uy(zo(e)),e=!1,Be.navigator&&Be.navigator.sendBeacon)try{e=Be.navigator.sendBeacon(t.A.toString(),"")}catch{}!e&&Be.Image&&((new Image).src=t.A,e=!0),e||(t.g=wG(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Mp(t)}xG(n)}function Wy(n){n.g&&(bA(n),n.g.cancel(),n.g=null)}function gG(n){Wy(n),n.u&&(Be.clearTimeout(n.u),n.u=null),Yy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Be.clearTimeout(n.m),n.m=null)}function qy(n){if(!nG(n.i)&&!n.m){n.m=!0;var t=n.Na;wp||kU(),Sp||(wp(),Sp=!0),rA.add(t,n),n.C=0}}function mG(n,t){var e;e=t?t.m:n.W++;const i=zo(n.I);en(i,"SID",n.K),en(i,"RID",e),en(i,"AID",n.V),Hp(n,i),n.o&&n.s&&_A(i,n.o,n.s),e=new kp(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=_G(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),gA(n.i,e),hA(e,i,t)}function Hp(n,t){n.na&&YD(n.na,function(e,i){en(t,i,e)}),n.h&&YU({},function(e,i){en(t,i,e)})}function _G(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Fi(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{ime(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function vG(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;wp||kU(),Sp||(wp(),Sp=!0),rA.add(t,n),n.A=0}}function yA(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ap(Fi(n.Ma,n),TG(n,n.A)),n.A++,0))}function bA(n){null!=n.B&&(Be.clearTimeout(n.B),n.B=null)}function yG(n){n.g=new kp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=zo(n.wa);en(t,"RID","rpc"),en(t,"SID",n.K),en(t,"AID",n.V),en(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&en(t,"TO",n.qa),en(t,"TYPE","xmlhttp"),Hp(n,t),n.o&&n.s&&_A(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.A=Uy(zo(t)),e.u=null,e.S=!0,zU(e,n)}function Yy(n){null!=n.v&&(Be.clearTimeout(n.v),n.v=null)}function bG(n,t){var e=null;if(n.g==t){Yy(n),bA(n),n.g=null;var i=2}else{if(!pA(n.i,t))return;e=t.F,rG(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.u?t.u.length:0,t=Date.now()-t.G;var r=n.C;Ei(i=Ly(),new VU(i,e)),qy(n)}else vG(n);else if(3==(r=t.s)||0==r&&0<t.ca||!(1==i&&function ume(n,t){return!(iG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ap(Fi(n.Na,n,t),TG(n,n.C)),n.C++,0)))}(n,t)||2==i&&yA(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Zl(n,5);break;case 4:Zl(n,10);break;case 3:Zl(n,6);break;default:Zl(n,2)}}function TG(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Zl(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Fi(n.pb,n);e||(e=new Ql("//www.google.com/images/cleardot.gif"),Be.location&&"http"==Be.location.protocol||Hy(e,"https"),Uy(e)),function rme(n,t){const e=new Oy;if(Be.Image){const i=new Image;i.onload=Iy(Gy,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Iy(Gy,e,i,"TestLoadImage: error",!1,t),i.onabort=Iy(Gy,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Iy(Gy,e,i,"TestLoadImage: timeout",!1,t),Be.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else tr(2);n.H=0,n.h&&n.h.za(t),xG(n),gG(n)}function xG(n){if(n.H=0,n.ma=[],n.h){const t=sG(n.i);(0!=t.length||0!=n.j.length)&&(mU(n.ma,t),mU(n.ma,n.j),n.i.i.length=0,HD(n.j),n.j.length=0),n.h.ya()}}function CG(n,t,e){var i=e instanceof Ql?zo(e):new Ql(e);if(""!=i.g)t&&(i.g=t+"."+i.g),$y(i,i.m);else{var r=Be.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Ql(null);i&&Hy(s,i),t&&(s.g=t),r&&$y(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&en(i,e,t),en(i,"VER",n.ra),Hp(n,i),i}function wG(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new xn(n.Ha&&!n.va?new Lp({ob:e}):n.va)).Oa(n.J),t}function SG(){}function Ky(){if(id&&!(10<=Number(Cge)))throw Error("Environmental error: no available transport.")}function Lr(n,t){ci.call(this),this.g=new pG(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Tp(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tp(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new od(this)}function EG(n){lA.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function DG(){cA.call(this),this.status=1}function od(n){this.g=n}function Cs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function TA(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ot(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(le=xn.prototype).Oa=function(n){this.M=n},le.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():uA.g(),this.C=function HU(n){return n.h||(n.h=n.i())}(this.u?this.u:uA),this.g.onreadystatechange=Fi(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void lG(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Be.FormData&&n instanceof Be.FormData,!(0<=gU(ame,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dG(this),0<this.B&&((this.L=function lme(n){return id&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fi(this.ua,this)):this.A=oA(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){lG(this,s)}},le.ua=function(){typeof VD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ei(this,"timeout"),this.abort(8))},le.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ei(this,"complete"),Ei(this,"abort"),jy(this))},le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jy(this,!0)),xn.$.N.call(this)},le.La=function(){this.s||(this.G||this.v||this.l?uG(this):this.kb())},le.kb=function(){uG(this)},le.isActive=function(){return!!this.g},le.da=function(){try{return 2<eo(this)?this.g.status:-1}catch{return-1}},le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},le.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),sme(t)}},le.Ia=function(){return this.m},le.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=pG.prototype).ra=8,le.H=1,le.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new kp(this,this.l,n);let s=this.s;if(this.U&&(s?(s=TU(s),CU(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=_G(this,r,t),en(e=zo(this.I),"RID",n),en(e,"CVER",22),this.F&&en(e,"X-HTTP-Session-Id",this.F),Hp(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(fG(s)))+"&"+t:this.o&&_A(e,this.o,s)),gA(this.i,r),this.bb&&en(e,"TYPE","init"),this.P?(en(e,"$req",t),en(e,"SID","null"),r.aa=!0,hA(r,e,null)):hA(r,e,t),this.H=2}}else 3==this.H&&(n?mG(this,n):0==this.j.length||nG(this.i)||mG(this))},le.Ma=function(){if(this.u=null,yG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ap(Fi(this.jb,this),n)}},le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tr(10),Wy(this),yG(this))},le.ib=function(){null!=this.v&&(this.v=null,Wy(this),yA(this),tr(19))},le.pb=function(n){n?(this.l.info("Successfully pinged google.com"),tr(2)):(this.l.info("Failed to ping google.com"),tr(1))},le.isActive=function(){return!!this.h&&this.h.isActive(this)},(le=SG.prototype).Ba=function(){},le.Aa=function(){},le.za=function(){},le.ya=function(){},le.isActive=function(){return!0},le.Va=function(){},Ky.prototype.g=function(n,t){return new Lr(n,t)},li(Lr,ci),Lr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;tr(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=CG(n,null,n.Y),qy(n)},Lr.prototype.close=function(){vA(this.g)},Lr.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=iA(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&qy(t)},Lr.prototype.N=function(){this.g.h=null,delete this.j,vA(this.g),delete this.g,Lr.$.N.call(this)},li(EG,lA),li(DG,cA),li(od,SG),od.prototype.Ba=function(){Ei(this.g,"a")},od.prototype.Aa=function(n){Ei(this.g,new EG(n))},od.prototype.za=function(n){Ei(this.g,new DG)},od.prototype.ya=function(){Ei(this.g,"b")},li(Cs,function dme(){this.blockSize=-1}),Cs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cs.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)TA(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){TA(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){TA(this,i),r=0;break}}this.h=r,this.i+=t},Cs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var hme={};function xA(n){return-128<=n&&128>n?function bge(n,t){var e=hme;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Ot([0|t],0>t?-1:0)}):new Ot([0|n],0>n?-1:0)}function to(n){if(isNaN(n)||!isFinite(n))return ad;if(0>n)return Di(to(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=CA;return new Ot(t,0)}var CA=4294967296,ad=xA(0),wA=xA(1),IG=xA(16777216);function jo(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function ss(n){return-1==n.h}function Di(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Ot(e,~n.h).add(wA)}function Xy(n,t){return n.add(Di(t))}function Qy(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function $p(n,t){this.g=n,this.h=t}function Zy(n,t){if(jo(t))throw Error("division by zero");if(jo(n))return new $p(ad,ad);if(ss(n))return t=Zy(Di(n),t),new $p(Di(t.g),Di(t.h));if(ss(t))return t=Zy(n,Di(t)),new $p(Di(t.g),t.h);if(30<n.g.length){if(ss(n)||ss(t))throw Error("slowDivide_ only works with positive integers.");for(var e=wA,i=t;0>=i.X(n);)e=kG(e),i=kG(i);var r=ld(e,1),s=ld(i,1);for(i=ld(i,2),e=ld(e,2);!jo(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=ld(i,1),e=ld(e,1)}return t=Xy(n,r.R(t)),new $p(r,t)}for(r=ad;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=to(e)).R(t);ss(o)||0<o.X(n);)o=(s=to(e-=i)).R(t);jo(s)&&(s=wA),r=r.add(s),n=Xy(n,o)}return new $p(r,n)}function kG(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ot(e,n.h)}function ld(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Ot(r,n.h)}(le=Ot.prototype).ea=function(){if(ss(this))return-Di(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:CA+i)*t,t*=CA}return n},le.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(jo(this))return"0";if(ss(this))return"-"+Di(this).toString(n);for(var t=to(Math.pow(n,6)),e=this,i="";;){var r=Zy(e,t).g,s=((0<(e=Xy(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(jo(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},le.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},le.X=function(n){return ss(n=Xy(this,n))?-1:jo(n)?0:1},le.abs=function(){return ss(this)?Di(this):this},le.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new Ot(e,-2147483648&e[e.length-1]?-1:0)},le.R=function(n){if(jo(this)||jo(n))return ad;if(ss(this))return ss(n)?Di(this).R(Di(n)):Di(Di(this).R(n));if(ss(n))return Di(this.R(Di(n)));if(0>this.X(IG)&&0>n.X(IG))return to(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=o*l,Qy(e,2*i+2*r),e[2*i+2*r+1]+=s*l,Qy(e,2*i+2*r+1),e[2*i+2*r+1]+=o*a,Qy(e,2*i+2*r+1),e[2*i+2*r+2]+=s*a,Qy(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Ot(e,0)},le.gb=function(n){return Zy(this,n).h},le.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Ot(e,this.h&n.h)},le.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Ot(e,this.h|n.h)},le.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Ot(e,this.h^n.h)},Ky.prototype.createWebChannel=Ky.prototype.g,Lr.prototype.send=Lr.prototype.u,Lr.prototype.open=Lr.prototype.m,Lr.prototype.close=Lr.prototype.close,Fy.NO_ERROR=0,Fy.TIMEOUT=8,Fy.HTTP_ERROR=6,BU.COMPLETE="complete",$U.EventType=Ip,Ip.OPEN="a",Ip.CLOSE="b",Ip.ERROR="c",Ip.MESSAGE="d",ci.prototype.listen=ci.prototype.O,xn.prototype.listenOnce=xn.prototype.P,xn.prototype.getLastError=xn.prototype.Sa,xn.prototype.getLastErrorCode=xn.prototype.Ia,xn.prototype.getStatus=xn.prototype.da,xn.prototype.getResponseJson=xn.prototype.Wa,xn.prototype.getResponseText=xn.prototype.ja,xn.prototype.send=xn.prototype.ha,xn.prototype.setWithCredentials=xn.prototype.Oa,Cs.prototype.digest=Cs.prototype.l,Cs.prototype.reset=Cs.prototype.reset,Cs.prototype.update=Cs.prototype.j,Ot.prototype.add=Ot.prototype.add,Ot.prototype.multiply=Ot.prototype.R,Ot.prototype.modulo=Ot.prototype.gb,Ot.prototype.compare=Ot.prototype.X,Ot.prototype.toNumber=Ot.prototype.ea,Ot.prototype.toString=Ot.prototype.toString,Ot.prototype.getBits=Ot.prototype.D,Ot.fromNumber=to,Ot.fromString=function AG(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Di(AG(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=to(Math.pow(t,8)),i=ad,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=to(Math.pow(t,s)),i=i.R(s).add(to(o))):i=(i=i.R(e)).add(to(o))}return i};var fme=xs.createWebChannelTransport=function(){return new Ky},pme=xs.getStatEventTarget=function(){return Ly()},SA=xs.ErrorCode=Fy,gme=xs.EventType=BU,mme=xs.Event=Kl,MG=xs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jy=(xs.FetchXmlHttpFactory=Lp,xs.WebChannel=$U),_me=xs.XhrIo=xn,vme=xs.Md5=Cs,cd=xs.Integer=Ot;const RG="@firebase/firestore";class ui{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let ud="10.7.0";const Va=new hS("@firebase/firestore");function dd(){return Va.logLevel}function B(n,...t){if(Va.logLevel<=lt.DEBUG){const e=t.map(EA);Va.debug(`Firestore (${ud}): ${n}`,...e)}}function Mn(n,...t){if(Va.logLevel<=lt.ERROR){const e=t.map(EA);Va.error(`Firestore (${ud}): ${n}`,...e)}}function Fr(n,...t){if(Va.logLevel<=lt.WARN){const e=t.map(EA);Va.warn(`Firestore (${ud}): ${n}`,...e)}}function EA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function fe(n="Unexpected state"){const t=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: `+n;throw Mn(t),new Error(t)}function _e(n,t){n||fe()}function se(n,t){return n}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Ra{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jn{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class NG{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yme{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ui.UNAUTHENTICATED))}shutdown(){}}class bme{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Tme{constructor(t){this.t=t,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let o=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Jn,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable(M(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Jn)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e("string"==typeof i.accessToken),new NG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return _e(null===t||"string"==typeof t),new ui(t)}}class xme{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Cme{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new xme(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wme{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(_e("string"==typeof e.token),this.R=e.token,new PG(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Sme(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class OG{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Sme(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Oe(n,t){return n<t?-1:n>t?1:0}function hd(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class _n{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return _n.fromMillis(Date.now())}static fromDate(t){return _n.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new _n(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Oe(this.nanoseconds,t.nanoseconds):Oe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ve{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ve(t)}static min(){return new ve(new _n(0,0))}static max(){return new ve(new _n(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Up{constructor(t,e,i){void 0===e?e=0:e>t.length&&fe(),void 0===i?i=t.length-e:i>t.length-e&&fe(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Up.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Up?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class pt extends Up{construct(t,e,i){return new pt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new H(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new pt(e)}static emptyPath(){return new pt([])}}const Eme=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Up{construct(t,e,i){return new on(t,e,i)}static isValidIdentifier(t){return Eme.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new on(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new H(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new H(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new H(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new H(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new on(e)}static emptyPath(){return new on([])}}class oe{constructor(t){this.path=t}static fromPath(t){return new oe(pt.fromString(t))}static fromName(t){return new oe(pt.fromString(t).popFirst(5))}static empty(){return new oe(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===pt.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return pt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new oe(new pt(t.slice()))}}function VG(n){return new Vr(n.readTime,n.key,-1)}class Vr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Vr(ve.min(),oe.empty(),-1)}static max(){return new Vr(ve.max(),oe.empty(),-1)}}function AA(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=oe.comparator(n.documentKey,t.documentKey),0!==e?e:Oe(n.largestBatchId,t.largestBatchId))}const BG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ime{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ba(n){return IA.apply(this,arguments)}function IA(){return IA=M(function*(n){if(n.code!==N.FAILED_PRECONDITION||n.message!==BG)throw n;B("LocalStore","Unexpectedly lost primary lease")}),IA.apply(this,arguments)}class S{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new S((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof S?e:S.resolve(e)}catch(e){return S.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):S.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):S.reject(e)}static resolve(t){return new S((e,i)=>{e(t)})}static reject(t){return new S((e,i)=>{i(t)})}static waitFor(t){return new S((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=S.resolve(!1);for(const i of t)e=e.next(r=>r?S.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new S((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(t,e){return new S((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}function Ha(n){return"IndexedDbTransactionError"===n.name}let Br=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function zp(n){return null==n}function jp(n){return 0===n&&1/n==-1/0}function YG(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function $a(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function KG(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class qt{constructor(t,e){this.comparator=t,this.root=e||Ai.EMPTY}insert(t,e){return new qt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(t){return new qt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new n0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new n0(this.root,t,this.comparator,!1)}getReverseIterator(){return new n0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new n0(this.root,t,this.comparator,!0)}}class n0{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ai{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Ai.RED,this.left=r??Ai.EMPTY,this.right=s??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Ai(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ai.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const t=this.left.check();if(t!==this.right.check())throw fe();return t+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1,Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,e,i,r,s){return this}insert(t,e,i){return new Ai(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(t){this.comparator=t,this.data=new qt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new XG(this.data.getIterator())}getIteratorFrom(t){return new XG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Bt)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Bt(this.comparator);return e.data=t,e}}class XG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _r{constructor(t){this.fields=t,t.sort(on.comparator)}static empty(){return new _r([])}unionWith(t){let e=new Bt(on.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new _r(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return hd(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class QG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ei{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new QG("Invalid base64 string: "+s):s}}(t);return new ei(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new ei(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Oe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ei.EMPTY_BYTE_STRING=new ei("");const Zme=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(n){if(_e(!!n),"string"==typeof n){let t=0;const e=Zme.exec(n);if(_e(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Cn(n.seconds),nanos:Cn(n.nanos)}}function Cn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wo(n){return"string"==typeof n?ei.fromBase64String(n):ei.fromUint8Array(n)}function r0(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function s0(n){const t=n.mapValue.fields.__previous_value__;return r0(t)?s0(t):t}function Wp(n){const t=Ua(n.mapValue.fields.__local_write_time__.timestampValue);return new _n(t.seconds,t.nanos)}class Jme{constructor(t,e,i,r,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class nc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof nc&&t.projectId===this.projectId&&t.database===this.database}}const Ga={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function za(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?r0(n)?4:t4(n)?9007199254740991:10:fe()}function io(n,t){if(n===t)return!0;const e=za(n);if(e!==za(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Wp(n).isEqual(Wp(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Ua(r.timestampValue),a=Ua(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Wo(n.bytesValue).isEqual(Wo(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return Cn(r.geoPointValue.latitude)===Cn(s.geoPointValue.latitude)&&Cn(r.geoPointValue.longitude)===Cn(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Cn(r.integerValue)===Cn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Cn(r.doubleValue),a=Cn(s.doubleValue);return o===a?jp(o)===jp(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return hd(n.arrayValue.values||[],t.arrayValue.values||[],io);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(YG(o)!==YG(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!io(o[l],a[l])))return!1;return!0}(n,t);default:return fe()}var s}function qp(n,t){return void 0!==(n.values||[]).find(e=>io(e,t))}function ja(n,t){if(n===t)return 0;const e=za(n),i=za(t);if(e!==i)return Oe(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Cn(s.integerValue||s.doubleValue),l=Cn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return ZG(n.timestampValue,t.timestampValue);case 4:return ZG(Wp(n),Wp(t));case 5:return Oe(n.stringValue,t.stringValue);case 6:return function(s,o){const a=Wo(s),l=Wo(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Oe(a[c],l[c]);if(0!==u)return u}return Oe(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Oe(Cn(s.latitude),Cn(o.latitude));return 0!==a?a:Oe(Cn(s.longitude),Cn(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=ja(a[c],l[c]);if(u)return u}return Oe(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Ga.mapValue&&o===Ga.mapValue)return 0;if(s===Ga.mapValue)return 1;if(o===Ga.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Oe(l[d],u[d]);if(0!==h)return h;const f=ja(a[l[d]],c[u[d]]);if(0!==f)return f}return Oe(l.length,u.length)}(n.mapValue,t.mapValue);default:throw fe()}}function ZG(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Oe(n,t);const e=Ua(n),i=Ua(t),r=Oe(e.seconds,i.seconds);return 0!==r?r:Oe(e.nanos,i.nanos)}function md(n){return RA(n)}function RA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Ua(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wo(n.bytesValue).toBase64():"referenceValue"in n?oe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=RA(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${RA(e.fields[o])}`;return r+"}"}(n.mapValue):fe()}function NA(n){return!!n&&"integerValue"in n}function Yp(n){return!!n&&"arrayValue"in n}function JG(n){return!!n&&"nullValue"in n}function e4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function l0(n){return!!n&&"mapValue"in n}function Kp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return $a(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Kp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Kp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function t4(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ii{constructor(t){this.value=t}static empty(){return new Ii({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!l0(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kp(e)}setAll(t){let e=on.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=Kp(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());l0(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return io(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];l0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){$a(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ii(Kp(this.value))}}function r4(n){const t=[];return $a(n.fields,(e,i)=>{const r=new on([e]);if(l0(i)){const s=r4(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new _r(t)}class tn{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new tn(t,0,ve.min(),ve.min(),ve.min(),Ii.empty(),0)}static newFoundDocument(t,e,i,r){return new tn(t,1,e,ve.min(),i,r,0)}static newNoDocument(t,e){return new tn(t,2,e,ve.min(),ve.min(),Ii.empty(),0)}static newUnknownDocument(t,e){return new tn(t,3,e,ve.min(),ve.min(),Ii.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wa{constructor(t,e){this.position=t,this.inclusive=e}}function s4(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?oe.comparator(oe.fromName(o.referenceValue),e.key):ja(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function o4(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!io(n.position[e],t.position[e]))return!1;return!0}class Xp{constructor(t,e="asc"){this.field=t,this.dir=e}}function n_e(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class a4{}class rt extends a4{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new i_e(t,e,i):"array-contains"===e?new o_e(t,i):"in"===e?new f4(t,i):"not-in"===e?new a_e(t,i):"array-contains-any"===e?new l_e(t,i):new rt(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new r_e(t,i):new s_e(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ja(e,this.value)):null!==e&&za(this.value)===za(e)&&this.matchesComparison(ja(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lt extends a4{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Lt(t,e)}matches(t){return _d(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function _d(n){return"and"===n.op}function OA(n){return function l4(n){for(const t of n.filters)if(t instanceof Lt)return!1;return!0}(n)&&_d(n)}function LA(n){if(n instanceof rt)return n.field.canonicalString()+n.op.toString()+md(n.value);if(OA(n))return n.filters.map(t=>LA(t)).join(",");{const t=n.filters.map(e=>LA(e)).join(",");return`${n.op}(${t})`}}function c4(n,t){return n instanceof rt?(i=n,(r=t)instanceof rt&&i.op===r.op&&i.field.isEqual(r.field)&&io(i.value,r.value)):n instanceof Lt?function(i,r){return r instanceof Lt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,a)=>s&&c4(o,r.filters[a]),!0)}(n,t):void fe();var i,r}function d4(n){return n instanceof rt?`${(e=n).field.canonicalString()} ${e.op} ${md(e.value)}`:n instanceof Lt?function(e){return e.op.toString()+" {"+e.getFilters().map(d4).join(" ,")+"}"}(n):"Filter";var e}class i_e extends rt{constructor(t,e,i){super(t,e,i),this.key=oe.fromName(i.referenceValue)}matches(t){const e=oe.comparator(t.key,this.key);return this.matchesComparison(e)}}class r_e extends rt{constructor(t,e){super(t,"in",e),this.keys=h4(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class s_e extends rt{constructor(t,e){super(t,"not-in",e),this.keys=h4(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function h4(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>oe.fromName(i.referenceValue))}class o_e extends rt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Yp(e)&&qp(e.arrayValue,this.value)}}class f4 extends rt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&qp(this.value.arrayValue,e)}}class a_e extends rt{constructor(t,e){super(t,"not-in",e)}matches(t){if(qp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!qp(this.value.arrayValue,e)}}class l_e extends rt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Yp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>qp(this.value.arrayValue,i))}}class c_e{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function FA(n,t=null,e=[],i=[],r=null,s=null,o=null){return new c_e(n,t,e,i,r,s,o)}function rc(n){const t=se(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>LA(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),zp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>md(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>md(i)).join(",")),t.ce=e}return t.ce}function Qp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!n_e(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!c4(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!o4(n.startAt,t.startAt)&&o4(n.endAt,t.endAt)}function c0(n){return oe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class qo{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function vd(n){return new qo(n)}function _4(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yd(n){const t=se(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bt(on.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new Xp(s,i))}),e.has(on.keyField().canonicalString())||t.le.push(new Xp(on.keyField(),i))}return t.le}function nr(n){const t=se(n);return t.he||(t.he=function v4(n,t){if("F"===n.limitType)return FA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new Xp(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Wa(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Wa(n.startAt.position,n.startAt.inclusive):null;return FA(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,yd(n))),t.he}function d0(n,t,e){return new qo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Zp(n,t){return Qp(nr(n),nr(t))&&n.limitType===t.limitType}function y4(n){return`${rc(nr(n))}|lt:${n.limitType}`}function bd(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>d4(r)).join(", ")}]`),zp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>md(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>md(r)).join(",")),`Target(${i})`}(nr(n))}; limitType=${n.limitType})`}function Jp(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):oe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of yd(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,a,l){const c=s4(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,yd(i),r)||i.endAt&&!function(o,a,l){const c=s4(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,yd(i),r)));var i,r}function T4(n){return(t,e)=>{let i=!1;for(const r of yd(n)){const s=u_e(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function u_e(n,t,e){const i=n.field.isKeyField()?oe.comparator(t.key,e.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?ja(l,c):fe()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return fe()}}class Yo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){$a(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return KG(this.inner)}size(){return this.innerSize}}const d_e=new qt(oe.comparator);function vr(){return d_e}const x4=new qt(oe.comparator);function eg(...n){let t=x4;for(const e of n)t=t.insert(e.key,e);return t}function C4(n){let t=x4;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ro(){return tg()}function w4(){return tg()}function tg(){return new Yo(n=>n.toString(),(n,t)=>n.isEqual(t))}const h_e=new qt(oe.comparator),f_e=new Bt(oe.comparator);function Ke(...n){let t=f_e;for(const e of n)t=t.add(e);return t}const p_e=new Bt(Oe);function S4(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jp(t)?"-0":t}}function E4(n){return{integerValue:""+n}}function D4(n,t){return function $G(n){return"number"==typeof n&&Number.isInteger(n)&&!jp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?E4(t):S4(n,t)}class h0{constructor(){this._=void 0}}function g_e(n,t,e){return n instanceof Td?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&r0(s)&&(s=s0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof sc?I4(n,t):n instanceof oc?k4(n,t):function(r,s){const o=A4(r,s),a=M4(o)+M4(r.Ie);return NA(o)&&NA(r.Ie)?E4(a):S4(r.serializer,a)}(n,t)}function m_e(n,t,e){return n instanceof sc?I4(n,t):n instanceof oc?k4(n,t):e}function A4(n,t){return n instanceof xd?NA(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class Td extends h0{}class sc extends h0{constructor(t){super(),this.elements=t}}function I4(n,t){const e=R4(t);for(const i of n.elements)e.some(r=>io(r,i))||e.push(i);return{arrayValue:{values:e}}}class oc extends h0{constructor(t){super(),this.elements=t}}function k4(n,t){let e=R4(t);for(const i of n.elements)e=e.filter(r=>!io(r,i));return{arrayValue:{values:e}}}class xd extends h0{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function M4(n){return Cn(n.integerValue||n.doubleValue)}function R4(n){return Yp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class v_e{constructor(t,e){this.version=t,this.transformResults=e}}class an{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new an}static exists(t){return new an(void 0,t)}static updateTime(t){return new an(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function f0(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class p0{}function N4(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new wd(n.key,an.none()):new Cd(n.key,n.data,an.none());{const e=n.data,i=Ii.empty();let r=new Bt(on.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Ko(n.key,i,new _r(r.toArray()),an.none())}}function y_e(n,t,e){n instanceof Cd?function(r,s,o){const a=r.value.clone(),l=L4(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Ko?function(r,s,o){if(!f0(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=L4(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(O4(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function ig(n,t,e,i){return n instanceof Cd?function(s,o,a,l){if(!f0(s.precondition,o))return a;const c=s.value.clone(),u=F4(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ko?function(s,o,a,l){if(!f0(s.precondition,o))return a;const c=F4(s.fieldTransforms,l,o),u=o.data;return u.setAll(O4(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,t,e,i):(a=e,f0(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function b_e(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=A4(i.transform,r||null);null!=s&&(null===e&&(e=Ii.empty()),e.set(i.field,s))}return e||null}function P4(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&hd(i,r,(s,o)=>function __e(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof sc&&r instanceof sc||i instanceof oc&&r instanceof oc?hd(i.elements,r.elements,io):i instanceof xd&&r instanceof xd?io(i.Ie,r.Ie):i instanceof Td&&r instanceof Td);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class Cd extends p0{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ko extends p0{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function O4(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function L4(n,t,e){const i=new Map;_e(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,m_e(o,a,e[r]))}return i}function F4(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,g_e(s,o,t))}return i}class wd extends p0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $A extends p0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UA{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&y_e(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=ig(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=ig(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=w4();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=N4(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ke())}isEqual(t){return this.batchId===t.batchId&&hd(this.mutations,t.mutations,(e,i)=>P4(e,i))&&hd(this.baseMutations,t.baseMutations,(e,i)=>P4(e,i))}}class GA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){_e(t.mutations.length===i.length);let r=h_e;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new GA(t,e,i,r)}}class zA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class x_e{constructor(t,e){this.count=t,this.unchangedNames=e}}var zn,gt;function B4(n){if(void 0===n)return Mn("GRPC error has no .code"),N.UNKNOWN;switch(n){case zn.OK:return N.OK;case zn.CANCELLED:return N.CANCELLED;case zn.UNKNOWN:return N.UNKNOWN;case zn.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case zn.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case zn.INTERNAL:return N.INTERNAL;case zn.UNAVAILABLE:return N.UNAVAILABLE;case zn.UNAUTHENTICATED:return N.UNAUTHENTICATED;case zn.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case zn.NOT_FOUND:return N.NOT_FOUND;case zn.ALREADY_EXISTS:return N.ALREADY_EXISTS;case zn.PERMISSION_DENIED:return N.PERMISSION_DENIED;case zn.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case zn.ABORTED:return N.ABORTED;case zn.OUT_OF_RANGE:return N.OUT_OF_RANGE;case zn.UNIMPLEMENTED:return N.UNIMPLEMENTED;case zn.DATA_LOSS:return N.DATA_LOSS;default:return fe()}}(gt=zn||(zn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";const C_e=new cd([4294967295,4294967295],0);function $4(n){const t=function H4(){return new TextEncoder}().encode(n),e=new vme;return e.update(t),new Uint8Array(e.digest())}function U4(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new cd([e,i],0),new cd([r,s],0)]}class jA{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new rg(`Invalid padding: ${e}`);if(i<0)throw new rg(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new rg(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new rg(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=cd.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(cd.fromNumber(i)));return 1===r.compare(C_e)&&(r=new cd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=$4(t),[i,r]=U4(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new jA(s,r,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Te)return;const e=$4(t),[i,r]=U4(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class rg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sg{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,og.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new sg(ve.min(),r,new qt(Oe),vr(),Ke())}}class og{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new og(i,e,Ke(),Ke(),Ke())}}class m0{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class G4{constructor(t,e){this.targetId=t,this.fe=e}}class z4{constructor(t,e,i=ei.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class j4{constructor(){this.ge=0,this.pe=q4(),this.ye=ei.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Ke(),e=Ke(),i=Ke();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:fe()}}),new og(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=q4()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,_e(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class w_e{constructor(t){this.Le=t,this.ke=new Map,this.qe=vr(),this.Qe=W4(),this.Ke=new qt(Oe)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:fe()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(c0(s))if(0===i){const o=new oe(s.path);this.We(e,o,tn.newNoDocument(o,ve.min()))}else _e(1===i);else{const o=this.Ze(e);if(o!==i){const a=this.Xe(t),l=a?this.et(a,t,o):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,a;try{o=Wo(i).toUint8Array()}catch(l){if(l instanceof QG)return Fr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new jA(o,r,s)}catch(l){return Fr(l instanceof rg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&c0(a.target)){const l=new oe(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,tn.newNoDocument(l,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=Ke();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new sg(t,e,this.Ke,this.qe,i);return this.qe=vr(),this.Qe=W4(),this.Ke=new qt(Oe),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new j4,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new Bt(Oe),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||B("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new j4),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function W4(){return new qt(oe.comparator)}function q4(){return new qt(oe.comparator)}const S_e={asc:"ASCENDING",desc:"DESCENDING"},E_e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D_e={and:"AND",or:"OR"};class A_e{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function WA(n,t){return n.useProto3Json||zp(t)?t:{value:t}}function Sd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Y4(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function I_e(n,t){return Sd(n,t.toTimestamp())}function Rn(n){return _e(!!n),ve.fromTimestamp(function(e){const i=Ua(e);return new _n(i.seconds,i.nanos)}(n))}function qA(n,t){return(i=n,new pt(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function K4(n){const t=pt.fromString(n);return _e(rz(t)),t}function ag(n,t){return qA(n.databaseId,t.path)}function so(n,t){const e=K4(t);if(e.get(1)!==n.databaseId.projectId)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new oe(Q4(e))}function YA(n,t){return qA(n.databaseId,t)}function lg(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q4(n){return _e(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Z4(n,t,e){return{name:ag(n,t),fields:e.value.mapValue.fields}}function ez(n,t){return{documents:[YA(n,t.path)]}}function XA(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=YA(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=YA(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return iz(Lt.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:qa((d=c).field),direction:P_e(d.dir)};var d})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=WA(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function tz(n){let t=function X4(n){const t=K4(n);return 4===t.length?pt.emptyPath():Q4(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){_e(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=function(d){const h=nz(d);return h instanceof Lt&&OA(h)?h.getFilters():[h]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(h=>{return new Xp(Ed((p=h).field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;e.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,zp(h)?null:h}(e.limit));let l=null;var d;e.startAt&&(l=new Wa((d=e.startAt).values||[],!!d.before));let c=null;return e.endAt&&(c=function(d){return new Wa(d.values||[],!d.before)}(e.endAt)),function m4(n,t,e,i,r,s,o,a){return new qo(n,t,e,i,r,s,o,a)}(t,r,o,s,a,"F",l,c)}function nz(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ed(e.unaryFilter.field);return rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ed(e.unaryFilter.field);return rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ed(e.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ed(e.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(n):void 0!==n.fieldFilter?rt.create(Ed((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Lt.create(e.compositeFilter.filters.map(i=>nz(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return fe()}}(e.compositeFilter.op))}(n):fe();var e}function P_e(n){return S_e[n]}function O_e(n){return E_e[n]}function L_e(n){return D_e[n]}function qa(n){return{fieldPath:n.canonicalString()}}function Ed(n){return on.fromServerFormat(n.fieldPath)}function iz(n){return n instanceof rt?function(e){if("=="===e.op){if(e4(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NAN"}};if(JG(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(e4(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NOT_NAN"}};if(JG(e.value))return{unaryFilter:{field:qa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(e.field),op:O_e(e.op),value:e.value}}}(n):n instanceof Lt?function(e){const i=e.getFilters().map(r=>iz(r));return 1===i.length?i[0]:{compositeFilter:{op:L_e(e.op),filters:i}}}(n):fe()}function F_e(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function rz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Xo{constructor(t,e,i,r,s=ve.min(),o=ve.min(),a=ei.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Xo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sz{constructor(t){this.ut=t}}function QA(n){const t=tz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?d0(t,t.limit,"L"):t}class uc{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(Cn(t.integerValue));else if("doubleValue"in t){const i=Cn(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),jp(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(Wo(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?t4(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):fe()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),oe.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}uc.St=new uc;class j_e{constructor(){this.on=new iI}addToCollectionParentIndex(t,e){return this.on.add(e),S.resolve()}getCollectionParents(t,e){return S.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return S.resolve()}deleteFieldIndex(t,e){return S.resolve()}deleteAllFieldIndexes(t){return S.resolve()}createTargetIndexes(t,e){return S.resolve()}getDocumentsMatchingTarget(t,e){return S.resolve(null)}getIndexType(t,e){return S.resolve(0)}getFieldIndexes(t,e){return S.resolve([])}getNextCollectionGroupToUpdate(t){return S.resolve(null)}getMinOffset(t,e){return S.resolve(Vr.min())}getMinOffsetFromCollectionGroup(t,e){return S.resolve(Vr.min())}updateCollectionGroup(t,e,i){return S.resolve()}updateIndexEntries(t,e){return S.resolve()}}class iI{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Bt(pt.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Bt(pt.comparator)).toArray()}}new Uint8Array(0);class Hi{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Hi(t,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Hi.DEFAULT_COLLECTION_PERCENTILE=10,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hi.DEFAULT=new Hi(41943040,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hi.DISABLED=new Hi(-1,0,0);class hc{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new hc(0)}static Nn(){return new hc(-1)}}class Q_e{constructor(){this.changes=new Yo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?S.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eve{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Rz{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&ig(i.mutation,r,_r.empty(),_n.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ke()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ke()){const r=ro();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=eg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=ro();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ke()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=vr();const o=tg(),a=tg();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Ko)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),ig(u.mutation,c,u.mutation.getFieldMask(),_n.now())):o.set(c.key,_r.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),e.forEach((c,u)=>{var d;return a.set(c,new eve(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(t,e){const i=tg();let r=new qt((o,a)=>o-a),s=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||_r.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||Ke()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=w4();u.forEach(h=>{if(!s.has(h)){const f=N4(e.get(h),i.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,d))}return S.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return oe.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):function VA(n){return null!==n.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):S.resolve(ro());let a=-1,l=s;return o.next(c=>S.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?S.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,Ke())).next(u=>({batchId:a,changes:C4(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new oe(e)).next(i=>{let r=eg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=eg();return this.indexManager.getCollectionParents(t,s).next(a=>S.forEach(a,l=>{const c=(d=e,h=l.child(s),new qo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,tn.newInvalidDocument(u)))});let a=eg();return o.forEach((l,c)=>{const u=s.get(l);void 0!==u&&ig(u.mutation,c,_r.empty(),_n.now()),Jp(e,c)&&(a=a.insert(l,c))}),a})}}class tve{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return S.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:Rn(r.createTime)}),S.resolve();var r}getNamedQuery(t,e){return S.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:QA(r.bundledQuery),readTime:Rn(r.readTime)}),S.resolve();var r}}class nve{constructor(){this.overlays=new qt(oe.comparator),this.lr=new Map}getOverlay(t,e){return S.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ro();return S.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),S.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),S.resolve()}getOverlaysForCollection(t,e,i){const r=ro(),s=e.length+1,o=new oe(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return S.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new qt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=ro(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ro(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return S.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new zA(e,i));let s=this.lr.get(e);void 0===s&&(s=Ke(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class rI{constructor(){this.hr=new Bt(hi.Pr),this.Ir=new Bt(hi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new hi(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new hi(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new oe(new pt([])),i=new hi(e,t),r=new hi(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new oe(new pt([])),i=new hi(e,t),r=new hi(e,t+1);let s=Ke();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new hi(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class hi{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return oe.comparator(t.key,e.key)||Oe(t.gr,e.gr)}static Tr(t,e){return Oe(t.gr,e.gr)||oe.comparator(t.key,e.key)}}class ive{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new Bt(hi.Pr)}checkEmpty(t){return S.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new UA(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new hi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return S.resolve(o)}lookupMutationBatch(t,e){return S.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return S.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return S.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new hi(e,0),r=new hi(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const a=this.wr(o.gr);s.push(a)}),S.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Bt(Oe);return e.forEach(r=>{const s=new hi(r,0),o=new hi(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),S.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;oe.isDocumentKey(s)||(s=s.child(""));const o=new hi(new oe(s),0);let a=new Bt(Oe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),S.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){_e(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return S.forEach(e.mutations,r=>{const s=new hi(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new hi(e,0),r=this.yr.firstAfterOrEqual(i);return S.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return S.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class rve{constructor(t){this.Cr=t,this.docs=new qt(oe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return S.resolve(i?i.document.mutableCopy():tn.newInvalidDocument(e))}getEntries(t,e){let i=vr();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():tn.newInvalidDocument(r))}),S.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=vr();const o=e.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||AA(VG(u),i)<=0||(r.has(u.key)||Jp(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return S.resolve(s)}getAllFromCollectionGroup(t,e,i,r){fe()}vr(t,e){return S.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new sve(this)}getSize(t){return S.resolve(this.size)}}class sve extends Q_e{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),S.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class ove{constructor(t){this.persistence=t,this.Fr=new Yo(e=>rc(e),Qp),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Mr=0,this.Or=new rI,this.targetCount=0,this.Nr=hc.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),S.resolve()}getLastRemoteSnapshotVersion(t){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return S.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),S.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new hc(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,S.resolve()}updateTargetData(t,e){return this.kn(e),S.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,S.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),S.waitFor(s).next(()=>r)}getTargetCount(t){return S.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return S.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),S.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),S.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),S.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return S.resolve(i)}containsKey(t,e){return S.resolve(this.Or.containsKey(e))}}class sI{constructor(t,e){this.Br={},this.overlays={},this.Lr=new Br(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new ove(this),this.indexManager=new j_e,this.remoteDocumentCache=new rve(i=>this.referenceDelegate.Qr(i)),this.serializer=new sz(e),this.Kr=new tve(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new nve,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new ive(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){B("MemoryPersistence","Starting transaction:",t);const r=new ave(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return S.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class ave extends Ime{constructor(t){super(),this.currentSequenceNumber=t}}class w0{constructor(t){this.persistence=t,this.Gr=new rI,this.zr=null}static jr(t){return new w0(t)}get Hr(){if(this.zr)return this.zr;throw fe()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),S.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),S.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),S.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.Hr,i=>{const r=oe.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,ve.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return S.or([()=>S.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class cI{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Ke(),r=Ke();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new cI(t,e.fromCache,i,r)}}class cve{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Pz{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new cve;return this.Hi(t,e,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,e,o,a.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(dd()<=lt.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",bd(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),S.resolve()):(dd()<=lt.DEBUG&&B("QueryEngine","Query:",bd(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(dd()<=lt.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",bd(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,nr(e))):S.resolve())}zi(t,e){if(_4(e))return S.resolve(null);let i=nr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=d0(e,null,"F"),i=nr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Ke(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,o,l.readTime)?this.zi(t,d0(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return _4(e)||r.isEqual(ve.min())?S.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?S.resolve(null):(dd()<=lt.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bd(e)),this.Xi(t,o,e,function FG(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(1e9===i?new _n(e+1,0):new _n(e,i));return new Vr(r,oe.empty(),t)}(r,-1)).next(a=>a))})}Yi(t,e){let i=new Bt(T4(t));return e.forEach((r,s)=>{Jp(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return dd()<=lt.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",bd(e)),this.Gi.getDocumentsMatchingQuery(t,e,Vr.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class uve{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new qt(Oe),this.ns=new Yo(s=>rc(s),Qp),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Rz(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function Lz(n,t){return uI.apply(this,arguments)}function uI(){return uI=M(function*(n,t){const e=se(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Ke();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),uI.apply(this,arguments)}function Fz(n){const t=se(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function fve(n,t){const e=se(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Rd(n,t,e){return dI.apply(this,arguments)}function dI(){return dI=M(function*(n,t,e){const i=se(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Ha(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),dI.apply(this,arguments)}function D0(n,t,e){const i=se(n);let r=ve.min(),s=Ke();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=se(l),h=d.ns.get(u);return void 0!==h?S.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(i,o,nr(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:ve.min(),e?s:Ke())).next(a=>(function $z(n,t,e){let i=n.rs.get(t)||ve.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}(i,function b4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),a),{documents:a,ls:s})))}class mI{constructor(){this.activeTargetIds=function HA(){return p_e}()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zz{constructor(){this.eo=new mI,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new mI,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class mve{ro(t){}shutdown(){}}class jz{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let k0=null;function vI(){return null===k0?k0=268435456+Math.round(2147483648*Math.random()):k0++,"0x"+k0.toString(16)}const _ve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vve{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const $i="WebChannelConnection";class yve extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const a=vI(),l=this.So(e,i);B("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(e,l,c,r).then(u=>(B("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw Fr("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,i,r,s,o,a){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ud,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${_ve[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=vI();return new Promise((o,a)=>{const l=new _me;l.setWithCredentials(!0),l.listenOnce(gme.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case SA.NO_ERROR:const u=l.getResponseJson();B($i,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),o(u);break;case SA.TIMEOUT:B($i,`RPC '${t}' ${s} timed out`),a(new H(N.DEADLINE_EXCEEDED,"Request time out"));break;case SA.HTTP_ERROR:const d=l.getStatus();if(B($i,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(v)>=0?v:N.UNKNOWN}(f.status);a(new H(p,f.message))}else a(new H(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(N.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{B($i,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);B($i,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=vI(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=fme(),a=pme(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=s.join("");B($i,`Creating RPC '${t}' stream ${r}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new vve({co:g=>{f?B($i,`Not sending because RPC '${t}' stream ${r} is closed:`,g):(h||(B($i,`Opening RPC '${t}' stream ${r} transport.`),d.open(),h=!0),B($i,`RPC '${t}' stream ${r} sending:`,g),d.send(g))},lo:()=>d.close()}),m=(g,v,_)=>{g.listen(v,b=>{try{_(b)}catch(x){setTimeout(()=>{throw x},0)}})};return m(d,Jy.EventType.OPEN,()=>{f||B($i,`RPC '${t}' stream ${r} transport opened.`)}),m(d,Jy.EventType.CLOSE,()=>{f||(f=!0,B($i,`RPC '${t}' stream ${r} transport closed`),p.Ro())}),m(d,Jy.EventType.ERROR,g=>{f||(f=!0,Fr($i,`RPC '${t}' stream ${r} transport errored:`,g),p.Ro(new H(N.UNAVAILABLE,"The operation could not be completed")))}),m(d,Jy.EventType.MESSAGE,g=>{var v;if(!f){const _=g.data[0];_e(!!_);const x=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(x){B($i,`RPC '${t}' stream ${r} received error:`,x);const D=x.status;let k=function(we){const me=zn[we];if(void 0!==me)return B4(me)}(D),$=x.message;void 0===k&&(k=N.INTERNAL,$="Unknown error status: "+D+" with message "+x.message),f=!0,p.Ro(new H(k,$)),d.close()}else B($i,`RPC '${t}' stream ${r} received:`,_),p.Vo(_)}}),m(a,mme.STAT_EVENT,g=>{g.stat===MG.PROXY?B($i,`RPC '${t}' stream ${r} detected buffering proxy`):g.stat===MG.NOPROXY&&B($i,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function M0(){return typeof document<"u"?document:null}function _g(n){return new A_e(n,!0)}class yI{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&B("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class qz{constructor(t,e,i,r,s,o,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new yI(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return M(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return M(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return M(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===N.RESOURCE_EXHAUSTED?(Mn(e.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===N.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new H(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko(M(function*(){t.state=0,t.start()}))}o_(t){return B("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bve extends qz{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function M_e(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:fe(),r=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(_e(void 0===u||"string"==typeof u),ei.fromBase64String(u||"")):(_e(void 0===u||u instanceof Uint8Array),ei.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=void 0===c.code?N.UNKNOWN:B4(c.code);return new H(u,c.message||"")}(o);e=new z4(i,r,s,a||null)}else if("documentChange"in t){const i=t.documentChange,r=so(n,i.document.name),s=Rn(i.document.updateTime),o=i.document.createTime?Rn(i.document.createTime):ve.min(),a=new Ii({mapValue:{fields:i.document.fields}}),l=tn.newFoundDocument(r,s,o,a);e=new m0(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=so(n,i.document),s=i.readTime?Rn(i.readTime):ve.min(),o=tn.newNoDocument(r,s);e=new m0([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=so(n,i.document);e=new m0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return fe();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new x_e(r,s);e=new G4(i.targetId,o)}}var c;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return ve.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Rn(o.readTime):ve.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=lg(this.serializer),e.addTarget=function(s,o){let a;const l=o.target;if(a=c0(l)?{documents:ez(s,l)}:{query:XA(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Y4(s,o.resumeToken);const c=WA(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=Sd(s,o.snapshotVersion.toTimestamp());const c=WA(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function N_e(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=lg(this.serializer),e.removeTarget=t,this.e_(e)}}class Tve extends qz{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(_e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function R_e(n,t){return n&&n.length>0?(_e(void 0!==t),n.map(e=>function(r,s){let o=Rn(r.updateTime?r.updateTime:s);return o.isEqual(ve.min())&&(o=Rn(s)),new v_e(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Rn(t.commitTime);return this.listener.I_(i,e)}return _e(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=lg(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>function cg(n,t){let e;if(t instanceof Cd)e={update:Z4(n,t.key,t.value)};else if(t instanceof wd)e={delete:ag(n,t.key)};else if(t instanceof Ko)e={update:Z4(n,t.key,t.data),updateMask:F_e(t.fieldMask)};else{if(!(t instanceof $A))return fe();e={verify:ag(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Td)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof oc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xd)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw fe()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:I_e(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:fe()),e;var s}(this.serializer,i))};this.e_(e)}}class xve extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new H(N.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(N.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class wve{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Mn(e),this.f_=!1):B("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Sve{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{i.enqueueAndForget(M(function*(){var l;Qa(o)&&(B("RemoteStore","Restarting streams for network reachability change."),yield(l=M(function*(u){const d=se(u);d.C_.add(4),yield Nd(d),d.M_.set("Unknown"),d.C_.delete(4),yield vg(d)}),function c(u){return l.apply(this,arguments)})(o))}))}),this.M_=new wve(i,r)}}function vg(n){return TI.apply(this,arguments)}function TI(){return TI=M(function*(n){if(Qa(n))for(const t of n.v_)yield t(!0)}),TI.apply(this,arguments)}function Nd(n){return xI.apply(this,arguments)}function xI(){return xI=M(function*(n){for(const t of n.v_)yield t(!1)}),xI.apply(this,arguments)}function R0(n,t){const e=se(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),SI(e)?wI(e):Od(e).Ho()&&CI(e,t))}function yg(n,t){const e=se(n),i=Od(e);e.D_.delete(t),i.Ho()&&Yz(e,t),0===e.D_.size&&(i.Ho()?i.Zo():Qa(e)&&e.M_.set("Unknown"))}function CI(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ve.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Od(n).u_(t)}function Yz(n,t){n.x_.Oe(t),Od(n).c_(t)}function wI(n){n.x_=new w_e({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),Od(n).start(),n.M_.g_()}function SI(n){return Qa(n)&&!Od(n).jo()&&n.D_.size>0}function Qa(n){return 0===se(n).C_.size}function Kz(n){n.x_=void 0}function Eve(n){return EI.apply(this,arguments)}function EI(){return EI=M(function*(n){n.D_.forEach((t,e)=>{CI(n,t)})}),EI.apply(this,arguments)}function Dve(n,t){return DI.apply(this,arguments)}function DI(){return DI=M(function*(n,t){Kz(n),SI(n)?(n.M_.w_(t),wI(n)):n.M_.set("Unknown")}),DI.apply(this,arguments)}function Ave(n,t,e){return AI.apply(this,arguments)}function AI(){return AI=M(function*(n,t,e){if(n.M_.set("Online"),t instanceof z4&&2===t.state&&t.cause)try{yield(i=M(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){B("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield N0(n,i)}else if(t instanceof m0?n.x_.$e(t):t instanceof G4?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(ve.min()))try{const i=yield Fz(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(ei.EMPTY_BYTE_STRING,u.snapshotVersion)),Yz(s,l);const d=new Xo(u.target,l,c,u.sequenceNumber);CI(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){B("RemoteStore","Failed to raise snapshot:",i),yield N0(n,i)}var i}),AI.apply(this,arguments)}function N0(n,t,e){return II.apply(this,arguments)}function II(){return II=M(function*(n,t,e){if(!Ha(t))throw t;n.C_.add(1),yield Nd(n),n.M_.set("Offline"),e||(e=()=>Fz(n.localStore)),n.asyncQueue.enqueueRetryable(M(function*(){B("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield vg(n)}))}),II.apply(this,arguments)}function Xz(n,t){return t().catch(e=>N0(n,e,t))}function Pd(n){return kI.apply(this,arguments)}function kI(){return kI=M(function*(n){const t=se(n),e=Za(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Ive(t);)try{const r=yield fve(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,kve(t,r)}catch(r){yield N0(t,r)}Qz(t)&&Zz(t)}),kI.apply(this,arguments)}function Ive(n){return Qa(n)&&n.b_.length<10}function kve(n,t){n.b_.push(t);const e=Za(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function Qz(n){return Qa(n)&&!Za(n).jo()&&n.b_.length>0}function Zz(n){Za(n).start()}function Mve(n){return MI.apply(this,arguments)}function MI(){return MI=M(function*(n){Za(n).E_()}),MI.apply(this,arguments)}function Rve(n){return RI.apply(this,arguments)}function RI(){return RI=M(function*(n){const t=Za(n);for(const e of n.b_)t.P_(e.mutations)}),RI.apply(this,arguments)}function Nve(n,t,e){return NI.apply(this,arguments)}function NI(){return NI=M(function*(n,t,e){const i=n.b_.shift(),r=GA.from(i,t,e);yield Xz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Pd(n)}),NI.apply(this,arguments)}function Pve(n,t){return PI.apply(this,arguments)}function PI(){return PI=M(function*(n,t){var e;t&&Za(n).h_&&(yield(e=M(function*(r,s){if(function V4(n){switch(n){default:return fe();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}(a=s.code)&&a!==N.ABORTED){const o=r.b_.shift();Za(r).Yo(),yield Xz(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Pd(r)}var a}),function i(r,s){return e.apply(this,arguments)})(n,t)),Qz(n)&&Zz(n)}),PI.apply(this,arguments)}function Jz(n,t){return OI.apply(this,arguments)}function OI(){return OI=M(function*(n,t){const e=se(n);e.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const i=Qa(e);e.C_.add(3),yield Nd(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield vg(e)}),OI.apply(this,arguments)}function FI(){return FI=M(function*(n,t){const e=se(n);t?(e.C_.delete(2),yield vg(e)):t||(e.C_.add(2),yield Nd(e),e.M_.set("Unknown"))}),FI.apply(this,arguments)}function Od(n){return n.O_||(n.O_=function(e,i,r){const s=se(e);return s.A_(),new bve(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Eve.bind(null,n),Io:Dve.bind(null,n),a_:Ave.bind(null,n)}),n.v_.push(function(){var t=M(function*(e){e?(n.O_.Yo(),SI(n)?wI(n):n.M_.set("Unknown")):(yield n.O_.stop(),Kz(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function Za(n){return n.N_||(n.N_=function(e,i,r){const s=se(e);return s.A_(),new Tve(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Mve.bind(null,n),Io:Pve.bind(null,n),T_:Rve.bind(null,n),I_:Nve.bind(null,n)}),n.v_.push(function(){var t=M(function*(e){e?(n.N_.Yo(),yield Pd(n)):(yield n.N_.stop(),n.b_.length>0&&(B("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class VI{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new VI(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new H(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(n,t){if(Mn("AsyncQueue",`${t}: ${n}`),Ha(n))return new H(N.UNAVAILABLE,`${t}: ${n}`);throw n}class Fd{constructor(t){this.comparator=t?(e,i)=>t(e,i)||oe.comparator(e.key,i.key):(e,i)=>oe.comparator(e.key,i.key),this.keyedMap=eg(),this.sortedSet=new qt(this.comparator)}static emptySet(t){return new Fd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Fd)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Fd;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class ej{constructor(){this.B_=new qt(oe.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):fe():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Vd{constructor(t,e,i,r,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new Vd(t,e,Fd.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Ove{constructor(){this.k_=void 0,this.listeners=[]}}class Lve{constructor(){this.queries=new Yo(t=>y4(t),Zp),this.onlineState="Unknown",this.q_=new Set}}function HI(){return HI=M(function*(n,t){const e=se(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new Ove),r)try{s.k_=yield e.onListen(i)}catch(o){const a=Ld(o,`Initialization of query '${bd(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&GI(e)}),HI.apply(this,arguments)}function UI(){return UI=M(function*(n,t){const e=se(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),UI.apply(this,arguments)}function Fve(n,t){const e=se(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&GI(e)}function Vve(n,t,e){const i=se(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function GI(n){n.q_.forEach(t=>{t.next()})}class zI{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Vd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=Vd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class ij{constructor(t){this.key=t}}class rj{constructor(t){this.key=t}}class sj{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ke(),this.mutatedKeys=Ke(),this._a=T4(t),this.aa=new Fd(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new ej,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,d)=>{const h=r.get(u),f=Jp(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),g=!0):this.ha(h,f)||(i.track({type:2,doc:f}),g=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((u,d)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return m(f)-m(p)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(i),r=null!=r&&r;const a=e&&!r?this.Ia():[],l=0===this.oa.size&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,0!==o.length||c?{snapshot:new Vd(this.query,t.aa,s,o,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new ej,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Ke(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new rj(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new ij(i))}),e}da(t){this.ia=t.ls,this.oa=Ke();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return Vd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class $ve{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Uve{constructor(t){this.key=t,this.Ra=!1}}class Gve{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Yo(a=>y4(a),Zp),this.fa=new Map,this.ga=new Set,this.pa=new qt(oe.comparator),this.ya=new Map,this.wa=new rI,this.Sa={},this.ba=new Map,this.Da=hc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function zve(n,t){return jI.apply(this,arguments)}function jI(){return jI=M(function*(n,t){const e=function pk(n){const t=se(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=oj.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jve.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qve.bind(null,t),t.Va.a_=Fve.bind(null,t.eventManager),t.Va.Fa=Vve.bind(null,t.eventManager),t}(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield function Md(n,t){const e=se(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,S.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new Xo(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}(e.localStore,nr(t)),a=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield function WI(n,t,e,i,r){return qI.apply(this,arguments)}(e,t,i,"current"===a,o.resumeToken),e.isPrimaryClient&&R0(e.remoteStore,o)}return r}),jI.apply(this,arguments)}function qI(){return qI=M(function*(n,t,e,i,r){n.va=(d,h,f)=>{return(p=M(function*(g,v,_,b){let x=v.view.ca(_);x.Zi&&(x=yield D0(g.localStore,v.query,!1).then(({documents:X})=>v.view.ca(X,x)));const D=b&&b.targetChanges.get(v.targetId),k=b&&null!=b.targetMismatches.get(v.targetId),$=v.view.applyChanges(x,g.isPrimaryClient,D,k);return ik(g,v.targetId,$.Ta),$.snapshot}),function m(g,v,_,b){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield D0(n.localStore,t,!0),o=new sj(t,s.ls),a=o.ca(s.documents),l=og.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);ik(n,e,c.Ta);const u=new $ve(t,e,o);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),qI.apply(this,arguments)}function jve(n,t){return YI.apply(this,arguments)}function YI(){return YI=M(function*(n,t){const e=se(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!Zp(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Rd(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),yg(e.remoteStore,i.targetId),Bd(e,i.targetId)}).catch(Ba))):(Bd(e,i.targetId),yield Rd(e.localStore,i.targetId,!0))}),YI.apply(this,arguments)}function KI(){return KI=M(function*(n,t,e){const i=function gk(n){const t=se(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Yve.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Kve.bind(null,t),t}(n);try{const r=yield function(o,a){const l=se(o),c=_n.now(),u=a.reduce((f,p)=>f.add(p.key),Ke());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=vr(),m=Ke();return l.ss.getEntries(f,u).next(g=>{p=g,p.forEach((v,_)=>{_.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(g=>{d=g;const v=[];for(const _ of a){const b=b_e(_,d.get(_.key).overlayedDocument);null!=b&&v.push(new Ko(_.key,b,r4(b.value.mapValue),an.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:C4(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new qt(Oe)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,e),yield Qo(i,r.changes),yield Pd(i.remoteStore)}catch(r){const s=Ld(r,"Failed to persist write");e.reject(s)}}),KI.apply(this,arguments)}function oj(n,t){return XI.apply(this,arguments)}function XI(){return XI=M(function*(n,t){const e=se(n);try{const i=yield function hve(n,t){const e=se(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(e.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>e.qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var m,g,v;null!==t.targetMismatches.get(d)?f=f.withResumeToken(ei.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),g=f,v=u,(0===(m=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(s,f))});let l=vr(),c=Ke();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function Vz(n,t,e){let i=Ke(),r=Ke();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=vr();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}(s,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(ve.min())){const u=e.qr.getLastRemoteSnapshotVersion(s).next(d=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return S.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.ts=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(_e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?_e(o.Ra):r.removedDocuments.size>0&&(_e(o.Ra),o.Ra=!1))}),yield Qo(e,i,t)}catch(i){yield Ba(i)}}),XI.apply(this,arguments)}function aj(n,t,e){const i=se(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=se(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&GI(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function qve(n,t,e){return QI.apply(this,arguments)}function QI(){return QI=M(function*(n,t,e){const i=se(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new qt(oe.comparator);o=o.insert(s,tn.newNoDocument(s,ve.min()));const a=Ke().add(s),l=new sg(ve.min(),new Map,new qt(Oe),o,a);yield oj(i,l),i.pa=i.pa.remove(s),i.ya.delete(t),rk(i)}else yield Rd(i.localStore,t,!1).then(()=>Bd(i,t,e)).catch(Ba)}),QI.apply(this,arguments)}function Yve(n,t){return ZI.apply(this,arguments)}function ZI(){return ZI=M(function*(n,t){const e=se(n),i=t.batch.batchId;try{const r=yield function dve(n,t){const e=se(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=S.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{const g=c.docVersions.get(p);_e(null!==g),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);nk(e,i,null),tk(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Qo(e,r)}catch(r){yield Ba(r)}}),ZI.apply(this,arguments)}function Kve(n,t,e){return JI.apply(this,arguments)}function JI(){return JI=M(function*(n,t,e){const i=se(n);try{const r=yield function(o,a){const l=se(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(_e(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);nk(i,t,e),tk(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Qo(i,r)}catch(r){yield Ba(r)}}),JI.apply(this,arguments)}function tk(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function nk(n,t,e){const i=se(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Bd(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||lj(n,i)})}function lj(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(yg(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),rk(n))}function ik(n,t,e){for(const i of e)i instanceof ij?(n.wa.addReference(i.key,t),Qve(n,i)):i instanceof rj?(B("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||lj(n,i.key)):fe()}function Qve(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(B("SyncEngine","New document in limbo: "+e),n.ga.add(i),rk(n))}function rk(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new oe(pt.fromString(t)),i=n.Da.next();n.ya.set(i,new Uve(e)),n.pa=n.pa.insert(e,i),R0(n.remoteStore,new Xo(nr(vd(e.path)),i,"TargetPurposeLimboResolution",Br._e))}}function Qo(n,t,e){return sk.apply(this,arguments)}function sk(){return sk=M(function*(n,t,e){const i=se(n),r=[],s=[],o=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=cI.Qi(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.Va.a_(r),yield(a=M(function*(c,u){const d=se(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>S.forEach(u,f=>S.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>S.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ha(h))throw h;B("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),g=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,g)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,s))}),sk.apply(this,arguments)}function Zve(n,t){return ok.apply(this,arguments)}function ok(){return ok=M(function*(n,t){const e=se(n);if(!e.currentUser.isEqual(t)){B("SyncEngine","User change. New user:",t.toKey());const i=yield Lz(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new H(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Qo(e,i._s)}var s}),ok.apply(this,arguments)}function Jve(n,t){const e=se(n),i=e.ya.get(t);if(i&&i.Ra)return Ke().add(i.key);{let r=Ke();const s=e.fa.get(t);if(!s)return r;for(const o of s){const a=e.ma.get(o);r=r.unionWith(a.view.ua)}return r}}class P0{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return M(function*(){e.serializer=_g(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function Oz(n,t,e,i){return new uve(n,t,e,i)}(this.persistence,new Pz,t.initialUser,this.serializer)}createPersistence(t){return new sI(w0.jr,this.serializer)}createSharedClientState(t){return new zz}terminate(){var t=this;return M(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Hd{initialize(t,e){var i=this;return M(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>aj(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Zve.bind(null,i.syncEngine),yield function LI(n,t){return FI.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Lve}createDatastore(t){const e=_g(t.databaseInfo.databaseId),i=new yve(t.databaseInfo);return new xve(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>aj(this.syncEngine,e,0),a=jz.D()?new jz:new mve,new Sve(i,r,s,o,a);var i,r,s,o,a}createSyncEngine(t,e){return function(r,s,o,a,l,c,u){const d=new Gve(r,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return function(){var t=M(function*(i){const r=se(i);B("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Nd(r),r.F_.shutdown(),r.M_.set("Unknown")});return function e(i){return t.apply(this,arguments)}}()(this.remoteStore)}}class O0{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Mn("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class hye{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ui.UNAUTHENTICATED,this.clientId=OG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=M(function*(a){B("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return M(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(M(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ld(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function L0(n,t){return mk.apply(this,arguments)}function mk(){return mk=M(function*(n,t){n.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=M(function*(s){i.isEqual(s)||(yield Lz(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),mk.apply(this,arguments)}function _k(n,t){return vk.apply(this,arguments)}function vk(){return vk=M(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function yk(n){return bk.apply(this,arguments)}(n);B("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>Jz(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Jz(t.remoteStore,s)),n._onlineComponents=t}),vk.apply(this,arguments)}function bk(){return bk=M(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield L0(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function pj(n){return"FirebaseError"===n.name?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;Fr("Error using user provided cache. Falling back to memory cache: "+e),yield L0(n,new P0)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield L0(n,new P0);return n._offlineComponents}),bk.apply(this,arguments)}function F0(n){return Tk.apply(this,arguments)}function Tk(){return Tk=M(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield _k(n,n._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield _k(n,new Hd))),n._onlineComponents}),Tk.apply(this,arguments)}function Ck(){return Ck=M(function*(n){const t=yield F0(n),e=t.eventManager;return e.onListen=zve.bind(null,t.syncEngine),e.onUnlisten=jve.bind(null,t.syncEngine),e}),Ck.apply(this,arguments)}function yj(n,t,e={}){const i=new Jn;return n.asyncQueue.enqueueAndForget(M(function*(){return function(s,o,a,l,c){const u=new O0({next:h=>{o.enqueueAndForget(()=>function $I(n,t){return UI.apply(this,arguments)}(s,d)),h.fromCache&&"server"===l.source?c.reject(new H(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new zI(a,u,{includeMetadataChanges:!0,J_:!0});return function BI(n,t){return HI.apply(this,arguments)}(s,d)}(yield function Ud(n){return Ck.apply(this,arguments)}(n),n.asyncQueue,t,e,i)})),i.promise}function bj(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const Tj=new Map;function wk(n,t,e){if(!e)throw new H(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function xj(n){if(!oe.isDocumentKey(n))throw new H(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cj(n){if(oe.isDocumentKey(n))throw new H(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":fe()}function st(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new H(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=V0(n);throw new H(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class Sj{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new H(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new H(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function Cye(n,t,e,i){if(!0===t&&!0===i)throw new H(N.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=bj(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bg{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new H(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sj(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new yme;switch(i.type){case"firstParty":return new Cme(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Tj.get(e);i&&(B("ComponentProvider","Removing Datastore"),Tj.delete(e),i.terminate())}(this),Promise.resolve()}}class ki{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ki(this.firestore,t,this._query)}}class Nn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Nn(this.firestore,t,this._key)}}class oo extends ki{constructor(t,e,i){super(t,e,vd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Nn(this.firestore,null,new oe(t))}withConverter(t){return new oo(this.firestore,t,this._path)}}function Sye(n,t,...e){if(n=Vo(n),wk("collection","path",t),n instanceof bg){const i=pt.fromString(t,...e);return Cj(i),new oo(n,null,i)}{if(!(n instanceof Nn||n instanceof oo))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(t,...e));return Cj(i),new oo(n.firestore,null,i)}}class Dye{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new yI(this,"async_queue_retry"),this.iu=()=>{const e=M0();e&&B("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=M0();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=M0();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new Jn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return M(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!Ha(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,Mn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=VI.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&fe()}verifyOperationInProgress(){}uu(){var t=this;return M(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}class Yt extends bg{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Dye,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Dj(this),this._firestoreClient.terminate()}}function Iye(n,t){const i="string"==typeof n?n:t||"(default)",r=function XH(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}("object"==typeof n?n:ZH(),"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(n=>{const t=(n=>{var t,e;return null===(e=null===(t=ry())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]})(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),i]:[t.substring(0,e),i]})("firestore");s&&function wye(n,t,e,i={}){var r;const s=(n=st(n,bg))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=ui.MOCK_USER;else{a=function Hue(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ny(JSON.stringify({alg:"none",type:"JWT"})),ny(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new H(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ui(c)}n._authCredentials=new bme(new NG(a,l))}}(r,...s)}return r}function Pn(n){return n._firestoreClient||Dj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Dj(n){var t,e,i;const r=n._freezeSettings(),s=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Jme(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,bj(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new hye(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class pc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new pc(ei.fromBase64String(t))}catch(e){throw new H(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new pc(ei.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Gd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new H(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class kj{constructor(t){this._methodName=t}}class Ek{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new H(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new H(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Oe(this._lat,t._lat)||Oe(this._long,t._long)}}const Mye=/^__.*__$/;class Rye{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Ko(t,this.data,this.fieldMask,e,this.fieldTransforms):new Cd(t,this.data,e,this.fieldTransforms)}}function Rj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class B0{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new B0(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return $0(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(Rj(this.Iu)&&Mye.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class Nye{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||_g(t)}pu(t,e,i,r=!1){return new B0({Iu:t,methodName:e,gu:i,path:on.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zd(n){const t=n._freezeSettings(),e=_g(n._databaseId);return new Nye(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Dk(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);Ik("Data must be an object, but it was:",o,i);const a=Fj(i,o);let l,c;if(s.merge)l=new _r(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Cg(t,d,e);if(!o.contains(h))throw new H(N.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Bj(u,h)||u.push(h)}l=new _r(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Rye(new Ii(a),l,c)}function gc(n,t){if(Vj(n=Vo(n)))return Ik("Unsupported field value:",t,n),Fj(n,t);if(n instanceof kj)return function(i,r){if(!Rj(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=gc(a,r.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=Vo(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return D4(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=_n.fromDate(i);return{timestampValue:Sd(r.serializer,s)}}if(i instanceof _n){const s=new _n(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sd(r.serializer,s)}}if(i instanceof Ek)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pc)return{bytesValue:Y4(r.serializer,i._byteString)};if(i instanceof Nn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qA(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${V0(i)}`)}(n,t)}function Fj(n,t){const e={};return KG(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$a(n,(i,r)=>{const s=gc(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function Vj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _n||n instanceof Ek||n instanceof pc||n instanceof Nn||n instanceof kj)}function Ik(n,t,e){if(!Vj(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=V0(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Cg(n,t,e){if((t=Vo(t))instanceof Gd)return t._internalPath;if("string"==typeof t)return H0(n,t);throw $0("Field path arguments must be of type string or ",n,!1,void 0,e)}const Fye=new RegExp("[~\\*/\\[\\]]");function H0(n,t,e){if(t.search(Fye)>=0)throw $0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Gd(...t.split("."))._internalPath}catch{throw $0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function $0(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new H(N.INVALID_ARGUMENT,a+n+l)}function Bj(n,t){return n.some(e=>e.isEqual(t))}class kk{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Vye(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(U0("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Vye extends kk{data(){return super.data()}}function U0(n,t){return"string"==typeof t?H0(n,t):t instanceof Gd?t._internalPath:t._delegate._internalPath}class Hye{convertValue(t,e="none"){switch(za(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Cn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Wo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw fe()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return $a(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new Ek(Cn(t.latitude),Cn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=s0(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Wp(t));default:return null}}convertTimestamp(t){const e=Ua(t);return new _n(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=pt.fromString(t);_e(rz(i));const r=new nc(i.get(1),i.get(3)),s=new oe(i.popFirst(5));return r.isEqual(e)||Mn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}class mc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wd extends kk{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new W0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(U0("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class W0 extends Wd{data(t={}){return super.data(t)}}class qd{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new mc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new W0(this._firestore,this._userDataWriter,i.key,i,new mc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new H(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new W0(r._firestore,r._userDataWriter,a.doc.key,a.doc,new mc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new W0(r._firestore,r._userDataWriter,a.doc.key,a.doc,new mc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Uye(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Uye(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}class Ja extends Hye{constructor(t){super(),this.firestore=t}convertBytes(t){return new pc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Nn(this.firestore,null,e)}}function Gye(n){n=st(n,ki);const t=st(n.firestore,Yt),e=Pn(t),i=new Ja(t);return function Hj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new H(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),yj(e,n._query).then(r=>new qd(t,i,n,r))}function zye(n,t){const e=st(n.firestore,Yt),i=function Eye(n,t,...e){if(n=Vo(n),1===arguments.length&&(t=OG.newId()),wk("doc","path",t),n instanceof bg){const i=pt.fromString(t,...e);return xj(i),new Nn(n,null,new oe(i))}{if(!(n instanceof Nn||n instanceof oo))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(t,...e));return xj(i),new Nn(n.firestore,n instanceof oo?n.converter:null,new oe(i))}}(n),r=function Rk(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}(n.converter,t);return function Sg(n,t){return function(i,r){const s=new Jn;return i.asyncQueue.enqueueAndForget(M(function*(){return function Wve(n,t,e){return KI.apply(this,arguments)}(yield function xk(n){return F0(n).then(t=>t.syncEngine)}(i),r,s)})),s.promise}(Pn(n),t)}(e,[Dk(zd(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,an.exists(!1))]).then(()=>i)}!function(t,e=!0){ud=ly,Qu(new Hl("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Yt(new Tme(i.getProvider("auth-internal")),new wme(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),is(RG,"4.4.0",t),is(RG,"4.4.0","esm2017")}();class ao{constructor(t){return t}}const Kj="firestore",Ok=new q("angularfire2.firestore-instances");function s0e(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new ao(i)}}const o0e={provide:class i0e{constructor(){return SS(Kj)}},deps:[[new Zr,Ok]]},a0e={provide:ao,useFactory:function r0e(n,t){const e=function o$(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(o=>o.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}(Kj,n,t);return e&&new ao(e)},deps:[[new Zr,Ok],lp]};let l0e=(()=>{class n{constructor(){is("angularfire",wS.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xe({type:n});static \u0275inj=be({providers:[a0e,o0e]})}return n})();function c0e(n,...t){return{ngModule:l0e,providers:[{provide:Ok,useFactory:s0e(n),multi:!0,deps:[Ae,pn,l$,c$,[new Zr,pU],[new Zr,ghe],...t]}]}}const _c=ap(zye,!0),yr=ap(Sye,!0),vc=ap(Gye,!0),u0e=ap(Iye,!0);class K0{}class X0{}class lo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof lo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new lo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof lo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class d0e{encodeKey(t){return Xj(t)}encodeValue(t){return Xj(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const f0e=/%(\d[a-f0-9])/gi,p0e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xj(n){return encodeURIComponent(n).replace(f0e,(t,e)=>p0e[e]??t)}function Q0(n){return`${n}`}class el{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new d0e,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function h0e(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Q0):[Q0(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new el({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Q0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Q0(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class g0e{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Qj(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Zj(n){return typeof Blob<"u"&&n instanceof Blob}function Jj(n){return typeof FormData<"u"&&n instanceof FormData}class Eg{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function m0e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new lo),this.context||(this.context=new g0e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new el,this.urlWithParams=e}serializeBody(){return null===this.body?null:Qj(this.body)||Zj(this.body)||Jj(this.body)||function _0e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof el?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Jj(this.body)?null:Zj(this.body)?this.body.type||null:Qj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof el?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new Eg(e,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var Yd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Yd||{});class Lk{constructor(t,e=200,i="OK"){this.headers=t.headers||new lo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Fk extends Lk{constructor(t={}){super(t),this.type=Yd.ResponseHeader}clone(t={}){return new Fk({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Kd extends Lk{constructor(t={}){super(t),this.type=Yd.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Kd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class e5 extends Lk{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Vk(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Zo=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Eg)s=e;else{let l,c;l=r.headers instanceof lo?r.headers:new lo(r.headers),r.params&&(c=r.params instanceof el?r.params:new el({fromObject:r.params})),s=new Eg(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Se(s).pipe($u(l=>this.handler.handle(l)));if(e instanceof Eg||"events"===r.observe)return o;const a=o.pipe(wi(l=>l instanceof Kd));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ze(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ze(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ze(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ze(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new el).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Vk(r,i))}post(e,i,r={}){return this.request("POST",e,Vk(r,i))}put(e,i,r={}){return this.request("PUT",e,Vk(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(L(K0))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function i5(n,t){return t(n)}function y0e(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const T0e=new q(""),Dg=new q(""),r5=new q("");function x0e(){let n=null;return(t,e)=>{null===n&&(n=(te(T0e,{optional:!0})??[]).reduceRight(y0e,i5));const i=te(nv),r=i.add();return n(t,e).pipe(Uf(()=>i.remove(r)))}}let s5=(()=>{class n extends K0{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=te(nv)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Dg),...this.injector.get(r5,[])]));this.chain=r.reduceRight((s,o)=>function b0e(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),i5)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Uf(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(L(X0),L(hr))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const E0e=/^\)\]\}',?\n/;let a5=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new P(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?qn(i.\u0275loadImpl()):Se(null)).pipe(or(()=>new ct(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((m,g)=>o.setRequestHeader(m,g.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const m=e.detectContentTypeHeader();null!==m&&o.setRequestHeader("Content-Type",m)}if(e.responseType){const m=e.responseType.toLowerCase();o.responseType="json"!==m?m:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const m=o.statusText||"OK",g=new lo(o.getAllResponseHeaders()),v=function D0e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new Fk({headers:g,status:o.status,statusText:m,url:v}),l},u=()=>{let{headers:m,status:g,statusText:v,url:_}=c(),b=null;204!==g&&(b=typeof o.response>"u"?o.responseText:o.response),0===g&&(g=b?200:0);let x=g>=200&&g<300;if("json"===e.responseType&&"string"==typeof b){const D=b;b=b.replace(E0e,"");try{b=""!==b?JSON.parse(b):null}catch(k){b=D,x&&(x=!1,b={error:k,text:b})}}x?(s.next(new Kd({body:b,headers:m,status:g,statusText:v,url:_||void 0})),s.complete()):s.error(new e5({error:b,headers:m,status:g,statusText:v,url:_||void 0}))},d=m=>{const{url:g}=c(),v=new e5({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:g||void 0});s.error(v)};let h=!1;const f=m=>{h||(s.next(c()),h=!0);let g={type:Yd.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),"text"===e.responseType&&o.responseText&&(g.partialText=o.responseText),s.next(g)},p=m=>{let g={type:Yd.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:Yd.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(L(yB))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();const Bk=new q("XSRF_ENABLED"),l5=new q("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),c5=new q("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class u5{}let k0e=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=uB(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(L(Tt),L(oi),L(l5))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function M0e(n,t){const e=n.url.toLowerCase();if(!te(Bk)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=te(u5).getToken(),r=te(c5);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var tl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(tl||{});function R0e(...n){const t=[Zo,a5,s5,{provide:K0,useExisting:s5},{provide:X0,useExisting:a5},{provide:Dg,useValue:M0e,multi:!0},{provide:Bk,useValue:!0},{provide:u5,useClass:k0e}];for(const e of n)t.push(...e.\u0275providers);return function nC(n){return{\u0275providers:n}}(t)}const d5=new q("LEGACY_INTERCEPTOR_FN");function N0e(){return function yc(n,t){return{\u0275kind:n,\u0275providers:t}}(tl.LegacyInterceptors,[{provide:d5,useFactory:x0e},{provide:Dg,useExisting:d5,multi:!0}])}let P0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({providers:[R0e(N0e())]})}return n})(),J0=(()=>{class n{constructor(e){this.http=e,this.firestore=te(ao)}getMusic(){var e=this;return M(function*(){const i=yr(e.firestore,"music");return(yield vc(i)).docs.map(s=>s.data())})()}createMusic(e){var i=this;return M(function*(){const r=yr(i.firestore,"music");_c(r,{name:e.name,date:e.date,score:e.score,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(Zo))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eb=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/movies.xml",this.firestore=te(ao)}getMovies(){var e=this;return M(function*(){const i=yr(e.firestore,"movies");return(yield vc(i)).docs.map(s=>s.data())})()}createMovies(e){var i=this;return M(function*(){const r=yr(i.firestore,"movies");_c(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(Zo))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tb=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/libros.xml",this.firestore=te(ao)}getBook(){var e=this;return M(function*(){const i=yr(e.firestore,"books");return(yield vc(i)).docs.map(s=>s.data())})()}createBook(e){var i=this;return M(function*(){const r=yr(i.firestore,"books");_c(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(Zo))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nb=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml",this.firestore=te(ao)}getGames(){var e=this;return M(function*(){const i=yr(e.firestore,"games");return(yield vc(i)).docs.map(s=>s.data())})()}createGames(e){var i=this;return M(function*(){const r=yr(i.firestore,"games");_c(r,{name:e.name,date:e.date,score:e.score,type:null,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(Zo))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ib=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/series.xml",this.firestore=te(ao)}getSeries(){var e=this;return M(function*(){const i=yr(e.firestore,"series");return(yield vc(i)).docs.map(s=>s.data())})()}createSeries(e){var i=this;return M(function*(){const r=yr(i.firestore,"series");_c(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(Zo))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rb=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/animes.xml",this.firestore=te(ao)}getAnimes(){var e=this;return M(function*(){const i=yr(e.firestore,"animes");return(yield vc(i)).docs.map(s=>s.data())})()}createAnimes(e){var i=this;return M(function*(){const r=yr(i.firestore,"animes");_c(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(Zo))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ag=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),h5=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(bi),y($e))};static#t=this.\u0275dir=Q({type:n})}return n})(),bc=(()=>{class n extends h5{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static#t=this.\u0275dir=Q({type:n,features:[ht]})}return n})();const os=new q("NgValueAccessor"),U0e={provide:os,useExisting:_t(()=>Ig),multi:!0},z0e=new q("CompositionEventMode");let Ig=(()=>{class n extends h5{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function G0e(){const n=Sa()?Sa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(bi),y($e),y(z0e,8))};static#t=this.\u0275dir=Q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&K("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ft([U0e]),ht]})}return n})();const Ui=new q("NgValidators"),il=new q("NgAsyncValidators");function _5(n){return function nl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function sb(n){return null}function C5(n){return null!=n}function w5(n){return vf(n)?qn(n):n}function S5(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function E5(n,t){return t.map(e=>e(n))}function D5(n){return n.map(t=>function W0e(n){return!n.validate}(t)?t:e=>t.validate(e))}function Hk(n){return null!=n?function A5(n){if(!n)return null;const t=n.filter(C5);return 0==t.length?null:function(e){return S5(E5(e,t))}}(D5(n)):null}function $k(n){return null!=n?function I5(n){if(!n)return null;const t=n.filter(C5);return 0==t.length?null:function(e){return function H0e(...n){const t=Mm(n),{args:e,keys:i}=S3(n),r=new ct(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Vn(e[u]).subscribe(It(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?E3(i,a):a),s.complete())}))}});return t?r.pipe(L1(t)):r}(E5(e,t).map(w5)).pipe(ze(S5))}}(D5(n)):null}function k5(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Uk(n){return n?Array.isArray(n)?n:[n]:[]}function ob(n,t){return Array.isArray(n)?n.includes(t):n===t}function N5(n,t){const e=Uk(t);return Uk(n).forEach(r=>{ob(e,r)||e.push(r)}),e}function P5(n,t){return Uk(t).filter(e=>!ob(n,e))}class O5{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Hk(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=$k(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ir extends O5{get formDirective(){return null}get path(){return null}}class rl extends O5{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class L5{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gk=(()=>{class n extends L5{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(rl,2))};static#t=this.\u0275dir=Q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&bt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ht]})}return n})(),F5=(()=>{class n extends L5{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(ir,10))};static#t=this.\u0275dir=Q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&bt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ht]})}return n})();const kg="VALID",lb="INVALID",Xd="PENDING",Mg="DISABLED";function Wk(n){return(cb(n)?n.validators:n)||null}function qk(n,t){return(cb(t)?t.asyncValidators:n)||null}function cb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class $5{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===kg}get invalid(){return this.status===lb}get pending(){return this.status==Xd}get disabled(){return this.status===Mg}get enabled(){return this.status!==Mg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(N5(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(N5(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(P5(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(P5(t,this._rawAsyncValidators))}hasValidator(t){return ob(this._rawValidators,t)}hasAsyncValidator(t){return ob(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Mg,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=kg,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kg||this.status===Xd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mg:kg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xd,this._hasOwnPendingAsyncValidator=!0;const e=w5(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new W,this.statusChanges=new W}_calculateStatus(){return this._allControlsDisabled()?Mg:this.errors?lb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xd)?Xd:this._anyControlsHaveStatus(lb)?lb:kg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function X0e(n){return Array.isArray(n)?Hk(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Q0e(n){return Array.isArray(n)?$k(n):n||null}(this._rawAsyncValidators)}}class Yk extends $5{constructor(t,e,i){super(Wk(e),qk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function H5(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new P(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function B5(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new P(1e3,"");if(!i[e])throw new P(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Qd=new q("CallSetDisabledState",{providedIn:"root",factory:()=>ub}),ub="always";function Rg(n,t,e=ub){Kk(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function ebe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&U5(n,t)})}(n,t),function nbe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function tbe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&U5(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function J0e(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function fb(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Kk(n,t){const e=function M5(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(k5(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function R5(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(k5(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();fb(t._rawValidators,r),fb(t._rawAsyncValidators,r)}function U5(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const abe={provide:ir,useExisting:_t(()=>gb)},Ng=(()=>Promise.resolve())();let gb=(()=>{class n extends ir{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new W,this.form=new Yk({},Hk(e),$k(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ng.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Rg(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ng.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ng.then(()=>{const i=this._findContainer(e.path),r=new Yk({});(function G5(n,t){Kk(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ng.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Ng.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function z5(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ui,10),y(il,10),y(Qd,8))};static#t=this.\u0275dir=Q({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&K("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ft([abe]),ht]})}return n})();function j5(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function W5(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const q5=class extends $5{constructor(t=null,e,i){super(Wk(e),qk(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cb(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=W5(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){j5(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){j5(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){W5(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},ube={provide:rl,useExisting:_t(()=>mb)},X5=(()=>Promise.resolve())();let mb=(()=>{class n extends rl{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new q5,this._registered=!1,this.name="",this.update=new W,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Zk(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Ig?e=s:function sbe(n){return Object.getPrototypeOf(n.constructor)===bc}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Qk(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){X5.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&xi(i);X5.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function db(n,t){return[...t.path,n]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(y(ir,9),y(Ui,10),y(il,10),y(os,10),y(ai,8),y(Qd,8))};static#t=this.\u0275dir=Q({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ft([ube]),ht,At]})}return n})(),Q5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),J5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({})}return n})();const bbe={provide:os,useExisting:_t(()=>_b),multi:!0};function oW(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let _b=(()=>{class n extends bc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=oW(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Tbe(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static#t=this.\u0275dir=Q({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&K("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ft([bbe]),ht]})}return n})(),vb=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(oW(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(y($e),y(bi),y(_b,9))};static#t=this.\u0275dir=Q({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const xbe={provide:os,useExisting:_t(()=>nM),multi:!0};function aW(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let nM=(()=>{class n extends bc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);r.push(c)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Cbe(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static#t=this.\u0275dir=Q({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&K("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ft([xbe]),ht]})}return n})(),yb=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(aW(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(aW(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(y($e),y(bi),y(nM,9))};static#t=this.\u0275dir=Q({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),Tc=(()=>{class n{constructor(){this._validator=sb}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):sb,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Q({type:n,features:[At]})}return n})();const Ebe={provide:Ui,useExisting:_t(()=>bb),multi:!0};let bb=(()=>{class n extends Tc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xi,this.createValidator=e=>_5}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static#t=this.\u0275dir=Q({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&Te("required",r._enabled?"":null)},inputs:{required:"required"},features:[ft([Ebe]),ht]})}return n})(),Rbe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({imports:[J5]})}return n})(),iM=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Qd,useValue:e.callSetDisabledState??ub}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({imports:[Rbe]})}return n})(),rM=(()=>{class n{constructor(e,i){this.router=e,this.dataService=i,this.anioActual=""}ngOnInit(){this.anioActual=(new Date).getFullYear()+""}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}navegarCreate(){this.router.navigate(["/Create"])}navegarTier(){this.router.navigate(["/Tier"])}navegarLibrary(){this.router.navigate(["/library"])}toggleMobileMenu(){const e=document.getElementById("menu");e.style.display="block"===e.style.display?"none":"block"}static#e=this.\u0275fac=function(i){return new(i||n)(y(Si),y(Ag))};static#t=this.\u0275cmp=Pe({type:n,selectors:[["app-sidebar"]],decls:38,vars:0,consts:[[1,"menu","px-4"],[1,"row","gx-5"],[1,"column","col-lg-12",2,"background-color","#121212"],[1,"top","col-lg-12",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"link",3,"click"],[1,"uil","uil-subject"],[1,"columnDesc","col-lg-12",2,"background-color","#121212"],[2,"margin-top","2%","margin-bottom","5%"],[1,"uil","uil-clapper-board"],[1,"uil","uil-video"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),ie(5,"img",5),C()(),T(6,"div",6),K("click",function(){return r.navegarAComponenteDestino("Peliculas")}),T(7,"h5"),ie(8,"i",7),ee(9," Biblioteca"),C()(),T(10,"div",6),K("click",function(){return r.navegarTier()}),T(11,"h5"),ie(12,"i",7),ee(13," Tier"),C()()(),T(14,"div",8)(15,"div",9)(16,"h4"),ee(17,"Descubrir:"),C()(),T(18,"div",6),K("click",function(){return r.navegarAComponenteDestino("Peliculas")}),T(19,"h5"),ie(20,"i",10),ee(21," Peliculas"),C()(),T(22,"div",6),K("click",function(){return r.navegarAComponenteDestino("Series")}),T(23,"h5"),ie(24,"i",11),ee(25," Series"),C()(),T(26,"div",6),K("click",function(){return r.navegarAComponenteDestino("Animes")}),T(27,"h5"),ie(28,"i",7),ee(29," Anime"),C()(),T(30,"div",6),K("click",function(){return r.navegarAComponenteDestino("Juegos")}),T(31,"h5"),ie(32,"i",7),ee(33," Juegos"),C()(),T(34,"div",6),K("click",function(){return r.navegarAComponenteDestino("Libros")}),T(35,"h5"),ie(36,"i",7),ee(37," Libros"),C()()()()())},styles:[".column[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px}.columnDesc[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px;height:calc(84vh - 60px)}.imgTitle[_ngcontent-%COMP%]{width:140px;height:90px;margin-left:2%;margin-top:2%}.link[_ngcontent-%COMP%]{margin-bottom:5%;cursor:pointer}"]})}return n})();function Pbe(n,t){if(1&n&&(T(0,"option",22),ee(1),C()),2&n){const e=t.$implicit;R("value",e),I(1),Li(e)}}function Obe(n,t){if(1&n&&(T(0,"option",23),ee(1),C()),2&n){const e=t.$implicit,i=J();R("value",e)("selected",e===i.opAnios[0]),I(1),Li(e)}}function Lbe(n,t){if(1&n&&(T(0,"option",22),ee(1),C()),2&n){const e=t.$implicit;R("value",e),I(1),Li(e)}}function Fbe(n,t){1&n&&(T(0,"span",34),ee(1,"\u2605"),C()),2&n&&bt("filled",t.$implicit<=J().$implicit.score)}const Vbe=function(){return[1,2,3,4,5]};function Bbe(n,t){if(1&n&&(T(0,"div",24)(1,"div",20)(2,"div",25),ie(3,"img",26),C(),T(4,"div",27)(5,"h5",28),ee(6),C(),T(7,"p"),ee(8),C(),T(9,"div",29)(10,"div",30)(11,"p",31),ee(12),C()()()(),T(13,"div",32),U(14,Fbe,2,2,"span",33),C()()()),2&n){const e=t.$implicit,i=J();Qn("border-color",i.getColor(e.score)),I(3),R("src",e.image,$s),I(3),Zn(" ",e.name,""),I(2),Zn(" ",e.date,""),I(3),Qn("background-color",i.getColorByType(e.type)),I(1),Zn(" ",e.type,""),I(2),R("ngForOf",function P2(n,t,e){const i=Ki()+n,r=F();return r[i]===Ue?Gs(r,i,e?t.call(e):t()):function hf(n,t){return n[t]}(r,i)}(9,Vbe))}}const Hbe=function(n,t){return{"uil-sort-amount-up":n,"uil-sort-amount-down":t}};let $be=(()=>{class n{constructor(e,i,r,s,o,a,l,c){this.musicService=e,this.movieService=i,this.libroService=r,this.gameService=s,this.seriesService=o,this.animeService=a,this.router=l,this.dataService=c,this.data=[],this.resultFilter=[],this.movies=[],this.animes=[],this.message="",this.opTipos=[],this.opAnios=[],this.opCalificacion=[],this.resultCount=0,this.selectedCategory="Todos",this.selectedYear=this.opAnios[0],this.selectedScore="Todos",this.currentSortOrder="desc",this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","lightblue","lightGreen","yellow","Pink","White","lightYellow","green","Purple"]],this.opAnios=["2024","2023","2022","2021","2020","2019"],this.opCalificacion=["0","1","2","3","4","5"]}ngOnInit(){this.dataService.typeData||this.router.navigate(["/"]),this.router.events.subscribe(e=>{this.message=this.dataService.typeData,this.loadData()}),this.selectedYear=this.opAnios[0]}loadData(){var e=this;return M(function*(){"Peliculas"===e.message?e.data=yield e.loadDataForType(e.movieService.getMovies()):"Series"===e.message?e.data=yield e.loadDataForType(e.seriesService.getSeries()):"Animes"===e.message?e.data=yield e.loadDataForType(e.animeService.getAnimes()):"Juegos"===e.message?e.data=yield e.loadDataForType(e.gameService.getGames()):"Libros"===e.message?e.data=yield e.loadDataForType(e.libroService.getBook()):"Musica"===e.message&&(e.data=yield e.loadDataForType(e.musicService.getMusic())),e.resultFilter=e.sortData(e.data),console.log(e.resultFilter[0].date),e.resultFilter.forEach(i=>{i.image="data:image/jpg;base64,"+i.image}),e.resultCount=e.resultFilter.length,e.applyFilters()})()}loadDataForType(e){var i=this;return M(function*(){return(yield e).map(s=>(s.date=i.convertDate(s.date),s))})()}convertDate(e){var r=e.toString().toLowerCase().split("-");return parseInt(r[2],10),r[2]+"-"+r[1]+"-"+r[0]}sortData(e){return e.sort((i,r)=>{const[s,o,a]=i.date.split("-").map(Number),[l,c,u]=r.date.split("-").map(Number);return u!==a?u-a:c!==o?c-o:l-s})}getColorByType(e){const i=this.opTipos[0].indexOf(e);return-1!==i?this.opTipos[1][i]:"greenyellow"}convert(e){var r=e.toString().toLowerCase().split("/");return parseInt(r[2],10)}applyFilters(){this.resultFilter=this.data.filter(e=>"Todos"===this.selectedCategory||e.type===this.selectedCategory).filter(e=>this.convertYear(e)).filter(e=>"Todos"===this.selectedScore||e.score===this.selectedScore),this.resultCount=this.resultFilter.length}convertYear(e){const r=e.date.toString().toLowerCase().split("-");return parseInt(r[2],10)+""===this.selectedYear}filterType(e){this.selectedCategory=e.target.value,this.applyFilters()}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}filterScore(e){this.selectedScore=e.target.value,this.applyFilters()}sortDataByScore(){this.resultFilter=this.resultFilter.sort((e,i)=>{const r=e.score,s=i.score;return"asc"===this.currentSortOrder?r-s:s-r}),this.currentSortOrder="asc"===this.currentSortOrder?"desc":"asc"}getColor(e){return 5==e?"gold":"#ded8cf"}static#e=this.\u0275fac=function(i){return new(i||n)(y(J0),y(eb),y(tb),y(nb),y(ib),y(rb),y(Si),y(Ag))};static#t=this.\u0275cmp=Pe({type:n,selectors:[["app-workplace"]],decls:35,vars:10,consts:[[1,"menu","px-4","text-center"],[1,"row","gx-3"],[1,"column","col-lg-3"],[1,"column","col-lg-9"],[1,"body"],[1,"d-flex","flex-wrap"],[1,"list",2,"display","flex","flex-wrap","wrap"],[2,"margin-left","2%","margin-top","3%"],[1,"row","filter","col-lg-12","col-12",2,"margin-top","3%","margin-bottom","3%"],[1,"col-lg-2"],[1,"col-lg-10",2,"text-align","end"],["id","opTipos",3,"change"],["disabled","","selected","",2,"display","none"],[3,"value",4,"ngFor","ngForOf"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","opCalificacion",3,"change"],[3,"click"],[1,"uil",3,"ngClass"],[1,"container"],[1,"row"],["class","card col-lg-3","style","margin-bottom: 3%; margin-left: 4%; margin-right: 4%;",3,"border-color",4,"ngFor","ngForOf"],[3,"value"],[3,"value","selected"],[1,"card","col-lg-3",2,"margin-bottom","3%","margin-left","4%","margin-right","4%"],[1,"left","col-lg-4","col-3",2,"text-align","center","margin","1%"],["alt","#",1,"imagen",3,"src"],[1,"right","col-lg-6","col-6",2,"margin","1%"],[2,"font-size","1.1rem"],[1,"row",2,"margin-top","10%"],[1,"type","col-lg-12","col-12"],[1,"etiqueta"],[1,"score","col-lg-1","col-2"],["class","star",3,"filled",4,"ngFor","ngForOf"],[1,"star"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"div",2),ie(3,"app-sidebar"),C(),T(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h1"),ee(10),C()(),T(11,"div",8)(12,"div",9)(13,"p"),ee(14),C()(),T(15,"div",10)(16,"select",11),K("change",function(o){return r.filterType(o)}),T(17,"option",12),ee(18,"Categoria"),C(),T(19,"option"),ee(20,"Todos"),C(),U(21,Pbe,2,2,"option",13),C(),T(22,"select",14),K("change",function(o){return r.filterYear(o)}),U(23,Obe,2,3,"option",15),C(),T(24,"select",16),K("change",function(o){return r.filterScore(o)}),T(25,"option",12),ee(26,"Calificacion"),C(),T(27,"option"),ee(28,"Todos"),C(),U(29,Lbe,2,2,"option",13),C(),T(30,"button",17),K("click",function(){return r.sortDataByScore()}),ie(31,"i",18),C()()(),T(32,"div",19)(33,"div",20),U(34,Bbe,15,10,"div",21),C()()()()()()()()),2&i&&(I(10),Zn("Lista de ",r.message,""),I(4),Zn("Total: ",r.resultCount,""),I(7),R("ngForOf",r.opTipos[0]),I(2),R("ngForOf",r.opAnios),I(6),R("ngForOf",r.opCalificacion),I(2),R("ngClass",Al(7,Hbe,"asc"===r.currentSortOrder,"desc"===r.currentSortOrder)),I(3),R("ngForOf",r.resultFilter))},dependencies:[qw,Ci,vb,yb,rM],styles:['.list[_ngcontent-%COMP%]{max-height:calc(105vh - 60px);overflow-y:auto;width:100%}.card[_ngcontent-%COMP%]{background-color:#252525;color:var(--color-text);border-style:solid;border-color:var(--color-text);font-size:.8rem}.etiqueta[_ngcontent-%COMP%]{width:50%;background-color:#ff0;color:#000;box-shadow:0 0 29px #3c3c3c6b;border-radius:5px;font-family:"Hedvig Letters Serif",serif;text-align:center;text-decoration:none}.imagen[_ngcontent-%COMP%]{width:90%;height:130px}.star[_ngcontent-%COMP%]{font-size:18px;color:gray;cursor:pointer}.filled[_ngcontent-%COMP%]{color:gold}select[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}button[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}.body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px}.container[_ngcontent-%COMP%]{height:calc(78vh - 60px);overflow-y:auto;align-items:end}.container[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}@media (max-width:1000px){.card[_ngcontent-%COMP%]{width:100%}.imagen[_ngcontent-%COMP%]{width:100%;height:100px;margin:15%}.etiqueta[_ngcontent-%COMP%]{font-size:.8rem}select[_ngcontent-%COMP%]{font-size:1rem}}']})}return n})(),_W=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml",this.firestore=te(ao)}getReco(){var e=this;return M(function*(){const i=yr(e.firestore,"recomendacion");return(yield vc(i)).docs.map(s=>s.data())})()}createReco(e,i){var r=this;return M(function*(){const s=yr(r.firestore,"recomendacion");_c(s,{name:e,type:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(Zo))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ube=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u){this.router=e,this.dataService=i,this.recoService=r,this.musicService=s,this.movieService=o,this.libroService=a,this.gameService=l,this.seriesService=c,this.animeService=u,this.tipos=["Peliculas","Series","Animes","Juegos","Libros","Musica"],this.recomendaciones=[],this.single=[],this.single2=[],this.valor=0,this.dataMovie=[],this.years=[2023,2022],this.progress={2023:30,2022:70}}getProgressWidth(e){return(this.progress[e]||0)+"%"}ngOnInit(){var e=this;return M(function*(){e.single2=yield e.loadData(2022),e.single=yield e.loadData(2023),yield e.readReco()})()}loadData(e){var i=this;return M(function*(){var r=yield i.movieService.getMovies(),s=yield i.seriesService.getSeries(),o=yield i.animeService.getAnimes(),a=yield i.gameService.getGames(),l=yield i.libroService.getBook(),c=yield i.musicService.getMusic();return[{name:"Peliculas",value:i.cantidadPorAnio(r,e)},{name:"Series",value:i.cantidadPorAnio(s,e)},{name:"Animes",value:i.cantidadPorAnio(o,e)},{name:"Juegos",value:i.cantidadPorAnio(a,e)},{name:"Libros",value:i.cantidadPorAnio(l,e)},{name:"Musica",value:i.cantidadPorAnio(c,e)}]})()}cantidadPorAnio(e,i){return e.filter(s=>this.convert(s.date)===i).length}convert(e){var r=e.toString().toLowerCase().split("-");return parseInt(r[0],10)}filterByScore(e){const i=(new Date).getFullYear();return e.filter(r=>r.score>=5&&this.convert(r.date)==i)}filterByTipo(e,i){return e.filter(r=>r.type===i)}saveReco(){this.recoService.createReco(this.nameReco,this.tipo),this.readReco()}readReco(){var e=this;return M(function*(){e.recomendaciones=yield e.recoService.getReco()})()}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}navegarCreate(){this.router.navigate(["/Create"])}navegarTier(){this.router.navigate(["/Tier"])}navegarList(){this.router.navigate(["/ListNext"])}static#e=this.\u0275fac=function(i){return new(i||n)(y(Si),y(Ag),y(_W),y(J0),y(eb),y(tb),y(nb),y(ib),y(rb))};static#t=this.\u0275cmp=Pe({type:n,selectors:[["app-library"]],decls:61,vars:0,consts:[[1,"container"],[1,"body"],[1,"top","col-lg-12"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"menu","px-4","text-center"],[1,"row","gx-5"],[1,"col"],[1,"p-3","box",3,"click"],[1,"uil","uil-film"],[1,"uil","uil-video"],[1,"uil","uil-airplay"],[1,"uil","uil-basketball-hoop"],[1,"uil","uil-book-open"],[1,"uil","uil-volume"],[2,"margin-top","5%","margin-left","3%"],[1,"menu2","px-4","text-center"],[1,"uil","uil-subject"],[1,"uil","uil-chart-pie"],[1,"p-3","box"],[1,"uil","uil-create-dashboard"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),ie(4,"img",4),C()(),T(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),K("click",function(){return r.navegarAComponenteDestino("Peliculas")}),ie(9,"i",9),T(10,"h5"),ee(11,"Peliculas"),C()()(),T(12,"div",7)(13,"div",8),K("click",function(){return r.navegarAComponenteDestino("Series")}),ie(14,"i",10),T(15,"h5"),ee(16,"Series"),C()()(),T(17,"div",7)(18,"div",8),K("click",function(){return r.navegarAComponenteDestino("Animes")}),ie(19,"i",11),T(20,"h5"),ee(21,"Animes"),C()()(),T(22,"div",7)(23,"div",8),K("click",function(){return r.navegarAComponenteDestino("Juegos")}),ie(24,"i",12),T(25,"h5"),ee(26,"VideoJuegos"),C()()(),T(27,"div",7)(28,"div",8),K("click",function(){return r.navegarAComponenteDestino("Libros")}),ie(29,"i",13),T(30,"h5"),ee(31,"Libros"),C()()(),T(32,"div",7)(33,"div",8),K("click",function(){return r.navegarAComponenteDestino("Musica")}),ie(34,"i",14),T(35,"h5"),ee(36,"Musica"),C()()()()(),T(37,"div",15),ee(38," Otras ... "),C(),T(39,"div",16)(40,"div",6)(41,"div",7)(42,"div",8),K("click",function(){return r.navegarTier()}),ie(43,"i",17),T(44,"h5"),ee(45,"Tier"),C()()(),T(46,"div",7)(47,"div",8),K("click",function(){return r.navegarList()}),ie(48,"i",18),T(49,"h5"),ee(50,"Recomendaciones"),C()()(),T(51,"div",7)(52,"div",19),ie(53,"i",18),T(54,"h5"),ee(55,"Estadisticas"),C()()(),T(56,"div",7)(57,"div",8),K("click",function(){return r.navegarCreate()}),ie(58,"i",20),T(59,"h5"),ee(60,"Crear"),C()()()()()()())},styles:[".body[_ngcontent-%COMP%]{background-color:#1f1d3a;margin:5%;padding-bottom:10%;border-radius:5px}.top[_ngcontent-%COMP%]{padding-top:3%}.box[_ngcontent-%COMP%]{cursor:pointer;background-color:#373458;color:#fff;border-radius:5px;margin-top:10%}.box[_ngcontent-%COMP%]:hover{background-color:#504c81}i[_ngcontent-%COMP%]{font-size:50px}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}"]})}return n})();class Gbe{static getFormData(t){var e=new FormData;for(var i in t)e.append(i,t[i]);return e}static imageToByte(t){return new Promise((i,r)=>{const s=new FileReader;s.onload=o=>{i(o.target.result.split("base64,")[1])},s.readAsDataURL(t),s.onerror=r})}static byteToImage(t){return this._sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+t)}}function zbe(n,t){if(1&n&&(T(0,"option",19),ee(1),C()),2&n){const e=t.$implicit;R("value",e),I(1),Li(e)}}function jbe(n,t){if(1&n&&(T(0,"option",19),ee(1),C()),2&n){const e=t.$implicit;R("value",e),I(1),Li(e)}}function Wbe(n,t){if(1&n){const e=Hn();T(0,"div",7)(1,"div",8)(2,"div",9)(3,"label"),ee(4,"Tipo:"),C()(),T(5,"div",10)(6,"select",20),K("ngModelChange",function(r){return Ft(e),Vt(J().data.type=r)}),U(7,jbe,2,2,"option",15),C()()()()}if(2&n){const e=J();I(6),R("ngModel",e.data.type),I(1),R("ngForOf",e.opTipos[0])}}let qbe=(()=>{class n{constructor(e,i,r,s,o,a,l,c){this.router=e,this.dataService=i,this.musicService=r,this.libroService=s,this.juegosService=o,this.animeService=a,this.movieService=l,this.serieServicio=c,this.data={},this.opTipos=[],this.opCalificacion=[],this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","blue","green","yellow","Pink","White","lightYellow","lightblue","Purple"]],this.opCalificacion=["0","1","2","3","4","5"]}registrarFacilidad(){}obtenerImagen(e){Gbe.imageToByte(e.target.files[0]).then(s=>{this.data.image=s})}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}onSubmit(){console.log("EXIT "),"Peliculas"==this.tipo&&this.movieService.createMovies(this.data),"Series"==this.tipo&&this.serieServicio.createSeries(this.data),"Animes"==this.tipo&&this.animeService.createAnimes(this.data),"Juegos"==this.tipo&&this.juegosService.createGames(this.data),"Libros"==this.tipo&&this.libroService.createBook(this.data),"Musica"==this.tipo&&this.musicService.createMusic(this.data),this.navegarAComponenteDestino(this.tipo)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Si),y(Ag),y(J0),y(tb),y(nb),y(rb),y(eb),y(ib))};static#t=this.\u0275cmp=Pe({type:n,selectors:[["app-create"]],decls:44,vars:7,consts:[[1,"container","col-lg-12",2,"margin-top","5%"],[3,"ngSubmit"],["movieForm","ngForm"],[1,"container","col-lg-6"],[1,"top","col-lg-12",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"col-lg-12"],[1,"row"],[1,"col-lg-3"],[1,"col-lg-9"],["name","tipo","id","tipo",3,"ngModel","ngModelChange"],["type","text","id","name","name","name","placeholder","Name","required","",3,"ngModel","ngModelChange"],["type","date","id","date","name","date","required","",3,"ngModel","ngModelChange"],["id","score","name","score",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-lg-12",4,"ngIf"],["id","formFileLg","name","formFileLg","type","file","accept","image/png, .jpeg, .jpg, image/gif",3,"change"],["type","submit",3,"disabled"],[3,"value"],["id","type","name","type",3,"ngModel","ngModelChange"]],template:function(i,r){if(1&i&&(T(0,"div",0)(1,"form",1,2),K("ngSubmit",function(){return r.onSubmit()}),T(3,"div",3)(4,"div",4)(5,"a",5),ie(6,"img",6),C()(),T(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),ee(11,"Categoria:"),C()(),T(12,"div",10)(13,"select",11),K("ngModelChange",function(o){return r.tipo=o}),T(14,"option"),ee(15,"Peliculas"),C(),T(16,"option"),ee(17,"Series"),C(),T(18,"option"),ee(19,"Animes"),C(),T(20,"option"),ee(21,"Juegos"),C(),T(22,"option"),ee(23,"Libros"),C(),T(24,"option"),ee(25,"Musica"),C()()()()(),T(26,"div",7)(27,"input",12),K("ngModelChange",function(o){return r.data.name=o}),C()(),T(28,"div",7)(29,"input",13),K("ngModelChange",function(o){return r.data.date=o}),C()(),T(30,"div",7)(31,"div",8)(32,"div",9)(33,"label"),ee(34,"Calificacion:"),C()(),T(35,"div",10)(36,"select",14),K("ngModelChange",function(o){return r.data.score=o}),U(37,zbe,2,2,"option",15),C()()()(),U(38,Wbe,8,2,"div",16),T(39,"div",7)(40,"input",17),K("change",function(o){return r.obtenerImagen(o)}),C()(),T(41,"div",7)(42,"button",18),ee(43,"Submit"),C()()()()()),2&i){const s=function ps(n){return function Xc(n,t){return n[t]}(function aK(){return Me.lFrame.contextLView}(),et+n)}(2);I(13),R("ngModel",r.tipo),I(14),R("ngModel",r.data.name),I(2),R("ngModel",r.data.date),I(7),R("ngModel",r.data.score),I(1),R("ngForOf",r.opCalificacion),I(1),R("ngIf","Juegos"!==r.tipo&&"Musica"!==r.tipo),I(4),R("disabled",!s.valid)}},dependencies:[Ci,Rr,Q5,vb,yb,Ig,_b,Gk,F5,bb,mb,gb],styles:["input[_ngcontent-%COMP%]{width:100%;margin-bottom:4%}button[_ngcontent-%COMP%]{width:100%}select[_ngcontent-%COMP%]{width:100%;margin-bottom:4%}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}"]})}return n})();function Ybe(n,t){if(1&n&&(T(0,"option",22),ee(1),C()),2&n){const e=t.$implicit,i=J();R("value",e)("selected",e===i.opAnios[0]),I(1),Li(e)}}function Kbe(n,t){if(1&n&&(T(0,"div",27),ie(1,"img",28),C()),2&n){const e=t.$implicit;I(1),j_("title",e.name),R("src",e.image,$s)}}function Xbe(n,t){if(1&n&&(T(0,"div")(1,"div",23)(2,"div",24)(3,"h5"),ee(4),C()(),T(5,"div",25),U(6,Kbe,2,2,"div",26),C()()()),2&n){const e=t.$implicit,i=J();I(2),Qn("background-color",i.tier[1][e]),I(2),Li(i.categorias[e]),I(2),R("ngForOf",i.dataScore(i.resultFilter,i.categorias.length-e))}}let Qbe=(()=>{class n{constructor(e,i,r,s,o,a,l){this.router=e,this.musicService=i,this.animeService=r,this.movieService=s,this.seriesService=o,this.gameService=a,this.libroService=l,this.categorias=["Dioos","Buenas","Normal","Malas","Olvidables"],this.data=[],this.anioActual="",this.opAnios=["2024","2023","2022","2021","2020","2019","Todos"],this.selectedYear=this.opAnios[0],this.resultFilter=[],this.resultCount=0,this.tier=[[0,1,2,3,4],["#FF7F7F","#FFBF7F","#FFDF7F","#FFFF7F","#BFFF7F"]]}ngOnInit(){}loadData(e){var i=this;return M(function*(){"Peliculas"===e?i.data=yield i.loadDataForType(i.movieService.getMovies()):"Series"===e?i.data=yield i.loadDataForType(i.seriesService.getSeries()):"Animes"===e?i.data=yield i.loadDataForType(i.animeService.getAnimes()):"Juegos"===e?i.data=yield i.loadDataForType(i.gameService.getGames()):"Libros"===e?i.data=yield i.loadDataForType(i.libroService.getBook()):"Musica"===e&&(i.data=yield i.loadDataForType(i.musicService.getMusic())),console.log(i.selectedYear),i.applyFilters(),i.data.forEach(r=>{r.image="data:image/jpg;base64,"+r.image}),i.resultFilter=i.data,i.resultCount=i.resultFilter.length})()}loadDataForType(e){return M(function*(){return(yield e).map(r=>r)})()}convertYear(e){const i=e.split("-");return parseInt(i[0],10)+""}dataScore(e,i){return e.filter(r=>r.score==i)}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}applyFilters(){"Todos"===this.selectedYear?(this.resultFilter=this.data,console.log(1)):(this.data=this.data.filter(e=>this.convertYear(e.date)==this.selectedYear),console.log(2))}navegarHome(){this.router.navigate(["./"])}static#e=this.\u0275fac=function(i){return new(i||n)(y(Si),y(J0),y(rb),y(eb),y(ib),y(nb),y(tb))};static#t=this.\u0275cmp=Pe({type:n,selectors:[["app-tier"]],decls:57,vars:3,consts:[[1,"menu","px-4","text-center"],[1,"row","gx-3"],[1,"column","col-lg-3"],[1,"menu","px-4"],[1,"row","gx-5"],[1,"column","col-lg-12",2,"background-color","#121212"],[1,"top","col-lg-12",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"link"],[1,"uil","uil-subject"],[1,"columnDesc","col-lg-12"],[2,"margin-top","2%","margin-bottom","5%"],[2,"margin-bottom","5%"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"link",3,"click"],[1,"column","col-lg-9"],[1,"body"],[1,"container","list","col-lg-12"],[4,"ngFor","ngForOf"],[1,"resultCount"],[3,"value","selected"],[1,"row",2,"margin-top","1%","margin-bottom","1%"],[1,"izq","col-lg-2"],[1,"der","col-lg-10"],["style","display: inline;",4,"ngFor","ngForOf"],[2,"display","inline"],["alt","#",1,"imagen",3,"title","src"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),ie(8,"img",8),C()(),T(9,"div",9)(10,"h5"),ie(11,"i",10),ee(12," Biblioteca"),C()(),T(13,"div",9)(14,"h5"),ie(15,"i",10),ee(16," Tier"),C()()(),T(17,"div",11)(18,"div",12)(19,"h4"),ee(20,"Descubrir:"),C()(),T(21,"div",13)(22,"h5"),ee(23,"Ano: "),C(),T(24,"select",14),K("change",function(o){return r.filterYear(o)}),U(25,Ybe,2,3,"option",15),C()(),T(26,"div",16),K("click",function(){return r.loadData("Peliculas")}),T(27,"h5"),ie(28,"i",10),ee(29," Peliculas"),C()(),T(30,"div",16),K("click",function(){return r.loadData("Series")}),T(31,"h5"),ie(32,"i",10),ee(33," Series"),C()(),T(34,"div",16),K("click",function(){return r.loadData("Animes")}),T(35,"h5"),ie(36,"i",10),ee(37," Anime"),C()(),T(38,"div",16),K("click",function(){return r.loadData("Juegos")}),T(39,"h5"),ie(40,"i",10),ee(41," Juegos"),C()(),T(42,"div",16),K("click",function(){return r.loadData("Libros")}),T(43,"h5"),ie(44,"i",10),ee(45," Libros"),C()(),T(46,"div",16),K("click",function(){return r.loadData("Musica")}),T(47,"h5"),ie(48,"i",10),ee(49," Musica"),C()()()()()(),T(50,"div",17)(51,"div",18)(52,"div",19),U(53,Xbe,7,4,"div",20),C()(),T(54,"div",21)(55,"h5"),ee(56),C()()()()()),2&i&&(I(25),R("ngForOf",r.opAnios),I(28),R("ngForOf",r.tier[0]),I(3),Zn("Total: ",r.resultCount,""))},dependencies:[Ci,vb,yb],styles:[".imagen[_ngcontent-%COMP%]{width:80px;height:130px;margin-right:1%;margin-bottom:1%;margin-top:1%}.izq[_ngcontent-%COMP%]{border-style:solid;border-color:#000;color:#000;display:flex;align-items:center;justify-content:center}.der[_ngcontent-%COMP%]{border-style:solid;border-color:#000;border-left:none;background-color:#252525}button[_ngcontent-%COMP%]{width:100%;border-style:solid;border-color:#fff;color:#fff;background-color:transparent}button[_ngcontent-%COMP%]:hover{background-color:#5b4f43}select[_ngcontent-%COMP%]{width:100%;border-style:solid;border-color:#fff;color:#fff;background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}.resultCount[_ngcontent-%COMP%]{text-align:right;margin-top:2%}.column[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px}.columnDesc[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px;height:calc(77vh - 60px);background:#121212}.imgTitle[_ngcontent-%COMP%]{width:140px;height:90px;margin-left:2%;margin-top:2%}.link[_ngcontent-%COMP%]{margin-bottom:5%;cursor:pointer}.body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px}.list[_ngcontent-%COMP%]{height:calc(95vh - 60px);overflow-y:auto}.list[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}"]})}return n})(),vW=(()=>{class n{constructor(e){this.http=e,this.apiUrl="https://api.jikan.moe/v4/anime"}getAnimeByPage(e){return this.http.get(`${this.apiUrl}?page=${e}&limit=24`)}getAnimeAiring(){return this.http.get(`${this.apiUrl}?status=airing&order_by=popularity`)}searchAnimesByName(e,i){return this.http.get(`${this.apiUrl}?q=${e}&page=${i}`)}getAnimeByRange(){return this.http.get(`${this.apiUrl}?max_score=5`)}static#e=this.\u0275fac=function(i){return new(i||n)(L(Zo))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Zbe=["addListener","removeListener"],Jbe=["addEventListener","removeEventListener"],eTe=["on","off"];function ti(n,t,e,i){if(Qe(e)&&(i=e,e=void 0),i)return ti(n,t,e).pipe(L1(i));const[r,s]=function iTe(n){return Qe(n.addEventListener)&&Qe(n.removeEventListener)}(n)?Jbe.map(o=>a=>n[o](t,a,e)):function tTe(n){return Qe(n.addListener)&&Qe(n.removeListener)}(n)?Zbe.map(yW(n,t)):function nTe(n){return Qe(n.on)&&Qe(n.off)}(n)?eTe.map(yW(n,t)):[];if(!r&&UT(n))return Wn(o=>ti(o,t,e))(Vn(n));if(!r)throw new TypeError("Invalid event target");return new ct(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function yW(n,t){return e=>i=>n[e](t,i)}function Pg(n=0,t,e=phe){let i=-1;return null!=t&&(aN(t)?e=t:i=t),new ct(r=>{let s=function rTe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:sTe}=Array;function bW(n){return 1===n.length&&sTe(n[0])?n[0]:n}function Tb(...n){const t=Mm(n),e=bW(n);return e.length?new ct(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)Vn(e[o]).subscribe(It(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):qr}function sM(...n){const t=Mm(n);return Qt((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Vn(n[l]).subscribe(It(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Wr))&&(o=null))},Ht));e.subscribe(It(i,l=>{if(a){const c=[l,...s];i.next(t?t(...c):c)}}))})}new ct(Ht),Math,Math,Math;const yxe=["*"],Fxe=["dialog"];function wc(n){return null!=n}function nh(n){return(n||document.body).getBoundingClientRect()}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const HW={animation:!0,transitionTimerDelayMs:5},RCe=()=>{},{transitionTimerDelayMs:NCe}=HW,$g=new Map,rr=(n,t,e,i)=>{let r=i.context||{};const s=$g.get(t);if(s)switch(i.runningTransition){case"continue":return qr;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),$g.delete(t)}const o=e(t,i.animation,r)||RCe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),Se(void 0).pipe(function kCe(n){return t=>new ct(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new Ee,l=new Ee,c=a.pipe(function aTe(...n){return t=>Hf(t,Se(...n))}(!0));$g.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function MCe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const d=ti(t,"transitionend").pipe(sn(c),wi(({target:f})=>f===t));(function TW(...n){return 1===(n=bW(n)).length?Vn(n[0]):new ct(function oTe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(Vn(n[i]).subscribe(It(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(Pg(u+NCe).pipe(sn(c)),d,l).pipe(sn(c)).subscribe(()=>{$g.delete(t),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let Db=(()=>{class n{constructor(){this.animation=HW.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn]]}),n})(),qW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn]]}),n})(),KW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})(),ZW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn]]}),n})(),JW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})();var Mi=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Mi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const t8=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function n8(n){const t=Array.from(n.querySelectorAll(t8)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let u8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn,iM]]}),n})(),wM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Q({type:n,selectors:[["",8,"navbar"]]}),n})(),f8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})();class Dc{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let Swe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(In(1)).subscribe(()=>{rr(this._zone,this._el.nativeElement,(e,i)=>{i&&nh(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return rr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(y($e),y(Ae))},n.\u0275cmp=Pe({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(Ti("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),bt("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class p8{close(t){}dismiss(t){}}class Ewe{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Ee,this._dismissed=new Ee,this._hidden=new Ee,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(sn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(sn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function ACe(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Se(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Tb(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var SM=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(SM||{});let Dwe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Ee,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new W,this.shown=new Ee,this.hidden=new Ee}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(In(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=Tb(rr(this._zone,e,()=>e.classList.remove("show"),i),rr(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};Tb(rr(this._zone,this._elRef.nativeElement,(s,o)=>{o&&nh(s),s.classList.add("show")},e),rr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ti(e,"keydown").pipe(sn(this._closed$),wi(r=>r.which===Mi.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(SM.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ti(this._dialogEl.nativeElement,"mousedown").pipe(sn(this._closed$),Un(()=>i=!1),or(()=>ti(e,"mouseup").pipe(sn(this._closed$),In(1))),wi(({target:r})=>e===r)).subscribe(()=>{i=!0}),ti(e,"click").pipe(sn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(SM.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=n8(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&rr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(y(Tt),y($e),y(Ae))},n.\u0275cmp=Pe({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&Il(Fxe,7),2&e){let r;Rt(r=Nt())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(Te("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Ti("modal d-block"+(i.windowClass?" "+i.windowClass:"")),bt("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:yxe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(Io(),T(0,"div",0,1)(2,"div",2),zs(3),C()()),2&e&&Ti("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Awe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}}return n.\u0275fac=function(e){return new(e||n)(L(Tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iwe=(()=>{class n{constructor(e,i,r,s,o,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new Ee,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new W,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=ti(t,"focusin").pipe(sn(e),ze(s=>s.target));ti(t,"keydown").pipe(sn(e),wi(s=>s.which===Mi.Tab),sM(r)).subscribe(([s,o])=>{const[a,l]=n8(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&ti(t,"click").pipe(sn(e),sM(r),ze(s=>s[1])).subscribe(s=>s.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,s){const o=s.container instanceof HTMLElement?s.container:wc(s.container)?this._document.querySelector(s.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.hide(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const u=new p8,d=this._getContentRef(e,s.injector||i,r,u,s);let h=!1!==s.backdrop?this._attachBackdrop(e,o):void 0,f=this._attachWindowComponent(e,o,d),p=new Ewe(f,d,h,s.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(f),p.result.then(l,l),p.result.then(c,c),u.close=m=>{p.close(m)},u.dismiss=m=>{p.dismiss(m)},this._applyWindowOptions(f.instance,s),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,s),h.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(Swe).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let o=e.resolveComponentFactory(Dwe).create(this._injector,r.nodes);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{wc(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{wc(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,o){return r?r instanceof jt?this._createFromTemplateRef(r,s):function BW(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new Dc([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new Dc([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Dc([[i]])}_createFromComponent(e,i,r,s,o){const a=e.resolveComponentFactory(r),l=pn.create({providers:[{provide:p8,useValue:s}],parent:i}),c=a.create(l),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Dc([[u]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(L(_s),L(pn),L(Tt),L(Awe),L(ba),L(Ae))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kwe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(L(Db))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EM=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(L(Tl),L(pn),L(Iwe),L(kwe))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:[EM]}),n})(),y8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn]]}),n})(),D8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn]]}),n})(),I8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn]]}),n})(),k8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn]]}),n})(),M8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn]]}),n})(),R8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn]]}),n})(),N8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn]]}),n})(),P8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})();new q("live announcer delay",{providedIn:"root",factory:function Gwe(){return 100}});let O8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn]]}),n})();const zwe=[WW,qW,KW,ZW,JW,u8,f8,g8,y8,D8,I8,k8,M8,R8,N8,P8,O8];let jwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[zwe,WW,qW,KW,ZW,JW,u8,f8,g8,y8,D8,I8,k8,M8,R8,N8,P8,O8]}),n})();function L8(n,t=0){return function Wwe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function br(n){return n instanceof $e?n.nativeElement:n}const Wg={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Wg;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new He(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Wg;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Wg;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},kM=new class Kwe extends dy{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Ywe extends uy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Wg.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Wg.cancelAnimationFrame(e),t._scheduled=void 0)}});let MM,Xwe=1;const Ob={};function F8(n){return n in Ob&&(delete Ob[n],!0)}const Qwe={setImmediate(n){const t=Xwe++;return Ob[t]=!0,MM||(MM=Promise.resolve()),MM.then(()=>F8(t)&&n()),t},clearImmediate(n){F8(n)}},{setImmediate:Zwe,clearImmediate:Jwe}=Qwe,Lb={setImmediate(...n){const{delegate:t}=Lb;return(t?.setImmediate||Zwe)(...n)},clearImmediate(n){const{delegate:t}=Lb;return(t?.clearImmediate||Jwe)(n)},delegate:void 0};new class t1e extends dy{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class e1e extends uy{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Lb.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Lb.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function V8(n,t=Zu){return function i1e(n){return Qt((t,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(It(e,c=>{i=!0,r=c,s||Vn(n(c)).subscribe(s=It(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>Pg(n,t))}let RM;try{RM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{RM=!1}let qg,NM,B8=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?gr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!RM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(L(oi))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oh(n){return function r1e(){if(null==qg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qg=!0}))}finally{qg=qg||!1}return qg}()?n:!!n.capture}function $8(n){if(function s1e(){if(null==NM){const n=typeof document<"u"?document.head:null;NM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return NM}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Vb(n){return n.composedPath?n.composedPath()[0]:n.target}let a1e=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ee,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ct(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(V8(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Se()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(wi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=br(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ti(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(L(Ae),L(B8),L(Tt,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),c1e=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ee,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(V8(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(L(B8),L(Ae),L(Tt,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),u1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({})}return n})();const I1e=new q("cdk-dir-doc",{providedIn:"root",factory:function k1e(){return te(Tt)}}),M1e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let j8=(()=>{class n{constructor(e){this.value="ltr",this.change=new W,e&&(this.value=function R1e(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?M1e.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(L(I1e,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PM(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function ah(n,t){const e=t?"":"none";PM(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function W8(n,t,e){PM(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Bb(n,t){return t&&"none"!=t?n+" "+t:n}function q8(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Hb(t.left,t.top)}function Hb(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function OM(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function LM(n,t,e){const{top:i,bottom:r,left:s,right:o}=n;return e>=i&&e<=r&&t>=s&&t<=o}function Kg(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function Y8(n,t,e,i){const{top:r,right:s,bottom:o,left:a,width:l,height:c}=n,u=l*t,d=c*t;return i>r-d&&i<o+d&&e>a-u&&e<s+u}class K8{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:OM(e)})})}handleScroll(t){const e=Vb(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let s,o;if(e===this._document){const c=this.getViewportScrollPosition();s=c.top,o=c.left}else s=e.scrollTop,o=e.scrollLeft;const a=r.top-s,l=r.left-o;return this.positions.forEach((c,u)=>{c.clientRect&&e!==u&&e.contains(u)&&Kg(c.clientRect,a,l)}),r.top=s,r.left=o,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function X8(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?J8(n,t):("input"===i||"select"===i||"textarea"===i)&&Z8(n,t),Q8("canvas",n,t,J8),Q8("input, textarea, select",n,t,Z8),t}function Q8(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let o=0;o<r.length;o++)i(r[o],s[o])}}let N1e=0;function Z8(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${N1e++}`)}function J8(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function e6(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function t6(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function FM(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}const O1e=new Set(["position"]);class L1e{constructor(t,e,i,r,s,o,a,l,c){this._document=t,this._rootElement=e,this._direction=i,this._initialDomRect=r,this._previewTemplate=s,this._previewClass=o,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return function P1e(n){const t=getComputedStyle(n),e=FM(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=e.indexOf(i),s=FM(t,"transition-duration"),o=FM(t,"transition-delay");return t6(s[r])+t6(o[r])}(this._preview)}addEventListener(t,e){this._preview.addEventListener(t,e)}removeEventListener(t,e){this._preview.removeEventListener(t,e)}_createPreview(){const t=this._previewTemplate,e=this._previewClass,i=t?t.template:null;let r;if(i&&t){const s=t.matchSize?this._initialDomRect:null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),r=e6(o,this._document),this._previewEmbeddedView=o,t.matchSize?q8(r,s):r.style.transform=Hb(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=X8(this._rootElement),q8(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return PM(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},O1e),ah(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>r.classList.add(s)):r.classList.add(e)),r}}const n6=oh({passive:!0}),$b=oh({passive:!1}),i6=oh({passive:!1,capture:!0}),r6=new Set(["position"]);class V1e{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>ah(e,t)))}constructor(t,e,i,r,s,o){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ee,this._pointerMoveSubscription=He.EMPTY,this._pointerUpSubscription=He.EMPTY,this._scrollSubscription=He.EMPTY,this._resizeSubscription=He.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ee,this.started=new Ee,this.released=new Ee,this.ended=new Ee,this.entered=new Ee,this.exited=new Ee,this.dropped=new Ee,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const f=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),p=this._dropContainer;if(!f)return void this._endDragSequence(a);(!p||!p.isDragging()&&!p.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const u=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=c.x-u.x+this._passiveTransform.x,d.y=c.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new K8(i),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>br(i)),this._handles.forEach(i=>ah(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=br(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,$b),e.addEventListener("touchstart",this._pointerDown,n6),e.addEventListener("dragstart",this._nativeDragStart,$b)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?br(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),ah(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),ah(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",o6,i6)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Xg(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{e.addEventListener("selectstart",o6,i6)}),i){const r=this._rootElement,s=r.parentNode,o=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new L1e(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(s,e)),W8(r,!1,r6),this._document.body.appendChild(s.replaceChild(o,r)),this.started.next({source:this,event:t}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=Xg(e),s=!r&&0!==e.button,o=this._rootElement,a=Vb(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?function w1e(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function C1e(n){return 0===n.buttons||0===n.detail}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||l||c)return;if(this._handles.length){const h=o.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=OM(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){W8(this._rootElement,!0,r6),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),s=this._getDragDistance(r),o=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,o,s,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=this._preview.getTransitionDuration();return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=o=>{(!o||Vb(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=e6(this._placeholderRef,this._document)):i=X8(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,s=r?r.getBoundingClientRect():t,o=Xg(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:s.left-t.left+(o.pageX-s.left-a.left),y:s.top-t.top+(o.pageY-s.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Xg(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=s,a.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+o,d=a.bottom-(c-o);i=s6(i,a.left+s,a.right-(l-s)),r=s6(r,u,d)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-s.x),a=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>s.x?1:-1,s.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,ah(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,$b),t.removeEventListener("touchstart",this._pointerDown,n6),t.removeEventListener("dragstart",this._nativeDragStart,$b)}_applyRootElementTransform(t,e){const i=Hb(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Bb(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=Hb(t,e);this._preview.setTransform(Bb(r,i))}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,o=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(s>0&&(t+=s),o>0&&(t-=o)):t=0,r.height>i.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Xg(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Vb(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Kg(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=$8(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return br(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function s6(n,t,e){return Math.max(t,Math.min(e,n))}function Xg(n){return"t"===n.type[0]}function o6(n){n.preventDefault()}function Qg(n,t){return Math.max(0,Math.min(t,n))}class H1e{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===o&&s.length>0)return null;const a="horizontal"===this.orientation,l=s.findIndex(g=>g.drag===t),c=s[o],d=c.clientRect,h=l>o?1:-1,f=this._getItemOffsetPx(s[l].clientRect,d,h),p=this._getSiblingOffsetPx(l,s,h),m=s.slice();return function B1e(n,t,e){const i=Qg(t,n.length-1),r=Qg(e,n.length-1);if(i===r)return;const s=n[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)n[a]=n[a+o];n[r]=s}(s,l,o),s.forEach((g,v)=>{if(m[v]===g)return;const _=g.drag===t,b=_?f:p,x=_?t.getPlaceholderElement():g.drag.getRootElement();g.offset+=b,a?(x.style.transform=Bb(`translate3d(${Math.round(g.offset)}px, 0, 0)`,g.initialTransform),Kg(g.clientRect,0,b)):(x.style.transform=Bb(`translate3d(0, ${Math.round(g.offset)}px, 0)`,g.initialTransform),Kg(g.clientRect,b,0))}),this._previousSwap.overlaps=LM(d,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:o}}enter(t,e,i,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,o=this._activeDraggables,a=o.indexOf(t),l=t.getPlaceholderElement();let c=o[s];if(c===t&&(c=o[s+1]),!c&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const u=c.getRootElement();u.parentElement.insertBefore(l,u),o.splice(s,0,t)}else br(this._element).appendChild(l),o.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Kg(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:OM(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let s=r?e.left-t.left:e.top-t.top;return-1===i&&(s+=r?e.width-t.width:e.height-t.height),s}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,s=e[t].clientRect,o=e[t+-1*i];let a=s[r?"width":"height"]*i;if(o){const l=r?"left":"top",c=r?"right":"bottom";-1===i?a-=o.clientRect[l]-s[c]:a+=s[l]-o.clientRect[c]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return r?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return r?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==t&&((!r||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==o&&this._sortPredicate(o,t)?o:-1}}var cs=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(cs||{}),sr=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(sr||{});class $1e{constructor(t,e,i,r,s){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ee,this.entered=new Ee,this.exited=new Ee,this.dropped=new Ee,this.sorted=new Ee,this.receivingStarted=new Ee,this.receivingStopped=new Ee,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=He.EMPTY,this._verticalScrollDirection=cs.NONE,this._horizontalScrollDirection=sr.NONE,this._stopScrollTimers=new Ee,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function A1e(n=0,t=Zu){return n<0&&(n=0),Pg(n,n,t)}(0,kM).pipe(sn(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;this._verticalScrollDirection===cs.UP?o.scrollBy(0,-a):this._verticalScrollDirection===cs.DOWN&&o.scrollBy(0,a),this._horizontalScrollDirection===sr.LEFT?o.scrollBy(-a,0):this._horizontalScrollDirection===sr.RIGHT&&o.scrollBy(a,0)})},this.element=br(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new K8(i),this._sortStrategy=new H1e(this.element,e),this._sortStrategy.withSortPredicate((o,a)=>this.sortPredicate(o,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,s,o,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:a,event:l})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=br(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._domRect||!Y8(this._domRect,.05,e,i))return;const s=this._sortStrategy.sort(t,e,i,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=cs.NONE,s=sr.NONE;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||Y8(o.clientRect,.05,t,e)&&([r,s]=function U1e(n,t,e,i,r){const s=c6(t,r),o=u6(t,i);let a=cs.NONE,l=sr.NONE;if(s){const c=n.scrollTop;s===cs.UP?c>0&&(a=cs.UP):n.scrollHeight-c>n.clientHeight&&(a=cs.DOWN)}if(o){const c=n.scrollLeft;"rtl"===e?o===sr.RIGHT?c<0&&(l=sr.RIGHT):n.scrollWidth+c>n.clientWidth&&(l=sr.LEFT):o===sr.LEFT?c>0&&(l=sr.LEFT):n.scrollWidth-c>n.clientWidth&&(l=sr.RIGHT)}return[a,l]}(a,o.clientRect,this._sortStrategy.direction,t,e),(r||s)&&(i=a))}),!r&&!s){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};r=c6(l,e),s=u6(l,t),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=br(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=br(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=br(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._domRect&&LM(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._domRect||!LM(this._domRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const s=br(this.element);return r===s||s.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=$8(br(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function c6(n,t){const{top:e,bottom:i,height:r}=n,s=.05*r;return t>=e-s&&t<=e+s?cs.UP:t>=i-s&&t<=i+s?cs.DOWN:cs.NONE}function u6(n,t){const{left:e,right:i,width:r}=n,s=.05*r;return t>=e-s&&t<=e+s?sr.LEFT:t>=i-s&&t<=i+s?sr.RIGHT:sr.NONE}const Ub=oh({passive:!1,capture:!0});let G1e=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Ee,this.pointerUp=new Ee,this.scroll=new Ee,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ub)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ub)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ub}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Ub}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new ct(r=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&r.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),Ah(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(L(Ae),L(Tt))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const z1e={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Gb=new Set;let j1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Pe({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[Ca],decls:0,vars:0,template:function(i,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0})}return n})(),VM=(()=>{class n{constructor(e,i,r,s){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s,this._appRef=te(_s),this._environmentInjector=te(hr)}createDrag(e,i=z1e){return this._loadResets(),new V1e(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new $1e(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}_loadResets(){if(!Gb.has(this._appRef)){Gb.add(this._appRef);const e=function Nie(n,t){const e=ut(n),i=t.elementInjector||S_();return new df(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}(j1e,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Gb.delete(this._appRef),0===Gb.size&&e.destroy()})}}static#e=this.\u0275fac=function(i){return new(i||n)(L(Tt),L(Ae),L(c1e),L(G1e))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Zg=new q("CDK_DRAG_PARENT"),d6=new q("CdkDragHandle"),h6=new q("CDK_DRAG_CONFIG"),f6=new q("CdkDropList");let p6=(()=>{class n{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}constructor(e,i,r,s,o,a,l,c,u,d,h){this.element=e,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=o,this._dir=l,this._changeDetectorRef=u,this._selfHandle=d,this._parentDrag=h,this._destroyed=new Ee,this._handles=new Bn([]),this.started=new W,this.released=new W,this.ended=new W,this.entered=new W,this.exited=new W,this.dropped=new W,this.moved=new ct(f=>{const p=this._dragRef.moved.pipe(ze(m=>({source:this,pointerPosition:m.pointerPosition,event:m.event,delta:m.delta,distance:m.distance}))).subscribe(f);return()=>{p.unsubscribe()}}),this._dragRef=c.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:a?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(In(1),sn(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){const i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){const i=this._handles.getValue(),r=i.indexOf(e);r>-1&&(i.splice(r,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):br(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:L8(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(In(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:s,previewClass:o,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:u}=e;this.disabled=l??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),o&&(this.previewClass=o),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.pipe(Un(e=>{const i=e.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),or(e=>Ah(...e.map(i=>i._stateChanges.pipe(Hu(i))))),sn(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}static#t=this.\u0275fac=function(i){return new(i||n)(y($e),y(f6,12),y(Tt),y(Ae),y(kr),y(h6,8),y(j8,8),y(VM),y(ai),y(d6,10),y(Zg,12))};static#n=this.\u0275dir=Q({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){2&i&&bt("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled",xi],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[ft([{provide:Zg,useExisting:n}]),Ao,At]})}return n})();const BM=new q("CdkDropListGroup");let K1e=0,g6=(()=>{class n{static#e=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}constructor(e,i,r,s,o,a,l){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=o,this._group=a,this._destroyed=new Ee,this.connectedTo=[],this.id="cdk-drop-list-"+K1e++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new W,this.entered=new W,this.exited=new W,this.sorted=new W,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(c,u)=>this.enterPredicate(c.data,u.data),this._dropListRef.sortPredicate=(c,u,d)=>this.sortPredicate(c,u.data,d.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Hu(this._dir.value),sn(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function qwe(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(o=>o.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=L8(this.autoScrollStep,2),e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),Ah(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:i,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:o,listOrientation:a}=e;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=o??!1,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static#t=this.\u0275fac=function(i){return new(i||n)(y($e),y(VM),y(ai),y(a1e),y(j8,8),y(BM,12),y(h6,8))};static#n=this.\u0275dir=Q({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,r){2&i&&(Te("id",r.id),bt("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled",xi],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled",xi],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled",xi],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[ft([{provide:BM,useValue:void 0},{provide:f6,useExisting:n}]),Ao]})}return n})(),J1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({providers:[VM],imports:[u1e]})}return n})();function eSe(n,t){if(1&n){const e=Hn();T(0,"div",17)(1,"div",18),ie(2,"img",19),T(3,"button",20),K("click",function(){const s=Ft(e).$implicit;return Vt(J().saveAnime(s))}),ee(4,"click"),C()()()}if(2&n){const e=t.$implicit;I(2),R("src",e.images.jpg.image_url,$s)}}function tSe(n,t){if(1&n&&(T(0,"div",17)(1,"div",18),ie(2,"img",19),C()()),2&n){const e=t.$implicit;I(2),R("src",e.images.jpg.image_url,$s)}}let nSe=(()=>{class n{constructor(e,i){this.recoService=e,this.apiAnimeService=i,this.recomendaciones=[],this.animes=[],this.opTipos=[]}ngOnInit(){return M(function*(){})()}getAll(){var e=this;return M(function*(){yield e.apiAnimeService.getAnimeByPage(10).subscribe(i=>{e.animes=i.data})})()}saveAnime(e){this.recomendaciones.push(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(_W),y(vW))};static#t=this.\u0275cmp=Pe({type:n,selectors:[["app-list-next"]],decls:19,vars:2,consts:[[1,"container","col-lg-12",2,"margin-top","5%"],[1,"top","col-lg-12",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"table-container"],[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["role","search",1,"d-flex"],["type","search","placeholder","Nombre","aria-label","Search","name","searchTerm",1,"form-control","me-2"],[1,"btn","btn-outline-success"],["cdkDropList","",1,"row"],["cdkDrag","","class","col-lg-2 col-4 col-md-4",4,"ngFor","ngForOf"],["cdkDropList","",1,"row",2,"background","black"],["cdkDrag","",1,"col-lg-2","col-4","col-md-4"],[1,"card","container"],["alt","#",1,"imagen",3,"src"],[3,"click"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"a",2),ie(3,"img",3),C()(),T(4,"div",4)(5,"nav",5)(6,"div",6)(7,"button",7),ie(8,"span",8),C(),T(9,"div",9),ie(10,"ul",10),T(11,"div",11),ie(12,"input",12),T(13,"button",13),ee(14,"Buscar"),C()()()()(),T(15,"div",14),U(16,eSe,5,1,"div",15),C(),T(17,"div",16),U(18,tSe,3,1,"div",15),C()()()),2&i&&(I(16),R("ngForOf",r.animes),I(2),R("ngForOf",r.recomendaciones))},dependencies:[Ci,wM,g6,p6],styles:['.table-container[_ngcontent-%COMP%]{margin:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#000}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}.etiqueta[_ngcontent-%COMP%]{color:#000;box-shadow:0 0 29px #3c3c3c6b;border-radius:5px;font-family:"Hedvig Letters Serif",serif;text-align:center;text-decoration:none}mat-icon[_ngcontent-%COMP%]{margin-right:10px}.imagen[_ngcontent-%COMP%]{width:100%;height:250px;border:1px solid #000000}']})}return n})(),iSe=(()=>{class n{constructor(e){this.modalService=e}ngOnInit(){this.animeModal=this.data,console.log(this.data)}closeModal(){this.modalService.dismissAll()}static#e=this.\u0275fac=function(i){return new(i||n)(y(EM))};static#t=this.\u0275cmp=Pe({type:n,selectors:[["app-modal"]],inputs:{data:"data"},decls:20,vars:4,consts:[[1,"modalPrin"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Cerrar",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-lg-3"],["alt","#",1,"imagen",3,"src"],[1,"col-lg-9"],[1,"synopsis"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"h4",2),ee(3),C(),T(4,"button",3),K("click",function(){return r.closeModal()}),T(5,"span",4),ee(6,"\xd7"),C()()(),T(7,"div",5)(8,"div",6)(9,"div",7),ie(10,"img",8),C(),T(11,"div",9)(12,"div")(13,"p",10),ee(14),C()(),T(15,"div")(16,"p"),ee(17),C(),T(18,"button"),ee(19,"CLick"),C()()()()()()),2&i&&(I(3),Li(r.animeModal.title),I(7),R("src",r.animeModal.images.jpg.image_url,$s),I(4),Li(r.animeModal.synopsis),I(3),Zn("Episodios: ",r.animeModal.episodes,""))},styles:[".modalPrin[_ngcontent-%COMP%]{width:60%;height:60%;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#000000e6;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0003}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}.modal-title[_ngcontent-%COMP%]{margin-top:0}.imagen[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #000000;border-radius:10px}.synopsis[_ngcontent-%COMP%]{color:#fff;text-align:left;overflow:hidden;text-overflow:ellipsis;max-height:250px}@media (max-width:1000px){.modalPrin[_ngcontent-%COMP%]{width:100%;height:100%}.imagen[_ngcontent-%COMP%]{display:none}.synopsis[_ngcontent-%COMP%]{max-height:150px}}"]})}return n})();const m6=["*"];let Gi=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),_6=(()=>{class n{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[Gi.STARTS_WITH,Gi.CONTAINS,Gi.NOT_CONTAINS,Gi.ENDS_WITH,Gi.EQUALS,Gi.NOT_EQUALS],numeric:[Gi.EQUALS,Gi.NOT_EQUALS,Gi.LESS_THAN,Gi.LESS_THAN_OR_EQUAL_TO,Gi.GREATER_THAN,Gi.GREATER_THAN_OR_EQUAL_TO],date:[Gi.DATE_IS,Gi.DATE_IS_NOT,Gi.DATE_BEFORE,Gi.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Ee;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sSe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Pe({type:n,selectors:[["p-header"]],ngContentSelectors:m6,decls:1,vars:0,template:function(i,r){1&i&&(Io(),zs(0))},encapsulation:2})}return n})(),oSe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Pe({type:n,selectors:[["p-footer"]],ngContentSelectors:m6,decls:1,vars:0,template:function(i,r){1&i&&(Io(),zs(0))},encapsulation:2})}return n})(),v6=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(y(jt))};static \u0275dir=Q({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return n})(),y6=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xe({type:n});static \u0275inj=be({imports:[mn]})}return n})();class Jg{static isArray(t,e=!0){return Array.isArray(t)&&(e||0!==t.length)}static isObject(t,e=!0){return"object"==typeof t&&!Array.isArray(t)&&null!=t&&(e||0!==Object.keys(t).length)}static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var s,o,a,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((o=t.length)!=e.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(t),c=this.isDate(e);if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var h=Object.keys(t);if((o=h.length)!==Object.keys(e).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,h[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[a=h[s]],e[a]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let s=0,o=i.length;s<o;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>e){i.splice(o,0,t),s=!0;break}s||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(/\p{Diacritic}/gu,"")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!this.isDate(t)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,r=1){let s=-1;const o=this.isEmpty(t),a=this.isEmpty(e);return s=o&&a?0:o?r:a?-r:"string"==typeof t&&"string"==typeof e?t.localeCompare(e,i,{numeric:!0}):t<e?-1:t>e?1:0,s}static sort(t,e,i=1,r,s=1){const o=Jg.compare(t,e,r,i);let a=i;return(Jg.isEmpty(t)||Jg.isEmpty(e))&&(a=1===s?i:s),a*o}static merge(t,e){if(null!=t||null!=e)return null!=t&&"object"!=typeof t||null!=e&&"object"!=typeof e?null!=t&&"string"!=typeof t||null!=e&&"string"!=typeof e?e||t:[t||"",e||""].join(" "):{...t||{},...e||{}}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&1===t.length&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(e)}catch{i=t.lastIndexOf([...t].reverse().find(e))}return i}static findLast(t,e){let i;if(this.isNotEmpty(t))try{i=t.findLast(e)}catch{i=[...t].reverse().find(e)}return i}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var s,o,a,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((o=t.length)!=e.length)return!1;for(s=o;0!=s--;)if(!this.deepEquals(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var h=Object.keys(t);if((o=h.length)!==Object.keys(e).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,h[s]))return!1;for(s=o;0!=s--;)if(!this.deepEquals(t[a=h[s]],e[a]))return!1;return!0}return t!=t&&e!=e}}var b6=0;!function lSe(){let n=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0}();const cSe=["*"];let zb=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const e=Jg.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Pe({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:["spin","spin",xi],styleClass:"styleClass"},standalone:!0,features:[Ao,Ca],ngContentSelectors:cSe,decls:1,vars:0,template:function(i,r){1&i&&(Io(),zs(0))},encapsulation:2,changeDetection:0})}return n})(),T6=(()=>{class n extends zb{static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=Pe({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[ht,Ca],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){1&i&&(fn(),T(0,"svg",0),ie(1,"path",1),C()),2&i&&(Ti(r.getClassNames()),Te("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),x6=(()=>{class n extends zb{static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=Pe({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[ht,Ca],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,r){1&i&&(fn(),T(0,"svg",0),ie(1,"path",1),C()),2&i&&(Ti(r.getClassNames()),Te("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),C6=(()=>{class n extends zb{static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=Pe({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[ht,Ca],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,r){1&i&&(fn(),T(0,"svg",0),ie(1,"path",1),C()),2&i&&(Ti(r.getClassNames()),Te("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),w6=(()=>{class n extends zb{static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=Pe({type:n,selectors:[["ChevronUpIcon"]],standalone:!0,features:[ht,Ca],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,r){1&i&&(fn(),T(0,"svg",0),ie(1,"path",1),C()),2&i&&(Ti(r.getClassNames()),Te("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),wn=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)e.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)e.className+=" "+r[s]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(e,s)))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==e)return r;1==i[s].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==e)return s;r[o].attributes&&r[o].attributes[i]&&1==r[o].nodeType&&s++}return-1}static appendOverlay(e,i,r="self"){"self"!==r&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",s=!0){e&&i&&(s&&(e.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===r?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i,r=!0){const s=_=>{if(_)return"relative"===getComputedStyle(_).getPropertyValue("position")?_:s(_.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=i.offsetHeight,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),d=this.getViewport(),f=s(e)?.getBoundingClientRect()||{top:-1*c,left:-1*u};let p,m;l.top+a+o.height>d.height?(p=l.top-f.top-o.height,e.style.transformOrigin="bottom",l.top+p<0&&(p=-1*l.top)):(p=a+l.top-f.top,e.style.transformOrigin="top");const g=l.left+o.width-d.width;m=o.width>d.width?-1*(l.left-f.left):g>0?l.left-f.left-g:l.left-f.left,e.style.top=p+"px",e.style.left=m+"px",r&&(e.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,i,r=!0){const s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=s.height,a=s.width,l=i.offsetHeight,c=i.offsetWidth,u=i.getBoundingClientRect(),d=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport();let p,m;u.top+l+o>f.height?(p=u.top+d-o,e.style.transformOrigin="bottom",p<0&&(p=d)):(p=l+u.top+d,e.style.transformOrigin="top"),m=u.left+a>f.width?Math.max(0,u.left+h+c-a):u.left+h,e.style.top=p+"px",e.style.left=m+"px",r&&(e.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let d=this.findSingle(a,u);d&&o(d)&&i.push(d)}}9!==a.nodeType&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=e.getBoundingClientRect(),u=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,d=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(i);u<0?e.scrollTop=d+u:u+f>h&&(e.scrollTop=d+u-h+f)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,s=0,o=function(){s=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,i){var r=1,a=50/i;let l=setInterval(()=>{(r-=a)<=0&&(r=0,clearInterval(l)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||s.clientWidth,height:e.innerHeight||r.clientHeight||s.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,i=""){let r=this.find(e,this.getFocusableSelectorString(i)),s=[];for(let o of r){const a=getComputedStyle(o);this.isVisible(o)&&"none"!=a.display&&"hidden"!=a.visibility&&s.push(o)}return s}static getFocusableElement(e,i=""){let r=this.findSingle(e,this.getFocusableSelectorString(i));if(r){const s=getComputedStyle(r);if(this.isVisible(r)&&"none"!=s.display&&"hidden"!=s.visibility)return r}return null}static getFirstFocusableElement(e,i){const r=this.getFocusableElements(e,i);return r.length>0?r[0]:null}static getLastFocusableElement(e,i){const r=this.getFocusableElements(e,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(e,i=!1){const r=n.getFocusableElements(e);let s=0;if(r&&r.length>0){const o=r.indexOf(r[0].ownerDocument.activeElement);i?s=-1==o||0===o?r.length-1:o-1:-1!=o&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof e;if("string"===r)return document.querySelector(e);if("object"===r&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const o=(a=e)&&a.constructor&&a.call&&a.apply?e():e;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){const r=e.getAttribute(i);return isNaN(r)?"true"===r||"false"===r?"true"===r:r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}}return n})(),uSe=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(e,i,r,s,o,a){this.document=e,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){gr(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if(wn.removeClass(i,"p-ink-active"),!wn.getHeight(i)&&!wn.getWidth(i)){let a=Math.max(wn.getOuterWidth(this.el.nativeElement),wn.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=wn.getOffset(this.el.nativeElement),s=e.pageX-r.left+this.document.body.scrollTop-wn.getWidth(i)/2,o=e.pageY-r.top+this.document.body.scrollLeft-wn.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),wn.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&wn.removeClass(a,"p-ink-active")},401)}getInk(){const e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if("string"==typeof e[i].className&&-1!==e[i].className.indexOf("p-ink"))return e[i];return null}resetInk(){let e=this.getInk();e&&wn.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),wn.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,wn.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(y(Tt),y(oi),y(bi),y($e),y(Ae),y(_6,8))};static \u0275dir=Q({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return n})(),dSe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xe({type:n});static \u0275inj=be({imports:[mn]})}return n})();const hSe=["itemsContainer"],fSe=["indicatorContent"];function pSe(n,t){1&n&&Cl(0)}function gSe(n,t){if(1&n&&(T(0,"div",11),zs(1),U(2,pSe,1,0,"ng-container",12),C()),2&n){const e=J();I(2),R("ngTemplateOutlet",e.headerTemplate)}}function mSe(n,t){1&n&&ie(0,"ChevronLeftIcon",17),2&n&&R("styleClass","carousel-prev-icon")}function _Se(n,t){1&n&&ie(0,"ChevronUpIcon",17),2&n&&R("styleClass","carousel-prev-icon")}function vSe(n,t){if(1&n&&(mf(0),U(1,mSe,1,1,"ChevronLeftIcon",16),U(2,_Se,1,1,"ChevronUpIcon",16),_f()),2&n){const e=J(2);I(1),R("ngIf",!e.isVertical()),I(1),R("ngIf",e.isVertical())}}function ySe(n,t){}function bSe(n,t){1&n&&U(0,ySe,0,0,"ng-template")}function TSe(n,t){if(1&n&&(T(0,"span",18),U(1,bSe,1,0,null,12),C()),2&n){const e=J(2);I(1),R("ngTemplateOutlet",e.previousIconTemplate)}}const xSe=function(n){return{"p-carousel-prev p-link":!0,"p-disabled":n}};function CSe(n,t){if(1&n){const e=Hn();T(0,"button",13),K("click",function(r){return Ft(e),Vt(J().navBackward(r))}),U(1,vSe,3,2,"ng-container",14),U(2,TSe,2,1,"span",15),C()}if(2&n){const e=J();R("ngClass",Ir(5,xSe,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),Te("aria-label",e.ariaPrevButtonLabel()),I(1),R("ngIf",!e.previousIconTemplate),I(1),R("ngIf",e.previousIconTemplate)}}function wSe(n,t){1&n&&Cl(0)}const S6=function(n,t,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}},HM=function(n){return{$implicit:n}};function SSe(n,t){if(1&n&&(T(0,"div",2),U(1,wSe,1,0,"ng-container",19),C()),2&n){const e=t.$implicit,i=t.index,r=J();R("ngClass",Ou(6,S6,-1*r.totalShiftedItems===r.value.length,0===i,r.clonedItemsForStarting.length-1===i)),Te("aria-hidden",-1*r.totalShiftedItems!==r.value.length)("aria-label",r.ariaSlideNumber(i))("aria-roledescription",r.ariaSlideLabel()),I(1),R("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Ir(10,HM,e))}}function ESe(n,t){1&n&&Cl(0)}const DSe=function(n,t,e){return{"p-carousel-item":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}};function ASe(n,t){if(1&n&&(T(0,"div",2),U(1,ESe,1,0,"ng-container",19),C()),2&n){const e=t.$implicit,i=t.index,r=J();R("ngClass",Ou(6,DSe,r.firstIndex()<=i&&r.lastIndex()>=i,r.firstIndex()===i,r.lastIndex()===i)),Te("aria-hidden",-1*r.totalShiftedItems!==r.value.length)("aria-label",r.ariaSlideNumber(i))("aria-roledescription",r.ariaSlideLabel()),I(1),R("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Ir(10,HM,e))}}function ISe(n,t){1&n&&Cl(0)}function kSe(n,t){if(1&n&&(T(0,"div",2),U(1,ISe,1,0,"ng-container",19),C()),2&n){const e=t.$implicit,i=t.index,r=J();R("ngClass",Ou(3,S6,-1*r.totalShiftedItems===r.numVisible,0===i,r.clonedItemsForFinishing.length-1===i)),I(1),R("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Ir(7,HM,e))}}function MSe(n,t){1&n&&ie(0,"ChevronRightIcon",17),2&n&&R("styleClass","carousel-prev-icon")}function RSe(n,t){1&n&&ie(0,"ChevronDownIcon",17),2&n&&R("styleClass","carousel-prev-icon")}function NSe(n,t){if(1&n&&(mf(0),U(1,MSe,1,1,"ChevronRightIcon",16),U(2,RSe,1,1,"ChevronDownIcon",16),_f()),2&n){const e=J(2);I(1),R("ngIf",!e.isVertical()),I(1),R("ngIf",e.isVertical())}}function PSe(n,t){}function OSe(n,t){1&n&&U(0,PSe,0,0,"ng-template")}function LSe(n,t){if(1&n&&(T(0,"span",18),U(1,OSe,1,0,null,12),C()),2&n){const e=J(2);I(1),R("ngTemplateOutlet",e.nextIconTemplate)}}const FSe=function(n){return{"p-carousel-next p-link":!0,"p-disabled":n}};function VSe(n,t){if(1&n){const e=Hn();T(0,"button",13),K("click",function(r){return Ft(e),Vt(J().navForward(r))}),U(1,NSe,3,2,"ng-container",14),U(2,LSe,2,1,"span",15),C()}if(2&n){const e=J();R("ngClass",Ir(5,FSe,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),Te("aria-label",e.ariaNextButtonLabel()),I(1),R("ngIf",!e.nextIconTemplate),I(1),R("ngIf",e.nextIconTemplate)}}const BSe=function(n){return{"p-carousel-indicator":!0,"p-highlight":n}};function HSe(n,t){if(1&n){const e=Hn();T(0,"li",2)(1,"button",22),K("click",function(r){const o=Ft(e).index;return Vt(J(2).onDotClick(r,o))}),C()()}if(2&n){const e=t.index,i=J(2);R("ngClass",Ir(9,BSe,i._page===e)),Te("data-pc-section","indicator"),I(1),Ti(i.indicatorStyleClass),R("ngClass","p-link")("ngStyle",i.indicatorStyle)("tabindex",i._page===e?0:-1),Te("aria-label",i.ariaPageLabel(e+1))("aria-current",i._page===e?"page":void 0)}}function $Se(n,t){if(1&n){const e=Hn();T(0,"ul",20,21),K("keydown",function(r){return Ft(e),Vt(J().onIndicatorKeydown(r))}),U(2,HSe,2,11,"li",8),C()}if(2&n){const e=J();Ti(e.indicatorsContentClass),R("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),I(2),R("ngForOf",e.totalDotsArray())}}function USe(n,t){1&n&&Cl(0)}function GSe(n,t){if(1&n&&(T(0,"div",23),zs(1,1),U(2,USe,1,0,"ng-container",12),C()),2&n){const e=J();I(2),R("ngTemplateOutlet",e.footerTemplate)}}const zSe=[[["p-header"]],[["p-footer"]]],jSe=function(n,t){return{"p-carousel p-component":!0,"p-carousel-vertical":n,"p-carousel-horizontal":t}},WSe=function(n){return{height:n}},qSe=["p-header","p-footer"];let YSe=(()=>{class n{el;zone;cd;renderer;document;platformId;config;get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&this.stopAutoplay(),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}responsiveOptions;orientation="horizontal";verticalViewPortHeight="300px";contentClass="";indicatorsContentClass="";indicatorsContentStyle;indicatorStyleClass="";indicatorStyle;get value(){return this._value}set value(e){this._value=e}circular=!1;showIndicators=!0;showNavigators=!0;autoplayInterval=0;style;styleClass;onPage=new W;itemsContainer;indicatorContent;headerFacet;footerFacet;templates;_numVisible=1;_numScroll=1;_oldNumScroll=0;prevState={numScroll:0,numVisible:0,value:[]};defaultNumScroll=1;defaultNumVisible=1;_page=0;_value;carouselStyle;id;totalShiftedItems;isRemainingItemsAdded=!1;animationTimeout;translateTimeout;remainingItems=0;_items;startPos;documentResizeListener;clonedItemsForStarting;clonedItemsForFinishing;allowAutoplay;interval;isCreated;swipeThreshold=20;itemTemplate;headerTemplate;footerTemplate;previousIconTemplate;nextIconTemplate;window;constructor(e,i,r,s,o,a,l){this.el=e,this.zone=i,this.cd=r,this.renderer=s,this.document=o,this.platformId=a,this.config=l,this.totalShiftedItems=this.page*this.numScroll*-1,this.window=this.document.defaultView}ngOnChanges(e){gr(this.platformId)&&(e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))),this.cd.markForCheck()}ngAfterContentInit(){this.id=function aSe(n="pn_id_"){return`${n}${++b6}`}(),gr(this.platformId)&&(this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners()),this.templates?.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template}}),this.cd.detectChanges()}ngAfterContentChecked(){if(gr(this.platformId)){const e=this.isCircular();let i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(!1),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let r=this._page;0!==this.totalDots()&&r>=this.totalDots()&&(r=this.totalDots()-1,this._page=r,this.onPage.emit({page:this.page})),i=r*this._numScroll*-1,e&&(i-=this._numVisible),r===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?i=-1*this._numVisible:0===i&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}}createStyle(){this.carouselStyle||(this.carouselStyle=this.renderer.createElement("style"),this.carouselStyle.type="text/css",this.renderer.appendChild(this.document.head,this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,r)=>{const s=i.breakpoint,o=r.breakpoint;let a=null;return a=null==s&&null!=o?-1:null!=s&&null==o?1:null==s&&null==o?0:"string"==typeof s&&"string"==typeof o?s.localeCompare(o,void 0,{numeric:!0}):s<o?-1:s>o?1:0,-1*a});for(let i=0;i<this.responsiveOptions.length;i++){let r=this.responsiveOptions[i];e+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};if(typeof window<"u"){let i=window.innerWidth;for(let r=0;r<this.responsiveOptions.length;r++){let s=this.responsiveOptions[r];parseInt(s.breakpoint,10)>=i&&(e=s)}}if(this._numScroll!==e.numScroll){let i=this._page;i=Math.floor(i*this._numScroll/e.numScroll);let r=e.numScroll*this.page*-1;this.isCircular()&&(r-=e.numVisible),this.totalShiftedItems=r,this._numScroll=e.numScroll,this._page=i,this.onPage.emit({page:this.page})}this._numVisible!==e.numVisible&&(this._numVisible=e.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?.length?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&this.stopAutoplay(),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||0!==this._page)&&this.step(1,i),this.autoplayInterval&&this.stopAutoplay(),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let r=this._page;this.autoplayInterval&&this.stopAutoplay(),i>r?this.navForward(e,i):i<r&&this.navBackward(e,i)}onIndicatorKeydown(e){switch(e.code){case"ArrowRight":this.onRightKey();break;case"ArrowLeft":this.onLeftKey()}}onRightKey(){const e=[...wn.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,i+1===e.length?e.length-1:i+1)}onLeftKey(){const e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,e-1<=0?0:e-1)}onHomeKey(){const e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,0)}onEndKey(){const e=[...wn.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]r')],i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,e.length-1)}onTabKey(){const e=[...wn.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=e.findIndex(o=>!0===wn.getAttribute(o,"data-p-highlight")),r=wn.findSingle(this.indicatorContent.nativeElement,'[data-pc-section="indicator"] > button[tabindex="0"]'),s=e.findIndex(o=>o===r.parentElement);e[s].children[0].tabIndex="-1",e[i].children[0].tabIndex="0"}findFocusedIndicatorIndex(){const e=[...wn.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=wn.findSingle(this.indicatorContent.nativeElement,'[data-pc-section="indicator"] > button[tabindex="0"]');return e.findIndex(r=>r===i.parentElement)}changedFocusedIndicator(e,i){const r=[...wn.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')];r[e].children[0].tabIndex="-1",r[i].children[0].tabIndex="0",r[i].children[0].focus()}step(e,i){let r=this.totalShiftedItems;const s=this.isCircular();null!=i?(r=this._numScroll*i*-1,s&&(r-=this._numVisible),this.isRemainingItemsAdded=!1):(r+=this._numScroll*e,this.isRemainingItemsAdded&&(r+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),i=Math.abs(Math.floor((s?r+this._numVisible:r)/this._numScroll))),s&&this.page===this.totalDots()-1&&-1===e?(r=-1*(this.value.length+this._numVisible),i=0):s&&0===this.page&&1===e?(r=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(r+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${r*(100/this._numVisible)}%, 0)`:`translate3d(${r*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=r,this._page=i,this.onPage.emit({page:this.page}),this.cd.markForCheck()}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval),this.allowAutoplay=!0,this.cd.markForCheck()}stopAutoplay(e=!0){this.interval&&(clearInterval(this.interval),this.interval=void 0,e&&(this.allowAutoplay=!1)),this.cd.markForCheck()}isPlaying(){return!!this.interval}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}ariaPrevButtonLabel(){return this.config.translation.aria?this.config.translation.aria.prevPageLabel:void 0}ariaSlideLabel(){return this.config.translation.aria?this.config.translation.aria.slide:void 0}ariaNextButtonLabel(){return this.config.translation.aria?this.config.translation.aria.nextPageLabel:void 0}ariaSlideNumber(e){return this.config.translation.aria?this.config.translation.aria.slideNumber.replace(/{slideNumber}/g,e):void 0}ariaPageLabel(e){return this.config.translation.aria?this.config.translation.aria.pageLabel.replace(/{page}/g,e):void 0}bindDocumentListeners(){gr(this.platformId)&&(this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{this.calculatePosition()})))}unbindDocumentListeners(){gr(this.platformId)&&this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}static \u0275fac=function(i){return new(i||n)(y($e),y(Ae),y(ai),y(bi),y(Tt),y(oi),y(_6))};static \u0275cmp=Pe({type:n,selectors:[["p-carousel"]],contentQueries:function(i,r,s){if(1&i&&(gn(s,sSe,5),gn(s,oSe,5),gn(s,v6,4)),2&i){let o;Rt(o=Nt())&&(r.headerFacet=o.first),Rt(o=Nt())&&(r.footerFacet=o.first),Rt(o=Nt())&&(r.templates=o)}},viewQuery:function(i,r){if(1&i&&(Il(hSe,5),Il(fSe,5)),2&i){let s;Rt(s=Nt())&&(r.itemsContainer=s.first),Rt(s=Nt())&&(r.indicatorContent=s.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:["circular","circular",xi],showIndicators:["showIndicators","showIndicators",xi],showNavigators:["showNavigators","showNavigators",xi],autoplayInterval:["autoplayInterval","autoplayInterval",Mie],style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[Ao,At],ngContentSelectors:qSe,decls:14,vars:23,consts:[["role","region",3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle","touchend","touchstart","touchmove"],[1,"p-carousel-items-container",3,"transitionend"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle","keydown",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngIf"],["class","p-carousel-prev-icon",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-carousel-prev-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass","ngStyle","keydown"],["indicatorContent",""],["type","button",3,"ngClass","ngStyle","tabindex","click"],[1,"p-carousel-footer"]],template:function(i,r){1&i&&(Io(zSe),T(0,"div",0),U(1,gSe,3,1,"div",1),T(2,"div",2)(3,"div",3),U(4,CSe,3,7,"button",4),T(5,"div",5),K("touchend",function(o){return r.onTouchEnd(o)})("touchstart",function(o){return r.onTouchStart(o)})("touchmove",function(o){return r.onTouchMove(o)}),T(6,"div",6,7),K("transitionend",function(){return r.onTransitionEnd()}),U(8,SSe,2,12,"div",8),U(9,ASe,2,12,"div",8),U(10,kSe,2,9,"div",8),C()(),U(11,VSe,3,7,"button",4),C(),U(12,$Se,3,5,"ul",9),C(),U(13,GSe,3,1,"div",10),C()),2&i&&(Ti(r.styleClass),R("ngClass",Al(18,jSe,r.isVertical(),!r.isVertical()))("ngStyle",r.style),Te("id",r.id),I(1),R("ngIf",r.headerFacet||r.headerTemplate),I(1),Ti(r.contentClass),R("ngClass","p-carousel-content"),I(1),Te("aria-live",r.allowAutoplay?"polite":"off"),I(1),R("ngIf",r.showNavigators),I(1),R("ngStyle",Ir(21,WSe,r.isVertical()?r.verticalViewPortHeight:"auto")),I(3),R("ngForOf",r.clonedItemsForStarting),I(1),R("ngForOf",r.value),I(1),R("ngForOf",r.clonedItemsForFinishing),I(1),R("ngIf",r.showNavigators),I(1),R("ngIf",r.showIndicators),I(1),R("ngIf",r.footerFacet||r.footerTemplate))},dependencies:function(){return[qw,Ci,Rr,Rl,mB,uSe,C6,x6,T6,w6]},styles:["@layer primeng{.p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}}\n"],encapsulation:2,changeDetection:0})}return n})(),KSe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xe({type:n});static \u0275inj=be({imports:[mn,y6,dSe,C6,x6,T6,w6,mn,y6]})}return n})();function XSe(n,t){if(1&n&&(T(0,"div",15),ie(1,"img",16),C()),2&n){const e=t.$implicit;I(1),R("src",e.images.jpg.image_url,$s)}}function QSe(n,t){if(1&n&&(T(0,"div",15),ie(1,"img",16),C()),2&n){const e=t.$implicit;I(1),R("src",e.images.jpg.image_url,$s)}}function ZSe(n,t){if(1&n){const e=Hn();T(0,"div",17)(1,"div",15)(2,"img",18),K("click",function(){const s=Ft(e).$implicit;return Vt(J().openModal(s))}),C(),T(3,"p",19),ee(4),C()()()}if(2&n){const e=t.$implicit;I(2),R("src",e.images.jpg.image_url,$s),I(2),Li(e.title)}}let E6=(()=>{class n{constructor(e,i){this.apiAnimeService=e,this.modalService=i,this.recomendaciones=[],this.animes=[],this.animesAiring=[],this.animesRange=[],this.opTipos=[],this.numPage=1,this.search="",this.numVisible=0,this.isModalOpen=!1,this.user={name:"Izzat Nadiri",age:26}}ngOnInit(){var e=this;return M(function*(){yield e.getAll(),yield e.getAnimeAiring(),yield e.getAnimeByRange(),e.numVisible=window.innerWidth<=768?2:6,window.addEventListener("resize",()=>{e.numVisible=window.innerWidth<=768?2:6})})()}getAll(){var e=this;return M(function*(){yield e.apiAnimeService.getAnimeByPage(e.numPage).subscribe(i=>{console.log(i),e.animes=i.data})})()}searchAnimesByName(){var e=this;return M(function*(){yield e.apiAnimeService.searchAnimesByName(e.search,e.numPage).subscribe(i=>{e.animes=i.data})})()}getAnimeAiring(){var e=this;return M(function*(){yield e.apiAnimeService.getAnimeAiring().subscribe(i=>{console.log(i),e.animesAiring=i.data})})()}getAnimeByRange(){var e=this;return M(function*(){yield e.apiAnimeService.getAnimeByRange().subscribe(i=>{console.log(i),e.animesRange=i.data})})()}saveAnime(e){this.recomendaciones.push(e)}aumentarNumero(){this.numPage++,this.getAll()}restNumber(){this.numPage--,this.getAll()}openModal(e){this.modalService.open(iSe,{centered:!0}).componentInstance.data=e,console.log(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(vW),y(EM))};static#t=this.\u0275cmp=Pe({type:n,selectors:[["app-discover-page"]],decls:25,vars:12,consts:[[1,"body"],[1,"row","nbar","col-lg-12","col-12",2,"margin-bottom","3%"],[1,"col-lg-6","col-4","col-md-6",2,"text-align","left"],[1,"uil","uil-angle-left",3,"click"],[1,"uil","uil-angle-right",3,"click"],[1,"col-lg-5","col-4","col-md-5"],["type","search","aria-label","Search","name","search",1,"form-control","me-2",2,"background-color","transparent","color","white",3,"ngModel","ngModelChange"],[1,"col-lg-1","col-2","col-md-1"],[1,"btn","btn-outline-success",2,"background-color","transparent","color","white","border-color","white",3,"click"],[1,"container","list","col-lg-12"],[3,"value","numVisible","numScroll","circular","showIndicators"],["pTemplate","item"],[1,"table-container"],[1,"row"],["class","col-lg-2 col-6 col-md-4",4,"ngFor","ngForOf"],[1,"card"],["alt","#",1,"imagen",3,"src"],[1,"col-lg-2","col-6","col-md-4"],["alt","#",1,"imagen",3,"src","click"],[1,"title"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"header")(2,"div",1)(3,"div",2)(4,"i",3),K("click",function(){return r.restNumber()}),C(),T(5,"i",4),K("click",function(){return r.aumentarNumero()}),C()(),T(6,"div",5)(7,"input",6),K("ngModelChange",function(o){return r.search=o}),C()(),T(8,"div",7)(9,"button",8),K("click",function(){return r.searchAnimesByName()}),ee(10,"Buscar"),C()()()(),T(11,"div",9)(12,"h4"),ee(13,"Airing"),C(),T(14,"p-carousel",10),U(15,XSe,2,1,"ng-template",11),C(),T(16,"h4"),ee(17,"Score +4"),C(),T(18,"p-carousel",10),U(19,QSe,2,1,"ng-template",11),C(),T(20,"h4"),ee(21,"Lista de Animes"),C(),T(22,"div",12)(23,"div",13),U(24,ZSe,5,2,"div",14),C()()()()),2&i&&(I(7),R("ngModel",r.search),I(7),R("value",r.animesAiring)("numVisible",r.numVisible)("numScroll",2)("circular",!0)("showIndicators",!1),I(4),R("value",r.animesRange)("numVisible",r.numVisible)("numScroll",2)("circular",!0)("showIndicators",!1),I(6),R("ngForOf",r.animes))},dependencies:[Ci,Ig,Gk,mb,YSe,v6],styles:[".body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px}.card[_ngcontent-%COMP%]{padding:5px;margin:5px;background-color:transparent;border:none}mat-icon[_ngcontent-%COMP%]{margin-right:10px}nav[_ngcontent-%COMP%]{background-color:#121212}.imagen[_ngcontent-%COMP%]{width:100%;height:250px;border:1px solid #000000;border-radius:10px}h4[_ngcontent-%COMP%]{text-align:left;margin-bottom:2%;margin-top:2%}.list[_ngcontent-%COMP%]{max-height:calc(92vh - 60px);overflow-y:auto}.list[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}header[_ngcontent-%COMP%]{background-color:transparent;color:#fff;padding:5px 20px;text-align:right;border-radius:10px}.perfil-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}.title[_ngcontent-%COMP%]{color:#fff;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}i[_ngcontent-%COMP%]{font-size:30px}@media (max-width:1000px){.imagen[_ngcontent-%COMP%]{height:180px}.title[_ngcontent-%COMP%]{display:none}}"]})}return n})();const JSe=[{path:"",component:(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Pe({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"menu","px-4","text-center"],[1,"row","gx-3"],[1,"column","col-lg-3"],[1,"column","col-lg-9"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"div",2),ie(3,"app-sidebar"),C(),T(4,"div",3),ie(5,"app-discover-page"),C()()())},dependencies:[rM,E6],styles:[".container[_ngcontent-%COMP%]{background-color:red}i[_ngcontent-%COMP%]{font-size:50px}.app-discover-page[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding-right:15px}"]})}return n})()},{path:"library",component:Ube},{path:"Sidebar",component:rM},{path:"Workplace",component:$be},{path:"Create",component:qbe},{path:"Tier",component:Qbe},{path:"ListNext",component:nSe},{path:"DiscoverPage",component:E6}];let eEe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({imports:[RH.forRoot(JSe,{useHash:!0}),iM,RH]})}return n})(),tEe=(()=>{class n{constructor(){this.title="DATA"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Pe({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&ie(0,"router-outlet")},dependencies:[Q1]})}return n})();const nEe_firebase={apiKey:"AIzaSyB14DmtasKcHP3qgspOmYnuoBj2uyoAsmg",authDomain:"data-aba0f.firebaseapp.com",projectId:"data-aba0f",storageBucket:"data-aba0f.appspot.com",messagingSenderId:"305549292857",appId:"1:305549292857:web:e5b4bdafba9fb4d61524e8"};class $M{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class D6 extends $M{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class iEe extends $M{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class rEe extends $M{constructor(t){super(),this.element=t instanceof $e?t.nativeElement:t}}class sEe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof D6?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof iEe?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof rEe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class oEe extends sEe{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||pn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}function lEe(){}function UM(n){return null==n?lEe:function(){return this.querySelector(n)}}function dEe(){return[]}function A6(n){return null==n?dEe:function(){return this.querySelectorAll(n)}}function I6(n){return function(){return this.matches(n)}}function k6(n){return function(t){return t.matches(n)}}var pEe=Array.prototype.find;function mEe(){return this.firstElementChild}var vEe=Array.prototype.filter;function yEe(){return Array.from(this.children)}function M6(n){return new Array(n.length)}function jb(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function SEe(n,t,e,i,r,s){for(var a,o=0,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):e[o]=new jb(n,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a)}function EEe(n,t,e,i,r,s,o){var a,l,f,c=new Map,u=t.length,d=s.length,h=new Array(u);for(a=0;a<u;++a)(l=t[a])&&(h[a]=f=o.call(l,l.__data__,a,t)+"",c.has(f)?r[a]=l:c.set(f,l));for(a=0;a<d;++a)f=o.call(n,s[a],a,s)+"",(l=c.get(f))?(i[a]=l,l.__data__=s[a],c.delete(f)):e[a]=new jb(n,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(r[a]=l)}function DEe(n){return n.__data__}function IEe(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function OEe(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}jb.prototype={constructor:jb,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var GM="http://www.w3.org/1999/xhtml";const R6={svg:"http://www.w3.org/2000/svg",xhtml:GM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wb(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),R6.hasOwnProperty(t)?{space:R6[t],local:n}:n}function UEe(n){return function(){this.removeAttribute(n)}}function GEe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function zEe(n,t){return function(){this.setAttribute(n,t)}}function jEe(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function WEe(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function qEe(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function N6(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function KEe(n){return function(){this.style.removeProperty(n)}}function XEe(n,t,e){return function(){this.style.setProperty(n,t,e)}}function QEe(n,t,e){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function lh(n,t){return n.style.getPropertyValue(t)||N6(n).getComputedStyle(n,null).getPropertyValue(t)}function JEe(n){return function(){delete this[n]}}function eDe(n,t){return function(){this[n]=t}}function tDe(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function P6(n){return n.trim().split(/^|\s+/)}function zM(n){return n.classList||new O6(n)}function O6(n){this._node=n,this._names=P6(n.getAttribute("class")||"")}function L6(n,t){for(var e=zM(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function F6(n,t){for(var e=zM(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function iDe(n){return function(){L6(this,n)}}function rDe(n){return function(){F6(this,n)}}function sDe(n,t){return function(){(t.apply(this,arguments)?L6:F6)(this,n)}}function aDe(){this.textContent=""}function lDe(n){return function(){this.textContent=n}}function cDe(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function dDe(){this.innerHTML=""}function hDe(n){return function(){this.innerHTML=n}}function fDe(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function gDe(){this.nextSibling&&this.parentNode.appendChild(this)}function _De(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yDe(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===GM&&t.documentElement.namespaceURI===GM?t.createElement(n):t.createElementNS(e,n)}}function bDe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function V6(n){var t=Wb(n);return(t.local?bDe:yDe)(t)}function xDe(){return null}function wDe(){var n=this.parentNode;n&&n.removeChild(this)}function EDe(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function DDe(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function RDe(n){return function(){var t=this.__on;if(t){for(var s,e=0,i=-1,r=t.length;e<r;++e)s=t[e],n.type&&s.type!==n.type||s.name!==n.name?t[++i]=s:this.removeEventListener(s.type,s.listener,s.options);++i?t.length=i:delete this.__on}}}function NDe(n,t,e){return function(){var r,i=this.__on,s=function kDe(n){return function(t){n.call(this,t,this.__data__)}}(t);if(i)for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=e),void(r.value=t);this.addEventListener(n.type,s,e),r={type:n.type,name:n.name,value:t,listener:s,options:e},i?i.push(r):this.__on=[r]}}function B6(n,t,e){var i=N6(n),r=i.CustomEvent;"function"==typeof r?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function ODe(n,t){return function(){return B6(this,n,t)}}function LDe(n,t){return function(){return B6(this,n,t.apply(this,arguments))}}O6.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var H6=[null];function $r(n,t){this._groups=n,this._parents=t}function $6(){return new $r([[document.documentElement]],H6)}$r.prototype=$6.prototype={constructor:$r,select:function cEe(n){"function"!=typeof n&&(n=UM(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,c,s=t[r],o=s.length,a=i[r]=new Array(o),u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new $r(i,this._parents)},selectAll:function fEe(n){n="function"==typeof n?function hEe(n){return function(){return function uEe(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):A6(n);for(var t=this._groups,e=t.length,i=[],r=[],s=0;s<e;++s)for(var l,o=t[s],a=o.length,c=0;c<a;++c)(l=o[c])&&(i.push(n.call(l,l.__data__,c,o)),r.push(l));return new $r(i,r)},selectChild:function _Ee(n){return this.select(null==n?mEe:function gEe(n){return function(){return pEe.call(this.children,n)}}("function"==typeof n?n:k6(n)))},selectChildren:function TEe(n){return this.selectAll(null==n?yEe:function bEe(n){return function(){return vEe.call(this.children,n)}}("function"==typeof n?n:k6(n)))},filter:function xEe(n){"function"!=typeof n&&(n=I6(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new $r(i,this._parents)},data:function AEe(n,t){if(!arguments.length)return Array.from(this,DEe);var e=t?EEe:SEe,i=this._parents,r=this._groups;"function"!=typeof n&&(n=function wEe(n){return function(){return n}}(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],d=r[c],h=d.length,f=IEe(n.call(u,u&&u.__data__,c,i)),p=f.length,m=a[c]=new Array(p),g=o[c]=new Array(p);e(u,d,m,g,l[c]=new Array(h),f,t);for(var x,D,_=0,b=0;_<p;++_)if(x=m[_]){for(_>=b&&(b=_+1);!(D=g[b])&&++b<p;);x._next=D||null}}return(o=new $r(o,i))._enter=a,o._exit=l,o},enter:function CEe(){return new $r(this._enter||this._groups.map(M6),this._parents)},exit:function kEe(){return new $r(this._exit||this._groups.map(M6),this._parents)},join:function MEe(n,t,e){var i=this.enter(),r=this,s=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=t&&(r=t(r))&&(r=r.selection()),null==e?s.remove():e(s),i&&r?i.merge(r).order():r},merge:function REe(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,r=e.length,o=Math.min(r,i.length),a=new Array(r),l=0;l<o;++l)for(var f,c=e[l],u=i[l],d=c.length,h=a[l]=new Array(d),p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<r;++l)a[l]=e[l];return new $r(a,this._parents)},selection:function BDe(){return this},order:function NEe(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var o,i=n[t],r=i.length-1,s=i[r];--r>=0;)(o=i[r])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function PEe(n){function t(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}n||(n=OEe);for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s){for(var c,o=e[s],a=o.length,l=r[s]=new Array(a),u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new $r(r,this._parents).order()},call:function LEe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function FEe(){return Array.from(this)},node:function VEe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function BEe(){let n=0;for(const t of this)++n;return n},empty:function HEe(){return!this.node()},each:function $Ee(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a,r=t[e],s=0,o=r.length;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this},attr:function YEe(n,t){var e=Wb(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==t?e.local?GEe:UEe:"function"==typeof t?e.local?qEe:WEe:e.local?jEe:zEe)(e,t))},style:function ZEe(n,t,e){return arguments.length>1?this.each((null==t?KEe:"function"==typeof t?QEe:XEe)(n,t,e??"")):lh(this.node(),n)},property:function nDe(n,t){return arguments.length>1?this.each((null==t?JEe:"function"==typeof t?tDe:eDe)(n,t)):this.node()[n]},classed:function oDe(n,t){var e=P6(n+"");if(arguments.length<2){for(var i=zM(this.node()),r=-1,s=e.length;++r<s;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof t?sDe:t?iDe:rDe)(e,t))},text:function uDe(n){return arguments.length?this.each(null==n?aDe:("function"==typeof n?cDe:lDe)(n)):this.node().textContent},html:function pDe(n){return arguments.length?this.each(null==n?dDe:("function"==typeof n?fDe:hDe)(n)):this.node().innerHTML},raise:function mDe(){return this.each(gDe)},lower:function vDe(){return this.each(_De)},append:function TDe(n){var t="function"==typeof n?n:V6(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function CDe(n,t){var e="function"==typeof n?n:V6(n),i=null==t?xDe:"function"==typeof t?t:UM(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function SDe(){return this.each(wDe)},clone:function ADe(n){return this.select(n?DDe:EDe)},datum:function IDe(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function PDe(n,t,e){var r,o,i=function MDe(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}(n+""),s=i.length;if(!(arguments.length<2)){for(a=t?NDe:RDe,r=0;r<s;++r)this.each(a(i[r],t,e));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function FDe(n,t){return this.each(("function"==typeof t?LDe:ODe)(n,t))},[Symbol.iterator]:function*VDe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var o,i=n[t],r=0,s=i.length;r<s;++r)(o=i[r])&&(yield o)}};const em=$6;var HDe={value:()=>{}};function U6(){for(var i,n=0,t=arguments.length,e={};n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new qb(e)}function qb(n){this._=n}function UDe(n,t){for(var r,e=0,i=n.length;e<i;++e)if((r=n[e]).name===t)return r.value}function G6(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=HDe,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:t,value:e}),n}qb.prototype=U6.prototype={constructor:qb,on:function(n,t){var r,e=this._,i=function $De(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}(n+"",e),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(n=i[s]).type)e[r]=G6(e[r],n.name,t);else if(null==t)for(r in e)e[r]=G6(e[r],n.name,null);return this}for(;++s<o;)if((r=(n=i[s]).type)&&(r=UDe(e[r],n.name)))return r},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new qb(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var r,s,e=new Array(r),i=0;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(s=this._[n]).length;i<r;++i)s[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(t,e)}};const z6=U6;function qM(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function j6(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function tm(){}var Yb=1/.7,ch="\\s*([+-]?\\d+)\\s*",im="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jDe=/^#([0-9a-f]{3,8})$/,WDe=new RegExp(`^rgb\\(${ch},${ch},${ch}\\)$`),qDe=new RegExp(`^rgb\\(${fo},${fo},${fo}\\)$`),YDe=new RegExp(`^rgba\\(${ch},${ch},${ch},${im}\\)$`),KDe=new RegExp(`^rgba\\(${fo},${fo},${fo},${im}\\)$`),XDe=new RegExp(`^hsl\\(${im},${fo},${fo}\\)$`),QDe=new RegExp(`^hsla\\(${im},${fo},${fo},${im}\\)$`),W6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function q6(){return this.rgb().formatHex()}function Y6(){return this.rgb().formatRgb()}function Ic(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=jDe.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?K6(t):3===e?new Tr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?Kb(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?Kb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=WDe.exec(n))?new Tr(t[1],t[2],t[3],1):(t=qDe.exec(n))?new Tr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=YDe.exec(n))?Kb(t[1],t[2],t[3],t[4]):(t=KDe.exec(n))?Kb(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=XDe.exec(n))?Z6(t[1],t[2]/100,t[3]/100,1):(t=QDe.exec(n))?Z6(t[1],t[2]/100,t[3]/100,t[4]):W6.hasOwnProperty(n)?K6(W6[n]):"transparent"===n?new Tr(NaN,NaN,NaN,0):null}function K6(n){return new Tr(n>>16&255,n>>8&255,255&n,1)}function Kb(n,t,e,i){return i<=0&&(n=t=e=NaN),new Tr(n,t,e,i)}function Xb(n,t,e,i){return 1===arguments.length?function eAe(n){return n instanceof tm||(n=Ic(n)),n?new Tr((n=n.rgb()).r,n.g,n.b,n.opacity):new Tr}(n):new Tr(n,t,e,i??1)}function Tr(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}function X6(){return`#${Mc(this.r)}${Mc(this.g)}${Mc(this.b)}`}function Q6(){const n=Qb(this.opacity);return`${1===n?"rgb(":"rgba("}${kc(this.r)}, ${kc(this.g)}, ${kc(this.b)}${1===n?")":`, ${n})`}`}function Qb(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function kc(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Mc(n){return((n=kc(n))<16?"0":"")+n.toString(16)}function Z6(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Is(n,t,e,i)}function J6(n){if(n instanceof Is)return new Is(n.h,n.s,n.l,n.opacity);if(n instanceof tm||(n=Ic(n)),!n)return new Is;if(n instanceof Is)return n;var t=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),s=Math.max(t,e,i),o=NaN,a=s-r,l=(s+r)/2;return a?(o=t===s?(e-i)/a+6*(e<i):e===s?(i-t)/a+2:(t-e)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new Is(o,a,l,n.opacity)}function Is(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}function e9(n){return(n=(n||0)%360)<0?n+360:n}function Zb(n){return Math.max(0,Math.min(1,n||0))}function YM(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function t9(n,t,e,i,r){var s=n*n,o=s*n;return((1-3*n+3*s-o)*t+(4-6*s+3*o)*e+(1+3*n+3*s-3*o)*i+o*r)/6}qM(tm,Ic,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:q6,formatHex:q6,formatHex8:function ZDe(){return this.rgb().formatHex8()},formatHsl:function JDe(){return J6(this).formatHsl()},formatRgb:Y6,toString:Y6}),qM(Tr,Xb,j6(tm,{brighter(n){return n=null==n?Yb:Math.pow(Yb,n),new Tr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Tr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Tr(kc(this.r),kc(this.g),kc(this.b),Qb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:X6,formatHex:X6,formatHex8:function tAe(){return`#${Mc(this.r)}${Mc(this.g)}${Mc(this.b)}${Mc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Q6,toString:Q6})),qM(Is,function nAe(n,t,e,i){return 1===arguments.length?J6(n):new Is(n,t,e,i??1)},j6(tm,{brighter(n){return n=null==n?Yb:Math.pow(Yb,n),new Is(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Is(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new Tr(YM(n>=240?n-240:n+120,r,i),YM(n,r,i),YM(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Is(e9(this.h),Zb(this.s),Zb(this.l),Qb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Qb(this.opacity);return`${1===n?"hsl(":"hsla("}${e9(this.h)}, ${100*Zb(this.s)}%, ${100*Zb(this.l)}%${1===n?")":`, ${n})`}`}}));const KM=n=>()=>n;function i9(n,t){var e=t-n;return e?function n9(n,t){return function(e){return n+e*t}}(n,e):KM(isNaN(n)?t:n)}const Jb=function n(t){var e=function oAe(n){return 1==(n=+n)?i9:function(t,e){return e-t?function sAe(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}(t,e,n):KM(isNaN(t)?e:t)}}(t);function i(r,s){var o=e((r=Xb(r)).r,(s=Xb(s)).r),a=e(r.g,s.g),l=e(r.b,s.b),c=i9(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=n,i}(1);function r9(n){return function(t){var o,a,e=t.length,i=new Array(e),r=new Array(e),s=new Array(e);for(o=0;o<e;++o)a=Xb(t[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=n(i),r=n(r),s=n(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}function ks(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}r9(function iAe(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=n[i],s=n[i+1];return t9((e-i/t)*t,i>0?n[i-1]:2*r-s,r,s,i<t-1?n[i+2]:2*s-r)}}),r9(function rAe(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t);return t9((e-i/t)*t,n[(i+t-1)%t],n[i%t],n[(i+1)%t],n[(i+2)%t])}});var XM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,QM=new RegExp(XM.source,"g");function o9(n,t){var i,r,s,e=XM.lastIndex=QM.lastIndex=0,o=-1,a=[],l=[];for(n+="",t+="";(i=XM.exec(n))&&(r=QM.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:ks(i,r)})),e=QM.lastIndex;return e<t.length&&(s=t.slice(e),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?function uAe(n){return function(t){return n(t)+""}}(l[0].x):function cAe(n){return function(){return n}}(t):(t=l.length,function(c){for(var d,u=0;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var tT,om,uh=0,rm=0,sm=0,l9=1e3,nT=0,Rc=0,iT=0,am="object"==typeof performance&&performance.now?performance:Date,c9="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function ZM(){return Rc||(c9(pAe),Rc=am.now()+iT)}function pAe(){Rc=0}function rT(){this._call=this._time=this._next=null}function u9(n,t,e){var i=new rT;return i.restart(n,t,e),i}function d9(){Rc=(nT=am.now())+iT,uh=rm=0;try{!function gAe(){ZM(),++uh;for(var t,n=tT;n;)(t=Rc-n._time)>=0&&n._call.call(void 0,t),n=n._next;--uh}()}finally{uh=0,function _Ae(){for(var n,e,t=tT,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:tT=e);om=n,JM(i)}(),Rc=0}}function mAe(){var n=am.now(),t=n-nT;t>l9&&(iT-=t,nT=n)}function JM(n){uh||(rm&&(rm=clearTimeout(rm)),n-Rc>24?(n<1/0&&(rm=setTimeout(d9,n-am.now()-iT)),sm&&(sm=clearInterval(sm))):(sm||(nT=am.now(),sm=setInterval(mAe,l9)),uh=1,c9(d9)))}function h9(n,t,e){var i=new rT;return i.restart(r=>{i.stop(),n(r+t)},t=null==t?0:+t,e),i}rT.prototype=u9.prototype={constructor:rT,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?ZM():+e)+(null==t?0:+t),!this._next&&om!==this&&(om?om._next=this:tT=this,om=this),this._call=n,this._time=e,JM()},stop:function(){this._call&&(this._call=null,this._time=1/0,JM())}};var vAe=z6("start","end","cancel","interrupt"),yAe=[],f9=0,sT=3;function aT(n,t,e,i,r,s){var o=n.__transition;if(o){if(e in o)return}else n.__transition={};!function bAe(n,t,e){var r,i=n.__transition;function o(c){var u,d,h,f;if(1!==e.state)return l();for(u in i)if((f=i[u]).name===e.name){if(f.state===sT)return h9(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete i[u])}if(h9(function(){e.state===sT&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=sT,r=new Array(h=e.tween.length),u=0,d=-1;u<h;++u)(f=e.tween[u].value.call(n,n.__data__,e.index,e.group))&&(r[++d]=f);r.length=d+1}}function a(c){for(var u=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=5,1),d=-1,h=r.length;++d<h;)r[d].call(n,u);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),l())}function l(){for(var c in e.state=6,e.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=e,e.timer=u9(function s(c){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=c&&o(c-e.delay)},0,e.time)}(n,e,{name:t,index:i,group:r,on:vAe,tween:yAe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:f9})}function nR(n,t){var e=Ms(n,t);if(e.state>f9)throw new Error("too late; already scheduled");return e}function po(n,t){var e=Ms(n,t);if(e.state>sT)throw new Error("too late; already running");return e}function Ms(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}var lT,m9=180/Math.PI,rR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _9(n,t,e,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(l=n*e+t*i)&&(e-=n*l,i-=t*l),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,l/=a),n*i<t*e&&(n=-n,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,n)*m9,skewX:Math.atan(l)*m9,scaleX:o,scaleY:a}}function v9(n,t,e,i){function r(c){return c.length?c.pop()+" ":""}return function(c,u){var d=[],h=[];return c=n(c),u=n(u),function s(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push("translate(",null,t,null,e);p.push({i:m-4,x:ks(c,d)},{i:m-2,x:ks(u,h)})}else(d||h)&&f.push("translate("+d+t+h+e)}(c.translateX,c.translateY,u.translateX,u.translateY,d,h),function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(r(d)+"rotate(",null,i)-2,x:ks(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}(c.rotate,u.rotate,d,h),function a(c,u,d,h){c!==u?h.push({i:d.push(r(d)+"skewX(",null,i)-2,x:ks(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}(c.skewX,u.skewX,d,h),function l(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push(r(f)+"scale(",null,",",null,")");p.push({i:m-4,x:ks(c,d)},{i:m-2,x:ks(u,h)})}else(1!==d||1!==h)&&f.push(r(f)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var g,p=-1,m=h.length;++p<m;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var wAe=v9(function xAe(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?rR:_9(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),SAe=v9(function CAe(n){return null!=n&&(lT||(lT=document.createElementNS("http://www.w3.org/2000/svg","g")),lT.setAttribute("transform",n),n=lT.transform.baseVal.consolidate())?_9((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):rR},", ",")",")");function EAe(n,t){var e,i;return function(){var r=po(this,n),s=r.tween;if(s!==e)for(var o=0,a=(i=e=s).length;o<a;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}r.tween=i}}function DAe(n,t,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var s=po(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:e},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function sR(n,t,e){var i=n._id;return n.each(function(){var r=po(this,i);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return Ms(r,i).value[t]}}function y9(n,t){var e;return("number"==typeof t?ks:t instanceof Ic?Jb:(e=Ic(t))?(t=e,Jb):o9)(n,t)}function IAe(n){return function(){this.removeAttribute(n)}}function kAe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function MAe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=t(i=o,e)}}function RAe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=t(i=o,e)}}function NAe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttribute(n):(o=this.getAttribute(n))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function PAe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function VAe(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function FAe(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}(n,s)),e}return r._value=t,r}function BAe(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function LAe(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}(n,s)),e}return r._value=t,r}function $Ae(n,t){return function(){nR(this,n).delay=+t.apply(this,arguments)}}function UAe(n,t){return t=+t,function(){nR(this,n).delay=t}}function zAe(n,t){return function(){po(this,n).duration=+t.apply(this,arguments)}}function jAe(n,t){return t=+t,function(){po(this,n).duration=t}}var oIe=em.prototype.constructor;function b9(n){return function(){this.style.removeProperty(n)}}var wIe=0;function na(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function T9(){return++wIe}var ia=em.prototype;na.prototype=function SIe(n){return em().transition(n)}.prototype={constructor:na,select:function rIe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=UM(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var u,d,a=i[o],l=a.length,c=s[o]=new Array(l),h=0;h<l;++h)(u=a[h])&&(d=n.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,aT(c[h],t,e,h,c,Ms(u,e)));return new na(s,this._parents,t,e)},selectAll:function sIe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=A6(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var u,l=i[a],c=l.length,d=0;d<c;++d)if(u=l[d]){for(var f,h=n.call(u,u.__data__,d,l),p=Ms(u,e),m=0,g=h.length;m<g;++m)(f=h[m])&&aT(f,t,e,m,h,p);s.push(h),o.push(u)}return new na(s,o,t,e)},selectChild:ia.selectChild,selectChildren:ia.selectChildren,filter:function QAe(n){"function"!=typeof n&&(n=I6(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new na(i,this._parents,this._name,this._id)},merge:function ZAe(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,s=Math.min(i,e.length),o=new Array(i),a=0;a<s;++a)for(var h,l=t[a],c=e[a],u=l.length,d=o[a]=new Array(u),f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<i;++a)o[a]=t[a];return new na(o,this._parents,this._name,this._id)},selection:function aIe(){return new oIe(this._groups,this._parents)},transition:function xIe(){for(var n=this._name,t=this._id,e=T9(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)if(l=o[c]){var u=Ms(l,t);aT(l,n,e,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new na(i,this._parents,n,e)},call:ia.call,nodes:ia.nodes,node:ia.node,size:ia.size,empty:ia.empty,each:ia.each,on:function tIe(n,t){var e=this._id;return arguments.length<2?Ms(this.node(),e).on.on(n):this.each(function eIe(n,t,e){var i,r,s=function JAe(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?nR:po;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(t,e),o.on=r}}(e,n,t))},attr:function OAe(n,t){var e=Wb(n),i="transform"===e?SAe:y9;return this.attrTween(n,"function"==typeof t?(e.local?PAe:NAe)(e,i,sR(this,"attr."+n,t)):null==t?(e.local?kAe:IAe)(e):(e.local?RAe:MAe)(e,i,t))},attrTween:function HAe(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var i=Wb(n);return this.tween(e,(i.local?VAe:BAe)(i,t))},style:function hIe(n,t,e){var i="transform"==(n+="")?wAe:y9;return null==t?this.styleTween(n,function lIe(n,t){var e,i,r;return function(){var s=lh(this,n),o=(this.style.removeProperty(n),lh(this,n));return s===o?null:s===e&&o===i?r:r=t(e=s,i=o)}}(n,i)).on("end.style."+n,b9(n)):"function"==typeof t?this.styleTween(n,function uIe(n,t,e){var i,r,s;return function(){var o=lh(this,n),a=e(this),l=a+"";return null==a&&(this.style.removeProperty(n),l=a=lh(this,n)),o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}(n,i,sR(this,"style."+n,t))).each(function dIe(n,t){var e,i,r,a,s="style."+t,o="end."+s;return function(){var l=po(this,n),c=l.on,u=null==l.value[s]?a||(a=b9(t)):void 0;(c!==e||r!==u)&&(i=(e=c).copy()).on(o,r=u),l.on=i}}(this._id,n)):this.styleTween(n,function cIe(n,t,e){var i,s,r=e+"";return function(){var o=lh(this,n);return o===r?null:o===i?s:s=t(i=o,e)}}(n,i,t),e).on("end.style."+n,null)},styleTween:function gIe(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function pIe(n,t,e){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&function fIe(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}(n,o,e)),i}return s._value=t,s}(n,t,e??""))},text:function vIe(n){return this.tween("text","function"==typeof n?function _Ie(n){return function(){var t=n(this);this.textContent=t??""}}(sR(this,"text",n)):function mIe(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function TIe(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,function bIe(n){var t,e;function i(){var r=n.apply(this,arguments);return r!==e&&(t=(e=r)&&function yIe(n){return function(t){this.textContent=n.call(this,t)}}(r)),t}return i._value=n,i}(n))},remove:function iIe(){return this.on("end.remove",function nIe(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function AAe(n,t){var e=this._id;if(n+="",arguments.length<2){for(var o,i=Ms(this.node(),e).tween,r=0,s=i.length;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((null==t?EAe:DAe)(e,n,t))},delay:function GAe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?$Ae:UAe)(t,n)):Ms(this.node(),t).delay},duration:function WAe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?zAe:jAe)(t,n)):Ms(this.node(),t).duration},ease:function YAe(n){var t=this._id;return arguments.length?this.each(function qAe(n,t){if("function"!=typeof t)throw new Error;return function(){po(this,n).ease=t}}(t,n)):Ms(this.node(),t).ease},easeVarying:function XAe(n){if("function"!=typeof n)throw new Error;return this.each(function KAe(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;po(this,n).ease=e}}(this._id,n))},end:function CIe(){var n,t,e=this,i=e._id,r=e.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--r&&s()}};e.each(function(){var c=po(this,i),u=c.on;u!==n&&((t=(n=u).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),0===r&&s()})},[Symbol.iterator]:ia[Symbol.iterator]};var DIe={time:null,delay:0,duration:250,ease:function EIe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function AIe(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}em.prototype.interrupt=function TAe(n){return this.each(function(){!function iR(n,t){var i,r,o,e=n.__transition,s=!0;if(e){for(o in t=null==t?null:t+"",e)(i=e[o]).name===t?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[o]):s=!1;s&&delete n.__transition}}(this,n)})},em.prototype.transition=function IIe(n){var t,e;n instanceof na?(t=n._id,n=n._name):(t=T9(),(e=DIe).time=ZM(),n=null==n?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)(l=o[c])&&aT(l,n,t,c,o,e||AIe(l,t));return new na(i,this._parents,n,t)};Math;function lm(n){return{type:n}}function dT(n,t){return null==n||null==t?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function HIe(n,t){return null==n||null==t?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function hR(n){let t,e,i;function r(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}return 2!==n.length?(t=dT,e=(a,l)=>dT(n(a),l),i=(a,l)=>n(a)-l):(t=n===dT||n===HIe?n:$Ie,e=n,i=n),{left:r,center:function o(a,l,c=0,u=a.length){const d=r(a,l,c,u-1);return d>c&&i(a[d-1],l)>-i(a[d],l)?d-1:d},right:function s(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}}}function $Ie(){return 0}["w","e"].map(lm),["n","s"].map(lm),["n","w","e","s","nw","ne","sw","se"].map(lm);const UIe=Math.sqrt(50),GIe=Math.sqrt(10),zIe=Math.sqrt(2);function hT(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=UIe?10:s>=GIe?5:s>=zIe?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(n*c),l=Math.round(t*c),a/c<n&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(n/c),l=Math.round(t/c),a*c<n&&++a,l*c>t&&--l),l<a&&.5<=e&&e<2?hT(n,t,2*e):[a,l,c]}function fR(n,t,e){return hT(n=+n,t=+t,e=+e)[2]}function pR(n,t,e){e=+e;const i=(t=+t)<(n=+n),r=i?fR(t,n,e):fR(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}const sa=1e3,us=6e4,oa=60*us,aa=24*oa,gR=7*aa,D9=30*aa,mR=365*aa,_R=new Date,vR=new Date;function ni(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),t(s,1),n(s),s),r.round=s=>{const o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=(s,o)=>(t(s=new Date(+s),null==o?1:Math.floor(o)),s),r.range=(s,o,a)=>{const l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;let c;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=s=>ni(o=>{if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),e&&(r.count=(s,o)=>(_R.setTime(+s),vR.setTime(+o),n(_R),n(vR),Math.floor(e(_R,vR))),r.every=s=>(s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?o=>i(o)%s==0:o=>r.count(0,o)%s==0):r:null)),r}const fT=ni(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);fT.every=n=>(n=Math.floor(n),isFinite(n)&&n>0?n>1?ni(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):fT:null);const fh=ni(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*sa)},(n,t)=>(t-n)/sa,n=>n.getUTCSeconds()),yR=ni(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*sa)},(n,t)=>{n.setTime(+n+t*us)},(n,t)=>(t-n)/us,n=>n.getMinutes()),A9=ni(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*us)},(n,t)=>(t-n)/us,n=>n.getUTCMinutes()),bR=ni(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*sa-n.getMinutes()*us)},(n,t)=>{n.setTime(+n+t*oa)},(n,t)=>(t-n)/oa,n=>n.getHours()),I9=ni(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*oa)},(n,t)=>(t-n)/oa,n=>n.getUTCHours()),TR=ni(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*us)/aa,n=>n.getDate()-1),k9=(ni(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/aa,n=>n.getUTCDate()-1),ni(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/aa,n=>Math.floor(n/aa)));function Nc(n){return ni(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*us)/gR)}const xR=Nc(0);function Pc(n){return ni(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/gR)}Nc(1),Nc(2),Nc(3),Nc(4),Nc(5),Nc(6);const M9=Pc(0),CR=(Pc(1),Pc(2),Pc(3),Pc(4),Pc(5),Pc(6),ni(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear()),n=>n.getMonth())),R9=ni(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear()),n=>n.getUTCMonth()),pT=ni(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());pT.every=n=>isFinite(n=Math.floor(n))&&n>0?ni(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)}):null;const wR=ni(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());function N9(n,t,e,i,r,s){const o=[[fh,1,sa],[fh,5,5e3],[fh,15,15e3],[fh,30,3e4],[s,1,us],[s,5,5*us],[s,15,15*us],[s,30,30*us],[r,1,oa],[r,3,3*oa],[r,6,6*oa],[r,12,12*oa],[i,1,aa],[i,2,2*aa],[e,1,gR],[t,1,D9],[t,3,3*D9],[n,1,mR]];function l(c,u,d){const h=Math.abs(u-c)/d,f=hR(([,,g])=>g).right(o,h);if(f===o.length)return n.every(pR(c/mR,u/mR,d));if(0===f)return fT.every(Math.max(pR(c,u,d),1));const[p,m]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return p.every(m)}return[function a(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&"function"==typeof d.range?d:l(c,u,d),p=f?f.range(c,+u+1):[];return h?p.reverse():p},l]}wR.every=n=>isFinite(n=Math.floor(n))&&n>0?ni(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null;const[BYe,HYe]=N9(wR,R9,M9,k9,I9,A9),[rke,ske]=N9(pT,CR,xR,TR,bR,yR);var SR=new Date,ER=new Date;function la(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=function(s){return n(s=new Date(+s)),s},r.ceil=function(s){return n(s=new Date(s-1)),t(s,1),n(s),s},r.round=function(s){var o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=function(s,o){return t(s=new Date(+s),null==o?1:Math.floor(o)),s},r.range=function(s,o,a){var c,l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=function(s){return la(function(o){if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););})},e&&(r.count=function(s,o){return SR.setTime(+s),ER.setTime(+o),n(SR),n(ER),Math.floor(e(SR,ER))},r.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?function(o){return i(o)%s==0}:function(o){return r.count(0,o)%s==0}):r:null}),r}const cm=864e5,P9=7*cm;function Oc(n){return la(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/P9})}var O9=Oc(0),gT=Oc(1),ph=(Oc(2),Oc(3),Oc(4)),L9=(Oc(5),Oc(6),la(function(n){n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t-n)/cm},function(n){return n.getUTCDate()-1}));const F9=L9;function Lc(n){return la(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/P9})}var V9=Lc(0),mT=Lc(1),gh=(Lc(2),Lc(3),Lc(4)),B9=(Lc(5),Lc(6),la(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/cm,n=>n.getDate()-1));const H9=B9;var AR=la(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});AR.every=function(n){return isFinite(n=Math.floor(n))&&n>0?la(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};const um=AR;var IR=la(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});IR.every=function(n){return isFinite(n=Math.floor(n))&&n>0?la(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};const dm=IR;function kR(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function MR(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function hm(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}var $9={"-":"",_:" ",0:"0"},fi=/^\s*\d+/,gke=/^%/,mke=/[\\^$*+?|[\]().{}]/g;function yt(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<e?new Array(e-s+1).join(t)+r:r)}function _ke(n){return n.replace(mke,"\\$&")}function fm(n){return new RegExp("^(?:"+n.map(_ke).join("|")+")","i")}function pm(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function vke(n,t,e){var i=fi.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function yke(n,t,e){var i=fi.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function bke(n,t,e){var i=fi.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function Tke(n,t,e){var i=fi.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function xke(n,t,e){var i=fi.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function U9(n,t,e){var i=fi.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function G9(n,t,e){var i=fi.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function Cke(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function wke(n,t,e){var i=fi.exec(t.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function Ske(n,t,e){var i=fi.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function z9(n,t,e){var i=fi.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function Eke(n,t,e){var i=fi.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function j9(n,t,e){var i=fi.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function Dke(n,t,e){var i=fi.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function Ake(n,t,e){var i=fi.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function Ike(n,t,e){var i=fi.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function kke(n,t,e){var i=fi.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function Mke(n,t,e){var i=gke.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function Rke(n,t,e){var i=fi.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function Nke(n,t,e){var i=fi.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function W9(n,t){return yt(n.getDate(),t,2)}function Pke(n,t){return yt(n.getHours(),t,2)}function Oke(n,t){return yt(n.getHours()%12||12,t,2)}function Lke(n,t){return yt(1+H9.count(um(n),n),t,3)}function q9(n,t){return yt(n.getMilliseconds(),t,3)}function Fke(n,t){return q9(n,t)+"000"}function Vke(n,t){return yt(n.getMonth()+1,t,2)}function Bke(n,t){return yt(n.getMinutes(),t,2)}function Hke(n,t){return yt(n.getSeconds(),t,2)}function $ke(n){var t=n.getDay();return 0===t?7:t}function Uke(n,t){return yt(V9.count(um(n)-1,n),t,2)}function Y9(n){var t=n.getDay();return t>=4||0===t?gh(n):gh.ceil(n)}function Gke(n,t){return n=Y9(n),yt(gh.count(um(n),n)+(4===um(n).getDay()),t,2)}function zke(n){return n.getDay()}function jke(n,t){return yt(mT.count(um(n)-1,n),t,2)}function Wke(n,t){return yt(n.getFullYear()%100,t,2)}function qke(n,t){return yt((n=Y9(n)).getFullYear()%100,t,2)}function Yke(n,t){return yt(n.getFullYear()%1e4,t,4)}function Kke(n,t){var e=n.getDay();return yt((n=e>=4||0===e?gh(n):gh.ceil(n)).getFullYear()%1e4,t,4)}function Xke(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yt(t/60|0,"0",2)+yt(t%60,"0",2)}function K9(n,t){return yt(n.getUTCDate(),t,2)}function Qke(n,t){return yt(n.getUTCHours(),t,2)}function Zke(n,t){return yt(n.getUTCHours()%12||12,t,2)}function Jke(n,t){return yt(1+F9.count(dm(n),n),t,3)}function X9(n,t){return yt(n.getUTCMilliseconds(),t,3)}function eMe(n,t){return X9(n,t)+"000"}function tMe(n,t){return yt(n.getUTCMonth()+1,t,2)}function nMe(n,t){return yt(n.getUTCMinutes(),t,2)}function iMe(n,t){return yt(n.getUTCSeconds(),t,2)}function rMe(n){var t=n.getUTCDay();return 0===t?7:t}function sMe(n,t){return yt(O9.count(dm(n)-1,n),t,2)}function Q9(n){var t=n.getUTCDay();return t>=4||0===t?ph(n):ph.ceil(n)}function oMe(n,t){return n=Q9(n),yt(ph.count(dm(n),n)+(4===dm(n).getUTCDay()),t,2)}function aMe(n){return n.getUTCDay()}function lMe(n,t){return yt(gT.count(dm(n)-1,n),t,2)}function cMe(n,t){return yt(n.getUTCFullYear()%100,t,2)}function uMe(n,t){return yt((n=Q9(n)).getUTCFullYear()%100,t,2)}function dMe(n,t){return yt(n.getUTCFullYear()%1e4,t,4)}function hMe(n,t){var e=n.getUTCDay();return yt((n=e>=4||0===e?ph(n):ph.ceil(n)).getUTCFullYear()%1e4,t,4)}function fMe(){return"+0000"}function Z9(){return"%"}function J9(n){return+n}function e7(n){return Math.floor(+n/1e3)}!function _Me(n){(function pke(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,s=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,c=fm(r),u=pm(r),d=fm(s),h=pm(s),f=fm(o),p=pm(o),m=fm(a),g=pm(a),v=fm(l),_=pm(l),b={a:function Y(ne){return o[ne.getDay()]},A:function he(ne){return s[ne.getDay()]},b:function de(ne){return l[ne.getMonth()]},B:function We(ne){return a[ne.getMonth()]},c:null,d:W9,e:W9,f:Fke,g:qke,G:Kke,H:Pke,I:Oke,j:Lke,L:q9,m:Vke,M:Bke,p:function at(ne){return r[+(ne.getHours()>=12)]},q:function Xe(ne){return 1+~~(ne.getMonth()/3)},Q:J9,s:e7,S:Hke,u:$ke,U:Uke,V:Gke,w:zke,W:jke,x:null,X:null,y:Wke,Y:Yke,Z:Xke,"%":Z9},x={a:function si(ne){return o[ne.getUTCDay()]},A:function it(ne){return s[ne.getUTCDay()]},b:function pi(ne){return l[ne.getUTCMonth()]},B:function xr(ne){return a[ne.getUTCMonth()]},c:null,d:K9,e:K9,f:eMe,g:uMe,G:hMe,H:Qke,I:Zke,j:Jke,L:X9,m:tMe,M:nMe,p:function Ze(ne){return r[+(ne.getUTCHours()>=12)]},q:function vn(ne){return 1+~~(ne.getUTCMonth()/3)},Q:J9,s:e7,S:iMe,u:rMe,U:sMe,V:oMe,w:aMe,W:lMe,x:null,X:null,y:cMe,Y:dMe,Z:fMe,"%":Z9},D={a:function me(ne,Ie,qe){var j=f.exec(Ie.slice(qe));return j?(ne.w=p.get(j[0].toLowerCase()),qe+j[0].length):-1},A:function ce(ne,Ie,qe){var j=d.exec(Ie.slice(qe));return j?(ne.w=h.get(j[0].toLowerCase()),qe+j[0].length):-1},b:function ot(ne,Ie,qe){var j=v.exec(Ie.slice(qe));return j?(ne.m=_.get(j[0].toLowerCase()),qe+j[0].length):-1},B:function Ce(ne,Ie,qe){var j=m.exec(Ie.slice(qe));return j?(ne.m=g.get(j[0].toLowerCase()),qe+j[0].length):-1},c:function nt(ne,Ie,qe){return X(ne,t,Ie,qe)},d:z9,e:z9,f:kke,g:G9,G:U9,H:j9,I:j9,j:Eke,L:Ike,m:Ske,M:Dke,p:function we(ne,Ie,qe){var j=c.exec(Ie.slice(qe));return j?(ne.p=u.get(j[0].toLowerCase()),qe+j[0].length):-1},q:wke,Q:Rke,s:Nke,S:Ake,u:yke,U:bke,V:Tke,w:vke,W:xke,x:function un(ne,Ie,qe){return X(ne,e,Ie,qe)},X:function G(ne,Ie,qe){return X(ne,i,Ie,qe)},y:G9,Y:U9,Z:Cke,"%":Mke};function k(ne,Ie){return function(qe){var gi,De,dn,j=[],nn=-1,wt=0,Ri=ne.length;for(qe instanceof Date||(qe=new Date(+qe));++nn<Ri;)37===ne.charCodeAt(nn)&&(j.push(ne.slice(wt,nn)),null!=(De=$9[gi=ne.charAt(++nn)])?gi=ne.charAt(++nn):De="e"===gi?" ":"0",(dn=Ie[gi])&&(gi=dn(qe,De)),j.push(gi),wt=nn+1);return j.push(ne.slice(wt,nn)),j.join("")}}function $(ne,Ie){return function(qe){var wt,Ri,j=hm(1900,void 0,1);if(X(j,ne,qe+="",0)!=qe.length)return null;if("Q"in j)return new Date(j.Q);if("s"in j)return new Date(1e3*j.s+("L"in j?j.L:0));if(Ie&&!("Z"in j)&&(j.Z=0),"p"in j&&(j.H=j.H%12+12*j.p),void 0===j.m&&(j.m="q"in j?j.q:0),"V"in j){if(j.V<1||j.V>53)return null;"w"in j||(j.w=1),"Z"in j?(Ri=(wt=MR(hm(j.y,0,1))).getUTCDay(),wt=Ri>4||0===Ri?gT.ceil(wt):gT(wt),wt=F9.offset(wt,7*(j.V-1)),j.y=wt.getUTCFullYear(),j.m=wt.getUTCMonth(),j.d=wt.getUTCDate()+(j.w+6)%7):(Ri=(wt=kR(hm(j.y,0,1))).getDay(),wt=Ri>4||0===Ri?mT.ceil(wt):mT(wt),wt=H9.offset(wt,7*(j.V-1)),j.y=wt.getFullYear(),j.m=wt.getMonth(),j.d=wt.getDate()+(j.w+6)%7)}else("W"in j||"U"in j)&&("w"in j||(j.w="u"in j?j.u%7:"W"in j?1:0),Ri="Z"in j?MR(hm(j.y,0,1)).getUTCDay():kR(hm(j.y,0,1)).getDay(),j.m=0,j.d="W"in j?(j.w+6)%7+7*j.W-(Ri+5)%7:j.w+7*j.U-(Ri+6)%7);return"Z"in j?(j.H+=j.Z/100|0,j.M+=j.Z%100,MR(j)):kR(j)}}function X(ne,Ie,qe,j){for(var gi,De,nn=0,wt=Ie.length,Ri=qe.length;nn<wt;){if(j>=Ri)return-1;if(37===(gi=Ie.charCodeAt(nn++))){if(gi=Ie.charAt(nn++),!(De=D[gi in $9?Ie.charAt(nn++):gi])||(j=De(ne,qe,j))<0)return-1}else if(gi!=qe.charCodeAt(j++))return-1}return j}return b.x=k(e,b),b.X=k(i,b),b.c=k(t,b),x.x=k(e,x),x.X=k(i,x),x.c=k(t,x),{format:function(ne){var Ie=k(ne+="",b);return Ie.toString=function(){return ne},Ie},parse:function(ne){var Ie=$(ne+="",!1);return Ie.toString=function(){return ne},Ie},utcFormat:function(ne){var Ie=k(ne+="",x);return Ie.toString=function(){return ne},Ie},utcParse:function(ne){var Ie=$(ne+="",!0);return Ie.toString=function(){return ne},Ie}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),hR(dT),hR(function vMe(n){return null===n?NaN:+n});var a7,RMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vT(n){if(!(t=RMe.exec(n)))throw new Error("invalid format: "+n);var t;return new NR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function NR(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function yT(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function l7(n,t){var e=yT(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}vT.prototype=NR.prototype,NR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const c7={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function NMe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>l7(100*n,t),r:l7,s:function VMe(n,t){var e=yT(n,t);if(!e)return n+"";var i=e[0],r=e[1],s=r-(a7=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+yT(n,Math.max(0,t+s-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function u7(n){return n}var d7=Array.prototype.map,h7=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function BMe(n){var t=void 0===n.grouping||void 0===n.thousands?u7:function OMe(n,t){return function(e,i){for(var r=e.length,s=[],o=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(e.substring(r-=a,r+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return s.reverse().join(t)}}(d7.call(n.grouping,Number),n.thousands+""),e=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",r=void 0===n.decimal?".":n.decimal+"",s=void 0===n.numerals?u7:function LMe(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}(d7.call(n.numerals,String)),o=void 0===n.percent?"%":n.percent+"",a=void 0===n.minus?"\u2212":n.minus+"",l=void 0===n.nan?"NaN":n.nan+"";function c(d){var h=(d=vT(d)).fill,f=d.align,p=d.sign,m=d.symbol,g=d.zero,v=d.width,_=d.comma,b=d.precision,x=d.trim,D=d.type;"n"===D?(_=!0,D="g"):c7[D]||(void 0===b&&(b=12),x=!0,D="g"),(g||"0"===h&&"="===f)&&(g=!0,h="0",f="=");var k="$"===m?e:"#"===m&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",$="$"===m?i:/[%p]/.test(D)?o:"",X=c7[D],we=/[defgprs%]/.test(D);function me(ce){var nt,un,G,ot=k,Ce=$;if("c"===D)Ce=X(ce)+Ce,ce="";else{var Y=(ce=+ce)<0||1/ce<0;if(ce=isNaN(ce)?l:X(Math.abs(ce),b),x&&(ce=function FMe(n){e:for(var r,t=n.length,e=1,i=-1;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":0===i&&(i=e),r=e;break;default:if(!+n[e])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(r+1):n}(ce)),Y&&0==+ce&&"+"!==p&&(Y=!1),ot=(Y?"("===p?p:a:"-"===p||"("===p?"":p)+ot,Ce=("s"===D?h7[8+a7/3]:"")+Ce+(Y&&"("===p?")":""),we)for(nt=-1,un=ce.length;++nt<un;)if(48>(G=ce.charCodeAt(nt))||G>57){Ce=(46===G?r+ce.slice(nt+1):ce.slice(nt))+Ce,ce=ce.slice(0,nt);break}}_&&!g&&(ce=t(ce,1/0));var he=ot.length+ce.length+Ce.length,de=he<v?new Array(v-he+1).join(h):"";switch(_&&g&&(ce=t(de+ce,de.length?v-Ce.length:1/0),de=""),f){case"<":ce=ot+ce+Ce+de;break;case"=":ce=ot+de+ce+Ce;break;case"^":ce=de.slice(0,he=de.length>>1)+ot+ce+Ce+de.slice(he);break;default:ce=de+ot+ce+Ce}return s(ce)}return b=void 0===b?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),me.toString=function(){return d+""},me}return{format:c,formatPrefix:function u(d,h){var f=c(((d=vT(d)).type="f",d)),p=3*Math.max(-8,Math.min(8,Math.floor(function vh(n){return(n=yT(Math.abs(n)))?n[1]:NaN}(h)/3))),m=Math.pow(10,-p),g=h7[8+p/3];return function(v){return f(m*v)+g}}}}!function HMe(n){BMe(n)}({thousands:",",grouping:[3],currency:["$",""]}),Map,Symbol("implicit");var qMe=ll(178);const YMe=["caretElm"];function KMe(n,t){}const XMe=function(n){return{model:n}};function QMe(n,t){if(1&n&&(T(0,"span"),U(1,KMe,0,0,"ng-template",5),C()),2&n){const e=J();I(1),R("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Ir(2,XMe,e.context))}}function ZMe(n,t){1&n&&ie(0,"span",6),2&n&&R("innerHTML",J().title,DO)}function HNe(n,t,e){e=e||{};let i,r,s,o=null,a=0;function l(){a=!1===e.leading?0:+new Date,o=null,s=n.apply(i,r)}return function(){const c=+new Date;!a&&!1===e.leading&&(a=c);const u=t-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=n.apply(i,r)):!o&&!1!==e.trailing&&(o=setTimeout(l,u)),s}}function $Ne(n,t){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:HNe(s.value,n,t)}),this[r]}}}}var tt=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",n}(tt||{});function S7(n,t,e){return e===tt.Top?n.top-7:e===tt.Bottom?n.top+n.height-t.height+7:e===tt.Center?n.top+n.height/2-t.height/2:void 0}function E7(n,t,e){return e===tt.Left?n.left-7:e===tt.Right?n.left+n.width-t.width+7:e===tt.Center?n.left+n.width/2-t.width/2:void 0}class Ur{static calculateVerticalAlignment(t,e,i){let r=S7(t,e,i);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,i,r){let s;r===tt.Top&&(s=t.height/2-i.height/2+7),r===tt.Bottom&&(s=e.height-t.height/2-i.height/2-7),r===tt.Center&&(s=e.height/2-i.height/2);const o=S7(t,e,r);return o+e.height>window.innerHeight&&(s+=o+e.height-window.innerHeight),s}static calculateHorizontalAlignment(t,e,i){let r=E7(t,e,i);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,i,r){let s;r===tt.Left&&(s=t.width/2-i.width/2+7),r===tt.Right&&(s=e.width-t.width/2-i.width/2-7),r===tt.Center&&(s=e.width/2-i.width/2);const o=E7(t,e,r);return o+e.width>window.innerWidth&&(s+=o+e.width-window.innerWidth),s}static shouldFlip(t,e,i,r){let s=!1;return i===tt.Right&&t.left+t.width+e.width+r>window.innerWidth&&(s=!0),i===tt.Left&&t.left-e.width-r<0&&(s=!0),i===tt.Top&&t.top-e.height-r<0&&(s=!0),i===tt.Bottom&&t.top+t.height+e.height+r>window.innerHeight&&(s=!0),s}static positionCaret(t,e,i,r,s){let o=0,a=0;return t===tt.Right?(a=-7,o=Ur.calculateVerticalCaret(i,e,r,s)):t===tt.Left?(a=e.width,o=Ur.calculateVerticalCaret(i,e,r,s)):t===tt.Top?(o=e.height,a=Ur.calculateHorizontalCaret(i,e,r,s)):t===tt.Bottom&&(o=-7,a=Ur.calculateHorizontalCaret(i,e,r,s)),{top:o,left:a}}static positionContent(t,e,i,r,s){let o=0,a=0;return t===tt.Right?(a=i.left+i.width+r,o=Ur.calculateVerticalAlignment(i,e,s)):t===tt.Left?(a=i.left-e.width-r,o=Ur.calculateVerticalAlignment(i,e,s)):t===tt.Top?(o=i.top-e.height-r,a=Ur.calculateHorizontalAlignment(i,e,s)):t===tt.Bottom&&(o=i.top+i.height+r,a=Ur.calculateHorizontalAlignment(i,e,s)),{top:o,left:a}}static determinePlacement(t,e,i,r){if(Ur.shouldFlip(i,e,t,r)){if(t===tt.Right)return tt.Left;if(t===tt.Left)return tt.Right;if(t===tt.Top)return tt.Bottom;if(t===tt.Bottom)return tt.Top}return t}}let UNe=(()=>{class n{constructor(e,i,r){this.element=e,this.renderer=i,this.platformId=r}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!gr(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const r=e.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(e,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,r){const{top:s,left:o}=Ur.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${s}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,i){const r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=Ur.positionCaret(this.placement,i,e,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(e,i){this.placement=Ur.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(y($e),y(bi),y(oi))},n.\u0275cmp=Pe({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&Il(YMe,5),2&e){let r;Rt(r=Nt())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(e,i){1&e&&K("resize",function(){return i.onWindowResize()},0,R_),2&e&&Ti(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(T(0,"div"),ie(1,"span",0,1),T(3,"div",2),U(4,QMe,2,4,"span",3),U(5,ZMe,1,1,"span",4),C()()),2&e&&(I(1),function HF(n,t,e){ms(Dr,Ws,wu(F(),n,t,e),!0)}("tooltip-caret position-",i.placement,""),R("hidden",!i.showCaret),I(3),R("ngIf",!i.title),I(1),R("ngIf",i.title))},dependencies:[Rr,Rl],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function Im(n,t,e,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}([$Ne(100)],n.prototype,"onWindowResize",null),n})();class GNe{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const i=this.injectComponent(t,e);return this.register(t,i),i}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const i=e.indexOf(t);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs={...e,...t.inputs}),i&&(t.outputs={...i,...t.outputs}),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}let VR,D7=(()=>{class n{constructor(e,i,r){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function zNe(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const r=Object.getOwnPropertyNames(i.inputs);for(const s of r)e.instance[s]=i.inputs[s]}if(void 0!==i.outputs){const r=Object.getOwnPropertyNames(i.outputs);for(const s of r)e.instance[s]=i.outputs[s]}}return e}appendComponent(e,i={},r){r||(r=this.getRootViewContainer());const s=this.getComponentRootNode(r),o=new oEe(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new D6(e),l=o.attach(a);return this.projectComponentBindings(l,i),l}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(L(_s),L(Tl),L(pn))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),OR=(()=>{class n extends GNe{constructor(e){super(e),this.type=UNe}}return n.\u0275fac=function(e){return new(e||n)(L(D7))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),N7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn]]}),n})(),O7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:[D7,OR],imports:[[mn]]}),n})();typeof window<"u"?VR=window:typeof global<"u"&&(VR=global);let Gr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[mn,N7,O7],mn,N7,O7]}),n})(),rPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[Gr]]}),n})(),G7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[Gr]]}),n})();qMe();let aPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[Gr]]}),n})(),lPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[Gr]]}),n})(),cPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[Gr]]}),n})(),z7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[Gr]]}),n})();Math;let HR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[Gr]]}),n})(),hPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[Gr,HR,z7]]}),n})(),pPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[Gr]]}),n})(),gPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[Gr]]}),n})(),_Pe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[Gr,HR,G7]]}),n})(),yPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[Gr]]}),n})(),bPe=(()=>{class n{constructor(){!function vPe(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[Gr,rPe,G7,aPe,lPe,cPe,yPe,z7,hPe,pPe,HR,gPe,_Pe]}),n})();class TPe{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const xPe={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const ii=typeof window<"u"&&window||{},ri=ii.document;var W7=function(n){return n.isBs4="bs4",n.isBs5="bs5",n}(W7||{});let ca;function q7(){const n=ii.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),ii.document.head.appendChild(n);const t=ii.getComputedStyle(n).paddingLeft;return t&&parseFloat(t)?(ii.document.head.removeChild(n),"bs4"):(ii.document.head.removeChild(n),"bs5")}function mm(){return{isBs4:(ca||(ca=q7()),"bs4"===ca),isBs5:(ca||(ca=q7()),"bs5"===ca)}}class IPe{static reflow(t){}static getStyles(t){let e=t.ownerDocument.defaultView;return(!e||!e.opener)&&(e=ii),e.getComputedStyle(t)}static stackOverflowConfig(){const t=function APe(){const n=mm(),t=Object.keys(n).find(e=>n[e]);return W7[t]}();return{crossorigin:"anonymous",integrity:"bs5"===t?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===t?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;var K7=function(n){return n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",n}(K7||{}),$R=function(n){return n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",n}($R||{});function Fc(n,t){if(1!==n.nodeType)return[];const i=n.ownerDocument.defaultView?.getComputedStyle(n,null);return t?i&&i[t]:i}function UR(n){if(!n)return document.documentElement;let i,e=n?.offsetParent;for(;null===e&&n.nextElementSibling&&i!==n.nextElementSibling;)i=n.nextElementSibling,e=i.offsetParent;const r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?e&&-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===Fc(e,"position")?UR(e):e:i?i.ownerDocument.documentElement:document.documentElement}function GR(n){return null!==n.parentNode?GR(n.parentNode):n}function ET(n,t){if(!(n&&n.nodeType&&t&&t.nodeType))return document.documentElement;const e=n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=e?n:t,r=e?t:n,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);const o=s.commonAncestorContainer;if(n!==o&&t!==o||i.contains(r))return function MPe(n){const{nodeName:t}=n;return"BODY"!==t&&("HTML"===t||UR(n.firstElementChild)===n)}(o)?o:UR(o);const a=GR(n);return a.host?ET(a.host,t):ET(n,GR(t).host)}function X7(n){if(!n||!n.parentElement)return document.documentElement;let t=n.parentElement;for(;t?.parentElement&&"none"===Fc(t,"transform");)t=t.parentElement;return t||document.documentElement}function Q7(n,t){const e="x"===t?"Left":"Top",i="Left"===e?"Right":"Bottom";return parseFloat(n[`border${e}Width`])+parseFloat(n[`border${i}Width`])}function Z7(n,t,e){return Math.max(t[`offset${n}`],t[`scroll${n}`],e[`client${n}`],e[`offset${n}`],e[`scroll${n}`],0)}function J7(n){const t=n.body,e=n.documentElement;return{height:Z7("Height",t,e),width:Z7("Width",t,e)}}function _m(n){return{...n,right:(n.left||0)+n.width,bottom:(n.top||0)+n.height}}function cn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function eq(n){const t=n.getBoundingClientRect();if(!(t&&cn(t.top)&&cn(t.left)&&cn(t.bottom)&&cn(t.right)))return t;const e={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===n.nodeName?J7(n.ownerDocument):void 0,r=i?.width||n.clientWidth||cn(t.right)&&cn(e.left)&&t.right-e.left||0,s=i?.height||n.clientHeight||cn(t.bottom)&&cn(e.top)&&t.bottom-e.top||0;let o=n.offsetWidth-r,a=n.offsetHeight-s;if(o||a){const l=Fc(n);o-=Q7(l,"x"),a-=Q7(l,"y"),e.width-=o,e.height-=a}return _m(e)}function zR(n,t,e=!1){const i="HTML"===t.nodeName,r=eq(n),s=eq(t),o=Fc(t),a=parseFloat(o.borderTopWidth),l=parseFloat(o.borderLeftWidth);e&&i&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const c=_m({top:(r.top??0)-(s.top??0)-a,left:(r.left??0)-(s.left??0)-l,width:r.width,height:r.height});if(c.marginTop=0,c.marginLeft=0,i){const u=parseFloat(o.marginTop),d=parseFloat(o.marginLeft);cn(c.top)&&(c.top-=a-u),cn(c.bottom)&&(c.bottom-=a-u),cn(c.left)&&(c.left-=l-d),cn(c.right)&&(c.right-=l-d),c.marginTop=u,c.marginLeft=d}return c}function jR(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function tq(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:t,overflowX:e,overflowY:i}=Fc(n);return/(auto|scroll|overlay)/.test(String(t)+String(i)+String(e))?n:tq(jR(n))}function nq(n,t="top"){const e="top"===t?"scrollTop":"scrollLeft",i=n.nodeName;return"BODY"===i||"HTML"===i?(n.ownerDocument.scrollingElement||n.ownerDocument.documentElement)[e]:n[e]}function iq(n){const t=n.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===Fc(n,"position")||iq(jR(n)))}function WR(n,t,e=0,i,r=!1){let s={top:0,left:0};const o=r?X7(n):ET(n,t);if("viewport"===i)s=function NPe(n,t=!1){const e=n.ownerDocument.documentElement,i=zR(n,e),r=Math.max(e.clientWidth,window.innerWidth||0),s=Math.max(e.clientHeight,window.innerHeight||0),o=t?0:nq(e),a=t?0:nq(e,"left");return _m({top:o-Number(i?.top)+Number(i?.marginTop),left:a-Number(i?.left)+Number(i?.marginLeft),width:r,height:s})}(o,r);else{let a;"scrollParent"===i?(a=tq(jR(t)),"BODY"===a.nodeName&&(a=n.ownerDocument.documentElement)):a="window"===i?n.ownerDocument.documentElement:i;const l=zR(a,o,r);if(l&&"HTML"===a.nodeName&&!iq(o)){const{height:c,width:u}=J7(n.ownerDocument);cn(s.top)&&cn(l.top)&&cn(l.marginTop)&&(s.top+=l.top-l.marginTop),cn(s.top)&&(s.bottom=Number(c)+Number(l.top)),cn(s.left)&&cn(l.left)&&cn(l.marginLeft)&&(s.left+=l.left-l.marginLeft),cn(s.top)&&(s.right=Number(u)+Number(l.left))}else l&&(s=l)}return cn(s.left)&&(s.left+=e),cn(s.top)&&(s.top+=e),cn(s.right)&&(s.right-=e),cn(s.bottom)&&(s.bottom-=e),s}function PPe({width:n,height:t}){return n*t}function rq(n,t,e,i,r=["top","bottom","right","left"],s="viewport",o=0){if(-1===n.indexOf("auto"))return n;const a=WR(e,i,o,s),l={top:{width:a?.width??0,height:(t?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(t?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(t?.bottom??0)},left:{width:(t.left??0)-(a?.left??0),height:a?.height??0}},c=Object.keys(l).map(f=>({position:f,...l[f],area:PPe(l[f])})).sort((f,p)=>p.area-f.area);let u=c.filter(({width:f,height:p})=>f>=e.clientWidth&&p>=e.clientHeight);u=u.filter(({position:f})=>r.some(p=>p===f));const d=u.length>0?u[0].position:c[0].position,h=n.split(" ")[1];return e.className=e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${mm().isBs5?$R[d]:d}`),d+(h?`-${h}`:"")}const DT=(n,t=0)=>n?parseFloat(n):t;function sq(n){const e=n.ownerDocument.defaultView?.getComputedStyle(n),i=DT(e?.marginTop)+DT(e?.marginBottom),r=DT(e?.marginLeft)+DT(e?.marginRight);return{width:Number(n.offsetWidth)+r,height:Number(n.offsetHeight)+i}}function oq(n,t,e){return zR(t,e?X7(n):ET(n,t),e)}function qR(n,t,e){const i=e.split(" ")[0],r=sq(n),s={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",l=o?"left":"top",c=o?"height":"width",u=o?"width":"height";return s[a]=(t[a]??0)+t[c]/2-r[c]/2,s[l]=i===l?(t[l]??0)-r[u]:t[function LPe(n){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,e=>t[e])}(l)]??0,s}function aq(n,t){return!!n.modifiers[t]?.enabled}const VPe={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function AT(n,t){return!!mm().isBs5&&VPe[t].includes(n)}function lq(n,t,e){!n||!t||Object.keys(t).forEach(i=>{let r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function RPe(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(t[i])&&(r="px"),e?e.setStyle(n,i,`${String(t[i])}${r}`):n.style[i]=String(t[i])+r})}function $Pe(n){let t=n.offsets.target;const e=n.instance.target.querySelector(".arrow");if(!e)return n;const i=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),r=i?"height":"width",s=i?"Top":"Left",o=s.toLowerCase(),a=i?"left":"top",l=i?"bottom":"right",c=sq(e)[r],u=n.placement.split(" ")[1];(n.offsets.host[l]??0)-c<(t[o]??0)&&(t[o]-=(t[o]??0)-((n.offsets.host[l]??0)-c)),Number(n.offsets.host[o])+Number(c)>(t[l]??0)&&(t[o]+=Number(n.offsets.host[o])+Number(c)-Number(t[l])),t=_m(t);const d=Fc(n.instance.target),h=parseFloat(d[`margin${s}`])||0,f=parseFloat(d[`border${s}Width`])||0;let p;if(u){const g=parseFloat(d.borderRadius)||0,v=Number(h+f+g);p=o===u?Number(n.offsets.host[o])+v:Number(n.offsets.host[o])+Number(n.offsets.host[r]-v)}else p=Number(n.offsets.host[o])+Number(n.offsets.host[r]/2-c/2);let m=p-(t[o]??0)-h-f;return m=Math.max(Math.min(t[r]-(c+5),m),0),n.offsets.arrow={[o]:Math.round(m),[a]:""},n.instance.arrow=e,n}function UPe(n){if(n.offsets.target=_m(n.offsets.target),!aq(n.options,"flip"))return n.offsets.target={...n.offsets.target,...qR(n.instance.target,n.offsets.host,n.placement)},n;const t=WR(n.instance.target,n.instance.host,0,"viewport",!1);let e=n.placement.split(" ")[0],i=n.placement.split(" ")[1]||"";const a=rq("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),l=[e,a];return l.forEach((c,u)=>{if(e!==c||l.length===u+1)return;e=n.placement.split(" ")[0];const d="left"===e&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||"right"===e&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||"top"===e&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||"bottom"===e&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),h=Math.floor(n.offsets.target.left??0)<Math.floor(t.left??0),f=Math.floor(n.offsets.target.right??0)>Math.floor(t.right??0),p=Math.floor(n.offsets.target.top??0)<Math.floor(t.top??0),m=Math.floor(n.offsets.target.bottom??0)>Math.floor(t.bottom??0),g="left"===e&&h||"right"===e&&f||"top"===e&&p||"bottom"===e&&m,v=-1!==["top","bottom"].indexOf(e),_=v&&"left"===i&&h||v&&"right"===i&&f||!v&&"left"===i&&p||!v&&"right"===i&&m;(d||g||_)&&((d||g)&&(e=l[u+1]),_&&(i=function FPe(n){return"right"===n?"left":"left"===n?"right":n}(i)),n.placement=e+(i?` ${i}`:""),n.offsets.target={...n.offsets.target,...qR(n.instance.target,n.offsets.host,n.placement)})}),n}function zPe(n){if(!aq(n.options,"preventOverflow"))return n;const t="transform",e=n.instance.target.style,{top:i,left:r,[t]:s}=e;e.top="",e.left="",e[t]="";const o=WR(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);e.top=i,e.left=r,e[t]=s;const l={primary(c){let u=n.offsets.target[c];return(n.offsets.target[c]??0)<(o[c]??0)&&(u=Math.max(n.offsets.target[c]??0,o[c]??0)),{[c]:u}},secondary(c){const u="right"===c,d=u?"left":"top";let f=n.offsets.target[d];return(n.offsets.target[c]??0)>(o[c]??0)&&(f=Math.min(n.offsets.target[d]??0,(o[c]??0)-n.offsets.target[u?"width":"height"])),{[d]:f}}};return["left","right","top","bottom"].forEach(c=>{const u=-1!==["left","top","start"].indexOf(c)?l.primary:l.secondary;n.offsets.target={...n.offsets.target,...u(c)}}),n}function jPe(n){const t=n.placement,e=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:r,target:s}=n.offsets,o=-1!==["bottom","top"].indexOf(e),a=o?"left":"top",l=o?"width":"height",c={start:{[a]:r[a]},end:{[a]:(r[a]??0)+r[l]-s[l]}};n.offsets.target={...s,[a]:a===i?c.start[a]:c.end[a]}}return n}const qPe=new class WPe{position(t,e){return this.offset(t,e)}offset(t,e){return oq(e,t)}positionElements(t,e,i,r,s){const o=[UPe,jPe,zPe,$Pe],l=function GPe(n,t,e,i){if(!n||!t)return;const r=oq(n,t);!e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(e="auto");const s=!!e.match(/auto/g);let o=e.match(/auto\s(left|right|top|bottom|start|end)/)?e.split(" ")[1]||"auto":e;const a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),o=rq(o,r,n,t,i?i.allowedPositions:void 0),{options:i||{modifiers:{}},instance:{target:n,host:t,arrow:void 0},offsets:{target:qR(n,r,o),host:r,arrow:void 0},positionFixed:!1,placement:o,placementAuto:s}}(e,t,K7[i],s);if(l)return o.reduce((c,u)=>u(c),l)}};function YPe(n,t,e,i,r,s){const o=qPe.positionElements(n,t,e,i,r);if(!o)return;const a=function OPe(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}(o);lq(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&lq(o.instance.arrow,o.offsets.arrow,s),function HPe(n,t){const e=n.instance.target;let i=e.className;const r=mm().isBs5?$R[n.placement]:n.placement;n.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${r}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),i=i.replace(/\sauto/g,` ${r}`),-1!==i.indexOf("popover")&&(i=i+" "+function BPe(n){return mm().isBs5?AT(n,"end")?"ms-2":AT(n,"start")?"me-2":AT(n,"top")?"mb-2":AT(n,"bottom")?"mt-2":"":""}(r)),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),t?t.setAttribute(e,"class",i):e.className=i}(o,s)}let IT=(()=>{class n{constructor(e,i,r){this.update$$=new Ee,this.positionElements=new Map,this.isDisabled=!1,gr(r)&&e.runOutsideAngular(()=>{this.triggerEvent$=Ah(ti(window,"scroll",{passive:!0}),ti(window,"resize",{passive:!0}),Se(0,kM),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{YPe(kT(s.target),kT(s.element),s.attachment,s.appendToBody,this.options,i.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(kT(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(kT(e))}setOptions(e){this.options=e}static#e=this.\u0275fac=function(i){return new(i||n)(L(Ae),L(ba),L(oi))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kT(n){return"string"==typeof n?document.querySelector(n):n instanceof $e?n.nativeElement:n??null}class vm{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class KPe{constructor(t,e,i,r,s,o,a,l,c){this._viewContainerRef=t,this._renderer=e,this._elementRef=i,this._injector=r,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=l,this._document=c,this.onBeforeShow=new W,this.onShown=new W,this.onBeforeHide=new W,this.onHidden=new W,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=pn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof $e&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode?.removeChild(e),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef?.nativeElement;const e=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),i=this._listenOpts.show=s=>{t.show?t.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function CPe(n,t){const e=function j7(n,t=xPe){const e=(n||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(s=>s.split(":")).map(s=>{const o=t[s[0]]||s;return new TPe(o[0],o[1])}),r=i.filter(s=>s.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}(t.triggers),i=t.target;if(1===e.length&&e[0].isManual())return Function.prototype;const r=[],s=[],o=()=>{s.forEach(a=>r.push(a())),s.length=0};return e.forEach(a=>{const l=a.open===a.close,c=l?t.toggle:t.show;if(!l&&a.close&&t.hide){const u=a.close,d=t.hide;s.push(()=>n.listen(i,u,d))}c&&r.push(n.listen(i,a.open,()=>c(o)))}),()=>{r.forEach(a=>a())}}(this._renderer,{target:t.target,triggers:t.triggers,show:i,hide:e,toggle:s=>{this.isShown?e():i(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(t,e){return t&&e&&(this._inlineViewRef=t.createEmbeddedView(e)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function wPe(n,t){return t.outsideClick?n.listen("document","click",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(i=>i.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function SPe(n,t){return t.outsideEsc?n.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(i=>i.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(t,e,i){if(!t)return new vm([]);if(t instanceof jt){if(this._viewContainerRef){const o=this._viewContainerRef.createEmbeddedView(t,e);return o.markForCheck(),new vm([o.rootNodes],o)}const s=t.createEmbeddedView({});return this._applicationRef.attachView(s),new vm([s.rootNodes],s)}if("function"==typeof t){const s=this._componentFactoryResolver.resolveComponentFactory(t),o=pn.create({providers:this._providers,parent:this._injector}),a=s.create(o);return Object.assign(a.instance,i),this._applicationRef.attachView(a.hostView),new vm([[a.location.nativeElement]],a.hostView,a)}const r=this._renderer?[this._renderer.createText(`${t}`)]:[];return new vm([r])}}let YR,MT=(()=>{class n{constructor(e,i,r,s,o,a){this._componentFactoryResolver=e,this._ngZone=i,this._injector=r,this._posService=s,this._applicationRef=o,this._document=a}createLoader(e,i,r){return new KPe(i,r,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(L(Tl),L(Ae),L(pn),L(IT),L(_s),L(Tt))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XPe=(()=>{class n{static forRoot(){return{ngModule:n,providers:[MT,IT]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({imports:[mn]})}return n})(),QPe=(()=>{class n{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==e);let i=this._focusTrapStack;i.length&&i[i.length-1]._disable(),i.push(e),e._enable()}deregister(e){e._disable();const i=this._focusTrapStack,r=i.indexOf(e);-1!==r&&(i.splice(r,1),i.length&&i[i.length-1]._enable())}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{YR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{YR=!1}let cq=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?gr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!YR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(L(oi))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uq=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function JPe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function ZPe(n){try{return n.frameElement}catch{return null}}(function aOe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===hq(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=hq(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function sOe(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function oOe(n){return!function tOe(n){return function iOe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function eOe(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function nOe(n){return function rOe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||dq(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(L(cq))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dq(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function hq(n){if(!dq(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function fq(n){return null!=n&&"false"!=`${n}`}class lOe{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return e?.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(In(1)).subscribe(t)}}let cOe=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new lOe(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(L(uq),L(Ae),L(Tt))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uOe=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=fq(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=fq(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(i){return new(i||n)(y($e),y(cOe),y(Tt))};static#t=this.\u0275dir=Q({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[At]})}return n})(),pq=(()=>{class n{static forRoot(){return{ngModule:n,providers:[QPe,cq,uq]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({imports:[mn]})}return n})();const dOe=["*"];let gq=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),mq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const RT={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},hOe=new q("override-default-config");let fOe=(()=>{class n{constructor(e,i,r){this._element=i,this._renderer=r,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}ngOnInit(){this._focusEl=ri.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),ri&&ri.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(ri.body,"modal-open"),this._renderer.setStyle(ri.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(e){this.clickStartedInContent=e.target!==this._element.nativeElement}onClickStop(e){this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(e){this.isShown&&((27===e.keyCode||"Escape"===e.key)&&e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,ri&&ri.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(ri.body,"modal-open"),this._renderer.setStyle(ri.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static#e=this.\u0275fac=function(i){return new(i||n)(y(mq),y($e),y(bi))};static#t=this.\u0275cmp=Pe({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(i,r){1&i&&K("mousedown",function(o){return r.onClickStarted(o)})("click",function(o){return r.onClickStop(o)})("popstate",function(){return r.onPopState()},!1,R_)("keydown.esc",function(o){return r.onEsc(o)},!1,R_),2&i&&Te("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:dOe,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(i,r){1&i&&(Io(),T(0,"div",0)(1,"div",1),zs(2),C()()),2&i&&Ti("modal-dialog"+(r.config.class?" "+r.config.class:""))},dependencies:[uOe],encapsulation:2})}return n})(),pOe=(()=>{class n{get isAnimated(){return this._isAnimated}set isAnimated(e){this._isAnimated=e}get isShown(){return this._isShown}set isShown(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(e,i){this._isAnimated=!1,this._isShown=!1,this.element=e,this.renderer=i}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),IPe.reflow(this.element.nativeElement)),this.isShown=!0}static#e=this.\u0275fac=function(i){return new(i||n)(y($e),y(bi))};static#t=this.\u0275cmp=Pe({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})(),gOe=1,_q=(()=>{class n{constructor(e,i,r){this.clf=i,this.modalDefaultOption=r,this.onShow=new W,this.onShown=new W,this.onHide=new W,this.onHidden=new W,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=e.createRenderer(null,null),this.config=r?Object.assign({},RT,r):RT}show(e,i){this._focusEl=ri.activeElement,this.modalsCount++,this._createLoaders();const r=i?.id||gOe++;return this.config=this.modalDefaultOption?Object.assign({},RT,this.modalDefaultOption,i):Object.assign({},RT,i),this.config.id=r,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(e)}hide(e){(1===this.modalsCount||null==e)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=e?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(e),this.removeLoaders(e)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const e=!0===this.config.backdrop||"static"===this.config.backdrop,i=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),e&&i&&(this._backdropLoader.attach(pOe).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(e){const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const o of this.config.providers)i.provide(o);const r=new gq,s=i.provide({provide:mq,useValue:this.config}).provide({provide:gq,useValue:r}).attach(fOe).to("body");return r.hide=()=>this.hide(r.id),r.setClass=o=>{s.instance&&(s.instance.config.class=o)},r.onHidden=new W,r.onHide=new W,this.copyEvent(i.onBeforeHide,r.onHide),this.copyEvent(i.onHidden,r.onHidden),s.show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),r.content=i.getInnerComponent(),r.id=s.instance.config?.id),r}_hideModal(e){if(null!=e){const i=this.loaders.findIndex(s=>s.instance?.config.id===e),r=this.loaders[i];r&&r.hide(e)}else this.loaders.forEach(i=>{i.instance&&i.hide(i.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(e){this.lastDismissReason=e}removeBackdrop(){this._renderer.removeClass(ri.body,"modal-open"),this._renderer.setStyle(ri.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=ri.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){ri&&(this.originalBodyPadding=parseInt(window.getComputedStyle(ri.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(ri.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){ri.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const e=this._renderer.createElement("div");this._renderer.addClass(e,"modal-scrollbar-measure"),this._renderer.appendChild(ri.body,e);const i=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(ri.body,e),i}_createLoaders(){const e=this.clf.createLoader();this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}removeLoaders(e){if(null!=e){const i=this.loaders.findIndex(r=>r.instance?.config.id===e);i>=0&&(this.loaders.splice(i,1),this.loaders.forEach((r,s)=>{r.instance&&(r.instance.level=s+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(e,i){e.subscribe(r=>{i.emit(this.lastDismissReason||r)})}static#e=this.\u0275fac=function(i){return new(i||n)(L(ba),L(MT),L(hOe,8))};static#t=this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();pq.forRoot();let mOe=(()=>{class n{static forRoot(){return{ngModule:n,providers:[_q,MT,IT]}}static forChild(){return{ngModule:n,providers:[_q,MT,IT]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n});static#n=this.\u0275inj=be({imports:[pq]})}return n})(),_Oe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=xe({type:n,bootstrap:[tEe]});static#n=this.\u0275inj=be({providers:[Ag],imports:[LB,eEe,P0e,bPe,Qae,jwe,iM,J1e,KSe,XPe.forRoot(),mOe.forRoot(),Dhe(()=>Ahe(nEe_firebase)),c0e(()=>u0e())]})}return n})();Yse().bootstrapModule(_Oe).catch(n=>console.error(n))},178:mo=>{function zr(Kt){return Kt instanceof Buffer?Buffer.from(Kt):new Kt.constructor(Kt.buffer.slice(),Kt.byteOffset,Kt.length)}mo.exports=function ll(Kt){return(Kt=Kt||{}).circles?function Qe(Kt){var Xt=[],yn=[];return Kt.proto?function St(ye){if("object"!=typeof ye||null===ye)return ye;if(ye instanceof Date)return new Date(ye);if(Array.isArray(ye))return He(ye,St);if(ye instanceof Map)return new Map(He(Array.from(ye),St));if(ye instanceof Set)return new Set(He(Array.from(ye),St));var ge={};for(var mt in Xt.push(ye),yn.push(ge),ye){var Le=ye[mt];if("object"!=typeof Le||null===Le)ge[mt]=Le;else if(Le instanceof Date)ge[mt]=new Date(Le);else if(Le instanceof Map)ge[mt]=new Map(He(Array.from(Le),St));else if(Le instanceof Set)ge[mt]=new Set(He(Array.from(Le),St));else if(ArrayBuffer.isView(Le))ge[mt]=zr(Le);else{var Ht=Xt.indexOf(Le);ge[mt]=-1!==Ht?yn[Ht]:St(Le)}}return Xt.pop(),yn.pop(),ge}:function Ge(ye){if("object"!=typeof ye||null===ye)return ye;if(ye instanceof Date)return new Date(ye);if(Array.isArray(ye))return He(ye,Ge);if(ye instanceof Map)return new Map(He(Array.from(ye),Ge));if(ye instanceof Set)return new Set(He(Array.from(ye),Ge));var ge={};for(var mt in Xt.push(ye),yn.push(ge),ye)if(!1!==Object.hasOwnProperty.call(ye,mt)){var Le=ye[mt];if("object"!=typeof Le||null===Le)ge[mt]=Le;else if(Le instanceof Date)ge[mt]=new Date(Le);else if(Le instanceof Map)ge[mt]=new Map(He(Array.from(Le),Ge));else if(Le instanceof Set)ge[mt]=new Set(He(Array.from(Le),Ge));else if(ArrayBuffer.isView(Le))ge[mt]=zr(Le);else{var Ht=Xt.indexOf(Le);ge[mt]=-1!==Ht?yn[Ht]:Ge(Le)}}return Xt.pop(),yn.pop(),ge};function He(ye,ge){for(var mt=Object.keys(ye),Le=new Array(mt.length),Ht=0;Ht<mt.length;Ht++){var Rs=mt[Ht],Cr=ye[Rs];if("object"!=typeof Cr||null===Cr)Le[Rs]=Cr;else if(Cr instanceof Date)Le[Rs]=new Date(Cr);else if(ArrayBuffer.isView(Cr))Le[Rs]=zr(Cr);else{var Ns=Xt.indexOf(Cr);Le[Rs]=-1!==Ns?yn[Ns]:ge(Cr)}}return Le}}(Kt):Kt.proto?function He(Ge){if("object"!=typeof Ge||null===Ge)return Ge;if(Ge instanceof Date)return new Date(Ge);if(Array.isArray(Ge))return Xt(Ge,He);if(Ge instanceof Map)return new Map(Xt(Array.from(Ge),He));if(Ge instanceof Set)return new Set(Xt(Array.from(Ge),He));var St={};for(var ye in Ge){var ge=Ge[ye];St[ye]="object"!=typeof ge||null===ge?ge:ge instanceof Date?new Date(ge):ge instanceof Map?new Map(Xt(Array.from(ge),He)):ge instanceof Set?new Set(Xt(Array.from(ge),He)):ArrayBuffer.isView(ge)?zr(ge):He(ge)}return St}:function yn(Ge){if("object"!=typeof Ge||null===Ge)return Ge;if(Ge instanceof Date)return new Date(Ge);if(Array.isArray(Ge))return Xt(Ge,yn);if(Ge instanceof Map)return new Map(Xt(Array.from(Ge),yn));if(Ge instanceof Set)return new Set(Xt(Array.from(Ge),yn));var St={};for(var ye in Ge)if(!1!==Object.hasOwnProperty.call(Ge,ye)){var ge=Ge[ye];St[ye]="object"!=typeof ge||null===ge?ge:ge instanceof Date?new Date(ge):ge instanceof Map?new Map(Xt(Array.from(ge),yn)):ge instanceof Set?new Set(Xt(Array.from(ge),yn)):ArrayBuffer.isView(ge)?zr(ge):yn(ge)}return St};function Xt(Ge,St){for(var ye=Object.keys(Ge),ge=new Array(ye.length),mt=0;mt<ye.length;mt++){var Le=ye[mt],Ht=Ge[Le];ge[Le]="object"!=typeof Ht||null===Ht?Ht:Ht instanceof Date?new Date(Ht):ArrayBuffer.isView(Ht)?zr(Ht):St(Ht)}return ge}}},614:()=>{const mo=":";const dl=function(E,...w){if(dl.translate){const V=dl.translate(E,w);E=V[0],w=V[1]}let O=km(E[0],E.raw[0]);for(let V=1;V<E.length;V++)O+=w[V-1]+km(E[V],E.raw[V]);return O},Im=":";function km(E,w){return w.charAt(0)===Im?E.substring(function Sm(E,w){for(let O=1,V=1;O<E.length;O++,V++)if("\\"===w[V])V++;else if(E[O]===mo)return O;throw new Error(`Unterminated $localize metadata block in "${w}".`)}(E,w)+1):E}globalThis.$localize=dl}},mo=>{var zr=Qe=>mo(mo.s=Qe);zr(614),zr(397)}]);