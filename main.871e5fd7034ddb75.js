"use strict";(self.webpackChunkTrackify=self.webpackChunkTrackify||[]).push([[179],{811:(Zs,Rr,Wa)=>{function qe(n){return"function"==typeof n}function Wt(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const qt=Wt(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function dn(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Ye{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(qe(i))try{i()}catch(s){t=s instanceof qt?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{_e(s)}catch(o){t=t??[],o instanceof qt?t=[...t,...o.errors]:t.push(o)}}if(t)throw new qt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)_e(t);else{if(t instanceof Ye){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&dn(e,t)}remove(t){const{_finalizers:e}=this;e&&dn(e,t),t instanceof Ye&&t._removeParent(this)}}Ye.EMPTY=(()=>{const n=new Ye;return n.closed=!0,n})();const Ve=Ye.EMPTY;function bt(n){return n instanceof Ye||n&&"closed"in n&&qe(n.remove)&&qe(n.add)&&qe(n.unsubscribe)}function _e(n){qe(n)?n():n.unsubscribe()}const de={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ht={setTimeout(n,t,...e){const{delegate:i}=ht;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=ht;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ne(n){ht.setTimeout(()=>{const{onUnhandledError:t}=de;if(!t)throw n;t(n)})}function Lt(){}const ys=Jd("C",void 0,void 0);function Jd(n,t,e){return{kind:n,value:t,error:e}}let bs=null;function qa(n){if(de.useDeprecatedSynchronousErrorHandling){const t=!bs;if(t&&(bs={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=bs;if(bs=null,e)throw i}}else n()}class mc extends Ye{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,bt(t)&&t.add(this)):this.destination=Gg}static create(t,e,i){return new Ya(t,e,i)}next(t){this.isStopped?th(function xs(n){return Jd("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?th(function dr(n){return Jd("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?th(ys,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const eh=Function.prototype.bind;function Pr(n,t){return eh.call(n,t)}class Hg{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Wo(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Wo(i)}else Wo(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Wo(e)}}}class Ya extends mc{constructor(t,e,i){let r;if(super(),qe(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&de.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Pr(t.next,s),error:t.error&&Pr(t.error,s),complete:t.complete&&Pr(t.complete,s)}):r=t}this.destination=new Hg(r)}}function Wo(n){de.useDeprecatedSynchronousErrorHandling?function $g(n){de.useDeprecatedSynchronousErrorHandling&&bs&&(bs.errorThrown=!0,bs.error=n)}(n):Ne(n)}function th(n,t){const{onStoppedNotification:e}=de;e&&ht.setTimeout(()=>e(n,t))}const Gg={closed:!0,next:Lt,error:function Ex(n){throw n},complete:Lt},nh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Or(n){return n}function Ug(n){return 0===n.length?Or:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let mt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function Ix(n){return n&&n instanceof mc||function jg(n){return n&&qe(n.next)&&qe(n.error)&&qe(n.complete)}(n)&&bt(n)}(e)?e:new Ya(e,i,r);return qa(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=zg(i))((r,s)=>{const o=new Ya({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[nh](){return this}pipe(...e){return Ug(e)(this)}toPromise(e){return new(e=zg(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function zg(n){var t;return null!==(t=n??de.Promise)&&void 0!==t?t:Promise}const Wg=Wt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Bt=(()=>{class n extends mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new kx(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Wg}next(e){qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Ve:(this.currentObservers=null,s.push(e),new Ye(()=>{this.currentObservers=null,dn(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new mt;return e.source=this,e}}return n.create=(t,e)=>new kx(t,e),n})();class kx extends Bt{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Ve}}function qg(n){return qe(n?.lift)}function Jt(n){return t=>{if(qg(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ft(n,t,e,i,r){return new Yg(n,t,e,i,r)}class Yg extends mc{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function we(n,t){return Jt((e,i)=>{let r=0;e.subscribe(Ft(i,s=>{i.next(n.call(t,s,r++))}))})}function Ka(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}function En(n){return this instanceof En?(this.v=n,this):new En(n)}function qo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Sn(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Px=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function MM(n){return qe(n?.then)}function NM(n){return qe(n[nh])}function RM(n){return Symbol.asyncIterator&&qe(n?.[Symbol.asyncIterator])}function PM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const OM=function c9(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function LM(n){return qe(n?.[OM])}function FM(n){return function Qa(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof En?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield En(e.read());if(r)return yield En(void 0);yield yield En(i)}}finally{e.releaseLock()}})}function VM(n){return qe(n?.getReader)}function Ln(n){if(n instanceof mt)return n;if(null!=n){if(NM(n))return function u9(n){return new mt(t=>{const e=n[nh]();if(qe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Px(n))return function d9(n){return new mt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(MM(n))return function h9(n){return new mt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ne)})}(n);if(RM(n))return BM(n);if(LM(n))return function f9(n){return new mt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(VM(n))return function p9(n){return BM(FM(n))}(n)}throw PM(n)}function BM(n){return new mt(t=>{(function g9(n,t){var e,i,r,s;return function ce(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=qo(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function eo(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Fn(n,t,e=1/0){return qe(t)?Fn((i,r)=>we((s,o)=>t(i,s,r,o))(Ln(n(i,r))),e):("number"==typeof t&&(e=t),Jt((i,r)=>function m9(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{s&&t.next(m),c++;let g=!1;Ln(e(m,u++)).subscribe(Ft(t,v=>{r?.(v),s?f(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const v=l.shift();o?eo(t,o,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return n.subscribe(Ft(t,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function vc(n=1/0){return Fn(Or,n)}const Lr=new mt(n=>n.complete());function $M(n){return n&&qe(n.schedule)}function Ox(n){return n[n.length-1]}function Zg(n){return qe(Ox(n))?n.pop():void 0}function sh(n){return $M(Ox(n))?n.pop():void 0}function Jg(n,t=0){return Jt((e,i)=>{e.subscribe(Ft(i,r=>eo(i,n,()=>i.next(r),t),()=>eo(i,n,()=>i.complete(),t),r=>eo(i,n,()=>i.error(r),t)))})}function em(n,t=0){return Jt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function HM(n,t){if(!n)throw new Error("Iterable cannot be null");return new mt(e=>{eo(e,t,()=>{const i=n[Symbol.asyncIterator]();eo(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Vn(n,t){return t?function C9(n,t){if(null!=n){if(NM(n))return function y9(n,t){return Ln(n).pipe(em(t),Jg(t))}(n,t);if(Px(n))return function b9(n,t){return new mt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(MM(n))return function x9(n,t){return Ln(n).pipe(em(t),Jg(t))}(n,t);if(RM(n))return HM(n,t);if(LM(n))return function T9(n,t){return new mt(e=>{let i;return eo(e,t,()=>{i=n[OM](),eo(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>qe(i?.return)&&i.return()})}(n,t);if(VM(n))return function w9(n,t){return HM(FM(n),t)}(n,t)}throw PM(n)}(n,t):Ln(n)}class Bn extends Bt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function be(...n){return Vn(n,sh(n))}function GM(n={}){const{connector:t=(()=>new Bt),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Jt((m,g)=>{c++,!d&&!u&&h();const v=l=l??t();g.add(()=>{c--,0===c&&!d&&!u&&(a=Lx(p,r))}),v.subscribe(g),!o&&c>0&&(o=new Ya({next:_=>v.next(_),error:_=>{d=!0,h(),a=Lx(f,e,_),v.error(_)},complete:()=>{u=!0,h(),a=Lx(f,i),v.complete()}}),Ln(m).subscribe(o))})(s)}}function Lx(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Ya({next:()=>{i.unsubscribe(),n()}});return Ln(t(...e)).subscribe(i)}function hr(n,t){return Jt((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(Ft(i,l=>{r?.unsubscribe();let c=0;const u=s++;Ln(n(l,u)).subscribe(r=Ft(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function tm(n,t=Or){return n=n??S9,Jt((e,i)=>{let r,s=!0;e.subscribe(Ft(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function S9(n,t){return n===t}function St(n){for(let t in n)if(n[t]===St)return t;throw Error("Could not find renamed property on target object.")}function nm(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function $n(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map($n).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Fx(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const E9=St({__forward_ref__:St});function ft(n){return n.__forward_ref__=ft,n.toString=function(){return $n(this())},n}function ke(n){return Vx(n)?n():n}function Vx(n){return"function"==typeof n&&n.hasOwnProperty(E9)&&n.__forward_ref__===ft}function Bx(n){return n&&!!n.\u0275providers}const UM="https://g.co/ng/security#xss";class I extends Error{constructor(t,e){super(function im(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Re(n){return"string"==typeof n?n:null==n?"":String(n)}function $x(n,t){throw new I(-201,!1)}function Ee(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}function Q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ce(n){return{providers:n.providers||[],imports:n.imports||[]}}function rm(n){return zM(n,om)||zM(n,jM)}function zM(n,t){return n.hasOwnProperty(t)?n[t]:null}function sm(n){return n&&(n.hasOwnProperty(Hx)||n.hasOwnProperty(O9))?n[Hx]:null}const om=St({\u0275prov:St}),Hx=St({\u0275inj:St}),jM=St({ngInjectableDef:St}),O9=St({ngInjectorDef:St});var Qe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Qe||{});let Gx;function Qi(n){const t=Gx;return Gx=n,t}function qM(n,t,e){const i=rm(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Qe.Optional?null:void 0!==t?t:void $x($n(n))}const $t=globalThis;class ne{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Q({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const oh={},qx="__NG_DI_FLAG__",am="ngTempTokenPath",V9=/\n/gm,KM="__source";let yc;function Yo(n){const t=yc;return yc=n,t}function H9(n,t=Qe.Default){if(void 0===yc)throw new I(-203,!1);return null===yc?qM(n,void 0,t):yc.get(n,t&Qe.Optional?null:void 0,t)}function z(n,t=Qe.Default){return(function WM(){return Gx}()||H9)(ke(n),t)}function se(n,t=Qe.Default){return z(n,lm(t))}function lm(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Yx(n){const t=[];for(let e=0;e<n.length;e++){const i=ke(n[e]);if(Array.isArray(i)){if(0===i.length)throw new I(900,!1);let r,s=Qe.Default;for(let o=0;o<i.length;o++){const a=i[o],l=G9(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(z(r,s))}else t.push(z(i))}return t}function ah(n,t){return n[qx]=t,n.prototype[qx]=t,n}function G9(n){return n[qx]}function to(n){return{toString:n}.toString()}var cm=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(cm||{}),Vr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Vr||{});const Ts={},pt=[],um=St({\u0275cmp:St}),Kx=St({\u0275dir:St}),Xx=St({\u0275pipe:St}),QM=St({\u0275mod:St}),no=St({\u0275fac:St}),lh=St({__NG_ELEMENT_ID__:St}),ZM=St({__NG_ENV_ID__:St});function JM(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function Qx(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];tN(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function eN(n){return 3===n||4===n||6===n}function tN(n){return 64===n.charCodeAt(0)}function ch(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||nN(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function nN(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const iN="ng-template";function j9(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==JM(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function rN(n){return 4===n.type&&n.value!==iN}function W9(n,t,e){return t===(4!==n.type||e?n.value:iN)}function q9(n,t,e){let i=4;const r=n.attrs||[],s=function X9(n){for(let t=0;t<n.length;t++)if(eN(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!W9(n,l,e)||""===l&&1===t.length){if(ts(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!j9(n.attrs,c,e)){if(ts(i))return!1;o=!0}continue}const d=Y9(8&i?"class":l,r,rN(n),e);if(-1===d){if(ts(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==JM(f,c,0)||2&i&&c!==h){if(ts(i))return!1;o=!0}}}}else{if(!o&&!ts(i)&&!ts(l))return!1;if(o&&ts(l))continue;o=!1,i=l|1&i}}return ts(i)||o}function ts(n){return 0==(1&n)}function Y9(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function Q9(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function sN(n,t,e=!1){for(let i=0;i<t.length;i++)if(q9(n,t[i],e))return!0;return!1}function Z9(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function oN(n,t){return n?":not("+t.trim()+")":t}function J9(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!ts(o)&&(t+=oN(s,r),r=""),i=o,s=s||!ts(i);e++}return""!==r&&(t+=oN(s,r)),t}function We(n){return to(()=>{const t=lN(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===cm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Vr.Emulated,styles:n.styles||pt,_:null,schemas:n.schemas||null,tView:null,id:""};cN(e);const i=n.dependencies;return e.directiveDefs=dm(i,!1),e.pipeDefs=dm(i,!0),e.id=function aq(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function iq(n){return lt(n)||li(n)}function rq(n){return null!==n}function Ae(n){return to(()=>({type:n.type,bootstrap:n.bootstrap||pt,declarations:n.declarations||pt,imports:n.imports||pt,exports:n.exports||pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function aN(n,t){if(null==n)return Ts;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function J(n){return to(()=>{const t=lN(n);return cN(t),t})}function Zi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function lt(n){return n[um]||null}function li(n){return n[Kx]||null}function Li(n){return n[Xx]||null}function pr(n,t){const e=n[QM]||null;if(!e&&!0===t)throw new Error(`Type ${$n(n)} does not have '\u0275mod' property.`);return e}function lN(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Ts,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||pt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aN(n.inputs,t),outputs:aN(n.outputs)}}function cN(n){n.features?.forEach(t=>t(n))}function dm(n,t){if(!n)return null;const e=t?Li:iq;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(rq)}const hn=0,re=1,Be=2,en=3,ns=4,uh=5,bi=6,bc=7,_n=8,Ko=9,Tc=10,Pe=11,dh=12,uN=13,wc=14,vn=15,hh=16,Cc=17,ws=18,fh=19,dN=20,Xo=21,io=22,ph=23,gh=24,Ze=25,Zx=1,hN=2,Cs=7,Dc=9,ci=11;function Ji(n){return Array.isArray(n)&&"object"==typeof n[Zx]}function Fi(n){return Array.isArray(n)&&!0===n[Zx]}function Jx(n){return 0!=(4&n.flags)}function Ja(n){return n.componentOffset>-1}function fm(n){return 1==(1&n.flags)}function is(n){return!!n.template}function eb(n){return 0!=(512&n[Be])}function el(n,t){return n.hasOwnProperty(no)?n[no]:null}let ui=null,pm=!1;function Br(n){const t=ui;return ui=n,t}const gN={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function _N(n){if(!_h(n)||n.dirty){if(!n.producerMustRecompute(n)&&!xN(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function yN(n){n.dirty=!0,function vN(n){if(void 0===n.liveConsumerNode)return;const t=pm;pm=!0;try{for(const e of n.liveConsumerNode)e.dirty||yN(e)}finally{pm=t}}(n),n.consumerMarkedDirty?.(n)}function nb(n){return n&&(n.nextProducerIndex=0),Br(n)}function ib(n,t){if(Br(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(_h(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)gm(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function xN(n){Sc(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(_N(e),i!==e.version))return!0}return!1}function bN(n){if(Sc(n),_h(n))for(let t=0;t<n.producerNode.length;t++)gm(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function gm(n,t){if(function wN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Sc(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)gm(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Sc(r),r.producerIndexOfThis[i]=t}}function _h(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Sc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let CN=null;function EN(n){const t=Br(null);try{return n()}finally{Br(t)}}const AN=()=>{},xq=(()=>({...gN,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:AN}))();class bq{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function ot(){return IN}function IN(n){return n.type.prototype.ngOnChanges&&(n.setInput=wq),Tq}function Tq(){const n=MN(this),t=n?.current;if(t){const e=n.previous;if(e===Ts)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function wq(n,t,e,i){const r=this.declaredInputs[e],s=MN(n)||function Cq(n,t){return n[kN]=t}(n,{previous:Ts,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new bq(l&&l.currentValue,t,a===Ts),n[i]=t}ot.ngInherit=!0;const kN="__ngSimpleChanges__";function MN(n){return n[kN]||null}const Ds=function(n,t,e){},NN="svg";function Ht(n){for(;Array.isArray(n);)n=n[hn];return n}function mm(n,t){return Ht(t[n])}function er(n,t){return Ht(t[n.index])}function PN(n,t){return n.data[t]}function Ec(n,t){return n[t]}function gr(n,t){const e=t[n];return Ji(e)?e:e[hn]}function Zo(n,t){return null==t?null:n[t]}function ON(n){n[Cc]=0}function kq(n){1024&n[Be]||(n[Be]|=1024,FN(n,1))}function LN(n){1024&n[Be]&&(n[Be]&=-1025,FN(n,-1))}function FN(n,t){let e=n[en];if(null===e)return;e[uh]+=t;let i=e;for(e=e[en];null!==e&&(1===t&&1===i[uh]||-1===t&&0===i[uh]);)e[uh]+=t,i=e,e=e[en]}const Ie={lFrame:YN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $N(){return Ie.bindingsEnabled}function Ac(){return null!==Ie.skipHydrationRootTNode}function L(){return Ie.lFrame.lView}function ct(){return Ie.lFrame.tView}function Et(n){return Ie.lFrame.contextLView=n,n[_n]}function At(n){return Ie.lFrame.contextLView=null,n}function di(){let n=HN();for(;null!==n&&64===n.type;)n=n.parent;return n}function HN(){return Ie.lFrame.currentTNode}function vh(){const n=Ie.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Ss(n,t){const e=Ie.lFrame;e.currentTNode=n,e.isParent=t}function lb(){return Ie.lFrame.isParent}function cb(){Ie.lFrame.isParent=!1}function Vi(){const n=Ie.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ro(){return Ie.lFrame.bindingIndex}function Ic(){return Ie.lFrame.bindingIndex++}function so(n){const t=Ie.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function zN(n){Ie.lFrame.inI18n=n}function Gq(n,t){const e=Ie.lFrame;e.bindingIndex=e.bindingRootIndex=n,ub(t)}function ub(n){Ie.lFrame.currentDirectiveIndex=n}function jN(){return Ie.lFrame.currentQueryIndex}function hb(n){Ie.lFrame.currentQueryIndex=n}function zq(n){const t=n[re];return 2===t.type?t.declTNode:1===t.type?n[bi]:null}function WN(n,t,e){if(e&Qe.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Qe.Host||(r=zq(s),null===r||(s=s[wc],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Ie.lFrame=qN();return i.currentTNode=t,i.lView=n,!0}function fb(n){const t=qN(),e=n[re];Ie.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function qN(){const n=Ie.lFrame,t=null===n?null:n.child;return null===t?YN(n):t}function YN(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function KN(){const n=Ie.lFrame;return Ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const XN=KN;function pb(){const n=KN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Bi(){return Ie.lFrame.selectedIndex}function tl(n){Ie.lFrame.selectedIndex=n}function an(){const n=Ie.lFrame;return PN(n.tView,n.selectedIndex)}function fe(){Ie.lFrame.currentNamespace=NN}function _m(){!function Yq(){Ie.lFrame.currentNamespace=null}()}let ZN=!0;function vm(){return ZN}function Jo(n){ZN=n}function ym(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function xm(n,t,e){JN(n,t,3,e)}function bm(n,t,e,i){(3&n[Be])===e&&JN(n,t,e,i)}function gb(n,t){let e=n[Be];(3&e)===t&&(e&=8191,e+=1,n[Be]=e)}function JN(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Cc]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Cc]+=65536),(a<s||-1==s)&&(Xq(n,e,t,l),n[Cc]=(4294901760&n[Cc])+l+2),l++}function eR(n,t){Ds(4,n,t);const e=Br(null);try{t.call(n)}finally{Br(e),Ds(5,n,t)}}function Xq(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];r?n[Be]>>13<n[Cc]>>16&&(3&n[Be])===t&&(n[Be]+=8192,eR(a,s)):eR(a,s)}const kc=-1;class yh{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function _b(n){return n!==kc}function xh(n){return 32767&n}function bh(n,t){let e=function e7(n){return n>>16}(n),i=t;for(;e>0;)i=i[wc],e--;return i}let vb=!0;function Tm(n){const t=vb;return vb=n,t}const tR=255,nR=5;let t7=0;const Es={};function wm(n,t){const e=iR(n,t);if(-1!==e)return e;const i=t[re];i.firstCreatePass&&(n.injectorIndex=t.length,yb(i.data,n),yb(t,null),yb(i.blueprint,null));const r=Cm(n,t),s=n.injectorIndex;if(_b(r)){const o=xh(r),a=bh(r,t),l=a[re].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function yb(n,t){n.push(0,0,0,0,0,0,0,0,t)}function iR(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Cm(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=uR(r),null===i)return kc;if(e++,r=r[wc],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return kc}function xb(n,t,e){!function n7(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(lh)&&(i=e[lh]),null==i&&(i=e[lh]=t7++);const r=i&tR;t.data[n+(r>>nR)]|=1<<r}(n,t,e)}function rR(n,t,e){if(e&Qe.Optional||void 0!==n)return n;$x()}function sR(n,t,e,i){if(e&Qe.Optional&&void 0===i&&(i=null),!(e&(Qe.Self|Qe.Host))){const r=n[Ko],s=Qi(void 0);try{return r?r.get(t,i,e&Qe.Optional):qM(t,i,e&Qe.Optional)}finally{Qi(s)}}return rR(i,0,e)}function oR(n,t,e,i=Qe.Default,r){if(null!==n){if(2048&t[Be]&&!(i&Qe.Self)){const o=function l7(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[Be]&&!(512&o[Be]);){const a=aR(s,o,e,i|Qe.Self,Es);if(a!==Es)return a;let l=s.parent;if(!l){const c=o[dN];if(c){const u=c.get(e,Es,i);if(u!==Es)return u}l=uR(o),o=o[wc]}s=l}return r}(n,t,e,i,Es);if(o!==Es)return o}const s=aR(n,t,e,i,Es);if(s!==Es)return s}return sR(t,e,i,r)}function aR(n,t,e,i,r){const s=function s7(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(lh)?n[lh]:void 0;return"number"==typeof t?t>=0?t&tR:a7:t}(e);if("function"==typeof s){if(!WN(t,n,i))return i&Qe.Host?rR(r,0,i):sR(t,e,i,r);try{let o;if(o=s(i),null!=o||i&Qe.Optional)return o;$x()}finally{XN()}}else if("number"==typeof s){let o=null,a=iR(n,t),l=kc,c=i&Qe.Host?t[vn][bi]:null;for((-1===a||i&Qe.SkipSelf)&&(l=-1===a?Cm(n,t):t[a+8],l!==kc&&cR(i,!1)?(o=t[re],a=xh(l),t=bh(l,t)):a=-1);-1!==a;){const u=t[re];if(lR(s,a,u.data)){const d=r7(a,t,e,o,i,c);if(d!==Es)return d}l=t[a+8],l!==kc&&cR(i,t[re].data[a+8]===c)&&lR(s,a,t)?(o=u,a=xh(l),t=bh(l,t)):a=-1}}return r}function r7(n,t,e,i,r,s){const o=t[re],a=o.data[n+8],u=Dm(a,o,e,null==i?Ja(a)&&vb:i!=o&&0!=(3&a.type),r&Qe.Host&&s===a);return null!==u?nl(t,o,u,a):Es}function Dm(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=o[l];if(f&&is(f)&&f.type===e)return l}return null}function nl(n,t,e,i){let r=n[e];const s=t.data;if(function Qq(n){return n instanceof yh}(r)){const o=r;o.resolving&&function A9(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new I(-200,`Circular dependency in DI detected for ${n}${e}`)}(function wt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Re(n)}(s[e]));const a=Tm(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Qi(o.injectImpl):null;WN(n,i,Qe.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Kq(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=IN(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&Qi(c),Tm(a),o.resolving=!1,XN()}}return r}function lR(n,t,e){return!!(e[t+(n>>nR)]&1<<n)}function cR(n,t){return!(n&Qe.Self||n&Qe.Host&&t)}class $i{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return oR(this._tNode,this._lView,t,lm(i),e)}}function a7(){return new $i(di(),L())}function Qn(n){return to(()=>{const t=n.prototype.constructor,e=t[no]||bb(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[no]||bb(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function bb(n){return Vx(n)?()=>{const t=bb(ke(n));return t&&t()}:el(n)}function uR(n){const t=n[re],e=t.type;return 2===e?t.declTNode:1===e?n[bi]:null}const Rc="__parameters__";function Oc(n,t,e){return to(()=>{const i=function Tb(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Rc)?l[Rc]:Object.defineProperty(l,Rc,{value:[]})[Rc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Fc(n,t){n.forEach(e=>Array.isArray(e)?Fc(e,t):t(e))}function hR(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Sm(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ch(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function mr(n,t,e){let i=Vc(n,t);return i>=0?n[1|i]=e:(i=~i,function g7(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function wb(n,t){const e=Vc(n,t);if(e>=0)return n[1|e]}function Vc(n,t){return function fR(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Hr=ah(Oc("Optional"),8),Am=ah(Oc("SkipSelf"),4);function Rm(n){return 128==(128&n.flags)}var ea=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ea||{});const L7=/^>|^->|<!--|-->|--!>|<!-$/g,F7=/(<|>)/g,V7="\u200b$1\u200b";const Ab=new Map;let B7=0;const kb="__ngContext__";function Ti(n,t){Ji(t)?(n[kb]=t[fh],function H7(n){Ab.set(n[fh],n)}(t)):n[kb]=t}let Mb;function Nb(n,t){return Mb(n,t)}function Eh(n){const t=n[en];return Fi(t)?t[en]:t}function RR(n){return OR(n[dh])}function PR(n){return OR(n[ns])}function OR(n){for(;null!==n&&!Fi(n);)n=n[ns];return n}function Hc(n,t,e,i,r){if(null!=i){let s,o=!1;Fi(i)?s=i:Ji(i)&&(o=!0,i=i[hn]);const a=Ht(i);0===n&&null!==e?null==r?BR(t,e,a):il(t,e,a,r||null,!0):1===n&&null!==e?il(t,e,a,r||null,!0):2===n?$m(t,a,o):3===n&&t.destroyNode(a),null!=s&&function cY(n,t,e,i,r){const s=e[Cs];s!==Ht(e)&&Hc(t,n,i,s,r);for(let a=ci;a<e.length;a++){const l=e[a];Ih(l[re],l,n,t,i,s)}}(t,n,s,e,r)}}function Om(n,t){return n.createText(t)}function LR(n,t,e){n.setValue(t,e)}function Rb(n,t){return n.createComment(function DR(n){return n.replace(L7,t=>t.replace(F7,V7))}(t))}function Lm(n,t,e){return n.createElement(t,e)}function FR(n,t){const e=n[Dc],i=e.indexOf(t);LN(t),e.splice(i,1)}function Fm(n,t){if(n.length<=ci)return;const e=ci+t,i=n[e];if(i){const r=i[hh];null!==r&&r!==n&&FR(r,i),t>0&&(n[e-1][ns]=i[ns]);const s=Sm(n,ci+t);!function Z7(n,t){Ih(n,t,t[Pe],2,null,null),t[hn]=null,t[bi]=null}(i[re],i);const o=s[ws];null!==o&&o.detachView(s[re]),i[en]=null,i[ns]=null,i[Be]&=-129}return i}function Pb(n,t){if(!(256&t[Be])){const e=t[Pe];t[ph]&&bN(t[ph]),t[gh]&&bN(t[gh]),e.destroyNode&&Ih(n,t,e,3,null,null),function tY(n){let t=n[dh];if(!t)return Ob(n[re],n);for(;t;){let e=null;if(Ji(t))e=t[dh];else{const i=t[ci];i&&(e=i)}if(!e){for(;t&&!t[ns]&&t!==n;)Ji(t)&&Ob(t[re],t),t=t[en];null===t&&(t=n),Ji(t)&&Ob(t[re],t),e=t&&t[ns]}t=e}}(t)}}function Ob(n,t){if(!(256&t[Be])){t[Be]&=-129,t[Be]|=256,function sY(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof yh)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Ds(4,a,l);try{l.call(a)}finally{Ds(5,a,l)}}else{Ds(4,r,s);try{s.call(r)}finally{Ds(5,r,s)}}}}}(n,t),function rY(n,t){const e=n.cleanup,i=t[bc];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[bc]=null);const r=t[Xo];if(null!==r){t[Xo]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[re].type&&t[Pe].destroy();const e=t[hh];if(null!==e&&Fi(t[en])){e!==t[en]&&FR(e,t);const i=t[ws];null!==i&&i.detachView(n)}!function G7(n){Ab.delete(n[fh])}(t)}}function Lb(n,t,e){return VR(n,t.parent,e)}function VR(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[hn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Vr.None||s===Vr.Emulated)return null}return er(i,e)}}function il(n,t,e,i,r){n.insertBefore(t,e,i,r)}function BR(n,t,e){n.appendChild(t,e)}function $R(n,t,e,i,r){null!==i?il(n,t,e,i,r):BR(n,t,e)}function Vm(n,t){return n.parentNode(t)}function HR(n,t,e){return UR(n,t,e)}function GR(n,t,e){return 40&n.type?er(n,e):null}let Fb,Hm,Hb,Gm,UR=GR;function zR(n,t){UR=n,Fb=t}function Bm(n,t,e,i){const r=Lb(n,i,t),s=t[Pe],a=HR(i.parent||t[bi],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)$R(s,r,e[l],a,!1);else $R(s,r,e,a,!1);void 0!==Fb&&Fb(s,i,t,e,r)}function Ah(n,t){if(null!==t){const e=t.type;if(3&e)return er(t,n);if(4&e)return Vb(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Ah(n,i);{const r=n[t.index];return Fi(r)?Vb(-1,r):Ht(r)}}if(32&e)return Nb(t,n)()||Ht(n[t.index]);{const i=jR(n,t);return null!==i?Array.isArray(i)?i[0]:Ah(Eh(n[vn]),i):Ah(n,t.next)}}return null}function jR(n,t){return null!==t?n[vn][bi].projection[t.projection]:null}function Vb(n,t){const e=ci+n+1;if(e<t.length){const i=t[e],r=i[re].firstChild;if(null!==r)return Ah(i,r)}return t[Cs]}function $m(n,t,e){const i=Vm(n,t);i&&function oY(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}function Bb(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&Ti(Ht(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)Bb(n,t,e.child,i,r,s,!1),Hc(t,n,r,a,s);else if(32&l){const c=Nb(e,i);let u;for(;u=c();)Hc(t,n,r,u,s);Hc(t,n,r,a,s)}else 16&l?qR(n,t,i,e,r,s):Hc(t,n,r,a,s);e=o?e.projectionNext:e.next}}function Ih(n,t,e,i,r,s){Bb(e,i,n.firstChild,t,r,s,!1)}function qR(n,t,e,i,r,s){const o=e[vn],l=o[bi].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Hc(t,n,r,l[c],s);else{let c=l;const u=o[en];Rm(i)&&(c.flags|=128),Bb(n,t,c,u,r,s,!0)}}function YR(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function KR(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&Qx(n,t,i),null!==r&&YR(n,t,r),null!==s&&function dY(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function Gc(n){return function $b(){if(void 0===Hm&&(Hm=null,$t.trustedTypes))try{Hm=$t.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hm}()?.createHTML(n)||n}function Uc(){if(void 0!==Hb)return Hb;if(typeof document<"u")return document;throw new I(210,!1)}function XR(n){return function Gb(){if(void 0===Gm&&(Gm=null,$t.trustedTypes))try{Gm=$t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gm}()?.createHTML(n)||n}class JR{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${UM})`}}function ta(n){return n instanceof JR?n.changingThisBreaksApplicationSecurity:n}function kh(n,t){const e=function bY(n){return n instanceof JR&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${UM})`)}return e===t}function eP(n){const t=new wY(n);return function CY(){try{return!!(new window.DOMParser).parseFromString(Gc(""),"text/html")}catch{return!1}}()?new TY(t):t}class TY{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Gc(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class wY{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Gc(t),e}}const DY=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ub(n){return(n=String(n)).match(DY)?n:"unsafe:"+n}function oo(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Mh(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const tP=oo("area,br,col,hr,img,wbr"),nP=oo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),iP=oo("rp,rt"),zb=Mh(tP,Mh(nP,oo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mh(iP,oo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mh(iP,nP)),jb=oo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rP=Mh(jb,oo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),SY=oo("script,style,template");class EY{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!zb.hasOwnProperty(e))return this.sanitizedSomething=!0,!SY.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!rP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;jb[a]&&(l=Ub(l)),this.buf.push(" ",o,'="',sP(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();zb.hasOwnProperty(e)&&!tP.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sP(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const AY=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,IY=/([^\#-~ |!])/g;function sP(n){return n.replace(/&/g,"&amp;").replace(AY,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(IY,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Um;function Wb(n){return"content"in n&&function MY(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var zc=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(zc||{});function oP(n){const t=Nh();return t?XR(t.sanitize(zc.HTML,n)||""):kh(n,"HTML")?XR(ta(n)):function kY(n,t){let e=null;try{Um=Um||eP(n);let i=t?String(t):"";e=Um.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Um.getInertBodyElement(i)}while(i!==s);return Gc((new EY).sanitizeChildren(Wb(e)||e))}finally{if(e){const i=Wb(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(Uc(),Re(n))}function qb(n){const t=Nh();return t?t.sanitize(zc.URL,n)||"":kh(n,"URL")?ta(n):Ub(Re(n))}function Nh(){const n=L();return n&&n[Tc].sanitizer}const Rh=new ne("ENVIRONMENT_INITIALIZER"),cP=new ne("INJECTOR",-1),uP=new ne("INJECTOR_DEF_TYPES");class Yb{get(t,e=oh){if(e===oh){const i=new Error(`NullInjectorError: No provider for ${$n(t)}!`);throw i.name="NullInjectorError",i}return e}}function FY(...n){return{\u0275providers:dP(0,n),\u0275fromNgModule:!0}}function dP(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return Fc(t,o=>{const a=o;zm(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&hP(r,s),e}function hP(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];Xb(r,s=>{t(s,i)})}}function zm(n,t,e,i){if(!(n=ke(n)))return!1;let r=null,s=sm(n);const o=!s&&lt(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=sm(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)zm(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{Fc(s.imports,u=>{zm(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&hP(c,t)}if(!a){const c=el(r)||(()=>new r);t({provide:r,useFactory:c,deps:pt},r),t({provide:uP,useValue:r,multi:!0},r),t({provide:Rh,useValue:()=>z(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;Xb(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function Xb(n,t){for(let e of n)Bx(e)&&(e=e.\u0275providers),Array.isArray(e)?Xb(e,t):t(e)}const VY=St({provide:String,useValue:St});function Qb(n){return null!==n&&"object"==typeof n&&VY in n}function rl(n){return"function"==typeof n}const Zb=new ne("Set Injector scope."),jm={},$Y={};let Jb;function Wm(){return void 0===Jb&&(Jb=new Yb),Jb}class _r{}class jc extends _r{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tT(t,o=>this.processProvider(o)),this.records.set(cP,Wc(void 0,this)),r.has("environment")&&this.records.set(_r,Wc(void 0,this));const s=this.records.get(Zb);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uP.multi,pt,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Yo(this),i=Qi(void 0);try{return t()}finally{Yo(e),Qi(i)}}get(t,e=oh,i=Qe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ZM))return t[ZM](this);i=lm(i);const s=Yo(this),o=Qi(void 0);try{if(!(i&Qe.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function jY(n){return"function"==typeof n||"object"==typeof n&&n instanceof ne}(t)&&rm(t);l=c&&this.injectableDefInScope(c)?Wc(eT(t),jm):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Qe.Self?Wm():this.parent).get(t,e=i&Qe.Optional&&e===oh?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[am]=a[am]||[]).unshift($n(t)),s)throw a;return function U9(n,t,e,i){const r=n[am];throw t[KM]&&r.unshift(t[KM]),n.message=function z9(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=$n(t);if(Array.isArray(t))r=t.map($n).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):$n(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(V9,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[am]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Qi(o),Yo(s)}}resolveInjectorInitializers(){const t=Yo(this),e=Qi(void 0);try{const r=this.get(Rh.multi,pt,Qe.Self);for(const s of r)s()}finally{Yo(t),Qi(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push($n(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(t){let e=rl(t=ke(t))?t:ke(t&&t.provide);const i=function GY(n){return Qb(n)?Wc(void 0,n.useValue):Wc(gP(n),jm)}(t);if(rl(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Wc(void 0,jm,!0),r.factory=()=>Yx(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===jm&&(e.value=$Y,e.value=e.factory()),"object"==typeof e.value&&e.value&&function zY(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ke(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function eT(n){const t=rm(n),e=null!==t?t.factory:el(n);if(null!==e)return e;if(n instanceof ne)throw new I(204,!1);if(n instanceof Function)return function HY(n){const t=n.length;if(t>0)throw Ch(t,"?"),new I(204,!1);const e=function P9(n){return n&&(n[om]||n[jM])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new I(204,!1)}function gP(n,t,e){let i;if(rl(n)){const r=ke(n);return el(r)||eT(r)}if(Qb(n))i=()=>ke(n.useValue);else if(function pP(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Yx(n.deps||[]));else if(function fP(n){return!(!n||!n.useExisting)}(n))i=()=>z(ke(n.useExisting));else{const r=ke(n&&(n.useClass||n.provide));if(!function UY(n){return!!n.deps}(n))return el(r)||eT(r);i=()=>new r(...Yx(n.deps))}return i}function Wc(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function tT(n,t){for(const e of n)Array.isArray(e)?tT(e,t):e&&Bx(e)?tT(e.\u0275providers,t):t(e)}const qm=new ne("AppId",{providedIn:"root",factory:()=>WY}),WY="ng",mP=new ne("Platform Initializer"),Hi=new ne("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_P=new ne("AnimationModuleType"),vP=new ne("CSP nonce",{providedIn:"root",factory:()=>Uc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let yP=(n,t,e)=>null;function cT(n,t,e=!1){return yP(n,t,e)}class nK{}class TP{}class rK{resolveComponentFactory(t){throw function iK(n){const t=Error(`No component factory found for ${$n(n)}.`);return t.ngComponent=n,t}(t)}}let Kc=(()=>{class n{static#e=this.NULL=new rK}return n})();function sK(){return Xc(di(),L())}function Xc(n,t){return new tt(er(n,t))}let tt=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=sK}return n})();function oK(n){return n instanceof tt?n.nativeElement:n}class Qc{}let vr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function aK(){const n=L(),e=gr(di().index,n);return(Ji(e)?e:n)[Pe]}()}return n})(),lK=(()=>{class n{static#e=this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>null})}return n})();class Zc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const CP=new Zc("16.2.12"),hT={};function AP(n,t=null,e=null,i){const r=IP(n,t,e,i);return r.resolveInjectorInitializers(),r}function IP(n,t=null,e=null,i,r=new Set){const s=[e||pt,FY(n)];return i=i||("object"==typeof n?void 0:$n(n)),new jc(s,t||Wm(),i||null,r)}let In=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=oh;static#t=this.NULL=new Yb;static create(e,i){if(Array.isArray(e))return AP({name:""},i,e,"");{const r=e.name??"";return AP({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=Q({token:n,providedIn:"any",factory:()=>z(cP)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function pT(n){return n.ngOriginalError}class ao{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&pT(t);for(;e&&pT(e);)e=pT(e);return e||null}}function mT(n){return t=>{setTimeout(n,void 0,t)}}const q=class gK extends Bt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=mT(s),r&&(r=mT(r)),o&&(o=mT(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof Ye&&t.add(a),a}};function MP(...n){}class je{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new q(!1),this.onMicrotaskEmpty=new q(!1),this.onStable=new q(!1),this.onError=new q(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function mK(){const n="function"==typeof $t.requestAnimationFrame;let t=$t[n?"requestAnimationFrame":"setTimeout"],e=$t[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function yK(n){const t=()=>{!function vK(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call($t,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vT(n),n.isCheckStableRunning=!0,_T(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vT(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{if(function bK(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,s,o,a);try{return NP(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),RP(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return NP(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),RP(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,vT(n),_T(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(je.isInAngularZone())throw new I(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,_K,MP,MP);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const _K={};function _T(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vT(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function NP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function RP(n){n._nesting--,_T(n)}class xK{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new q,this.onMicrotaskEmpty=new q,this.onStable=new q,this.onError=new q}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const PP=new ne("",{providedIn:"root",factory:OP});function OP(){const n=se(je);let t=!0;return function D9(...n){const t=sh(n),e=function v9(n,t){return"number"==typeof Ox(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Ln(i[0]):vc(e)(Vn(i,t)):Lr}(new mt(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new mt(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{je.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(GM()))}function yT(n){return n.ownerDocument.defaultView}function lo(n){return n instanceof Function?n():n}let xT=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}return n})();function Lh(n){for(;n;){n[Be]|=64;const t=Eh(n);if(eb(n)&&!t)return n;n=t}return null}const $P=new ne("",{providedIn:"root",factory:()=>!1});let e_=null;function zP(n,t){return n[t]??qP()}function jP(n,t){const e=qP();e.producerNode?.length&&(n[t]=e_,e.lView=n,e_=WP())}const kK={...gN,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Lh(n.lView)},lView:null};function WP(){return Object.create(kK)}function qP(){return e_??=WP(),e_}const Le={};function A(n){YP(ct(),L(),Bi()+n,!1)}function YP(n,t,e,i){if(!i)if(3==(3&t[Be])){const s=n.preOrderCheckHooks;null!==s&&xm(t,s,e)}else{const s=n.preOrderHooks;null!==s&&bm(t,s,0,e)}tl(e)}function x(n,t=Qe.Default){const e=L();return null===e?z(n,t):oR(di(),e,ke(n),t)}function t_(n,t,e,i,r,s,o,a,l,c,u){const d=t.blueprint.slice();return d[hn]=r,d[Be]=140|i,(null!==c||n&&2048&n[Be])&&(d[Be]|=2048),ON(d),d[en]=d[wc]=n,d[_n]=e,d[Tc]=o||n&&n[Tc],d[Pe]=a||n&&n[Pe],d[Ko]=l||n&&n[Ko]||null,d[bi]=s,d[fh]=function $7(){return B7++}(),d[io]=u,d[dN]=c,d[vn]=2==t.type?n[vn]:d,d}function tu(n,t,e,i,r){let s=n.data[t];if(null===s)s=bT(n,t,e,i,r),function Hq(){return Ie.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=vh();s.injectorIndex=null===o?-1:o.injectorIndex}return Ss(s,!0),s}function bT(n,t,e,i,r){const s=HN(),o=lb(),l=n.data[t]=function VK(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,a=0;return Ac()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}function Fh(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function XP(n,t,e,i,r){const s=zP(t,ph),o=Bi(),a=2&i;try{tl(-1),a&&t.length>Ze&&YP(n,t,Ze,!1),Ds(a?2:0,r);const c=a?s:null,u=nb(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{ib(c,u)}}finally{a&&null===t[ph]&&jP(t,ph),tl(o),Ds(a?3:1,r)}}function TT(n,t,e){if(Jx(t)){const i=Br(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{Br(i)}}}function wT(n,t,e){$N()&&(function jK(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;Ja(e)&&function ZK(n,t,e){const i=er(t,n),r=QP(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=n_(n,t_(n,r,null,o,i,t,null,n[Tc].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||wm(e,t),Ti(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=nl(t,n,a,e);Ti(c,t),null!==o&&JK(0,a-r,c,l,0,o),is(l)&&(gr(e.index,t)[_n]=nl(t,n,a,e))}}(n,t,e,er(e,t)),64==(64&e.flags)&&nO(n,t,e))}function CT(n,t,e=er){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function QP(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=DT(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function DT(n,t,e,i,r,s,o,a,l,c,u){const d=Ze+i,h=d+r,f=function NK(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Le);return e}(d,h),p="function"==typeof c?c():c;return f[re]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let ZP=n=>null;function JP(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?eO(e,t,r,s):i.hasOwnProperty(r)&&eO(e,t,i[r],s)}return e}function eO(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function yr(n,t,e,i,r,s,o,a){const l=er(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(kT(n,e,u,i,r),Ja(t)&&function HK(n,t){const e=gr(t,n);16&e[Be]||(e[Be]|=64)}(e,t.index)):3&t.type&&(i=function $K(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}function ST(n,t,e,i){if($N()){const r=null===i?null:{"":-1},s=function qK(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(sN(t,o.selectors,!1))if(i||(i=[]),is(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),ET(n,t,a.length)}else i.unshift(o),ET(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&tO(n,t,e,o,r,a),r&&function YK(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new I(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=ch(e.mergedAttrs,e.attrs)}function tO(n,t,e,i,r,s){for(let c=0;c<i.length;c++)xb(wm(e,t),n,i[c].type);!function XK(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Fh(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=ch(e.mergedAttrs,u.hostAttrs),QK(n,e,t,l,u),KK(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function BK(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const d=s[u],h=e?e.get(d):null,p=h?h.outputs:null;l=JP(d.inputs,u,l,h?h.inputs:null),c=JP(d.outputs,u,c,p);const m=null===l||null===o||rN(t)?null:eX(l,u,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function nO(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function Uq(){return Ie.lFrame.currentDirectiveIndex}();try{tl(s);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];ub(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&WK(l,c)}}finally{tl(-1),ub(o)}}function WK(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function ET(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function KK(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;is(t)&&(e[""]=n)}}function QK(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=el(r.type)),o=new yh(s,is(r),x);n.blueprint[i]=o,e[i]=o,function UK(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function zK(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,Fh(n,e,r.hostVars,Le),r)}function AT(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?Re(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}function JK(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)iO(i,e,o[a++],o[a++],o[a++])}function iO(n,t,e,i,r){const s=Br(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Br(s)}}function eX(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function rO(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function sO(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];hb(e[i]),o.contentQueries(2,t[s],s)}}}function n_(n,t){return n[dh]?n[uN][ns]=t:n[dh]=t,n[uN]=t,t}function IT(n,t,e){hb(0);const i=Br(null);try{t(n,e)}finally{Br(i)}}function oO(n){return n[bc]||(n[bc]=[])}function aO(n){return n.cleanup||(n.cleanup=[])}function cO(n,t){const e=n[Ko],i=e?e.get(ao,null):null;i&&i.handleError(t)}function kT(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++];iO(n.data[o],t[o],i,a,r)}}function tX(n,t){const e=gr(t,n),i=e[re];!function nX(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[hn];null!==r&&null===e[io]&&(e[io]=cT(r,e[Ko])),MT(i,e,e[_n])}function MT(n,t,e){fb(t);try{const i=n.viewQuery;null!==i&&IT(1,i,e);const r=n.template;null!==r&&XP(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&sO(n,t),n.staticViewQueries&&IT(2,n.viewQuery,e);const s=n.components;null!==s&&function iX(n,t){for(let e=0;e<t.length;e++)tX(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Be]&=-5,pb()}}let uO=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function yq(n,t,e){const i=Object.create(xq);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>yN(i),run:()=>{if(i.dirty=!1,i.hasRun&&!xN(i))return;i.hasRun=!0;const o=nb(i);try{i.cleanupFn(),i.cleanupFn=AN,i.fn(r)}finally{ib(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}return n})();function i_(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=Fx(r,a):2==s&&(i=Fx(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function Vh(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(Ht(s)),Fi(s)&&dO(s,i);const o=e.type;if(8&o)Vh(n,t,e.child,i);else if(32&o){const a=Nb(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=jR(t,e);if(Array.isArray(a))i.push(...a);else{const l=Eh(t[vn]);Vh(l[re],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function dO(n,t){for(let e=ci;e<n.length;e++){const i=n[e],r=i[re].firstChild;null!==r&&Vh(i[re],i,r,t)}n[Cs]!==n[hn]&&t.push(n[Cs])}function r_(n,t,e,i=!0){const r=t[Tc],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{hO(n,t,n.template,e)}catch(l){throw i&&cO(t,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function hO(n,t,e,i){const r=t[Be];if(256!=(256&r)){t[Tc].effectManager?.flush(),fb(t);try{ON(t),function UN(n){return Ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&XP(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&xm(t,c,null)}else{const c=n.preOrderHooks;null!==c&&bm(t,c,0,null),gb(t,0)}if(function oX(n){for(let t=RR(n);null!==t;t=PR(t)){if(!t[hN])continue;const e=t[Dc];for(let i=0;i<e.length;i++){kq(e[i])}}}(t),fO(t,2),null!==n.contentQueries&&sO(n,t),o){const c=n.contentCheckHooks;null!==c&&xm(t,c)}else{const c=n.contentHooks;null!==c&&bm(t,c,1),gb(t,1)}!function MK(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=zP(t,gh);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)tl(~s);else{const o=s,a=e[++r],l=e[++r];Gq(a,o),i.dirty=!1;const c=nb(i);try{l(2,t[o])}finally{ib(i,c)}}}}finally{null===t[gh]&&jP(t,gh),tl(-1)}}(n,t);const a=n.components;null!==a&&gO(t,a,0);const l=n.viewQuery;if(null!==l&&IT(2,l,i),o){const c=n.viewCheckHooks;null!==c&&xm(t,c)}else{const c=n.viewHooks;null!==c&&bm(t,c,2),gb(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Be]&=-73,LN(t)}finally{pb()}}}function fO(n,t){for(let e=RR(n);null!==e;e=PR(e))for(let i=ci;i<e.length;i++)pO(e[i],t)}function aX(n,t,e){pO(gr(t,n),e)}function pO(n,t){if(!function Aq(n){return 128==(128&n[Be])}(n))return;const e=n[re],i=n[Be];if(80&i&&0===t||1024&i||2===t)hO(e,n,e.template,n[_n]);else if(n[uh]>0){fO(n,1);const r=e.components;null!==r&&gO(n,r,1)}}function gO(n,t,e){for(let i=0;i<t.length;i++)aX(n,t[i],e)}class Bh{get rootNodes(){const t=this._lView,e=t[re];return Vh(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(t){this._lView[_n]=t}get destroyed(){return 256==(256&this._lView[Be])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[en];if(Fi(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Fm(t,i),Sm(e,i))}this._attachedToViewContainer=!1}Pb(this._lView[re],this._lView)}onDestroy(t){!function VN(n,t){if(256==(256&n[Be]))throw new I(911,!1);null===n[Xo]&&(n[Xo]=[]),n[Xo].push(t)}(this._lView,t)}markForCheck(){Lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Be]&=-129}reattach(){this._lView[Be]|=128}detectChanges(){r_(this._lView[re],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eY(n,t){Ih(n,t,t[Pe],2,null,null)}(this._lView[re],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t}}class lX extends Bh{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;r_(t[re],t,t[_n],!1)}checkNoChanges(){}get context(){return null}}class mO extends Kc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=lt(t);return new $h(e,this.ngModule)}}function _O(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class uX{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=lm(i);const r=this.injector.get(t,hT,i);return r!==hT||e===hT?r:this.parentInjector.get(t,e,i)}}class $h extends TP{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=_O(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return _O(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function eq(n){return n.map(J9).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof _r?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new uX(t,s):t,a=o.get(Qc,null);if(null===a)throw new I(407,!1);const d={rendererFactory:a,sanitizer:o.get(lK,null),effectManager:o.get(uO,null),afterRenderEventManager:o.get(xT,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function RK(n,t,e,i){const s=i.get($P,!1)||e===Vr.ShadowDom,o=n.selectRootElement(t,s);return function PK(n){ZP(n)}(o),o}(h,i,this.componentDef.encapsulation,o):Lm(h,f,function cX(n){const t=n.toLowerCase();return"svg"===t?NN:"math"===t?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=cT(p,o,!0));const y=DT(0,null,null,1,0,null,null,null,null,null,null),b=t_(null,y,null,v,null,null,d,h,o,null,_);let D,S;fb(b);try{const H=this.componentDef;let W,ye=null;H.findHostDirectiveDefs?(W=[],ye=new Map,H.findHostDirectiveDefs(H,W,ye),W.push(H)):W=[H];const pe=function hX(n,t){const e=n[re],i=Ze;return n[i]=t,tu(e,i,2,"#host",null)}(b,p),ie=function fX(n,t,e,i,r,s,o){const a=r[re];!function pX(n,t,e,i){for(const r of n)t.mergedAttrs=ch(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(i_(t,t.mergedAttrs,!0),null!==e&&KR(i,e,t))}(i,n,t,o);let l=null;null!==t&&(l=cT(t,r[Ko]));const c=s.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const d=t_(r,QP(e),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&ET(a,n,i.length-1),n_(r,d),r[n.index]=d}(pe,p,H,W,b,d,h);S=PN(y,Ze),p&&function mX(n,t,e,i){if(i)Qx(n,e,["ng-version",CP.full]);else{const{attrs:r,classes:s}=function tq(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!ts(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Qx(n,e,r),s&&s.length>0&&YR(n,e,s.join(" "))}}(h,H,p,i),void 0!==e&&function _X(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(S,this.ngContentSelectors,e),D=function gX(n,t,e,i,r,s){const o=di(),a=r[re],l=er(o,r);tO(a,r,o,e,null,i);for(let u=0;u<e.length;u++)Ti(nl(r,a,o.directiveStart+u,o),r);nO(a,r,o),l&&Ti(l,r);const c=nl(r,a,o.directiveStart+o.componentOffset,o);if(n[_n]=r[_n]=c,null!==s)for(const u of s)u(c,t);return TT(a,o,n),c}(ie,H,W,ye,b,[vX]),MT(y,b,null)}finally{pb()}return new dX(this.componentType,D,Xc(S,b),b,S)}}class dX extends nK{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new lX(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;kT(s[re],s,r,t,e),this.previousInputValues.set(t,e),Lh(gr(this._tNode.index,s))}}get injector(){return new $i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function vX(){const n=di();ym(L()[re],n)}function _t(n){let t=function vO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(is(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=s_(n.inputs),o.inputTransforms=s_(n.inputTransforms),o.declaredInputs=s_(n.declaredInputs),o.outputs=s_(n.outputs);const a=r.hostBindings;a&&TX(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&xX(n,l),c&&bX(n,c),nm(n.inputs,r.inputs),nm(n.declaredInputs,r.declaredInputs),nm(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),nm(o.inputTransforms,r.inputTransforms)),is(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===_t&&(e=!1)}}t=Object.getPrototypeOf(t)}!function yX(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ch(r.hostAttrs,e=ch(e,r.hostAttrs))}}(i)}function s_(n){return n===Ts?{}:n===pt?[]:n}function xX(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function bX(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function TX(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function o_(n){return!!NT(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function NT(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Is(n,t,e){return n[t]=e}function wi(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function sl(n,t,e,i){const r=wi(n,t,e);return wi(n,t+1,i)||r}function ue(n,t,e,i){const r=L();return wi(r,Ic(),t)&&(ct(),function As(n,t,e,i,r,s){const o=er(n,t);AT(t[Pe],o,s,n.value,e,i,r)}(an(),r,n,t,e,i)),ue}function iu(n,t,e,i){return wi(n,Ic(),e)?t+Re(e)+i:Le}function B(n,t,e,i,r,s,o,a){const l=L(),c=ct(),u=n+Ze,d=c.firstCreatePass?function qX(n,t,e,i,r,s,o,a,l){const c=t.consts,u=tu(t,n,4,o||null,Zo(c,a));ST(t,e,u,Zo(c,l)),ym(t,u);const d=u.tView=DT(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,s,o):c.data[u];Ss(d,!1);const h=OO(c,l,d,n);vm()&&Bm(c,l,h,d),Ti(h,l),n_(l,l[u]=rO(h,l,h,d)),fm(d)&&wT(c,l,d),null!=o&&CT(l,d,a)}let OO=function LO(n,t,e,i){return Jo(!0),t[Pe].createComment("")};function Gi(n){return Ec(function $q(){return Ie.lFrame.contextLView}(),Ze+n)}function N(n,t,e){const i=L();return wi(i,Ic(),t)&&yr(ct(),an(),i,n,t,i[Pe],e,!1),N}function VT(n,t,e,i,r){const o=r?"class":"style";kT(n,e,t.inputs[o],o,i)}function k(n,t,e,i){const r=L(),s=ct(),o=Ze+n,a=r[Pe],l=s.firstCreatePass?function QX(n,t,e,i,r,s){const o=t.consts,l=tu(t,n,2,i,Zo(o,r));return ST(t,e,l,Zo(o,s)),null!==l.attrs&&i_(l,l.attrs,!1),null!==l.mergedAttrs&&i_(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,e,i):s.data[o],c=FO(s,r,l,a,t,n);r[o]=c;const u=fm(l);return Ss(l,!0),KR(a,c,l),32!=(32&l.flags)&&vm()&&Bm(s,r,c,l),0===function Nq(){return Ie.lFrame.elementDepthCount}()&&Ti(c,r),function Rq(){Ie.lFrame.elementDepthCount++}(),u&&(wT(s,r,l),TT(s,l,r)),null!==i&&CT(r,l),k}function M(){let n=di();lb()?cb():(n=n.parent,Ss(n,!1));const t=n;(function Oq(n){return Ie.skipHydrationRootTNode===n})(t)&&function Bq(){Ie.skipHydrationRootTNode=null}(),function Pq(){Ie.lFrame.elementDepthCount--}();const e=ct();return e.firstCreatePass&&(ym(e,n),Jx(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Zq(n){return 0!=(8&n.flags)}(t)&&VT(e,t,L(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Jq(n){return 0!=(16&n.flags)}(t)&&VT(e,t,L(),t.stylesWithoutHost,!1),M}function Fe(n,t,e,i){return k(n,t,e,i),M(),Fe}let FO=(n,t,e,i,r,s)=>(Jo(!0),Lm(i,r,function QN(){return Ie.lFrame.currentNamespace}()));function na(n,t,e){const i=L(),r=ct(),s=n+Ze,o=r.firstCreatePass?function eQ(n,t,e,i,r){const s=t.consts,o=Zo(s,i),a=tu(t,n,8,"ng-container",o);return null!==o&&i_(a,o,!0),ST(t,e,a,Zo(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];Ss(o,!0);const a=VO(r,i,o,n);return i[s]=a,vm()&&Bm(r,i,a,o),Ti(a,i),fm(o)&&(wT(r,i,o),TT(r,o,i)),null!=e&&CT(i,o),na}function ia(){let n=di();const t=ct();return lb()?cb():(n=n.parent,Ss(n,!1)),t.firstCreatePass&&(ym(t,n),Jx(n)&&t.queries.elementEnd(n)),ia}function d_(n,t,e){return na(n,t,e),ia(),d_}let VO=(n,t,e,i)=>(Jo(!0),Rb(t[Pe],""));function Gn(){return L()}function jh(n){return!!n&&"function"==typeof n.then}function BO(n){return!!n&&"function"==typeof n.subscribe}function he(n,t,e,i){const r=L(),s=ct(),o=di();return function HO(n,t,e,i,r,s,o){const a=fm(i),c=n.firstCreatePass&&aO(n),u=t[_n],d=oO(t);let h=!0;if(3&i.type||o){const m=er(i,t),g=o?o(m):m,v=d.length,_=o?b=>o(Ht(b[i.index])):i.index;let y=null;if(!o&&a&&(y=function iQ(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[bc],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,h=!1;else{s=UO(i,t,u,s,!1);const b=e.listen(g,r,s);d.push(s,b),c&&c.push(r,_,v,v+1)}}else s=UO(i,t,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const D=t[p[g]][p[g+1]].subscribe(s),S=d.length;d.push(s,D),c&&c.push(r,i.index,S,-(S+1))}}}(s,r,r[Pe],o,n,t,i),he}function GO(n,t,e,i){try{return Ds(6,t,e),!1!==e(i)}catch(r){return cO(n,r),!1}finally{Ds(7,t,e)}}function UO(n,t,e,i,r){return function s(o){if(o===Function)return i;Lh(n.componentOffset>-1?gr(n.index,t):t);let l=GO(t,e,i,o),c=s.__ngNextListenerFn__;for(;c;)l=GO(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function O(n=1){return function jq(n){return(Ie.lFrame.contextLView=function Wq(n,t){for(;n>0;)t=t[wc],n--;return t}(n,Ie.lFrame.contextLView))[_n]}(n)}function rQ(n,t){let e=null;const i=function K9(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?sN(n,s,!0):Z9(i,s))return r}else e=r}return e}function h_(n){const t=L()[vn][bi];if(!t.projection){const i=t.projection=Ch(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?rQ(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function f_(n,t=0,e){const i=L(),r=ct(),s=tu(r,Ze+n,16,null,e||null);null===s.projection&&(s.projection=t),cb(),(!i[io]||Ac())&&32!=(32&s.flags)&&function lY(n,t,e){qR(t[Pe],0,t,e,Lb(n,e,t),HR(e.parent||t[bi],e,t))}(r,i,s)}function $T(n,t,e,i,r,s,o){const a=L(),l=function ru(n,t,e,i,r,s){const a=sl(n,ro(),e,r);return so(2),a?t+Re(e)+i+Re(r)+s:Le}(a,t,e,i,r,s);return l!==Le&&yr(ct(),an(),a,n,l,a[Pe],o,!1),$T}function g_(n,t){return n<<17|t<<2}function ra(n){return n>>17&32767}function HT(n){return 2|n}function ol(n){return(131068&n)>>2}function GT(n,t){return-131069&n|t<<2}function UT(n){return 1|n}function QO(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?ra(s):ol(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];uQ(n[a],t)&&(l=!0,n[a+1]=i?UT(u):HT(u)),a=i?ra(u):ol(u)}l&&(n[e+1]=i?HT(s):UT(s))}function uQ(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Vc(n,t)>=0}const Un={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZO(n){return n.substring(Un.key,Un.keyEnd)}function JO(n,t){const e=Un.textEnd;return e===t?-1:(t=Un.keyEnd=function pQ(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Un.key=t,e),du(n,t,e))}function du(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Zn(n,t,e){return rs(n,t,e,!1),Zn}function Ct(n,t){return rs(n,t,null,!0),Ct}function sa(n){ss(wQ,Ms,n,!0)}function Ms(n,t){for(let e=function hQ(n){return function tL(n){Un.key=0,Un.keyEnd=0,Un.value=0,Un.valueEnd=0,Un.textEnd=n.length}(n),JO(n,du(n,0,Un.textEnd))}(t);e>=0;e=JO(t,e))mr(n,ZO(t),!0)}function rs(n,t,e,i){const r=L(),s=ct(),o=so(2);s.firstUpdatePass&&sL(s,n,o,i),t!==Le&&wi(r,o,t)&&aL(s,s.data[Bi()],r,r[Pe],n,r[o+1]=function DQ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=$n(ta(n)))),n}(t,e),i,o)}function ss(n,t,e,i){const r=ct(),s=so(2);r.firstUpdatePass&&sL(r,null,s,i);const o=L();if(e!==Le&&wi(o,s,e)){const a=r.data[Bi()];if(cL(a,i)&&!rL(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Fx(l,e||"")),VT(r,a,o,e,i)}else!function CQ(n,t,e,i,r,s,o,a){r===Le&&(r=pt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),null!==p&&aL(n,t,e,i,p,m,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[Pe],o[s+1],o[s+1]=function TQ(n,t,e){if(null==e||""===e)return pt;const i=[],r=ta(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function rL(n,t){return t>=n.expandoStartIndex}function sL(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Bi()],o=rL(n,e);cL(s,i)&&null===t&&!o&&(t=!1),t=function vQ(n,t,e,i){const r=function db(n){const t=Ie.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Wh(e=zT(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=zT(r,n,t,e,i),null===s){let l=function yQ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==ol(i))return n[ra(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=zT(null,n,t,l[1],i),l=Wh(l,t.attrs,i),function xQ(n,t,e,i){n[ra(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function bQ(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Wh(i,n[s].hostAttrs,e);return Wh(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function lQ(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=ra(o),l=ol(o);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||Vc(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const h=ra(n[a+1]);n[i+1]=g_(h,a),0!==h&&(n[h+1]=GT(n[h+1],i)),n[a+1]=function oQ(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=g_(a,0),0!==a&&(n[a+1]=GT(n[a+1],i)),a=i;else n[i+1]=g_(l,0),0===a?a=i:n[l+1]=GT(n[l+1],i),l=i;c&&(n[i+1]=HT(n[i+1])),QO(n,u,i,!0),QO(n,u,i,!1),function cQ(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Vc(s,t)>=0&&(e[i+1]=UT(e[i+1]))}(t,u,n,i,s),o=g_(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function zT(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=Wh(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Wh(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),mr(n,o,!!e||t[++s]))}return void 0===n?null:n}function wQ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&mr(n,i,e)}function aL(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function aQ(n){return 1==(1&n)}(c)?lL(l,t,e,r,ol(c),o):void 0;m_(u)||(m_(s)||function sQ(n){return 2==(2&n)}(c)&&(s=lL(l,null,e,r,a,o)),function uY(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:ea.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ea.Important),n.setStyle(e,i,r,s))}}(i,o,mm(Bi(),e),r,s))}function lL(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===Le&&(h=d?pt:void 0);let f=d?wb(h,i):u===i?h:void 0;if(c&&!m_(f)&&(f=wb(l,i)),m_(f)&&(a=f,o))return a;const p=n[r+1];r=o?ra(p):ol(p)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=wb(l,i))}return a}function m_(n){return void 0!==n}function cL(n,t){return 0!=(n.flags&(t?8:16))}function Te(n,t=""){const e=L(),i=ct(),r=n+Ze,s=i.firstCreatePass?tu(i,r,1,t,null):i.data[r],o=uL(i,e,s,t,n);e[r]=o,vm()&&Bm(i,e,o,s),Ss(s,!1)}let uL=(n,t,e,i,r)=>(Jo(!0),Om(t[Pe],i));function xr(n){return ln("",n,""),xr}function ln(n,t,e){const i=L(),r=iu(i,n,t,e);return r!==Le&&function co(n,t,e){const i=mm(t,n);LR(n[Pe],i,e)}(i,Bi(),r),ln}const ll=void 0;var WQ=["en",[["a","p"],["AM","PM"],ll],[["AM","PM"],ll,ll],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ll,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ll,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ll,"{1} 'at' {0}",ll],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jQ(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let hu={};function kL(n){return function Ui(n){const t=function qQ(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=ML(t);if(e)return e;const i=t.split("-")[0];if(e=ML(i),e)return e;if("en"===i)return WQ;throw new I(701,!1)}(n)[Gt.PluralCase]}function ML(n){return n in hu||(hu[n]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[n]),hu[n]}var Gt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Gt||{});const YQ=["zero","one","two","few","many"],fu="en-US",__={marker:"element"},v_={marker:"ICU"};var nr=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(nr||{});let NL=fu;function RL(n){(function Fr(n,t){null==n&&Ee(t,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&(NL=n.toLowerCase().replace(/_/g,"-"))}function PL(n,t,e){const i=t.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?GR(n,0,e):Ht(e[r])}function OL(n,t,e,i,r){const s=t.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(3&t.type||(a=o,o=r),null!==o&&-1===t.componentOffset)for(let l=1;l<s.length;l++)il(n,o,e[s[l]],a,!1)}}function LL(n,t){if(n.push(t),n.length>1)for(let e=n.length-2;e>=0;e--){const i=n[e];FL(i)||ZQ(i,t)&&null===JQ(i)&&eZ(i,t.index)}}function FL(n){return!(64&n.type)}function ZQ(n,t){return FL(t)||n.index>t.index}function JQ(n){const t=n.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function eZ(n,t){const e=n.insertBeforeIndex;Array.isArray(e)?e[0]=t:(zR(PL,OL),n.insertBeforeIndex=t)}function qh(n,t){const e=n.data[t];return null===e||"string"==typeof e?null:e.hasOwnProperty("currentCaseLViewIndex")?e:e.value}function iZ(n,t,e){const i=bT(n,e,64,null,null);return LL(t,i),i}function y_(n,t){const e=t[n.currentCaseLViewIndex];return null===e?e:e<0?~e:e}function VL(n){return n>>>17}function BL(n){return(131070&n)>>>1}let Yh=0,Kh=0;function HL(n,t,e,i){const r=e[Pe];let o,s=null;for(let a=0;a<t.length;a++){const l=t[a];if("string"==typeof l){const c=t[++a];null===e[c]&&(e[c]=Om(r,l))}else if("number"==typeof l)switch(1&l){case 0:const c=VL(l);let u,d;if(null===s&&(s=c,o=Vm(r,i)),c===s?(u=i,d=o):(u=null,d=Ht(e[c])),null!==d){const m=BL(l);il(r,d,e[m],u,!1);const v=qh(n,m);if(null!==v&&"object"==typeof v){const _=y_(v,e);null!==_&&HL(n,v.create[_],e,e[v.anchorIdx])}}break;case 1:const f=t[++a],p=t[++a];AT(r,mm(l>>>1,e),null,null,f,p,null)}else switch(l){case v_:const c=t[++a],u=t[++a];null===e[u]&&Ti(e[u]=Rb(r,c),e);break;case __:const d=t[++a],h=t[++a];null===e[h]&&Ti(e[h]=Lm(r,d,null),e)}}}function GL(n,t,e,i,r){for(let s=0;s<e.length;s++){const o=e[s],a=e[++s];if(o&r){let l="";for(let c=s+1;c<=s+a;c++){const u=e[c];if("string"==typeof u)l+=u;else if("number"==typeof u)if(u<0)l+=Re(t[i-u]);else{const d=u>>>2;switch(3&u){case 1:const h=e[++c],f=e[++c],p=n.data[d];"string"==typeof p?AT(t[Pe],t[d],null,p,h,l,f):yr(n,p,t,h,l,t[Pe],f,!1);break;case 0:const m=t[d];null!==m&&LR(t[Pe],m,l);break;case 2:lZ(n,qh(n,d),t,l);break;case 3:UL(n,qh(n,d),i,t)}}}}else{const l=e[s+1];if(l>0&&3==(3&l)){const u=qh(n,l>>>2);t[u.currentCaseLViewIndex]<0&&UL(n,u,i,t)}}s+=a}}function UL(n,t,e,i){let r=i[t.currentCaseLViewIndex];if(null!==r){let s=Yh;r<0&&(r=i[t.currentCaseLViewIndex]=~r,s=-1),GL(n,i,t.update[r],e,s)}}function lZ(n,t,e,i){const r=function cZ(n,t){let e=n.cases.indexOf(t);if(-1===e)switch(n.type){case 1:{const i=function KQ(n,t){const e=kL(t)(parseInt(n,10)),i=YQ[e];return void 0!==i?i:"other"}(t,function QQ(){return NL}());e=n.cases.indexOf(i),-1===e&&"other"!==i&&(e=n.cases.indexOf("other"));break}case 0:e=n.cases.indexOf("other")}return-1===e?null:e}(t,i);if(y_(t,e)!==r&&(zL(n,t,e),e[t.currentCaseLViewIndex]=null===r?null:~r,null!==r)){const o=e[t.anchorIdx];o&&HL(n,t.create[r],e,o)}}function zL(n,t,e){let i=y_(t,e);if(null!==i){const r=t.remove[i];for(let s=0;s<r.length;s++){const o=r[s];if(o>0){const a=mm(o,e);null!==a&&$m(e[Pe],a)}else zL(n,qh(n,~o),e)}}}function uZ(){const n=[];let e,i,t=-1;function s(a,l){t=0;const c=y_(a,l);i=null!==c?a.remove[c]:pt}function o(){if(t<i.length){const a=i[t++];return a>0?e[a]:(n.push(t,i),s(e[re].data[~a],e),o())}return 0===n.length?null:(i=n.pop(),t=n.pop(),o())}return function r(a,l){for(e=l;n.length;)n.pop();return s(a.value,l),o}}const x_=/\ufffd(\d+):?\d*\ufffd/gi,hZ=/\ufffd(\d+)\ufffd/,WL=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Xh="\ufffd",fZ=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,pZ=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,gZ=/\uE500/g;function qL(n,t,e,i,r,s,o){const a=Fh(n,i,1,null);let l=a<<nr.SHIFT,c=vh();t===c&&(c=null),null===c&&(l|=nr.APPEND_EAGERLY),o&&(l|=nr.COMMENT,function K7(n){void 0===Mb&&(Mb=n())}(uZ)),r.push(l,null===s?"":s);const u=bT(n,a,o?32:1,null===s?"":s,null);LL(e,u);const d=u.index;return Ss(u,!1),null!==c&&t!==c&&function nZ(n,t){let e=n.insertBeforeIndex;null===e?(zR(PL,OL),e=n.insertBeforeIndex=[null,t]):(function Za(n,t,e){n!=t&&Ee(e,n,t,"==")}(Array.isArray(e),!0,"Expecting array here"),e.push(t))}(c,d),u}function vZ(n,t,e,i,r,s,o){const a=o.match(x_),l=qL(n,t,e,s,i,a?null:o,!1);a&&Qh(r,o,l.index,null,0,null)}function Qh(n,t,e,i,r,s){const o=n.length,a=o+1;n.push(null,null);const l=o+2,c=t.split(x_);let u=0;for(let d=0;d<c.length;d++){const h=c[d];if(1&d){const f=r+parseInt(h,10);n.push(-1-f),u|=YL(f)}else""!==h&&n.push(h)}return n.push(e<<2|(i?1:0)),i&&n.push(i,s),n[o]=u,n[a]=n.length-l,u}function YL(n){return 1<<Math.min(n,31)}function KL(n){let t,s,e="",i=0,r=!1;for(;null!==(t=fZ.exec(n));)r?t[0]===`${Xh}/*${s}${Xh}`&&(i=t.index,r=!1):(e+=n.substring(i,t.index+t[0].length),s=t[1],r=!0);return e+=n.slice(i),e}function XL(n,t,e,i,r,s){let o=0;const a={type:r.type,currentCaseLViewIndex:Fh(n,t,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};(function SZ(n,t,e){n.push(YL(t.mainBinding),2,-1-t.mainBinding,e<<2|2)})(e,r,s),function tZ(n,t,e){const i=n.data[t];null===i?n.data[t]=e:i.value=e}(n,s,a);const l=r.values;for(let c=0;c<l.length;c++){const u=l[c],d=[];for(let h=0;h<u.length;h++){const f=u[h];if("string"!=typeof f){const p=d.push(f)-1;u[h]=`\x3c!--\ufffd${p}\ufffd--\x3e`}}o=CZ(n,a,t,e,i,r.cases[c],u.join(""),d)|o}o&&function EZ(n,t,e){n.push(t,1,e<<2|3)}(e,o,s)}function wZ(n){const t=[],e=[];let i=1,r=0;const s=jT(n=n.replace(WL,function(o,a,l){return i="select"===l?0:1,r=parseInt(a.slice(1),10),""}));for(let o=0;o<s.length;){let a=s[o++].trim();1===i&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&t.push(a);const l=jT(s[o++]);t.length>e.length&&e.push(l)}return{type:i,mainBinding:r,cases:t,values:e}}function jT(n){if(!n)return[];let t=0;const e=[],i=[],r=/[{}]/g;let s;for(r.lastIndex=0;s=r.exec(n);){const a=s.index;if("}"==s[0]){if(e.pop(),0==e.length){const l=n.substring(t,a);WL.test(l)?i.push(wZ(l)):i.push(l),t=a+1}}else{if(0==e.length){const l=n.substring(t,a);i.push(l),t=a+1}e.push("{")}}const o=n.substring(t);return i.push(o),i}function CZ(n,t,e,i,r,s,o,a){const l=[],c=[],u=[];t.cases.push(s),t.create.push(l),t.remove.push(c),t.update.push(u);const h=eP(Uc()).getInertBodyElement(o),f=Wb(h)||h;return f?QL(n,t,e,i,l,c,u,f,r,a,0):0}function QL(n,t,e,i,r,s,o,a,l,c,u){let d=0,h=a.firstChild;for(;h;){const f=Fh(n,e,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:const p=h,m=p.tagName.toLowerCase();if(zb.hasOwnProperty(m)){WT(r,__,m,l,f),n.data[f]=m;const y=p.attributes;for(let b=0;b<y.length;b++){const D=y.item(b),S=D.name.toLowerCase();D.value.match(x_)?rP.hasOwnProperty(S)&&Qh(o,D.value,f,D.name,0,jb[S]?Ub:null):AZ(r,f,D)}d=QL(n,t,e,i,r,s,o,h,f,c,u+1)|d,ZL(s,f,u)}break;case Node.TEXT_NODE:const g=h.textContent||"",v=g.match(x_);WT(r,null,v?"":g,l,f),ZL(s,f,u),v&&(d=Qh(o,g,f,null,0,null)|d);break;case Node.COMMENT_NODE:const _=hZ.exec(h.textContent||"");if(_){const b=c[parseInt(_[1],10)];WT(r,v_,"",l,f),XL(n,e,i,l,b,f),DZ(s,f,u)}}h=h.nextSibling}return d}function ZL(n,t,e){0===e&&n.push(t)}function DZ(n,t,e){0===e&&(n.push(~t),n.push(t))}function WT(n,t,e,i,r){null!==t&&n.push(t),n.push(e,r,function rZ(n,t,e){return n|t<<17|e<<1}(0,i,r))}function AZ(n,t,e){n.push(t<<1|1,e.name,e.value)}function eF(n,t,e=-1){const i=ct(),r=L(),s=Ze+n,o=Zo(i.consts,t),a=vh();i.firstCreatePass&&function _Z(n,t,e,i,r,s){const o=vh(),a=[],l=[],c=[[]];r=function TZ(n,t){if(function bZ(n){return-1===n}(t))return KL(n);{const e=n.indexOf(`:${t}${Xh}`)+2+t.toString().length,i=n.search(new RegExp(`${Xh}\\/\\*\\d+:${t}${Xh}`));return KL(n.substring(e,i))}}(r,s);const u=function mZ(n){return n.replace(gZ," ")}(r).split(pZ);for(let d=0;d<u.length;d++){let h=u[d];if(1&d){const f=47===h.charCodeAt(0),m=(h.charCodeAt(f?1:0),Ze+Number.parseInt(h.substring(f?2:1)));if(f)c.shift(),Ss(vh(),!1);else{const g=iZ(n,c[0],m);c.unshift([]),Ss(g,!0)}}else{const f=jT(h);for(let p=0;p<f.length;p++){let m=f[p];if(1&p){const g=m;if("object"!=typeof g)throw new Error(`Unable to parse ICU expression in "${r}" message.`);XL(n,e,l,t,g,qL(n,o,c[0],e,a,"",!0).index)}else""!==m&&vZ(n,o,c[0],a,l,e,m)}}}n.data[i]={create:a,update:l}}(i,null===a?0:a.index,r,s,o,e),2===i.type?r[vn][Be]|=32:r[Be]|=32;const l=i.data[s],u=VR(i,a===r[bi]?null:a,r);(function aZ(n,t,e,i){const r=n[Pe];for(let s=0;s<t.length;s++){const o=t[s++],a=t[s],c=(o&nr.APPEND_EAGERLY)===nr.APPEND_EAGERLY,u=o>>>nr.SHIFT;let d=n[u];null===d&&(d=n[u]=(o&nr.COMMENT)===nr.COMMENT?r.createComment(a):Om(r,a)),c&&null!==e&&il(r,e,d,i,!1)}})(r,l.create,u,a&&8&a.type?r[a.index]:null),zN(!0)}function oa(n,t,e){eF(n,t,e),function tF(){zN(!1)}()}function qT(n){return function sZ(n){n&&(Yh|=1<<Math.min(Kh,31)),Kh++}(wi(L(),Ic(),n)),qT}function YT(n,t,e,i,r){if(n=ke(n),Array.isArray(n))for(let s=0;s<n.length;s++)YT(n[s],t,e,i,r);else{const s=ct(),o=L(),a=di();let l=rl(n)?n:ke(n.provide);const c=gP(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(rl(n)||!n.multi){const f=new yh(c,r,x),p=XT(l,t,r?u:u+h,d);-1===p?(xb(wm(a,o),s,l),KT(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(f),o.push(f)):(e[p]=f,o[p]=f)}else{const f=XT(l,t,u+h,d),p=XT(l,t,u,u+h),g=p>=0&&e[p];if(r&&!g||!r&&!(f>=0&&e[f])){xb(wm(a,o),s,l);const v=function UZ(n,t,e,i,r){const s=new yh(n,e,x);return s.multi=[],s.index=t,s.componentProviders=0,iF(s,r,i&&!e),s}(r?GZ:HZ,e.length,r,i,c);!r&&g&&(e[p].providerFactory=v),KT(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(v),o.push(v)}else KT(s,n,f>-1?f:p,iF(e[r?p:f],c,!r&&i));!r&&i&&g&&e[p].componentProviders++}}}function KT(n,t,e,i){const r=rl(t),s=function BY(n){return!!n.useClass}(t);if(r||s){const l=(s?ke(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function iF(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function XT(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function HZ(n,t,e,i){return QT(this.multi,[])}function GZ(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=nl(e,e[re],this.providerFactory.index,i);s=a.slice(0,o),QT(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],QT(r,s);return s}function QT(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Pt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function $Z(n,t,e){const i=ct();if(i.firstCreatePass){const r=is(n);YT(e,i.data,i.blueprint,r,!0),YT(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class cl{}class rF{}class ZT extends cl{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mO(this);const r=pr(t);this._bootstrapComponents=lo(r.bootstrap),this._r3Injector=IP(t,e,[{provide:cl,useValue:this},{provide:Kc,useValue:this.componentFactoryResolver},...i],$n(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class JT extends rF{constructor(t){super(),this.moduleType=t}create(t){return new ZT(this.moduleType,t,[])}}class sF extends cl{constructor(t){super(),this.componentFactoryResolver=new mO(this),this.instance=null;const e=new jc([...t.providers,{provide:cl,useValue:this},{provide:Kc,useValue:this.componentFactoryResolver}],t.parent||Wm(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ew(n,t,e=null){return new sF({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let WZ=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=dP(0,e.type),r=i.length>0?ew([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Q({token:n,providedIn:"environment",factory:()=>new n(z(_r))})}return n})();function oF(n){n.getStandaloneInjector=t=>t.get(WZ).getOrCreateStandaloneInjector(n)}function ul(n,t,e,i,r){return function gF(n,t,e,i,r,s,o){const a=t+e;return sl(n,a,r,s)?Is(n,a+2,o?i.call(o,r,s):i(r,s)):Zh(n,a+2)}(L(),Vi(),n,t,e,i,r)}function Zh(n,t){const e=n[t];return e===Le?void 0:e}function pF(n,t,e,i,r,s){const o=t+e;return wi(n,o,r)?Is(n,o+1,s?i.call(s,r):i(r)):Zh(n,o+1)}function xF(n,t,e){const i=n+Ze,r=L(),s=Ec(r,i);return function Jh(n,t){return n[re].data[t].pure}(r,i)?pF(r,Vi(),t,s.transform,e,s):s.transform(e)}function hJ(){return this._results[Symbol.iterator]()}class iw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new q)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=iw.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=hJ)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function $r(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function f7(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function pJ(n,t,e,i=!0){const r=t[re];if(function nY(n,t,e,i){const r=ci+i,s=e.length;i>0&&(e[r-1][ns]=t),i<s-ci?(t[ns]=e[r],hR(e,ci+i,t)):(e.push(t),t[ns]=null),t[en]=e;const o=t[hh];null!==o&&e!==o&&function iY(n,t){const e=n[Dc];t[vn]!==t[en][en][vn]&&(n[hN]=!0),null===e?n[Dc]=[t]:e.push(t)}(o,t);const a=t[ws];null!==a&&a.insertView(n),t[Be]|=128}(r,t,n,e),i){const s=Vb(e,n),o=t[Pe],a=Vm(o,n[Cs]);null!==a&&function J7(n,t,e,i,r,s){i[hn]=r,i[bi]=t,Ih(n,i,e,1,r,s)}(r,n[bi],o,t,a,s)}}let fn=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=_J}return n})();const gJ=fn,mJ=class extends gJ{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function fJ(n,t,e,i){const r=t.tView,a=t_(n,r,e,4096&n[Be]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[hh]=n[t.index];const c=n[ws];return null!==c&&(a[ws]=c.createEmbeddedView(r)),MT(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new Bh(r)}};function _J(){return b_(di(),L())}function b_(n,t){return 4&n.type?new mJ(t,n,Xc(n,t)):null}let Ur=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=wJ}return n})();function wJ(){return EF(di(),L())}const CJ=Ur,DF=class extends CJ{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Xc(this._hostTNode,this._hostLView)}get injector(){return new $i(this._hostTNode,this._hostLView)}get parentInjector(){const t=Cm(this._hostTNode,this._hostLView);if(_b(t)){const e=bh(t,this._hostLView),i=xh(t);return new $i(e[re].data[i+8],e)}return new $i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=SF(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ci}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,s){const o=t&&!function wh(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const m=e||{};a=m.index,i=m.injector,r=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const l=o?t:new $h(lt(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const g=(o?c:this.parentInjector).get(_r,null);g&&(s=g)}lt(l.componentType??{});const f=l.create(c,r,null,s);return this.insertImpl(f.hostView,a,false),f}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function Iq(n){return Fi(n[en])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[en],u=new DF(c,c[bi],c[en]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;return pJ(a,r,o,!i),t.attachToViewContainerRef(),hR(rw(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=SF(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Fm(this._lContainer,e);i&&(Sm(rw(this._lContainer),e),Pb(i[re],i))}detach(t){const e=this._adjustIndex(t,-1),i=Fm(this._lContainer,e);return i&&null!=Sm(rw(this._lContainer),e)?new Bh(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function SF(n){return n[8]}function rw(n){return n[8]||(n[8]=[])}function EF(n,t){let e;const i=t[n.index];return Fi(i)?e=i:(e=rO(i,t,null,n),t[n.index]=e,n_(t,e)),AF(e,t,n,i),new DF(e,n,t)}let AF=function IF(n,t,e,i){if(n[Cs])return;let r;r=8&e.type?Ht(i):function DJ(n,t){const e=n[Pe],i=e.createComment(""),r=er(t,n);return il(e,Vm(e,r),i,function aY(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Cs]=r};class sw{constructor(t){this.queryList=t,this.matches=null}clone(){return new sw(this.queryList)}setDirty(){this.queryList.setDirty()}}class ow{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new ow(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==PF(t,e).matches&&this.queries[e].setDirty()}}class kF{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class aw{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new aw(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class lw{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new lw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,AJ(e,s)),this.matchTNodeWithReadOption(t,e,Dm(e,t,s,!1,!1))}else i===fn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Dm(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===tt||r===Ur||r===fn&&4&e.type)this.addMatch(e.index,-2);else{const s=Dm(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function AJ(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function kJ(n,t,e,i){return-1===e?function IJ(n,t){return 11&n.type?Xc(n,t):4&n.type?b_(n,t):null}(t,n):-2===e?function MJ(n,t,e){return e===tt?Xc(t,n):e===fn?b_(t,n):e===Ur?EF(t,n):void 0}(n,t,i):nl(n,n[re],e,t)}function MF(n,t,e,i){const r=t[ws].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:kJ(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function cw(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=MF(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=ci;d<u.length;d++){const h=u[d];h[hh]===h[en]&&cw(h[re],h,c,i)}if(null!==u[Dc]){const d=u[Dc];for(let h=0;h<d.length;h++){const f=d[h];cw(f[re],f,c,i)}}}}}return i}function It(n){const t=L(),e=ct(),i=jN();hb(i+1);const r=PF(e,i);if(n.dirty&&function Eq(n){return 4==(4&n[Be])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?cw(e,t,i,[]):MF(e,t,r,i);n.reset(s,oK),n.notifyOnChanges()}return!0}return!1}function uo(n,t,e){const i=ct();i.firstCreatePass&&(RF(i,new kF(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),NF(i,L(),t)}function yn(n,t,e,i){const r=ct();if(r.firstCreatePass){const s=di();RF(r,new kF(t,e,i),s.index),function RJ(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}NF(r,L(),e)}function kt(){return function NJ(n,t){return n[ws].queries[t].queryList}(L(),jN())}function NF(n,t,e){const i=new iw(4==(4&e));(function FK(n,t,e,i){const r=oO(t);r.push(e),n.firstCreatePass&&aO(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[ws]&&(t[ws]=new ow),t[ws].queries.push(new sw(i))}function RF(n,t,e){null===n.queries&&(n.queries=new aw),n.queries.track(new lw(t,e))}function PF(n,t){return n.queries.getByIndex(t)}function ir(n,t){return b_(n,t)}const gw=new ne("Application Initializer");let mw=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=se(gw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(jh(s))e.push(s);else if(BO(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QF=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ho=new ne("LocaleId",{providedIn:"root",factory:()=>se(ho,Qe.Optional|Qe.SkipSelf)||function eee(){return typeof $localize<"u"&&$localize.locale||fu}()});let C_=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Bn(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class iee{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let ZF=(()=>{class n{compileModuleSync(e){return new JT(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=lo(pr(e).declarations).reduce((o,a)=>{const l=lt(a);return l&&o.push(new $h(l)),o},[]);return new iee(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const n2=new ne(""),S_=new ne("");let bw,yw=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,bw||(function Dee(n){bw=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(z(je),z(xw),z(S_))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),xw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return bw?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),aa=null;const r2=new ne("AllowMultipleToken"),Tw=new ne("PlatformDestroyListeners"),ww=new ne("appBootstrapListener");class o2{constructor(t,e){this.name=t,this.token=e}}function l2(n,t,e=[]){const i=`Platform: ${t}`,r=new ne(i);return(s=[])=>{let o=Cw();if(!o||o.injector.get(r2,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function Aee(n){if(aa&&!aa.get(r2,!1))throw new I(400,!1);(function s2(){!function pq(n){CN=n}(()=>{throw new I(600,!1)})})(),aa=n;const t=n.get(u2);(function a2(n){n.get(mP,null)?.forEach(e=>e())})(n)}(function c2(n=[],t){return In.create({name:t,providers:[{provide:Zb,useValue:"platform"},{provide:Tw,useValue:new Set([()=>aa=null])},...n]})}(a,i))}return function kee(n){const t=Cw();if(!t)throw new I(401,!1);return t}()}}function Cw(){return aa?.get(u2)??null}let u2=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function Mee(n="zone.js",t){return"noop"===n?new xK:"zone.js"===n?new je(t):n}(i?.ngZone,function d2(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function jZ(n,t,e){return new ZT(n,t,e)}(e.moduleType,this.injector,function m2(n){return[{provide:je,useFactory:n},{provide:Rh,multi:!0,useFactory:()=>{const t=se(Ree,{optional:!0});return()=>t.initialize()}},{provide:g2,useFactory:Nee},{provide:PP,useFactory:OP}]}(()=>r)),o=s.injector.get(ao,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{E_(this._modules,s),a.unsubscribe()})}),function h2(n,t,e){try{const i=e();return jh(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(mw);return a.runInitializers(),a.donePromise.then(()=>(RL(s.injector.get(ho,fu)||fu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=f2({},i);return function See(n,t,e){const i=new JT(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(fo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new I(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Tw,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(z(In))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function f2(n,t){return Array.isArray(t)?t.reduce(f2,n):{...n,...t}}let fo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=se(g2),this.zoneIsStable=se(PP),this.componentTypes=[],this.components=[],this.isStable=se(C_).hasPendingTasks.pipe(hr(e=>e?be(!1):this.zoneIsStable),tm(),GM()),this._injector=se(_r)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof TP;if(!this._injector.get(mw).done)throw!r&&function xc(n){const t=lt(n)||li(n)||Li(n);return null!==t&&t.standalone}(e),new I(405,!1);let o;o=r?e:this._injector.get(Kc).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function Eee(n){return n.isBoundToModule}(o)?void 0:this._injector.get(cl),c=o.create(In.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(n2,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),E_(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;E_(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(ww,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>E_(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new I(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function E_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const g2=new ne("",{providedIn:"root",factory:()=>se(ao).handleError.bind(void 0)});function Nee(){const n=se(je),t=se(ao);return e=>n.runOutsideAngular(()=>t.handleError(e))}let Ree=(()=>{class n{constructor(){this.zone=se(je),this.applicationRef=se(fo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let ji=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Oee}return n})();function Oee(n){return function Lee(n,t,e){if(Ja(n)&&!e){const i=gr(n.index,t);return new Bh(i,i)}return 47&n.type?new Bh(t[vn],t):null}(di(),L(),16==(16&n))}class x2{constructor(){}supports(t){return o_(t)}create(t){return new Gee(t)}}const Hee=(n,t)=>t;class Gee{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Hee}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<T2(i,r,s)?e:i,a=T2(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!o_(t))throw new I(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function IX(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new Uee(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new b2),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new b2),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Uee{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zee{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class b2{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new zee,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function T2(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class w2{constructor(){}supports(t){return t instanceof Map||NT(t)}create(){return new jee}}class jee{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||NT(t)))throw new I(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new Wee(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Wee{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function C2(){return new k_([new x2])}let k_=(()=>{class n{static#e=this.\u0275prov=Q({token:n,providedIn:"root",factory:C2});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||C2()),deps:[[n,new Am,new Hr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new I(901,!1)}}return n})();function D2(){return new nf([new w2])}let nf=(()=>{class n{static#e=this.\u0275prov=Q({token:n,providedIn:"root",factory:D2});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||D2()),deps:[[n,new Am,new Hr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new I(901,!1)}}return n})();const Kee=l2(null,"core",[]);let Xee=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(z(fo))};static#t=this.\u0275mod=Ae({type:n});static#n=this.\u0275inj=Ce({})}return n})(),kw=null;function la(){return kw}class ute{}const kn=new ne("DocumentToken");let Mw=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return se(hte)},providedIn:"platform"})}return n})();const dte=new ne("Location Initialized");let hte=(()=>{class n extends Mw{constructor(){super(),this._doc=se(kn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return la().getBaseHref(this._doc)}onPopState(e){const i=la().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=la().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Nw(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function P2(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function po(n){return n&&"?"!==n[0]?"?"+n:n}let hl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return se(L2)},providedIn:"root"})}return n})();const O2=new ne("appBaseHref");let L2=(()=>{class n extends hl{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??se(kn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Nw(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+po(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+po(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+po(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(z(Mw),z(O2,8))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fte=(()=>{class n extends hl{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Nw(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+po(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+po(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(z(Mw),z(O2,8))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),Rw=(()=>{class n{constructor(e){this._subject=new q,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function mte(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(P2(F2(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+po(i))}normalize(e){return n.stripTrailingSlash(function gte(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,F2(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+po(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+po(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=po;static#t=this.joinWithSlash=Nw;static#n=this.stripTrailingSlash=P2;static#i=this.\u0275fac=function(i){return new(i||n)(z(hl))};static#r=this.\u0275prov=Q({token:n,factory:function(){return function pte(){return new Rw(z(hl))}()},providedIn:"root"})}return n})();function F2(n){return n.replace(/\/index.html$/,"")}function W2(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const Uw=/\s+/,q2=[];let Y2=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=q2,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Uw):q2}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Uw):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Uw).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(x(k_),x(nf),x(tt),x(vr))};static#t=this.\u0275dir=J({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class tne{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ci=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new tne(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),X2(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{X2(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(x(Ur),x(fn),x(k_))};static#t=this.\u0275dir=J({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function X2(n,t){n.context.$implicit=t.item}let zn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new nne,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Q2("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Q2("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(x(Ur),x(fn))};static#t=this.\u0275dir=J({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class nne{constructor(){this.$implicit=null,this.ngIf=null}}function Q2(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${$n(t)}'.`)}let yu=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(x(Ur))};static#t=this.\u0275dir=J({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ot]})}return n})();class ane{createSubscription(t,e){return EN(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){EN(()=>t.unsubscribe())}}class lne{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const cne=new lne,une=new ane;let J2=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(jh(e))return cne;if(BO(e))return une;throw function as(n,t){return new I(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(x(ji,16))};static#t=this.\u0275pipe=Zi({name:"async",type:n,pure:!1,standalone:!0})}return n})(),hi=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ae({type:n});static#n=this.\u0275inj=Ce({})}return n})();const tV="browser";function ca(n){return n===tV}function G_(n){return"server"===n}let Mne=(()=>{class n{static#e=this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new Nne(z(kn),window)})}return n})();class Nne{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Rne(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class nV{}class nie extends ute{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Xw extends nie{static makeCurrent(){!function cte(n){kw||(kw=n)}(new Xw)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function iie(){return lf=lf||document.querySelector("base"),lf?lf.getAttribute("href"):null}();return null==e?null:function rie(n){j_=j_||document.createElement("a"),j_.setAttribute("href",n);const t=j_.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){lf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return W2(document.cookie,t)}}let j_,lf=null,oie=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const Qw=new ne("EventManagerPlugins");let aV=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(z(Qw),z(je))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();class lV{constructor(t){this._doc=t}}const Zw="ng-app-id";let cV=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=G_(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Zw}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(Zw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Zw,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(z(kn),z(qm),z(vP,8),z(Hi))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const Jw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eC=/%COMP%/g,uie=new ne("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function dV(n,t){return t.map(e=>e.replace(eC,n))}let tC=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=G_(a),this.defaultRenderer=new nC(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Vr.ShadowDom&&(i={...i,encapsulation:Vr.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof fV?r.applyToHost(e):r instanceof iC&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Vr.Emulated:s=new fV(l,c,i,this.appId,u,o,a,d);break;case Vr.ShadowDom:return new gie(l,c,e,i,o,a,this.nonce,d);default:s=new iC(l,c,i,u,o,a,d)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(z(aV),z(cV),z(qm),z(uie),z(kn),z(Hi),z(je),z(vP))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();class nC{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Jw[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(hV(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(hV(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new I(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Jw[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Jw[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(ea.DashCase|ea.Important)?t.style.setProperty(e,i,r&ea.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&ea.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=la().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function hV(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class gie extends nC{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=dV(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class iC extends nC{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?dV(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class fV extends iC{constructor(t,e,i,r,s,o,a,l){const c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=function die(n){return"_ngcontent-%COMP%".replace(eC,n)}(c),this.hostAttr=function hie(n){return"_nghost-%COMP%".replace(eC,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let mie=(()=>{class n extends lV{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(z(kn))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const pV=["alt","control","meta","shift"],_ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vie={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let yie=(()=>{class n extends lV{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>la().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),pV.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=_ie[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),pV.forEach(o=>{o!==r&&(0,vie[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(z(kn))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const mV=[{provide:Hi,useValue:tV},{provide:mP,useValue:function xie(){Xw.makeCurrent()},multi:!0},{provide:kn,useFactory:function Tie(){return function gY(n){Hb=n}(document),document},deps:[]}],wie=l2(Kee,"browser",mV),Cie=new ne(""),_V=[{provide:S_,useClass:class sie{addToWindow(t){$t.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new I(5103,!1);return s},$t.getAllAngularTestabilities=()=>t.getAllTestabilities(),$t.getAllAngularRootElements=()=>t.getAllRootElements(),$t.frameworkStabilizers||($t.frameworkStabilizers=[]),$t.frameworkStabilizers.push(i=>{const r=$t.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?la().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:n2,useClass:yw,deps:[je,xw,S_]},{provide:yw,useClass:yw,deps:[je,xw,S_]}],vV=[{provide:Zb,useValue:"root"},{provide:ao,useFactory:function bie(){return new ao},deps:[]},{provide:Qw,useClass:mie,multi:!0,deps:[kn,je,Hi]},{provide:Qw,useClass:yie,multi:!0,deps:[kn]},tC,cV,aV,{provide:Qc,useExisting:tC},{provide:nV,useClass:oie,deps:[]},[]];let yV=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:qm,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(z(Cie,12))};static#t=this.\u0275mod=Ae({type:n});static#n=this.\u0275inj=Ce({providers:[...vV,..._V],imports:[hi,Xee]})}return n})(),xV=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(z(kn))};static#t=this.\u0275prov=Q({token:n,factory:function(i){let r=null;return r=i?new i:function Sie(){return new xV(z(kn))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;class CV{}class Mie{}const _o="*";function sC(n,t){return{type:7,name:n,definitions:t,options:{}}}function W_(n,t=null){return{type:4,styles:t,timings:n}}function DV(n,t=null){return{type:2,steps:n,options:t}}function Ns(n){return{type:6,styles:n,offset:null}}function q_(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}class cf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class SV{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function EV(n){return new I(3e3,!1)}function da(n){switch(n.length){case 0:return new cf;case 1:return n[0];default:return new SV(n)}}function AV(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,r),m){case"!":m=e.get(f);break;case _o:m=i.get(f);break;default:m=n.normalizeStyleValue(f,p,m,r)}d.set(p,m)}),u||s.push(d),a=d,o=c}),r.length)throw function ere(n){return new I(3502,!1)}();return s}function aC(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&lC(e,"start",n)));break;case"done":n.onDone(()=>i(e&&lC(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&lC(e,"destroy",n)))}}function lC(n,t,e){const s=cC(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function cC(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Tr(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function IV(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const hre=(()=>typeof document>"u"?null:document.documentElement)();function uC(n){const t=n.parentNode||n.host||null;return t===hre?null:t}let fl=null,kV=!1;function MV(n,t){for(;t;){if(t===n)return!0;t=uC(t)}return!1}function NV(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let RV=(()=>{class n{validateStyleProperty(e){return function pre(n){fl||(fl=function gre(){return typeof document<"u"?document.body:null}()||{},kV=!!fl.style&&"WebkitAppearance"in fl.style);let t=!0;return fl.style&&!function fre(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in fl.style,!t&&kV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in fl.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return MV(e,i)}getParentElement(e){return uC(e)}query(e,i,r){return NV(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new cf(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),dC=(()=>{class n{static#e=this.NOOP=new RV}return n})();const mre=1e3,hC="ng-enter",Y_="ng-leave",K_="ng-trigger",X_=".ng-trigger",OV="ng-animating",fC=".ng-animating";function vo(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pC(parseFloat(t[1]),t[2])}function pC(n,t){return"s"===t?n*mre:n}function Q_(n,t,e){return n.hasOwnProperty("duration")?n:function vre(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(EV()),{duration:0,delay:0,easing:""};r=pC(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=pC(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function Nie(){return new I(3100,!1)}()),a=!0),s<0&&(t.push(function Rie(){return new I(3101,!1)}()),a=!0),a&&t.splice(l,0,EV())}return{duration:r,delay:s,easing:o}}(n,t,e)}function uf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function LV(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ha(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Rs(n,t,e){t.forEach((i,r)=>{const s=mC(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function pl(n,t){t.forEach((e,i)=>{const r=mC(i);n.style[r]=""})}function df(n){return Array.isArray(n)?1==n.length?n[0]:DV(n):n}const gC=new RegExp("{{\\s*(.+?)\\s*}}","g");function VV(n){let t=[];if("string"==typeof n){let e;for(;e=gC.exec(n);)t.push(e[1]);gC.lastIndex=0}return t}function hf(n,t,e){const i=n.toString(),r=i.replace(gC,(s,o)=>{let a=t[o];return null==a&&(e.push(function Oie(n){return new I(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Z_(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const bre=/-+([a-z0-9])/g;function mC(n){return n.replace(bre,(...t)=>t[1].toUpperCase())}function wr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Lie(n){return new I(3004,!1)}()}}function BV(n,t){return window.getComputedStyle(n)[t]}const J_="*";function Cre(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Dre(n,t,e){if(":"==n[0]){const l=function Sre(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Xie(n){return new I(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Kie(n){return new I(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push($V(r,o));"<"==s[0]&&!(r==J_&&o==J_)&&t.push($V(o,r))}(i,e,t)):e.push(n),e}const ev=new Set(["true","1"]),tv=new Set(["false","0"]);function $V(n,t){const e=ev.has(n)||tv.has(n),i=ev.has(t)||tv.has(t);return(r,s)=>{let o=n==J_||n==r,a=t==J_||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?ev.has(n):tv.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?ev.has(t):tv.has(t)),o&&a}}const Ere=new RegExp("s*:selfs*,?","g");function _C(n,t,e,i){return new Are(n).build(t,e,i)}class Are{constructor(t){this._driver=t}build(t,e,i){const r=new Mre(e);return this._resetContextStyleTimingState(r),wr(this,df(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function Vie(){return new I(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function Bie(){return new I(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{VV(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Z_(s.values()),e.errors.push(function $ie(n,t){return new I(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=wr(this,df(t.animation),e);return{type:1,matchers:Cre(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:gl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>wr(this,i,e)),options:gl(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=wr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:gl(t.options)}}visitAnimate(t,e){const i=function Rre(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return vC(Q_(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=vC(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Q_(e,t);return vC(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ns({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Ns(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===_o?i.push(a):e.errors.push(new I(3002,!1)):i.push(LV(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function Gie(n,t,e,i,r){return new I(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&function xre(n,t,e){const i=t.params||{},r=VV(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Pie(n){return new I(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Uie(){return new I(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(v=>{const _=this._makeStyleAst(v,e);let y=null!=_.offset?_.offset:function Nre(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(_.styles),b=0;return null!=y&&(s++,b=_.offset=y),l=l||b<0||b>1,a=a||b<c,c=b,o.push(b),_});l&&e.errors.push(function zie(){return new I(3012,!1)}()),a&&e.errors.push(function jie(){return new I(3200,!1)}());const d=t.steps.length;let h=0;s>0&&s<d?e.errors.push(function Wie(){return new I(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((v,_)=>{const y=h>0?_==f?1:h*_:o[_],b=y*g;e.currentTime=p+m.delay+b,m.duration=b,this._validateStyleAst(v,e),v.offset=y,i.styles.push(v)}),i}visitReference(t,e){return{type:8,animation:wr(this,df(t.animation),e),options:gl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:gl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:gl(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function Ire(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Ere,"")),n=n.replace(/@\*/g,X_).replace(/@\w+/g,e=>X_+"-"+e.slice(1)).replace(/:animating/g,fC),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Tr(e.collectedStyles,e.currentQuerySelector,new Map);const a=wr(this,df(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:gl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function qie(){return new I(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Q_(t.timings,e.errors,!0);return{type:12,animation:wr(this,df(t.animation),e),timings:i,options:null}}}class Mre{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gl(n){return n?(n=uf(n)).params&&(n.params=function kre(n){return n?uf(n):null}(n.params)):n={},n}function vC(n,t,e){return{duration:n,delay:t,easing:e}}function yC(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class nv{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Lre=new RegExp(":enter","g"),Vre=new RegExp(":leave","g");function xC(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return(new Bre).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class Bre{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new nv;const d=new bC(t,e,c,r,s,u,[]);d.options=l;const h=l.delay?vo(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),wr(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[yC(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:vo(hf(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?vo(i.duration):null,a=null!=i.delay?vo(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),wr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=iv);const o=vo(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>wr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?vo(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),wr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Q_(e.params?hf(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?vo(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=iv);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),wr(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;wr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const iv={};class bC{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=iv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new rv(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=vo(i.duration)),null!=i.delay&&(r.delay=vo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=hf(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new bC(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=iv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new $re(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Lre,"."+this._enterClassName)).replace(Vre,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function Yie(n){return new I(3014,!1)}()),a}}class rv{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new rv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||_o),this._currentKeyframe.set(e,_o);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function Hre(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,_o)}else ha(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=hf(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??_o),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=ha(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===_o&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=t.size?Z_(t.values()):[],o=e.size?Z_(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return yC(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class $re extends rv{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=ha(t[0]);l.set("offset",0),s.push(l);const c=ha(t[0]);c.set("offset",UV(a)),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=ha(t[d]);const f=h.get("offset");h.set("offset",UV((e+f*i)/o)),s.push(h)}i=o,e=0,r="",t=s}return yC(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function UV(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class TC{}const Gre=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ure extends TC{normalizePropertyName(t,e){return mC(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(Gre.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Fie(n,t){return new I(3005,!1)}())}return o+s}}function zV(n,t,e,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const wC={};class jV{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function zre(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||wC,p=this.buildStyles(i,a&&a.params||wC,d),m=l&&l.params||wC,g=this.buildStyles(r,m,d),v=new Set,_=new Map,y=new Map,b="void"===r,D={params:jre(m,h),delay:this.ast.options?.delay},S=u?[]:xC(t,e,this.ast.animation,s,o,p,g,D,c,d);let H=0;if(S.forEach(ye=>{H=Math.max(ye.duration+ye.delay,H)}),d.length)return zV(e,this._triggerName,i,r,b,p,g,[],[],_,y,H,d);S.forEach(ye=>{const pe=ye.element,ie=Tr(_,pe,new Set);ye.preStyleProps.forEach(ve=>ie.add(ve));const rt=Tr(y,pe,new Set);ye.postStyleProps.forEach(ve=>rt.add(ve)),pe!==e&&v.add(pe)});const W=Z_(v.values());return zV(e,this._triggerName,i,r,b,p,g,S,W,_,y,H)}}function jre(n,t){const e=uf(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Wre{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=uf(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=hf(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class Yre{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Wre(r.style,r.options&&r.options.params||{},i))}),WV(this.states,"true","1"),WV(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new jV(t,r,this.states))}),this.fallbackTransition=function Kre(n,t,e){return new jV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function WV(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Xre=new nv;class Qre{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=_C(this._driver,e,i,[]);if(i.length)throw function tre(n){return new I(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=AV(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=xC(this._driver,e,s,hC,Y_,new Map,new Map,i,Xre,r),o.forEach(u=>{const d=Tr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function nre(){return new I(3300,!1)}()),o=[]),r.length)throw function ire(n){return new I(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,_o))})});const c=da(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function rre(n){return new I(3301,!1)}();return e}listen(t,e,i,r){const s=cC(e,"","","");return aC(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const qV="ng-animate-queued",CC="ng-animate-disabled",nse=[],YV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ise={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ls="__ng_removed";class DC{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function ase(n){return n??null}(i?t.value:t),i){const s=uf(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const ff="void",SC=new DC(ff);class rse{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Wr(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function sre(n,t){return new I(3302,!1)}();if(null==i||0==i.length)throw function ore(n){return new I(3303,!1)}();if(!function lse(n){return"start"==n||"done"==n}(i))throw function are(n,t){return new I(3400,!1)}();const s=Tr(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=Tr(this._engine.statesByElement,t,new Map);return a.has(e)||(Wr(t,K_),Wr(t,K_+"-"+e),a.set(e,SC)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function lre(n){return new I(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new EC(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Wr(t,K_),Wr(t,K_+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new DC(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=SC),c.value!==ff&&l.value===c.value){if(!function dse(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),v=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{pl(t,g),Rs(t,v)})}return}const h=Tr(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Wr(t,qV),o.onStart(()=>{xu(t,qV)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let v=g.indexOf(o);v>=0&&g.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,X_,!0);i.forEach(r=>{if(r[ls])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,ff,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&da(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||SC,u=new DC(ff),d=new EC(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ls];(!s||s===YV)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Wr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=cC(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,aC(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class sse{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new rse(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(sv(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!sv(e))return;const s=e[ls];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Wr(t,CC)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),xu(t,CC))}removeNode(t,e,i){if(sv(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ls]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return sv(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,X_,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,fC,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return da(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ls];if(e&&e.setForRemoval){if(t[ls]=YV,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(CC)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Wr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?da(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function cre(n){return new I(3402,!1)}()}_flushAnimations(t,e){const i=new nv,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(G=>{u.add(G);const j=this.driver.query(G,".ng-animate-queued",!0);for(let ae=0;ae<j.length;ae++)u.add(j[ae])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=QV(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((G,j)=>{const ae=hC+m++;p.set(j,ae),G.forEach(oe=>Wr(oe,ae))});const g=[],v=new Set,_=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){const j=this.collectedLeaveElements[G],ae=j[ls];ae&&ae.setForRemoval&&(g.push(j),v.add(j),ae.hasAnimation?this.driver.query(j,".ng-star-inserted",!0).forEach(oe=>v.add(oe)):_.add(j))}const y=new Map,b=QV(h,Array.from(v));b.forEach((G,j)=>{const ae=Y_+m++;y.set(j,ae),G.forEach(oe=>Wr(oe,ae))}),t.push(()=>{f.forEach((G,j)=>{const ae=p.get(j);G.forEach(oe=>xu(oe,ae))}),b.forEach((G,j)=>{const ae=y.get(j);G.forEach(oe=>xu(oe,ae))}),g.forEach(G=>{this.processLeaveNode(G)})});const D=[],S=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(e).forEach(ae=>{const oe=ae.player,$e=ae.element;if(D.push(oe),this.collectedEnterElements.length){const Xe=$e[ls];if(Xe&&Xe.setForMove){if(Xe.previousTriggersValues&&Xe.previousTriggersValues.has(ae.triggerName)){const un=Xe.previousTriggersValues.get(ae.triggerName),Y=this.statesByElement.get(ae.element);if(Y&&Y.has(ae.triggerName)){const Se=Y.get(ae.triggerName);Se.value=un,Y.set(ae.triggerName,Se)}}return void oe.destroy()}}const st=!d||!this.driver.containsElement(d,$e),ze=y.get($e),Xn=p.get($e),et=this._buildInstruction(ae,i,Xn,ze,st);if(et.errors&&et.errors.length)return void S.push(et);if(st)return oe.onStart(()=>pl($e,et.fromStyles)),oe.onDestroy(()=>Rs($e,et.toStyles)),void r.push(oe);if(ae.isFallbackTransition)return oe.onStart(()=>pl($e,et.fromStyles)),oe.onDestroy(()=>Rs($e,et.toStyles)),void r.push(oe);const oi=[];et.timelines.forEach(Xe=>{Xe.stretchStartingKeyframe=!0,this.disabledNodes.has(Xe.element)||oi.push(Xe)}),et.timelines=oi,i.append($e,et.timelines),o.push({instruction:et,player:oe,element:$e}),et.queriedElements.forEach(Xe=>Tr(a,Xe,[]).push(oe)),et.preStyleProps.forEach((Xe,un)=>{if(Xe.size){let Y=l.get(un);Y||l.set(un,Y=new Set),Xe.forEach((Se,He)=>Y.add(He))}}),et.postStyleProps.forEach((Xe,un)=>{let Y=c.get(un);Y||c.set(un,Y=new Set),Xe.forEach((Se,He)=>Y.add(He))})});if(S.length){const G=[];S.forEach(j=>{G.push(function ure(n,t){return new I(3505,!1)}())}),D.forEach(j=>j.destroy()),this.reportError(G)}const H=new Map,W=new Map;o.forEach(G=>{const j=G.element;i.has(j)&&(W.set(j,j),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,H))}),r.forEach(G=>{const j=G.element;this._getPreviousPlayers(j,!1,G.namespaceId,G.triggerName,null).forEach(oe=>{Tr(H,j,[]).push(oe),oe.destroy()})});const ye=g.filter(G=>JV(G,l,c)),pe=new Map;XV(pe,this.driver,_,c,_o).forEach(G=>{JV(G,l,c)&&ye.push(G)});const rt=new Map;f.forEach((G,j)=>{XV(rt,this.driver,new Set(G),l,"!")}),ye.forEach(G=>{const j=pe.get(G),ae=rt.get(G);pe.set(G,new Map([...j?.entries()??[],...ae?.entries()??[]]))});const ve=[],Je=[],sn={};o.forEach(G=>{const{element:j,player:ae,instruction:oe}=G;if(i.has(j)){if(u.has(j))return ae.onDestroy(()=>Rs(j,oe.toStyles)),ae.disabled=!0,ae.overrideTotalTime(oe.totalTime),void r.push(ae);let $e=sn;if(W.size>1){let ze=j;const Xn=[];for(;ze=ze.parentNode;){const et=W.get(ze);if(et){$e=et;break}Xn.push(ze)}Xn.forEach(et=>W.set(et,$e))}const st=this._buildAnimation(ae.namespaceId,oe,H,s,rt,pe);if(ae.setRealPlayer(st),$e===sn)ve.push(ae);else{const ze=this.playersByElement.get($e);ze&&ze.length&&(ae.parentPlayer=da(ze)),r.push(ae)}}else pl(j,oe.fromStyles),ae.onDestroy(()=>Rs(j,oe.toStyles)),Je.push(ae),u.has(j)&&r.push(ae)}),Je.forEach(G=>{const j=s.get(G.element);if(j&&j.length){const ae=da(j);G.setRealPlayer(ae)}}),r.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<g.length;G++){const j=g[G],ae=j[ls];if(xu(j,Y_),ae&&ae.hasAnimation)continue;let oe=[];if(a.size){let st=a.get(j);st&&st.length&&oe.push(...st);let ze=this.driver.query(j,fC,!0);for(let Xn=0;Xn<ze.length;Xn++){let et=a.get(ze[Xn]);et&&et.length&&oe.push(...et)}}const $e=oe.filter(st=>!st.destroyed);$e.length?cse(this,j,$e):this.processLeaveNode(j)}return g.length=0,ve.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();const j=this.players.indexOf(G);this.players.splice(j,1)}),G.play()}),ve}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==ff;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=Tr(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}pl(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const m=p.element;u.add(m);const g=m[ls];if(g&&g.removedBeforeQueried)return new cf(p.duration,p.delay);const v=m!==l,_=function use(n){const t=[];return ZV(n,t),t}((i.get(m)||nse).map(H=>H.getRealPlayer())).filter(H=>!!H.element&&H.element===m),y=s.get(m),b=o.get(m),D=AV(this._normalizer,p.keyframes,y,b),S=this._buildPlayer(p,D,_);if(p.subTimeline&&r&&d.add(m),v){const H=new EC(t,a,m);H.setRealPlayer(S),c.push(H)}return S});c.forEach(p=>{Tr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function ose(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Wr(p,OV));const f=da(h);return f.onDestroy(()=>{u.forEach(p=>xu(p,OV)),Rs(l,e.toStyles)}),d.forEach(p=>{Tr(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new cf(t.duration,t.delay)}}class EC{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new cf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>aC(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Tr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function sv(n){return n&&1===n.nodeType}function KV(n,t){const e=n.style.display;return n.style.display=t??"none",e}function XV(n,t,e,i,r){const s=[];e.forEach(l=>s.push(KV(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[ls]=ise,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>KV(l,s[a++])),o}function QV(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function Wr(n,t){n.classList?.add(t)}function xu(n,t){n.classList?.remove(t)}function cse(n,t,e){da(e).onDone(()=>n.processLeaveNode(t))}function ZV(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof SV?ZV(i.players,t):t.push(i)}}function JV(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class ov{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new sse(t,e,i),this._timelineEngine=new Qre(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=_C(this._driver,s,l,[]);if(l.length)throw function Jie(n,t){return new I(3404,!1)}();a=function qre(n,t,e){return new Yre(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=IV(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=IV(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let fse=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Rs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rs(this._element,this._initialStyles),this._endStyles&&(Rs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pl(this._element,this._endStyles),this._endStyles=null),Rs(this._element,this._initialStyles),this._state=3)}}return n})();function AC(n){let t=null;return n.forEach((e,i)=>{(function pse(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class eB{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:BV(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class gse{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return MV(t,e)}getParentElement(t){return uC(t)}query(t,e,i){return NV(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof eB);(function Tre(n,t){return 0===n||0===t})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function yre(n){return n.length?n[0]instanceof Map?n:n.map(t=>LV(t)):[]}(e).map(f=>ha(f));d=function wre(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,BV(n,a)))}}return t}(t,d,c);const h=function hse(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=AC(t[0]),t.length>1&&(i=AC(t[t.length-1]))):t instanceof Map&&(e=AC(t)),e||i?new fse(n,e,i):null}(t,d);return new eB(t,d,l,h)}}let mse=(()=>{class n extends CV{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Vr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?DV(e):e;return tB(this._renderer,null,i,"register",[r]),new _se(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(z(Qc),z(kn))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();class _se extends Mie{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new vse(this._id,t,e||{},this._renderer)}}class vse{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return tB(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tB(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const nB="@.disabled";let yse=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new iB("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return i.data.animation.forEach(l),new xse(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(z(Qc),z(ov),z(je))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();class iB{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==nB?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class xse extends iB{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==nB?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function bse(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Tse(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let wse=(()=>{class n extends ov{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(z(kn),z(dC),z(TC),z(fo))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const rB=[{provide:CV,useClass:mse},{provide:TC,useFactory:function Cse(){return new Ure}},{provide:ov,useClass:wse},{provide:Qc,useFactory:function Dse(n,t,e){return new yse(n,t,e)},deps:[tC,ov,je]}],IC=[{provide:dC,useFactory:()=>new gse},{provide:_P,useValue:"BrowserAnimations"},...rB],sB=[{provide:dC,useClass:RV},{provide:_P,useValue:"NoopAnimations"},...rB];let Sse=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?sB:IC}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ae({type:n});static#n=this.\u0275inj=Ce({providers:IC,imports:[yV]})}return n})();const{isArray:Ase}=Array,{getPrototypeOf:Ise,prototype:kse,keys:Mse}=Object;function oB(n){if(1===n.length){const t=n[0];if(Ase(t))return{args:t,keys:null};if(function Nse(n){return n&&"object"==typeof n&&Ise(n)===kse}(t)){const e=Mse(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Rse}=Array;function kC(n){return we(t=>function Pse(n,t){return Rse(t)?n(...t):n(t)}(n,t))}function aB(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function pf(...n){const t=sh(n),e=Zg(n),{args:i,keys:r}=oB(n);if(0===i.length)return Vn([],t);const s=new mt(function Ose(n,t,e=Or){return i=>{lB(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)lB(t,()=>{const c=Vn(n[l],t);let u=!1;c.subscribe(Ft(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>aB(r,o):Or));return e?s.pipe(kC(e)):s}function lB(n,t,e){n?eo(e,n,t):t()}const lv=Wt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function gf(...n){return function Lse(){return vc(1)}()(Vn(n,sh(n)))}function cB(n){return new mt(t=>{Ln(n()).subscribe(t)})}function mf(n,t){const e=qe(n)?n:()=>n,i=r=>r.error(e());return new mt(t?r=>t.schedule(i,0,r):i)}function MC(){return Jt((n,t)=>{let e=null;n._refCount++;const i=Ft(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class uB extends mt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,qg(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ye;const e=this.getSubject();t.add(this.source.subscribe(Ft(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ye.EMPTY)}return t}refCount(){return MC()(this)}}function Jn(n){return n<=0?()=>Lr:Jt((t,e)=>{let i=0;t.subscribe(Ft(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function cv(...n){const t=sh(n);return Jt((e,i)=>{(t?gf(n,e,t):gf(n,e)).subscribe(i)})}function Di(n,t){return Jt((e,i)=>{let r=0;e.subscribe(Ft(i,s=>n.call(t,s,r++)&&i.next(s)))})}function uv(n){return Jt((t,e)=>{let i=!1;t.subscribe(Ft(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function dB(n=Fse){return Jt((t,e)=>{let i=!1;t.subscribe(Ft(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Fse(){return new lv}function ml(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Di((r,s)=>n(r,s,i)):Or,Jn(1),e?uv(t):dB(()=>new lv))}function bu(n,t){return qe(t)?Fn(n,t,1):Fn(n,1)}function jn(n,t,e){const i=qe(n)||t||e?{next:n,error:t,complete:e}:n;return i?Jt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Ft(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Or}function _l(n){return Jt((t,e)=>{let s,i=null,r=!1;i=t.subscribe(Ft(e,void 0,void 0,o=>{s=Ln(n(o,_l(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function NC(n){return n<=0?()=>Lr:Jt((t,e)=>{let i=[];t.subscribe(Ft(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function _f(n){return Jt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Nn(n){return Jt((t,e)=>{Ln(n).subscribe(Ft(e,()=>e.complete(),Lt)),!e.closed&&t.subscribe(e)})}const Ge="primary",vf=Symbol("RouteTitle");class Hse{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Tu(n){return new Hse(n)}function Gse(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ps(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!fB(n[r],t[r]))return!1;return!0}function fB(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function pB(n){return n.length>0?n[n.length-1]:null}function fa(n){return function Ese(n){return!!n&&(n instanceof mt||qe(n.lift)&&qe(n.subscribe))}(n)?n:jh(n)?Vn(Promise.resolve(n)):be(n)}const zse={exact:function _B(n,t,e){if(!vl(n.segments,t.segments)||!dv(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!_B(n.children[i],t.children[i],e))return!1;return!0},subset:vB},gB={exact:function jse(n,t){return Ps(n,t)},subset:function Wse(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>fB(n[e],t[e]))},ignored:()=>!0};function mB(n,t,e){return zse[e.paths](n.root,t.root,e.matrixParams)&&gB[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function vB(n,t,e){return yB(n,t,t.segments,e)}function yB(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!vl(r,e)||t.hasChildren()||!dv(r,e,i))}if(n.segments.length===e.length){if(!vl(n.segments,e)||!dv(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!vB(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(vl(n.segments,r)&&dv(n.segments,r,i)&&n.children[Ge])&&yB(n.children[Ge],t,s,i)}}function dv(n,t,e){return t.every((i,r)=>gB[e](n[r].parameters,i.parameters))}class wu{constructor(t=new Mt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tu(this.queryParams)),this._queryParamMap}toString(){return Kse.serialize(this)}}class Mt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hv(this)}}class yf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Tu(this.parameters)),this._parameterMap}toString(){return TB(this)}}function vl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let xf=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return new RC},providedIn:"root"})}return n})();class RC{parse(t){const e=new ooe(t);return new wu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${bf(t.root,!0)}`,i=function Zse(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${fv(e)}=${fv(r)}`).join("&"):`${fv(e)}=${fv(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Xse(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Kse=new RC;function hv(n){return n.segments.map(t=>TB(t)).join("/")}function bf(n,t){if(!n.hasChildren())return hv(n);if(t){const e=n.children[Ge]?bf(n.children[Ge],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Ge&&i.push(`${r}:${bf(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Yse(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ge&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ge&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Ge?[bf(n.children[Ge],!1)]:[`${r}:${bf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ge]?`${hv(n)}/${e[0]}`:`${hv(n)}/(${e.join("//")})`}}function xB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fv(n){return xB(n).replace(/%3B/gi,";")}function PC(n){return xB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pv(n){return decodeURIComponent(n)}function bB(n){return pv(n.replace(/\+/g,"%20"))}function TB(n){return`${PC(n.path)}${function Qse(n){return Object.keys(n).map(t=>`;${PC(t)}=${PC(n[t])}`).join("")}(n.parameters)}`}const Jse=/^[^\/()?;#]+/;function OC(n){const t=n.match(Jse);return t?t[0]:""}const eoe=/^[^\/()?;=#]+/,noe=/^[^=?&#]+/,roe=/^[^&#]+/;class ooe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ge]=new Mt(t,e)),i}parseSegment(){const t=OC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(t),new yf(pv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function toe(n){const t=n.match(eoe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=OC(this.remaining);r&&(i=r,this.capture(i))}t[pv(e)]=pv(i)}parseQueryParam(t){const e=function ioe(n){const t=n.match(noe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function soe(n){const t=n.match(roe);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=bB(e),s=bB(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=OC(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new I(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ge);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Ge]:new Mt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new I(4011,!1)}}function wB(n){return n.segments.length>0?new Mt([],{[Ge]:n}):n}function CB(n){const t={};for(const i of Object.keys(n.children)){const s=CB(n.children[i]);if(i===Ge&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function aoe(n){if(1===n.numberOfChildren&&n.children[Ge]){const t=n.children[Ge];return new Mt(n.segments.concat(t.segments),t.children)}return n}(new Mt(n.segments,t))}function yl(n){return n instanceof wu}function DB(n){let t;const r=wB(function e(s){const o={};for(const l of s.children){const c=e(l);o[l.outlet]=c}const a=new Mt(s.url,o);return s===n&&(t=a),a}(n.root));return t??r}function SB(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return LC(r,r,r,e,i);const s=function coe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new AB(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new AB(e,t,i)}(t);if(s.toRoot())return LC(r,r,new Mt([],{}),e,i);const o=function uoe(n,t,e){if(n.isAbsolute)return new mv(t,!0,0);if(!e)return new mv(t,!1,NaN);if(null===e.parent)return new mv(e,!0,0);const i=gv(n.commands[0])?0:1;return function doe(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new I(4005,!1);r=i.segments.length}return new mv(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?wf(o.segmentGroup,o.index,s.commands):IB(o.segmentGroup,o.index,s.commands);return LC(r,o.segmentGroup,a,e,i)}function gv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tf(n){return"object"==typeof n&&null!=n&&n.outlets}function LC(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===t?e:EB(n,t,e);const a=wB(CB(o));return new wu(a,s,r)}function EB(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:EB(s,t,e)}),new Mt(n.segments,i)}class AB{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&gv(i[0]))throw new I(4003,!1);const r=i.find(Tf);if(r&&r!==pB(i))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mv{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function IB(n,t,e){if(n||(n=new Mt([],{})),0===n.segments.length&&n.hasChildren())return wf(n,t,e);const i=function foe(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(Tf(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!MB(l,c,o))return s;i+=2}else{if(!MB(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Mt(n.segments.slice(0,i.pathIndex),{});return s.children[Ge]=new Mt(n.segments.slice(i.pathIndex),n.children),wf(s,0,r)}return i.match&&0===r.length?new Mt(n.segments,{}):i.match&&!n.hasChildren()?FC(n,t,e):i.match?wf(n,0,r):FC(n,t,e)}function wf(n,t,e){if(0===e.length)return new Mt(n.segments,{});{const i=function hoe(n){return Tf(n[0])?n[0].outlets:{[Ge]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Ge)&&n.children[Ge]&&1===n.numberOfChildren&&0===n.children[Ge].segments.length){const s=wf(n.children[Ge],t,e);return new Mt(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=IB(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Mt(n.segments,r)}}function FC(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Tf(s)){const l=poe(s.outlets);return new Mt(i,l)}if(0===r&&gv(e[0])){i.push(new yf(n.segments[t].path,kB(e[0]))),r++;continue}const o=Tf(s)?s.outlets[Ge]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&gv(a)?(i.push(new yf(o,kB(a))),r+=2):(i.push(new yf(o,{})),r++)}return new Mt(i,{})}function poe(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=FC(new Mt([],{}),0,i))}),t}function kB(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function MB(n,t,e){return n==e.path&&Ps(t,e.parameters)}const Cf="imperative";class Os{constructor(t,e){this.id=t,this.url=e}}class _v extends Os{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pa extends Os{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Df extends Os{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cu extends Os{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class vv extends Os{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class NB extends Os{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class goe extends Os{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class moe extends Os{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _oe extends Os{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class voe extends Os{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yoe{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xoe{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class boe{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Toe{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class woe{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Coe{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RB{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class VC{}class BC{constructor(t){this.url=t}}class Doe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Sf,this.attachRef=null}}let Sf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Doe,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class PB{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=$C(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=$C(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=HC(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return HC(t,this._root).map(e=>e.value)}}function $C(n,t){if(n===t.value)return t;for(const e of t.children){const i=$C(n,e);if(i)return i}return null}function HC(n,t){if(n===t.value)return[t];for(const e of t.children){const i=HC(n,e);if(i.length)return i.unshift(t),i}return[]}class yo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Du(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class OB extends PB{constructor(t,e){super(t),this.snapshot=e,GC(this,t)}toString(){return this.snapshot.toString()}}function LB(n,t){const e=function Soe(n,t){const o=new yv([],{},{},"",{},Ge,t,null,{});return new VB("",new yo(o,[]))}(0,t),i=new Bn([new yf("",{})]),r=new Bn({}),s=new Bn({}),o=new Bn({}),a=new Bn(""),l=new Su(i,r,o,a,s,Ge,t,e.root);return l.snapshot=e.root,new OB(new yo(l,[]),e)}class Su{constructor(t,e,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(we(c=>c[vf]))??be(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(we(t=>Tu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(we(t=>Tu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FB(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Eoe(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class yv{get title(){return this.data?.[vf]}constructor(t,e,i,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VB extends PB{constructor(t,e){super(e),this.url=t,GC(this,e)}toString(){return BB(this._root)}}function GC(n,t){t.value._routerState=n,t.children.forEach(e=>GC(n,e))}function BB(n){const t=n.children.length>0?` { ${n.children.map(BB).join(", ")} } `:"";return`${n.value}${t}`}function UC(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ps(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ps(t.params,e.params)||n.paramsSubject.next(e.params),function Use(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ps(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Ps(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function zC(n,t){const e=Ps(n.params,t.params)&&function qse(n,t){return vl(n,t)&&n.every((e,i)=>Ps(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||zC(n.parent,t.parent))}let jC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ge,this.activateEvents=new q,this.deactivateEvents=new q,this.attachEvents=new q,this.detachEvents=new q,this.parentContexts=se(Sf),this.location=se(Ur),this.changeDetector=se(ji),this.environmentInjector=se(_r),this.inputBinder=se(xv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Aoe(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=J({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ot]})}return n})();class Aoe{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Su?this.route:t===Sf?this.childContexts:this.parent.get(t,e)}}const xv=new ne("");let $B=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=pf([i.queryParams,i.params,i.data]).pipe(hr(([s,o,a],l)=>(a={...s,...o,...a},0===l?be(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function lte(n){const t=lt(n);if(!t)return null;const e=new $h(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();function Ef(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function koe(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ef(n,i,r);return Ef(n,i)})}(n,t,e);return new yo(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Ef(n,a)),o}}const i=function Moe(n){return new Su(new Bn(n.url),new Bn(n.params),new Bn(n.queryParams),new Bn(n.fragment),new Bn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Ef(n,s));return new yo(i,r)}}const WC="ngNavigationCancelingError";function HB(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=yl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=GB(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function GB(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[WC]=!0,i.cancellationCode=t,e&&(i.url=e),i}function UB(n){return n&&n[WC]}let zB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["ng-component"]],standalone:!0,features:[oF],decls:1,vars:0,template:function(i,r){1&i&&Fe(0,"router-outlet")},dependencies:[jC],encapsulation:2})}return n})();function qC(n){const t=n.children&&n.children.map(qC),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ge&&(e.component=zB),e}function cs(n){return n.outlet||Ge}function Af(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Boe{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),UC(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Du(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Du(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Du(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Du(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Coe(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Toe(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(UC(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),UC(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Af(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class jB{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class bv{constructor(t,e){this.component=t,this.route=e}}function $oe(n,t,e){const i=n._root;return If(i,t?t._root:null,e,[i.value])}function Eu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function R9(n){return null!==rm(n)}(n)?t.get(n):n:i}function If(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Du(t);return n.children.forEach(o=>{(function Goe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function Uoe(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!vl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!vl(n.url,t.url)||!Ps(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zC(n,t)||!Ps(n.queryParams,t.queryParams);default:return!zC(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new jB(i)):(s.data=o.data,s._resolvedData=o._resolvedData),If(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new bv(a.outlet.component,o))}else o&&kf(t,a,r),r.canActivateChecks.push(new jB(i)),If(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>kf(a,e.getContext(o),r)),r}function kf(n,t,e){const i=Du(n),r=n.value;Object.entries(i).forEach(([s,o])=>{kf(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new bv(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Mf(n){return"function"==typeof n}function WB(n){return n instanceof lv||"EmptyError"===n?.name}const Tv=Symbol("INITIAL_VALUE");function Au(){return hr(n=>pf(n.map(t=>t.pipe(Jn(1),cv(Tv)))).pipe(we(t=>{for(const e of t)if(!0!==e){if(e===Tv)return Tv;if(!1===e||e instanceof wu)return e}return!0}),Di(t=>t!==Tv),Jn(1)))}function qB(n){return function Ax(...n){return Ug(n)}(jn(t=>{if(yl(t))throw HB(0,t)}),we(t=>!0===t))}class wv{constructor(t){this.segmentGroup=t||null}}class YB{constructor(t){this.urlTree=t}}function Iu(n){return mf(new wv(n))}function KB(n){return mf(new YB(n))}class cae{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new I(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return be(i);if(r.numberOfChildren>1||!r.children[Ge])return mf(new I(4e3,!1));r=r.children[Ge]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new wu(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new Mt(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new I(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const YC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uae(n,t,e,i,r){const s=KC(n,t,e);return s.matched?(i=function Roe(n,t){return n.providers&&!n._injector&&(n._injector=ew(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function oae(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?be(r.map(o=>{const a=Eu(o,n);return fa(function Koe(n){return n&&Mf(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Au(),qB()):be(!0)}(i,t,e).pipe(we(o=>!0===o?s:{...YC}))):be(s)}function KC(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...YC}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Gse)(e,n,t);if(!r)return{...YC};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function XB(n,t,e,i){return e.length>0&&function fae(n,t,e){return e.some(i=>Cv(n,t,i)&&cs(i)!==Ge)}(n,e,i)?{segmentGroup:new Mt(t,hae(i,new Mt(e,n.children))),slicedSegments:[]}:0===e.length&&function pae(n,t,e){return e.some(i=>Cv(n,t,i))}(n,e,i)?{segmentGroup:new Mt(n.segments,dae(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Mt(n.segments,n.children),slicedSegments:e}}function dae(n,t,e,i,r){const s={};for(const o of i)if(Cv(n,e,o)&&!r[cs(o)]){const a=new Mt([],{});s[cs(o)]=a}return{...r,...s}}function hae(n,t){const e={};e[Ge]=t;for(const i of n)if(""===i.path&&cs(i)!==Ge){const r=new Mt([],{});e[cs(i)]=r}return e}function Cv(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class vae{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new cae(this.urlSerializer,this.urlTree)}noMatchError(t){return new I(4002,!1)}recognize(){const t=XB(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ge).pipe(_l(e=>{if(e instanceof YB)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof wv?this.noMatchError(e):e}),we(e=>{const i=new yv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ge,this.rootComponentType,null,{}),r=new yo(i,e),s=new VB("",r),o=function loe(n,t,e=null,i=null){return SB(DB(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Ge).pipe(_l(i=>{throw i instanceof wv?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=FB(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Vn(r).pipe(bu(s=>{const o=i.children[s],a=function Foe(n,t){const e=n.filter(i=>cs(i)===t);return e.push(...n.filter(i=>cs(i)!==t)),e}(e,s);return this.processSegmentGroup(t,a,o,s)}),function Bse(n,t){return Jt(function Vse(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(Ft(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),uv(null),function $se(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Di((r,s)=>n(r,s,i)):Or,NC(1),e?uv(t):dB(()=>new lv))}(),Fn(s=>{if(null===s)return Iu(i);const o=QB(s);return function yae(n){n.sort((t,e)=>t.value.outlet===Ge?-1:e.value.outlet===Ge?1:t.value.outlet.localeCompare(e.value.outlet))}(o),be(o)}))}processSegment(t,e,i,r,s,o){return Vn(e).pipe(bu(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,s,o).pipe(_l(l=>{if(l instanceof wv)return be(null);throw l}))),ml(a=>!!a),_l(a=>{if(WB(a))return function mae(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?be([]):Iu(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,s,o,a){return function gae(n,t,e,i){return!!(cs(n)===i||i!==Ge&&Cv(t,e,n))&&("**"===n.path||KC(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):Iu(r):Iu(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?KB(s):this.applyRedirects.lineralizeSegments(i,s).pipe(Fn(o=>{const a=new Mt(o,{});return this.processSegment(t,e,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=KC(e,r,s);if(!a)return Iu(e);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?KB(d):this.applyRedirects.lineralizeSegments(r,d).pipe(Fn(h=>this.processSegment(t,i,e,h.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?pB(r).parameters:{};a=be({snapshot:new yv(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZB(i),cs(i),i.component??i._loadedComponent??null,i,JB(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=uae(e,i,r,t).pipe(we(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new yv(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZB(i),cs(i),i.component??i._loadedComponent??null,i,JB(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(hr(l=>null===l?Iu(e):this.getChildConfig(t=i._injector??t,i,r).pipe(hr(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:m}=XB(e,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(we(v=>null===v?null:[new yo(d,v)]));if(0===c.length&&0===m.length)return be([new yo(d,[])]);const g=cs(i)===s;return this.processSegment(u,c,p,m,g?Ge:s,!0).pipe(we(v=>[new yo(d,v)]))}))))}getChildConfig(t,e,i){return e.children?be({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?be({routes:e._loadedRoutes,injector:e._loadedInjector}):function sae(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?be(!0):be(r.map(o=>{const a=Eu(o,n);return fa(function joe(n){return n&&Mf(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Au(),qB())}(t,e,i).pipe(Fn(r=>r?this.configLoader.loadChildren(t,e).pipe(jn(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function lae(n){return mf(GB(!1,3))}())):be({routes:[],injector:t})}}function xae(n){const t=n.value.routeConfig;return t&&""===t.path}function QB(n){const t=[],e=new Set;for(const i of n){if(!xae(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=QB(i.children);t.push(new yo(i.value,r))}return t.filter(i=>!e.has(i))}function ZB(n){return n.data||{}}function JB(n){return n.resolve||{}}function Tae(n,t){return Fn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return be(e);let s=0;return Vn(r).pipe(bu(o=>function wae(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!e$(r)&&(s[vf]=r.title),function Cae(n,t,e,i){const r=function Dae(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return be({});const s={};return Vn(r).pipe(Fn(o=>function Sae(n,t,e,i){const r=Af(t)??i,s=Eu(n,r);return fa(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(ml(),jn(a=>{s[o]=a}))),NC(1),function hB(n){return we(()=>n)}(s),_l(o=>WB(o)?Lr:mf(o)))}(s,n,t,i).pipe(we(o=>(n._resolvedData=o,n.data=FB(n,e).resolve,r&&e$(r)&&(n.data[vf]=r.title),null)))}(o.route,i,n,t)),jn(()=>s++),NC(1),Fn(o=>s===r.length?be(e):Lr))})}function e$(n){return"string"==typeof n.title||null===n.title}function XC(n){return hr(t=>{const e=n(t);return e?Vn(e).pipe(we(()=>t)):be(t)})}const ku=new ne("ROUTES");let QC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=se(ZF)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return be(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=fa(e.loadComponent()).pipe(we(t$),jn(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),_f(()=>{this.componentLoaders.delete(e)})),r=new uB(i,()=>new Bt).pipe(MC());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return be({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Eae(n,t,e,i){return fa(n.loadChildren()).pipe(we(t$),Fn(r=>r instanceof rF||Array.isArray(r)?be(r):Vn(t.compileModuleAsync(r))),we(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(ku,[],{optional:!0,self:!0}).flat()),{routes:o.map(qC),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(_f(()=>{this.childrenLoaders.delete(i)})),o=new uB(s,()=>new Bt).pipe(MC());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function t$(n){return function Aae(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Dv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Bt,this.transitionAbortSubject=new Bt,this.configLoader=se(QC),this.environmentInjector=se(_r),this.urlSerializer=se(xf),this.rootContexts=se(Sf),this.inputBindingEnabled=null!==se(xv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>be(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new xoe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new yoe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new Bn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Cf,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Di(s=>0!==s.id),we(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),hr(s=>{this.currentTransition=s;let o=!1,a=!1;return be(s).pipe(jn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),hr(l=>{const c=l.currentBrowserUrl.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const h="";return this.events.next(new Cu(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Lr}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return be(l).pipe(hr(h=>{const f=this.transitions?.getValue();return this.events.next(new _v(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Lr:Promise.resolve(h)}),function bae(n,t,e,i,r,s){return Fn(o=>function _ae(n,t,e,i,r,s,o="emptyOnly"){return new vae(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe(we(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),jn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new NB(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=l,v=new _v(h,this.urlSerializer.serialize(f),p,m);this.events.next(v);const _=LB(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:_,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},be(s)}{const h="";return this.events.next(new Cu(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Lr}}),jn(l=>{const c=new goe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),we(l=>(this.currentTransition=s={...l,guards:$oe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function Qoe(n,t){return Fn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?be({...e,guardsResult:!0}):function Zoe(n,t,e,i){return Vn(n).pipe(Fn(r=>function rae(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?be(s.map(a=>{const l=Af(t)??r,c=Eu(a,l);return fa(function Yoe(n){return n&&Mf(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(ml())})).pipe(Au()):be(!0)}(r.component,r.route,e,t,i)),ml(r=>!0!==r,!0))}(o,i,r,n).pipe(Fn(a=>a&&function zoe(n){return"boolean"==typeof n}(a)?function Joe(n,t,e,i){return Vn(t).pipe(bu(r=>gf(function tae(n,t){return null!==n&&t&&t(new boe(n)),be(!0)}(r.route.parent,i),function eae(n,t){return null!==n&&t&&t(new woe(n)),be(!0)}(r.route,i),function iae(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function Hoe(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>cB(()=>be(o.guards.map(l=>{const c=Af(o.node)??e,u=Eu(l,c);return fa(function qoe(n){return n&&Mf(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(ml())})).pipe(Au())));return be(s).pipe(Au())}(n,r.path,e),function nae(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return be(!0);const r=i.map(s=>cB(()=>{const o=Af(t)??e,a=Eu(s,o);return fa(function Woe(n){return n&&Mf(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(ml())}));return be(r).pipe(Au())}(n,r.route,e))),ml(r=>!0!==r,!0))}(i,s,n,t):be(a)),we(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),jn(l=>{if(s.guardsResult=l.guardsResult,yl(l.guardsResult))throw HB(0,l.guardsResult);const c=new moe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Di(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),XC(l=>{if(l.guards.canActivateChecks.length)return be(l).pipe(jn(c=>{const u=new _oe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),hr(c=>{let u=!1;return be(c).pipe(Tae(e.paramsInheritanceStrategy,this.environmentInjector),jn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),jn(c=>{const u=new voe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),XC(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(jn(h=>{u.component=h}),we(()=>{})));for(const h of u.children)d.push(...c(h));return d};return pf(c(l.targetSnapshot.root)).pipe(uv(),Jn(1))}),XC(()=>this.afterPreactivation()),we(l=>{const c=function Ioe(n,t,e){const i=Ef(n,t._root,e?e._root:void 0);return new OB(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),jn(()=>{this.events.next(new VC)}),((n,t,e,i)=>we(r=>(new Boe(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Jn(1),jn({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Nn(this.transitionAbortSubject.pipe(jn(l=>{throw l}))),_f(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),_l(l=>{if(a=!0,UB(l))this.events.next(new Df(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Noe(n){return UB(n)&&yl(n.url)}(l)?this.events.next(new BC(l.url)):s.resolve(!1);else{this.events.next(new vv(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(c){s.reject(c)}}return Lr}))}))}cancelNavigationTransition(e,i,r){const s=new Df(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n$(n){return n!==Cf}let i$=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ge);return i}getResolvedTitleForRoute(e){return e.data[vf]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return se(Iae)},providedIn:"root"})}return n})(),Iae=(()=>{class n extends i${constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(z(xV))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return se(Nae)},providedIn:"root"})}return n})();class Mae{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Nae=(()=>{class n extends Mae{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Qn(n)))(r||n)}}();static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Sv=new ne("",{providedIn:"root",factory:()=>({})});let Rae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return se(Pae)},providedIn:"root"})}return n})(),Pae=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Nf||{});function r$(n,t){n.events.pipe(Di(e=>e instanceof pa||e instanceof Df||e instanceof vv||e instanceof Cu),we(e=>e instanceof pa||e instanceof Cu?Nf.COMPLETE:e instanceof Df&&(0===e.code||1===e.code)?Nf.REDIRECTING:Nf.FAILED),Di(e=>e!==Nf.REDIRECTING),Jn(1)).subscribe(()=>{t()})}function Oae(n){throw n}function Lae(n,t,e){return t.parse("/")}const Fae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=se(QF),this.isNgZoneEnabled=!1,this._events=new Bt,this.options=se(Sv,{optional:!0})||{},this.pendingTasks=se(C_),this.errorHandler=this.options.errorHandler||Oae,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Lae,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=se(Rae),this.routeReuseStrategy=se(kae),this.titleStrategy=se(i$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=se(ku,{optional:!0})?.flat()??[],this.navigationTransitions=se(Dv),this.urlSerializer=se(xf),this.location=se(Rw),this.componentInputBindingEnabled=!!se(xv,{optional:!0}),this.eventsSubscription=new Ye,this.isNgZoneEnabled=se(je)instanceof je&&je.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LB(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(s$(i)&&this._events.next(i));if(i instanceof _v)n$(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Cu)this.rawUrlTree=r.rawUrl;else if(i instanceof NB){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof VC)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Df)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof BC){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||n$(r.source)};this.scheduleNavigation(s,Cf,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof vv&&this.restoreHistory(r,!0),i instanceof pa&&(this.navigated=!0),s$(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Cf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(qC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=DB(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),d=this.currentUrlTree.root}return SB(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=yl(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Cf,null,i)}navigate(e,i={skipLocationChange:!1}){return function Bae(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new I(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Fae}:!1===i?{...Vae}:i,yl(e))return mB(this.currentUrlTree,e,r);const s=this.parseUrl(e);return mB(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return r$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function s$(n){return!(n instanceof VC||n instanceof BC)}class o${}let Gae=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Di(e=>e instanceof pa),bu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=ew(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Vn(r).pipe(vc())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):be(null);const s=r.pipe(Fn(o=>null===o?be(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?Vn([s,this.loader.loadComponent(i)]).pipe(vc()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(z(sr),z(ZF),z(_r),z(o$),z(QC))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const JC=new ne("");let a$=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _v?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof pa?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Cu&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof RB&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new RB(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function KP(){throw new Error("invalid")}()};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();function xo(n,t){return{\u0275kind:n,\u0275providers:t}}function c$(){const n=se(In);return t=>{const e=n.get(fo);if(t!==e.components[0])return;const i=n.get(sr),r=n.get(u$);1===n.get(e1)&&i.initialNavigation(),n.get(d$,null,Qe.Optional)?.setUpPreloading(),n.get(JC,null,Qe.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const u$=new ne("",{factory:()=>new Bt}),e1=new ne("",{providedIn:"root",factory:()=>1}),d$=new ne("");function Wae(n){return xo(0,[{provide:d$,useExisting:Gae},{provide:o$,useExisting:n}])}const h$=new ne("ROUTER_FORROOT_GUARD"),Yae=[Rw,{provide:xf,useClass:RC},sr,Sf,{provide:Su,useFactory:function l$(n){return n.routerState.root},deps:[sr]},QC,[]];function Kae(){return new o2("Router",sr)}let f$=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Yae,[],{provide:ku,multi:!0,useValue:e},{provide:h$,useFactory:Jae,deps:[[sr,new Hr,new Am]]},{provide:Sv,useValue:i||{}},i?.useHash?{provide:hl,useClass:fte}:{provide:hl,useClass:L2},{provide:JC,useFactory:()=>{const n=se(Mne),t=se(je),e=se(Sv),i=se(Dv),r=se(xf);return e.scrollOffset&&n.setOffset(e.scrollOffset),new a$(r,i,n,t,e)}},i?.preloadingStrategy?Wae(i.preloadingStrategy).\u0275providers:[],{provide:o2,multi:!0,useFactory:Kae},i?.initialNavigation?ele(i):[],i?.bindToComponentInputs?xo(8,[$B,{provide:xv,useExisting:$B}]).\u0275providers:[],[{provide:p$,useFactory:c$},{provide:ww,multi:!0,useExisting:p$}]]}}static forChild(e){return{ngModule:n,providers:[{provide:ku,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(z(h$,8))};static#t=this.\u0275mod=Ae({type:n});static#n=this.\u0275inj=Ce({})}return n})();function Jae(n){return"guarded"}function ele(n){return["disabled"===n.initialNavigation?xo(3,[{provide:gw,multi:!0,useFactory:()=>{const t=se(sr);return()=>{t.setUpLocationChangeListener()}}},{provide:e1,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?xo(2,[{provide:e1,useValue:0},{provide:gw,multi:!0,deps:[In],useFactory:t=>{const e=t.get(dte,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(sr),s=t.get(u$);r$(r,()=>{i(!0)}),t.get(Dv).afterPreactivation=()=>(i(!0),s.closed?be(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const p$=new ne("");class Ev{}class Av{}class Ls{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ls?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ls;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ls?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class nle{encodeKey(t){return g$(t)}encodeValue(t){return g$(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const rle=/%(\d[a-f0-9])/gi,sle={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function g$(n){return encodeURIComponent(n).replace(rle,(t,e)=>sle[e]??t)}function Iv(n){return`${n}`}class ga{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nle,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ile(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Iv):[Iv(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ga({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Iv(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Iv(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ole{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function m$(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _$(n){return typeof Blob<"u"&&n instanceof Blob}function v$(n){return typeof FormData<"u"&&n instanceof FormData}class Rf{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ale(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ls),this.context||(this.context=new ole),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new ga,this.urlWithParams=e}serializeBody(){return null===this.body?null:m$(this.body)||_$(this.body)||v$(this.body)||function lle(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ga?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||v$(this.body)?null:_$(this.body)?this.body.type||null:m$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ga?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new Rf(e,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var Mu=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Mu||{});class t1{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ls,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class n1 extends t1{constructor(t={}){super(t),this.type=Mu.ResponseHeader}clone(t={}){return new n1({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Nu extends t1{constructor(t={}){super(t),this.type=Mu.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Nu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class y$ extends t1{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function i1(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ru=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Rf)s=e;else{let l,c;l=r.headers instanceof Ls?r.headers:new Ls(r.headers),r.params&&(c=r.params instanceof ga?r.params:new ga({fromObject:r.params})),s=new Rf(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=be(s).pipe(bu(l=>this.handler.handle(l)));if(e instanceof Rf||"events"===r.observe)return o;const a=o.pipe(Di(l=>l instanceof Nu));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(we(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(we(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(we(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(we(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ga).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,i1(r,i))}post(e,i,r={}){return this.request("POST",e,i1(r,i))}put(e,i,r={}){return this.request("PUT",e,i1(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ev))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();function T$(n,t){return t(n)}function ule(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const hle=new ne(""),Pf=new ne(""),w$=new ne("");function fle(){let n=null;return(t,e)=>{null===n&&(n=(se(hle,{optional:!0})??[]).reduceRight(ule,T$));const i=se(C_),r=i.add();return n(t,e).pipe(_f(()=>i.remove(r)))}}let C$=(()=>{class n extends Ev{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=se(C_)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Pf),...this.injector.get(w$,[])]));this.chain=r.reduceRight((s,o)=>function dle(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),T$)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(_f(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(z(Av),z(_r))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const _le=/^\)\]\}',?\n/;let S$=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new I(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Vn(i.\u0275loadImpl()):be(null)).pipe(hr(()=>new mt(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((m,g)=>o.setRequestHeader(m,g.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const m=e.detectContentTypeHeader();null!==m&&o.setRequestHeader("Content-Type",m)}if(e.responseType){const m=e.responseType.toLowerCase();o.responseType="json"!==m?m:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const m=o.statusText||"OK",g=new Ls(o.getAllResponseHeaders()),v=function vle(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new n1({headers:g,status:o.status,statusText:m,url:v}),l},u=()=>{let{headers:m,status:g,statusText:v,url:_}=c(),y=null;204!==g&&(y=typeof o.response>"u"?o.responseText:o.response),0===g&&(g=y?200:0);let b=g>=200&&g<300;if("json"===e.responseType&&"string"==typeof y){const D=y;y=y.replace(_le,"");try{y=""!==y?JSON.parse(y):null}catch(S){y=D,b&&(b=!1,y={error:S,text:y})}}b?(s.next(new Nu({body:y,headers:m,status:g,statusText:v,url:_||void 0})),s.complete()):s.error(new y$({error:y,headers:m,status:g,statusText:v,url:_||void 0}))},d=m=>{const{url:g}=c(),v=new y$({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:g||void 0});s.error(v)};let h=!1;const f=m=>{h||(s.next(c()),h=!0);let g={type:Mu.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),"text"===e.responseType&&o.responseText&&(g.partialText=o.responseText),s.next(g)},p=m=>{let g={type:Mu.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:Mu.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(z(nV))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const r1=new ne("XSRF_ENABLED"),E$=new ne("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),A$=new ne("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class I${}let ble=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=W2(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(z(kn),z(Hi),z(E$))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();function Tle(n,t){const e=n.url.toLowerCase();if(!se(r1)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=se(I$).getToken(),r=se(A$);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var ma=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ma||{});function wle(...n){const t=[Ru,S$,C$,{provide:Ev,useExisting:C$},{provide:Av,useExisting:S$},{provide:Pf,useValue:Tle,multi:!0},{provide:r1,useValue:!0},{provide:I$,useClass:ble}];for(const e of n)t.push(...e.\u0275providers);return function Kb(n){return{\u0275providers:n}}(t)}const k$=new ne("LEGACY_INTERCEPTOR_FN");function Cle(){return function xl(n,t){return{\u0275kind:n,\u0275providers:t}}(ma.LegacyInterceptors,[{provide:k$,useFactory:fle},{provide:Pf,useExisting:k$,multi:!0}])}let Dle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ae({type:n});static#n=this.\u0275inj=Ce({providers:[wle(Cle())]})}return n})(),M$=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/movies.xml"}getMovies(){return this.http.get(this.xmlUrl,{responseType:"text"}).pipe(we(e=>{const s=(new DOMParser).parseFromString(e,"text/xml").querySelectorAll("movie");return Array.from(s).map(o=>{const a=o.querySelector("id"),l=o.querySelector("name"),c=o.querySelector("date"),u=o.querySelector("score"),d=o.querySelector("type"),h=o.querySelector("image"),f=o.querySelector("visible");return{id:a?a.textContent:"",name:l?l.textContent:"",date:c?c.textContent:"",score:u?u.textContent:"",type:d?d.textContent:"",image:h?h.textContent:"",visible:f?f.textContent:""}})}))}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ru))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),N$=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/libros.xml"}getLibros(){return this.http.get(this.xmlUrl,{responseType:"text"}).pipe(we(e=>{const s=(new DOMParser).parseFromString(e,"text/xml").querySelectorAll("libro");return Array.from(s).map(o=>{const a=o.querySelector("id"),l=o.querySelector("name"),c=o.querySelector("date"),u=o.querySelector("score"),d=o.querySelector("type"),h=o.querySelector("numTemp"),f=o.querySelector("image"),p=o.querySelector("visible");return{id:a?a.textContent:"",name:l?l.textContent:"",date:c?c.textContent:"",score:u?u.textContent:"",type:d?d.textContent:"",numTemp:h?h.textContent:"",image:f?f.textContent:"",visible:p?p.textContent:""}})}))}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ru))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R$=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml"}getGames(){return this.http.get(this.xmlUrl,{responseType:"text"}).pipe(we(e=>{const s=(new DOMParser).parseFromString(e,"text/xml").querySelectorAll("game");return Array.from(s).map(o=>{const a=o.querySelector("id"),l=o.querySelector("name"),c=o.querySelector("date"),u=o.querySelector("score"),d=o.querySelector("type"),h=o.querySelector("numTemp"),f=o.querySelector("image"),p=o.querySelector("visible");return{id:a?a.textContent:"",name:l?l.textContent:"",date:c?c.textContent:"",score:u?u.textContent:"",type:d?d.textContent:"",numTemp:h?h.textContent:"",image:f?f.textContent:"",visible:p?p.textContent:""}})}))}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ru))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P$=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/series.xml"}getSeries(){return this.http.get(this.xmlUrl,{responseType:"text"}).pipe(we(e=>{const s=(new DOMParser).parseFromString(e,"text/xml").querySelectorAll("serie");return Array.from(s).map(o=>{const a=o.querySelector("id"),l=o.querySelector("name"),c=o.querySelector("date"),u=o.querySelector("score"),d=o.querySelector("type"),h=o.querySelector("numTemp"),f=o.querySelector("image"),p=o.querySelector("visible");return{id:a?a.textContent:"",name:l?l.textContent:"",date:c?c.textContent:"",score:u?u.textContent:"",type:d?d.textContent:"",numTemp:h?h.textContent:"",image:f?f.textContent:"",visible:p?p.textContent:""}})}))}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ru))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),O$=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/animes.xml"}getAnimes(){return this.http.get(this.xmlUrl,{responseType:"text"}).pipe(we(e=>{const s=(new DOMParser).parseFromString(e,"text/xml").querySelectorAll("anime");return Array.from(s).map(o=>{const a=o.querySelector("id"),l=o.querySelector("name"),c=o.querySelector("date"),u=o.querySelector("score"),d=o.querySelector("type"),h=o.querySelector("numTemp"),f=o.querySelector("image"),p=o.querySelector("visible");return{id:a?a.textContent:"",name:l?l.textContent:"",date:c?c.textContent:"",score:u?u.textContent:"",type:d?d.textContent:"",numTemp:h?h.textContent:"",image:f?f.textContent:"",visible:p?p.textContent:""}})}))}static#e=this.\u0275fac=function(i){return new(i||n)(z(Ru))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),s1=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mle(n,t){if(1&n&&(k(0,"option",12),Te(1),M()),2&n){const e=t.$implicit;N("value",e),A(1),xr(e)}}function Nle(n,t){if(1&n&&(k(0,"option",13),Te(1),M()),2&n){const e=t.$implicit,i=O();N("value",e)("selected",e===i.opAnios[0]),A(1),xr(e)}}function Rle(n,t){if(1&n&&(k(0,"option",12),Te(1),M()),2&n){const e=t.$implicit;N("value",e),A(1),xr(e)}}function Ple(n,t){1&n&&(k(0,"span",25),Te(1,"\u2605"),M()),2&n&&Ct("filled",t.$implicit<=O().$implicit.score)}const Ole=function(){return[1,2,3,4,5]};function Lle(n,t){if(1&n&&(k(0,"div",14)(1,"div",15)(2,"div",16),Fe(3,"img",17),M(),k(4,"div",18)(5,"h5",19),Te(6),M(),k(7,"p"),Te(8),M(),k(9,"div",20)(10,"div",21)(11,"p",22),Te(12),M()()()(),k(13,"div",23),B(14,Ple,2,2,"span",24),M()()()),2&n){const e=t.$implicit,i=O();A(3),$T("src","./assets/img/",i.message,"/",e.image,"",qb),A(3),ln(" ",e.name,""),A(2),ln(" ",e.date,""),A(3),Zn("background-color",i.getColorByType(e.type)),A(1),ln(" ",e.type,""),A(2),N("ngForOf",function fF(n,t,e){const i=Vi()+n,r=L();return r[i]===Le?Is(r,i,e?t.call(e):t()):function Hh(n,t){return n[t]}(r,i)}(8,Ole))}}const Fle=function(n,t){return{"uil-sort-amount-up":n,"uil-sort-amount-down":t}};let Vle=(()=>{class n{constructor(e,i,r,s,o,a,l){this.movieService=e,this.libroService=i,this.gameService=r,this.seriesService=s,this.animeService=o,this.router=a,this.dataService=l,this.data=[],this.resultFilter=[],this.movies=[],this.animes=[],this.message="",this.opTipos=[],this.opAnios=[],this.opCalificacion=[],this.selectedCategory="Todos",this.selectedYear=this.opAnios[0],this.selectedScore="Todos",this.currentSortOrder="desc",this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","blue","green","yellow","Pink","White","lightYellow","lightblue","Purple"]],this.opAnios=["2023","2022","2021","2020"],this.opCalificacion=["0","1","2","3","4","5"]}ngOnInit(){this.dataService.typeData||this.router.navigate(["/"]),this.router.events.subscribe(e=>{this.message=this.dataService.typeData,this.loadData()}),this.selectedYear=this.opAnios[0]}loadData(){"Peliculas"===this.message?this.movieService.getMovies().subscribe(e=>{this.data=e.sort((i,r)=>r.id-i.id),this.resultFilter=this.data,this.applyFilters()}):"Animes"===this.message?this.animeService.getAnimes().subscribe(e=>{this.data=e.sort((i,r)=>r.id-i.id),this.resultFilter=this.data,this.applyFilters()}):"Series"===this.message?this.seriesService.getSeries().subscribe(e=>{this.data=e.sort((i,r)=>r.id-i.id),this.resultFilter=this.data,this.applyFilters()}):"Juegos"===this.message?this.gameService.getGames().subscribe(e=>{this.data=e.sort((i,r)=>r.id-i.id),this.resultFilter=this.data,this.applyFilters()}):"Libros"===this.message&&this.libroService.getLibros().subscribe(e=>{this.data=e.sort((i,r)=>r.id-i.id),this.resultFilter=this.data,this.applyFilters()})}getColorByType(e){const i=this.opTipos[0].indexOf(e);return-1!==i?this.opTipos[1][i]:"greenyellow"}convert(e){var r=e.toString().toLowerCase().split("/");return parseInt(r[2],10)}applyFilters(){this.resultFilter=this.data.filter(e=>"Todos"===this.selectedCategory||e.type===this.selectedCategory).filter(e=>this.convertYear(e)).filter(e=>"Todos"===this.selectedScore||e.score===this.selectedScore)}convertYear(e){const r=e.date.toString().toLowerCase().split("/");return parseInt(r[2],10)+""===this.selectedYear}filterType(e){this.selectedCategory=e.target.value,this.applyFilters()}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}filterScore(e){this.selectedScore=e.target.value,this.applyFilters()}sortDataByScore(){this.resultFilter=this.resultFilter.sort((e,i)=>{const r=e.score,s=i.score;return"asc"===this.currentSortOrder?r-s:s-r}),this.currentSortOrder="asc"===this.currentSortOrder?"desc":"asc"}static#e=this.\u0275fac=function(i){return new(i||n)(x(M$),x(N$),x(R$),x(P$),x(O$),x(sr),x(s1))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-workplace"]],decls:22,vars:9,consts:[[1,"list",2,"display","flex","flex-wrap","wrap"],[2,"margin-left","2%","margin-top","3%"],[1,"filter","col-lg-10","col-12",2,"margin-top","3%","text-align","end","margin-bottom","3%"],["id","opTipos",3,"change"],["disabled","","selected","",2,"display","none"],[3,"value",4,"ngFor","ngForOf"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","opCalificacion",3,"ngModel","change"],[3,"click"],[1,"uil",3,"ngClass"],["class","card col-lg-3","style","margin-bottom: 3%; margin-left: 2%; margin-right: 2%;",4,"ngFor","ngForOf"],[3,"value"],[3,"value","selected"],[1,"card","col-lg-3",2,"margin-bottom","3%","margin-left","2%","margin-right","2%"],[1,"row"],[1,"left","col-lg-4","col-3",2,"text-align","center","margin","1%"],[1,"imagen",3,"src"],[1,"right","col-lg-6","col-6",2,"margin","1%"],[2,"font-size","1.1rem"],[1,"row",2,"margin-top","10%"],[1,"type","col-lg-12","col-12"],[1,"etiqueta"],[1,"score","col-lg-1","col-2"],["class","star",3,"filled",4,"ngFor","ngForOf"],[1,"star"]],template:function(i,r){1&i&&(k(0,"div",0)(1,"div",1)(2,"h1"),Te(3),M()(),k(4,"div",2)(5,"select",3),he("change",function(o){return r.filterType(o)}),k(6,"option",4),Te(7,"Categoria"),M(),k(8,"option"),Te(9,"Todos"),M(),B(10,Mle,2,2,"option",5),M(),k(11,"select",6),he("change",function(o){return r.filterYear(o)}),B(12,Nle,2,3,"option",7),M(),k(13,"select",8),he("ngModel",function(){return r.calificacionSelec})("change",function(o){return r.filterScore(o)}),k(14,"option",4),Te(15,"Calificacion"),M(),k(16,"option"),Te(17,"Todos"),M(),B(18,Rle,2,2,"option",5),M(),k(19,"button",9),he("click",function(){return r.sortDataByScore()}),Fe(20,"i",10),M()(),B(21,Lle,15,9,"div",11),M()),2&i&&(A(3),ln("Lista de ",r.message,""),A(7),N("ngForOf",r.opTipos[0]),A(2),N("ngForOf",r.opAnios),A(6),N("ngForOf",r.opCalificacion),A(2),N("ngClass",ul(6,Fle,"asc"===r.currentSortOrder,"desc"===r.currentSortOrder)),A(1),N("ngForOf",r.resultFilter))},dependencies:[Y2,Ci],styles:['.list[_ngcontent-%COMP%]{max-height:calc(105vh - 60px);overflow-y:auto}.card[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text);border-style:solid;border-color:var(--color-text);font-size:.8rem}.etiqueta[_ngcontent-%COMP%]{width:50%;background-color:#ff0;color:#000;box-shadow:0 0 29px #3c3c3c6b;border-radius:5px;font-family:"Hedvig Letters Serif",serif;text-align:center;text-decoration:none}.imagen[_ngcontent-%COMP%]{width:90%;height:130px}.star[_ngcontent-%COMP%]{font-size:18px;color:gray;cursor:pointer}.filled[_ngcontent-%COMP%]{color:gold}select[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}button[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}@media (max-width:1000px){.card[_ngcontent-%COMP%]{width:100%}.imagen[_ngcontent-%COMP%]{width:100%;height:100px;margin:15%}.etiqueta[_ngcontent-%COMP%]{font-size:.8rem}select[_ngcontent-%COMP%]{font-size:1rem}}']})}return n})(),L$=(()=>{class n{constructor(e,i){this.router=e,this.dataService=i}ngOnInit(){}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}toggleMobileMenu(){const e=document.getElementById("menu");e.style.display="block"===e.style.display?"none":"block"}static#e=this.\u0275fac=function(i){return new(i||n)(x(sr),x(s1))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-sidebar"]],decls:25,vars:0,consts:[[1,"body","col-lg-12","col-12",2,"margin-top","5%"],[1,"row"],[1,"col-lg-10","col-9",2,"margin-top","15%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],["id","btnMenu",1,"btnMenu","col-lg-2","col-3",2,"display","none","margin-top","15%"],[2,"margin","0%",3,"click"],[1,"uil","uil-list-ul"],["id","menu",1,"menu","col-lg-12",2,"margin-left","20%","margin-right","20%"],[3,"click"]],template:function(i,r){1&i&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),Fe(4,"img",4),M()(),k(5,"div",5)(6,"button",6),he("click",function(){return r.toggleMobileMenu()}),Fe(7,"i",7),M()()(),k(8,"div",8)(9,"ul")(10,"li")(11,"a",9),he("click",function(){return r.navegarAComponenteDestino("Peliculas")}),Te(12,"Peliculas"),M()(),k(13,"li")(14,"a",9),he("click",function(){return r.navegarAComponenteDestino("Series")}),Te(15,"Series"),M()(),k(16,"li")(17,"a",9),he("click",function(){return r.navegarAComponenteDestino("Animes")}),Te(18,"Anime"),M()(),k(19,"li")(20,"a",9),he("click",function(){return r.navegarAComponenteDestino("Juegos")}),Te(21,"Juegos"),M()(),k(22,"li")(23,"a",9),he("click",function(){return r.navegarAComponenteDestino("Libros")}),Te(24,"Libros"),M()()()()())},styles:["a[_ngcontent-%COMP%]{cursor:pointer}a[_ngcontent-%COMP%]:hover{opacity:50%}.menu[_ngcontent-%COMP%]{font-size:1.5rem}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:20%}.btnMenu[_ngcontent-%COMP%]{font-size:2rem}button[_ngcontent-%COMP%]{color:#fff;background-color:transparent;border-style:solid;border-color:#fff}@media (max-width:1000px){.btnMenu[_ngcontent-%COMP%]{display:block!important}.menu[_ngcontent-%COMP%]{display:none}.imgTitle[_ngcontent-%COMP%]{width:80%;margin-left:20%}}"]})}return n})();function F$(n,t,e,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function P(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(l){F$(s,i,r,o,a,"next",l)}function a(l){F$(s,i,r,o,a,"throw",l)}o(void 0)})}}function o1(...n){const t=Zg(n),{args:e,keys:i}=oB(n),r=new mt(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Ln(e[u]).subscribe(Ft(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?aB(i,a):a),s.complete())}))}});return t?r.pipe(kC(t)):r}const V$=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},B$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(e[s>>2],e[(3&s)<<4|a>>4],e[h],e[f])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(V$(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const d=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw new Gle;i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Gle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mv=function(n){return function(n){const t=V$(n);return B$.encodeByteArray(t,!0)}(n).replace(/\./g,"")},Nv=function(n){try{return B$.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},Rv=()=>{try{return function jle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Nv(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},H$=()=>{var n;return null===(n=Rv())||void 0===n?void 0:n.config};class G${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function Cr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class _a extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,_a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Of.prototype.create)}}class Of{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?function oce(n,t){return n.replace(ace,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new _a(r,`${this.serviceName}: ${o} (${r}).`,i)}}const ace=/\{\$([^}]+)}/g;function l1(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(z$(s)&&z$(o)){if(!l1(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function z$(n){return null!==n&&"object"==typeof n}function j$(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class cce{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function uce(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=c1),void 0===r.error&&(r.error=c1),void 0===r.complete&&(r.complete=c1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c1(){}function bo(n){return n&&n._delegate?n._delegate:n}class bl{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Tl="[DEFAULT]";class mce{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new G$;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function vce(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Tl})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Tl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return P(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=Tl){return this.instances.has(t)}getOptions(t=Tl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===Tl?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(t=Tl){return this.component?this.component.multipleInstances?t:Tl:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class yce{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new mce(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const d1=[];var at=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(at||{});const W$={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},xce=at.INFO,bce={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},Tce=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=bce[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class h1{constructor(t){this.name=t,this._logLevel=xce,this._logHandler=Tce,this._userLogHandler=null,d1.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in at))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?W$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...t),this._logHandler(this,at.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...t),this._logHandler(this,at.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,at.INFO,...t),this._logHandler(this,at.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,at.WARN,...t),this._logHandler(this,at.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...t),this._logHandler(this,at.ERROR,...t)}}const wce=(n,t)=>t.some(e=>n instanceof e);let q$,Y$;const K$=new WeakMap,f1=new WeakMap,X$=new WeakMap,p1=new WeakMap,g1=new WeakMap;let m1={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return f1.get(n);if("objectStoreNames"===t)return n.objectStoreNames||X$.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return va(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function kce(n){return"function"==typeof n?function Ice(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Dce(){return Y$||(Y$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(_1(this),t),va(K$.get(this))}:function(...t){return va(n.apply(_1(this),t))}:function(t,...e){const i=n.call(_1(this),t,...e);return X$.set(i,t.sort?t.sort():[t]),va(i)}}(n):(n instanceof IDBTransaction&&function Ece(n){if(f1.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});f1.set(n,t)}(n),wce(n,function Cce(){return q$||(q$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,m1):n)}function va(n){if(n instanceof IDBRequest)return function Sce(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(va(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&K$.set(e,n)}).catch(()=>{}),g1.set(t,n),t}(n);if(p1.has(n))return p1.get(n);const t=kce(n);return t!==n&&(p1.set(n,t),g1.set(t,n)),t}const _1=n=>g1.get(n),Nce=["get","getKey","getAll","getAllKeys","count"],Rce=["put","add","delete","clear"],v1=new Map;function Q$(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(v1.get(t))return v1.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Rce.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Nce.includes(e))return;const s=function(){var o=P(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[e](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return v1.set(t,s),s}!function Ace(n){m1=n(m1)}(n=>({...n,get:(t,e,i)=>Q$(t,e)||n.get(t,e,i),has:(t,e)=>!!Q$(t,e)||n.has(t,e)}));class Pce{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function Oce(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const y1="@firebase/app",wl=new h1("@firebase/app"),Ov="[DEFAULT]",aue={[y1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Cl=new Map,Lv=new Map;function lue(n,t){try{n.container.addComponent(t)}catch(e){wl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Pu(n){const t=n.name;if(Lv.has(t))return wl.debug(`There were multiple attempts to register component ${t}.`),!1;Lv.set(t,n);for(const e of Cl.values())lue(e,n);return!0}const To=new Of("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class uue{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}const Fv="10.7.1";function eH(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:Ov,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw To.create("bad-app-name",{appName:String(r)});if(e||(e=H$()),!e)throw To.create("no-options");const s=Cl.get(r);if(s){if(l1(e,s.options)&&l1(i,s.config))return s;throw To.create("duplicate-app",{appName:r})}const o=new yce(r);for(const l of Lv.values())o.addComponent(l);const a=new uue(e,i,o);return Cl.set(r,a),a}function tH(n=Ov){const t=Cl.get(n);if(!t&&n===Ov&&H$())return eH();if(!t)throw To.create("no-app",{appName:n});return t}function nH(){return Array.from(Cl.values())}function qr(n,t,e){var i;let r=null!==(i=aue[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void wl.warn(a.join(" "))}Pu(new bl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const due="firebase-heartbeat-database",hue=1,Lf="firebase-heartbeat-store";let b1=null;function iH(){return b1||(b1=function Mce(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),a=va(o);return i&&o.addEventListener("upgradeneeded",l=>{i(va(o.result),l.oldVersion,l.newVersion,va(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(due,hue,{upgrade:(n,t)=>{0===t&&n.createObjectStore(Lf)}}).catch(n=>{throw To.create("idb-open",{originalErrorMessage:n.message})})),b1}function T1(){return(T1=P(function*(n){try{return yield(yield iH()).transaction(Lf).objectStore(Lf).get(sH(n))}catch(t){if(t instanceof _a)wl.warn(t.message);else{const e=To.create("idb-get",{originalErrorMessage:t?.message});wl.warn(e.message)}}})).apply(this,arguments)}function rH(n,t){return w1.apply(this,arguments)}function w1(){return(w1=P(function*(n,t){try{const i=(yield iH()).transaction(Lf,"readwrite");yield i.objectStore(Lf).put(t,sH(n)),yield i.done}catch(e){if(e instanceof _a)wl.warn(e.message);else{const i=To.create("idb-set",{originalErrorMessage:e?.message});wl.warn(i.message)}}})).apply(this,arguments)}function sH(n){return`${n.name}!${n.options.appId}`}class mue{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new vue(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return P(function*(){var e,i;const s=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=oH();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==o&&!t._heartbeatsCache.heartbeats.some(a=>a.date===o))return t._heartbeatsCache.heartbeats.push({date:o,agent:s}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return P(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=oH(),{heartbeatsToSend:r,unsentEntries:s}=function _ue(n,t=1024){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),aH(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),aH(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),o=Mv(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(t._heartbeatsCache.heartbeats=s,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function oH(){return(new Date).toISOString().substring(0,10)}class vue{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return P(function*(){return!!function ice(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function rce(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return P(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function fue(n){return T1.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return P(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return rH(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return P(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return rH(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}})()}}function aH(n){return Mv(JSON.stringify({version:2,heartbeats:n})).length}!function yue(n){Pu(new bl("platform-logger",t=>new Pce(t),"PRIVATE")),Pu(new bl("heartbeat",t=>new mue(t),"PRIVATE")),qr(y1,"0.9.25",n),qr(y1,"0.9.25","esm2017"),qr("fire-js","")}(""),qr("firebase","10.7.1","app");class Tue extends Ye{constructor(t,e){super()}schedule(t,e=0){return this}}const Vv={setInterval(n,t,...e){const{delegate:i}=Vv;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Vv;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class lH extends Tue{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return Vv.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Vv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,dn(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const cH={now:()=>(cH.delegate||Date).now(),delegate:void 0};class Ff{constructor(t,e=Ff.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Ff.now=cH.now;class uH extends Ff{constructor(t,e=Ff.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Due=new class Cue extends uH{}(class wue extends lH{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Bv=new uH(lH),Sue=Bv,C1=new Zc("ANGULARFIRE2_VERSION");const D1=(n,t)=>{const e=t?[t]:nH(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};class Eue{constructor(){return D1(Aue)}}const Aue="app-check";function Ou(){}class hH{zone;delegate;constructor(t,e=Due){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class Iue{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ou,{},Ou,Ou)),e.pipe(jn({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fH=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new hH(Zone.current)),this.insideAngular=e.run(()=>new hH(Zone.current,Bv)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(z(je))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lu(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Dl(n){return Lu().ngZone.run(()=>n())}function Mue(n){return function Nue(n){return function(e){return(e=e.lift(new Iue(n.ngZone))).pipe(em(n.outsideAngular),Jg(n.insideAngular))}}(Lu())(n)}const Rue=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Dl(()=>n.apply(void 0,i))},Vf=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||=Dl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ou,{},Ou,Ou))),i[s]=Rue(i[s],e));const r=function kue(n){return Lu().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof mt){const s=Lu();return r.pipe(em(s.outsideAngular),Jg(s.insideAngular))}return Dl(()=>r)}return r instanceof mt?r.pipe(Mue):r instanceof Promise?Dl(()=>new Promise((s,o)=>r.then(a=>Dl(()=>s(a)),a=>Dl(()=>o(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:Dl(()=>r)};class Bf{constructor(t){return t}}class pH{constructor(){return nH()}}const S1=new ne("angularfire2._apps"),Oue={provide:Bf,useFactory:function Pue(n){return n&&1===n.length?n[0]:new Bf(tH())},deps:[[new Hr,S1]]},Lue={provide:pH,deps:[[new Hr,S1]]};function Fue(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Bf(i)}}let Vue=(()=>{class n{constructor(e){qr("angularfire",C1.full,"core"),qr("angularfire",C1.full,"app"),qr("angular",CP.full,e.toString())}static \u0275fac=function(i){return new(i||n)(z(Hi))};static \u0275mod=Ae({type:n});static \u0275inj=Ce({providers:[Oue,Lue]})}return n})();function Bue(n,...t){return{ngModule:Vue,providers:[{provide:S1,useFactory:Fue(n),multi:!0,deps:[je,In,fH,...t]}]}}const $ue=Vf(eH,!0);const Hue=function gH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mH=new Of("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$v=new h1("@firebase/auth");function Hv(n,...t){$v.logLevel<=at.ERROR&&$v.error(`Auth (${Fv}): ${n}`,...t)}function or(n,...t){throw E1(n,...t)}function Fs(n,...t){return E1(n,...t)}function E1(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return mH.create(n,...t)}function K(n,t,...e){if(!n)throw E1(t,...e)}function Vs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Hv(t),new Error(t)}function ya(n,t){n||Vs(t)}function vH(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function Uue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function A1(){return"http:"===vH()||"https:"===vH()}()||function tce(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Hf{constructor(t,e){this.shortDelay=t,this.longDelay=e,ya(e>t,"Short delay should be less than long delay!"),this.isMobile=function Jle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}()||function nce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Uue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class yH{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Wue=new Hf(3e4,6e4);function Yt(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function Kt(n,t,e,i){return k1.apply(this,arguments)}function k1(){return(k1=P(function*(n,t,e,i,r={}){return xH(n,r,P(function*(){let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=j$(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),yH.fetch()(bH(n,n.config.apiHost,e,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function xH(n,t,e){return M1.apply(this,arguments)}function M1(){return(M1=P(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},jue),t);try{const r=new Yue(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Gf(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Gf(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Gf(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Gf(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function _H(n,t,e){const i=Object.assign(Object.assign({},Hue()),{[t]:e});return new Of("auth","Firebase",i).create(t,{appName:n.name})}(n,u,c);or(n,u)}}catch(r){if(r instanceof _a)throw r;or(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function bH(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?function I1(n,t){ya(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}(n.config,r):`${n.config.apiScheme}://${r}`}class Yue{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Fs(this.auth,"network-request-failed")),Wue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Fs(n,t,i);return r.customData._tokenResponse=e,r}function O1(){return(O1=P(function*(n,t){return Kt(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function F1(){return(F1=P(function*(n,t){return Kt(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Uf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function V1(){return(V1=P(function*(n,t=!1){const e=bo(n),i=yield e.getIdToken(t),r=Gv(i);K(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Uf(B1(r.auth_time)),issuedAtTime:Uf(B1(r.iat)),expirationTime:Uf(B1(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function B1(n){return 1e3*Number(n)}function Gv(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return Hv("JWT malformed, contained fewer than 3 sections"),null;try{const r=Nv(e);return r?JSON.parse(r):(Hv("Failed to decode base64 JWT payload"),null)}catch(r){return Hv("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Co(n,t){return $1.apply(this,arguments)}function $1(){return($1=P(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof _a&&function tde({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class nde{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(P(function*(){yield e.iteration()}),i)}iteration(){var t=this;return P(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class SH{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uf(this.lastLoginAt),this.creationTime=Uf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zf(n){return H1.apply(this,arguments)}function H1(){return H1=P(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield Co(n,function Zue(n,t){return F1.apply(this,arguments)}(e,{idToken:i}));K(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?function sde(n){return n.map(t=>{var{providerId:e}=t,i=Ka(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(s.providerUserInfo):[],a=function rde(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new SH(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),H1.apply(this,arguments)}function G1(){return(G1=P(function*(n){const t=bo(n);yield zf(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function U1(){return(U1=P(function*(n,t){const e=yield xH(n,{},P(function*(){const i=j$({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=bH(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yH.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function z1(){return(z1=P(function*(n,t){return Kt(n,"POST","/v2/accounts:revokeToken",Yt(n,t))})).apply(this,arguments)}class jf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function ede(n){const t=Gv(n);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return P(function*(){return K(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return P(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function ode(n,t){return U1.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new jf;return i&&(K("string"==typeof i,"internal-error",{appName:t}),o.refreshToken=i),r&&(K("string"==typeof r,"internal-error",{appName:t}),o.accessToken=r),s&&(K("number"==typeof s,"internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jf,this.toJSON())}_performRefresh(){return Vs("not implemented")}}function xa(n,t){K("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class Sl{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=Ka(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new SH(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var e=this;return P(function*(){const i=yield Co(e,e.stsTokenManager.getToken(e.auth,t));return K(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function Jue(n){return V1.apply(this,arguments)}(this,t)}reload(){return function ide(n){return G1.apply(this,arguments)}(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Sl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return P(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield zf(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return P(function*(){const e=yield t.getIdToken();return yield Co(t,function Xue(n,t){return O1.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,a,l,c,u;const d=null!==(i=e.displayName)&&void 0!==i?i:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,f=null!==(s=e.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=e.photoURL)&&void 0!==o?o:void 0,m=null!==(a=e.tenantId)&&void 0!==a?a:void 0,g=null!==(l=e._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=e.createdAt)&&void 0!==c?c:void 0,_=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:D,providerData:S,stsTokenManager:H}=e;K(y&&H,t,"internal-error");const W=jf.fromJSON(this.name,H);K("string"==typeof y,t,"internal-error"),xa(d,t.name),xa(h,t.name),K("boolean"==typeof b,t,"internal-error"),K("boolean"==typeof D,t,"internal-error"),xa(f,t.name),xa(p,t.name),xa(m,t.name),xa(g,t.name),xa(v,t.name),xa(_,t.name);const ye=new Sl({uid:y,auth:t,email:h,emailVerified:b,displayName:d,isAnonymous:D,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:W,createdAt:v,lastLoginAt:_});return S&&Array.isArray(S)&&(ye.providerData=S.map(pe=>Object.assign({},pe))),g&&(ye._redirectEventId=g),ye}static _fromIdTokenResponse(t,e,i=!1){return P(function*(){const r=new jf;r.updateFromServerResponse(e);const s=new Sl({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield zf(s),s})()}}const EH=new Map;function Do(n){ya(n instanceof Function,"Expected a class definition");let t=EH.get(n);return t?(ya(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,EH.set(n,t),t)}const AH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return P(function*(){return!0})()}_set(e,i){var r=this;return P(function*(){r.storage[e]=i})()}_get(e){var i=this;return P(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return P(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function Uv(n,t,e){return`firebase:${n}:${t}:${e}`}class Vu{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Uv(this.userKey,r.apiKey,s),this.fullPersistenceKey=Uv("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return P(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?Sl._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return P(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return P(function*(){if(!e.length)return new Vu(Do(AH),t,i);const r=(yield Promise.all(e.map(function(){var c=P(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||Do(AH);const o=Uv(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const u=yield c._get(o);if(u){const d=Sl._fromJSON(t,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var c=P(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Vu(s,t,i)):new Vu(s,t,i)})()}}function IH(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function NH(n=Cr()){return/iemobile/i.test(n)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function kH(n=Cr()){return/firefox\//i.test(n)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function PH(n=Cr()){return/blackberry/i.test(n)}(t))return"Blackberry";if(function OH(n=Cr()){return/webos/i.test(n)}(t))return"Webos";if(function j1(n=Cr()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function MH(n=Cr()){return/crios\//i.test(n)}(t))&&!t.includes("edge/"))return"Chrome";if(function RH(n=Cr()){return/android/i.test(n)}(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function LH(n,t=[]){let e;switch(n){case"Browser":e=IH(Cr());break;case"Worker":e=`${IH(Cr())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fv}/${i}`}class ude{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,a)=>{try{o(t(s))}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return P(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function W1(){return(W1=P(function*(n,t={}){return Kt(n,"GET","/v2/passwordPolicy",Yt(n,t))})).apply(this,arguments)}class fde{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=o.minPasswordLength)&&void 0!==e?e:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=t.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=null===(e=l.meetsMinPasswordLength)||void 0===e||e),l.isValid&&(l.isValid=null===(i=l.meetsMaxPasswordLength)||void 0===i||i),l.isValid&&(l.isValid=null===(r=l.containsLowercaseLetter)||void 0===r||r),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}class pde{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FH(this),this.idTokenSubscription=new FH(this),this.beforeStateQueue=new ude(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=Do(e)),this._initializationPromise=this.queue(P(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield Vu.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return P(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return P(function*(){var i;const r=yield e.assertedPersistence.getCurrentUser();let s=r,o=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const a=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,l=s?._redirectEventId,c=yield e.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return e.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield e.beforeStateQueue.runMiddleware(s)}catch(a){s=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(a))}return s?e.reloadAndSetCurrentUserOrClear(s):e.directlySetCurrentUser(null)}return K(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===s._redirectEventId?e.directlySetCurrentUser(s):e.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(t){var e=this;return P(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return P(function*(){try{yield zf(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function zue(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return P(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return P(function*(){const i=t?bo(t):null;return i&&K(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return P(function*(){if(!i._deleted)return t&&K(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue(P(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return P(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue(P(function*(){yield e.assertedPersistence.setPersistence(Do(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return P(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return P(function*(){const e=yield function dde(n){return W1.apply(this,arguments)}(t),i=new fde(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Of("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){var e=this;return P(function*(){if(e.currentUser){const i=yield e.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};null!=e.tenantId&&(r.tenantId=e.tenantId),yield function ade(n,t){return z1.apply(this,arguments)}(e,r)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return P(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return P(function*(){if(!e.redirectPersistenceManager){const i=t&&Do(t)||e._popupRedirectResolver;K(i,e,"argument-error"),e.redirectPersistenceManager=yield Vu.create(e,[Do(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return P(function*(){var i,r;return e._isInitialized&&(yield e.queue(P(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return P(function*(){if(t===e.currentUser)return e.queue(P(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s="function"==typeof e?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof e){const l=t.addObserver(e,i,r);return()=>{o=!0,l()}}{const l=t.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(t){var e=this;return P(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=LH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return P(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield t._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var t=this;return P(function*(){var e;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function Gue(n,...t){$v.logLevel<=at.WARN&&$v.warn(`Auth (${Fv}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class FH{constructor(t){this.auth=t,this.observer=null,this.addObserver=function lce(n,t){const e=new cce(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function VH(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Hf(3e4,6e4),new Hf(2e3,1e4),new Hf(3e4,6e4),new Hf(5e3,15e3),encodeURIComponent("fac");var m3="@firebase/auth";class mfe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return P(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Rv(),function vfe(n){Pu(new bl("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LH(n)},c=new pde(i,r,s,l);return function bde(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Do);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Pu(new bl("auth-internal",t=>{const e=function bn(n){return bo(n)}(t.getProvider("auth").getImmediate());return new mfe(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(m3,"1.5.1",function _fe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),qr(m3,"1.5.1","esm2017")}("Browser");class x3{constructor(){return D1("auth")}}var te,Dfe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},us={},VS=VS||{},Oe=Dfe||self;function ny(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Qf(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var BS="closure_uid_"+(1e9*Math.random()>>>0),Efe=0;function Afe(n,t,e){return n.call.apply(n.bind,arguments)}function Ife(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Si(n,t,e){return(Si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Afe:Ife).apply(null,arguments)}function iy(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ei(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function ba(){this.s=this.s,this.o=this.o}ba.prototype.s=!1,ba.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Sfe(n){Object.prototype.hasOwnProperty.call(n,BS)&&n[BS]||(n[BS]=++Efe)}(this)},ba.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const b3=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function $S(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function T3(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(ny(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Ei(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Ei.prototype.h=function(){this.defaultPrevented=!0};var Mfe=function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const e=()=>{};Oe.addEventListener("test",e,t),Oe.removeEventListener("test",e,t)}catch{}return n}();function Zf(n){return/^[\s\xa0]*$/.test(n)}function ry(){var n=Oe.navigator;return n&&(n=n.userAgent)?n:""}function Bs(n){return-1!=ry().indexOf(n)}function HS(n){return HS[" "](n),n}HS[" "]=function(){};var US,Rfe=Bs("Opera"),Bu=Bs("Trident")||Bs("MSIE"),w3=Bs("Edge"),GS=w3||Bu,C3=Bs("Gecko")&&!(-1!=ry().toLowerCase().indexOf("webkit")&&!Bs("Edge"))&&!(Bs("Trident")||Bs("MSIE"))&&!Bs("Edge"),Pfe=-1!=ry().toLowerCase().indexOf("webkit")&&!Bs("Edge");function D3(){var n=Oe.document;return n?n.documentMode:void 0}e:{var zS="",jS=function(){var n=ry();return C3?/rv:([^\);]+)(\)|;)/.exec(n):w3?/Edge\/([\d\.]+)/.exec(n):Bu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Pfe?/WebKit\/(\S+)/.exec(n):Rfe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(jS&&(zS=jS?jS[1]:""),Bu){var WS=D3();if(null!=WS&&WS>parseFloat(zS)){US=String(WS);break e}}US=zS}var Ofe=Oe.document&&Bu&&(D3()||parseInt(US,10))||void 0;function Jf(n,t){if(Ei.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(C3){e:{try{HS(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Lfe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jf.$.h.call(this)}}ei(Jf,Ei);var Lfe={2:"touch",3:"pen",4:"mouse"};Jf.prototype.h=function(){Jf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ep="closure_listenable_"+(1e6*Math.random()|0),Ffe=0;function Vfe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++Ffe,this.fa=this.ia=!1}function sy(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function YS(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function E3(n){const t={};for(const e in n)t[e]=n[e];return t}const A3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I3(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<A3.length;s++)e=A3[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function oy(n){this.src=n,this.g={},this.h=0}function KS(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=b3(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(sy(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function XS(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}oy.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=XS(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new Vfe(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var QS="closure_lm_"+(1e6*Math.random()|0),ZS={};function k3(n,t,e,i,r){if(i&&i.once)return N3(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)k3(n,t[s],e,i,r);return null}return e=nE(e),n&&n[ep]?n.O(t,e,Qf(i)?!!i.capture:!!i,r):M3(n,t,e,!1,i,r)}function M3(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=Qf(r)?!!r.capture:!!r,a=eE(n);if(a||(n[QS]=a=new oy(n)),(e=a.add(t,e,i,o,s)).proxy)return e;if(i=function $fe(){const t=Hfe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Mfe||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(P3(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function N3(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)N3(n,t[s],e,i,r);return null}return e=nE(e),n&&n[ep]?n.P(t,e,Qf(i)?!!i.capture:!!i,r):M3(n,t,e,!0,i,r)}function R3(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)R3(n,t[s],e,i,r);else i=Qf(i)?!!i.capture:!!i,e=nE(e),n&&n[ep]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=XS(s=n.g[t],e,i,r))&&(sy(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=eE(n))&&(t=n.g[t.toString()],n=-1,t&&(n=XS(t,e,i,r)),(e=-1<n?t[n]:null)&&JS(e))}function JS(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[ep])KS(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(P3(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=eE(t))?(KS(e,n),0==e.h&&(e.src=null,t[QS]=null)):sy(n)}}}function P3(n){return n in ZS?ZS[n]:ZS[n]="on"+n}function Hfe(n,t){if(n.fa)n=!0;else{t=new Jf(t,this);var e=n.listener,i=n.la||n.src;n.ia&&JS(n),n=e.call(i,t)}return n}function eE(n){return(n=n[QS])instanceof oy?n:null}var tE="__closure_events_fn_"+(1e9*Math.random()>>>0);function nE(n){return"function"==typeof n?n:(n[tE]||(n[tE]=function(t){return n.handleEvent(t)}),n[tE])}function ti(){ba.call(this),this.i=new oy(this),this.S=this,this.J=null}function fi(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Ei(t,n);else if(t instanceof Ei)t.target=t.target||n;else{var r=t;I3(t=new Ei(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=ay(o,i,!0,t)&&r}if(r=ay(o=t.g=n,i,!0,t)&&r,r=ay(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=ay(o=t.g=e[s],i,!1,t)&&r}function ay(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var a=o.listener,l=o.la||o.src;o.ia&&KS(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}ei(ti,ba),ti.prototype[ep]=!0,ti.prototype.removeEventListener=function(n,t,e,i){R3(this,n,t,e,i)},ti.prototype.N=function(){if(ti.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)sy(e[i]);delete n.g[t],n.h--}}this.J=null},ti.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ti.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var iE=Oe.JSON.stringify;function Ufe(){var n=rE;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var O3=new class Gfe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new jfe,n=>n.reset());class jfe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Wfe(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function qfe(n){Oe.setTimeout(()=>{throw n},0)}let tp,np=!1,rE=new class zfe{constructor(){this.h=this.g=null}add(t,e){const i=O3.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},L3=()=>{const n=Oe.Promise.resolve(void 0);tp=()=>{n.then(Yfe)}};var Yfe=()=>{for(var n;n=Ufe();){try{n.h.call(n.g)}catch(e){qfe(e)}var t=O3;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}np=!1};function ly(n,t){ti.call(this),this.h=n||1,this.g=t||Oe,this.j=Si(this.qb,this),this.l=Date.now()}function sE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function oE(n,t,e){if("function"==typeof n)e&&(n=Si(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Si(n.handleEvent,n)}return 2147483647<Number(t)?-1:Oe.setTimeout(n,t||0)}function F3(n){n.g=oE(()=>{n.g=null,n.i&&(n.i=!1,F3(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ei(ly,ti),(te=ly.prototype).ga=!1,te.T=null,te.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fi(this,"tick"),this.ga&&(sE(this),this.start()))}},te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},te.N=function(){ly.$.N.call(this),sE(this),delete this.g};class Kfe extends ba{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:F3(this)}N(){super.N(),this.g&&(Oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ip(n){ba.call(this),this.h=n,this.g={}}ei(ip,ba);var V3=[];function B3(n,t,e,i){Array.isArray(e)||(e&&(V3[0]=e.toString()),e=V3);for(var r=0;r<e.length;r++){var s=k3(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function $3(n){YS(n.g,function(t,e){this.g.hasOwnProperty(e)&&JS(t)},n),n.g={}}function cy(){this.g=!0}function $u(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Jfe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return iE(e)}catch{return t}}(n,e)+(i?" "+i:"")})}ip.prototype.N=function(){ip.$.N.call(this),$3(this)},ip.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cy.prototype.Ea=function(){this.g=!1},cy.prototype.info=function(){};var kl={},H3=null;function uy(){return H3=H3||new ti}function G3(n){Ei.call(this,kl.Ta,n)}function rp(n){const t=uy();fi(t,new G3(t))}function U3(n,t){Ei.call(this,kl.STAT_EVENT,n),this.stat=t}function qi(n){const t=uy();fi(t,new U3(t,n))}function z3(n,t){Ei.call(this,kl.Ua,n),this.size=t}function sp(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){n()},t)}kl.Ta="serverreachability",ei(G3,Ei),kl.STAT_EVENT="statevent",ei(U3,Ei),kl.Ua="timingevent",ei(z3,Ei);var dy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},j3={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function aE(){}function q3(){}aE.prototype.h=null;var uE,op={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lE(){Ei.call(this,"d")}function cE(){Ei.call(this,"c")}function hy(){}function ap(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new ip(this),this.P=epe,this.V=new ly(n=GS?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Y3}function Y3(){this.i=null,this.g="",this.h=!1}ei(lE,Ei),ei(cE,Ei),ei(hy,aE),hy.prototype.g=function(){return new XMLHttpRequest},hy.prototype.i=function(){return{}},uE=new hy;var epe=45e3,K3={},dE={};function hE(n,t,e){n.L=1,n.A=my(Eo(t)),n.u=e,n.S=!0,X3(n,null)}function X3(n,t){n.G=Date.now(),lp(n),n.B=Eo(n.A);var e=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),oG(e.i,"t",i),n.o=0,e=n.l.J,n.h=new Y3,n.g=kG(n.l,e?t:null,!n.u),0<n.O&&(n.M=new Kfe(Si(n.Pa,n,n.g),n.O)),B3(n.U,n.g,"readystatechange",n.nb),t=n.I?E3(n.I):{},n.u?(n.v||(n.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,t)):(n.v="GET",n.g.ha(n.B,n.v,null,t)),rp(),function Xfe(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function Q3(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function Z3(n,t,e){let r,i=!0;for(;!n.J&&n.o<e.length;){if(r=tpe(n,e),r==dE){4==t&&(n.s=4,qi(14),i=!1),$u(n.j,n.m,null,"[Incomplete Response]");break}if(r==K3){n.s=4,qi(15),$u(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}$u(n.j,n.m,r,null),fE(n,r)}Q3(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=t||0!=e.length||n.h.h||(n.s=1,qi(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),xE(t),t.M=!0,qi(11))):($u(n.j,n.m,e,"[Invalid Chunked Response]"),Ml(n),cp(n))}function tpe(n,t){var e=n.o,i=t.indexOf("\n",e);return-1==i?dE:(e=Number(t.substring(e,i)),isNaN(e)?K3:(i+=1)+e>t.length?dE:(t=t.slice(i,i+e),n.o=i+e,t))}function lp(n){n.Y=Date.now()+n.P,J3(n,n.P)}function J3(n,t){if(null!=n.C)throw Error("WatchDog timer not null");n.C=sp(Si(n.lb,n),t)}function fy(n){n.C&&(Oe.clearTimeout(n.C),n.C=null)}function cp(n){0==n.l.H||n.J||SG(n.l,n)}function Ml(n){fy(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,sE(n.V),$3(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function fE(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||pE(e.i,n)))if(!n.K&&pE(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;Ty(e),xy(e)}yE(e),qi(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=sp(Si(e.ib,e),6e3));if(1>=cG(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Rl(e,11)}else if((n.K||e.g==n)&&Ty(e),!Zf(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const u=c[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const d=c[4];null!=d&&(e.Ga=d,e.l.info("SVER="+e.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(e.L=i=1.5*h,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(gE(s,s.h),s.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,Xt(i.I,i.F,m))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=IG(i,i.J?i.pa:null,i.Y),o.K){uG(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(fy(a),lp(a)),i.g=o}else CG(i);0<e.j.length&&by(e)}else"stop"!=c[0]&&"close"!=c[0]||Rl(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Rl(e,7):vE(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}rp()}catch{}}function eG(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(ny(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function ipe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ny(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function npe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ny(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(te=ap.prototype).setTimeout=function(n){this.P=n},te.nb=function(n){n=n.target;const t=this.M;t&&3==$s(n)?t.l():this.Pa(n)},te.Pa=function(n){try{if(n==this.g)e:{const u=$s(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||GS||this.g&&(this.h.h||this.g.ja()||vG(this.g)))){this.J||4!=u||7==t||rp(),fy(this);var e=this.g.da();this.ca=e;t:if(Q3(this)){var i=vG(this.g);n="";var r=i.length,s=4==$s(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ml(this),cp(this);var o="";break t}this.h.i=new Oe.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function Qfe(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zf(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.s=3,qi(12),Ml(this),cp(this);break e}$u(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fE(this,e)}this.S?(Z3(this,u,o),GS&&this.i&&3==u&&(B3(this.U,this.V,"tick",this.mb),this.V.start())):($u(this.j,this.m,o,null),fE(this,o)),4==u&&Ml(this),this.i&&!this.J&&(4==u?SG(this.l,this):(this.i=!1,lp(this)))}else(function bpe(n){const t={};n=(n.g&&2<=$s(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Zf(n[i]))continue;var e=Wfe(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function Bfe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.s=3,qi(12)):(this.s=0,qi(13)),Ml(this),cp(this)}}}catch{}},te.mb=function(){if(this.g){var n=$s(this.g),t=this.g.ja();this.o<t.length&&(fy(this),Z3(this,n,t),this.i&&4!=n&&lp(this))}},te.cancel=function(){this.J=!0,Ml(this)},te.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function Zfe(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(rp(),qi(17)),Ml(this),this.s=2,cp(this)):J3(this,this.Y-n)};var tG=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Nl){this.h=n.h,py(this,n.j),this.s=n.s,this.g=n.g,gy(this,n.m),this.l=n.l;var t=n.i,e=new hp;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),nG(this,e),this.o=n.o}else n&&(t=String(n).match(tG))?(this.h=!1,py(this,t[1]||"",!0),this.s=up(t[2]||""),this.g=up(t[3]||"",!0),gy(this,t[4]),this.l=up(t[5]||"",!0),nG(this,t[6]||"",!0),this.o=up(t[7]||"")):(this.h=!1,this.i=new hp(null,this.h))}function Eo(n){return new Nl(n)}function py(n,t,e){n.j=e?up(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function gy(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function nG(n,t,e){t instanceof hp?(n.i=t,function upe(n,t){t&&!n.j&&(Ta(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(rG(this,i),oG(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=dp(t,lpe)),n.i=new hp(t,n.h))}function Xt(n,t,e){n.i.set(t,e)}function my(n){return Xt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function up(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,spe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function spe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Nl.prototype.toString=function(){var n=[],t=this.j;t&&n.push(dp(t,iG,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(dp(t,iG,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(dp(e,"/"==e.charAt(0)?ape:ope,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",dp(e,cpe)),n.join("")};var iG=/[#\/\?@]/g,ope=/[#\?:]/g,ape=/[#\?]/g,lpe=/[#\?@]/g,cpe=/#/g;function hp(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ta(n){n.g||(n.g=new Map,n.h=0,n.i&&function rpe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function rG(n,t){Ta(n),t=Hu(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function sG(n,t){return Ta(n),t=Hu(n,t),n.g.has(t)}function oG(n,t,e){rG(n,t),0<e.length&&(n.i=null,n.g.set(Hu(n,t),$S(e)),n.h+=e.length)}function Hu(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function aG(n){this.l=n||hpe,n=Oe.PerformanceNavigationTiming?0<(n=Oe.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Oe.g&&Oe.g.Ka&&Oe.g.Ka()&&Oe.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(te=hp.prototype).add=function(n,t){Ta(this),this.i=null,n=Hu(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},te.forEach=function(n,t){Ta(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},te.ta=function(){Ta(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},te.Z=function(n){Ta(this);let t=[];if("string"==typeof n)sG(this,n)&&(t=t.concat(this.g.get(Hu(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},te.set=function(n,t){return Ta(this),this.i=null,sG(this,n=Hu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},te.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var hpe=10;function lG(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cG(n){return n.h?1:n.g?n.g.size:0}function pE(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function gE(n,t){n.g?n.g.add(t):n.h=t}function uG(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function dG(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return $S(n.i)}aG.prototype.cancel=function(){if(this.i=dG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var fpe=class{stringify(n){return Oe.JSON.stringify(n,void 0)}parse(n){return Oe.JSON.parse(n,void 0)}};function ppe(){this.g=new fpe}function gpe(n,t,e){const i=e||"";try{eG(n,function(r,s){let o=r;Qf(r)&&(o=iE(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function _y(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function fp(n){this.l=n.ec||null,this.j=n.ob||!1}function vy(n,t){ti.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=mE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ei(fp,aE),fp.prototype.g=function(){return new vy(this.l,this.j)},fp.prototype.i=function(n){return function(){return n}}({}),ei(vy,ti);var mE=0;function hG(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function pp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gp(n)}function gp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(te=vy.prototype).open=function(n,t){if(this.readyState!=mE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,gp(this)},te.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Oe).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pp(this)),this.readyState=mE},te.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gp(this)),this.g&&(this.readyState=3,gp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Oe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hG(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},te.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?pp(this):gp(this),3==this.readyState&&hG(this)}},te.Za=function(n){this.g&&(this.response=this.responseText=n,pp(this))},te.Ya=function(n){this.g&&(this.response=n,pp(this))},te.ka=function(){this.g&&pp(this)},te.setRequestHeader=function(n,t){this.v.append(n,t)},te.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},te.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(vy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _pe=Oe.JSON.parse;function gn(n){ti.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fG,this.L=this.M=!1}ei(gn,ti);var fG="",vpe=/^https?$/i,ype=["POST","PUT"];function pG(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,gG(n),yy(n)}function gG(n){n.F||(n.F=!0,fi(n,"complete"),fi(n,"error"))}function mG(n){if(n.h&&typeof VS<"u"&&(!n.C[1]||4!=$s(n)||2!=n.da()))if(n.v&&4==$s(n))oE(n.La,0,n);else if(fi(n,"readystatechange"),4==$s(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match(tG)[1]||null;!r&&Oe.self&&Oe.self.location&&(r=Oe.self.location.protocol.slice(0,-1)),i=!vpe.test(r?r.toLowerCase():"")}e=i}if(e)fi(n,"complete"),fi(n,"success");else{n.m=6;try{var s=2<$s(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",gG(n)}}finally{yy(n)}}}function yy(n,t){if(n.g){_G(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||fi(n,"ready");try{e.onreadystatechange=i}catch{}}}function _G(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Oe.clearTimeout(n.A),n.A=null)}function $s(n){return n.g?n.g.readyState:0}function vG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case fG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function yG(n){let t="";return YS(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function _E(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=yG(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Xt(n,t,e))}function mp(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function xG(n){this.Ga=0,this.j=[],this.l=new cy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mp("baseRetryDelayMs",5e3,n),this.hb=mp("retryDelaySeedMs",1e4,n),this.eb=mp("forwardChannelMaxRetries",2,n),this.xa=mp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new aG(n&&n.concurrentRequestLimit),this.Ja=new ppe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vE(n){if(bG(n),3==n.H){var t=n.W++,e=Eo(n.I);if(Xt(e,"SID",n.K),Xt(e,"RID",t),Xt(e,"TYPE","terminate"),_p(n,e),(t=new ap(n,n.l,t)).L=2,t.A=my(Eo(e)),e=!1,Oe.navigator&&Oe.navigator.sendBeacon)try{e=Oe.navigator.sendBeacon(t.A.toString(),"")}catch{}!e&&Oe.Image&&((new Image).src=t.A,e=!0),e||(t.g=kG(t.l,null),t.g.ha(t.A)),t.G=Date.now(),lp(t)}AG(n)}function xy(n){n.g&&(xE(n),n.g.cancel(),n.g=null)}function bG(n){xy(n),n.u&&(Oe.clearTimeout(n.u),n.u=null),Ty(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Oe.clearTimeout(n.m),n.m=null)}function by(n){if(!lG(n.i)&&!n.m){n.m=!0;var t=n.Na;tp||L3(),np||(tp(),np=!0),rE.add(t,n),n.C=0}}function TG(n,t){var e;e=t?t.m:n.W++;const i=Eo(n.I);Xt(i,"SID",n.K),Xt(i,"RID",e),Xt(i,"AID",n.V),_p(n,i),n.o&&n.s&&_E(i,n.o,n.s),e=new ap(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=wG(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),gE(n.i,e),hE(e,i,t)}function _p(n,t){n.na&&YS(n.na,function(e,i){Xt(t,i,e)}),n.h&&eG({},function(e,i){Xt(t,i,e)})}function wG(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Si(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{gpe(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function CG(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;tp||L3(),np||(tp(),np=!0),rE.add(t,n),n.A=0}}function yE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=sp(Si(n.Ma,n),EG(n,n.A)),n.A++,0))}function xE(n){null!=n.B&&(Oe.clearTimeout(n.B),n.B=null)}function DG(n){n.g=new ap(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Eo(n.wa);Xt(t,"RID","rpc"),Xt(t,"SID",n.K),Xt(t,"AID",n.V),Xt(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Xt(t,"TO",n.qa),Xt(t,"TYPE","xmlhttp"),_p(n,t),n.o&&n.s&&_E(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.A=my(Eo(t)),e.u=null,e.S=!0,X3(e,n)}function Ty(n){null!=n.v&&(Oe.clearTimeout(n.v),n.v=null)}function SG(n,t){var e=null;if(n.g==t){Ty(n),xE(n),n.g=null;var i=2}else{if(!pE(n.i,t))return;e=t.F,uG(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.u?t.u.length:0,t=Date.now()-t.G;var r=n.C;fi(i=uy(),new z3(i,e)),by(n)}else CG(n);else if(3==(r=t.s)||0==r&&0<t.ca||!(1==i&&function Tpe(n,t){return!(cG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=sp(Si(n.Na,n,t),EG(n,n.C)),n.C++,0)))}(n,t)||2==i&&yE(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Rl(n,5);break;case 4:Rl(n,10);break;case 3:Rl(n,6);break;default:Rl(n,2)}}function EG(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Rl(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Si(n.pb,n);e||(e=new Nl("//www.google.com/images/cleardot.gif"),Oe.location&&"http"==Oe.location.protocol||py(e,"https"),my(e)),function mpe(n,t){const e=new cy;if(Oe.Image){const i=new Image;i.onload=iy(_y,e,i,"TestLoadImage: loaded",!0,t),i.onerror=iy(_y,e,i,"TestLoadImage: error",!1,t),i.onabort=iy(_y,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=iy(_y,e,i,"TestLoadImage: timeout",!1,t),Oe.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else qi(2);n.H=0,n.h&&n.h.za(t),AG(n),bG(n)}function AG(n){if(n.H=0,n.ma=[],n.h){const t=dG(n.i);(0!=t.length||0!=n.j.length)&&(T3(n.ma,t),T3(n.ma,n.j),n.i.i.length=0,$S(n.j),n.j.length=0),n.h.ya()}}function IG(n,t,e){var i=e instanceof Nl?Eo(e):new Nl(e);if(""!=i.g)t&&(i.g=t+"."+i.g),gy(i,i.m);else{var r=Oe.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Nl(null);i&&py(s,i),t&&(s.g=t),r&&gy(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&Xt(i,e,t),Xt(i,"VER",n.ra),_p(n,i),i}function kG(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new gn(n.Ha&&!n.va?new fp({ob:e}):n.va)).Oa(n.J),t}function MG(){}function wy(){if(Bu&&!(10<=Number(Ofe)))throw Error("Environmental error: no available transport.")}function Dr(n,t){ti.call(this),this.g=new xG(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Zf(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zf(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Gu(this)}function NG(n){lE.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function RG(){cE.call(this),this.status=1}function Gu(n){this.g=n}function ds(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function bE(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Nt(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(te=gn.prototype).Oa=function(n){this.M=n},te.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():uE.g(),this.C=function W3(n){return n.h||(n.h=n.i())}(this.u?this.u:uE),this.g.onreadystatechange=Si(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void pG(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Oe.FormData&&n instanceof Oe.FormData,!(0<=b3(ype,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_G(this),0<this.B&&((this.L=function xpe(n){return Bu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Si(this.ua,this)):this.A=oE(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){pG(this,s)}},te.ua=function(){typeof VS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fi(this,"timeout"),this.abort(8))},te.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fi(this,"complete"),fi(this,"abort"),yy(this))},te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yy(this,!0)),gn.$.N.call(this)},te.La=function(){this.s||(this.G||this.v||this.l?mG(this):this.kb())},te.kb=function(){mG(this)},te.isActive=function(){return!!this.g},te.da=function(){try{return 2<$s(this)?this.g.status:-1}catch{return-1}},te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},te.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),_pe(t)}},te.Ia=function(){return this.m},te.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(te=xG.prototype).ra=8,te.H=1,te.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new ap(this,this.l,n);let s=this.s;if(this.U&&(s?(s=E3(s),I3(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=wG(this,r,t),Xt(e=Eo(this.I),"RID",n),Xt(e,"CVER",22),this.F&&Xt(e,"X-HTTP-Session-Id",this.F),_p(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(yG(s)))+"&"+t:this.o&&_E(e,this.o,s)),gE(this.i,r),this.bb&&Xt(e,"TYPE","init"),this.P?(Xt(e,"$req",t),Xt(e,"SID","null"),r.aa=!0,hE(r,e,null)):hE(r,e,t),this.H=2}}else 3==this.H&&(n?TG(this,n):0==this.j.length||lG(this.i)||TG(this))},te.Ma=function(){if(this.u=null,DG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=sp(Si(this.jb,this),n)}},te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qi(10),xy(this),DG(this))},te.ib=function(){null!=this.v&&(this.v=null,xy(this),yE(this),qi(19))},te.pb=function(n){n?(this.l.info("Successfully pinged google.com"),qi(2)):(this.l.info("Failed to ping google.com"),qi(1))},te.isActive=function(){return!!this.h&&this.h.isActive(this)},(te=MG.prototype).Ba=function(){},te.Aa=function(){},te.za=function(){},te.ya=function(){},te.isActive=function(){return!0},te.Va=function(){},wy.prototype.g=function(n,t){return new Dr(n,t)},ei(Dr,ti),Dr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;qi(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=IG(n,null,n.Y),by(n)},Dr.prototype.close=function(){vE(this.g)},Dr.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=iE(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&by(t)},Dr.prototype.N=function(){this.g.h=null,delete this.j,vE(this.g),delete this.g,Dr.$.N.call(this)},ei(NG,lE),ei(RG,cE),ei(Gu,MG),Gu.prototype.Ba=function(){fi(this.g,"a")},Gu.prototype.Aa=function(n){fi(this.g,new NG(n))},Gu.prototype.za=function(n){fi(this.g,new RG)},Gu.prototype.ya=function(){fi(this.g,"b")},ei(ds,function wpe(){this.blockSize=-1}),ds.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ds.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)bE(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){bE(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){bE(this,i),r=0;break}}this.h=r,this.i+=t},ds.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var Cpe={};function TE(n){return-128<=n&&128>n?function Nfe(n,t){var e=Cpe;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Nt([0|t],0>t?-1:0)}):new Nt([0|n],0>n?-1:0)}function Hs(n){if(isNaN(n)||!isFinite(n))return Uu;if(0>n)return pi(Hs(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=wE;return new Nt(t,0)}var wE=4294967296,Uu=TE(0),CE=TE(1),OG=TE(16777216);function Ao(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Kr(n){return-1==n.h}function pi(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Nt(e,~n.h).add(CE)}function Cy(n,t){return n.add(pi(t))}function Dy(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function vp(n,t){this.g=n,this.h=t}function Sy(n,t){if(Ao(t))throw Error("division by zero");if(Ao(n))return new vp(Uu,Uu);if(Kr(n))return t=Sy(pi(n),t),new vp(pi(t.g),pi(t.h));if(Kr(t))return t=Sy(n,pi(t)),new vp(pi(t.g),t.h);if(30<n.g.length){if(Kr(n)||Kr(t))throw Error("slowDivide_ only works with positive integers.");for(var e=CE,i=t;0>=i.X(n);)e=LG(e),i=LG(i);var r=zu(e,1),s=zu(i,1);for(i=zu(i,2),e=zu(e,2);!Ao(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=zu(i,1),e=zu(e,1)}return t=Cy(n,r.R(t)),new vp(r,t)}for(r=Uu;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=Hs(e)).R(t);Kr(o)||0<o.X(n);)o=(s=Hs(e-=i)).R(t);Ao(s)&&(s=CE),r=r.add(s),n=Cy(n,o)}return new vp(r,n)}function LG(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Nt(e,n.h)}function zu(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Nt(r,n.h)}(te=Nt.prototype).ea=function(){if(Kr(this))return-pi(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:wE+i)*t,t*=wE}return n},te.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ao(this))return"0";if(Kr(this))return"-"+pi(this).toString(n);for(var t=Hs(Math.pow(n,6)),e=this,i="";;){var r=Sy(e,t).g,s=((0<(e=Cy(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Ao(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},te.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},te.X=function(n){return Kr(n=Cy(this,n))?-1:Ao(n)?0:1},te.abs=function(){return Kr(this)?pi(this):this},te.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new Nt(e,-2147483648&e[e.length-1]?-1:0)},te.R=function(n){if(Ao(this)||Ao(n))return Uu;if(Kr(this))return Kr(n)?pi(this).R(pi(n)):pi(pi(this).R(n));if(Kr(n))return pi(this.R(pi(n)));if(0>this.X(OG)&&0>n.X(OG))return Hs(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=o*l,Dy(e,2*i+2*r),e[2*i+2*r+1]+=s*l,Dy(e,2*i+2*r+1),e[2*i+2*r+1]+=o*a,Dy(e,2*i+2*r+1),e[2*i+2*r+2]+=s*a,Dy(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Nt(e,0)},te.gb=function(n){return Sy(this,n).h},te.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Nt(e,this.h&n.h)},te.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Nt(e,this.h|n.h)},te.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Nt(e,this.h^n.h)},wy.prototype.createWebChannel=wy.prototype.g,Dr.prototype.send=Dr.prototype.u,Dr.prototype.open=Dr.prototype.m,Dr.prototype.close=Dr.prototype.close,dy.NO_ERROR=0,dy.TIMEOUT=8,dy.HTTP_ERROR=6,j3.COMPLETE="complete",q3.EventType=op,op.OPEN="a",op.CLOSE="b",op.ERROR="c",op.MESSAGE="d",ti.prototype.listen=ti.prototype.O,gn.prototype.listenOnce=gn.prototype.P,gn.prototype.getLastError=gn.prototype.Sa,gn.prototype.getLastErrorCode=gn.prototype.Ia,gn.prototype.getStatus=gn.prototype.da,gn.prototype.getResponseJson=gn.prototype.Wa,gn.prototype.getResponseText=gn.prototype.ja,gn.prototype.send=gn.prototype.ha,gn.prototype.setWithCredentials=gn.prototype.Oa,ds.prototype.digest=ds.prototype.l,ds.prototype.reset=ds.prototype.reset,ds.prototype.update=ds.prototype.j,Nt.prototype.add=Nt.prototype.add,Nt.prototype.multiply=Nt.prototype.R,Nt.prototype.modulo=Nt.prototype.gb,Nt.prototype.compare=Nt.prototype.X,Nt.prototype.toNumber=Nt.prototype.ea,Nt.prototype.toString=Nt.prototype.toString,Nt.prototype.getBits=Nt.prototype.D,Nt.fromNumber=Hs,Nt.fromString=function PG(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return pi(PG(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Hs(Math.pow(t,8)),i=Uu,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=Hs(Math.pow(t,s)),i=i.R(s).add(Hs(o))):i=(i=i.R(e)).add(Hs(o))}return i};var Dpe=us.createWebChannelTransport=function(){return new wy},Spe=us.getStatEventTarget=function(){return uy()},DE=us.ErrorCode=dy,Epe=us.EventType=j3,Ape=us.Event=kl,FG=us.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ey=(us.FetchXmlHttpFactory=fp,us.WebChannel=q3),Ipe=us.XhrIo=gn,kpe=us.Md5=ds,ju=us.Integer=Nt;const VG="@firebase/firestore";class ni{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");let Wu="10.7.0";const wa=new h1("@firebase/firestore");function qu(){return wa.logLevel}function V(n,...t){if(wa.logLevel<=at.DEBUG){const e=t.map(SE);wa.debug(`Firestore (${Wu}): ${n}`,...e)}}function Tn(n,...t){if(wa.logLevel<=at.ERROR){const e=t.map(SE);wa.error(`Firestore (${Wu}): ${n}`,...e)}}function Sr(n,...t){if(wa.logLevel<=at.WARN){const e=t.map(SE);wa.warn(`Firestore (${Wu}): ${n}`,...e)}}function SE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function le(n="Unexpected state"){const t=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: `+n;throw Tn(t),new Error(t)}function ge(n,t){n||le()}function X(n,t){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends _a{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wn{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class BG{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Mpe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ni.UNAUTHENTICATED))}shutdown(){}}class Npe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Rpe{constructor(t){this.t=t,this.currentUser=ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let o=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wn,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable(P(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wn)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ge("string"==typeof i.accessToken),new BG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ge(null===t||"string"==typeof t),new ni(t)}}class Ppe{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=ni.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ope{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new Ppe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $G{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lpe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ge("string"==typeof e.token),this.R=e.token,new $G(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fpe(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class HG{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Fpe(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Me(n,t){return n<t?-1:n>t?1:0}function Yu(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class cn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new $(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new $(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new $(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return cn.fromMillis(Date.now())}static fromDate(t){return cn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new cn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Me(this.nanoseconds,t.nanoseconds):Me(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class me{constructor(t){this.timestamp=t}static fromTimestamp(t){return new me(t)}static min(){return new me(new cn(0,0))}static max(){return new me(new cn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yp{constructor(t,e,i){void 0===e?e=0:e>t.length&&le(),void 0===i?i=t.length-e:i>t.length-e&&le(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===yp.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof yp?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ut extends yp{construct(t,e,i){return new ut(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new $(E.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ut(e)}static emptyPath(){return new ut([])}}const Vpe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends yp{construct(t,e,i){return new tn(t,e,i)}static isValidIdentifier(t){return Vpe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tn(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new $(E.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new $(E.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new $(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new $(E.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(e)}static emptyPath(){return new tn([])}}class Z{constructor(t){this.path=t}static fromPath(t){return new Z(ut.fromString(t))}static fromName(t){return new Z(ut.fromString(t).popFirst(5))}static empty(){return new Z(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ut.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ut.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Z(new ut(t.slice()))}}function zG(n){return new Er(n.readTime,n.key,-1)}class Er{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Er(me.min(),Z.empty(),-1)}static max(){return new Er(me.max(),Z.empty(),-1)}}function AE(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Z.comparator(n.documentKey,t.documentKey),0!==e?e:Me(n.largestBatchId,t.largestBatchId))}const jG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hpe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ca(n){return IE.apply(this,arguments)}function IE(){return IE=P(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==jG)throw n;V("LocalStore","Unexpectedly lost primary lease")}),IE.apply(this,arguments)}class w{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new w((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof w?e:w.resolve(e)}catch(e){return w.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):w.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):w.reject(e)}static resolve(t){return new w((e,i)=>{e(t)})}static reject(t){return new w((e,i)=>{i(t)})}static waitFor(t){return new w((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=w.resolve(!1);for(const i of t)e=e.next(r=>r?w.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new w((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(t,e){return new w((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}function Da(n){return"IndexedDbTransactionError"===n.name}let Ar=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function bp(n){return null==n}function Tp(n){return 0===n&&1/n==-1/0}function eU(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Sa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function tU(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class zt{constructor(t,e){this.comparator=t,this.root=e||gi.EMPTY}insert(t,e){return new zt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(t){return new zt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ky(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ky(this.root,t,this.comparator,!1)}getReverseIterator(){return new ky(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ky(this.root,t,this.comparator,!0)}}class ky{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gi{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??gi.RED,this.left=r??gi.EMPTY,this.right=s??gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new gi(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return gi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const t=this.left.check();if(t!==this.right.check())throw le();return t+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1,gi.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(t,e,i,r,s){return this}insert(t,e,i){return new gi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ot{constructor(t){this.comparator=t,this.data=new zt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new nU(this.data.getIterator())}getIteratorFrom(t){return new nU(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ot)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ot(this.comparator);return e.data=t,e}}class nU{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ar{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new ar([])}unionWith(t){let e=new Ot(tn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ar(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Yu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class iU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iU("Invalid base64 string: "+s):s}}(t);return new qn(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new qn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Me(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const uge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(n){if(ge(!!n),"string"==typeof n){let t=0;const e=uge.exec(n);if(ge(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mn(n.seconds),nanos:mn(n.nanos)}}function mn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Io(n){return"string"==typeof n?qn.fromBase64String(n):qn.fromUint8Array(n)}function My(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Ny(n){const t=n.mapValue.fields.__previous_value__;return My(t)?Ny(t):t}function wp(n){const t=Ea(n.mapValue.fields.__local_write_time__.timestampValue);return new cn(t.seconds,t.nanos)}class dge{constructor(t,e,i,r,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Fl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Fl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}const Aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ia(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?My(n)?4:aU(n)?9007199254740991:10:le()}function Us(n,t){if(n===t)return!0;const e=Ia(n);if(e!==Ia(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return wp(n).isEqual(wp(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Ea(r.timestampValue),a=Ea(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Io(n.bytesValue).isEqual(Io(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return mn(r.geoPointValue.latitude)===mn(s.geoPointValue.latitude)&&mn(r.geoPointValue.longitude)===mn(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return mn(r.integerValue)===mn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=mn(r.doubleValue),a=mn(s.doubleValue);return o===a?Tp(o)===Tp(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Yu(n.arrayValue.values||[],t.arrayValue.values||[],Us);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(eU(o)!==eU(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!Us(o[l],a[l])))return!1;return!0}(n,t);default:return le()}var s}function Cp(n,t){return void 0!==(n.values||[]).find(e=>Us(e,t))}function ka(n,t){if(n===t)return 0;const e=Ia(n),i=Ia(t);if(e!==i)return Me(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=mn(s.integerValue||s.doubleValue),l=mn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return rU(n.timestampValue,t.timestampValue);case 4:return rU(wp(n),wp(t));case 5:return Me(n.stringValue,t.stringValue);case 6:return function(s,o){const a=Io(s),l=Io(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Me(a[c],l[c]);if(0!==u)return u}return Me(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Me(mn(s.latitude),mn(o.latitude));return 0!==a?a:Me(mn(s.longitude),mn(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=ka(a[c],l[c]);if(u)return u}return Me(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Aa.mapValue&&o===Aa.mapValue)return 0;if(s===Aa.mapValue)return 1;if(o===Aa.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Me(l[d],u[d]);if(0!==h)return h;const f=ka(a[l[d]],c[u[d]]);if(0!==f)return f}return Me(l.length,u.length)}(n.mapValue,t.mapValue);default:throw le()}}function rU(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Me(n,t);const e=Ea(n),i=Ea(t),r=Me(e.seconds,i.seconds);return 0!==r?r:Me(e.nanos,i.nanos)}function Zu(n){return NE(n)}function NE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Ea(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Io(n.bytesValue).toBase64():"referenceValue"in n?Z.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=NE(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${NE(e.fields[o])}`;return r+"}"}(n.mapValue):le()}function RE(n){return!!n&&"integerValue"in n}function Dp(n){return!!n&&"arrayValue"in n}function sU(n){return!!n&&"nullValue"in n}function oU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Oy(n){return!!n&&"mapValue"in n}function Sp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Sa(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Sp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Sp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function aU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class mi{constructor(t){this.value=t}static empty(){return new mi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Oy(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sp(e)}setAll(t){let e=tn.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=Sp(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Oy(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Us(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Oy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Sa(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new mi(Sp(this.value))}}function uU(n){const t=[];return Sa(n.fields,(e,i)=>{const r=new tn([e]);if(Oy(i)){const s=uU(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new ar(t)}class Qt{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Qt(t,0,me.min(),me.min(),me.min(),mi.empty(),0)}static newFoundDocument(t,e,i,r){return new Qt(t,1,e,me.min(),i,r,0)}static newNoDocument(t,e){return new Qt(t,2,e,me.min(),me.min(),mi.empty(),0)}static newUnknownDocument(t,e){return new Qt(t,3,e,me.min(),me.min(),mi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(me.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Qt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ma{constructor(t,e){this.position=t,this.inclusive=e}}function dU(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?Z.comparator(Z.fromName(o.referenceValue),e.key):ka(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function hU(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Us(n.position[e],t.position[e]))return!1;return!0}class Ep{constructor(t,e="asc"){this.field=t,this.dir=e}}function pge(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class fU{}class nt extends fU{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new gge(t,e,i):"array-contains"===e?new vge(t,i):"in"===e?new yU(t,i):"not-in"===e?new yge(t,i):"array-contains-any"===e?new xge(t,i):new nt(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new mge(t,i):new _ge(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ka(e,this.value)):null!==e&&Ia(this.value)===Ia(e)&&this.matchesComparison(ka(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rt extends fU{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Rt(t,e)}matches(t){return Ju(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ju(n){return"and"===n.op}function OE(n){return function pU(n){for(const t of n.filters)if(t instanceof Rt)return!1;return!0}(n)&&Ju(n)}function LE(n){if(n instanceof nt)return n.field.canonicalString()+n.op.toString()+Zu(n.value);if(OE(n))return n.filters.map(t=>LE(t)).join(",");{const t=n.filters.map(e=>LE(e)).join(",");return`${n.op}(${t})`}}function gU(n,t){return n instanceof nt?(i=n,(r=t)instanceof nt&&i.op===r.op&&i.field.isEqual(r.field)&&Us(i.value,r.value)):n instanceof Rt?function(i,r){return r instanceof Rt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,a)=>s&&gU(o,r.filters[a]),!0)}(n,t):void le();var i,r}function _U(n){return n instanceof nt?`${(e=n).field.canonicalString()} ${e.op} ${Zu(e.value)}`:n instanceof Rt?function(e){return e.op.toString()+" {"+e.getFilters().map(_U).join(" ,")+"}"}(n):"Filter";var e}class gge extends nt{constructor(t,e,i){super(t,e,i),this.key=Z.fromName(i.referenceValue)}matches(t){const e=Z.comparator(t.key,this.key);return this.matchesComparison(e)}}class mge extends nt{constructor(t,e){super(t,"in",e),this.keys=vU(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class _ge extends nt{constructor(t,e){super(t,"not-in",e),this.keys=vU(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function vU(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Z.fromName(i.referenceValue))}class vge extends nt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Dp(e)&&Cp(e.arrayValue,this.value)}}class yU extends nt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Cp(this.value.arrayValue,e)}}class yge extends nt{constructor(t,e){super(t,"not-in",e)}matches(t){if(Cp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Cp(this.value.arrayValue,e)}}class xge extends nt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Dp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Cp(this.value.arrayValue,i))}}class bge{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function FE(n,t=null,e=[],i=[],r=null,s=null,o=null){return new bge(n,t,e,i,r,s,o)}function Bl(n){const t=X(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>LE(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),bp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Zu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Zu(i)).join(",")),t.ce=e}return t.ce}function Ap(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!pge(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!gU(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!hU(n.startAt,t.startAt)&&hU(n.endAt,t.endAt)}function Ly(n){return Z.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ko{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function ed(n){return new ko(n)}function wU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function td(n){const t=X(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ot(tn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new Ep(s,i))}),e.has(tn.keyField().canonicalString())||t.le.push(new Ep(tn.keyField(),i))}return t.le}function Yi(n){const t=X(n);return t.he||(t.he=function CU(n,t){if("F"===n.limitType)return FE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new Ep(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Ma(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ma(n.startAt.position,n.startAt.inclusive):null;return FE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,td(n))),t.he}function Vy(n,t,e){return new ko(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Ip(n,t){return Ap(Yi(n),Yi(t))&&n.limitType===t.limitType}function DU(n){return`${Bl(Yi(n))}|lt:${n.limitType}`}function nd(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>_U(r)).join(", ")}]`),bp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Zu(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Zu(r)).join(",")),`Target(${i})`}(Yi(n))}; limitType=${n.limitType})`}function kp(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Z.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of td(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,a,l){const c=dU(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,td(i),r)||i.endAt&&!function(o,a,l){const c=dU(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,td(i),r)));var i,r}function EU(n){return(t,e)=>{let i=!1;for(const r of td(n)){const s=Tge(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Tge(n,t,e){const i=n.field.isKeyField()?Z.comparator(t.key,e.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?ka(l,c):le()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return le()}}class Mo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Sa(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return tU(this.inner)}size(){return this.innerSize}}const wge=new zt(Z.comparator);function lr(){return wge}const AU=new zt(Z.comparator);function Mp(...n){let t=AU;for(const e of n)t=t.insert(e.key,e);return t}function IU(n){let t=AU;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function zs(){return Np()}function kU(){return Np()}function Np(){return new Mo(n=>n.toString(),(n,t)=>n.isEqual(t))}const Cge=new zt(Z.comparator),Dge=new Ot(Z.comparator);function Ue(...n){let t=Dge;for(const e of n)t=t.add(e);return t}const Sge=new Ot(Me);function MU(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tp(t)?"-0":t}}function NU(n){return{integerValue:""+n}}function RU(n,t){return function qG(n){return"number"==typeof n&&Number.isInteger(n)&&!Tp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?NU(t):MU(n,t)}class By{constructor(){this._=void 0}}function Ege(n,t,e){return n instanceof id?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&My(s)&&(s=Ny(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof $l?OU(n,t):n instanceof Hl?LU(n,t):function(r,s){const o=PU(r,s),a=FU(o)+FU(r.Ie);return RE(o)&&RE(r.Ie)?NU(a):MU(r.serializer,a)}(n,t)}function Age(n,t,e){return n instanceof $l?OU(n,t):n instanceof Hl?LU(n,t):e}function PU(n,t){return n instanceof rd?RE(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class id extends By{}class $l extends By{constructor(t){super(),this.elements=t}}function OU(n,t){const e=VU(t);for(const i of n.elements)e.some(r=>Us(r,i))||e.push(i);return{arrayValue:{values:e}}}class Hl extends By{constructor(t){super(),this.elements=t}}function LU(n,t){let e=VU(t);for(const i of n.elements)e=e.filter(r=>!Us(r,i));return{arrayValue:{values:e}}}class rd extends By{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function FU(n){return mn(n.integerValue||n.doubleValue)}function VU(n){return Dp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kge{constructor(t,e){this.version=t,this.transformResults=e}}class nn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new nn}static exists(t){return new nn(void 0,t)}static updateTime(t){return new nn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $y(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Hy{}function BU(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new od(n.key,nn.none()):new sd(n.key,n.data,nn.none());{const e=n.data,i=mi.empty();let r=new Ot(tn.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new No(n.key,i,new ar(r.toArray()),nn.none())}}function Mge(n,t,e){n instanceof sd?function(r,s,o){const a=r.value.clone(),l=GU(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof No?function(r,s,o){if(!$y(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=GU(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(HU(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Pp(n,t,e,i){return n instanceof sd?function(s,o,a,l){if(!$y(s.precondition,o))return a;const c=s.value.clone(),u=UU(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof No?function(s,o,a,l){if(!$y(s.precondition,o))return a;const c=UU(s.fieldTransforms,l,o),u=o.data;return u.setAll(HU(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,t,e,i):(a=e,$y(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Nge(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=PU(i.transform,r||null);null!=s&&(null===e&&(e=mi.empty()),e.set(i.field,s))}return e||null}function $U(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Yu(i,r,(s,o)=>function Ige(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof $l&&r instanceof $l||i instanceof Hl&&r instanceof Hl?Yu(i.elements,r.elements,Us):i instanceof rd&&r instanceof rd?Us(i.Ie,r.Ie):i instanceof id&&r instanceof id);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class sd extends Hy{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class No extends Hy{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HU(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function GU(n,t,e){const i=new Map;ge(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,Age(o,a,e[r]))}return i}function UU(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,Ege(s,o,t))}return i}class od extends Hy{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HE extends Hy{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GE{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&Mge(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Pp(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Pp(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=kU();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=BU(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ue())}isEqual(t){return this.batchId===t.batchId&&Yu(this.mutations,t.mutations,(e,i)=>$U(e,i))&&Yu(this.baseMutations,t.baseMutations,(e,i)=>$U(e,i))}}class UE{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ge(t.mutations.length===i.length);let r=Cge;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new UE(t,e,i,r)}}class zE{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pge{constructor(t,e){this.count=t,this.unchangedNames=e}}var Pn,dt;function jU(n){if(void 0===n)return Tn("GRPC error has no .code"),E.UNKNOWN;switch(n){case Pn.OK:return E.OK;case Pn.CANCELLED:return E.CANCELLED;case Pn.UNKNOWN:return E.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return E.INTERNAL;case Pn.UNAVAILABLE:return E.UNAVAILABLE;case Pn.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Pn.NOT_FOUND:return E.NOT_FOUND;case Pn.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Pn.ABORTED:return E.ABORTED;case Pn.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Pn.DATA_LOSS:return E.DATA_LOSS;default:return le()}}(dt=Pn||(Pn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";const Oge=new ju([4294967295,4294967295],0);function qU(n){const t=function WU(){return new TextEncoder}().encode(n),e=new kpe;return e.update(t),new Uint8Array(e.digest())}function YU(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ju([e,i],0),new ju([r,s],0)]}class jE{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Op(`Invalid padding: ${e}`);if(i<0)throw new Op(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Op(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Op(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=ju.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(ju.fromNumber(i)));return 1===r.compare(Oge)&&(r=new ju([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=qU(t),[i,r]=YU(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new jE(s,r,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Te)return;const e=qU(t),[i,r]=YU(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Op extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lp{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Fp.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Lp(me.min(),r,new zt(Me),lr(),Ue())}}class Fp{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Fp(i,e,Ue(),Ue(),Ue())}}class Uy{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class KU{constructor(t,e){this.targetId=t,this.fe=e}}class XU{constructor(t,e,i=qn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class QU{constructor(){this.ge=0,this.pe=JU(),this.ye=qn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Ue(),e=Ue(),i=Ue();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:le()}}),new Fp(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=JU()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,ge(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Lge{constructor(t){this.Le=t,this.ke=new Map,this.qe=lr(),this.Qe=ZU(),this.Ke=new zt(Me)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:le()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(Ly(s))if(0===i){const o=new Z(s.path);this.We(e,o,Qt.newNoDocument(o,me.min()))}else ge(1===i);else{const o=this.Ze(e);if(o!==i){const a=this.Xe(t),l=a?this.et(a,t,o):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,a;try{o=Io(i).toUint8Array()}catch(l){if(l instanceof iU)return Sr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new jE(o,r,s)}catch(l){return Sr(l instanceof Op?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Ly(a.target)){const l=new Z(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,Qt.newNoDocument(l,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=Ue();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new Lp(t,e,this.Ke,this.qe,i);return this.qe=lr(),this.Qe=ZU(),this.Ke=new zt(Me),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new QU,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new Ot(Me),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||V("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new QU),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function ZU(){return new zt(Z.comparator)}function JU(){return new zt(Z.comparator)}const Fge={asc:"ASCENDING",desc:"DESCENDING"},Vge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bge={and:"AND",or:"OR"};class $ge{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function WE(n,t){return n.useProto3Json||bp(t)?t:{value:t}}function ad(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function e4(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Hge(n,t){return ad(n,t.toTimestamp())}function wn(n){return ge(!!n),me.fromTimestamp(function(e){const i=Ea(e);return new cn(i.seconds,i.nanos)}(n))}function qE(n,t){return(i=n,new ut(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function t4(n){const t=ut.fromString(n);return ge(u4(t)),t}function Vp(n,t){return qE(n.databaseId,t.path)}function js(n,t){const e=t4(t);if(e.get(1)!==n.databaseId.projectId)throw new $(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new $(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Z(i4(e))}function YE(n,t){return qE(n.databaseId,t)}function Bp(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function i4(n){return ge(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function r4(n,t,e){return{name:Vp(n,t),fields:e.value.mapValue.fields}}function o4(n,t){return{documents:[YE(n,t.path)]}}function XE(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=YE(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=YE(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return c4(Rt.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Na((d=c).field),direction:Wge(d.dir)};var d})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=WE(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function a4(n){let t=function n4(n){const t=t4(n);return 4===t.length?ut.emptyPath():i4(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ge(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=function(d){const h=l4(d);return h instanceof Rt&&OE(h)?h.getFilters():[h]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(h=>{return new Ep(ld((p=h).field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;e.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,bp(h)?null:h}(e.limit));let l=null;var d;e.startAt&&(l=new Ma((d=e.startAt).values||[],!!d.before));let c=null;return e.endAt&&(c=function(d){return new Ma(d.values||[],!d.before)}(e.endAt)),function TU(n,t,e,i,r,s,o,a){return new ko(n,t,e,i,r,s,o,a)}(t,r,o,s,a,"F",l,c)}function l4(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ld(e.unaryFilter.field);return nt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ld(e.unaryFilter.field);return nt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ld(e.unaryFilter.field);return nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ld(e.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(n):void 0!==n.fieldFilter?nt.create(ld((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Rt.create(e.compositeFilter.filters.map(i=>l4(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return le()}}(e.compositeFilter.op))}(n):le();var e}function Wge(n){return Fge[n]}function qge(n){return Vge[n]}function Yge(n){return Bge[n]}function Na(n){return{fieldPath:n.canonicalString()}}function ld(n){return tn.fromServerFormat(n.fieldPath)}function c4(n){return n instanceof nt?function(e){if("=="===e.op){if(oU(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NAN"}};if(sU(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(oU(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NOT_NAN"}};if(sU(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(e.field),op:qge(e.op),value:e.value}}}(n):n instanceof Rt?function(e){const i=e.getFilters().map(r=>c4(r));return 1===i.length?i[0]:{compositeFilter:{op:Yge(e.op),filters:i}}}(n):le()}function Kge(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function u4(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ro{constructor(t,e,i,r,s=me.min(),o=me.min(),a=qn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Ro(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class d4{constructor(t){this.ut=t}}function QE(n){const t=a4({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Vy(t,t.limit,"L"):t}class jl{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(mn(t.integerValue));else if("doubleValue"in t){const i=mn(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),Tp(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(Io(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?aU(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):le()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),Z.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}jl.St=new jl;class ime{constructor(){this.on=new iA}addToCollectionParentIndex(t,e){return this.on.add(e),w.resolve()}getCollectionParents(t,e){return w.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return w.resolve()}deleteFieldIndex(t,e){return w.resolve()}deleteAllFieldIndexes(t){return w.resolve()}createTargetIndexes(t,e){return w.resolve()}getDocumentsMatchingTarget(t,e){return w.resolve(null)}getIndexType(t,e){return w.resolve(0)}getFieldIndexes(t,e){return w.resolve([])}getNextCollectionGroupToUpdate(t){return w.resolve(null)}getMinOffset(t,e){return w.resolve(Er.min())}getMinOffsetFromCollectionGroup(t,e){return w.resolve(Er.min())}updateCollectionGroup(t,e,i){return w.resolve()}updateIndexEntries(t,e){return w.resolve()}}class iA{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ot(ut.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ot(ut.comparator)).toArray()}}new Uint8Array(0);class Ii{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ii(t,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(41943040,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);class ql{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new ql(0)}static Nn(){return new ql(-1)}}class cme{constructor(){this.changes=new Mo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Qt.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?w.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class hme{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class V4{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Pp(i.mutation,r,ar.empty(),cn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ue()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ue()){const r=zs();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=Mp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=zs();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ue()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=lr();const o=Np(),a=Np();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof No)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Pp(u.mutation,c,u.mutation.getFieldMask(),cn.now())):o.set(c.key,ar.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),e.forEach((c,u)=>{var d;return a.set(c,new hme(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(t,e){const i=Np();let r=new zt((o,a)=>o-a),s=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||ar.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||Ue()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=kU();u.forEach(h=>{if(!s.has(h)){const f=BU(e.get(h),i.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,d))}return w.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return Z.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):function VE(n){return null!==n.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):w.resolve(zs());let a=-1,l=s;return o.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?w.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,Ue())).next(u=>({batchId:a,changes:IU(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Z(e)).next(i=>{let r=Mp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=Mp();return this.indexManager.getCollectionParents(t,s).next(a=>w.forEach(a,l=>{const c=(d=e,h=l.child(s),new ko(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,Qt.newInvalidDocument(u)))});let a=Mp();return o.forEach((l,c)=>{const u=s.get(l);void 0!==u&&Pp(u.mutation,c,ar.empty(),cn.now()),kp(e,c)&&(a=a.insert(l,c))}),a})}}class fme{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return w.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:wn(r.createTime)}),w.resolve();var r}getNamedQuery(t,e){return w.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:QE(r.bundledQuery),readTime:wn(r.readTime)}),w.resolve();var r}}class pme{constructor(){this.overlays=new zt(Z.comparator),this.lr=new Map}getOverlay(t,e){return w.resolve(this.overlays.get(e))}getOverlays(t,e){const i=zs();return w.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),w.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),w.resolve()}getOverlaysForCollection(t,e,i){const r=zs(),s=e.length+1,o=new Z(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return w.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new zt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=zs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=zs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return w.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new zE(e,i));let s=this.lr.get(e);void 0===s&&(s=Ue(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class rA{constructor(){this.hr=new Ot(ri.Pr),this.Ir=new Ot(ri.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new ri(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new ri(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new Z(new ut([])),i=new ri(e,t),r=new ri(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new Z(new ut([])),i=new ri(e,t),r=new ri(e,t+1);let s=Ue();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new ri(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class ri{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return Z.comparator(t.key,e.key)||Me(t.gr,e.gr)}static Tr(t,e){return Me(t.gr,e.gr)||Z.comparator(t.key,e.key)}}class gme{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new Ot(ri.Pr)}checkEmpty(t){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new GE(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new ri(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(t,e){return w.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ri(e,0),r=new ri(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const a=this.wr(o.gr);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ot(Me);return e.forEach(r=>{const s=new ri(r,0),o=new ri(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),w.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Z.isDocumentKey(s)||(s=s.child(""));const o=new ri(new Z(s),0);let a=new Ot(Me);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),w.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){ge(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return w.forEach(e.mutations,r=>{const s=new ri(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new ri(e,0),r=this.yr.firstAfterOrEqual(i);return w.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return w.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class mme{constructor(t){this.Cr=t,this.docs=new zt(Z.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return w.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(e))}getEntries(t,e){let i=lr();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Qt.newInvalidDocument(r))}),w.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=lr();const o=e.path,a=new Z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||AE(zG(u),i)<=0||(r.has(u.key)||kp(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(t,e,i,r){le()}vr(t,e){return w.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new _me(this)}getSize(t){return w.resolve(this.size)}}class _me extends cme{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),w.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class vme{constructor(t){this.persistence=t,this.Fr=new Mo(e=>Bl(e),Ap),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Mr=0,this.Or=new rA,this.targetCount=0,this.Nr=ql.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),w.resolve()}getLastRemoteSnapshotVersion(t){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return w.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),w.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new ql(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,w.resolve()}updateTargetData(t,e){return this.kn(e),w.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,w.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),w.waitFor(s).next(()=>r)}getTargetCount(t){return w.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return w.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),w.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),w.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return w.resolve(i)}containsKey(t,e){return w.resolve(this.Or.containsKey(e))}}class sA{constructor(t,e){this.Br={},this.overlays={},this.Lr=new Ar(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new vme(this),this.indexManager=new ime,this.remoteDocumentCache=new mme(i=>this.referenceDelegate.Qr(i)),this.serializer=new d4(e),this.Kr=new fme(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new pme,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new gme(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){V("MemoryPersistence","Starting transaction:",t);const r=new yme(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return w.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class yme extends Hpe{constructor(t){super(),this.currentSequenceNumber=t}}class Qy{constructor(t){this.persistence=t,this.Gr=new rA,this.zr=null}static jr(t){return new Qy(t)}get Hr(){if(this.zr)return this.zr;throw le()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),w.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),w.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),w.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Hr,i=>{const r=Z.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,me.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return w.or([()=>w.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class cA{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Ue(),r=Ue();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new cA(t,e.fromCache,i,r)}}class bme{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class $4{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new bme;return this.Hi(t,e,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,e,o,a.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(qu()<=at.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",nd(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),w.resolve()):(qu()<=at.DEBUG&&V("QueryEngine","Query:",nd(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(qu()<=at.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",nd(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Yi(e))):w.resolve())}zi(t,e){if(wU(e))return w.resolve(null);let i=Yi(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Vy(e,null,"F"),i=Yi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Ue(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,o,l.readTime)?this.zi(t,Vy(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return wU(e)||r.isEqual(me.min())?w.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?w.resolve(null):(qu()<=at.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nd(e)),this.Xi(t,o,e,function UG(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=me.fromTimestamp(1e9===i?new cn(e+1,0):new cn(e,i));return new Er(r,Z.empty(),t)}(r,-1)).next(a=>a))})}Yi(t,e){let i=new Ot(EU(t));return e.forEach((r,s)=>{kp(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return qu()<=at.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",nd(e)),this.Gi.getDocumentsMatchingQuery(t,e,Er.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Tme{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new zt(Me),this.ns=new Mo(s=>Bl(s),Ap),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new V4(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function G4(n,t){return uA.apply(this,arguments)}function uA(){return uA=P(function*(n,t){const e=X(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Ue();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),uA.apply(this,arguments)}function U4(n){const t=X(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function Dme(n,t){const e=X(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function pd(n,t,e){return dA.apply(this,arguments)}function dA(){return dA=P(function*(n,t,e){const i=X(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Da(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),dA.apply(this,arguments)}function e0(n,t,e){const i=X(n);let r=me.min(),s=Ue();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=X(l),h=d.ns.get(u);return void 0!==h?w.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(i,o,Yi(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:me.min(),e?s:Ue())).next(a=>(function q4(n,t,e){let i=n.rs.get(t)||me.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}(i,function SU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),a),{documents:a,ls:s})))}class mA{constructor(){this.activeTargetIds=function $E(){return Sge}()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class X4{constructor(){this.eo=new mA,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new mA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Ame{ro(t){}shutdown(){}}class Q4{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let r0=null;function vA(){return null===r0?r0=268435456+Math.round(2147483648*Math.random()):r0++,"0x"+r0.toString(16)}const Ime={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kme{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const ki="WebChannelConnection";class Mme extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const a=vA(),l=this.So(e,i);V("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(e,l,c,r).then(u=>(V("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw Sr("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,i,r,s,o,a){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${Ime[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=vA();return new Promise((o,a)=>{const l=new Ipe;l.setWithCredentials(!0),l.listenOnce(Epe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case DE.NO_ERROR:const u=l.getResponseJson();V(ki,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),o(u);break;case DE.TIMEOUT:V(ki,`RPC '${t}' ${s} timed out`),a(new $(E.DEADLINE_EXCEEDED,"Request time out"));break;case DE.HTTP_ERROR:const d=l.getStatus();if(V(ki,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(v)>=0?v:E.UNKNOWN}(f.status);a(new $(p,f.message))}else a(new $(E.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(E.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{V(ki,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);V(ki,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=vA(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Dpe(),a=Spe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=s.join("");V(ki,`Creating RPC '${t}' stream ${r}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new kme({co:g=>{f?V(ki,`Not sending because RPC '${t}' stream ${r} is closed:`,g):(h||(V(ki,`Opening RPC '${t}' stream ${r} transport.`),d.open(),h=!0),V(ki,`RPC '${t}' stream ${r} sending:`,g),d.send(g))},lo:()=>d.close()}),m=(g,v,_)=>{g.listen(v,y=>{try{_(y)}catch(b){setTimeout(()=>{throw b},0)}})};return m(d,Ey.EventType.OPEN,()=>{f||V(ki,`RPC '${t}' stream ${r} transport opened.`)}),m(d,Ey.EventType.CLOSE,()=>{f||(f=!0,V(ki,`RPC '${t}' stream ${r} transport closed`),p.Ro())}),m(d,Ey.EventType.ERROR,g=>{f||(f=!0,Sr(ki,`RPC '${t}' stream ${r} transport errored:`,g),p.Ro(new $(E.UNAVAILABLE,"The operation could not be completed")))}),m(d,Ey.EventType.MESSAGE,g=>{var v;if(!f){const _=g.data[0];ge(!!_);const b=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(b){V(ki,`RPC '${t}' stream ${r} received error:`,b);const D=b.status;let S=function(ye){const pe=Pn[ye];if(void 0!==pe)return jU(pe)}(D),H=b.message;void 0===S&&(S=E.INTERNAL,H="Unknown error status: "+D+" with message "+b.message),f=!0,p.Ro(new $(S,H)),d.close()}else V(ki,`RPC '${t}' stream ${r} received:`,_),p.Vo(_)}}),m(a,Ape.STAT_EVENT,g=>{g.stat===FG.PROXY?V(ki,`RPC '${t}' stream ${r} detected buffering proxy`):g.stat===FG.NOPROXY&&V(ki,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function s0(){return typeof document<"u"?document:null}function Yp(n){return new $ge(n,!0)}class yA{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&V("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class J4{constructor(t,e,i,r,s,o,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new yA(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return P(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return P(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return P(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===E.RESOURCE_EXHAUSTED?(Tn(e.toString()),Tn("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===E.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new $(E.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko(P(function*(){t.state=0,t.start()}))}o_(t){return V("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nme extends J4{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function Uge(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:le(),r=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ge(void 0===u||"string"==typeof u),qn.fromBase64String(u||"")):(ge(void 0===u||u instanceof Uint8Array),qn.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=void 0===c.code?E.UNKNOWN:jU(c.code);return new $(u,c.message||"")}(o);e=new XU(i,r,s,a||null)}else if("documentChange"in t){const i=t.documentChange,r=js(n,i.document.name),s=wn(i.document.updateTime),o=i.document.createTime?wn(i.document.createTime):me.min(),a=new mi({mapValue:{fields:i.document.fields}}),l=Qt.newFoundDocument(r,s,o,a);e=new Uy(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=js(n,i.document),s=i.readTime?wn(i.readTime):me.min(),o=Qt.newNoDocument(r,s);e=new Uy([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=js(n,i.document);e=new Uy([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return le();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new Pge(r,s);e=new KU(i.targetId,o)}}var c;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?wn(o.readTime):me.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=Bp(this.serializer),e.addTarget=function(s,o){let a;const l=o.target;if(a=Ly(l)?{documents:o4(s,l)}:{query:XE(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=e4(s,o.resumeToken);const c=WE(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(me.min())>0){a.readTime=ad(s,o.snapshotVersion.toTimestamp());const c=WE(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function jge(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=Bp(this.serializer),e.removeTarget=t,this.e_(e)}}class Rme extends J4{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(ge(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function zge(n,t){return n&&n.length>0?(ge(void 0!==t),n.map(e=>function(r,s){let o=wn(r.updateTime?r.updateTime:s);return o.isEqual(me.min())&&(o=wn(s)),new kge(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=wn(t.commitTime);return this.listener.I_(i,e)}return ge(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Bp(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>function $p(n,t){let e;if(t instanceof sd)e={update:r4(n,t.key,t.value)};else if(t instanceof od)e={delete:Vp(n,t.key)};else if(t instanceof No)e={update:r4(n,t.key,t.data),updateMask:Kge(t.fieldMask)};else{if(!(t instanceof HE))return le();e={verify:Vp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof id)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $l)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rd)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw le()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:Hge(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:le()),e;var s}(this.serializer,i))};this.e_(e)}}class Pme extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new $(E.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new $(E.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(E.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Lme{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Tn(e),this.f_=!1):V("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Fme{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{i.enqueueAndForget(P(function*(){var l;La(o)&&(V("RemoteStore","Restarting streams for network reachability change."),yield(l=P(function*(u){const d=X(u);d.C_.add(4),yield gd(d),d.M_.set("Unknown"),d.C_.delete(4),yield Kp(d)}),function c(u){return l.apply(this,arguments)})(o))}))}),this.M_=new Lme(i,r)}}function Kp(n){return bA.apply(this,arguments)}function bA(){return bA=P(function*(n){if(La(n))for(const t of n.v_)yield t(!0)}),bA.apply(this,arguments)}function gd(n){return TA.apply(this,arguments)}function TA(){return TA=P(function*(n){for(const t of n.v_)yield t(!1)}),TA.apply(this,arguments)}function o0(n,t){const e=X(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),DA(e)?CA(e):_d(e).Ho()&&wA(e,t))}function Xp(n,t){const e=X(n),i=_d(e);e.D_.delete(t),i.Ho()&&ez(e,t),0===e.D_.size&&(i.Ho()?i.Zo():La(e)&&e.M_.set("Unknown"))}function wA(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(me.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}_d(n).u_(t)}function ez(n,t){n.x_.Oe(t),_d(n).c_(t)}function CA(n){n.x_=new Lge({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),_d(n).start(),n.M_.g_()}function DA(n){return La(n)&&!_d(n).jo()&&n.D_.size>0}function La(n){return 0===X(n).C_.size}function tz(n){n.x_=void 0}function Vme(n){return SA.apply(this,arguments)}function SA(){return SA=P(function*(n){n.D_.forEach((t,e)=>{wA(n,t)})}),SA.apply(this,arguments)}function Bme(n,t){return EA.apply(this,arguments)}function EA(){return EA=P(function*(n,t){tz(n),DA(n)?(n.M_.w_(t),CA(n)):n.M_.set("Unknown")}),EA.apply(this,arguments)}function $me(n,t,e){return AA.apply(this,arguments)}function AA(){return AA=P(function*(n,t,e){if(n.M_.set("Online"),t instanceof XU&&2===t.state&&t.cause)try{yield(i=P(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){V("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield a0(n,i)}else if(t instanceof Uy?n.x_.$e(t):t instanceof KU?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(me.min()))try{const i=yield U4(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(qn.EMPTY_BYTE_STRING,u.snapshotVersion)),ez(s,l);const d=new Ro(u.target,l,c,u.sequenceNumber);wA(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){V("RemoteStore","Failed to raise snapshot:",i),yield a0(n,i)}var i}),AA.apply(this,arguments)}function a0(n,t,e){return IA.apply(this,arguments)}function IA(){return IA=P(function*(n,t,e){if(!Da(t))throw t;n.C_.add(1),yield gd(n),n.M_.set("Offline"),e||(e=()=>U4(n.localStore)),n.asyncQueue.enqueueRetryable(P(function*(){V("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield Kp(n)}))}),IA.apply(this,arguments)}function nz(n,t){return t().catch(e=>a0(n,e,t))}function md(n){return kA.apply(this,arguments)}function kA(){return kA=P(function*(n){const t=X(n),e=Fa(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Hme(t);)try{const r=yield Dme(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,Gme(t,r)}catch(r){yield a0(t,r)}iz(t)&&rz(t)}),kA.apply(this,arguments)}function Hme(n){return La(n)&&n.b_.length<10}function Gme(n,t){n.b_.push(t);const e=Fa(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function iz(n){return La(n)&&!Fa(n).jo()&&n.b_.length>0}function rz(n){Fa(n).start()}function Ume(n){return MA.apply(this,arguments)}function MA(){return MA=P(function*(n){Fa(n).E_()}),MA.apply(this,arguments)}function zme(n){return NA.apply(this,arguments)}function NA(){return NA=P(function*(n){const t=Fa(n);for(const e of n.b_)t.P_(e.mutations)}),NA.apply(this,arguments)}function jme(n,t,e){return RA.apply(this,arguments)}function RA(){return RA=P(function*(n,t,e){const i=n.b_.shift(),r=UE.from(i,t,e);yield nz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield md(n)}),RA.apply(this,arguments)}function Wme(n,t){return PA.apply(this,arguments)}function PA(){return PA=P(function*(n,t){var e;t&&Fa(n).h_&&(yield(e=P(function*(r,s){if(function zU(n){switch(n){default:return le();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(a=s.code)&&a!==E.ABORTED){const o=r.b_.shift();Fa(r).Yo(),yield nz(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield md(r)}var a}),function i(r,s){return e.apply(this,arguments)})(n,t)),iz(n)&&rz(n)}),PA.apply(this,arguments)}function sz(n,t){return OA.apply(this,arguments)}function OA(){return OA=P(function*(n,t){const e=X(n);e.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const i=La(e);e.C_.add(3),yield gd(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield Kp(e)}),OA.apply(this,arguments)}function FA(){return FA=P(function*(n,t){const e=X(n);t?(e.C_.delete(2),yield Kp(e)):t||(e.C_.add(2),yield gd(e),e.M_.set("Unknown"))}),FA.apply(this,arguments)}function _d(n){return n.O_||(n.O_=function(e,i,r){const s=X(e);return s.A_(),new Nme(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Vme.bind(null,n),Io:Bme.bind(null,n),a_:$me.bind(null,n)}),n.v_.push(function(){var t=P(function*(e){e?(n.O_.Yo(),DA(n)?CA(n):n.M_.set("Unknown")):(yield n.O_.stop(),tz(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function Fa(n){return n.N_||(n.N_=function(e,i,r){const s=X(e);return s.A_(),new Rme(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Ume.bind(null,n),Io:Wme.bind(null,n),T_:zme.bind(null,n),I_:jme.bind(null,n)}),n.v_.push(function(){var t=P(function*(e){e?(n.N_.Yo(),yield md(n)):(yield n.N_.stop(),n.b_.length>0&&(V("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class VA{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new VA(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $(E.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(n,t){if(Tn("AsyncQueue",`${t}: ${n}`),Da(n))return new $(E.UNAVAILABLE,`${t}: ${n}`);throw n}class yd{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Z.comparator(e.key,i.key):(e,i)=>Z.comparator(e.key,i.key),this.keyedMap=Mp(),this.sortedSet=new zt(this.comparator)}static emptySet(t){return new yd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof yd)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new yd;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class oz{constructor(){this.B_=new zt(Z.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):le():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class xd{constructor(t,e,i,r,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new xd(t,e,yd.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ip(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class qme{constructor(){this.k_=void 0,this.listeners=[]}}class Yme{constructor(){this.queries=new Mo(t=>DU(t),Ip),this.onlineState="Unknown",this.q_=new Set}}function $A(){return $A=P(function*(n,t){const e=X(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new qme),r)try{s.k_=yield e.onListen(i)}catch(o){const a=vd(o,`Initialization of query '${nd(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&UA(e)}),$A.apply(this,arguments)}function GA(){return GA=P(function*(n,t){const e=X(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),GA.apply(this,arguments)}function Kme(n,t){const e=X(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&UA(e)}function Xme(n,t,e){const i=X(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function UA(n){n.q_.forEach(t=>{t.next()})}class zA{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new xd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=xd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class cz{constructor(t){this.key=t}}class uz{constructor(t){this.key=t}}class dz{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ue(),this.mutatedKeys=Ue(),this._a=EU(t),this.aa=new yd(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new oz,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,d)=>{const h=r.get(u),f=kp(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),g=!0):this.ha(h,f)||(i.track({type:2,doc:f}),g=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((u,d)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return m(f)-m(p)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(i),r=null!=r&&r;const a=e&&!r?this.Ia():[],l=0===this.oa.size&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,0!==o.length||c?{snapshot:new xd(this.query,t.aa,s,o,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new oz,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Ue(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new uz(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new cz(i))}),e}da(t){this.ia=t.ls,this.oa=Ue();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return xd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Jme{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class e_e{constructor(t){this.key=t,this.Ra=!1}}class t_e{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Mo(a=>DU(a),Ip),this.fa=new Map,this.ga=new Set,this.pa=new zt(Z.comparator),this.ya=new Map,this.wa=new rA,this.Sa={},this.ba=new Map,this.Da=ql.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function n_e(n,t){return jA.apply(this,arguments)}function jA(){return jA=P(function*(n,t){const e=function pI(n){const t=X(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=hz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=d_e.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=s_e.bind(null,t),t.Va.a_=Kme.bind(null,t.eventManager),t.Va.Fa=Xme.bind(null,t.eventManager),t}(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield function fd(n,t){const e=X(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,w.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new Ro(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}(e.localStore,Yi(t)),a=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield function WA(n,t,e,i,r){return qA.apply(this,arguments)}(e,t,i,"current"===a,o.resumeToken),e.isPrimaryClient&&o0(e.remoteStore,o)}return r}),jA.apply(this,arguments)}function qA(){return qA=P(function*(n,t,e,i,r){n.va=(d,h,f)=>{return(p=P(function*(g,v,_,y){let b=v.view.ca(_);b.Zi&&(b=yield e0(g.localStore,v.query,!1).then(({documents:W})=>v.view.ca(W,b)));const D=y&&y.targetChanges.get(v.targetId),S=y&&null!=y.targetMismatches.get(v.targetId),H=v.view.applyChanges(b,g.isPrimaryClient,D,S);return iI(g,v.targetId,H.Ta),H.snapshot}),function m(g,v,_,y){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield e0(n.localStore,t,!0),o=new dz(t,s.ls),a=o.ca(s.documents),l=Fp.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);iI(n,e,c.Ta);const u=new Jme(t,e,o);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),qA.apply(this,arguments)}function i_e(n,t){return YA.apply(this,arguments)}function YA(){return YA=P(function*(n,t){const e=X(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!Ip(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield pd(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Xp(e.remoteStore,i.targetId),bd(e,i.targetId)}).catch(Ca))):(bd(e,i.targetId),yield pd(e.localStore,i.targetId,!0))}),YA.apply(this,arguments)}function KA(){return KA=P(function*(n,t,e){const i=function gI(n){const t=X(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=o_e.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=a_e.bind(null,t),t}(n);try{const r=yield function(o,a){const l=X(o),c=cn.now(),u=a.reduce((f,p)=>f.add(p.key),Ue());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=lr(),m=Ue();return l.ss.getEntries(f,u).next(g=>{p=g,p.forEach((v,_)=>{_.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(g=>{d=g;const v=[];for(const _ of a){const y=Nge(_,d.get(_.key).overlayedDocument);null!=y&&v.push(new No(_.key,y,uU(y.value.mapValue),nn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:IU(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new zt(Me)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,e),yield Po(i,r.changes),yield md(i.remoteStore)}catch(r){const s=vd(r,"Failed to persist write");e.reject(s)}}),KA.apply(this,arguments)}function hz(n,t){return XA.apply(this,arguments)}function XA(){return XA=P(function*(n,t){const e=X(n);try{const i=yield function Cme(n,t){const e=X(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(e.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>e.qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var m,g,v;null!==t.targetMismatches.get(d)?f=f.withResumeToken(qn.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),g=f,v=u,(0===(m=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(s,f))});let l=lr(),c=Ue();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function z4(n,t,e){let i=Ue(),r=Ue();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=lr();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(me.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}(s,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(me.min())){const u=e.qr.getLastRemoteSnapshotVersion(s).next(d=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.ts=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(ge(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?ge(o.Ra):r.removedDocuments.size>0&&(ge(o.Ra),o.Ra=!1))}),yield Po(e,i,t)}catch(i){yield Ca(i)}}),XA.apply(this,arguments)}function fz(n,t,e){const i=X(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=X(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&UA(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function s_e(n,t,e){return QA.apply(this,arguments)}function QA(){return QA=P(function*(n,t,e){const i=X(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new zt(Z.comparator);o=o.insert(s,Qt.newNoDocument(s,me.min()));const a=Ue().add(s),l=new Lp(me.min(),new Map,new zt(Me),o,a);yield hz(i,l),i.pa=i.pa.remove(s),i.ya.delete(t),rI(i)}else yield pd(i.localStore,t,!1).then(()=>bd(i,t,e)).catch(Ca)}),QA.apply(this,arguments)}function o_e(n,t){return ZA.apply(this,arguments)}function ZA(){return ZA=P(function*(n,t){const e=X(n),i=t.batch.batchId;try{const r=yield function wme(n,t){const e=X(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=w.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{const g=c.docVersions.get(p);ge(null!==g),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);nI(e,i,null),tI(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Po(e,r)}catch(r){yield Ca(r)}}),ZA.apply(this,arguments)}function a_e(n,t,e){return JA.apply(this,arguments)}function JA(){return JA=P(function*(n,t,e){const i=X(n);try{const r=yield function(o,a){const l=X(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ge(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);nI(i,t,e),tI(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Po(i,r)}catch(r){yield Ca(r)}}),JA.apply(this,arguments)}function tI(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function nI(n,t,e){const i=X(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function bd(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||pz(n,i)})}function pz(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(Xp(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),rI(n))}function iI(n,t,e){for(const i of e)i instanceof cz?(n.wa.addReference(i.key,t),c_e(n,i)):i instanceof uz?(V("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||pz(n,i.key)):le()}function c_e(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(V("SyncEngine","New document in limbo: "+e),n.ga.add(i),rI(n))}function rI(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new Z(ut.fromString(t)),i=n.Da.next();n.ya.set(i,new e_e(e)),n.pa=n.pa.insert(e,i),o0(n.remoteStore,new Ro(Yi(ed(e.path)),i,"TargetPurposeLimboResolution",Ar._e))}}function Po(n,t,e){return sI.apply(this,arguments)}function sI(){return sI=P(function*(n,t,e){const i=X(n),r=[],s=[],o=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=cA.Qi(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.Va.a_(r),yield(a=P(function*(c,u){const d=X(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>w.forEach(u,f=>w.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>w.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Da(h))throw h;V("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),g=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,g)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,s))}),sI.apply(this,arguments)}function u_e(n,t){return oI.apply(this,arguments)}function oI(){return oI=P(function*(n,t){const e=X(n);if(!e.currentUser.isEqual(t)){V("SyncEngine","User change. New user:",t.toKey());const i=yield G4(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new $(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Po(e,i._s)}var s}),oI.apply(this,arguments)}function d_e(n,t){const e=X(n),i=e.ya.get(t);if(i&&i.Ra)return Ue().add(i.key);{let r=Ue();const s=e.fa.get(t);if(!s)return r;for(const o of s){const a=e.ma.get(o);r=r.unionWith(a.view.ua)}return r}}class l0{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return P(function*(){e.serializer=Yp(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function H4(n,t,e,i){return new Tme(n,t,e,i)}(this.persistence,new $4,t.initialUser,this.serializer)}createPersistence(t){return new sA(Qy.jr,this.serializer)}createSharedClientState(t){return new X4}terminate(){var t=this;return P(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Td{initialize(t,e){var i=this;return P(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>fz(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=u_e.bind(null,i.syncEngine),yield function LA(n,t){return FA.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Yme}createDatastore(t){const e=Yp(t.databaseInfo.databaseId),i=new Mme(t.databaseInfo);return new Pme(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>fz(this.syncEngine,e,0),a=Q4.D()?new Q4:new Ame,new Fme(i,r,s,o,a);var i,r,s,o,a}createSyncEngine(t,e){return function(r,s,o,a,l,c,u){const d=new t_e(r,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return function(){var t=P(function*(i){const r=X(i);V("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield gd(r),r.F_.shutdown(),r.M_.set("Unknown")});return function e(i){return t.apply(this,arguments)}}()(this.remoteStore)}}class c0{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):Tn("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class C_e{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ni.UNAUTHENTICATED,this.clientId=HG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=P(function*(a){V("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return P(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(P(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=vd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function u0(n,t){return mI.apply(this,arguments)}function mI(){return mI=P(function*(n,t){n.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=P(function*(s){i.isEqual(s)||(yield G4(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),mI.apply(this,arguments)}function _I(n,t){return vI.apply(this,arguments)}function vI(){return vI=P(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function yI(n){return xI.apply(this,arguments)}(n);V("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>sz(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>sz(t.remoteStore,s)),n._onlineComponents=t}),vI.apply(this,arguments)}function xI(){return xI=P(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield u0(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function xz(n){return"FirebaseError"===n.name?n.code===E.FAILED_PRECONDITION||n.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;Sr("Error using user provided cache. Falling back to memory cache: "+e),yield u0(n,new l0)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield u0(n,new l0);return n._offlineComponents}),xI.apply(this,arguments)}function d0(n){return bI.apply(this,arguments)}function bI(){return bI=P(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield _I(n,n._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield _I(n,new Td))),n._onlineComponents}),bI.apply(this,arguments)}function wI(){return wI=P(function*(n){const t=yield d0(n),e=t.eventManager;return e.onListen=n_e.bind(null,t.syncEngine),e.onUnlisten=i_e.bind(null,t.syncEngine),e}),wI.apply(this,arguments)}function Dz(n,t,e={}){const i=new Wn;return n.asyncQueue.enqueueAndForget(P(function*(){return function(s,o,a,l,c){const u=new c0({next:h=>{o.enqueueAndForget(()=>function HA(n,t){return GA.apply(this,arguments)}(s,d)),h.fromCache&&"server"===l.source?c.reject(new $(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new zA(a,u,{includeMetadataChanges:!0,J_:!0});return function BA(n,t){return $A.apply(this,arguments)}(s,d)}(yield function Cd(n){return wI.apply(this,arguments)}(n),n.asyncQueue,t,e,i)})),i.promise}function Sz(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const Ez=new Map;function CI(n,t,e){if(!e)throw new $(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Az(n){if(!Z.isDocumentKey(n))throw new $(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Iz(n){if(Z.isDocumentKey(n))throw new $(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function h0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":le()}function it(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new $(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=h0(n);throw new $(E.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class Mz{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new $(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function O_e(n,t,e,i){if(!0===t&&!0===i)throw new $(E.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Sz(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new $(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qp{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new $(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mz(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new Mpe;switch(i.type){case"firstParty":return new Ope(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Ez.get(e);i&&(V("ComponentProvider","Removing Datastore"),Ez.delete(e),i.terminate())}(this),Promise.resolve()}}class _i{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _i(this.firestore,t,this._query)}}class Cn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Cn(this.firestore,t,this._key)}}class Ws extends _i{constructor(t,e,i){super(t,e,ed(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Cn(this.firestore,null,new Z(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function F_e(n,t,...e){if(n=bo(n),CI("collection","path",t),n instanceof Qp){const i=ut.fromString(t,...e);return Iz(i),new Ws(n,null,i)}{if(!(n instanceof Cn||n instanceof Ws))throw new $(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(t,...e));return Iz(i),new Ws(n.firestore,null,i)}}class B_e{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new yA(this,"async_queue_retry"),this.iu=()=>{const e=s0();e&&V("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=s0();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=s0();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new Wn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return P(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!Da(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,Tn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=VA.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&le()}verifyOperationInProgress(){}uu(){var t=this;return P(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}class jt extends Qp{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new B_e,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rz(this),this._firestoreClient.terminate()}}function H_e(n,t){const i="string"==typeof n?n:t||"(default)",r=function J$(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}("object"==typeof n?n:tH(),"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(n=>{const t=(n=>{var t,e;return null===(e=null===(t=Rv())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]})(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),i]:[t.substring(0,e),i]})("firestore");s&&function L_e(n,t,e,i={}){var r;const s=(n=it(n,Qp))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Sr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=ni.MOCK_USER;else{a=function Zle(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mv(JSON.stringify({alg:"none",type:"JWT"})),Mv(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new $(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ni(c)}n._authCredentials=new Npe(new BG(a,l))}}(r,...s)}return r}function Dn(n){return n._firestoreClient||Rz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Rz(n){var t,e,i;const r=n._freezeSettings(),s=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new dge(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Sz(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new C_e(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class Kl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kl(qn.fromBase64String(t))}catch(e){throw new $(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Kl(qn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Dd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new $(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Lz{constructor(t){this._methodName=t}}class SI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new $(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new $(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Me(this._lat,t._lat)||Me(this._long,t._long)}}const U_e=/^__.*__$/;class z_e{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new No(t,this.data,this.fieldMask,e,this.fieldTransforms):new sd(t,this.data,e,this.fieldTransforms)}}function Vz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class f0{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new f0(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return g0(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(Vz(this.Iu)&&U_e.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class j_e{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Yp(t)}pu(t,e,i,r=!1){return new f0({Iu:t,methodName:e,gu:i,path:tn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sd(n){const t=n._freezeSettings(),e=Yp(n._databaseId);return new j_e(n._databaseId,!!t.ignoreUndefinedProperties,e)}function EI(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);II("Data must be an object, but it was:",o,i);const a=Uz(i,o);let l,c;if(s.merge)l=new ar(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=eg(t,d,e);if(!o.contains(h))throw new $(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);jz(u,h)||u.push(h)}l=new ar(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new z_e(new mi(a),l,c)}function Xl(n,t){if(zz(n=bo(n)))return II("Unsupported field value:",t,n),Uz(n,t);if(n instanceof Lz)return function(i,r){if(!Vz(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Xl(a,r.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=bo(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return RU(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=cn.fromDate(i);return{timestampValue:ad(r.serializer,s)}}if(i instanceof cn){const s=new cn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ad(r.serializer,s)}}if(i instanceof SI)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Kl)return{bytesValue:e4(r.serializer,i._byteString)};if(i instanceof Cn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qE(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${h0(i)}`)}(n,t)}function Uz(n,t){const e={};return tU(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sa(n,(i,r)=>{const s=Xl(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function zz(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof cn||n instanceof SI||n instanceof Kl||n instanceof Cn||n instanceof Lz)}function II(n,t,e){if(!zz(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=h0(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function eg(n,t,e){if((t=bo(t))instanceof Dd)return t._internalPath;if("string"==typeof t)return p0(n,t);throw g0("Field path arguments must be of type string or ",n,!1,void 0,e)}const K_e=new RegExp("[~\\*/\\[\\]]");function p0(n,t,e){if(t.search(K_e)>=0)throw g0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Dd(...t.split("."))._internalPath}catch{throw g0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function g0(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new $(E.INVALID_ARGUMENT,a+n+l)}function jz(n,t){return n.some(e=>e.isEqual(t))}class kI{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new X_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(m0("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class X_e extends kI{data(){return super.data()}}function m0(n,t){return"string"==typeof t?p0(n,t):t instanceof Dd?t._internalPath:t._delegate._internalPath}class Z_e{convertValue(t,e="none"){switch(Ia(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Io(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw le()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Sa(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new SI(mn(t.latitude),mn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Ny(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(wp(t));default:return null}}convertTimestamp(t){const e=Ea(t);return new cn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ut.fromString(t);ge(u4(i));const r=new Fl(i.get(1),i.get(3)),s=new Z(i.popFirst(5));return r.isEqual(e)||Tn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}class Ql{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ad extends kI{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new x0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(m0("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class x0 extends Ad{data(t={}){return super.data(t)}}class Id{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ql(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new x0(this._firestore,this._userDataWriter,i.key,i,new Ql(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new x0(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ql(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new x0(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ql(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:eve(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function eve(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}class Va extends Z_e{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Cn(this.firestore,null,e)}}function tve(n){n=it(n,_i);const t=it(n.firestore,jt),e=Dn(t),i=new Va(t);return function Wz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new $(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),Dz(e,n._query).then(r=>new Id(t,i,n,r))}function nve(n,t){const e=it(n.firestore,jt),i=function V_e(n,t,...e){if(n=bo(n),1===arguments.length&&(t=HG.newId()),CI("doc","path",t),n instanceof Qp){const i=ut.fromString(t,...e);return Az(i),new Cn(n,null,new Z(i))}{if(!(n instanceof Cn||n instanceof Ws))throw new $(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(t,...e));return Az(i),new Cn(n.firestore,n instanceof Ws?n.converter:null,new Z(i))}}(n),r=function NI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}(n.converter,t);return function ng(n,t){return function(i,r){const s=new Wn;return i.asyncQueue.enqueueAndForget(P(function*(){return function r_e(n,t,e){return KA.apply(this,arguments)}(yield function TI(n){return d0(n).then(t=>t.syncEngine)}(i),r,s)})),s.promise}(Dn(n),t)}(e,[EI(Sd(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,nn.exists(!1))]).then(()=>i)}!function(t,e=!0){Wu=Fv,Pu(new bl("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new jt(new Rpe(i.getProvider("auth-internal")),new Lpe(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new $(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qr(VG,"4.4.0",t),qr(VG,"4.4.0","esm2017")}();class w0{constructor(t){return t}}const tj="firestore",OI=new ne("angularfire2.firestore-instances");function _ve(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new w0(i)}}const vve={provide:class gve{constructor(){return D1(tj)}},deps:[[new Hr,OI]]},yve={provide:w0,useFactory:function mve(n,t){const e=function dH(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(o=>o.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}(tj,n,t);return e&&new w0(e)},deps:[[new Hr,OI],Bf]};let xve=(()=>{class n{constructor(){qr("angularfire",C1.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Ae({type:n});static \u0275inj=Ce({providers:[yve,vve]})}return n})();function bve(n,...t){return{ngModule:xve,providers:[{provide:OI,useFactory:_ve(n),multi:!0,deps:[je,In,fH,pH,[new Hr,x3],[new Hr,Eue],...t]}]}}const Tve=Vf(nve,!0),nj=Vf(F_e,!0),wve=Vf(tve,!0),Cve=Vf(H_e,!0);let Dve=(()=>{class n{constructor(){this.firestore=se(w0)}saveData(){const e=nj(this.firestore,"students");Tve(e,{name:"Maria"})}daata(){var e=this;return P(function*(){const i=nj(e.firestore,"students");return(yield wve(i)).docs.map(s=>s.data())})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Sve=["addListener","removeListener"],Eve=["addEventListener","removeEventListener"],Ave=["on","off"];function Mi(n,t,e,i){if(qe(e)&&(i=e,e=void 0),i)return Mi(n,t,e).pipe(kC(i));const[r,s]=function Mve(n){return qe(n.addEventListener)&&qe(n.removeEventListener)}(n)?Eve.map(o=>a=>n[o](t,a,e)):function Ive(n){return qe(n.addListener)&&qe(n.removeListener)}(n)?Sve.map(ij(n,t)):function kve(n){return qe(n.on)&&qe(n.off)}(n)?Ave.map(ij(n,t)):[];if(!r&&Px(n))return Fn(o=>Mi(o,t,e))(Ln(n));if(!r)throw new TypeError("Invalid event target");return new mt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function ij(n,t){return e=>i=>n[e](t,i)}function LI(n=0,t,e=Sue){let i=-1;return null!=t&&($M(t)?e=t:i=t),new mt(r=>{let s=function Nve(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:Rve}=Array;function rj(n){return 1===n.length&&Rve(n[0])?n[0]:n}const oj=new mt(Lt);function C0(...n){const t=Zg(n),e=rj(n);return e.length?new mt(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)Ln(e[o]).subscribe(Ft(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Lr}function FI(...n){const t=Zg(n);return Jt((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Ln(n[l]).subscribe(Ft(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Or))&&(o=null))},Lt));e.subscribe(Ft(i,l=>{if(a){const c=[l,...s];i.next(t?t(...c):c)}}))})}const Md=new ne("CallSetDisabledState",{providedIn:"root",factory:()=>k0}),k0="always";let Yj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ae({type:n});static#n=this.\u0275inj=Ce({})}return n})(),Oye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ae({type:n});static#n=this.\u0275inj=Ce({imports:[Yj]})}return n})(),Fye=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Md,useValue:e.callSetDisabledState??k0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ae({type:n});static#n=this.\u0275inj=Ce({imports:[Oye]})}return n})();Math,Math,Math;const W0e=["*"];function q0e(n,t){if(1&n){const e=Gn();k(0,"li",6),he("click",function(){const s=Et(e).$implicit,o=O();return o.focus(),At(o.select(s.id,o.NgbSlideEventSource.INDICATOR))}),M()}if(2&n){const e=t.$implicit,i=O();Ct("active",e.id===i.activeId),ue("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===i.activeId)}}function Y0e(n,t){}function K0e(n,t){if(1&n&&(k(0,"div",7)(1,"span",8),oa(2,9),M(),B(3,Y0e,0,0,"ng-template",10),M()),2&n){const e=t.$implicit,i=t.index,r=t.count;N("id","slide-"+e.id),A(2),qT(i+1)(r),function nF(n){!function oZ(n,t,e){if(Kh>0){const i=n.data[e];GL(n,t,Array.isArray(i)?i:i.update,ro()-Kh-1,Yh)}Yh=0,Kh=0}(ct(),L(),n+Ze)}(2),A(1),N("ngTemplateOutlet",e.tplRef)}}function X0e(n,t){if(1&n){const e=Gn();k(0,"a",11),he("click",function(){return Et(e),At(O().arrowLeft())}),Fe(1,"span",12),k(2,"span",8),oa(3,13),M()()}}function Q0e(n,t){if(1&n){const e=Gn();k(0,"a",14),he("click",function(){return Et(e),At(O().arrowRight())}),Fe(1,"span",15),k(2,"span",8),oa(3,16),M()()}}const uxe=["dialog"];function nc(n){return null!=n}function Ld(n){return(n||document.body).getBoundingClientRect()}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const A5={animation:!0,transitionTimerDelayMs:5},sbe=()=>{},{transitionTimerDelayMs:obe}=A5,fg=new Map,Xi=(n,t,e,i)=>{let r=i.context||{};const s=fg.get(t);if(s)switch(i.runningTransition){case"continue":return Lr;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),fg.delete(t)}const o=e(t,i.animation,r)||sbe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),be(void 0).pipe(function ibe(n){return t=>new mt(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new Bt,l=new Bt,c=a.pipe(function Ove(...n){return t=>gf(t,be(...n))}(!0));fg.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function rbe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const d=Mi(t,"transitionend").pipe(Nn(c),Di(({target:f})=>f===t));(function sj(...n){return 1===(n=rj(n)).length?Ln(n[0]):new mt(function Pve(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(Ln(n[i]).subscribe(Ft(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(LI(u+obe).pipe(Nn(c)),d,l).pipe(Nn(c)).subscribe(()=>{fg.delete(t),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let $0=(()=>{class n{constructor(){this.animation=A5.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi]]}),n})(),O5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi]]}),n})(),F5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({}),n})();var Fd=function(n){return n.START="start",n.END="end",n}(Fd||{});const V5=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),pg=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},H0=n=>{pg(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},fbe=(n,t,{direction:e})=>{const{classList:i}=n;return t?(V5(n)?pg(i):(i.add("carousel-item-"+(e===Fd.START?"next":"prev")),Ld(n),i.add("carousel-item-"+e)),()=>{H0(i),i.add("active")}):(pg(i),H0(i),void i.add("active"))},pbe=(n,t,{direction:e})=>{const{classList:i}=n;return t?(V5(n)?pg(i):i.add("carousel-item-"+e),()=>{H0(i),i.remove("active")}):(pg(i),H0(i),void i.remove("active"))};let gbe=(()=>{class n{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(z($0))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mbe=0,yk=(()=>{class n{constructor(e){this.tplRef=e,this.id="ngb-slide-"+mbe++,this.slid=new q}}return n.\u0275fac=function(e){return new(e||n)(x(fn))},n.\u0275dir=J({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),B5=(()=>{class n{constructor(e,i,r,s,o){this._platformId=i,this._ngZone=r,this._cd=s,this._container=o,this.NgbSlideEventSource=gg,this._destroy$=new Bt,this._interval$=new Bn(0),this._mouseHover$=new Bn(!1),this._focused$=new Bn(!1),this._pauseOnHover$=new Bn(!1),this._pauseOnFocus$=new Bn(!1),this._pause$=new Bn(!1),this._wrap$=new Bn(!1),this.slide=new q,this.slid=new q,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(gg.ARROW_LEFT)}arrowRight(){this.focus(),this.next(gg.ARROW_RIGHT)}ngAfterContentInit(){ca(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=pf([this.slide.pipe(we(i=>i.current),cv(this.activeId)),this._wrap$,this.slides.changes.pipe(cv(null))]).pipe(we(([i,r])=>{const s=this.slides.toArray(),o=this._getSlideIdxById(i);return r?s.length>1:o<s.length-1}),tm());pf([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe(we(([i,r,s,o,a,l,c])=>i||r&&s||o&&a||!c?0:l),tm(),hr(i=>i>0?LI(i,i):oj),Nn(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(gg.TIMER)))}),this.slides.changes.pipe(Nn(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(e=>(n=>{fg.get(n)?.complete()})(this._getSlideElement(e))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(Jn(1)).subscribe(()=>{for(const{id:e}of this.slides){const i=this._getSlideElement(e);e===this.activeId?i.classList.add("active"):i.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,i){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),i)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),Fd.END,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),Fd.START,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,i,r){const s=this._transitionIds;if(s&&(s[0]!==e||s[1]!==this.activeId))return;let o=this._getSlideById(e);if(o&&o.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:o.id,direction:i,paused:this._pause$.value,source:r});const a={animation:this.animation,runningTransition:"stop",context:{direction:i}},l=[],c=this._getSlideById(this.activeId);if(c){const f=Xi(this._ngZone,this._getSlideElement(c.id),pbe,a);f.subscribe(()=>{c.slid.emit({isShown:!1,direction:i,source:r})}),l.push(f)}const u=this.activeId;this.activeId=o.id;const d=this._getSlideById(this.activeId),h=Xi(this._ngZone,this._getSlideElement(o.id),fbe,a);h.subscribe(()=>{d?.slid.emit({isShown:!0,direction:i,source:r})}),l.push(h),C0(...l).pipe(Jn(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:u,current:o.id,direction:i,paused:this._pause$.value,source:r})})}this._cd.markForCheck()}_getSlideEventDirection(e,i){return this._getSlideIdxById(e)>this._getSlideIdxById(i)?Fd.END:Fd.START}_getSlideById(e){return this.slides.find(i=>i.id===e)||null}_getSlideIdxById(e){const i=this._getSlideById(e);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(e){const i=this.slides.toArray(),r=this._getSlideIdxById(e);return r===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[r+1].id}_getPrevSlide(e){const i=this.slides.toArray(),r=this._getSlideIdxById(e);return 0===r?this.wrap?i[i.length-1].id:i[0].id:i[r-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return n.\u0275fac=function(e){return new(e||n)(x(gbe),x(Hi),x(je),x(ji),x(tt))},n.\u0275cmp=We({type:n,selectors:[["ngb-carousel"]],contentQueries:function(e,i,r){if(1&e&&yn(r,yk,4),2&e){let s;It(s=kt())&&(i.slides=s)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,i){1&e&&he("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&e&&(ue("aria-activedescendant","slide-"+i.activeId),Zn("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let t,e,i;return t=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],t,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(e,i){1&e&&(k(0,"ol",0),B(1,q0e,1,5,"li",1),M(),k(2,"div",2),B(3,K0e,4,4,"div",3),M(),B(4,X0e,4,0,"a",4),B(5,Q0e,4,0,"a",5)),2&e&&(Ct("visually-hidden",!i.showNavigationIndicators),A(1),N("ngForOf",i.slides),A(2),N("ngForOf",i.slides),A(1),N("ngIf",i.showNavigationArrows),A(1),N("ngIf",i.showNavigationArrows))},dependencies:[Ci,yu,zn],encapsulation:2,changeDetection:0}),n})();var gg=function(n){return n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",n}(gg||{});let $5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi]]}),n})(),H5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({}),n})();var vi=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(vi||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const U5=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function z5(n){const t=Array.from(n.querySelectorAll(U5)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Z5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi,Fye]]}),n})(),nW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({}),n})();class sc{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let Qbe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Jn(1)).subscribe(()=>{Xi(this._zone,this._el.nativeElement,(e,i)=>{i&&Ld(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Xi(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(x(tt),x(je))},n.\u0275cmp=We({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(sa("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Ct("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class iW{close(t){}dismiss(t){}}class Zbe{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Bt,this._dismissed=new Bt,this._hidden=new Bt,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Nn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Nn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function tbe(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():be(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),C0(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var wk=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(wk||{});let Jbe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Bt,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new q,this.shown=new Bt,this.hidden=new Bt}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Jn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=C0(Xi(this._zone,e,()=>e.classList.remove("show"),i),Xi(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};C0(Xi(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Ld(s),s.classList.add("show")},e),Xi(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Mi(e,"keydown").pipe(Nn(this._closed$),Di(r=>r.which===vi.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(wk.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Mi(this._dialogEl.nativeElement,"mousedown").pipe(Nn(this._closed$),jn(()=>i=!1),hr(()=>Mi(e,"mouseup").pipe(Nn(this._closed$),Jn(1))),Di(({target:r})=>e===r)).subscribe(()=>{i=!0}),Mi(e,"click").pipe(Nn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(wk.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=z5(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Xi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(x(kn),x(tt),x(je))},n.\u0275cmp=We({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&uo(uxe,7),2&e){let r;It(r=kt())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(ue("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),sa("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Ct("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:W0e,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(h_(),k(0,"div",0,1)(2,"div",2),f_(3),M()()),2&e&&sa("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),eTe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}}return n.\u0275fac=function(e){return new(e||n)(z(kn))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tTe=(()=>{class n{constructor(e,i,r,s,o,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new Bt,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new q,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Mi(t,"focusin").pipe(Nn(e),we(s=>s.target));Mi(t,"keydown").pipe(Nn(e),Di(s=>s.which===vi.Tab),FI(r)).subscribe(([s,o])=>{const[a,l]=z5(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Mi(t,"click").pipe(Nn(e),FI(r),we(s=>s[1])).subscribe(s=>s.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,s){const o=s.container instanceof HTMLElement?s.container:nc(s.container)?this._document.querySelector(s.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.hide(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const u=new iW,d=this._getContentRef(e,s.injector||i,r,u,s);let h=!1!==s.backdrop?this._attachBackdrop(e,o):void 0,f=this._attachWindowComponent(e,o,d),p=new Zbe(f,d,h,s.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(f),p.result.then(l,l),p.result.then(c,c),u.close=m=>{p.close(m)},u.dismiss=m=>{p.dismiss(m)},this._applyWindowOptions(f.instance,s),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,s),h.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(Qbe).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let o=e.resolveComponentFactory(Jbe).create(this._injector,r.nodes);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{nc(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{nc(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,o){return r?r instanceof fn?this._createFromTemplateRef(r,s):function E5(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new sc([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new sc([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new sc([[i]])}_createFromComponent(e,i,r,s,o){const a=e.resolveComponentFactory(r),l=In.create({providers:[{provide:iW,useValue:s}],parent:i}),c=a.create(l),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new sc([[u]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(z(fo),z(In),z(kn),z(eTe),z(Qc),z(je))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nTe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(z($0))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iTe=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(z(Kc),z(In),z(tTe),z(nTe))},n.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({providers:[iTe]}),n})(),lW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi]]}),n})(),mW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi]]}),n})(),vW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi]]}),n})(),yW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi]]}),n})(),xW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi]]}),n})(),bW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi]]}),n})(),TW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi]]}),n})(),wW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({}),n})();new ne("live announcer delay",{providedIn:"root",factory:function mTe(){return 100}});let CW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi]]}),n})();const _Te=[P5,O5,F5,$5,H5,Z5,nW,rW,lW,mW,vW,yW,xW,bW,TW,wW,CW];let vTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[_Te,P5,O5,F5,$5,H5,Z5,nW,rW,lW,mW,vW,yW,xW,bW,TW,wW,CW]}),n})();class Ek{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class DW extends Ek{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class yTe extends Ek{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class xTe extends Ek{constructor(t){super(),this.element=t instanceof tt?t.nativeElement:t}}class bTe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof DW?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof yTe?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof xTe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class TTe extends bTe{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||In.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}function CTe(){}function Ak(n){return null==n?CTe:function(){return this.querySelector(n)}}function ETe(){return[]}function SW(n){return null==n?ETe:function(){return this.querySelectorAll(n)}}function EW(n){return function(){return this.matches(n)}}function AW(n){return function(t){return t.matches(n)}}var kTe=Array.prototype.find;function NTe(){return this.firstElementChild}var PTe=Array.prototype.filter;function OTe(){return Array.from(this.children)}function IW(n){return new Array(n.length)}function Y0(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function HTe(n,t,e,i,r,s){for(var a,o=0,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):e[o]=new Y0(n,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a)}function GTe(n,t,e,i,r,s,o){var a,l,f,c=new Map,u=t.length,d=s.length,h=new Array(u);for(a=0;a<u;++a)(l=t[a])&&(h[a]=f=o.call(l,l.__data__,a,t)+"",c.has(f)?r[a]=l:c.set(f,l));for(a=0;a<d;++a)f=o.call(n,s[a],a,s)+"",(l=c.get(f))?(i[a]=l,l.__data__=s[a],c.delete(f)):e[a]=new Y0(n,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(r[a]=l)}function UTe(n){return n.__data__}function jTe(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function QTe(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}Y0.prototype={constructor:Y0,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var Ik="http://www.w3.org/1999/xhtml";const kW={svg:"http://www.w3.org/2000/svg",xhtml:Ik,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K0(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),kW.hasOwnProperty(t)?{space:kW[t],local:n}:n}function rwe(n){return function(){this.removeAttribute(n)}}function swe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function owe(n,t){return function(){this.setAttribute(n,t)}}function awe(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function lwe(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function cwe(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function MW(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function dwe(n){return function(){this.style.removeProperty(n)}}function hwe(n,t,e){return function(){this.style.setProperty(n,t,e)}}function fwe(n,t,e){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function Bd(n,t){return n.style.getPropertyValue(t)||MW(n).getComputedStyle(n,null).getPropertyValue(t)}function gwe(n){return function(){delete this[n]}}function mwe(n,t){return function(){this[n]=t}}function _we(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function NW(n){return n.trim().split(/^|\s+/)}function kk(n){return n.classList||new RW(n)}function RW(n){this._node=n,this._names=NW(n.getAttribute("class")||"")}function PW(n,t){for(var e=kk(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function OW(n,t){for(var e=kk(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function ywe(n){return function(){PW(this,n)}}function xwe(n){return function(){OW(this,n)}}function bwe(n,t){return function(){(t.apply(this,arguments)?PW:OW)(this,n)}}function wwe(){this.textContent=""}function Cwe(n){return function(){this.textContent=n}}function Dwe(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function Ewe(){this.innerHTML=""}function Awe(n){return function(){this.innerHTML=n}}function Iwe(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function Mwe(){this.nextSibling&&this.parentNode.appendChild(this)}function Rwe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Owe(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Ik&&t.documentElement.namespaceURI===Ik?t.createElement(n):t.createElementNS(e,n)}}function Lwe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function LW(n){var t=K0(n);return(t.local?Lwe:Owe)(t)}function Vwe(){return null}function $we(){var n=this.parentNode;n&&n.removeChild(this)}function Gwe(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Uwe(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Ywe(n){return function(){var t=this.__on;if(t){for(var s,e=0,i=-1,r=t.length;e<r;++e)s=t[e],n.type&&s.type!==n.type||s.name!==n.name?t[++i]=s:this.removeEventListener(s.type,s.listener,s.options);++i?t.length=i:delete this.__on}}}function Kwe(n,t,e){return function(){var r,i=this.__on,s=function Wwe(n){return function(t){n.call(this,t,this.__data__)}}(t);if(i)for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=e),void(r.value=t);this.addEventListener(n.type,s,e),r={type:n.type,name:n.name,value:t,listener:s,options:e},i?i.push(r):this.__on=[r]}}function FW(n,t,e){var i=MW(n),r=i.CustomEvent;"function"==typeof r?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function Qwe(n,t){return function(){return FW(this,n,t)}}function Zwe(n,t){return function(){return FW(this,n,t.apply(this,arguments))}}RW.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var VW=[null];function kr(n,t){this._groups=n,this._parents=t}function BW(){return new kr([[document.documentElement]],VW)}kr.prototype=BW.prototype={constructor:kr,select:function DTe(n){"function"!=typeof n&&(n=Ak(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,c,s=t[r],o=s.length,a=i[r]=new Array(o),u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new kr(i,this._parents)},selectAll:function ITe(n){n="function"==typeof n?function ATe(n){return function(){return function STe(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):SW(n);for(var t=this._groups,e=t.length,i=[],r=[],s=0;s<e;++s)for(var l,o=t[s],a=o.length,c=0;c<a;++c)(l=o[c])&&(i.push(n.call(l,l.__data__,c,o)),r.push(l));return new kr(i,r)},selectChild:function RTe(n){return this.select(null==n?NTe:function MTe(n){return function(){return kTe.call(this.children,n)}}("function"==typeof n?n:AW(n)))},selectChildren:function FTe(n){return this.selectAll(null==n?OTe:function LTe(n){return function(){return PTe.call(this.children,n)}}("function"==typeof n?n:AW(n)))},filter:function VTe(n){"function"!=typeof n&&(n=EW(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new kr(i,this._parents)},data:function zTe(n,t){if(!arguments.length)return Array.from(this,UTe);var e=t?GTe:HTe,i=this._parents,r=this._groups;"function"!=typeof n&&(n=function $Te(n){return function(){return n}}(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],d=r[c],h=d.length,f=jTe(n.call(u,u&&u.__data__,c,i)),p=f.length,m=a[c]=new Array(p),g=o[c]=new Array(p);e(u,d,m,g,l[c]=new Array(h),f,t);for(var b,D,_=0,y=0;_<p;++_)if(b=m[_]){for(_>=y&&(y=_+1);!(D=g[y])&&++y<p;);b._next=D||null}}return(o=new kr(o,i))._enter=a,o._exit=l,o},enter:function BTe(){return new kr(this._enter||this._groups.map(IW),this._parents)},exit:function WTe(){return new kr(this._exit||this._groups.map(IW),this._parents)},join:function qTe(n,t,e){var i=this.enter(),r=this,s=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=t&&(r=t(r))&&(r=r.selection()),null==e?s.remove():e(s),i&&r?i.merge(r).order():r},merge:function YTe(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,r=e.length,o=Math.min(r,i.length),a=new Array(r),l=0;l<o;++l)for(var f,c=e[l],u=i[l],d=c.length,h=a[l]=new Array(d),p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<r;++l)a[l]=e[l];return new kr(a,this._parents)},selection:function tCe(){return this},order:function KTe(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var o,i=n[t],r=i.length-1,s=i[r];--r>=0;)(o=i[r])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function XTe(n){function t(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}n||(n=QTe);for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s){for(var c,o=e[s],a=o.length,l=r[s]=new Array(a),u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new kr(r,this._parents).order()},call:function ZTe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function JTe(){return Array.from(this)},node:function ewe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function twe(){let n=0;for(const t of this)++n;return n},empty:function nwe(){return!this.node()},each:function iwe(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a,r=t[e],s=0,o=r.length;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this},attr:function uwe(n,t){var e=K0(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==t?e.local?swe:rwe:"function"==typeof t?e.local?cwe:lwe:e.local?awe:owe)(e,t))},style:function pwe(n,t,e){return arguments.length>1?this.each((null==t?dwe:"function"==typeof t?fwe:hwe)(n,t,e??"")):Bd(this.node(),n)},property:function vwe(n,t){return arguments.length>1?this.each((null==t?gwe:"function"==typeof t?_we:mwe)(n,t)):this.node()[n]},classed:function Twe(n,t){var e=NW(n+"");if(arguments.length<2){for(var i=kk(this.node()),r=-1,s=e.length;++r<s;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof t?bwe:t?ywe:xwe)(e,t))},text:function Swe(n){return arguments.length?this.each(null==n?wwe:("function"==typeof n?Dwe:Cwe)(n)):this.node().textContent},html:function kwe(n){return arguments.length?this.each(null==n?Ewe:("function"==typeof n?Iwe:Awe)(n)):this.node().innerHTML},raise:function Nwe(){return this.each(Mwe)},lower:function Pwe(){return this.each(Rwe)},append:function Fwe(n){var t="function"==typeof n?n:LW(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function Bwe(n,t){var e="function"==typeof n?n:LW(n),i=null==t?Vwe:"function"==typeof t?t:Ak(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Hwe(){return this.each($we)},clone:function zwe(n){return this.select(n?Uwe:Gwe)},datum:function jwe(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function Xwe(n,t,e){var r,o,i=function qwe(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}(n+""),s=i.length;if(!(arguments.length<2)){for(a=t?Kwe:Ywe,r=0;r<s;++r)this.each(a(i[r],t,e));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function Jwe(n,t){return this.each(("function"==typeof t?Zwe:Qwe)(n,t))},[Symbol.iterator]:function*eCe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var o,i=n[t],r=0,s=i.length;r<s;++r)(o=i[r])&&(yield o)}};const vg=BW;var nCe={value:()=>{}};function $W(){for(var i,n=0,t=arguments.length,e={};n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new X0(e)}function X0(n){this._=n}function rCe(n,t){for(var r,e=0,i=n.length;e<i;++e)if((r=n[e]).name===t)return r.value}function HW(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=nCe,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:t,value:e}),n}X0.prototype=$W.prototype={constructor:X0,on:function(n,t){var r,e=this._,i=function iCe(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}(n+"",e),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(n=i[s]).type)e[r]=HW(e[r],n.name,t);else if(null==t)for(r in e)e[r]=HW(e[r],n.name,null);return this}for(;++s<o;)if((r=(n=i[s]).type)&&(r=rCe(e[r],n.name)))return r},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new X0(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var r,s,e=new Array(r),i=0;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(s=this._[n]).length;i<r;++i)s[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(t,e)}};const GW=$W;function Rk(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function UW(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function yg(){}var Q0=1/.7,$d="\\s*([+-]?\\d+)\\s*",bg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aCe=/^#([0-9a-f]{3,8})$/,lCe=new RegExp(`^rgb\\(${$d},${$d},${$d}\\)$`),cCe=new RegExp(`^rgb\\(${Xs},${Xs},${Xs}\\)$`),uCe=new RegExp(`^rgba\\(${$d},${$d},${$d},${bg}\\)$`),dCe=new RegExp(`^rgba\\(${Xs},${Xs},${Xs},${bg}\\)$`),hCe=new RegExp(`^hsl\\(${bg},${Xs},${Xs}\\)$`),fCe=new RegExp(`^hsla\\(${bg},${Xs},${Xs},${bg}\\)$`),zW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function jW(){return this.rgb().formatHex()}function WW(){return this.rgb().formatRgb()}function oc(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=aCe.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?qW(t):3===e?new cr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?Z0(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?Z0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=lCe.exec(n))?new cr(t[1],t[2],t[3],1):(t=cCe.exec(n))?new cr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=uCe.exec(n))?Z0(t[1],t[2],t[3],t[4]):(t=dCe.exec(n))?Z0(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=hCe.exec(n))?XW(t[1],t[2]/100,t[3]/100,1):(t=fCe.exec(n))?XW(t[1],t[2]/100,t[3]/100,t[4]):zW.hasOwnProperty(n)?qW(zW[n]):"transparent"===n?new cr(NaN,NaN,NaN,0):null}function qW(n){return new cr(n>>16&255,n>>8&255,255&n,1)}function Z0(n,t,e,i){return i<=0&&(n=t=e=NaN),new cr(n,t,e,i)}function J0(n,t,e,i){return 1===arguments.length?function mCe(n){return n instanceof yg||(n=oc(n)),n?new cr((n=n.rgb()).r,n.g,n.b,n.opacity):new cr}(n):new cr(n,t,e,i??1)}function cr(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}function YW(){return`#${lc(this.r)}${lc(this.g)}${lc(this.b)}`}function KW(){const n=ex(this.opacity);return`${1===n?"rgb(":"rgba("}${ac(this.r)}, ${ac(this.g)}, ${ac(this.b)}${1===n?")":`, ${n})`}`}function ex(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function ac(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function lc(n){return((n=ac(n))<16?"0":"")+n.toString(16)}function XW(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new ms(n,t,e,i)}function QW(n){if(n instanceof ms)return new ms(n.h,n.s,n.l,n.opacity);if(n instanceof yg||(n=oc(n)),!n)return new ms;if(n instanceof ms)return n;var t=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),s=Math.max(t,e,i),o=NaN,a=s-r,l=(s+r)/2;return a?(o=t===s?(e-i)/a+6*(e<i):e===s?(i-t)/a+2:(t-e)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new ms(o,a,l,n.opacity)}function ms(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}function ZW(n){return(n=(n||0)%360)<0?n+360:n}function tx(n){return Math.max(0,Math.min(1,n||0))}function Pk(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function JW(n,t,e,i,r){var s=n*n,o=s*n;return((1-3*n+3*s-o)*t+(4-6*s+3*o)*e+(1+3*n+3*s-3*o)*i+o*r)/6}Rk(yg,oc,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:jW,formatHex:jW,formatHex8:function pCe(){return this.rgb().formatHex8()},formatHsl:function gCe(){return QW(this).formatHsl()},formatRgb:WW,toString:WW}),Rk(cr,J0,UW(yg,{brighter(n){return n=null==n?Q0:Math.pow(Q0,n),new cr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new cr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new cr(ac(this.r),ac(this.g),ac(this.b),ex(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YW,formatHex:YW,formatHex8:function _Ce(){return`#${lc(this.r)}${lc(this.g)}${lc(this.b)}${lc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:KW,toString:KW})),Rk(ms,function vCe(n,t,e,i){return 1===arguments.length?QW(n):new ms(n,t,e,i??1)},UW(yg,{brighter(n){return n=null==n?Q0:Math.pow(Q0,n),new ms(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new ms(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new cr(Pk(n>=240?n-240:n+120,r,i),Pk(n,r,i),Pk(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new ms(ZW(this.h),tx(this.s),tx(this.l),ex(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=ex(this.opacity);return`${1===n?"hsl(":"hsla("}${ZW(this.h)}, ${100*tx(this.s)}%, ${100*tx(this.l)}%${1===n?")":`, ${n})`}`}}));const Ok=n=>()=>n;function t8(n,t){var e=t-n;return e?function e8(n,t){return function(e){return n+e*t}}(n,e):Ok(isNaN(n)?t:n)}const nx=function n(t){var e=function TCe(n){return 1==(n=+n)?t8:function(t,e){return e-t?function bCe(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}(t,e,n):Ok(isNaN(t)?e:t)}}(t);function i(r,s){var o=e((r=J0(r)).r,(s=J0(s)).r),a=e(r.g,s.g),l=e(r.b,s.b),c=t8(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=n,i}(1);function n8(n){return function(t){var o,a,e=t.length,i=new Array(e),r=new Array(e),s=new Array(e);for(o=0;o<e;++o)a=J0(t[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=n(i),r=n(r),s=n(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}function i8(n,t){var o,e=t?t.length:0,i=n?Math.min(e,n.length):0,r=new Array(i),s=new Array(e);for(o=0;o<i;++o)r[o]=ix(n[o],t[o]);for(;o<e;++o)s[o]=t[o];return function(a){for(o=0;o<i;++o)s[o]=r[o](a);return s}}function wCe(n,t){var e=new Date;return n=+n,t=+t,function(i){return e.setTime(n*(1-i)+t*i),e}}function _s(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function CCe(n,t){var r,e={},i={};for(r in(null===n||"object"!=typeof n)&&(n={}),(null===t||"object"!=typeof t)&&(t={}),t)r in n?e[r]=ix(n[r],t[r]):i[r]=t[r];return function(s){for(r in e)i[r]=e[r](s);return i}}n8(function yCe(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=n[i],s=n[i+1];return JW((e-i/t)*t,i>0?n[i-1]:2*r-s,r,s,i<t-1?n[i+2]:2*s-r)}}),n8(function xCe(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t);return JW((e-i/t)*t,n[(i+t-1)%t],n[i%t],n[(i+1)%t],n[(i+2)%t])}});var Lk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fk=new RegExp(Lk.source,"g");function r8(n,t){var i,r,s,e=Lk.lastIndex=Fk.lastIndex=0,o=-1,a=[],l=[];for(n+="",t+="";(i=Lk.exec(n))&&(r=Fk.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:_s(i,r)})),e=Fk.lastIndex;return e<t.length&&(s=t.slice(e),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?function SCe(n){return function(t){return n(t)+""}}(l[0].x):function DCe(n){return function(){return n}}(t):(t=l.length,function(c){for(var d,u=0;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function ECe(n,t){t||(t=[]);var r,e=n?Math.min(t.length,n.length):0,i=t.slice();return function(s){for(r=0;r<e;++r)i[r]=n[r]*(1-s)+t[r]*s;return i}}function ix(n,t){var i,e=typeof t;return null==t||"boolean"===e?Ok(t):("number"===e?_s:"string"===e?(i=oc(t))?(t=i,nx):r8:t instanceof oc?nx:t instanceof Date?wCe:function ACe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(t)?ECe:Array.isArray(t)?i8:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?CCe:_s)(n,t)}var rx,Cg,Hd=0,Tg=0,wg=0,o8=1e3,sx=0,cc=0,ox=0,Dg="object"==typeof performance&&performance.now?performance:Date,a8="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Vk(){return cc||(a8(kCe),cc=Dg.now()+ox)}function kCe(){cc=0}function ax(){this._call=this._time=this._next=null}function l8(n,t,e){var i=new ax;return i.restart(n,t,e),i}function c8(){cc=(sx=Dg.now())+ox,Hd=Tg=0;try{!function MCe(){Vk(),++Hd;for(var t,n=rx;n;)(t=cc-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Hd}()}finally{Hd=0,function RCe(){for(var n,e,t=rx,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:rx=e);Cg=n,Bk(i)}(),cc=0}}function NCe(){var n=Dg.now(),t=n-sx;t>o8&&(ox-=t,sx=n)}function Bk(n){Hd||(Tg&&(Tg=clearTimeout(Tg)),n-cc>24?(n<1/0&&(Tg=setTimeout(c8,n-Dg.now()-ox)),wg&&(wg=clearInterval(wg))):(wg||(sx=Dg.now(),wg=setInterval(NCe,o8)),Hd=1,a8(c8)))}function u8(n,t,e){var i=new ax;return i.restart(r=>{i.stop(),n(r+t)},t=null==t?0:+t,e),i}ax.prototype=l8.prototype={constructor:ax,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?Vk():+e)+(null==t?0:+t),!this._next&&Cg!==this&&(Cg?Cg._next=this:rx=this,Cg=this),this._call=n,this._time=e,Bk()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bk())}};var PCe=GW("start","end","cancel","interrupt"),OCe=[],d8=0,lx=3;function ux(n,t,e,i,r,s){var o=n.__transition;if(o){if(e in o)return}else n.__transition={};!function LCe(n,t,e){var r,i=n.__transition;function o(c){var u,d,h,f;if(1!==e.state)return l();for(u in i)if((f=i[u]).name===e.name){if(f.state===lx)return u8(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete i[u])}if(u8(function(){e.state===lx&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=lx,r=new Array(h=e.tween.length),u=0,d=-1;u<h;++u)(f=e.tween[u].value.call(n,n.__data__,e.index,e.group))&&(r[++d]=f);r.length=d+1}}function a(c){for(var u=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=5,1),d=-1,h=r.length;++d<h;)r[d].call(n,u);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),l())}function l(){for(var c in e.state=6,e.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=e,e.timer=l8(function s(c){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=c&&o(c-e.delay)},0,e.time)}(n,e,{name:t,index:i,group:r,on:PCe,tween:OCe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:d8})}function Gk(n,t){var e=vs(n,t);if(e.state>d8)throw new Error("too late; already scheduled");return e}function Qs(n,t){var e=vs(n,t);if(e.state>lx)throw new Error("too late; already running");return e}function vs(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}var dx,p8=180/Math.PI,zk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function g8(n,t,e,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(l=n*e+t*i)&&(e-=n*l,i-=t*l),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,l/=a),n*i<t*e&&(n=-n,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,n)*p8,skewX:Math.atan(l)*p8,scaleX:o,scaleY:a}}function m8(n,t,e,i){function r(c){return c.length?c.pop()+" ":""}return function(c,u){var d=[],h=[];return c=n(c),u=n(u),function s(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push("translate(",null,t,null,e);p.push({i:m-4,x:_s(c,d)},{i:m-2,x:_s(u,h)})}else(d||h)&&f.push("translate("+d+t+h+e)}(c.translateX,c.translateY,u.translateX,u.translateY,d,h),function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(r(d)+"rotate(",null,i)-2,x:_s(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}(c.rotate,u.rotate,d,h),function a(c,u,d,h){c!==u?h.push({i:d.push(r(d)+"skewX(",null,i)-2,x:_s(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}(c.skewX,u.skewX,d,h),function l(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push(r(f)+"scale(",null,",",null,")");p.push({i:m-4,x:_s(c,d)},{i:m-2,x:_s(u,h)})}else(1!==d||1!==h)&&f.push(r(f)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var g,p=-1,m=h.length;++p<m;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var $Ce=m8(function VCe(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?zk:g8(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),HCe=m8(function BCe(n){return null!=n&&(dx||(dx=document.createElementNS("http://www.w3.org/2000/svg","g")),dx.setAttribute("transform",n),n=dx.transform.baseVal.consolidate())?g8((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):zk},", ",")",")");function GCe(n,t){var e,i;return function(){var r=Qs(this,n),s=r.tween;if(s!==e)for(var o=0,a=(i=e=s).length;o<a;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}r.tween=i}}function UCe(n,t,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var s=Qs(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:e},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function jk(n,t,e){var i=n._id;return n.each(function(){var r=Qs(this,i);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return vs(r,i).value[t]}}function _8(n,t){var e;return("number"==typeof t?_s:t instanceof oc?nx:(e=oc(t))?(t=e,nx):r8)(n,t)}function jCe(n){return function(){this.removeAttribute(n)}}function WCe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function qCe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=t(i=o,e)}}function YCe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=t(i=o,e)}}function KCe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttribute(n):(o=this.getAttribute(n))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function XCe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function e1e(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function JCe(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}(n,s)),e}return r._value=t,r}function t1e(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function ZCe(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}(n,s)),e}return r._value=t,r}function i1e(n,t){return function(){Gk(this,n).delay=+t.apply(this,arguments)}}function r1e(n,t){return t=+t,function(){Gk(this,n).delay=t}}function o1e(n,t){return function(){Qs(this,n).duration=+t.apply(this,arguments)}}function a1e(n,t){return t=+t,function(){Qs(this,n).duration=t}}var T1e=vg.prototype.constructor;function v8(n){return function(){this.style.removeProperty(n)}}var $1e=0;function Vo(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function y8(){return++$1e}var Bo=vg.prototype;Vo.prototype=function H1e(n){return vg().transition(n)}.prototype={constructor:Vo,select:function x1e(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=Ak(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var u,d,a=i[o],l=a.length,c=s[o]=new Array(l),h=0;h<l;++h)(u=a[h])&&(d=n.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,ux(c[h],t,e,h,c,vs(u,e)));return new Vo(s,this._parents,t,e)},selectAll:function b1e(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=SW(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var u,l=i[a],c=l.length,d=0;d<c;++d)if(u=l[d]){for(var f,h=n.call(u,u.__data__,d,l),p=vs(u,e),m=0,g=h.length;m<g;++m)(f=h[m])&&ux(f,t,e,m,h,p);s.push(h),o.push(u)}return new Vo(s,o,t,e)},selectChild:Bo.selectChild,selectChildren:Bo.selectChildren,filter:function f1e(n){"function"!=typeof n&&(n=EW(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Vo(i,this._parents,this._name,this._id)},merge:function p1e(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,s=Math.min(i,e.length),o=new Array(i),a=0;a<s;++a)for(var h,l=t[a],c=e[a],u=l.length,d=o[a]=new Array(u),f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<i;++a)o[a]=t[a];return new Vo(o,this._parents,this._name,this._id)},selection:function w1e(){return new T1e(this._groups,this._parents)},transition:function V1e(){for(var n=this._name,t=this._id,e=y8(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)if(l=o[c]){var u=vs(l,t);ux(l,n,e,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Vo(i,this._parents,n,e)},call:Bo.call,nodes:Bo.nodes,node:Bo.node,size:Bo.size,empty:Bo.empty,each:Bo.each,on:function _1e(n,t){var e=this._id;return arguments.length<2?vs(this.node(),e).on.on(n):this.each(function m1e(n,t,e){var i,r,s=function g1e(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?Gk:Qs;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(t,e),o.on=r}}(e,n,t))},attr:function QCe(n,t){var e=K0(n),i="transform"===e?HCe:_8;return this.attrTween(n,"function"==typeof t?(e.local?XCe:KCe)(e,i,jk(this,"attr."+n,t)):null==t?(e.local?WCe:jCe)(e):(e.local?YCe:qCe)(e,i,t))},attrTween:function n1e(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var i=K0(n);return this.tween(e,(i.local?e1e:t1e)(i,t))},style:function A1e(n,t,e){var i="transform"==(n+="")?$Ce:_8;return null==t?this.styleTween(n,function C1e(n,t){var e,i,r;return function(){var s=Bd(this,n),o=(this.style.removeProperty(n),Bd(this,n));return s===o?null:s===e&&o===i?r:r=t(e=s,i=o)}}(n,i)).on("end.style."+n,v8(n)):"function"==typeof t?this.styleTween(n,function S1e(n,t,e){var i,r,s;return function(){var o=Bd(this,n),a=e(this),l=a+"";return null==a&&(this.style.removeProperty(n),l=a=Bd(this,n)),o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}(n,i,jk(this,"style."+n,t))).each(function E1e(n,t){var e,i,r,a,s="style."+t,o="end."+s;return function(){var l=Qs(this,n),c=l.on,u=null==l.value[s]?a||(a=v8(t)):void 0;(c!==e||r!==u)&&(i=(e=c).copy()).on(o,r=u),l.on=i}}(this._id,n)):this.styleTween(n,function D1e(n,t,e){var i,s,r=e+"";return function(){var o=Bd(this,n);return o===r?null:o===i?s:s=t(i=o,e)}}(n,i,t),e).on("end.style."+n,null)},styleTween:function M1e(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function k1e(n,t,e){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&function I1e(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}(n,o,e)),i}return s._value=t,s}(n,t,e??""))},text:function P1e(n){return this.tween("text","function"==typeof n?function R1e(n){return function(){var t=n(this);this.textContent=t??""}}(jk(this,"text",n)):function N1e(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function F1e(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,function L1e(n){var t,e;function i(){var r=n.apply(this,arguments);return r!==e&&(t=(e=r)&&function O1e(n){return function(t){this.textContent=n.call(this,t)}}(r)),t}return i._value=n,i}(n))},remove:function y1e(){return this.on("end.remove",function v1e(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function zCe(n,t){var e=this._id;if(n+="",arguments.length<2){for(var o,i=vs(this.node(),e).tween,r=0,s=i.length;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((null==t?GCe:UCe)(e,n,t))},delay:function s1e(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?i1e:r1e)(t,n)):vs(this.node(),t).delay},duration:function l1e(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?o1e:a1e)(t,n)):vs(this.node(),t).duration},ease:function u1e(n){var t=this._id;return arguments.length?this.each(function c1e(n,t){if("function"!=typeof t)throw new Error;return function(){Qs(this,n).ease=t}}(t,n)):vs(this.node(),t).ease},easeVarying:function h1e(n){if("function"!=typeof n)throw new Error;return this.each(function d1e(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;Qs(this,n).ease=e}}(this._id,n))},end:function B1e(){var n,t,e=this,i=e._id,r=e.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--r&&s()}};e.each(function(){var c=Qs(this,i),u=c.on;u!==n&&((t=(n=u).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),0===r&&s()})},[Symbol.iterator]:Bo[Symbol.iterator]};var U1e={time:null,delay:0,duration:250,ease:function G1e(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function z1e(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}vg.prototype.interrupt=function FCe(n){return this.each(function(){!function Uk(n,t){var i,r,o,e=n.__transition,s=!0;if(e){for(o in t=null==t?null:t+"",e)(i=e[o]).name===t?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[o]):s=!1;s&&delete n.__transition}}(this,n)})},vg.prototype.transition=function j1e(n){var t,e;n instanceof Vo?(t=n._id,n=n._name):(t=y8(),(e=U1e).time=Vk(),n=null==n?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)(l=o[c])&&ux(l,n,t,c,o,e||z1e(l,t));return new Vo(i,this._parents,n,t)};Math;function Sg(n){return{type:n}}function Eg(n,t){return null==n||null==t?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function nDe(n,t){return null==n||null==t?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Zk(n){let t,e,i;function r(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}return 2!==n.length?(t=Eg,e=(a,l)=>Eg(n(a),l),i=(a,l)=>n(a)-l):(t=n===Eg||n===nDe?n:iDe,e=n,i=n),{left:r,center:function o(a,l,c=0,u=a.length){const d=r(a,l,c,u-1);return d>c&&i(a[d-1],l)>-i(a[d],l)?d-1:d},right:function s(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}}}function iDe(){return 0}["w","e"].map(Sg),["n","s"].map(Sg),["n","w","e","s","nw","ne","sw","se"].map(Sg);const rDe=Math.sqrt(50),sDe=Math.sqrt(10),oDe=Math.sqrt(2);function px(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=rDe?10:s>=sDe?5:s>=oDe?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(n*c),l=Math.round(t*c),a/c<n&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(n/c),l=Math.round(t/c),a*c<n&&++a,l*c>t&&--l),l<a&&.5<=e&&e<2?px(n,t,2*e):[a,l,c]}function Jk(n,t,e){return px(n=+n,t=+t,e=+e)[2]}function eM(n,t,e){e=+e;const i=(t=+t)<(n=+n),r=i?Jk(t,n,e):Jk(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}const Ho=1e3,es=6e4,Go=60*es,Uo=24*Go,tM=7*Uo,D8=30*Uo,nM=365*Uo,iM=new Date,rM=new Date;function Yn(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),t(s,1),n(s),s),r.round=s=>{const o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=(s,o)=>(t(s=new Date(+s),null==o?1:Math.floor(o)),s),r.range=(s,o,a)=>{const l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;let c;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=s=>Yn(o=>{if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),e&&(r.count=(s,o)=>(iM.setTime(+s),rM.setTime(+o),n(iM),n(rM),Math.floor(e(iM,rM))),r.every=s=>(s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?o=>i(o)%s==0:o=>r.count(0,o)%s==0):r:null)),r}const gx=Yn(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);gx.every=n=>(n=Math.floor(n),isFinite(n)&&n>0?n>1?Yn(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):gx:null);const zd=Yn(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*Ho)},(n,t)=>(t-n)/Ho,n=>n.getUTCSeconds()),sM=Yn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Ho)},(n,t)=>{n.setTime(+n+t*es)},(n,t)=>(t-n)/es,n=>n.getMinutes()),S8=Yn(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*es)},(n,t)=>(t-n)/es,n=>n.getUTCMinutes()),oM=Yn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Ho-n.getMinutes()*es)},(n,t)=>{n.setTime(+n+t*Go)},(n,t)=>(t-n)/Go,n=>n.getHours()),E8=Yn(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*Go)},(n,t)=>(t-n)/Go,n=>n.getUTCHours()),aM=Yn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*es)/Uo,n=>n.getDate()-1),A8=(Yn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Uo,n=>n.getUTCDate()-1),Yn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Uo,n=>Math.floor(n/Uo)));function uc(n){return Yn(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*es)/tM)}const lM=uc(0);function dc(n){return Yn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/tM)}uc(1),uc(2),uc(3),uc(4),uc(5),uc(6);const I8=dc(0),cM=(dc(1),dc(2),dc(3),dc(4),dc(5),dc(6),Yn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear()),n=>n.getMonth())),k8=Yn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear()),n=>n.getUTCMonth()),mx=Yn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());mx.every=n=>isFinite(n=Math.floor(n))&&n>0?Yn(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)}):null;const uM=Yn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());function M8(n,t,e,i,r,s){const o=[[zd,1,Ho],[zd,5,5e3],[zd,15,15e3],[zd,30,3e4],[s,1,es],[s,5,5*es],[s,15,15*es],[s,30,30*es],[r,1,Go],[r,3,3*Go],[r,6,6*Go],[r,12,12*Go],[i,1,Uo],[i,2,2*Uo],[e,1,tM],[t,1,D8],[t,3,3*D8],[n,1,nM]];function l(c,u,d){const h=Math.abs(u-c)/d,f=Zk(([,,g])=>g).right(o,h);if(f===o.length)return n.every(eM(c/nM,u/nM,d));if(0===f)return gx.every(Math.max(eM(c,u,d),1));const[p,m]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return p.every(m)}return[function a(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&"function"==typeof d.range?d:l(c,u,d),p=f?f.range(c,+u+1):[];return h?p.reverse():p},l]}uM.every=n=>isFinite(n=Math.floor(n))&&n>0?Yn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null;const[Yze,Kze]=M8(uM,k8,I8,A8,E8,S8),[xDe,bDe]=M8(mx,cM,lM,aM,oM,sM);var dM=new Date,hM=new Date;function zo(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=function(s){return n(s=new Date(+s)),s},r.ceil=function(s){return n(s=new Date(s-1)),t(s,1),n(s),s},r.round=function(s){var o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=function(s,o){return t(s=new Date(+s),null==o?1:Math.floor(o)),s},r.range=function(s,o,a){var c,l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=function(s){return zo(function(o){if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););})},e&&(r.count=function(s,o){return dM.setTime(+s),hM.setTime(+o),n(dM),n(hM),Math.floor(e(dM,hM))},r.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?function(o){return i(o)%s==0}:function(o){return r.count(0,o)%s==0}):r:null}),r}const Ag=864e5,N8=7*Ag;function hc(n){return zo(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/N8})}var R8=hc(0),_x=hc(1),jd=(hc(2),hc(3),hc(4)),P8=(hc(5),hc(6),zo(function(n){n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t-n)/Ag},function(n){return n.getUTCDate()-1}));const O8=P8;function fc(n){return zo(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/N8})}var L8=fc(0),vx=fc(1),Wd=(fc(2),fc(3),fc(4)),F8=(fc(5),fc(6),zo(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/Ag,n=>n.getDate()-1));const V8=F8;var pM=zo(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});pM.every=function(n){return isFinite(n=Math.floor(n))&&n>0?zo(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};const Ig=pM;var gM=zo(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});gM.every=function(n){return isFinite(n=Math.floor(n))&&n>0?zo(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};const kg=gM;function mM(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function _M(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Mg(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}var B8={"-":"",_:" ",0:"0"},si=/^\s*\d+/,MDe=/^%/,NDe=/[\\^$*+?|[\]().{}]/g;function gt(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<e?new Array(e-s+1).join(t)+r:r)}function RDe(n){return n.replace(NDe,"\\$&")}function Ng(n){return new RegExp("^(?:"+n.map(RDe).join("|")+")","i")}function Rg(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function PDe(n,t,e){var i=si.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function ODe(n,t,e){var i=si.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function LDe(n,t,e){var i=si.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function FDe(n,t,e){var i=si.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function VDe(n,t,e){var i=si.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function $8(n,t,e){var i=si.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function H8(n,t,e){var i=si.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function BDe(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function $De(n,t,e){var i=si.exec(t.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function HDe(n,t,e){var i=si.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function G8(n,t,e){var i=si.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function GDe(n,t,e){var i=si.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function U8(n,t,e){var i=si.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function UDe(n,t,e){var i=si.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function zDe(n,t,e){var i=si.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function jDe(n,t,e){var i=si.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function WDe(n,t,e){var i=si.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function qDe(n,t,e){var i=MDe.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function YDe(n,t,e){var i=si.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function KDe(n,t,e){var i=si.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function z8(n,t){return gt(n.getDate(),t,2)}function XDe(n,t){return gt(n.getHours(),t,2)}function QDe(n,t){return gt(n.getHours()%12||12,t,2)}function ZDe(n,t){return gt(1+V8.count(Ig(n),n),t,3)}function j8(n,t){return gt(n.getMilliseconds(),t,3)}function JDe(n,t){return j8(n,t)+"000"}function eSe(n,t){return gt(n.getMonth()+1,t,2)}function tSe(n,t){return gt(n.getMinutes(),t,2)}function nSe(n,t){return gt(n.getSeconds(),t,2)}function iSe(n){var t=n.getDay();return 0===t?7:t}function rSe(n,t){return gt(L8.count(Ig(n)-1,n),t,2)}function W8(n){var t=n.getDay();return t>=4||0===t?Wd(n):Wd.ceil(n)}function sSe(n,t){return n=W8(n),gt(Wd.count(Ig(n),n)+(4===Ig(n).getDay()),t,2)}function oSe(n){return n.getDay()}function aSe(n,t){return gt(vx.count(Ig(n)-1,n),t,2)}function lSe(n,t){return gt(n.getFullYear()%100,t,2)}function cSe(n,t){return gt((n=W8(n)).getFullYear()%100,t,2)}function uSe(n,t){return gt(n.getFullYear()%1e4,t,4)}function dSe(n,t){var e=n.getDay();return gt((n=e>=4||0===e?Wd(n):Wd.ceil(n)).getFullYear()%1e4,t,4)}function hSe(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gt(t/60|0,"0",2)+gt(t%60,"0",2)}function q8(n,t){return gt(n.getUTCDate(),t,2)}function fSe(n,t){return gt(n.getUTCHours(),t,2)}function pSe(n,t){return gt(n.getUTCHours()%12||12,t,2)}function gSe(n,t){return gt(1+O8.count(kg(n),n),t,3)}function Y8(n,t){return gt(n.getUTCMilliseconds(),t,3)}function mSe(n,t){return Y8(n,t)+"000"}function _Se(n,t){return gt(n.getUTCMonth()+1,t,2)}function vSe(n,t){return gt(n.getUTCMinutes(),t,2)}function ySe(n,t){return gt(n.getUTCSeconds(),t,2)}function xSe(n){var t=n.getUTCDay();return 0===t?7:t}function bSe(n,t){return gt(R8.count(kg(n)-1,n),t,2)}function K8(n){var t=n.getUTCDay();return t>=4||0===t?jd(n):jd.ceil(n)}function TSe(n,t){return n=K8(n),gt(jd.count(kg(n),n)+(4===kg(n).getUTCDay()),t,2)}function wSe(n){return n.getUTCDay()}function CSe(n,t){return gt(_x.count(kg(n)-1,n),t,2)}function DSe(n,t){return gt(n.getUTCFullYear()%100,t,2)}function SSe(n,t){return gt((n=K8(n)).getUTCFullYear()%100,t,2)}function ESe(n,t){return gt(n.getUTCFullYear()%1e4,t,4)}function ASe(n,t){var e=n.getUTCDay();return gt((n=e>=4||0===e?jd(n):jd.ceil(n)).getUTCFullYear()%1e4,t,4)}function ISe(){return"+0000"}function X8(){return"%"}function Q8(n){return+n}function Z8(n){return Math.floor(+n/1e3)}function e6(n){return null===n?NaN:+n}!function RSe(n){(function kDe(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,s=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,c=Ng(r),u=Rg(r),d=Ng(s),h=Rg(s),f=Ng(o),p=Rg(o),m=Ng(a),g=Rg(a),v=Ng(l),_=Rg(l),y={a:function j(Y){return o[Y.getDay()]},A:function ae(Y){return s[Y.getDay()]},b:function oe(Y){return l[Y.getMonth()]},B:function $e(Y){return a[Y.getMonth()]},c:null,d:z8,e:z8,f:JDe,g:cSe,G:dSe,H:XDe,I:QDe,j:ZDe,L:j8,m:eSe,M:tSe,p:function st(Y){return r[+(Y.getHours()>=12)]},q:function ze(Y){return 1+~~(Y.getMonth()/3)},Q:Q8,s:Z8,S:nSe,u:iSe,U:rSe,V:sSe,w:oSe,W:aSe,x:null,X:null,y:lSe,Y:uSe,Z:hSe,"%":X8},b={a:function Xn(Y){return o[Y.getUTCDay()]},A:function et(Y){return s[Y.getUTCDay()]},b:function oi(Y){return l[Y.getUTCMonth()]},B:function ur(Y){return a[Y.getUTCMonth()]},c:null,d:q8,e:q8,f:mSe,g:SSe,G:ASe,H:fSe,I:pSe,j:gSe,L:Y8,m:_Se,M:vSe,p:function Xe(Y){return r[+(Y.getUTCHours()>=12)]},q:function un(Y){return 1+~~(Y.getUTCMonth()/3)},Q:Q8,s:Z8,S:ySe,u:xSe,U:bSe,V:TSe,w:wSe,W:CSe,x:null,X:null,y:DSe,Y:ESe,Z:ISe,"%":X8},D={a:function pe(Y,Se,He){var U=f.exec(Se.slice(He));return U?(Y.w=p.get(U[0].toLowerCase()),He+U[0].length):-1},A:function ie(Y,Se,He){var U=d.exec(Se.slice(He));return U?(Y.w=h.get(U[0].toLowerCase()),He+U[0].length):-1},b:function rt(Y,Se,He){var U=v.exec(Se.slice(He));return U?(Y.m=_.get(U[0].toLowerCase()),He+U[0].length):-1},B:function ve(Y,Se,He){var U=m.exec(Se.slice(He));return U?(Y.m=g.get(U[0].toLowerCase()),He+U[0].length):-1},c:function Je(Y,Se,He){return W(Y,t,Se,He)},d:G8,e:G8,f:WDe,g:H8,G:$8,H:U8,I:U8,j:GDe,L:jDe,m:HDe,M:UDe,p:function ye(Y,Se,He){var U=c.exec(Se.slice(He));return U?(Y.p=u.get(U[0].toLowerCase()),He+U[0].length):-1},q:$De,Q:YDe,s:KDe,S:zDe,u:ODe,U:LDe,V:FDe,w:PDe,W:VDe,x:function sn(Y,Se,He){return W(Y,e,Se,He)},X:function G(Y,Se,He){return W(Y,i,Se,He)},y:H8,Y:$8,Z:BDe,"%":qDe};function S(Y,Se){return function(He){var ai,xe,on,U=[],Zt=-1,xt=0,xi=Y.length;for(He instanceof Date||(He=new Date(+He));++Zt<xi;)37===Y.charCodeAt(Zt)&&(U.push(Y.slice(xt,Zt)),null!=(xe=B8[ai=Y.charAt(++Zt)])?ai=Y.charAt(++Zt):xe="e"===ai?" ":"0",(on=Se[ai])&&(ai=on(He,xe)),U.push(ai),xt=Zt+1);return U.push(Y.slice(xt,Zt)),U.join("")}}function H(Y,Se){return function(He){var xt,xi,U=Mg(1900,void 0,1);if(W(U,Y,He+="",0)!=He.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(1e3*U.s+("L"in U?U.L:0));if(Se&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+12*U.p),void 0===U.m&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(xi=(xt=_M(Mg(U.y,0,1))).getUTCDay(),xt=xi>4||0===xi?_x.ceil(xt):_x(xt),xt=O8.offset(xt,7*(U.V-1)),U.y=xt.getUTCFullYear(),U.m=xt.getUTCMonth(),U.d=xt.getUTCDate()+(U.w+6)%7):(xi=(xt=mM(Mg(U.y,0,1))).getDay(),xt=xi>4||0===xi?vx.ceil(xt):vx(xt),xt=V8.offset(xt,7*(U.V-1)),U.y=xt.getFullYear(),U.m=xt.getMonth(),U.d=xt.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),xi="Z"in U?_M(Mg(U.y,0,1)).getUTCDay():mM(Mg(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+7*U.W-(xi+5)%7:U.w+7*U.U-(xi+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,_M(U)):mM(U)}}function W(Y,Se,He,U){for(var ai,xe,Zt=0,xt=Se.length,xi=He.length;Zt<xt;){if(U>=xi)return-1;if(37===(ai=Se.charCodeAt(Zt++))){if(ai=Se.charAt(Zt++),!(xe=D[ai in B8?Se.charAt(Zt++):ai])||(U=xe(Y,He,U))<0)return-1}else if(ai!=He.charCodeAt(U++))return-1}return U}return y.x=S(e,y),y.X=S(i,y),y.c=S(t,y),b.x=S(e,b),b.X=S(i,b),b.c=S(t,b),{format:function(Y){var Se=S(Y+="",y);return Se.toString=function(){return Y},Se},parse:function(Y){var Se=H(Y+="",!1);return Se.toString=function(){return Y},Se},utcFormat:function(Y){var Se=S(Y+="",b);return Se.toString=function(){return Y},Se},utcParse:function(Y){var Se=H(Y+="",!0);return Se.toString=function(){return Y},Se}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const PSe=Zk(Eg).right,n6=(Zk(e6),PSe);function OSe(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function FSe(n){return+n}var i6=[0,1];function Yd(n){return n}function vM(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:function LSe(n){return function(){return n}}(isNaN(t)?NaN:.5)}function BSe(n,t,e){var i=n[0],r=n[1],s=t[0],o=t[1];return r<i?(i=vM(r,i),s=e(o,s)):(i=vM(i,r),s=e(s,o)),function(a){return s(i(a))}}function $Se(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),s=new Array(i),o=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=vM(n[o],n[o+1]),s[o]=e(t[o],t[o+1]);return function(a){var l=n6(n,a,1,i)-1;return s[l](r[l](a))}}function s6(){return function HSe(){var i,r,s,a,l,c,n=i6,t=i6,e=ix,o=Yd;function u(){var h=Math.min(n.length,t.length);return o!==Yd&&(o=function VSe(n,t){var e;return n>t&&(e=n,n=t,t=e),function(i){return Math.max(n,Math.min(t,i))}}(n[0],n[h-1])),a=h>2?$Se:BSe,l=c=null,d}function d(h){return null==h||isNaN(h=+h)?s:(l||(l=a(n.map(i),t,e)))(i(o(h)))}return d.invert=function(h){return o(r((c||(c=a(t,n.map(i),_s)))(h)))},d.domain=function(h){return arguments.length?(n=Array.from(h,FSe),u()):n.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),e=OSe,u()},d.clamp=function(h){return arguments.length?(o=!!h||Yd,u()):o!==Yd},d.interpolate=function(h){return arguments.length?(e=h,u()):e},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return i=h,r=f,u()}}()(Yd,Yd)}function Pg(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}var a6,WSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yx(n){if(!(t=WSe.exec(n)))throw new Error("invalid format: "+n);var t;return new yM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function yM(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function xx(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function Kd(n){return(n=xx(Math.abs(n)))?n[1]:NaN}function l6(n,t){var e=xx(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}yx.prototype=yM.prototype,yM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const c6={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function qSe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>l6(100*n,t),r:l6,s:function ZSe(n,t){var e=xx(n,t);if(!e)return n+"";var i=e[0],r=e[1],s=r-(a6=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+xx(n,Math.max(0,t+s-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function u6(n){return n}var bx,f6,p6,d6=Array.prototype.map,h6=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function rEe(n){var t=n.domain;return n.ticks=function(e){var i=t();return function aDe(n,t,e){if(!((e=+e)>0))return[];if((n=+n)==(t=+t))return[n];const i=t<n,[r,s,o]=i?px(t,n,e):px(n,t,e);if(!(s>=r))return[];const a=s-r+1,l=new Array(a);if(i)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(r+c)/-o;else for(let c=0;c<a;++c)l[c]=(r+c)*o;return l}(i[0],i[i.length-1],e??10)},n.tickFormat=function(e,i){var r=t();return function iEe(n,t,e,i){var s,r=eM(n,t,e);switch((i=yx(i??",f")).type){case"s":var o=Math.max(Math.abs(n),Math.abs(t));return null==i.precision&&!isNaN(s=function YSe(n,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Kd(t)/3)))-Kd(Math.abs(n)))}(r,o))&&(i.precision=s),p6(i,o);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(s=function tEe(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Kd(t)-Kd(n))+1}(r,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=s-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(s=function nEe(n){return Math.max(0,-Kd(Math.abs(n)))}(r))&&(i.precision=s-2*("%"===i.type))}return f6(i)}(r[0],r[r.length-1],e??10,i)},n.nice=function(e){null==e&&(e=10);var l,c,i=t(),r=0,s=i.length-1,o=i[r],a=i[s],u=10;for(a<o&&(c=o,o=a,a=c,c=r,r=s,s=c);u-- >0;){if((c=Jk(o,a,e))===l)return i[r]=o,i[s]=a,t(i);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else{if(!(c<0))break;o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c}l=c}return n},n}function Xd(){var n=s6();return n.copy=function(){return function r6(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}(n,Xd())},Pg.apply(n,arguments),rEe(n)}function g6(n,t,e){n=+n,t=+t,e=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+e;for(var i=-1,r=0|Math.max(0,Math.ceil((t-n)/e)),s=new Array(r);++i<r;)s[i]=n+i*e;return s}!function eEe(n){bx=function JSe(n){var t=void 0===n.grouping||void 0===n.thousands?u6:function KSe(n,t){return function(e,i){for(var r=e.length,s=[],o=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(e.substring(r-=a,r+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return s.reverse().join(t)}}(d6.call(n.grouping,Number),n.thousands+""),e=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",r=void 0===n.decimal?".":n.decimal+"",s=void 0===n.numerals?u6:function XSe(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}(d6.call(n.numerals,String)),o=void 0===n.percent?"%":n.percent+"",a=void 0===n.minus?"\u2212":n.minus+"",l=void 0===n.nan?"NaN":n.nan+"";function c(d){var h=(d=yx(d)).fill,f=d.align,p=d.sign,m=d.symbol,g=d.zero,v=d.width,_=d.comma,y=d.precision,b=d.trim,D=d.type;"n"===D?(_=!0,D="g"):c6[D]||(void 0===y&&(y=12),b=!0,D="g"),(g||"0"===h&&"="===f)&&(g=!0,h="0",f="=");var S="$"===m?e:"#"===m&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",H="$"===m?i:/[%p]/.test(D)?o:"",W=c6[D],ye=/[defgprs%]/.test(D);function pe(ie){var Je,sn,G,rt=S,ve=H;if("c"===D)ve=W(ie)+ve,ie="";else{var j=(ie=+ie)<0||1/ie<0;if(ie=isNaN(ie)?l:W(Math.abs(ie),y),b&&(ie=function QSe(n){e:for(var r,t=n.length,e=1,i=-1;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":0===i&&(i=e),r=e;break;default:if(!+n[e])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(r+1):n}(ie)),j&&0==+ie&&"+"!==p&&(j=!1),rt=(j?"("===p?p:a:"-"===p||"("===p?"":p)+rt,ve=("s"===D?h6[8+a6/3]:"")+ve+(j&&"("===p?")":""),ye)for(Je=-1,sn=ie.length;++Je<sn;)if(48>(G=ie.charCodeAt(Je))||G>57){ve=(46===G?r+ie.slice(Je+1):ie.slice(Je))+ve,ie=ie.slice(0,Je);break}}_&&!g&&(ie=t(ie,1/0));var ae=rt.length+ie.length+ve.length,oe=ae<v?new Array(v-ae+1).join(h):"";switch(_&&g&&(ie=t(oe+ie,oe.length?v-ve.length:1/0),oe=""),f){case"<":ie=rt+ie+ve+oe;break;case"=":ie=rt+oe+ie+ve;break;case"^":ie=oe.slice(0,ae=oe.length>>1)+rt+ie+ve+oe.slice(ae);break;default:ie=oe+rt+ie+ve}return s(ie)}return y=void 0===y?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),pe.toString=function(){return d+""},pe}return{format:c,formatPrefix:function u(d,h){var f=c(((d=yx(d)).type="f",d)),p=3*Math.max(-8,Math.min(8,Math.floor(Kd(h)/3))),m=Math.pow(10,-p),g=h6[8+p/3];return function(v){return f(m*v)+g}}}}(n),f6=bx.format,p6=bx.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class m6 extends Map{constructor(t,e=y6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(xM(this,t))}has(t){return super.has(xM(this,t))}set(t,e){return super.set(function _6({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}(this,t),e)}delete(t){return super.delete(function v6({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}(this,t))}}function xM({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function y6(n){return null!==n&&"object"==typeof n?n.valueOf():n}const x6=Symbol("implicit");function bM(){var n=new m6,t=[],e=[],i=x6;function r(s){let o=n.get(s);if(void 0===o){if(i!==x6)return i;n.set(s,o=t.push(s)-1)}return e[o%e.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],n=new m6;for(const o of s)n.has(o)||n.set(o,t.push(o)-1);return r},r.range=function(s){return arguments.length?(e=Array.from(s),r):e.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return bM(t,e).unknown(i)},Pg.apply(r,arguments),r}function Tx(){var s,o,n=bM().unknown(void 0),t=n.domain,e=n.range,i=0,r=1,a=!1,l=0,c=0,u=.5;function d(){var h=t().length,f=r<i,p=f?r:i,m=f?i:r;s=(m-p)/Math.max(1,h-l+2*c),a&&(s=Math.floor(s)),p+=(m-p-s*(h-l))*u,o=s*(1-l),a&&(p=Math.round(p),o=Math.round(o));var g=g6(h).map(function(v){return p+s*v});return e(f?g.reverse():g)}return delete n.unknown,n.domain=function(h){return arguments.length?(t(h),d()):t()},n.range=function(h){return arguments.length?([i,r]=h,i=+i,r=+r,d()):[i,r]},n.rangeRound=function(h){return[i,r]=h,i=+i,r=+r,a=!0,d()},n.bandwidth=function(){return o},n.step=function(){return s},n.round=function(h){return arguments.length?(a=!!h,d()):a},n.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},n.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},n.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},n.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},n.copy=function(){return Tx(t(),[i,r]).round(a).paddingInner(l).paddingOuter(c).align(u)},Pg.apply(d(),arguments)}function oEe(n,t,e=e6){if((i=n.length)&&!isNaN(t=+t)){if(t<=0||i<2)return+e(n[0],0,n);if(t>=1)return+e(n[i-1],i-1,n);var i,r=(i-1)*t,s=Math.floor(r),o=+e(n[s],s,n);return o+(+e(n[s+1],s+1,n)-o)*(r-s)}}function T6(){var i,n=[],t=[],e=[];function r(){var o=0,a=Math.max(1,t.length);for(e=new Array(a-1);++o<a;)e[o-1]=oEe(n,o/a);return s}function s(o){return null==o||isNaN(o=+o)?i:t[n6(e,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?e[a-1]:n[0],a<e.length?e[a]:n[n.length-1]]},s.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let a of o)null!=a&&!isNaN(a=+a)&&n.push(a);return n.sort(Eg),r()},s.range=function(o){return arguments.length?(t=Array.from(o),r()):t.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.quantiles=function(){return e.slice()},s.copy=function(){return T6().domain(n).range(t).unknown(i)},Pg.apply(s,arguments)}var aEe=Wa(178);const lEe=["caretElm"];function cEe(n,t){}const uEe=function(n){return{model:n}};function dEe(n,t){if(1&n&&(k(0,"span"),B(1,cEe,0,0,"ng-template",5),M()),2&n){const e=O();A(1),N("ngTemplateOutlet",e.template)("ngTemplateOutletContext",function pu(n,t,e,i){return pF(L(),Vi(),n,t,e,i)}(2,uEe,e.context))}}function hEe(n,t){1&n&&Fe(0,"span",6),2&n&&N("innerHTML",O().title,oP)}function fEe(n,t){if(1&n&&(k(0,"header",4)(1,"span",5),Te(2),M()()),2&n){const e=O();A(2),xr(e.title)}}function pEe(n,t){if(1&n){const e=Gn();k(0,"li",6)(1,"ngx-charts-legend-entry",7),he("select",function(r){return Et(e),At(O().labelClick.emit(r))})("activate",function(r){return Et(e),At(O().activate(r))})("deactivate",function(r){return Et(e),At(O().deactivate(r))}),M()()}if(2&n){const e=t.$implicit,i=O();A(1),N("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",i.isActive(e))}}function gEe(n,t){if(1&n&&(fe(),_m(),Fe(0,"ngx-charts-scale-legend",4)),2&n){const e=O();N("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function mEe(n,t){if(1&n){const e=Gn();fe(),_m(),k(0,"ngx-charts-legend",5),he("labelClick",function(r){return Et(e),At(O().legendLabelClick.emit(r))})("labelActivate",function(r){return Et(e),At(O().legendLabelActivate.emit(r))})("labelDeactivate",function(r){return Et(e),At(O().legendLabelDeactivate.emit(r))}),M()}if(2&n){const e=O();N("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}const w6=["*"],_Ee=["ngx-charts-axis-label",""],C6=["ticksel"],vEe=["ngx-charts-x-axis-ticks",""];function yEe(n,t){1&n&&(fe(),d_(0))}function xEe(n,t){if(1&n&&(fe(),k(0,"tspan",10),Te(1),M()),2&n){const e=t.$implicit;ue("y",12*t.index),A(1),ln(" ",e," ")}}function bEe(n,t){if(1&n&&(fe(),na(0),B(1,xEe,2,2,"tspan",9),ia()),2&n){const e=t.ngIf;A(1),N("ngForOf",e)}}function TEe(n,t){if(1&n&&(fe(),B(0,bEe,2,1,"ng-container",4)),2&n){const e=O(2).$implicit;N("ngIf",O().tickChunks(e))}}function wEe(n,t){if(1&n&&(fe(),Te(0)),2&n){const e=O().ngIf;ln(" ",O(2).tickTrim(e)," ")}}function CEe(n,t){if(1&n&&(fe(),na(0),k(1,"title"),Te(2),M(),k(3,"text",5),B(4,yEe,1,0,"ng-container",6),M(),B(5,TEe,1,1,"ng-template",null,7,ir),B(7,wEe,1,1,"ng-template",null,8,ir),ia()),2&n){const e=t.ngIf,i=Gi(6),r=Gi(8),s=O(2);A(2),xr(e),A(1),ue("text-anchor",s.textAnchor)("transform",s.textTransform),A(1),N("ngIf",s.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",r)}}function DEe(n,t){if(1&n&&(fe(),k(0,"g",3),B(1,CEe,9,6,"ng-container",4),M()),2&n){const e=t.$implicit,i=O();ue("transform",i.tickTransform(e)),A(1),N("ngIf",i.tickFormat(e))}}function SEe(n,t){if(1&n&&(fe(),k(0,"g"),Fe(1,"line",11),M()),2&n){const e=O(2);ue("transform",e.gridLineTransform()),A(1),ue("y1",-e.gridLineHeight)}}function EEe(n,t){if(1&n&&(fe(),k(0,"g"),B(1,SEe,2,2,"g",4),M()),2&n){const e=t.$implicit,i=O();ue("transform",i.tickTransform(e)),A(1),N("ngIf",i.showGridLines)}}const AEe=["ngx-charts-x-axis",""];function IEe(n,t){if(1&n){const e=Gn();fe(),k(0,"g",2),he("dimensionsChanged",function(r){return Et(e),At(O().emitTicksHeight(r))}),M()}if(2&n){const e=O();N("trimTicks",e.trimTicks)("rotateTicks",e.rotateTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickStroke",e.tickStroke)("scale",e.xScale)("orient",e.xOrient)("showGridLines",e.showGridLines)("gridLineHeight",e.dims.height)("width",e.dims.width)("tickValues",e.ticks)("wrapTicks",e.wrapTicks)}}function kEe(n,t){if(1&n&&(fe(),Fe(0,"g",3)),2&n){const e=O();N("label",e.labelText)("offset",e.labelOffset)("orient",e.orientation.Bottom)("height",e.dims.height)("width",e.dims.width)}}const MEe=["ngx-charts-y-axis-ticks",""];function NEe(n,t){1&n&&(fe(),d_(0))}function REe(n,t){if(1&n&&(fe(),k(0,"tspan",12),Te(1),M()),2&n){const e=t.$implicit;ue("y",t.index*(8+O(6).tickSpacing)),A(1),ln(" ",e," ")}}function PEe(n,t){if(1&n&&(fe(),na(0),B(1,REe,2,2,"tspan",11),ia()),2&n){const e=O().ngIf;A(1),N("ngForOf",e)}}function OEe(n,t){if(1&n&&(fe(),na(0),B(1,PEe,2,1,"ng-container",10),ia()),2&n){const e=t.ngIf;O(2);const i=Gi(8);A(1),N("ngIf",e.length>1)("ngIfElse",i)}}function LEe(n,t){if(1&n&&(fe(),B(0,OEe,2,2,"ng-container",5)),2&n){const e=O(2).$implicit;N("ngIf",O().tickChunks(e))}}function FEe(n,t){if(1&n&&(fe(),Te(0)),2&n){const e=O().ngIf;ln(" ",O(2).tickTrim(e)," ")}}function VEe(n,t){if(1&n&&(fe(),na(0),k(1,"title"),Te(2),M(),k(3,"text",6),B(4,NEe,1,0,"ng-container",7),M(),B(5,LEe,1,1,"ng-template",null,8,ir),B(7,FEe,1,1,"ng-template",null,9,ir),ia()),2&n){const e=t.ngIf,i=Gi(6),r=Gi(8),s=O(2);A(2),xr(e),A(1),Zn("font-size","12px"),ue("dy",s.dy)("x",s.x1)("y",s.y1)("text-anchor",s.textAnchor),A(1),N("ngIf",s.wrapTicks)("ngIfThen",i)("ngIfElse",r)}}function BEe(n,t){if(1&n&&(fe(),k(0,"g",4),B(1,VEe,9,10,"ng-container",5),M()),2&n){const e=t.$implicit,i=O();ue("transform",i.transform(e)),A(1),N("ngIf",i.tickFormat(e))}}function $Ee(n,t){if(1&n&&(fe(),Fe(0,"path",13)),2&n){const e=O();ue("d",e.referenceAreaPath)("transform",e.gridLineTransform())}}function HEe(n,t){1&n&&(fe(),Fe(0,"line",15)),2&n&&ue("x2",O(3).gridLineWidth)}function GEe(n,t){1&n&&(fe(),Fe(0,"line",15)),2&n&&ue("x2",-O(3).gridLineWidth)}function UEe(n,t){if(1&n&&(fe(),k(0,"g"),B(1,HEe,1,1,"line",14),B(2,GEe,1,1,"line",14),M()),2&n){const e=O(2);ue("transform",e.gridLineTransform()),A(1),N("ngIf",e.orient===e.Orientation.Left),A(1),N("ngIf",e.orient===e.Orientation.Right)}}function zEe(n,t){if(1&n&&(fe(),k(0,"g"),B(1,UEe,3,3,"g",5),M()),2&n){const e=t.$implicit,i=O();ue("transform",i.transform(e)),A(1),N("ngIf",i.showGridLines)}}function jEe(n,t){if(1&n&&(fe(),k(0,"g")(1,"title"),Te(2),M(),k(3,"text",17),Te(4),M()()),2&n){const e=O(2).$implicit,i=O();A(2),xr(i.tickTrim(i.tickFormat(e.value))),A(1),ue("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),A(1),ln(" ",e.name," ")}}function WEe(n,t){if(1&n&&(fe(),k(0,"g"),Fe(1,"line",16),B(2,jEe,5,6,"g",5),M()),2&n){const e=O().$implicit,i=O();ue("transform",i.transform(e.value)),A(1),ue("x2",i.gridLineWidth)("transform",i.gridLineTransform()),A(1),N("ngIf",i.showRefLabels)}}function qEe(n,t){if(1&n&&(fe(),k(0,"g"),B(1,WEe,3,4,"g",5),M()),2&n){const e=O();A(1),N("ngIf",e.showRefLines)}}const YEe=["ngx-charts-y-axis",""];function KEe(n,t){if(1&n){const e=Gn();fe(),k(0,"g",2),he("dimensionsChanged",function(r){return Et(e),At(O().emitTicksWidth(r))}),M()}if(2&n){const e=O();N("trimTicks",e.trimTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickValues",e.ticks)("tickStroke",e.tickStroke)("scale",e.yScale)("orient",e.yOrient)("showGridLines",e.showGridLines)("gridLineWidth",e.dims.width)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("height",e.dims.height)("wrapTicks",e.wrapTicks)}}function XEe(n,t){if(1&n&&(fe(),Fe(0,"g",3)),2&n){const e=O();N("label",e.labelText)("offset",e.labelOffset)("orient",e.yOrient)("height",e.dims.height)("width",e.dims.width)}}const QEe=["ngx-charts-svg-linear-gradient",""];function ZEe(n,t){if(1&n&&(fe(),Fe(0,"stop")),2&n){const e=t.$implicit;Zn("stop-color",e.color)("stop-opacity",e.opacity),ue("offset",e.offset+"%")}}const DAe=["tooltipTemplate"],Og=function(n,t){return[n,t]},RAe=["ngx-charts-bar",""];function PAe(n,t){if(1&n&&(fe(),k(0,"defs"),Fe(1,"g",2),M()),2&n){const e=O();A(1),N("orientation",e.orientation)("name",e.gradientId)("stops",e.gradientStops)}}const OAe=["ngx-charts-bar-label",""],LAe=["ngx-charts-series-horizontal",""];function FAe(n,t){if(1&n){const e=Gn();fe(),k(0,"g",2),he("select",function(r){return Et(e),At(O().click(r))})("activate",function(r){return Et(e),At(O().activate.emit(r))})("deactivate",function(r){return Et(e),At(O().deactivate.emit(r))}),M()}if(2&n){const e=t.$implicit,i=O();N("@animationState","active")("width",e.width)("height",e.height)("x",e.x)("y",e.y)("fill",e.color)("stops",e.gradientStops)("data",e.data)("orientation",i.barOrientation.Horizontal)("roundEdges",e.roundEdges)("gradient",i.gradient)("isActive",i.isActive(e.data))("ariaLabel",e.ariaLabel)("animations",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:e.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",e.data)("noBarWhenZero",i.noBarWhenZero)}}function VAe(n,t){if(1&n){const e=Gn();fe(),k(0,"g",4),he("dimensionsChanged",function(r){const o=Et(e).index;return At(O(2).dataLabelWidthChanged.emit({size:r,index:o}))}),M()}if(2&n){const e=t.$implicit,i=O(2);N("barX",e.x)("barY",e.y)("barWidth",e.width)("barHeight",e.height)("value",e.total)("valueFormatting",i.dataLabelFormatting)("orientation",i.barOrientation.Horizontal)}}function BAe(n,t){if(1&n&&(fe(),k(0,"g"),B(1,VAe,1,7,"g",3),M()),2&n){const e=O();A(1),N("ngForOf",e.barsForDataLabels)("ngForTrackBy",e.trackDataLabelBy)}}function $Ae(n,t){if(1&n){const e=Gn();fe(),k(0,"g",5),he("dimensionsChanged",function(r){return Et(e),At(O().updateXAxisHeight(r))}),M()}if(2&n){const e=O();N("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)("wrapTicks",e.wrapTicks)}}function HAe(n,t){if(1&n){const e=Gn();fe(),k(0,"g",6),he("dimensionsChanged",function(r){return Et(e),At(O().updateYAxisWidth(r))}),M()}if(2&n){const e=O();N("yScale",e.yScale)("dims",e.dims)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)("yAxisOffset",e.dataLabelMaxWidth.negative)("wrapTicks",e.wrapTicks)}}function DIe(n,t,e){e=e||{};let i,r,s,o=null,a=0;function l(){a=!1===e.leading?0:+new Date,o=null,s=n.apply(i,r)}return function(){const c=+new Date;!a&&!1===e.leading&&(a=c);const u=t-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=n.apply(i,r)):!o&&!1!==e.trailing&&(o=setTimeout(l,u)),s}}function SIe(n,t){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:DIe(s.value,n,t)}),this[r]}}}}var Ke=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",n}(Ke||{});function D6(n,t,e){return e===Ke.Top?n.top-7:e===Ke.Bottom?n.top+n.height-t.height+7:e===Ke.Center?n.top+n.height/2-t.height/2:void 0}function S6(n,t,e){return e===Ke.Left?n.left-7:e===Ke.Right?n.left+n.width-t.width+7:e===Ke.Center?n.left+n.width/2-t.width/2:void 0}class Mr{static calculateVerticalAlignment(t,e,i){let r=D6(t,e,i);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,i,r){let s;r===Ke.Top&&(s=t.height/2-i.height/2+7),r===Ke.Bottom&&(s=e.height-t.height/2-i.height/2-7),r===Ke.Center&&(s=e.height/2-i.height/2);const o=D6(t,e,r);return o+e.height>window.innerHeight&&(s+=o+e.height-window.innerHeight),s}static calculateHorizontalAlignment(t,e,i){let r=S6(t,e,i);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,i,r){let s;r===Ke.Left&&(s=t.width/2-i.width/2+7),r===Ke.Right&&(s=e.width-t.width/2-i.width/2-7),r===Ke.Center&&(s=e.width/2-i.width/2);const o=S6(t,e,r);return o+e.width>window.innerWidth&&(s+=o+e.width-window.innerWidth),s}static shouldFlip(t,e,i,r){let s=!1;return i===Ke.Right&&t.left+t.width+e.width+r>window.innerWidth&&(s=!0),i===Ke.Left&&t.left-e.width-r<0&&(s=!0),i===Ke.Top&&t.top-e.height-r<0&&(s=!0),i===Ke.Bottom&&t.top+t.height+e.height+r>window.innerHeight&&(s=!0),s}static positionCaret(t,e,i,r,s){let o=0,a=0;return t===Ke.Right?(a=-7,o=Mr.calculateVerticalCaret(i,e,r,s)):t===Ke.Left?(a=e.width,o=Mr.calculateVerticalCaret(i,e,r,s)):t===Ke.Top?(o=e.height,a=Mr.calculateHorizontalCaret(i,e,r,s)):t===Ke.Bottom&&(o=-7,a=Mr.calculateHorizontalCaret(i,e,r,s)),{top:o,left:a}}static positionContent(t,e,i,r,s){let o=0,a=0;return t===Ke.Right?(a=i.left+i.width+r,o=Mr.calculateVerticalAlignment(i,e,s)):t===Ke.Left?(a=i.left-e.width-r,o=Mr.calculateVerticalAlignment(i,e,s)):t===Ke.Top?(o=i.top-e.height-r,a=Mr.calculateHorizontalAlignment(i,e,s)):t===Ke.Bottom&&(o=i.top+i.height+r,a=Mr.calculateHorizontalAlignment(i,e,s)),{top:o,left:a}}static determinePlacement(t,e,i,r){if(Mr.shouldFlip(i,e,t,r)){if(t===Ke.Right)return Ke.Left;if(t===Ke.Left)return Ke.Right;if(t===Ke.Top)return Ke.Bottom;if(t===Ke.Bottom)return Ke.Top}return t}}let EIe=(()=>{class n{constructor(e,i,r){this.element=e,this.renderer=i,this.platformId=r}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!ca(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const r=e.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(e,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,r){const{top:s,left:o}=Mr.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${s}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,i){const r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=Mr.positionCaret(this.placement,i,e,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(e,i){this.placement=Mr.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(x(tt),x(vr),x(Hi))},n.\u0275cmp=We({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&uo(lEe,5),2&e){let r;It(r=kt())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(e,i){1&e&&he("resize",function(){return i.onWindowResize()},0,yT),2&e&&sa(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(k(0,"div"),Fe(1,"span",0,1),k(3,"div",2),B(4,dEe,2,4,"span",3),B(5,hEe,1,1,"span",4),M()()),2&e&&(A(1),function yL(n,t,e){ss(mr,Ms,iu(L(),n,t,e),!0)}("tooltip-caret position-",i.placement,""),N("hidden",!i.showCaret),A(3),N("ngIf",!i.title),A(1),N("ngIf",i.title))},dependencies:[zn,yu],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function Xg(n,t,e,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}([SIe(100)],n.prototype,"onWindowResize",null),n})();class AIe{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const i=this.injectComponent(t,e);return this.register(t,i),i}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const i=e.indexOf(t);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs={...e,...t.inputs}),i&&(t.outputs={...i,...t.outputs}),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}let E6=(()=>{class n{constructor(e,i,r){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function IIe(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const r=Object.getOwnPropertyNames(i.inputs);for(const s of r)e.instance[s]=i.inputs[s]}if(void 0!==i.outputs){const r=Object.getOwnPropertyNames(i.outputs);for(const s of r)e.instance[s]=i.outputs[s]}}return e}appendComponent(e,i={},r){r||(r=this.getRootViewContainer());const s=this.getComponentRootNode(r),o=new TTe(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new DW(e),l=o.attach(a);return this.projectComponentBindings(l,i),l}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(z(fo),z(Kc),z(In))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})(),TM=(()=>{class n extends AIe{constructor(e){super(e),this.type=EIe}}return n.\u0275fac=function(e){return new(e||n)(z(E6))},n.\u0275prov=Q({token:n,factory:n.\u0275fac}),n})();var pc=function(n){return n.Right="right",n.Below="below",n}(pc||{}),Lg=function(n){return n.ScaleLegend="scaleLegend",n.Legend="legend",n}(Lg||{}),De=function(n){return n.Time="time",n.Linear="linear",n.Ordinal="ordinal",n.Quantile="quantile",n}(De||{});let A6=(()=>{class n{constructor(){this.horizontal=!1}ngOnChanges(e){const i=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${i})`}gradientString(e,i){i.push(1);const r=[];return e.reverse().forEach((s,o)=>{r.push(`${s} ${Math.round(100*i[o])}%`)}),r.join(", ")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=We({type:n,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[ot],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,i){1&e&&(k(0,"div",0)(1,"div",1)(2,"span"),Te(3),M()(),Fe(4,"div",2),k(5,"div",1)(6,"span"),Te(7),M()()()),2&e&&(Zn("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),Ct("horizontal-legend",i.horizontal),A(3),xr(i.valueRange[1].toLocaleString()),A(1),Zn("background",i.gradient),A(3),xr(i.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),n})();function Fg(n){return n instanceof Date?n.toLocaleDateString():n.toLocaleString()}let I6=(()=>{class n{constructor(){this.isActive=!1,this.select=new q,this.activate=new q,this.deactivate=new q,this.toggle=new q}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=We({type:n,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,i){1&e&&he("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,i){1&e&&(k(0,"span",0),he("click",function(){return i.select.emit(i.formattedLabel)}),k(1,"span",1),he("click",function(){return i.toggle.emit(i.formattedLabel)}),M(),k(2,"span",2),Te(3),M()()),2&e&&(Ct("active",i.isActive),N("title",i.formattedLabel),A(1),Zn("background-color",i.color),A(2),ln(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),n})(),k6=(()=>{class n{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new q,this.labelActivate=new q,this.labelDeactivate=new q,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const e=[];for(const i of this.data){const r=Fg(i);-1===e.findIndex(o=>o.label===r)&&e.push({label:i,formattedLabel:r,color:this.colors.getColor(i)})}return e}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(r=>e.label===r.name)}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,i){return i.label}}return n.\u0275fac=function(e){return new(e||n)(x(ji))},n.\u0275cmp=We({type:n,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[ot],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(e,i){1&e&&(k(0,"div"),B(1,fEe,3,1,"header",0),k(2,"div",1)(3,"ul",2),B(4,pEe,2,4,"li",3),M()()()),2&e&&(Zn("width",i.width,"px"),A(1),N("ngIf",(null==i.title?null:i.title.length)>0),A(2),Zn("max-height",i.height-45,"px"),Ct("horizontal-legend",i.horizontal),A(1),N("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},dependencies:[I6,zn,Ci],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})(),M6=(()=>{class n{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new q,this.legendLabelActivate=new q,this.legendLabelDeactivate=new q,this.LegendPosition=pc,this.LegendType=Lg}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===pc.Right)&&(e=this.legendType===Lg.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-e)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==pc.Right?this.chartWidth:Math.floor(this.view[0]*e/12)}getLegendType(){return this.legendOptions.scaleType===De.Linear?Lg.ScaleLegend:Lg.Legend}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=We({type:n,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[Pt([TM]),ot],ngContentSelectors:w6,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(e,i){1&e&&(h_(),k(0,"div",0),fe(),k(1,"svg",1),f_(2),M(),B(3,gEe,1,5,"ngx-charts-scale-legend",2),B(4,mEe,1,7,"ngx-charts-legend",3),M()),2&e&&(Zn("width",i.view[0],"px")("height",i.view[1],"px"),A(1),ue("width",i.chartWidth)("height",i.view[1]),A(2),N("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),A(1),N("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},dependencies:[A6,k6,zn],encapsulation:2,changeDetection:0}),n})(),kIe=(()=>{class n{constructor(e,i){this.element=e,this.zone=i,this.visible=new q,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:r}=this.element.nativeElement;i&&r?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}return n.\u0275fac=function(e){return new(e||n)(x(tt),x(je))},n.\u0275dir=J({type:n,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),n})();function N6(n){return"[object Date]"===toString.call(n)}let R6=(()=>{class n{constructor(e,i,r,s){this.chartElement=e,this.zone=i,this.cd=r,this.platformId=s,this.scheme="cool",this.schemeType=De.Ordinal,this.animations=!0,this.select=new q}ngOnInit(){G_(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new kIe(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,i;const r=this.chartElement.nativeElement;if(ca(this.platformId)&&null!==r.parentNode){const s=r.parentNode.getBoundingClientRect();e=s.width,i=s.height}return e&&i?{width:e,height:i}:null}formatDates(){for(let e=0;e<this.results.length;e++){const i=this.results[e];if(i.label=i.name,N6(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let r=0;r<i.series.length;r++){const s=i.series[r];s.label=s.name,N6(s.label)&&(s.label=s.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!ca(this.platformId))return;const i=Mi(window,"resize").pipe(function wTe(n,t=Bv){return Jt((e,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(Ft(i,c=>{s=c,o=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}(200)).subscribe(r=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(e){const i=[];for(const r of e){const s={};if(void 0!==r.name&&(s.name=r.name),void 0!==r.value&&(s.value=r.value),void 0!==r.series){s.series=[];for(const o of r.series){const a=Object.assign({},o);s.series.push(a)}}void 0!==r.extra&&(s.extra=JSON.parse(JSON.stringify(r.extra))),void 0!==r.source&&(s.source=r.source),void 0!==r.target&&(s.target=r.target),i.push(s)}return i}}return n.\u0275fac=function(e){return new(e||n)(x(tt),x(je),x(ji),x(Hi))},n.\u0275cmp=We({type:n,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[ot],decls:1,vars:0,template:function(e,i){1&e&&Fe(0,"div")},encapsulation:2}),n})();var yi=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n}(yi||{});let P6=(()=>{class n{constructor(e){this.textHeight=25,this.margin=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case yi.Top:case yi.Bottom:this.y=this.offset,this.x=this.width/2;break;case yi.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case yi.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return n.\u0275fac=function(e){return new(e||n)(x(tt))},n.\u0275cmp=We({type:n,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[ot],attrs:_Ee,decls:2,vars:6,template:function(e,i){1&e&&(fe(),k(0,"text"),Te(1),M()),2&e&&(ue("stroke-width",i.strokeWidth)("x",i.x)("y",i.y)("text-anchor",i.textAnchor)("transform",i.transform),A(1),ln(" ",i.label," "))},encapsulation:2,changeDetection:0}),n})();function CM(n,t=16){return"string"!=typeof n?"number"==typeof n?n+"":"":(n=n.trim()).length<=t?n:`${n.slice(0,t)}...`}function O6(n,t){if(n.length>t){const e=[],i=Math.floor(n.length/t);for(let r=0;r<n.length;r++)r%i==0&&e.push(n[r]);n=e}return n}function L6(n,t,e){const i=(n||"").toString();let r=[];if(/\s/.test(i))r=i.split(/\s+/).reduce((s,o)=>{const a=(s.pop()||"")+" ";return a.length+o.length>t?[...s,a.trim(),o.trim()]:[...s,a+o]},[]);else{let s=0;for(;s<i.length;)r.push(i.substring(s,s+t)),s+=t}return r.length>e&&(r=r.splice(0,e),r[r.length-1]+="..."),r}var jo=function(n){return n.Start="start",n.Middle="middle",n.End="end",n}(jo||{});let F6=(()=>{class n{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new q,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=jo.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!ca(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);e!==this.height&&(this.height=e,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(r){return"Date"===r.constructor.name?r.toLocaleDateString():r.toLocaleString()};const i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(r){return this.scale(r)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",i&&0!==i?(this.textTransform=`rotate(${i})`,this.textAnchor=jo.End,this.verticalSpacing=10):this.textAnchor=jo.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(e){let i=0;this.maxTicksLength=0;for(let d=0;d<e.length;d++){const h=this.tickFormat(e[d]).toString();let f=h.length;this.trimTicks&&(f=this.tickTrim(h).length),f>this.maxTicksLength&&(this.maxTicksLength=f)}const o=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let a=o;const l=Math.floor(this.width/e.length);for(;a>l&&i>-90;)i-=30,a=Math.cos(i*(Math.PI/180))*o;let c=14;if(this.isWrapTicksSupported){const d=this.ticks.reduce((f,p)=>p.length>f.length?p:f,"");c=14*(this.tickChunks(d).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(d)}const u=0!==i?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*7,10):c;return this.approxHeight=Math.min(u,200),i}getTicks(){let e;const i=this.getMaxTicks(20),r=this.getMaxTicks(100);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[r]):(e=this.scale.domain(),e=O6(e,i)),e}getMaxTicks(e){return Math.floor(this.width/e)}tickTransform(e){return"translate("+this.adjustedScale(e)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(e){return this.trimTicks?CM(e,this.maxTickLength):e}getMaxPossibleLengthForTick(e){if(this.scale.bandwidth){const r=Math.floor(this.scale.bandwidth()/7),s=e.slice(0,r);return Math.max(s.length,this.maxTickLength)}return this.maxTickLength}tickChunks(e){if(e.toString().length>this.maxTickLength&&this.scale.bandwidth){let r=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(r<=1)return[this.tickTrim(e)];let s=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return ca(this.platformId)||(s=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),r=Math.min(r,5),L6(e,s,r<1?1:r)}return[this.tickTrim(e)]}}return n.\u0275fac=function(e){return new(e||n)(x(Hi))},n.\u0275cmp=We({type:n,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(e,i){if(1&e&&uo(C6,5),2&e){let r;It(r=kt())&&(i.ticksElement=r.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ot],attrs:vEe,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(e,i){1&e&&(fe(),k(0,"g",null,0),B(2,DEe,2,2,"g",1),M(),B(3,EEe,2,2,"g",2)),2&e&&(A(2),N("ngForOf",i.ticks),A(1),N("ngForOf",i.ticks))},dependencies:[Ci,zn],encapsulation:2,changeDetection:0}),n})(),MIe=(()=>{class n{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=yi.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new q,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=yi}ngOnChanges(e){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:e}){const i=e+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:e})},0))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=We({type:n,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(e,i){if(1&e&&uo(F6,5),2&e){let r;It(r=kt())&&(i.ticksComponent=r.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ot],attrs:AEe,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,i){1&e&&(fe(),k(0,"g"),B(1,IEe,1,13,"g",0),B(2,kEe,1,5,"g",1),M()),2&e&&(ue("class",i.xAxisClassName)("transform",i.transform),A(1),N("ngIf",i.xScale),A(1),N("ngIf",i.showLabel))},dependencies:[F6,P6,zn],encapsulation:2,changeDetection:0}),n})();function za(n,t,e,i,r,[s,o,a,l]){let c="";return c=`M${[n+r,t]}`,c+="h"+((e=0===(e=Math.floor(e))?1:e)-2*r),c+=o?`a${[r,r]} 0 0 1 ${[r,r]}`:`h${r}v${r}`,c+="v"+((i=0===(i=Math.floor(i))?1:i)-2*r),c+=l?`a${[r,r]} 0 0 1 ${[-r,r]}`:`v${r}h${-r}`,c+="h"+(2*r-e),c+=a?`a${[r,r]} 0 0 1 ${[-r,-r]}`:`h${-r}v${-r}`,c+="v"+(2*r-i),c+=s?`a${[r,r]} 0 0 1 ${[r,-r]}`:`v${-r}h${r}`,c+="z",c}let V6=(()=>{class n{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new q,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=jo.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=yi}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!ca(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);e!==this.width&&(this.width=e,this.dimensionsChanged.emit({width:e}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale,i=this.orient===yi.Top||this.orient===yi.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(r){return"Date"===r.constructor.name?r.toLocaleDateString():r.toLocaleString()},this.adjustedScale=e.bandwidth?r=>{const s=e(r)+.5*e.bandwidth();if(this.wrapTicks&&r.toString().length>this.maxTickLength){const o=this.tickChunks(r).length;if(1===o)return s;const c=.5*e.bandwidth()-8*o*.5;return e(r)+c}return s}:e,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case yi.Top:case yi.Bottom:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=jo.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case yi.Left:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=jo.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case yi.Right:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=jo.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(e=>e.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(e=>e.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=za(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let e;const i=this.getMaxTicks(20),r=this.getMaxTicks(50);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[r]):(e=this.scale.domain(),e=O6(e,i)),e}getMaxTicks(e){return Math.floor(this.height/e)}tickTransform(e){return`translate(${this.adjustedScale(e)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(e){return this.trimTicks?CM(e,this.maxTickLength):e}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(r=>this.tickTrim(this.tickFormat(r)).length))}tickChunks(e){if(e.toString().length>this.maxTickLength&&this.scale.bandwidth){const i=this.maxTickLength,r=Math.floor(this.scale.bandwidth()/15);return r<=1?[this.tickTrim(e)]:L6(e,i,Math.min(r,5))}return[this.tickFormat(e)]}}return n.\u0275fac=function(e){return new(e||n)(x(Hi))},n.\u0275cmp=We({type:n,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(e,i){if(1&e&&uo(C6,5),2&e){let r;It(r=kt())&&(i.ticksElement=r.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ot],attrs:MEe,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(e,i){1&e&&(fe(),k(0,"g",null,0),B(2,BEe,2,2,"g",1),M(),B(3,$Ee,1,2,"path",2),B(4,zEe,2,2,"g",3),B(5,qEe,2,1,"g",3)),2&e&&(A(2),N("ngForOf",i.ticks),A(1),N("ngIf",i.referenceLineLength>1&&i.refMax&&i.refMin&&i.showRefLines),A(1),N("ngForOf",i.ticks),A(1),N("ngForOf",i.referenceLines))},dependencies:[Ci,zn],encapsulation:2,changeDetection:0}),n})(),NIe=(()=>{class n{constructor(){this.showGridLines=!1,this.yOrient=yi.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new q,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(e){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===yi.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:e}){e!==this.labelOffset&&this.yOrient===yi.Right?(this.labelOffset=e+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0)):e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=We({type:n,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(e,i){if(1&e&&uo(V6,5),2&e){let r;It(r=kt())&&(i.ticksComponent=r.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ot],attrs:YEe,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,i){1&e&&(fe(),k(0,"g"),B(1,KEe,1,15,"g",0),B(2,XEe,1,5,"g",1),M()),2&e&&(ue("class",i.yAxisClassName)("transform",i.transform),A(1),N("ngIf",i.yScale),A(1),N("ngIf",i.showLabel))},dependencies:[V6,P6,zn],encapsulation:2,changeDetection:0}),n})(),B6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi]]}),n})();var Vg=function(n){return n.popover="popover",n.tooltip="tooltip",n}(Vg||{}),Qd=function(n){return n[n.all="all"]="all",n[n.focus="focus"]="focus",n[n.mouseover="mouseover"]="mouseover",n}(Qd||{});let DM=(()=>{class n{constructor(e,i,r){this.tooltipService=e,this.viewContainerRef=i,this.renderer=r,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=Ke.Top,this.tooltipAlignment=Ke.Center,this.tooltipType=Vg.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Qd.all,this.tooltipImmediateExit=!1,this.show=new q,this.hide=new q}get listensForFocus(){return this.tooltipShowEvent===Qd.all||this.tooltipShowEvent===Qd.focus}get listensForHover(){return this.tooltipShowEvent===Qd.all||this.tooltipShowEvent===Qd.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const i=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const r=this.createBoundOptions();this.component=this.tooltipService.create(r),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{e.contains(i.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return n.\u0275fac=function(e){return new(e||n)(x(TM),x(Ur),x(vr))},n.\u0275dir=J({type:n,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,i){1&e&&he("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(s){return i.onMouseLeave(s.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),n})(),$6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({providers:[E6,TM],imports:[[hi]]}),n})();const H6={};function Bg(){let n=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return n=`a${n}`,H6[n]?Bg():(H6[n]=!0,n)}var Kn=function(n){return n.Vertical="vertical",n.Horizontal="horizontal",n}(Kn||{});let SM,wx=(()=>{class n{constructor(){this.orientation=Kn.Vertical}ngOnChanges(e){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===Kn.Horizontal?this.x2="100%":this.orientation===Kn.Vertical&&(this.y1="100%")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=We({type:n,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[ot],attrs:QEe,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(fe(),k(0,"linearGradient",0),B(1,ZEe,1,5,"stop",1),M()),2&e&&(N("id",i.name),ue("x1",i.x1)("y1",i.y1)("x2",i.x2)("y2",i.y2),A(1),N("ngForOf",i.stops))},dependencies:[Ci],encapsulation:2,changeDetection:0}),n})();typeof window<"u"?SM=window:typeof global<"u"&&(SM=global);let Nr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[hi,B6,$6],hi,B6,$6]}),n})();const q6=[{name:"vivid",selectable:!0,group:De.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:De.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:De.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:De.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:De.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:De.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:De.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:De.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:De.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:De.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:De.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:De.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:De.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:De.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:De.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class $Ie{constructor(t,e,i,r){"string"==typeof t&&(t=q6.find(s=>s.name===t)),this.colorDomain=t.domain,this.scaleType=e,this.domain=i,this.customColors=r,this.scale=this.generateColorScheme(t,e,this.domain)}generateColorScheme(t,e,i){let r;switch("string"==typeof t&&(t=q6.find(s=>s.name===t)),e){case De.Quantile:r=T6().range(t.domain).domain(i);break;case De.Ordinal:r=bM().range(t.domain).domain(i);break;case De.Linear:{const s=[...t.domain];1===s.length&&(s.push(s[0]),this.colorDomain=s);const o=g6(0,1,1/s.length);r=Xd().range(s).domain(o)}}return r}getColor(t){if(null==t)throw new Error("Value can not be null");if(this.scaleType===De.Linear){const e=Xd().domain(this.domain).range([0,1]);return this.scale(e(t))}{if("function"==typeof this.customColors)return this.customColors(t);const e=t.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(r=>r.name.toLowerCase()===e.toLowerCase())),i?i.value:this.scale(t)}}getLinearGradientStops(t,e){void 0===e&&(e=this.domain[0]);const i=Xd().domain(this.domain).range([0,1]),r=Tx().domain(this.colorDomain).range([0,1]),s=this.getColor(t),o=i(e),a=this.getColor(e),l=i(t);let c=1,u=o;const d=[];for(d.push({color:a,offset:o,originalOffset:o,opacity:1});u<l&&c<this.colorDomain.length;){const h=this.colorDomain[c],f=r(h);if(f<=o)c++;else{if(f.toFixed(4)>=(l-r.bandwidth()).toFixed(4))break;d.push({color:h,offset:f,opacity:1}),u=f,c++}}if(d[d.length-1].offset<100&&d.push({color:s,offset:l,opacity:1}),l===o)d[0].offset=0,d[1].offset=100;else if(100!==d[d.length-1].offset)for(const h of d)h.offset=(h.offset-o)/(l-o)*100;return d}}let GIe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[Nr]]}),n})(),UIe=(()=>{class n{constructor(e){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new q,this.activate=new q,this.deactivate=new q,this.hasGradient=!1,this.hideBar=!1,this.element=e.nativeElement}ngOnChanges(e){e.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+Bg().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){const e=function Jr(n){return"string"==typeof n?new kr([[document.querySelector(n)]],[document.documentElement]):new kr([[n]],VW)}(this.element).select(".bar"),i=this.getPath();this.animations?e.transition().duration(500).attr("d",i):e.attr("d",i)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let i,e=this.getRadius();return this.roundEdges?this.orientation===Kn.Vertical?(e=Math.min(this.height,e),i=za(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===Kn.Horizontal&&(e=Math.min(this.width,e),i=za(this.x,this.y,1,this.height,0,this.edges)):this.orientation===Kn.Vertical?i=za(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===Kn.Horizontal&&(i=za(this.x,this.y,1,this.height,0,this.edges)),i}getPath(){let i,e=this.getRadius();return this.roundEdges?this.orientation===Kn.Vertical?(e=Math.min(this.height,e),i=za(this.x,this.y,this.width,this.height,e,this.edges)):this.orientation===Kn.Horizontal&&(e=Math.min(this.width,e),i=za(this.x,this.y,this.width,this.height,e,this.edges)):i=za(this.x,this.y,this.width,this.height,e,this.edges),i}getRadius(){let e=0;return this.roundEdges&&this.height>5&&this.width>5&&(e=Math.floor(Math.min(5,this.height/2,this.width/2))),e}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let e=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===Kn.Vertical?e=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:this.orientation===Kn.Horizontal&&(e=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),e}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===Kn.Vertical&&0===this.height||this.orientation===Kn.Horizontal&&0===this.width)}}return n.\u0275fac=function(e){return new(e||n)(x(tt))},n.\u0275cmp=We({type:n,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(e,i){1&e&&he("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[ot],attrs:RAe,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(e,i){1&e&&(B(0,PAe,2,3,"defs",0),fe(),k(1,"path",1),he("click",function(){return i.select.emit(i.data)}),M()),2&e&&(N("ngIf",i.hasGradient),A(1),Ct("active",i.isActive)("hidden",i.hideBar),ue("d",i.path)("aria-label",i.ariaLabel)("fill",i.hasGradient?i.gradientFill:i.fill))},dependencies:[wx,zn],encapsulation:2,changeDetection:0}),n})();var ja=function(n){return n.Standard="standard",n.Normalized="normalized",n.Stacked="stacked",n}(ja||{}),Zd=function(n){return n.positive="positive",n.negative="negative",n}(Zd||{});let zIe=(()=>{class n{constructor(e){this.dimensionsChanged=new q,this.horizontalPadding=2,this.verticalPadding=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}getSize(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):Fg(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}}return n.\u0275fac=function(e){return new(e||n)(x(tt))},n.\u0275cmp=We({type:n,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ot],attrs:OAe,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(e,i){1&e&&(fe(),k(0,"text",0),Te(1),M()),2&e&&(ue("text-anchor",i.textAnchor)("transform",i.transform)("x",i.x)("y",i.y),A(1),ln(" ",i.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),n})(),jIe=(()=>{class n{constructor(){this.type=ja.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new q,this.activate=new q,this.deactivate=new q,this.dataLabelWidthChanged=new q,this.barsForDataLabels=[],this.barOrientation=Kn}ngOnChanges(e){this.update()}update(){this.updateTooltipSettings();const e={[Zd.positive]:0,[Zd.negative]:0};let i,r;i=Zd.positive,this.type===ja.Normalized&&(r=this.series.map(o=>o.value).reduce((o,a)=>o+a,0));const s=Math.max(this.xScale.domain()[0],0);this.bars=this.series.map(o=>{let a=o.value;const l=this.getLabel(o),c=Fg(l);i=a>0?Zd.positive:Zd.negative;const d={value:a,label:l,roundEdges:this.roundEdges,data:o,formattedLabel:c};if(d.height=this.yScale.bandwidth(),this.type===ja.Standard)d.width=Math.abs(this.xScale(a)-this.xScale(s)),d.x=this.xScale(a<0?a:s),d.y=this.yScale(l);else if(this.type===ja.Stacked){const f=e[i],p=f+a;e[i]+=a,d.width=this.xScale(p)-this.xScale(f),d.x=this.xScale(f),d.y=0,d.offset0=f,d.offset1=p}else if(this.type===ja.Normalized){let f=e[i],p=f+a;e[i]+=a,r>0?(f=100*f/r,p=100*p/r):(f=0,p=0),d.width=this.xScale(p)-this.xScale(f),d.x=this.xScale(f),d.y=0,d.offset0=f,d.offset1=p,a=(p-f).toFixed(2)+"%"}this.colors.scaleType===De.Ordinal?d.color=this.colors.getColor(l):this.type===ja.Standard?(d.color=this.colors.getColor(a),d.gradientStops=this.colors.getLinearGradientStops(a)):(d.color=this.colors.getColor(d.offset1),d.gradientStops=this.colors.getLinearGradientStops(d.offset1,d.offset0));let h=c;return d.ariaLabel=c+" "+a.toLocaleString(),null!=this.seriesName&&(h=`${this.seriesName} \u2022 ${c}`,d.data.series=this.seriesName,d.ariaLabel=this.seriesName+" "+d.ariaLabel),d.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${function wM(n){return n.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[t]))}(h)}</span>\n        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(a):a.toLocaleString()}</span>\n      `,d}),this.updateDataLabels()}updateDataLabels(){if(this.type===ja.Stacked){this.barsForDataLabels=[];const e={};e.series=this.seriesName;const i=this.series.map(s=>s.value).reduce((s,o)=>o>0?s+o:s,0),r=this.series.map(s=>s.value).reduce((s,o)=>o<0?s+o:s,0);e.total=i+r,e.x=0,e.y=0,e.width=this.xScale(e.total>0?i:r),e.height=this.yScale.bandwidth(),this.barsForDataLabels.push(e)}else this.barsForDataLabels=this.series.map(e=>{const i={};return i.series=this.seriesName??e.label,i.total=e.value,i.x=this.xScale(0),i.y=this.yScale(e.label),i.width=this.xScale(i.total)-this.xScale(0),i.height=this.yScale.bandwidth(),i})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:Ke.Top,this.tooltipType=this.tooltipDisabled?void 0:Vg.tooltip}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(r=>e.name===r.name&&e.value===r.value)}getLabel(e){return e.label?e.label:e.name}trackBy(e,i){return i.label}trackDataLabelBy(e,i){return e+"#"+i.series+"#"+i.total}click(e){this.select.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=We({type:n,selectors:[["g","ngx-charts-series-horizontal",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",tooltipDisabled:"tooltipDisabled",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelWidthChanged:"dataLabelWidthChanged"},features:[ot],attrs:LAe,decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(e,i){1&e&&(B(0,FAe,1,21,"g",0),B(1,BAe,2,2,"g",1)),2&e&&(N("ngForOf",i.bars)("ngForTrackBy",i.trackBy),A(1),N("ngIf",i.showDataLabel))},dependencies:[UIe,zIe,Ci,DM,zn],encapsulation:2,data:{animation:[sC("animationState",[q_(":leave",[Ns({opacity:1}),W_(500,Ns({opacity:0}))])])]},changeDetection:0}),n})(),WIe=(()=>{class n extends R6{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=pc.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new q,this.deactivate=new q,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxWidth={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxWidth={negative:0,positive:0}),this.margin=[10,20+this.dataLabelMaxWidth.positive,10,20+this.dataLabelMaxWidth.negative],this.dims=function BIe({width:n,height:t,margins:e,showXAxis:i=!1,showYAxis:r=!1,xAxisHeight:s=0,yAxisWidth:o=0,showXLabel:a=!1,showYLabel:l=!1,showLegend:c=!1,legendType:u=De.Ordinal,legendPosition:d=pc.Right,columns:h=12}){let f=e[3],p=n,m=t-e[0]-e[2];return c&&d===pc.Right&&(h-=u===De.Ordinal?2:1),p=p*h/12,p=p-e[1]-e[3],i&&(m-=5,m-=s,a&&(m-=30)),r&&(p-=5,p-=o,f+=o,f+=10,l&&(p-=30,f+=30)),p=Math.max(0,p),m=Math.max(0,m),{width:Math.floor(p),height:Math.floor(m),xOffset:Math.floor(f)}}({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`}getXScale(){this.xDomain=this.getXDomain();const e=Xd().range([0,this.dims.width]).domain(this.xDomain);return this.roundDomains?e.nice():e}getYScale(){this.yDomain=this.getYDomain();const e=this.yDomain.length/(this.dims.height/this.barPadding+1);return Tx().rangeRound([0,this.dims.height]).paddingInner(e).domain(this.yDomain)}getXDomain(){const e=this.results.map(s=>s.value);return[this.xScaleMin?Math.min(this.xScaleMin,...e):Math.min(0,...e),this.xScaleMax?Math.max(this.xScaleMax,...e):Math.max(0,...e)]}getYDomain(){return this.results.map(e=>e.label)}onClick(e){this.select.emit(e)}setColors(){let e;e=this.schemeType===De.Ordinal?this.yDomain:this.xDomain,this.colors=new $Ie(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.yDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.xDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onDataLabelMaxWidthChanged(e){e.size.negative?this.dataLabelMaxWidth.negative=Math.max(this.dataLabelMaxWidth.negative,e.size.width):this.dataLabelMaxWidth.positive=Math.max(this.dataLabelMaxWidth.positive,e.size.width),e.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(e,i=!1){e=this.results.find(s=>i?s.label===e.name:s.name===e.name),!(this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value&&s.series===e.series)>-1)&&(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,i=!1){e=this.results.find(s=>i?s.label===e.name:s.name===e.name);const r=this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value&&s.series===e.series);this.activeEntries.splice(r,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qn(n)))(i||n)}}(),n.\u0275cmp=We({type:n,selectors:[["ngx-charts-bar-horizontal"]],contentQueries:function(e,i,r){if(1&e&&yn(r,DAe,5),2&e){let s;It(s=kt())&&(i.tooltipTemplate=s.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",xScaleMax:"xScaleMax",xScaleMin:"xScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[_t],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-horizontal","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","activeEntries","roundEdges","animations","showDataLabel","dataLabelFormatting","noBarWhenZero","select","activate","deactivate","dataLabelWidthChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","wrapTicks","dimensionsChanged"]],template:function(e,i){1&e&&(k(0,"ngx-charts-chart",0),he("legendLabelClick",function(s){return i.onClick(s)})("legendLabelActivate",function(s){return i.onActivate(s,!0)})("legendLabelDeactivate",function(s){return i.onDeactivate(s,!0)}),fe(),k(1,"g",1),B(2,$Ae,1,11,"g",2),B(3,HAe,1,10,"g",3),k(4,"g",4),he("select",function(s){return i.onClick(s)})("activate",function(s){return i.onActivate(s)})("deactivate",function(s){return i.onDeactivate(s)})("dataLabelWidthChanged",function(s){return i.onDataLabelMaxWidthChanged(s)}),M()()()),2&e&&(N("view",ul(22,Og,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),A(1),ue("transform",i.transform),A(1),N("ngIf",i.xAxis),A(1),N("ngIf",i.yAxis),A(1),N("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("series",i.results)("dims",i.dims)("gradient",i.gradient)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("activeEntries",i.activeEntries)("roundEdges",i.roundEdges)("animations",i.animations)("showDataLabel",i.showDataLabel)("dataLabelFormatting",i.dataLabelFormatting)("noBarWhenZero",i.noBarWhenZero))},dependencies:[M6,MIe,NIe,jIe,zn],styles:[".ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n"],encapsulation:2,changeDetection:0}),n})(),Y6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[Nr]]}),n})();aEe();let qIe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[Nr]]}),n})(),YIe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[Nr]]}),n})(),KIe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[Nr]]}),n})(),K6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[Nr]]}),n})();Math;let AM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[Nr]]}),n})(),ZIe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[Nr,AM,K6]]}),n})(),eke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[Nr]]}),n})(),tke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[Nr]]}),n})(),ike=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[Nr,AM,Y6]]}),n})(),ske=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[Nr]]}),n})(),oke=(()=>{class n{constructor(){!function rke(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[Nr,GIe,Y6,qIe,YIe,KIe,ske,K6,ZIe,eke,AM,tke,ike]}),n})(),ake=(()=>{class n{onResize(e){this.setViewSize()}constructor(){this.view=[700,400],this.showXAxis=!0,this.showYAxis=!0,this.gradient=!1,this.showLegend=!0,this.showXAxisLabel=!0,this.xAxisLabel="Country",this.showYAxisLabel=!0,this.yAxisLabel="Population",this.setViewSize()}setViewSize(){this.view=window.innerWidth<=767?[window.innerWidth-20,200]:[700,300]}onSelect(e){}onActivate(e){}onDeactivate(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["app-graphics"]],hostBindings:function(i,r){1&i&&he("resize",function(o){return r.onResize(o)},0,yT)},inputs:{datos:"datos"},decls:1,vars:7,consts:[["scheme","flame",2,"fill","white",3,"view","results","gradient","xAxis","yAxis","xAxisLabel","yAxisLabel","select"]],template:function(i,r){1&i&&(k(0,"ngx-charts-bar-horizontal",0),he("select",function(o){return r.onSelect(o)}),M()),2&i&&N("view",r.view)("results",r.datos)("gradient",r.gradient)("xAxis",r.showXAxis)("yAxis",r.showYAxis)("xAxisLabel",r.xAxisLabel)("yAxisLabel",r.yAxisLabel)},dependencies:[WIe]})}return n})();function lke(n,t){if(1&n&&(k(0,"div",14)(1,"div",15)(2,"h5",16),Te(3),M()()()),2&n){const e=t.$implicit;A(3),xr(e.nombre)}}function cke(n,t){if(1&n&&B(0,lke,4,1,"div",13),2&n){const e=O().$implicit,i=O().ngIf;N("ngForOf",O().filterByTipo(i,e))}}function uke(n,t){1&n&&B(0,cke,1,1,"ng-template",12)}function dke(n,t){if(1&n&&(k(0,"ngb-carousel",10),B(1,uke,1,0,null,11),M()),2&n){const e=O();N("interval",5e3),A(1),N("ngForOf",e.tipos)}}const hke=[{path:"",component:(()=>{class n{constructor(e,i,r,s,o,a){this.s=e,this.movieService=i,this.libroService=r,this.gameService=s,this.seriesService=o,this.animeService=a,this.tipos=["peliculas","series","animes","juegos","libros"],this.recomendaciones=[],this.single=[],this.single2=[],this.valor=0,this.dataMovie=[],this.years=[2023,2022],this.progress={2023:30,2022:70}}getProgressWidth(e){return(this.progress[e]||0)+"%"}ngOnInit(){this.loadData(2023).subscribe(e=>{this.single=e}),this.loadData(2022).subscribe(e=>{this.single2=e}),this.nombres$=this.d()}loadData(e){return o1([this.movieService.getMovies(),this.seriesService.getSeries(),this.animeService.getAnimes(),this.gameService.getGames(),this.libroService.getLibros()]).pipe(we(([i,r,s,o,a])=>[{name:"Peliculas",value:this.cantidadPorAnio(i,e)},{name:"Series",value:this.cantidadPorAnio(r,e)},{name:"Animes",value:this.cantidadPorAnio(s,e)},{name:"Juegos",value:this.cantidadPorAnio(o,e)},{name:"Libros",value:this.cantidadPorAnio(a,e)}]))}cantidadPorAnio(e,i){return e.filter(s=>this.convert(s.date)===i).length}convert(e){var r=e.toString().toLowerCase().split("/");return parseInt(r[2],10)}d(){return o1([this.movieService.getMovies(),this.seriesService.getSeries(),this.animeService.getAnimes(),this.gameService.getGames(),this.libroService.getLibros()]).pipe(we(([e,i,r,s,o])=>{const a=this.filterByScore(e).map(f=>({tipo:"peliculas",nombre:f.name})),l=this.filterByScore(i).map(f=>({tipo:"series",nombre:f.name})),c=this.filterByScore(r).map(f=>({tipo:"animes",nombre:f.name})),u=this.filterByScore(s).map(f=>({tipo:"juegos",nombre:f.name})),d=this.filterByScore(o).map(f=>({tipo:"libros",nombre:f.name})),h=[];return h.push(...a,...l,...c,...u,...d),h}))}filterByScore(e){const i=(new Date).getFullYear();return e.filter(r=>r.score>=5&&this.convert(r.date)==i)}filterByTipo(e,i){return e.filter(r=>r.tipo===i)}click(){this.s.saveData()}read(){var e=this;return P(function*(){e.students=yield e.s.daata(),console.log(e.students)})()}static#e=this.\u0275fac=function(i){return new(i||n)(x(Dve),x(M$),x(N$),x(R$),x(P$),x(O$))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-home"]],decls:26,vars:5,consts:[[1,"prin"],[1,"row"],[1,"col-lg-8",2,"margin","2%","border-radius","3%","border","2px solid #333","box-shadow","0 0 5px rgba(0, 0, 0, 0.5)"],[2,"margin-left","5%","margin-right","5%","margin-top","5%"],[3,"datos"],[1,"col-lg-3",2,"margin","2%","border-radius","3%","border","2px solid #333","box-shadow","0 0 5px rgba(0, 0, 0, 0.5)"],[2,"border-radius","3%","margin-top","5%","border","2px solid #333","box-shadow","0 0 5px rgba(0, 0, 0, 0.5)"],[2,"border-radius","3%","border","2px solid #333","box-shadow","0 0 5px rgba(0, 0, 0, 0.5)","margin-top","5%","min-height","250px"],[3,"interval",4,"ngIf"],[3,"click"],[3,"interval"],[4,"ngFor","ngForOf"],["ngbSlide",""],["class","card","style","border: none; background-color: red;",4,"ngFor","ngForOf"],[1,"card",2,"border","none","background-color","red"],[1,"card-body","custom-list-item",2,"background-color","var(--color-1)","color","var(--color-text)"],[1,"card-title"]],template:function(i,r){1&i&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),Te(4,"Archives"),M(),k(5,"div",3)(6,"h4"),Te(7,"2023"),M(),Fe(8,"app-graphics",4),M(),k(9,"div",3)(10,"h4"),Te(11,"2022"),M(),Fe(12,"app-graphics",4),M()(),k(13,"div",5)(14,"div",6)(15,"h4"),Te(16,"Recomendaciones"),M()(),k(17,"div",7)(18,"h4"),Te(19,"5 Estrellas 2023"),M(),B(20,dke,2,2,"ngb-carousel",8),function yF(n,t){const e=ct();let i;const r=n+Ze;e.firstCreatePass?(i=function aJ(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=el(i.type)),a=Qi(x);try{const l=Tm(!1),c=s();return Tm(l),function XX(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,L(),r,c),c}finally{Qi(a)}}(21,"async"),M()()()(),k(22,"button",9),he("click",function(){return r.click()}),Te(23,"Click"),M(),k(24,"button",9),he("click",function(){return r.read()}),Te(25,"2"),M()),2&i&&(A(8),N("datos",r.single),A(4),N("datos",r.single2),A(8),N("ngIf",xF(21,3,r.nombres$)))},dependencies:[Ci,zn,B5,yk,ake,J2],styles:[".prin[_ngcontent-%COMP%]{margin-right:15%;margin-top:5%}.progress-bar[_ngcontent-%COMP%]{height:10px;background-color:#00f;width:0}  .carousel-control-prev,   .carousel-control-next{display:none}.content[_ngcontent-%COMP%]{font-family:Orbitron,sans-serif;font-size:1.2rem}.graficos[_ngcontent-%COMP%]{align-items:center;justify-content:center}.columnas[_ngcontent-%COMP%]{margin-left:10%}@media (max-width:1000px){.prin[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%;margin-top:5%}.graficos[_ngcontent-%COMP%]{margin:0%}.content[_ngcontent-%COMP%]{font-size:.8rem}.columnas[_ngcontent-%COMP%]{margin:0%}}"]})}return n})()},{path:"Sidebar",component:L$},{path:"Workplace",component:Vle}];let fke=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ae({type:n});static#n=this.\u0275inj=Ce({imports:[f$.forRoot(hke,{useHash:!0}),f$]})}return n})(),pke=(()=>{class n{constructor(){this.title="DATA"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"d-flex","flex-wrap"],[1,"col-12","col-sm-12","col-md-6","col-lg-3"],[1,"col-12","col-sm-12","col-md-6","col-lg-9"]],template:function(i,r){1&i&&(k(0,"div",0)(1,"div",1),Fe(2,"app-sidebar"),M(),k(3,"div",2),Fe(4,"router-outlet"),M()())},dependencies:[jC,L$]})}return n})();const gke_firebase={apiKey:"AIzaSyB14DmtasKcHP3qgspOmYnuoBj2uyoAsmg",authDomain:"data-aba0f.firebaseapp.com",projectId:"data-aba0f",storageBucket:"data-aba0f.appspot.com",messagingSenderId:"305549292857",appId:"1:305549292857:web:e5b4bdafba9fb4d61524e8"};let mke=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ae({type:n,bootstrap:[pke]});static#n=this.\u0275inj=Ce({providers:[s1],imports:[yV,fke,Dle,oke,Sse,vTe,Bue(()=>$ue(gke_firebase)),bve(()=>Cve())]})}return n})();wie().bootstrapModule(mke).catch(n=>console.error(n))},178:Zs=>{function Rr(Wt){return Wt instanceof Buffer?Buffer.from(Wt):new Wt.constructor(Wt.buffer.slice(),Wt.byteOffset,Wt.length)}Zs.exports=function Wa(Wt){return(Wt=Wt||{}).circles?function qe(Wt){var qt=[],dn=[];return Wt.proto?function bt(_e){if("object"!=typeof _e||null===_e)return _e;if(_e instanceof Date)return new Date(_e);if(Array.isArray(_e))return Ye(_e,bt);if(_e instanceof Map)return new Map(Ye(Array.from(_e),bt));if(_e instanceof Set)return new Set(Ye(Array.from(_e),bt));var de={};for(var ht in qt.push(_e),dn.push(de),_e){var Ne=_e[ht];if("object"!=typeof Ne||null===Ne)de[ht]=Ne;else if(Ne instanceof Date)de[ht]=new Date(Ne);else if(Ne instanceof Map)de[ht]=new Map(Ye(Array.from(Ne),bt));else if(Ne instanceof Set)de[ht]=new Set(Ye(Array.from(Ne),bt));else if(ArrayBuffer.isView(Ne))de[ht]=Rr(Ne);else{var Lt=qt.indexOf(Ne);de[ht]=-1!==Lt?dn[Lt]:bt(Ne)}}return qt.pop(),dn.pop(),de}:function Ve(_e){if("object"!=typeof _e||null===_e)return _e;if(_e instanceof Date)return new Date(_e);if(Array.isArray(_e))return Ye(_e,Ve);if(_e instanceof Map)return new Map(Ye(Array.from(_e),Ve));if(_e instanceof Set)return new Set(Ye(Array.from(_e),Ve));var de={};for(var ht in qt.push(_e),dn.push(de),_e)if(!1!==Object.hasOwnProperty.call(_e,ht)){var Ne=_e[ht];if("object"!=typeof Ne||null===Ne)de[ht]=Ne;else if(Ne instanceof Date)de[ht]=new Date(Ne);else if(Ne instanceof Map)de[ht]=new Map(Ye(Array.from(Ne),Ve));else if(Ne instanceof Set)de[ht]=new Set(Ye(Array.from(Ne),Ve));else if(ArrayBuffer.isView(Ne))de[ht]=Rr(Ne);else{var Lt=qt.indexOf(Ne);de[ht]=-1!==Lt?dn[Lt]:Ve(Ne)}}return qt.pop(),dn.pop(),de};function Ye(_e,de){for(var ht=Object.keys(_e),Ne=new Array(ht.length),Lt=0;Lt<ht.length;Lt++){var ys=ht[Lt],dr=_e[ys];if("object"!=typeof dr||null===dr)Ne[ys]=dr;else if(dr instanceof Date)Ne[ys]=new Date(dr);else if(ArrayBuffer.isView(dr))Ne[ys]=Rr(dr);else{var xs=qt.indexOf(dr);Ne[ys]=-1!==xs?dn[xs]:de(dr)}}return Ne}}(Wt):Wt.proto?function Ye(Ve){if("object"!=typeof Ve||null===Ve)return Ve;if(Ve instanceof Date)return new Date(Ve);if(Array.isArray(Ve))return qt(Ve,Ye);if(Ve instanceof Map)return new Map(qt(Array.from(Ve),Ye));if(Ve instanceof Set)return new Set(qt(Array.from(Ve),Ye));var bt={};for(var _e in Ve){var de=Ve[_e];bt[_e]="object"!=typeof de||null===de?de:de instanceof Date?new Date(de):de instanceof Map?new Map(qt(Array.from(de),Ye)):de instanceof Set?new Set(qt(Array.from(de),Ye)):ArrayBuffer.isView(de)?Rr(de):Ye(de)}return bt}:function dn(Ve){if("object"!=typeof Ve||null===Ve)return Ve;if(Ve instanceof Date)return new Date(Ve);if(Array.isArray(Ve))return qt(Ve,dn);if(Ve instanceof Map)return new Map(qt(Array.from(Ve),dn));if(Ve instanceof Set)return new Set(qt(Array.from(Ve),dn));var bt={};for(var _e in Ve)if(!1!==Object.hasOwnProperty.call(Ve,_e)){var de=Ve[_e];bt[_e]="object"!=typeof de||null===de?de:de instanceof Date?new Date(de):de instanceof Map?new Map(qt(Array.from(de),dn)):de instanceof Set?new Set(qt(Array.from(de),dn)):ArrayBuffer.isView(de)?Rr(de):dn(de)}return bt};function qt(Ve,bt){for(var _e=Object.keys(Ve),de=new Array(_e.length),ht=0;ht<_e.length;ht++){var Ne=_e[ht],Lt=Ve[Ne];de[Ne]="object"!=typeof Lt||null===Lt?Lt:Lt instanceof Date?new Date(Lt):ArrayBuffer.isView(Lt)?Rr(Lt):bt(Lt)}return de}}},614:()=>{const Zs=":";const Ka=function(C,...T){if(Ka.translate){const F=Ka.translate(C,T);C=F[0],T=F[1]}let R=Qg(C[0],C.raw[0]);for(let F=1;F<C.length;F++)R+=T[F-1]+Qg(C[F],C.raw[F]);return R},Xg=":";function Qg(C,T){return T.charAt(0)===Xg?C.substring(function Wg(C,T){for(let R=1,F=1;R<C.length;R++,F++)if("\\"===T[F])F++;else if(C[R]===Zs)return R;throw new Error(`Unterminated $localize metadata block in "${T}".`)}(C,T)+1):C}globalThis.$localize=Ka}},Zs=>{var Rr=qe=>Zs(Zs.s=qe);Rr(614),Rr(811)}]);