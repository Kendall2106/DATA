"use strict";(self.webpackChunkTrackify=self.webpackChunkTrackify||[]).push([[179],{881:(vo,qr,dl)=>{function Je(n){return"function"==typeof n}function Qt(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Zt=Qt(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Tn(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Oe{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Je(i))try{i()}catch(s){t=s instanceof Zt?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ye(s)}catch(o){t=t??[],o instanceof Zt?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Zt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ye(t);else{if(t instanceof Oe){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Tn(e,t)}remove(t){const{_finalizers:e}=this;e&&Tn(e,t),t instanceof Oe&&t._removeParent(this)}}Oe.EMPTY=(()=>{const n=new Oe;return n.closed=!0,n})();const Ge=Oe.EMPTY;function Et(n){return n instanceof Oe||n&&"closed"in n&&Je(n.remove)&&Je(n.add)&&Je(n.unsubscribe)}function ye(n){Je(n)?n():n.unsubscribe()}const ge={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vt={setTimeout(n,t,...e){const{delegate:i}=vt;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=vt;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Le(n){vt.setTimeout(()=>{const{onUnhandledError:t}=ge;if(!t)throw n;t(n)})}function Ut(){}const Ls=Ph("C",void 0,void 0);function Ph(n,t,e){return{kind:n,value:t,error:e}}let Vs=null;function hl(n){if(ge.useDeprecatedSynchronousErrorHandling){const t=!Vs;if(t&&(Vs={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Vs;if(Vs=null,e)throw i}}else n()}class jc extends Oe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Et(t)&&t.add(this)):this.destination=Fm}static create(t,e,i){return new fl(t,e,i)}next(t){this.isStopped?Lh(function Fs(n){return Ph("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Lh(function Ar(n){return Ph("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Lh(Ls,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oh=Function.prototype.bind;function Yr(n,t){return Oh.call(n,t)}class Lm{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){da(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){da(i)}else da(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){da(e)}}}class fl extends jc{constructor(t,e,i){let r;if(super(),Je(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&ge.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Yr(t.next,s),error:t.error&&Yr(t.error,s),complete:t.complete&&Yr(t.complete,s)}):r=t}this.destination=new Lm(r)}}function da(n){ge.useDeprecatedSynchronousErrorHandling?function Om(n){ge.useDeprecatedSynchronousErrorHandling&&Vs&&(Vs.errorThrown=!0,Vs.error=n)}(n):Le(n)}function Lh(n,t){const{onStoppedNotification:e}=ge;e&&vt.setTimeout(()=>e(n,t))}const Fm={closed:!0,next:Ut,error:function $x(n){throw n},complete:Ut},Fh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kr(n){return n}function Vm(n){return 0===n.length?Kr:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let dt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function Gx(n){return n&&n instanceof jc||function Hm(n){return n&&Je(n.next)&&Je(n.error)&&Je(n.complete)}(n)&&Et(n)}(e)?e:new fl(e,i,r);return hl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Bm(i))((r,s)=>{const o=new fl({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Fh](){return this}pipe(...e){return Vm(e)(this)}toPromise(e){return new(e=Bm(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function Bm(n){var t;return null!==(t=n??ge.Promise)&&void 0!==t?t:Promise}const $m=Qt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let De=(()=>{class n extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new zx(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new $m}next(e){hl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){hl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){hl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Ge:(this.currentObservers=null,s.push(e),new Oe(()=>{this.currentObservers=null,Tn(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new dt;return e.source=this,e}}return n.create=(t,e)=>new zx(t,e),n})();class zx extends De{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Ge}}function Um(n){return Je(n?.lift)}function Jt(n){return t=>{if(Um(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Mt(n,t,e,i,r){return new Gm(n,t,e,i,r)}class Gm extends jc{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ze(n,t){return Jt((e,i)=>{let r=0;e.subscribe(Mt(i,s=>{i.next(n.call(t,s,r++))}))})}function pl(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}function Hn(n){return this instanceof Hn?(this.v=n,this):new Hn(n)}function ha(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Bn(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Yx=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function tN(n){return Je(n?.then)}function nN(n){return Je(n[Fh])}function iN(n){return Symbol.asyncIterator&&Je(n?.[Symbol.asyncIterator])}function rN(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sN=function Rq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oN(n){return Je(n?.[sN])}function aN(n){return function ml(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Hn?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Hn(e.read());if(r)return yield Hn(void 0);yield yield Hn(i)}}finally{e.releaseLock()}})}function lN(n){return Je(n?.getReader)}function Un(n){if(n instanceof dt)return n;if(null!=n){if(nN(n))return function Nq(n){return new dt(t=>{const e=n[Fh]();if(Je(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Yx(n))return function Pq(n){return new dt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(tN(n))return function Oq(n){return new dt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Le)})}(n);if(iN(n))return cN(n);if(oN(n))return function Lq(n){return new dt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(lN(n))return function Fq(n){return cN(aN(n))}(n)}throw rN(n)}function cN(n){return new dt(t=>{(function Vq(n,t){var e,i,r,s;return function pe(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=ha(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function bo(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Xn(n,t,e=1/0){return Je(t)?Xn((i,r)=>ze((s,o)=>t(i,s,r,o))(Un(n(i,r))),e):("number"==typeof t&&(e=t),Jt((i,r)=>function Bq(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{s&&t.next(m),c++;let g=!1;Un(e(m,u++)).subscribe(Mt(t,v=>{r?.(v),s?f(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const v=l.shift();o?bo(t,o,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return n.subscribe(Mt(t,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function qc(n=1/0){return Xn(Kr,n)}const Xr=new dt(n=>n.complete());function uN(n){return n&&Je(n.schedule)}function Kx(n){return n[n.length-1]}function qm(n){return Je(Kx(n))?n.pop():void 0}function Hh(n){return uN(Kx(n))?n.pop():void 0}function Ym(n,t=0){return Jt((e,i)=>{e.subscribe(Mt(i,r=>bo(i,n,()=>i.next(r),t),()=>bo(i,n,()=>i.complete(),t),r=>bo(i,n,()=>i.error(r),t)))})}function Km(n,t=0){return Jt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function dN(n,t){if(!n)throw new Error("Iterable cannot be null");return new dt(e=>{bo(e,t,()=>{const i=n[Symbol.asyncIterator]();bo(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Qn(n,t){return t?function qq(n,t){if(null!=n){if(nN(n))return function Uq(n,t){return Un(n).pipe(Km(t),Ym(t))}(n,t);if(Yx(n))return function zq(n,t){return new dt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(tN(n))return function Gq(n,t){return Un(n).pipe(Km(t),Ym(t))}(n,t);if(iN(n))return dN(n,t);if(oN(n))return function jq(n,t){return new dt(e=>{let i;return bo(e,t,()=>{i=n[sN](),bo(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>Je(i?.return)&&i.return()})}(n,t);if(lN(n))return function Wq(n,t){return dN(aN(n),t)}(n,t)}throw rN(n)}(n,t):Un(n)}function $h(...n){const t=Hh(n),e=function $q(n,t){return"number"==typeof Kx(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Un(i[0]):qc(e)(Qn(i,t)):Xr}class Gn extends De{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function we(...n){return Qn(n,Hh(n))}function hN(n={}){const{connector:t=(()=>new De),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Jt((m,g)=>{c++,!d&&!u&&h();const v=l=l??t();g.add(()=>{c--,0===c&&!d&&!u&&(a=Xx(p,r))}),v.subscribe(g),!o&&c>0&&(o=new fl({next:_=>v.next(_),error:_=>{d=!0,h(),a=Xx(f,e,_),v.error(_)},complete:()=>{u=!0,h(),a=Xx(f,i),v.complete()}}),Un(m).subscribe(o))})(s)}}function Xx(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new fl({next:()=>{i.unsubscribe(),n()}});return Un(t(...e)).subscribe(i)}function ui(n,t){return Jt((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(Mt(i,l=>{r?.unsubscribe();let c=0;const u=s++;Un(n(l,u)).subscribe(r=Mt(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Yq(n,t){return n===t}function Nt(n){for(let t in n)if(n[t]===Nt)return t;throw Error("Could not find renamed property on target object.")}function Qm(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Zn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Zn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Qx(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Kq=Nt({__forward_ref__:Nt});function yt(n){return n.__forward_ref__=yt,n.toString=function(){return Zn(this())},n}function Re(n){return Zx(n)?n():n}function Zx(n){return"function"==typeof n&&n.hasOwnProperty(Kq)&&n.__forward_ref__===yt}function Jx(n){return n&&!!n.\u0275providers}const fN="https://g.co/ng/security#xss";class P extends Error{constructor(t,e){super(function Zm(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Fe(n){return"string"==typeof n?n:null==n?"":String(n)}function eT(n,t){throw new P(-201,!1)}function Qr(n,t){null==n&&function ke(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function be(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jm(n){return pN(n,t_)||pN(n,gN)}function pN(n,t){return n.hasOwnProperty(t)?n[t]:null}function e_(n){return n&&(n.hasOwnProperty(tT)||n.hasOwnProperty(iY))?n[tT]:null}const t_=Nt({\u0275prov:Nt}),tT=Nt({\u0275inj:Nt}),gN=Nt({ngInjectableDef:Nt}),iY=Nt({ngInjectorDef:Nt});var tt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(tt||{});let nT;function ur(n){const t=nT;return nT=n,t}function _N(n,t,e){const i=Jm(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&tt.Optional?null:void 0!==t?t:void eT(Zn(n))}const zt=globalThis;class X{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=W({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Uh={},aT="__NG_DI_FLAG__",n_="ngTempTokenPath",oY=/\n/gm,yN="__source";let Yc;function fa(n){const t=Yc;return Yc=n,t}function cY(n,t=tt.Default){if(void 0===Yc)throw new P(-203,!1);return null===Yc?_N(n,void 0,t):Yc.get(n,t&tt.Optional?null:void 0,t)}function O(n,t=tt.Default){return(function mN(){return nT}()||cY)(Re(n),t)}function ne(n,t=tt.Default){return O(n,i_(t))}function i_(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function lT(n){const t=[];for(let e=0;e<n.length;e++){const i=Re(n[e]);if(Array.isArray(i)){if(0===i.length)throw new P(900,!1);let r,s=tt.Default;for(let o=0;o<i.length;o++){const a=i[o],l=uY(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(O(r,s))}else t.push(O(i))}return t}function Gh(n,t){return n[aT]=t,n.prototype[aT]=t,n}function uY(n){return n[aT]}function xo(n){return{toString:n}.toString()}var r_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(r_||{}),Zr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Zr||{});const Bs={},bt=[],s_=Nt({\u0275cmp:Nt}),cT=Nt({\u0275dir:Nt}),uT=Nt({\u0275pipe:Nt}),xN=Nt({\u0275mod:Nt}),To=Nt({\u0275fac:Nt}),zh=Nt({__NG_ELEMENT_ID__:Nt}),TN=Nt({__NG_ENV_ID__:Nt});function CN(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function dT(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];SN(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function wN(n){return 3===n||4===n||6===n}function SN(n){return 64===n.charCodeAt(0)}function jh(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||DN(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function DN(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const EN="ng-template";function fY(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==CN(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function AN(n){return 4===n.type&&n.value!==EN}function pY(n,t,e){return t===(4!==n.type||e?n.value:EN)}function gY(n,t,e){let i=4;const r=n.attrs||[],s=function vY(n){for(let t=0;t<n.length;t++)if(wN(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!pY(n,l,e)||""===l&&1===t.length){if(gs(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!fY(n.attrs,c,e)){if(gs(i))return!1;o=!0}continue}const d=mY(8&i?"class":l,r,AN(n),e);if(-1===d){if(gs(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==CN(f,c,0)||2&i&&c!==h){if(gs(i))return!1;o=!0}}}}else{if(!o&&!gs(i)&&!gs(l))return!1;if(o&&gs(l))continue;o=!1,i=l|1&i}}return gs(i)||o}function gs(n){return 0==(1&n)}function mY(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function yY(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function IN(n,t,e=!1){for(let i=0;i<t.length;i++)if(gY(n,t[i],e))return!0;return!1}function bY(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function kN(n,t){return n?":not("+t.trim()+")":t}function xY(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!gs(o)&&(t+=kN(s,r),r=""),i=o,s=s||!gs(i);e++}return""!==r&&(t+=kN(s,r)),t}function Ve(n){return xo(()=>{const t=RN(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===r_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Zr.Emulated,styles:n.styles||bt,_:null,schemas:n.schemas||null,tView:null,id:""};NN(e);const i=n.dependencies;return e.directiveDefs=o_(i,!1),e.pipeDefs=o_(i,!0),e.id=function IY(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function SY(n){return ht(n)||Ti(n)}function DY(n){return null!==n}function Te(n){return xo(()=>({type:n.type,bootstrap:n.bootstrap||bt,declarations:n.declarations||bt,imports:n.imports||bt,exports:n.exports||bt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function MN(n,t){if(null==n)return Bs;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function ee(n){return xo(()=>{const t=RN(n);return NN(t),t})}function ht(n){return n[s_]||null}function Ti(n){return n[cT]||null}function Qi(n){return n[uT]||null}function kr(n,t){const e=n[xN]||null;if(!e&&!0===t)throw new Error(`Type ${Zn(n)} does not have '\u0275mod' property.`);return e}function RN(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Bs,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||bt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:MN(n.inputs,t),outputs:MN(n.outputs)}}function NN(n){n.features?.forEach(t=>t(n))}function o_(n,t){if(!n)return null;const e=t?Qi:SY;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(DY)}const Cn=0,ue=1,je=2,on=3,ms=4,Wh=5,Vi=6,Xc=7,An=8,pa=9,Qc=10,Be=11,qh=12,PN=13,Zc=14,In=15,Yh=16,Jc=17,Hs=18,Kh=19,ON=20,ga=21,Co=22,Xh=23,Qh=24,nt=25,hT=1,LN=2,$s=7,eu=9,Ci=11;function hr(n){return Array.isArray(n)&&"object"==typeof n[hT]}function Zi(n){return Array.isArray(n)&&!0===n[hT]}function fT(n){return 0!=(4&n.flags)}function vl(n){return n.componentOffset>-1}function l_(n){return 1==(1&n.flags)}function _s(n){return!!n.template}function pT(n){return 0!=(512&n[je])}function yl(n,t){return n.hasOwnProperty(To)?n[To]:null}let wi=null,c_=!1;function Jr(n){const t=wi;return wi=n,t}const BN={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function $N(n){if(!Jh(n)||n.dirty){if(!n.producerMustRecompute(n)&&!zN(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function GN(n){n.dirty=!0,function UN(n){if(void 0===n.liveConsumerNode)return;const t=c_;c_=!0;try{for(const e of n.liveConsumerNode)e.dirty||GN(e)}finally{c_=t}}(n),n.consumerMarkedDirty?.(n)}function mT(n){return n&&(n.nextProducerIndex=0),Jr(n)}function _T(n,t){if(Jr(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Jh(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)u_(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function zN(n){tu(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||($N(e),i!==e.version))return!0}return!1}function jN(n){if(tu(n),Jh(n))for(let t=0;t<n.producerNode.length;t++)u_(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function u_(n,t){if(function qN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),tu(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)u_(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];tu(r),r.producerIndexOfThis[i]=t}}function Jh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function tu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let YN=null;const ZN=()=>{},UY=(()=>({...BN,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:ZN}))();class GY{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function kt(){return JN}function JN(n){return n.type.prototype.ngOnChanges&&(n.setInput=jY),zY}function zY(){const n=tP(this),t=n?.current;if(t){const e=n.previous;if(e===Bs)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function jY(n,t,e,i){const r=this.declaredInputs[e],s=tP(n)||function WY(n,t){return n[eP]=t}(n,{previous:Bs,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new GY(l&&l.currentValue,t,a===Bs),n[i]=t}kt.ngInherit=!0;const eP="__ngSimpleChanges__";function tP(n){return n[eP]||null}const Us=function(n,t,e){};function jt(n){for(;Array.isArray(n);)n=n[Cn];return n}function d_(n,t){return jt(t[n])}function fr(n,t){return jt(t[n.index])}function rP(n,t){return n.data[t]}function Mr(n,t){const e=t[n];return hr(e)?e:e[Cn]}function _a(n,t){return null==t?null:n[t]}function sP(n){n[Jc]=0}function ZY(n){1024&n[je]||(n[je]|=1024,aP(n,1))}function oP(n){1024&n[je]&&(n[je]&=-1025,aP(n,-1))}function aP(n,t){let e=n[on];if(null===e)return;e[Wh]+=t;let i=e;for(e=e[on];null!==e&&(1===t&&1===i[Wh]||-1===t&&0===i[Wh]);)e[Wh]+=t,i=e,e=e[on]}const Me={lFrame:vP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function uP(){return Me.bindingsEnabled}function iu(){return null!==Me.skipHydrationRootTNode}function B(){return Me.lFrame.lView}function ft(){return Me.lFrame.tView}function Qe(n){return Me.lFrame.contextLView=n,n[An]}function Ze(n){return Me.lFrame.contextLView=null,n}function Si(){let n=dP();for(;null!==n&&64===n.type;)n=n.parent;return n}function dP(){return Me.lFrame.currentTNode}function Gs(n,t){const e=Me.lFrame;e.currentTNode=n,e.isParent=t}function TT(){return Me.lFrame.isParent}function CT(){Me.lFrame.isParent=!1}function Ji(){const n=Me.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ru(){return Me.lFrame.bindingIndex++}function So(n){const t=Me.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function uK(n,t){const e=Me.lFrame;e.bindingIndex=e.bindingRootIndex=n,wT(t)}function wT(n){Me.lFrame.currentDirectiveIndex=n}function gP(){return Me.lFrame.currentQueryIndex}function DT(n){Me.lFrame.currentQueryIndex=n}function hK(n){const t=n[ue];return 2===t.type?t.declTNode:1===t.type?n[Vi]:null}function mP(n,t,e){if(e&tt.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&tt.Host||(r=hK(s),null===r||(s=s[Zc],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Me.lFrame=_P();return i.currentTNode=t,i.lView=n,!0}function ET(n){const t=_P(),e=n[ue];Me.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function _P(){const n=Me.lFrame,t=null===n?null:n.child;return null===t?vP(n):t}function vP(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function yP(){const n=Me.lFrame;return Me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const bP=yP;function AT(){const n=yP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function er(){return Me.lFrame.selectedIndex}function bl(n){Me.lFrame.selectedIndex=n}function pn(){const n=Me.lFrame;return rP(n.tView,n.selectedIndex)}function gn(){Me.lFrame.currentNamespace="svg"}let TP=!0;function f_(){return TP}function va(n){TP=n}function p_(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function g_(n,t,e){CP(n,t,3,e)}function m_(n,t,e,i){(3&n[je])===e&&CP(n,t,e,i)}function IT(n,t){let e=n[je];(3&e)===t&&(e&=8191,e+=1,n[je]=e)}function CP(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Jc]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Jc]+=65536),(a<s||-1==s)&&(vK(n,e,t,l),n[Jc]=(4294901760&n[Jc])+l+2),l++}function wP(n,t){Us(4,n,t);const e=Jr(null);try{t.call(n)}finally{Jr(e),Us(5,n,t)}}function vK(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];r?n[je]>>13<n[Jc]>>16&&(3&n[je])===t&&(n[je]+=8192,wP(a,s)):wP(a,s)}const su=-1;class tf{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function MT(n){return n!==su}function nf(n){return 32767&n}function rf(n,t){let e=function TK(n){return n>>16}(n),i=t;for(;e>0;)i=i[Zc],e--;return i}let RT=!0;function __(n){const t=RT;return RT=n,t}const SP=255,DP=5;let CK=0;const zs={};function v_(n,t){const e=EP(n,t);if(-1!==e)return e;const i=t[ue];i.firstCreatePass&&(n.injectorIndex=t.length,NT(i.data,n),NT(t,null),NT(i.blueprint,null));const r=y_(n,t),s=n.injectorIndex;if(MT(r)){const o=nf(r),a=rf(r,t),l=a[ue].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function NT(n,t){n.push(0,0,0,0,0,0,0,0,t)}function EP(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function y_(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=PP(r),null===i)return su;if(e++,r=r[Zc],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return su}function PT(n,t,e){!function wK(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(zh)&&(i=e[zh]),null==i&&(i=e[zh]=CK++);const r=i&SP;t.data[n+(r>>DP)]|=1<<r}(n,t,e)}function AP(n,t,e){if(e&tt.Optional||void 0!==n)return n;eT()}function IP(n,t,e,i){if(e&tt.Optional&&void 0===i&&(i=null),!(e&(tt.Self|tt.Host))){const r=n[pa],s=ur(void 0);try{return r?r.get(t,i,e&tt.Optional):_N(t,i,e&tt.Optional)}finally{ur(s)}}return AP(i,0,e)}function kP(n,t,e,i=tt.Default,r){if(null!==n){if(2048&t[je]&&!(i&tt.Self)){const o=function kK(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[je]&&!(512&o[je]);){const a=MP(s,o,e,i|tt.Self,zs);if(a!==zs)return a;let l=s.parent;if(!l){const c=o[ON];if(c){const u=c.get(e,zs,i);if(u!==zs)return u}l=PP(o),o=o[Zc]}s=l}return r}(n,t,e,i,zs);if(o!==zs)return o}const s=MP(n,t,e,i,zs);if(s!==zs)return s}return IP(t,e,i,r)}function MP(n,t,e,i,r){const s=function EK(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(zh)?n[zh]:void 0;return"number"==typeof t?t>=0?t&SP:IK:t}(e);if("function"==typeof s){if(!mP(t,n,i))return i&tt.Host?AP(r,0,i):IP(t,e,i,r);try{let o;if(o=s(i),null!=o||i&tt.Optional)return o;eT()}finally{bP()}}else if("number"==typeof s){let o=null,a=EP(n,t),l=su,c=i&tt.Host?t[In][Vi]:null;for((-1===a||i&tt.SkipSelf)&&(l=-1===a?y_(n,t):t[a+8],l!==su&&NP(i,!1)?(o=t[ue],a=nf(l),t=rf(l,t)):a=-1);-1!==a;){const u=t[ue];if(RP(s,a,u.data)){const d=DK(a,t,e,o,i,c);if(d!==zs)return d}l=t[a+8],l!==su&&NP(i,t[ue].data[a+8]===c)&&RP(s,a,t)?(o=u,a=nf(l),t=rf(l,t)):a=-1}}return r}function DK(n,t,e,i,r,s){const o=t[ue],a=o.data[n+8],u=b_(a,o,e,null==i?vl(a)&&RT:i!=o&&0!=(3&a.type),r&tt.Host&&s===a);return null!==u?xl(t,o,u,a):zs}function b_(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=o[l];if(f&&_s(f)&&f.type===e)return l}return null}function xl(n,t,e,i){let r=n[e];const s=t.data;if(function yK(n){return n instanceof tf}(r)){const o=r;o.resolving&&function Xq(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new P(-200,`Circular dependency in DI detected for ${n}${e}`)}(function It(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Fe(n)}(s[e]));const a=__(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?ur(o.injectImpl):null;mP(n,i,tt.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function _K(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=JN(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&ur(c),__(a),o.resolving=!1,bP()}}return r}function RP(n,t,e){return!!(e[t+(n>>DP)]&1<<n)}function NP(n,t){return!(n&tt.Self||n&tt.Host&&t)}class tr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return kP(this._tNode,this._lView,t,i_(i),e)}}function IK(){return new tr(Si(),B())}function kn(n){return xo(()=>{const t=n.prototype.constructor,e=t[To]||OT(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[To]||OT(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function OT(n){return Zx(n)?()=>{const t=OT(Re(n));return t&&t()}:yl(n)}function PP(n){const t=n[ue],e=t.type;return 2===e?t.declTNode:1===e?n[Vi]:null}const lu="__parameters__";function uu(n,t,e){return xo(()=>{const i=function LT(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(lu)?l[lu]:Object.defineProperty(l,lu,{value:[]})[lu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function hu(n,t){n.forEach(e=>Array.isArray(e)?hu(e,t):t(e))}function LP(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function x_(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function lf(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Rr(n,t,e){let i=fu(n,t);return i>=0?n[1|i]=e:(i=~i,function FK(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function FT(n,t){const e=fu(n,t);if(e>=0)return n[1|e]}function fu(n,t){return function FP(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const ts=Gh(uu("Optional"),8),C_=Gh(uu("SkipSelf"),4);function A_(n){return 128==(128&n.flags)}var ya=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ya||{});const rX=/^>|^->|<!--|-->|--!>|<!-$/g,sX=/(<|>)/g,oX="\u200b$1\u200b";const UT=new Map;let aX=0;const zT="__ngContext__";function Bi(n,t){hr(t)?(n[zT]=t[Kh],function cX(n){UT.set(n[Kh],n)}(t)):n[zT]=t}let jT;function WT(n,t){return jT(n,t)}function df(n){const t=n[on];return Zi(t)?t[on]:t}function iO(n){return sO(n[qh])}function rO(n){return sO(n[ms])}function sO(n){for(;null!==n&&!Zi(n);)n=n[ms];return n}function mu(n,t,e,i,r){if(null!=i){let s,o=!1;Zi(i)?s=i:hr(i)&&(o=!0,i=i[Cn]);const a=jt(i);0===n&&null!==e?null==r?cO(t,e,a):Tl(t,e,a,r||null,!0):1===n&&null!==e?Tl(t,e,a,r||null,!0):2===n?function O_(n,t,e){const i=N_(n,t);i&&function AX(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function MX(n,t,e,i,r){const s=e[$s];s!==jt(e)&&mu(t,n,i,s,r);for(let a=Ci;a<e.length;a++){const l=e[a];ff(l[ue],l,n,t,i,s)}}(t,n,s,e,r)}}function qT(n,t){return n.createComment(function KP(n){return n.replace(rX,t=>t.replace(sX,oX))}(t))}function M_(n,t,e){return n.createElement(t,e)}function aO(n,t){const e=n[eu],i=e.indexOf(t);oP(t),e.splice(i,1)}function R_(n,t){if(n.length<=Ci)return;const e=Ci+t,i=n[e];if(i){const r=i[Yh];null!==r&&r!==n&&aO(r,i),t>0&&(n[e-1][ms]=i[ms]);const s=x_(n,Ci+t);!function bX(n,t){ff(n,t,t[Be],2,null,null),t[Cn]=null,t[Vi]=null}(i[ue],i);const o=s[Hs];null!==o&&o.detachView(s[ue]),i[on]=null,i[ms]=null,i[je]&=-129}return i}function YT(n,t){if(!(256&t[je])){const e=t[Be];t[Xh]&&jN(t[Xh]),t[Qh]&&jN(t[Qh]),e.destroyNode&&ff(n,t,e,3,null,null),function CX(n){let t=n[qh];if(!t)return KT(n[ue],n);for(;t;){let e=null;if(hr(t))e=t[qh];else{const i=t[Ci];i&&(e=i)}if(!e){for(;t&&!t[ms]&&t!==n;)hr(t)&&KT(t[ue],t),t=t[on];null===t&&(t=n),hr(t)&&KT(t[ue],t),e=t&&t[ms]}t=e}}(t)}}function KT(n,t){if(!(256&t[je])){t[je]&=-129,t[je]|=256,function EX(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof tf)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Us(4,a,l);try{l.call(a)}finally{Us(5,a,l)}}else{Us(4,r,s);try{s.call(r)}finally{Us(5,r,s)}}}}}(n,t),function DX(n,t){const e=n.cleanup,i=t[Xc];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[Xc]=null);const r=t[ga];if(null!==r){t[ga]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[ue].type&&t[Be].destroy();const e=t[Yh];if(null!==e&&Zi(t[on])){e!==t[on]&&aO(e,t);const i=t[Hs];null!==i&&i.detachView(n)}!function uX(n){UT.delete(n[Kh])}(t)}}function XT(n,t,e){return function lO(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[Cn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Zr.None||s===Zr.Emulated)return null}return fr(i,e)}}(n,t.parent,e)}function Tl(n,t,e,i,r){n.insertBefore(t,e,i,r)}function cO(n,t,e){n.appendChild(t,e)}function uO(n,t,e,i,r){null!==i?Tl(n,t,e,i,r):cO(n,t,e)}function N_(n,t){return n.parentNode(t)}function dO(n,t,e){return fO(n,t,e)}let QT,L_,tC,F_,fO=function hO(n,t,e){return 40&n.type?fr(n,e):null};function P_(n,t,e,i){const r=XT(n,i,t),s=t[Be],a=dO(i.parent||t[Vi],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)uO(s,r,e[l],a,!1);else uO(s,r,e,a,!1);void 0!==QT&&QT(s,i,t,e,r)}function hf(n,t){if(null!==t){const e=t.type;if(3&e)return fr(t,n);if(4&e)return ZT(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return hf(n,i);{const r=n[t.index];return Zi(r)?ZT(-1,r):jt(r)}}if(32&e)return WT(t,n)()||jt(n[t.index]);{const i=gO(n,t);return null!==i?Array.isArray(i)?i[0]:hf(df(n[In]),i):hf(n,t.next)}}return null}function gO(n,t){return null!==t?n[In][Vi].projection[t.projection]:null}function ZT(n,t){const e=Ci+n+1;if(e<t.length){const i=t[e],r=i[ue].firstChild;if(null!==r)return hf(i,r)}return t[$s]}function JT(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&Bi(jt(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)JT(n,t,e.child,i,r,s,!1),mu(t,n,r,a,s);else if(32&l){const c=WT(e,i);let u;for(;u=c();)mu(t,n,r,u,s);mu(t,n,r,a,s)}else 16&l?_O(n,t,i,e,r,s):mu(t,n,r,a,s);e=o?e.projectionNext:e.next}}function ff(n,t,e,i,r,s){JT(e,i,n.firstChild,t,r,s,!1)}function _O(n,t,e,i,r,s){const o=e[In],l=o[Vi].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)mu(t,n,r,l[c],s);else{let c=l;const u=o[on];A_(i)&&(c.flags|=128),JT(n,t,c,u,r,s,!0)}}function vO(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function yO(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&dT(n,t,i),null!==r&&vO(n,t,r),null!==s&&function NX(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function _u(n){return function eC(){if(void 0===L_&&(L_=null,zt.trustedTypes))try{L_=zt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return L_}()?.createHTML(n)||n}function vu(){if(void 0!==tC)return tC;if(typeof document<"u")return document;throw new P(210,!1)}function bO(n){return function nC(){if(void 0===F_&&(F_=null,zt.trustedTypes))try{F_=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return F_}()?.createHTML(n)||n}class CO{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fN})`}}function ba(n){return n instanceof CO?n.changingThisBreaksApplicationSecurity:n}function pf(n,t){const e=function GX(n){return n instanceof CO&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${fN})`)}return e===t}class zX{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(_u(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class jX{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=_u(t),e}}const qX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iC(n){return(n=String(n)).match(qX)?n:"unsafe:"+n}function Do(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function gf(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const SO=Do("area,br,col,hr,img,wbr"),DO=Do("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),EO=Do("rp,rt"),rC=gf(SO,gf(DO,Do("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gf(EO,Do("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gf(EO,DO)),sC=Do("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),AO=gf(sC,Do("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Do("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),YX=Do("script,style,template");class KX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rC.hasOwnProperty(e))return this.sanitizedSomething=!0,!YX.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!AO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;sC[a]&&(l=iC(l)),this.buf.push(" ",o,'="',IO(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rC.hasOwnProperty(e)&&!SO.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(IO(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const XX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QX=/([^\#-~ |!])/g;function IO(n){return n.replace(/&/g,"&amp;").replace(XX,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(QX,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let V_;function oC(n){return"content"in n&&function JX(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var yu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(yu||{});function kO(n){const t=mf();return t?bO(t.sanitize(yu.HTML,n)||""):pf(n,"HTML")?bO(ba(n)):function ZX(n,t){let e=null;try{V_=V_||function wO(n){const t=new jX(n);return function WX(){try{return!!(new window.DOMParser).parseFromString(_u(""),"text/html")}catch{return!1}}()?new zX(t):t}(n);let i=t?String(t):"";e=V_.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=V_.getInertBodyElement(i)}while(i!==s);return _u((new KX).sanitizeChildren(oC(e)||e))}finally{if(e){const i=oC(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(vu(),Fe(n))}function xa(n){const t=mf();return t?t.sanitize(yu.URL,n)||"":pf(n,"URL")?ba(n):iC(Fe(n))}function mf(){const n=B();return n&&n[Qc].sanitizer}const _f=new X("ENVIRONMENT_INITIALIZER"),NO=new X("INJECTOR",-1),PO=new X("INJECTOR_DEF_TYPES");class aC{get(t,e=Uh){if(e===Uh){const i=new Error(`NullInjectorError: No provider for ${Zn(t)}!`);throw i.name="NullInjectorError",i}return e}}function sQ(...n){return{\u0275providers:OO(0,n),\u0275fromNgModule:!0}}function OO(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return hu(t,o=>{const a=o;B_(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&LO(r,s),e}function LO(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];cC(r,s=>{t(s,i)})}}function B_(n,t,e,i){if(!(n=Re(n)))return!1;let r=null,s=e_(n);const o=!s&&ht(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=e_(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)B_(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{hu(s.imports,u=>{B_(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&LO(c,t)}if(!a){const c=yl(r)||(()=>new r);t({provide:r,useFactory:c,deps:bt},r),t({provide:PO,useValue:r,multi:!0},r),t({provide:_f,useValue:()=>O(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;cC(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function cC(n,t){for(let e of n)Jx(e)&&(e=e.\u0275providers),Array.isArray(e)?cC(e,t):t(e)}const oQ=Nt({provide:String,useValue:Nt});function uC(n){return null!==n&&"object"==typeof n&&oQ in n}function Cl(n){return"function"==typeof n}const dC=new X("Set Injector scope."),H_={},lQ={};let hC;function $_(){return void 0===hC&&(hC=new aC),hC}class gr{}class bu extends gr{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pC(t,o=>this.processProvider(o)),this.records.set(NO,xu(void 0,this)),r.has("environment")&&this.records.set(gr,xu(void 0,this));const s=this.records.get(dC);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(PO.multi,bt,tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=fa(this),i=ur(void 0);try{return t()}finally{fa(e),ur(i)}}get(t,e=Uh,i=tt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(TN))return t[TN](this);i=i_(i);const s=fa(this),o=ur(void 0);try{if(!(i&tt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function fQ(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(t)&&Jm(t);l=c&&this.injectableDefInScope(c)?xu(fC(t),H_):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&tt.Self?$_():this.parent).get(t,e=i&tt.Optional&&e===Uh?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[n_]=a[n_]||[]).unshift(Zn(t)),s)throw a;return function dY(n,t,e,i){const r=n[n_];throw t[yN]&&r.unshift(t[yN]),n.message=function hY(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Zn(t);if(Array.isArray(t))r=t.map(Zn).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Zn(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(oY,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[n_]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{ur(o),fa(s)}}resolveInjectorInitializers(){const t=fa(this),e=ur(void 0);try{const r=this.get(_f.multi,bt,tt.Self);for(const s of r)s()}finally{fa(t),ur(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Zn(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(t){let e=Cl(t=Re(t))?t:Re(t&&t.provide);const i=function uQ(n){return uC(n)?xu(void 0,n.useValue):xu(BO(n),H_)}(t);if(Cl(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=xu(void 0,H_,!0),r.factory=()=>lT(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===H_&&(e.value=lQ,e.value=e.factory()),"object"==typeof e.value&&e.value&&function hQ(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Re(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function fC(n){const t=Jm(n),e=null!==t?t.factory:yl(n);if(null!==e)return e;if(n instanceof X)throw new P(204,!1);if(n instanceof Function)return function cQ(n){const t=n.length;if(t>0)throw lf(t,"?"),new P(204,!1);const e=function nY(n){return n&&(n[t_]||n[gN])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new P(204,!1)}function BO(n,t,e){let i;if(Cl(n)){const r=Re(n);return yl(r)||fC(r)}if(uC(n))i=()=>Re(n.useValue);else if(function VO(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...lT(n.deps||[]));else if(function FO(n){return!(!n||!n.useExisting)}(n))i=()=>O(Re(n.useExisting));else{const r=Re(n&&(n.useClass||n.provide));if(!function dQ(n){return!!n.deps}(n))return yl(r)||fC(r);i=()=>new r(...lT(n.deps))}return i}function xu(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function pC(n,t){for(const e of n)Array.isArray(e)?pC(e,t):e&&Jx(e)?pC(e.\u0275providers,t):t(e)}const U_=new X("AppId",{providedIn:"root",factory:()=>pQ}),pQ="ng",HO=new X("Platform Initializer"),di=new X("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$O=new X("AnimationModuleType"),UO=new X("CSP nonce",{providedIn:"root",factory:()=>vu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let GO=(n,t,e)=>null;function TC(n,t,e=!1){return GO(n,t,e)}class wQ{}class WO{}class DQ{resolveComponentFactory(t){throw function SQ(n){const t=Error(`No component factory found for ${Zn(n)}.`);return t.ngComponent=n,t}(t)}}let wl=(()=>{class n{static#e=this.NULL=new DQ}return n})();function EQ(){return wu(Si(),B())}function wu(n,t){return new $e(fr(n,t))}let $e=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=EQ}return n})();function AQ(n){return n instanceof $e?n.nativeElement:n}class Ta{}let Di=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function IQ(){const n=B(),e=Mr(Si().index,n);return(hr(e)?e:n)[Be]}()}return n})(),kQ=(()=>{class n{static#e=this.\u0275prov=W({token:n,providedIn:"root",factory:()=>null})}return n})();class Su{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const YO=new Su("16.2.12"),SC={};function ZO(n,t=null,e=null,i){const r=JO(n,t,e,i);return r.resolveInjectorInitializers(),r}function JO(n,t=null,e=null,i,r=new Set){const s=[e||bt,sQ(n)];return i=i||("object"==typeof n?void 0:Zn(n)),new bu(s,t||$_(),i||null,r)}let mn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Uh;static#t=this.NULL=new aC;static create(e,i){if(Array.isArray(e))return ZO({name:""},i,e,"");{const r=e.name??"";return ZO({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=W({token:n,providedIn:"any",factory:()=>O(NO)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function EC(n){return n.ngOriginalError}class Eo{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&EC(t);for(;e&&EC(e);)e=EC(e);return e||null}}function IC(n){return t=>{setTimeout(n,void 0,t)}}const K=class FQ extends De{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=IC(s),r&&(r=IC(r)),o&&(o=IC(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof Oe&&t.add(a),a}};function tL(...n){}class Ae{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new K(!1),this.onMicrotaskEmpty=new K(!1),this.onStable=new K(!1),this.onError=new K(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function VQ(){const n="function"==typeof zt.requestAnimationFrame;let t=zt[n?"requestAnimationFrame":"setTimeout"],e=zt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function $Q(n){const t=()=>{!function HQ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(zt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,MC(n),n.isCheckStableRunning=!0,kC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),MC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{if(function GQ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,s,o,a);try{return nL(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),iL(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return nL(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),iL(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,MC(n),kC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new P(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,BQ,tL,tL);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const BQ={};function kC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function MC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function nL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function iL(n){n._nesting--,kC(n)}class UQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new K,this.onMicrotaskEmpty=new K,this.onStable=new K,this.onError=new K}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const rL=new X("",{providedIn:"root",factory:sL});function sL(){const n=ne(Ae);let t=!0;return $h(new dt(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new dt(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(hN()))}function Y_(n){return n.ownerDocument.defaultView}function Ao(n){return n instanceof Function?n():n}let RC=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})();function bf(n){for(;n;){n[je]|=64;const t=df(n);if(pT(n)&&!t)return n;n=t}return null}const uL=new X("",{providedIn:"root",factory:()=>!1});let X_=null;function pL(n,t){return n[t]??_L()}function gL(n,t){const e=_L();e.producerNode?.length&&(n[t]=X_,e.lView=n,X_=mL())}const ZQ={...BN,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{bf(n.lView)},lView:null};function mL(){return Object.create(ZQ)}function _L(){return X_??=mL(),X_}const Ue={};function w(n){vL(ft(),B(),er()+n,!1)}function vL(n,t,e,i){if(!i)if(3==(3&t[je])){const s=n.preOrderCheckHooks;null!==s&&g_(t,s,e)}else{const s=n.preOrderHooks;null!==s&&m_(t,s,0,e)}bl(e)}function y(n,t=tt.Default){const e=B();return null===e?O(n,t):kP(Si(),e,Re(n),t)}function Q_(n,t,e,i,r,s,o,a,l,c,u){const d=t.blueprint.slice();return d[Cn]=r,d[je]=140|i,(null!==c||n&&2048&n[je])&&(d[je]|=2048),sP(d),d[on]=d[Zc]=n,d[An]=e,d[Qc]=o||n&&n[Qc],d[Be]=a||n&&n[Be],d[pa]=l||n&&n[pa]||null,d[Vi]=s,d[Kh]=function lX(){return aX++}(),d[Co]=u,d[ON]=c,d[In]=2==t.type?n[In]:d,d}function Au(n,t,e,i,r){let s=n.data[t];if(null===s)s=function NC(n,t,e,i,r){const s=dP(),o=TT(),l=n.data[t]=function oZ(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,a=0;return iu()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,t,e,i,r),function cK(){return Me.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function ef(){const n=Me.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Gs(s,!0),s}function xf(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function bL(n,t,e,i,r){const s=pL(t,Xh),o=er(),a=2&i;try{bl(-1),a&&t.length>nt&&vL(n,t,nt,!1),Us(a?2:0,r);const c=a?s:null,u=mT(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{_T(c,u)}}finally{a&&null===t[Xh]&&gL(t,Xh),bl(o),Us(a?3:1,r)}}function PC(n,t,e){if(fT(t)){const i=Jr(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{Jr(i)}}}function OC(n,t,e){uP()&&(function fZ(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;vl(e)&&function bZ(n,t,e){const i=fr(t,n),r=xL(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=Z_(n,Q_(n,r,null,o,i,t,null,n[Qc].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||v_(e,t),Bi(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=xl(t,n,a,e);Bi(c,t),null!==o&&xZ(0,a-r,c,l,0,o),_s(l)&&(Mr(e.index,t)[An]=xl(t,n,a,e))}}(n,t,e,fr(e,t)),64==(64&e.flags)&&DL(n,t,e))}function LC(n,t,e=fr){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function xL(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=FC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function FC(n,t,e,i,r,s,o,a,l,c,u){const d=nt+i,h=d+r,f=function eZ(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Ue);return e}(d,h),p="function"==typeof c?c():c;return f[ue]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let TL=n=>null;function CL(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?wL(e,t,r,s):i.hasOwnProperty(r)&&wL(e,t,i[r],s)}return e}function wL(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function Nr(n,t,e,i,r,s,o,a){const l=fr(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(UC(n,e,u,i,r),vl(t)&&function cZ(n,t){const e=Mr(t,n);16&e[je]||(e[je]|=64)}(e,t.index)):3&t.type&&(i=function lZ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}function VC(n,t,e,i){if(uP()){const r=null===i?null:{"":-1},s=function gZ(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(IN(t,o.selectors,!1))if(i||(i=[]),_s(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),BC(n,t,a.length)}else i.unshift(o),BC(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&SL(n,t,e,o,r,a),r&&function mZ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new P(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=jh(e.mergedAttrs,e.attrs)}function SL(n,t,e,i,r,s){for(let c=0;c<i.length;c++)PT(v_(e,t),n,i[c].type);!function vZ(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=xf(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=jh(e.mergedAttrs,u.hostAttrs),yZ(n,e,t,l,u),_Z(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function aZ(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const d=s[u],h=e?e.get(d):null,p=h?h.outputs:null;l=CL(d.inputs,u,l,h?h.inputs:null),c=CL(d.outputs,u,c,p);const m=null===l||null===o||AN(t)?null:TZ(l,u,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function DL(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function dK(){return Me.lFrame.currentDirectiveIndex}();try{bl(s);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];wT(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&pZ(l,c)}}finally{bl(-1),wT(o)}}function pZ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function BC(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function _Z(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;_s(t)&&(e[""]=n)}}function yZ(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=yl(r.type)),o=new tf(s,_s(r),y);n.blueprint[i]=o,e[i]=o,function dZ(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function hZ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,xf(n,e,r.hostVars,Ue),r)}function js(n,t,e,i,r,s){const o=fr(n,t);!function HC(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?Fe(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[Be],o,s,n.value,e,i,r)}function xZ(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)EL(i,e,o[a++],o[a++],o[a++])}function EL(n,t,e,i,r){const s=Jr(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Jr(s)}}function TZ(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function AL(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function IL(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];DT(e[i]),o.contentQueries(2,t[s],s)}}}function Z_(n,t){return n[qh]?n[PN][ms]=t:n[qh]=t,n[PN]=t,t}function $C(n,t,e){DT(0);const i=Jr(null);try{t(n,e)}finally{Jr(i)}}function kL(n){return n[Xc]||(n[Xc]=[])}function ML(n){return n.cleanup||(n.cleanup=[])}function NL(n,t){const e=n[pa],i=e?e.get(Eo,null):null;i&&i.handleError(t)}function UC(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++];EL(n.data[o],t[o],i,a,r)}}function CZ(n,t){const e=Mr(t,n),i=e[ue];!function wZ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[Cn];null!==r&&null===e[Co]&&(e[Co]=TC(r,e[pa])),GC(i,e,e[An])}function GC(n,t,e){ET(t);try{const i=n.viewQuery;null!==i&&$C(1,i,e);const r=n.template;null!==r&&bL(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&IL(n,t),n.staticViewQueries&&$C(2,n.viewQuery,e);const s=n.components;null!==s&&function SZ(n,t){for(let e=0;e<t.length;e++)CZ(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[je]&=-5,AT()}}let PL=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function $Y(n,t,e){const i=Object.create(UY);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>GN(i),run:()=>{if(i.dirty=!1,i.hasRun&&!zN(i))return;i.hasRun=!0;const o=mT(i);try{i.cleanupFn(),i.cleanupFn=ZN,i.fn(r)}finally{_T(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})();function J_(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=Qx(r,a):2==s&&(i=Qx(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function Tf(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(jt(s)),Zi(s)&&OL(s,i);const o=e.type;if(8&o)Tf(n,t,e.child,i);else if(32&o){const a=WT(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=gO(t,e);if(Array.isArray(a))i.push(...a);else{const l=df(t[In]);Tf(l[ue],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function OL(n,t){for(let e=Ci;e<n.length;e++){const i=n[e],r=i[ue].firstChild;null!==r&&Tf(i[ue],i,r,t)}n[$s]!==n[Cn]&&t.push(n[$s])}function ev(n,t,e,i=!0){const r=t[Qc],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{LL(n,t,n.template,e)}catch(l){throw i&&NL(t,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function LL(n,t,e,i){const r=t[je];if(256!=(256&r)){t[Qc].effectManager?.flush(),ET(t);try{sP(t),function fP(n){return Me.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&bL(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&g_(t,c,null)}else{const c=n.preOrderHooks;null!==c&&m_(t,c,0,null),IT(t,0)}if(function AZ(n){for(let t=iO(n);null!==t;t=rO(t)){if(!t[LN])continue;const e=t[eu];for(let i=0;i<e.length;i++){ZY(e[i])}}}(t),FL(t,2),null!==n.contentQueries&&IL(n,t),o){const c=n.contentCheckHooks;null!==c&&g_(t,c)}else{const c=n.contentHooks;null!==c&&m_(t,c,1),IT(t,1)}!function JQ(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=pL(t,Qh);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)bl(~s);else{const o=s,a=e[++r],l=e[++r];uK(a,o),i.dirty=!1;const c=mT(i);try{l(2,t[o])}finally{_T(i,c)}}}}finally{null===t[Qh]&&gL(t,Qh),bl(-1)}}(n,t);const a=n.components;null!==a&&BL(t,a,0);const l=n.viewQuery;if(null!==l&&$C(2,l,i),o){const c=n.viewCheckHooks;null!==c&&g_(t,c)}else{const c=n.viewHooks;null!==c&&m_(t,c,2),IT(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[je]&=-73,oP(t)}finally{AT()}}}function FL(n,t){for(let e=iO(n);null!==e;e=rO(e))for(let i=Ci;i<e.length;i++)VL(e[i],t)}function IZ(n,t,e){VL(Mr(t,n),e)}function VL(n,t){if(!function XY(n){return 128==(128&n[je])}(n))return;const e=n[ue],i=n[je];if(80&i&&0===t||1024&i||2===t)LL(e,n,e.template,n[An]);else if(n[Wh]>0){FL(n,1);const r=e.components;null!==r&&BL(n,r,1)}}function BL(n,t,e){for(let i=0;i<t.length;i++)IZ(n,t[i],e)}class Cf{get rootNodes(){const t=this._lView,e=t[ue];return Tf(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[An]}set context(t){this._lView[An]=t}get destroyed(){return 256==(256&this._lView[je])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[on];if(Zi(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(R_(t,i),x_(e,i))}this._attachedToViewContainer=!1}YT(this._lView[ue],this._lView)}onDestroy(t){!function lP(n,t){if(256==(256&n[je]))throw new P(911,!1);null===n[ga]&&(n[ga]=[]),n[ga].push(t)}(this._lView,t)}markForCheck(){bf(this._cdRefInjectingView||this._lView)}detach(){this._lView[je]&=-129}reattach(){this._lView[je]|=128}detectChanges(){ev(this._lView[ue],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function TX(n,t){ff(n,t,t[Be],2,null,null)}(this._lView[ue],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=t}}class kZ extends Cf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ev(t[ue],t,t[An],!1)}checkNoChanges(){}get context(){return null}}class HL extends wl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ht(t);return new wf(e,this.ngModule)}}function $L(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class RZ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=i_(i);const r=this.injector.get(t,SC,i);return r!==SC||e===SC?r:this.parentInjector.get(t,e,i)}}class wf extends WO{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=$L(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return $L(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function TY(n){return n.map(xY).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof gr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new RZ(t,s):t,a=o.get(Ta,null);if(null===a)throw new P(407,!1);const d={rendererFactory:a,sanitizer:o.get(kQ,null),effectManager:o.get(PL,null),afterRenderEventManager:o.get(RC,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function tZ(n,t,e,i){const s=i.get(uL,!1)||e===Zr.ShadowDom,o=n.selectRootElement(t,s);return function nZ(n){TL(n)}(o),o}(h,i,this.componentDef.encapsulation,o):M_(h,f,function MZ(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=TC(p,o,!0));const b=FC(0,null,null,1,0,null,null,null,null,null,null),C=Q_(null,b,null,v,null,null,d,h,o,null,_);let M,R;ET(C);try{const j=this.componentDef;let J,Se=null;j.findHostDirectiveDefs?(J=[],Se=new Map,j.findHostDirectiveDefs(j,J,Se),J.push(j)):J=[j];const me=function PZ(n,t){const e=n[ue],i=nt;return n[i]=t,Au(e,i,2,"#host",null)}(C,p),ce=function OZ(n,t,e,i,r,s,o){const a=r[ue];!function LZ(n,t,e,i){for(const r of n)t.mergedAttrs=jh(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(J_(t,t.mergedAttrs,!0),null!==e&&yO(i,e,t))}(i,n,t,o);let l=null;null!==t&&(l=TC(t,r[pa]));const c=s.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const d=Q_(r,xL(e),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&BC(a,n,i.length-1),Z_(r,d),r[n.index]=d}(me,p,j,J,C,d,h);R=rP(b,nt),p&&function VZ(n,t,e,i){if(i)dT(n,e,["ng-version",YO.full]);else{const{attrs:r,classes:s}=function CY(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!gs(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&dT(n,e,r),s&&s.length>0&&vO(n,e,s.join(" "))}}(h,j,p,i),void 0!==e&&function BZ(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(R,this.ngContentSelectors,e),M=function FZ(n,t,e,i,r,s){const o=Si(),a=r[ue],l=fr(o,r);SL(a,r,o,e,null,i);for(let u=0;u<e.length;u++)Bi(xl(r,a,o.directiveStart+u,o),r);DL(a,r,o),l&&Bi(l,r);const c=xl(r,a,o.directiveStart+o.componentOffset,o);if(n[An]=r[An]=c,null!==s)for(const u of s)u(c,t);return PC(a,o,n),c}(ce,j,J,Se,C,[HZ]),GC(b,C,null)}finally{AT()}return new NZ(this.componentType,M,wu(R,C),C,R)}}class NZ extends wQ{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new kZ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;UC(s[ue],s,r,t,e),this.previousInputValues.set(t,e),bf(Mr(this._tNode.index,s))}}get injector(){return new tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function HZ(){const n=Si();p_(B()[ue],n)}function pt(n){let t=function UL(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(_s(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new P(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=tv(n.inputs),o.inputTransforms=tv(n.inputTransforms),o.declaredInputs=tv(n.declaredInputs),o.outputs=tv(n.outputs);const a=r.hostBindings;a&&zZ(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&UZ(n,l),c&&GZ(n,c),Qm(n.inputs,r.inputs),Qm(n.declaredInputs,r.declaredInputs),Qm(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Qm(o.inputTransforms,r.inputTransforms)),_s(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===pt&&(e=!1)}}t=Object.getPrototypeOf(t)}!function $Z(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=jh(r.hostAttrs,e=jh(e,r.hostAttrs))}}(i)}function tv(n){return n===Bs?{}:n===bt?[]:n}function UZ(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function GZ(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function zZ(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function ko(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function nv(n){return!!zC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function zC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ws(n,t,e){return n[t]=e}function Hi(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Sl(n,t,e,i){const r=Hi(n,t,e);return Hi(n,t+1,i)||r}function xe(n,t,e,i){const r=B();return Hi(r,ru(),t)&&(ft(),js(pn(),r,n,t,e,i)),xe}function ku(n,t,e,i){return Hi(n,ru(),e)?t+Fe(e)+i:Ue}function F(n,t,e,i,r,s,o,a){const l=B(),c=ft(),u=n+nt,d=c.firstCreatePass?function gJ(n,t,e,i,r,s,o,a,l){const c=t.consts,u=Au(t,n,4,o||null,_a(c,a));VC(t,e,u,_a(c,l)),p_(t,u);const d=u.tView=FC(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,s,o):c.data[u];Gs(d,!1);const h=rF(c,l,d,n);f_()&&P_(c,l,h,d),Bi(h,l),Z_(l,l[u]=AL(h,l,h,d)),l_(d)&&OC(c,l,d),null!=o&&LC(l,d,a)}let rF=function sF(n,t,e,i){return va(!0),t[Be].createComment("")};function D(n,t,e){const i=B();return Hi(i,ru(),t)&&Nr(ft(),pn(),i,n,t,i[Be],e,!1),D}function XC(n,t,e,i,r){const o=r?"class":"style";UC(n,e,t.inputs[o],o,i)}function x(n,t,e,i){const r=B(),s=ft(),o=nt+n,a=r[Be],l=s.firstCreatePass?function yJ(n,t,e,i,r,s){const o=t.consts,l=Au(t,n,2,i,_a(o,r));return VC(t,e,l,_a(o,s)),null!==l.attrs&&J_(l,l.attrs,!1),null!==l.mergedAttrs&&J_(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,e,i):s.data[o],c=oF(s,r,l,a,t,n);r[o]=c;const u=l_(l);return Gs(l,!0),yO(a,c,l),32!=(32&l.flags)&&f_()&&P_(s,r,c,l),0===function eK(){return Me.lFrame.elementDepthCount}()&&Bi(c,r),function tK(){Me.lFrame.elementDepthCount++}(),u&&(OC(s,r,l),PC(s,l,r)),null!==i&&LC(r,l),x}function T(){let n=Si();TT()?CT():(n=n.parent,Gs(n,!1));const t=n;(function iK(n){return Me.skipHydrationRootTNode===n})(t)&&function aK(){Me.skipHydrationRootTNode=null}(),function nK(){Me.lFrame.elementDepthCount--}();const e=ft();return e.firstCreatePass&&(p_(e,n),fT(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function bK(n){return 0!=(8&n.flags)}(t)&&XC(e,t,B(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function xK(n){return 0!=(16&n.flags)}(t)&&XC(e,t,B(),t.stylesWithoutHost,!1),T}function te(n,t,e,i){return x(n,t,e,i),T(),te}let oF=(n,t,e,i,r,s)=>(va(!0),M_(i,r,function xP(){return Me.lFrame.currentNamespace}()));function If(n,t,e){const i=B(),r=ft(),s=n+nt,o=r.firstCreatePass?function TJ(n,t,e,i,r){const s=t.consts,o=_a(s,i),a=Au(t,n,8,"ng-container",o);return null!==o&&J_(a,o,!0),VC(t,e,a,_a(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];Gs(o,!0);const a=aF(r,i,o,n);return i[s]=a,f_()&&P_(r,i,a,o),Bi(a,i),l_(o)&&(OC(r,i,o),PC(r,o,i)),null!=e&&LC(i,o),If}function kf(){let n=Si();const t=ft();return TT()?CT():(n=n.parent,Gs(n,!1)),t.firstCreatePass&&(p_(t,n),fT(n)&&t.queries.elementEnd(n)),kf}function Dl(n,t,e){return If(n,t,e),kf(),Dl}let aF=(n,t,e,i)=>(va(!0),qT(t[Be],""));function Bt(){return B()}function Mf(n){return!!n&&"function"==typeof n.then}function lF(n){return!!n&&"function"==typeof n.subscribe}function $(n,t,e,i){const r=B(),s=ft(),o=Si();return function uF(n,t,e,i,r,s,o){const a=l_(i),c=n.firstCreatePass&&ML(n),u=t[An],d=kL(t);let h=!0;if(3&i.type||o){const m=fr(i,t),g=o?o(m):m,v=d.length,_=o?C=>o(jt(C[i.index])):i.index;let b=null;if(!o&&a&&(b=function SJ(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[Xc],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=hF(i,t,u,s,!1);const C=e.listen(g,r,s);d.push(s,C),c&&c.push(r,_,v,v+1)}}else s=hF(i,t,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const M=t[p[g]][p[g+1]].subscribe(s),R=d.length;d.push(s,M),c&&c.push(r,i.index,R,-(R+1))}}}(s,r,r[Be],o,n,t,i),$}function dF(n,t,e,i){try{return Us(6,t,e),!1!==e(i)}catch(r){return NL(n,r),!1}finally{Us(7,t,e)}}function hF(n,t,e,i,r){return function s(o){if(o===Function)return i;bf(n.componentOffset>-1?Mr(n.index,t):t);let l=dF(t,e,i,o),c=s.__ngNextListenerFn__;for(;c;)l=dF(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function V(n=1){return function fK(n){return(Me.lFrame.contextLView=function pK(n,t){for(;n>0;)t=t[Zc],n--;return t}(n,Me.lFrame.contextLView))[An]}(n)}function DJ(n,t){let e=null;const i=function _Y(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?IN(n,s,!0):bY(i,s))return r}else e=r}return e}function Mo(n){const t=B()[In][Vi];if(!t.projection){const i=t.projection=lf(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?DJ(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function qs(n,t=0,e){const i=B(),r=ft(),s=Au(r,nt+n,16,null,e||null);null===s.projection&&(s.projection=t),CT(),(!i[Co]||iu())&&32!=(32&s.flags)&&function kX(n,t,e){_O(t[Be],0,t,e,XT(n,e,t),dO(e.parent||t[Vi],e,t))}(r,i,s)}function av(n,t,e){return lv(n,"",t,"",e),av}function lv(n,t,e,i,r){const s=B(),o=ku(s,t,e,i);return o!==Ue&&Nr(ft(),pn(),s,n,o,s[Be],r,!1),lv}function cv(n,t){return n<<17|t<<2}function Ca(n){return n>>17&32767}function QC(n){return 2|n}function El(n){return(131068&n)>>2}function ZC(n,t){return-131069&n|t<<2}function JC(n){return 1|n}function xF(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?Ca(s):El(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];RJ(n[a],t)&&(l=!0,n[a+1]=i?JC(u):QC(u)),a=i?Ca(u):El(u)}l&&(n[e+1]=i?QC(s):JC(s))}function RJ(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&fu(n,t)>=0}const ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function TF(n){return n.substring(ei.key,ei.keyEnd)}function CF(n,t){const e=ei.textEnd;return e===t?-1:(t=ei.keyEnd=function LJ(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,ei.key=t,e),Vu(n,t,e))}function Vu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Mn(n,t,e){return ys(n,t,e,!1),Mn}function xt(n,t){return ys(n,t,null,!0),xt}function Ei(n){bs(jJ,Ks,n,!0)}function Ks(n,t){for(let e=function PJ(n){return function SF(n){ei.key=0,ei.keyEnd=0,ei.value=0,ei.valueEnd=0,ei.textEnd=n.length}(n),CF(n,Vu(n,0,ei.textEnd))}(t);e>=0;e=CF(t,e))Rr(n,TF(t),!0)}function ys(n,t,e,i){const r=B(),s=ft(),o=So(2);s.firstUpdatePass&&IF(s,n,o,i),t!==Ue&&Hi(r,o,t)&&MF(s,s.data[er()],r,r[Be],n,r[o+1]=function qJ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Zn(ba(n)))),n}(t,e),i,o)}function bs(n,t,e,i){const r=ft(),s=So(2);r.firstUpdatePass&&IF(r,null,s,i);const o=B();if(e!==Ue&&Hi(o,s,e)){const a=r.data[er()];if(NF(a,i)&&!AF(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Qx(l,e||"")),XC(r,a,o,e,i)}else!function WJ(n,t,e,i,r,s,o,a){r===Ue&&(r=bt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),null!==p&&MF(n,t,e,i,p,m,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[Be],o[s+1],o[s+1]=function zJ(n,t,e){if(null==e||""===e)return bt;const i=[],r=ba(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function AF(n,t){return t>=n.expandoStartIndex}function IF(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[er()],o=AF(n,e);NF(s,i)&&null===t&&!o&&(t=!1),t=function HJ(n,t,e,i){const r=function ST(n){const t=Me.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Rf(e=ew(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=ew(r,n,t,e,i),null===s){let l=function $J(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==El(i))return n[Ca(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=ew(null,n,t,l[1],i),l=Rf(l,t.attrs,i),function UJ(n,t,e,i){n[Ca(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function GJ(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Rf(i,n[s].hostAttrs,e);return Rf(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function kJ(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Ca(o),l=El(o);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||fu(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const h=Ca(n[a+1]);n[i+1]=cv(h,a),0!==h&&(n[h+1]=ZC(n[h+1],i)),n[a+1]=function AJ(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=cv(a,0),0!==a&&(n[a+1]=ZC(n[a+1],i)),a=i;else n[i+1]=cv(l,0),0===a?a=i:n[l+1]=ZC(n[l+1],i),l=i;c&&(n[i+1]=QC(n[i+1])),xF(n,u,i,!0),xF(n,u,i,!1),function MJ(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&fu(s,t)>=0&&(e[i+1]=JC(e[i+1]))}(t,u,n,i,s),o=cv(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function ew(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=Rf(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Rf(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Rr(n,o,!!e||t[++s]))}return void 0===n?null:n}function jJ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Rr(n,i,e)}function MF(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function IJ(n){return 1==(1&n)}(c)?RF(l,t,e,r,El(c),o):void 0;uv(u)||(uv(s)||function EJ(n){return 2==(2&n)}(c)&&(s=RF(l,null,e,r,a,o)),function RX(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:ya.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ya.Important),n.setStyle(e,i,r,s))}}(i,o,d_(er(),e),r,s))}function RF(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===Ue&&(h=d?bt:void 0);let f=d?FT(h,i):u===i?h:void 0;if(c&&!uv(f)&&(f=FT(l,i)),uv(f)&&(a=f,o))return a;const p=n[r+1];r=o?Ca(p):El(p)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=FT(l,i))}return a}function uv(n){return void 0!==n}function NF(n,t){return 0!=(n.flags&(t?8:16))}function H(n,t=""){const e=B(),i=ft(),r=n+nt,s=i.firstCreatePass?Au(i,r,1,t,null):i.data[r],o=PF(i,e,s,t,n);e[r]=o,f_()&&P_(i,e,o,s),Gs(s,!1)}let PF=(n,t,e,i,r)=>(va(!0),function k_(n,t){return n.createText(t)}(t[Be],i));function zn(n){return Ht("",n,""),zn}function Ht(n,t,e){const i=B(),r=ku(i,n,t,e);return r!==Ue&&function Io(n,t,e){const i=d_(t,n);!function oO(n,t,e){n.setValue(t,e)}(n[Be],i,e)}(i,er(),r),Ht}const Hu="en-US";let n2=Hu;function rw(n,t,e,i,r){if(n=Re(n),Array.isArray(n))for(let s=0;s<n.length;s++)rw(n[s],t,e,i,r);else{const s=ft(),o=B(),a=Si();let l=Cl(n)?n:Re(n.provide);const c=BO(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Cl(n)||!n.multi){const f=new tf(c,r,y),p=ow(l,t,r?u:u+h,d);-1===p?(PT(v_(a,o),s,l),sw(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(f),o.push(f)):(e[p]=f,o[p]=f)}else{const f=ow(l,t,u+h,d),p=ow(l,t,u,u+h),g=p>=0&&e[p];if(r&&!g||!r&&!(f>=0&&e[f])){PT(v_(a,o),s,l);const v=function dte(n,t,e,i,r){const s=new tf(n,e,y);return s.multi=[],s.index=t,s.componentProviders=0,A2(s,r,i&&!e),s}(r?ute:cte,e.length,r,i,c);!r&&g&&(e[p].providerFactory=v),sw(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(v),o.push(v)}else sw(s,n,f>-1?f:p,A2(e[r?p:f],c,!r&&i));!r&&i&&g&&e[p].componentProviders++}}}function sw(n,t,e,i){const r=Cl(t),s=function aQ(n){return!!n.useClass}(t);if(r||s){const l=(s?Re(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function A2(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function ow(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function cte(n,t,e,i){return aw(this.multi,[])}function ute(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=xl(e,e[ue],this.providerFactory.index,i);s=a.slice(0,o),aw(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],aw(r,s);return s}function aw(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function gt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function lte(n,t,e){const i=ft();if(i.firstCreatePass){const r=_s(n);rw(e,i.data,i.blueprint,r,!0),rw(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class kl{}class I2{}class lw extends kl{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new HL(this);const r=kr(t);this._bootstrapComponents=Ao(r.bootstrap),this._r3Injector=JO(t,e,[{provide:kl,useValue:this},{provide:wl,useValue:this.componentFactoryResolver},...i],Zn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class cw extends I2{constructor(t){super(),this.moduleType=t}create(t){return new lw(this.moduleType,t,[])}}class k2 extends kl{constructor(t){super(),this.componentFactoryResolver=new HL(this),this.instance=null;const e=new bu([...t.providers,{provide:kl,useValue:this},{provide:wl,useValue:this.componentFactoryResolver}],t.parent||$_(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function uw(n,t,e=null){return new k2({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let pte=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=OO(0,e.type),r=i.length>0?uw([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(O(gr))})}return n})();function Sa(n){n.getStandaloneInjector=t=>t.get(pte).getOrCreateStandaloneInjector(n)}function Ai(n,t,e,i){return function F2(n,t,e,i,r,s){const o=t+e;return Hi(n,o,r)?Ws(n,o+1,s?i.call(s,r):i(r)):Vf(n,o+1)}(B(),Ji(),n,t,e,i)}function Ro(n,t,e,i,r){return function V2(n,t,e,i,r,s,o){const a=t+e;return Sl(n,a,r,s)?Ws(n,a+2,o?i.call(o,r,s):i(r,s)):Vf(n,a+2)}(B(),Ji(),n,t,e,i,r)}function $u(n,t,e,i,r,s){return function B2(n,t,e,i,r,s,o,a){const l=t+e;return function iv(n,t,e,i,r){const s=Sl(n,t,e,i);return Hi(n,t+2,r)||s}(n,l,r,s,o)?Ws(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):Vf(n,l+3)}(B(),Ji(),n,t,e,i,r,s)}function Vf(n,t){const e=n[t];return e===Ue?void 0:e}function Fte(){return this._results[Symbol.iterator]()}class hw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new K)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=hw.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Fte)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function es(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function OK(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Bte(n,t,e,i=!0){const r=t[ue];if(function wX(n,t,e,i){const r=Ci+i,s=e.length;i>0&&(e[r-1][ms]=t),i<s-Ci?(t[ms]=e[r],LP(e,Ci+i,t)):(e.push(t),t[ms]=null),t[on]=e;const o=t[Yh];null!==o&&e!==o&&function SX(n,t){const e=n[eu];t[In]!==t[on][on][In]&&(n[LN]=!0),null===e?n[eu]=[t]:e.push(t)}(o,t);const a=t[Hs];null!==a&&a.insertView(n),t[je]|=128}(r,t,n,e),i){const s=ZT(e,n),o=t[Be],a=N_(o,n[$s]);null!==a&&function xX(n,t,e,i,r,s){i[Cn]=r,i[Vi]=t,ff(n,i,e,1,r,s)}(r,n[Vi],o,t,a,s)}}let qt=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Ute}return n})();const Hte=qt,$te=class extends Hte{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function Vte(n,t,e,i){const r=t.tView,a=Q_(n,r,e,4096&n[je]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Yh]=n[t.index];const c=n[Hs];return null!==c&&(a[Hs]=c.createEmbeddedView(r)),GC(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new Cf(r)}};function Ute(){return gv(Si(),B())}function gv(n,t){return 4&n.type?new $te(t,n,wu(n,t)):null}let Pr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Yte}return n})();function Yte(){return Y2(Si(),B())}const Kte=Pr,W2=class extends Kte{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return wu(this._hostTNode,this._hostLView)}get injector(){return new tr(this._hostTNode,this._hostLView)}get parentInjector(){const t=y_(this._hostTNode,this._hostLView);if(MT(t)){const e=rf(t,this._hostLView),i=nf(t);return new tr(e[ue].data[i+8],e)}return new tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=q2(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Ci}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,s){const o=t&&!function af(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const m=e||{};a=m.index,i=m.injector,r=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const l=o?t:new wf(ht(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const g=(o?c:this.parentInjector).get(gr,null);g&&(s=g)}ht(l.componentType??{});const f=l.create(c,r,null,s);return this.insertImpl(f.hostView,a,false),f}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function QY(n){return Zi(n[on])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[on],u=new W2(c,c[Vi],c[on]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;return Bte(a,r,o,!i),t.attachToViewContainerRef(),LP(fw(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=q2(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=R_(this._lContainer,e);i&&(x_(fw(this._lContainer),e),YT(i[ue],i))}detach(t){const e=this._adjustIndex(t,-1),i=R_(this._lContainer,e);return i&&null!=x_(fw(this._lContainer),e)?new Cf(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function q2(n){return n[8]}function fw(n){return n[8]||(n[8]=[])}function Y2(n,t){let e;const i=t[n.index];return Zi(i)?e=i:(e=AL(i,t,null,n),t[n.index]=e,Z_(t,e)),K2(e,t,n,i),new W2(e,n,t)}let K2=function X2(n,t,e,i){if(n[$s])return;let r;r=8&e.type?jt(i):function Xte(n,t){const e=n[Be],i=e.createComment(""),r=fr(t,n);return Tl(e,N_(e,r),i,function IX(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[$s]=r};class pw{constructor(t){this.queryList=t,this.matches=null}clone(){return new pw(this.queryList)}setDirty(){this.queryList.setDirty()}}class gw{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new gw(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==tV(t,e).matches&&this.queries[e].setDirty()}}class Q2{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class mw{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new mw(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _w{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new _w(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Jte(e,s)),this.matchTNodeWithReadOption(t,e,b_(e,t,s,!1,!1))}else i===qt?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,b_(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===$e||r===Pr||r===qt&&4&e.type)this.addMatch(e.index,-2);else{const s=b_(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Jte(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function tne(n,t,e,i){return-1===e?function ene(n,t){return 11&n.type?wu(n,t):4&n.type?gv(n,t):null}(t,n):-2===e?function nne(n,t,e){return e===$e?wu(t,n):e===qt?gv(t,n):e===Pr?Y2(t,n):void 0}(n,t,i):xl(n,n[ue],e,t)}function Z2(n,t,e,i){const r=t[Hs].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:tne(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function vw(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=Z2(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=Ci;d<u.length;d++){const h=u[d];h[Yh]===h[on]&&vw(h[ue],h,c,i)}if(null!==u[eu]){const d=u[eu];for(let h=0;h<d.length;h++){const f=d[h];vw(f[ue],f,c,i)}}}}}return i}function Pt(n){const t=B(),e=ft(),i=gP();DT(i+1);const r=tV(e,i);if(n.dirty&&function KY(n){return 4==(4&n[je])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?vw(e,t,i,[]):Z2(e,t,r,i);n.reset(s,AQ),n.notifyOnChanges()}return!0}return!1}function Ml(n,t,e){const i=ft();i.firstCreatePass&&(eV(i,new Q2(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),J2(i,B(),t)}function _n(n,t,e,i){const r=ft();if(r.firstCreatePass){const s=Si();eV(r,new Q2(t,e,i),s.index),function rne(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}J2(r,B(),e)}function Ot(){return function ine(n,t){return n[Hs].queries[t].queryList}(B(),gP())}function J2(n,t,e){const i=new hw(4==(4&e));(function sZ(n,t,e,i){const r=kL(t);r.push(e),n.firstCreatePass&&ML(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Hs]&&(t[Hs]=new gw),t[Hs].queries.push(new pw(i))}function eV(n,t,e){null===n.queries&&(n.queries=new mw),n.queries.track(new _w(t,e))}function tV(n,t){return n.queries.getByIndex(t)}const ww=new X("Application Initializer");let Sw=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=ne(ww,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(Mf(s))e.push(s);else if(lF(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vV=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const No=new X("LocaleId",{providedIn:"root",factory:()=>ne(No,tt.Optional|tt.SkipSelf)||function Sne(){return typeof $localize<"u"&&$localize.locale||Hu}()});let vv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Gn(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ane{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let yV=(()=>{class n{compileModuleSync(e){return new cw(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Ao(kr(e).declarations).reduce((o,a)=>{const l=ht(a);return l&&o.push(new wf(l)),o},[]);return new Ane(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const CV=new X(""),bv=new X("");let kw,Aw=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kw||(function Xne(n){kw=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ae),O(Iw),O(bv))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Iw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return kw?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Da=null;const wV=new X("AllowMultipleToken"),Mw=new X("PlatformDestroyListeners"),Rw=new X("appBootstrapListener");class DV{constructor(t,e){this.name=t,this.token=e}}function AV(n,t,e=[]){const i=`Platform: ${t}`,r=new X(i);return(s=[])=>{let o=Nw();if(!o||o.injector.get(wV,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function Jne(n){if(Da&&!Da.get(wV,!1))throw new P(400,!1);(function SV(){!function LY(n){YN=n}(()=>{throw new P(600,!1)})})(),Da=n;const t=n.get(kV);(function EV(n){n.get(HO,null)?.forEach(e=>e())})(n)}(function IV(n=[],t){return mn.create({name:t,providers:[{provide:dC,useValue:"platform"},{provide:Mw,useValue:new Set([()=>Da=null])},...n]})}(a,i))}return function tie(n){const t=Nw();if(!t)throw new P(401,!1);return t}()}}function Nw(){return Da?.get(kV)??null}let kV=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function nie(n="zone.js",t){return"noop"===n?new UQ:"zone.js"===n?new Ae(t):n}(i?.ngZone,function MV(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function fte(n,t,e){return new lw(n,t,e)}(e.moduleType,this.injector,function LV(n){return[{provide:Ae,useFactory:n},{provide:_f,multi:!0,useFactory:()=>{const t=ne(rie,{optional:!0});return()=>t.initialize()}},{provide:OV,useFactory:iie},{provide:rL,useFactory:sL}]}(()=>r)),o=s.injector.get(Eo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{xv(this._modules,s),a.unsubscribe()})}),function RV(n,t,e){try{const i=e();return Mf(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(Sw);return a.runInitializers(),a.donePromise.then(()=>(function r2(n){Qr(n,"Expected localeId to be defined"),"string"==typeof n&&(n2=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(No,Hu)||Hu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=NV({},i);return function Qne(n,t,e){const i=new cw(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(xs);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new P(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Mw,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(O(mn))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function NV(n,t){return Array.isArray(t)?t.reduce(NV,n):{...n,...t}}let xs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ne(OV),this.zoneIsStable=ne(rL),this.componentTypes=[],this.components=[],this.isStable=ne(vv).hasPendingTasks.pipe(ui(e=>e?we(!1):this.zoneIsStable),function Xm(n,t=Kr){return n=n??Yq,Jt((e,i)=>{let r,s=!0;e.subscribe(Mt(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}(),hN()),this._injector=ne(gr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof WO;if(!this._injector.get(Sw).done)throw!r&&function Kc(n){const t=ht(n)||Ti(n)||Qi(n);return null!==t&&t.standalone}(e),new P(405,!1);let o;o=r?e:this._injector.get(wl).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function Zne(n){return n.isBoundToModule}(o)?void 0:this._injector.get(kl),c=o.create(mn.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(CV,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),xv(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;xv(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(Rw,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>xv(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new P(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const OV=new X("",{providedIn:"root",factory:()=>ne(Eo).handleError.bind(void 0)});function iie(){const n=ne(Ae),t=ne(Eo);return e=>n.runOutsideAngular(()=>t.handleError(e))}let rie=(()=>{class n{constructor(){this.zone=ne(Ae),this.applicationRef=ne(xs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let hi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=oie}return n})();function oie(n){return function aie(n,t,e){if(vl(n)&&!e){const i=Mr(n.index,t);return new Cf(i,i)}return 47&n.type?new Cf(t[In],t):null}(Si(),B(),16==(16&n))}class HV{constructor(){}supports(t){return nv(t)}create(t){return new fie(t)}}const hie=(n,t)=>t;class fie{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||hie}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<UV(i,r,s)?e:i,a=UV(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!nv(t))throw new P(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function QZ(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new gie(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new $V),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $V),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class gie{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mie{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class $V{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new mie,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UV(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class GV{constructor(){}supports(t){return t instanceof Map||zC(t)}create(){return new _ie}}class _ie{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||zC(t)))throw new P(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new vie(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class vie{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zV(){return new wv([new HV])}let wv=(()=>{class n{static#e=this.\u0275prov=W({token:n,providedIn:"root",factory:zV});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||zV()),deps:[[n,new C_,new ts]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new P(901,!1)}}return n})();function jV(){return new Uf([new GV])}let Uf=(()=>{class n{static#e=this.\u0275prov=W({token:n,providedIn:"root",factory:jV});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||jV()),deps:[[n,new C_,new ts]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new P(901,!1)}}return n})();const xie=AV(null,"core",[]);let Tie=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(O(xs))};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({})}return n})();function Ii(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Nie(n,t=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?t:Number(n)}let Bw=null;function Ea(){return Bw}class Vie{}const Ct=new X("DocumentToken");let Hw=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:function(){return ne(Hie)},providedIn:"platform"})}return n})();const Bie=new X("Location Initialized");let Hie=(()=>{class n extends Hw{constructor(){super(),this._doc=ne(Ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ea().getBaseHref(this._doc)}onPopState(e){const i=Ea().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Ea().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function $w(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function eB(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Po(n){return n&&"?"!==n[0]?"?"+n:n}let Nl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:function(){return ne(nB)},providedIn:"root"})}return n})();const tB=new X("appBaseHref");let nB=(()=>{class n extends Nl{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ne(Ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return $w(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Po(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+Po(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+Po(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Hw),O(tB,8))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$ie=(()=>{class n extends Nl{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=$w(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+Po(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+Po(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Hw),O(tB,8))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Uw=(()=>{class n{constructor(e){this._subject=new K,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function zie(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(eB(iB(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Po(i))}normalize(e){return n.stripTrailingSlash(function Gie(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,iB(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Po(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Po(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Po;static#t=this.joinWithSlash=$w;static#n=this.stripTrailingSlash=eB;static#i=this.\u0275fac=function(i){return new(i||n)(O(Nl))};static#r=this.\u0275prov=W({token:n,factory:function(){return function Uie(){return new Uw(O(Nl))}()},providedIn:"root"})}return n})();function iB(n){return n.replace(/\/index.html$/,"")}function hB(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const Zw=/\s+/,fB=[];let Pl=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=fB,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Zw):fB}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Zw):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Zw).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(y(wv),y(Uf),y($e),y(Di))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Ire{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fi=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ire(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),gB(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{gB(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(y(Pr),y(qt),y(wv))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function gB(n,t){n.context.$implicit=t.item}let ti=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new kre,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){mB("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){mB("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(y(Pr),y(qt))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class kre{constructor(){this.$implicit=null,this.ngIf=null}}function mB(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Zn(t)}'.`)}let vB=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:ya.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(y($e),y(Uf),y(Di))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),Ol=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Pr))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[kt]})}return n})(),vn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({})}return n})();const bB="browser";function vr(n){return n===bB}function Lv(n){return"server"===n}let sse=(()=>{class n{static#e=this.\u0275prov=W({token:n,providedIn:"root",factory:()=>new ose(O(Ct),window)})}return n})();class ose{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ase(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class xB{}class kse extends Vie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o1 extends kse{static makeCurrent(){!function Fie(n){Bw||(Bw=n)}(new o1)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Mse(){return Wf=Wf||document.querySelector("base"),Wf?Wf.getAttribute("href"):null}();return null==e?null:function Rse(n){Bv=Bv||document.createElement("a"),Bv.setAttribute("href",n);const t=Bv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Wf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hB(document.cookie,t)}}let Bv,Wf=null,Pse=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();const a1=new X("EventManagerPlugins");let DB=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(O(a1),O(Ae))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();class EB{constructor(t){this._doc=t}}const l1="ng-app-id";let AB=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Lv(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${l1}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(l1),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(l1,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ct),O(U_),O(UO,8),O(di))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();const c1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},u1=/%COMP%/g,Vse=new X("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function kB(n,t){return t.map(e=>e.replace(u1,n))}let d1=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Lv(a),this.defaultRenderer=new h1(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zr.ShadowDom&&(i={...i,encapsulation:Zr.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof RB?r.applyToHost(e):r instanceof f1&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Zr.Emulated:s=new RB(l,c,i,this.appId,u,o,a,d);break;case Zr.ShadowDom:return new Use(l,c,e,i,o,a,this.nonce,d);default:s=new f1(l,c,i,u,o,a,d)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(O(DB),O(AB),O(U_),O(Vse),O(Ct),O(di),O(Ae),O(UO))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();class h1{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(c1[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(MB(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(MB(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new P(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=c1[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=c1[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(ya.DashCase|ya.Important)?t.style.setProperty(e,i,r&ya.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&ya.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Ea().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function MB(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Use extends h1{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=kB(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class f1 extends h1{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?kB(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class RB extends f1{constructor(t,e,i,r,s,o,a,l){const c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=function Bse(n){return"_ngcontent-%COMP%".replace(u1,n)}(c),this.hostAttr=function Hse(n){return"_nghost-%COMP%".replace(u1,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Gse=(()=>{class n extends EB{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ct))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();const NB=["alt","control","meta","shift"],zse={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jse={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wse=(()=>{class n extends EB{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ea().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),NB.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=zse[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),NB.forEach(o=>{o!==r&&(0,jse[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ct))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();const OB=[{provide:di,useValue:bB},{provide:HO,useValue:function qse(){o1.makeCurrent()},multi:!0},{provide:Ct,useFactory:function Kse(){return function FX(n){tC=n}(document),document},deps:[]}],Xse=AV(xie,"browser",OB),Qse=new X(""),LB=[{provide:bv,useClass:class Nse{addToWindow(t){zt.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new P(5103,!1);return s},zt.getAllAngularTestabilities=()=>t.getAllTestabilities(),zt.getAllAngularRootElements=()=>t.getAllRootElements(),zt.frameworkStabilizers||(zt.frameworkStabilizers=[]),zt.frameworkStabilizers.push(i=>{const r=zt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Ea().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:CV,useClass:Aw,deps:[Ae,Iw,bv]},{provide:Aw,useClass:Aw,deps:[Ae,Iw,bv]}],FB=[{provide:dC,useValue:"root"},{provide:Eo,useFactory:function Yse(){return new Eo},deps:[]},{provide:a1,useClass:Gse,multi:!0,deps:[Ct,Ae,di]},{provide:a1,useClass:Wse,multi:!0,deps:[Ct]},d1,AB,DB,{provide:Ta,useExisting:d1},{provide:xB,useClass:Pse,deps:[]},[]];let VB=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:U_,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Qse,12))};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({providers:[...FB,...LB],imports:[vn,Tie]})}return n})(),BB=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ct))};static#t=this.\u0275prov=W({token:n,factory:function(i){let r=null;return r=i?new i:function Jse(){return new BB(O(Ct))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;class GB{}class roe{}const Fo="*";function jB(n,t=null){return{type:2,steps:n,options:t}}function Ia(n){return{type:6,styles:n,offset:null}}class qf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class WB{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function qB(n){return new P(3e3,!1)}function ka(n){switch(n.length){case 0:return new qf;case 1:return n[0];default:return new WB(n)}}function YB(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,r),m){case"!":m=e.get(f);break;case Fo:m=i.get(f);break;default:m=n.normalizeStyleValue(f,p,m,r)}d.set(p,m)}),u||s.push(d),a=d,o=c}),r.length)throw function Eoe(n){return new P(3502,!1)}();return s}function v1(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&y1(e,"start",n)));break;case"done":n.onDone(()=>i(e&&y1(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&y1(e,"destroy",n)))}}function y1(n,t,e){const s=b1(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function b1(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Lr(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function KB(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const Boe=(()=>typeof document>"u"?null:document.documentElement)();function x1(n){const t=n.parentNode||n.host||null;return t===Boe?null:t}let Ll=null,XB=!1;function QB(n,t){for(;t;){if(t===n)return!0;t=x1(t)}return!1}function ZB(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let JB=(()=>{class n{validateStyleProperty(e){return function $oe(n){Ll||(Ll=function Uoe(){return typeof document<"u"?document.body:null}()||{},XB=!!Ll.style&&"WebkitAppearance"in Ll.style);let t=!0;return Ll.style&&!function Hoe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ll.style,!t&&XB&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ll.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return QB(e,i)}getParentElement(e){return x1(e)}query(e,i,r){return ZB(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new qf(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),T1=(()=>{class n{static#e=this.NOOP=new JB}return n})();const Goe=1e3,C1="ng-enter",Hv="ng-leave",$v="ng-trigger",Uv=".ng-trigger",t3="ng-animating",w1=".ng-animating";function Vo(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:S1(parseFloat(t[1]),t[2])}function S1(n,t){return"s"===t?n*Goe:n}function Gv(n,t,e){return n.hasOwnProperty("duration")?n:function joe(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(qB()),{duration:0,delay:0,easing:""};r=S1(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=S1(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function soe(){return new P(3100,!1)}()),a=!0),s<0&&(t.push(function ooe(){return new P(3101,!1)}()),a=!0),a&&t.splice(l,0,qB())}return{duration:r,delay:s,easing:o}}(n,t,e)}function Yf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function n3(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Ma(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Qs(n,t,e){t.forEach((i,r)=>{const s=E1(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function Fl(n,t){t.forEach((e,i)=>{const r=E1(i);n.style[r]=""})}function Kf(n){return Array.isArray(n)?1==n.length?n[0]:jB(n):n}const D1=new RegExp("{{\\s*(.+?)\\s*}}","g");function s3(n){let t=[];if("string"==typeof n){let e;for(;e=D1.exec(n);)t.push(e[1]);D1.lastIndex=0}return t}function Xf(n,t,e){const i=n.toString(),r=i.replace(D1,(s,o)=>{let a=t[o];return null==a&&(e.push(function loe(n){return new P(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function zv(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Yoe=/-+([a-z0-9])/g;function E1(n){return n.replace(Yoe,(...t)=>t[1].toUpperCase())}function Fr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function coe(n){return new P(3004,!1)}()}}function o3(n,t){return window.getComputedStyle(n)[t]}const jv="*";function Qoe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Zoe(n,t,e){if(":"==n[0]){const l=function Joe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Coe(n){return new P(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Toe(n){return new P(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(a3(r,o));"<"==s[0]&&!(r==jv&&o==jv)&&t.push(a3(o,r))}(i,e,t)):e.push(n),e}const Wv=new Set(["true","1"]),qv=new Set(["false","0"]);function a3(n,t){const e=Wv.has(n)||qv.has(n),i=Wv.has(t)||qv.has(t);return(r,s)=>{let o=n==jv||n==r,a=t==jv||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?Wv.has(n):qv.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?Wv.has(t):qv.has(t)),o&&a}}const eae=new RegExp("s*:selfs*,?","g");function A1(n,t,e,i){return new tae(n).build(t,e,i)}class tae{constructor(t){this._driver=t}build(t,e,i){const r=new rae(e);return this._resetContextStyleTimingState(r),Fr(this,Kf(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function doe(){return new P(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function hoe(){return new P(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{s3(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(zv(s.values()),e.errors.push(function foe(n,t){return new P(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Fr(this,Kf(t.animation),e);return{type:1,matchers:Qoe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Vl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Fr(this,i,e)),options:Vl(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=Fr(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:Vl(t.options)}}visitAnimate(t,e){const i=function oae(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return I1(Gv(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=I1(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Gv(e,t);return I1(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ia({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Ia(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Fo?i.push(a):e.errors.push(new P(3002,!1)):i.push(n3(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function goe(n,t,e,i,r){return new P(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&function qoe(n,t,e){const i=t.params||{},r=s3(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function aoe(n){return new P(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function moe(){return new P(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(v=>{const _=this._makeStyleAst(v,e);let b=null!=_.offset?_.offset:function sae(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(_.styles),C=0;return null!=b&&(s++,C=_.offset=b),l=l||C<0||C>1,a=a||C<c,c=C,o.push(C),_});l&&e.errors.push(function _oe(){return new P(3012,!1)}()),a&&e.errors.push(function voe(){return new P(3200,!1)}());const d=t.steps.length;let h=0;s>0&&s<d?e.errors.push(function yoe(){return new P(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((v,_)=>{const b=h>0?_==f?1:h*_:o[_],C=b*g;e.currentTime=p+m.delay+C,m.duration=C,this._validateStyleAst(v,e),v.offset=b,i.styles.push(v)}),i}visitReference(t,e){return{type:8,animation:Fr(this,Kf(t.animation),e),options:Vl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Vl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Vl(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function nae(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(eae,"")),n=n.replace(/@\*/g,Uv).replace(/@\w+/g,e=>Uv+"-"+e.slice(1)).replace(/:animating/g,w1),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Lr(e.collectedStyles,e.currentQuerySelector,new Map);const a=Fr(this,Kf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Vl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function boe(){return new P(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Gv(t.timings,e.errors,!0);return{type:12,animation:Fr(this,Kf(t.animation),e),timings:i,options:null}}}class rae{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vl(n){return n?(n=Yf(n)).params&&(n.params=function iae(n){return n?Yf(n):null}(n.params)):n={},n}function I1(n,t,e){return{duration:n,delay:t,easing:e}}function k1(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Yv{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const cae=new RegExp(":enter","g"),dae=new RegExp(":leave","g");function M1(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return(new hae).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class hae{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new Yv;const d=new R1(t,e,c,r,s,u,[]);d.options=l;const h=l.delay?Vo(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Fr(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[k1(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:Vo(Xf(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?Vo(i.duration):null,a=null!=i.delay?Vo(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Fr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Kv);const o=Vo(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Fr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Vo(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Fr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Gv(e.params?Xf(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Vo(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Kv);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),Fr(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Fr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Kv={};class R1{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Kv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Xv(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Vo(i.duration)),null!=i.delay&&(r.delay=Vo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Xf(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new R1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Kv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new fae(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(cae,"."+this._enterClassName)).replace(dae,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function xoe(n){return new P(3014,!1)}()),a}}class Xv{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Xv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Fo),this._currentKeyframe.set(e,Fo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function pae(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Fo)}else Ma(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=Xf(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Fo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Ma(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===Fo&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=t.size?zv(t.values()):[],o=e.size?zv(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return k1(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class fae extends Xv{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=Ma(t[0]);l.set("offset",0),s.push(l);const c=Ma(t[0]);c.set("offset",u3(a)),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=Ma(t[d]);const f=h.get("offset");h.set("offset",u3((e+f*i)/o)),s.push(h)}i=o,e=0,r="",t=s}return k1(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function u3(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class N1{}const gae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class mae extends N1{normalizePropertyName(t,e){return E1(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(gae.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function uoe(n,t){return new P(3005,!1)}())}return o+s}}function d3(n,t,e,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const P1={};class h3{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function _ae(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||P1,p=this.buildStyles(i,a&&a.params||P1,d),m=l&&l.params||P1,g=this.buildStyles(r,m,d),v=new Set,_=new Map,b=new Map,C="void"===r,M={params:vae(m,h),delay:this.ast.options?.delay},R=u?[]:M1(t,e,this.ast.animation,s,o,p,g,M,c,d);let j=0;if(R.forEach(Se=>{j=Math.max(Se.duration+Se.delay,j)}),d.length)return d3(e,this._triggerName,i,r,C,p,g,[],[],_,b,j,d);R.forEach(Se=>{const me=Se.element,ce=Lr(_,me,new Set);Se.preStyleProps.forEach(Ce=>ce.add(Ce));const lt=Lr(b,me,new Set);Se.postStyleProps.forEach(Ce=>lt.add(Ce)),me!==e&&v.add(me)});const J=zv(v.values());return d3(e,this._triggerName,i,r,C,p,g,R,J,_,b,j)}}function vae(n,t){const e=Yf(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class yae{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Yf(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Xf(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class xae{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new yae(r.style,r.options&&r.options.params||{},i))}),f3(this.states,"true","1"),f3(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new h3(t,r,this.states))}),this.fallbackTransition=function Tae(n,t,e){return new h3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function f3(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Cae=new Yv;class wae{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=A1(this._driver,e,i,[]);if(i.length)throw function Aoe(n){return new P(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=YB(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=M1(this._driver,e,s,C1,Hv,new Map,new Map,i,Cae,r),o.forEach(u=>{const d=Lr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function Ioe(){return new P(3300,!1)}()),o=[]),r.length)throw function koe(n){return new P(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Fo))})});const c=ka(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Moe(n){return new P(3301,!1)}();return e}listen(t,e,i,r){const s=b1(e,"","","");return v1(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const p3="ng-animate-queued",O1="ng-animate-disabled",Iae=[],g3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ws="__ng_removed";class L1{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Pae(n){return n??null}(i?t.value:t),i){const s=Yf(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Qf="void",F1=new L1(Qf);class Mae{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ss(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Roe(n,t){return new P(3302,!1)}();if(null==i||0==i.length)throw function Noe(n){return new P(3303,!1)}();if(!function Oae(n){return"start"==n||"done"==n}(i))throw function Poe(n,t){return new P(3400,!1)}();const s=Lr(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=Lr(this._engine.statesByElement,t,new Map);return a.has(e)||(ss(t,$v),ss(t,$v+"-"+e),a.set(e,F1)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Ooe(n){return new P(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new V1(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(ss(t,$v),ss(t,$v+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new L1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=F1),c.value!==Qf&&l.value===c.value){if(!function Vae(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),v=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Fl(t,g),Qs(t,v)})}return}const h=Lr(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(ss(t,p3),o.onStart(()=>{ju(t,p3)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let v=g.indexOf(o);v>=0&&g.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Uv,!0);i.forEach(r=>{if(r[ws])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,Qf,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&ka(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||F1,u=new L1(Qf),d=new V1(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ws];(!s||s===g3)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ss(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=b1(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,v1(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Rae{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Mae(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(Qv(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Qv(e))return;const s=e[ws];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ss(t,O1)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ju(t,O1))}removeNode(t,e,i){if(Qv(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ws]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Qv(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Uv,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,w1,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ka(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ws];if(e&&e.setForRemoval){if(t[ws]=g3,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(O1)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ss(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ka(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Loe(n){return new P(3402,!1)}()}_flushAnimations(t,e){const i=new Yv,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(q=>{u.add(q);const Q=this.driver.query(q,".ng-animate-queued",!0);for(let he=0;he<Q.length;he++)u.add(Q[he])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=v3(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((q,Q)=>{const he=C1+m++;p.set(Q,he),q.forEach(de=>ss(de,he))});const g=[],v=new Set,_=new Set;for(let q=0;q<this.collectedLeaveElements.length;q++){const Q=this.collectedLeaveElements[q],he=Q[ws];he&&he.setForRemoval&&(g.push(Q),v.add(Q),he.hasAnimation?this.driver.query(Q,".ng-star-inserted",!0).forEach(de=>v.add(de)):_.add(Q))}const b=new Map,C=v3(h,Array.from(v));C.forEach((q,Q)=>{const he=Hv+m++;b.set(Q,he),q.forEach(de=>ss(de,he))}),t.push(()=>{f.forEach((q,Q)=>{const he=p.get(Q);q.forEach(de=>ju(de,he))}),C.forEach((q,Q)=>{const he=b.get(Q);q.forEach(de=>ju(de,he))}),g.forEach(q=>{this.processLeaveNode(q)})});const M=[],R=[];for(let q=this._namespaceList.length-1;q>=0;q--)this._namespaceList[q].drainQueuedTransitions(e).forEach(he=>{const de=he.player,We=he.element;if(M.push(de),this.collectedEnterElements.length){const et=We[ws];if(et&&et.setForMove){if(et.previousTriggersValues&&et.previousTriggersValues.has(he.triggerName)){const xn=et.previousTriggersValues.get(he.triggerName),ie=this.statesByElement.get(he.element);if(ie&&ie.has(he.triggerName)){const Ie=ie.get(he.triggerName);Ie.value=xn,ie.set(he.triggerName,Ie)}}return void de.destroy()}}const ct=!d||!this.driver.containsElement(d,We),Xe=b.get(We),ci=p.get(We),st=this._buildInstruction(he,i,ci,Xe,ct);if(st.errors&&st.errors.length)return void R.push(st);if(ct)return de.onStart(()=>Fl(We,st.fromStyles)),de.onDestroy(()=>Qs(We,st.toStyles)),void r.push(de);if(he.isFallbackTransition)return de.onStart(()=>Fl(We,st.fromStyles)),de.onDestroy(()=>Qs(We,st.toStyles)),void r.push(de);const bi=[];st.timelines.forEach(et=>{et.stretchStartingKeyframe=!0,this.disabledNodes.has(et.element)||bi.push(et)}),st.timelines=bi,i.append(We,st.timelines),o.push({instruction:st,player:de,element:We}),st.queriedElements.forEach(et=>Lr(a,et,[]).push(de)),st.preStyleProps.forEach((et,xn)=>{if(et.size){let ie=l.get(xn);ie||l.set(xn,ie=new Set),et.forEach((Ie,qe)=>ie.add(qe))}}),st.postStyleProps.forEach((et,xn)=>{let ie=c.get(xn);ie||c.set(xn,ie=new Set),et.forEach((Ie,qe)=>ie.add(qe))})});if(R.length){const q=[];R.forEach(Q=>{q.push(function Foe(n,t){return new P(3505,!1)}())}),M.forEach(Q=>Q.destroy()),this.reportError(q)}const j=new Map,J=new Map;o.forEach(q=>{const Q=q.element;i.has(Q)&&(J.set(Q,Q),this._beforeAnimationBuild(q.player.namespaceId,q.instruction,j))}),r.forEach(q=>{const Q=q.element;this._getPreviousPlayers(Q,!1,q.namespaceId,q.triggerName,null).forEach(de=>{Lr(j,Q,[]).push(de),de.destroy()})});const Se=g.filter(q=>b3(q,l,c)),me=new Map;_3(me,this.driver,_,c,Fo).forEach(q=>{b3(q,l,c)&&Se.push(q)});const lt=new Map;f.forEach((q,Q)=>{_3(lt,this.driver,new Set(q),l,"!")}),Se.forEach(q=>{const Q=me.get(q),he=lt.get(q);me.set(q,new Map([...Q?.entries()??[],...he?.entries()??[]]))});const Ce=[],rt=[],hn={};o.forEach(q=>{const{element:Q,player:he,instruction:de}=q;if(i.has(Q)){if(u.has(Q))return he.onDestroy(()=>Qs(Q,de.toStyles)),he.disabled=!0,he.overrideTotalTime(de.totalTime),void r.push(he);let We=hn;if(J.size>1){let Xe=Q;const ci=[];for(;Xe=Xe.parentNode;){const st=J.get(Xe);if(st){We=st;break}ci.push(Xe)}ci.forEach(st=>J.set(st,We))}const ct=this._buildAnimation(he.namespaceId,de,j,s,lt,me);if(he.setRealPlayer(ct),We===hn)Ce.push(he);else{const Xe=this.playersByElement.get(We);Xe&&Xe.length&&(he.parentPlayer=ka(Xe)),r.push(he)}}else Fl(Q,de.fromStyles),he.onDestroy(()=>Qs(Q,de.toStyles)),rt.push(he),u.has(Q)&&r.push(he)}),rt.forEach(q=>{const Q=s.get(q.element);if(Q&&Q.length){const he=ka(Q);q.setRealPlayer(he)}}),r.forEach(q=>{q.parentPlayer?q.syncPlayerEvents(q.parentPlayer):q.destroy()});for(let q=0;q<g.length;q++){const Q=g[q],he=Q[ws];if(ju(Q,Hv),he&&he.hasAnimation)continue;let de=[];if(a.size){let ct=a.get(Q);ct&&ct.length&&de.push(...ct);let Xe=this.driver.query(Q,w1,!0);for(let ci=0;ci<Xe.length;ci++){let st=a.get(Xe[ci]);st&&st.length&&de.push(...st)}}const We=de.filter(ct=>!ct.destroyed);We.length?Lae(this,Q,We):this.processLeaveNode(Q)}return g.length=0,Ce.forEach(q=>{this.players.push(q),q.onDone(()=>{q.destroy();const Q=this.players.indexOf(q);this.players.splice(Q,1)}),q.play()}),Ce}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==Qf;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=Lr(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Fl(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const m=p.element;u.add(m);const g=m[ws];if(g&&g.removedBeforeQueried)return new qf(p.duration,p.delay);const v=m!==l,_=function Fae(n){const t=[];return y3(n,t),t}((i.get(m)||Iae).map(j=>j.getRealPlayer())).filter(j=>!!j.element&&j.element===m),b=s.get(m),C=o.get(m),M=YB(this._normalizer,p.keyframes,b,C),R=this._buildPlayer(p,M,_);if(p.subTimeline&&r&&d.add(m),v){const j=new V1(t,a,m);j.setRealPlayer(R),c.push(j)}return R});c.forEach(p=>{Lr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Nae(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>ss(p,t3));const f=ka(h);return f.onDestroy(()=>{u.forEach(p=>ju(p,t3)),Qs(l,e.toStyles)}),d.forEach(p=>{Lr(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new qf(t.duration,t.delay)}}class V1{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new qf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>v1(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Lr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Qv(n){return n&&1===n.nodeType}function m3(n,t){const e=n.style.display;return n.style.display=t??"none",e}function _3(n,t,e,i,r){const s=[];e.forEach(l=>s.push(m3(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[ws]=kae,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>m3(l,s[a++])),o}function v3(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function ss(n,t){n.classList?.add(t)}function ju(n,t){n.classList?.remove(t)}function Lae(n,t,e){ka(e).onDone(()=>n.processLeaveNode(t))}function y3(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof WB?y3(i.players,t):t.push(i)}}function b3(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Zv{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Rae(t,e,i),this._timelineEngine=new wae(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=A1(this._driver,s,l,[]);if(l.length)throw function Doe(n,t){return new P(3404,!1)}();a=function bae(n,t,e){return new xae(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=KB(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=KB(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let Hae=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Qs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qs(this._element,this._initialStyles),this._endStyles&&(Qs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fl(this._element,this._endStyles),this._endStyles=null),Qs(this._element,this._initialStyles),this._state=3)}}return n})();function B1(n){let t=null;return n.forEach((e,i)=>{(function $ae(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class x3{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:o3(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Uae{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return QB(t,e)}getParentElement(t){return x1(t)}query(t,e,i){return ZB(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof x3);(function Koe(n,t){return 0===n||0===t})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function Woe(n){return n.length?n[0]instanceof Map?n:n.map(t=>n3(t)):[]}(e).map(f=>Ma(f));d=function Xoe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,o3(n,a)))}}return t}(t,d,c);const h=function Bae(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=B1(t[0]),t.length>1&&(i=B1(t[t.length-1]))):t instanceof Map&&(e=B1(t)),e||i?new Hae(n,e,i):null}(t,d);return new x3(t,d,l,h)}}let Gae=(()=>{class n extends GB{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Zr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?jB(e):e;return T3(this._renderer,null,i,"register",[r]),new zae(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ta),O(Ct))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();class zae extends roe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new jae(this._id,t,e||{},this._renderer)}}class jae{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return T3(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function T3(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const C3="@.disabled";let Wae=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new w3("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return i.data.animation.forEach(l),new qae(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ta),O(Zv),O(Ae))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();class w3{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==C3?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class qae extends w3{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==C3?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Yae(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Kae(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let Xae=(()=>{class n extends Zv{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ct),O(T1),O(N1),O(xs))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();const S3=[{provide:GB,useClass:Gae},{provide:N1,useFactory:function Qae(){return new mae}},{provide:Zv,useClass:Xae},{provide:Ta,useFactory:function Zae(n,t,e){return new Wae(n,t,e)},deps:[d1,Zv,Ae]}],H1=[{provide:T1,useFactory:()=>new Uae},{provide:$O,useValue:"BrowserAnimations"},...S3],D3=[{provide:T1,useClass:JB},{provide:$O,useValue:"NoopAnimations"},...S3];let Jae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?D3:H1}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({providers:H1,imports:[VB]})}return n})();const{isArray:tle}=Array,{getPrototypeOf:nle,prototype:ile,keys:rle}=Object;function E3(n){if(1===n.length){const t=n[0];if(tle(t))return{args:t,keys:null};if(function sle(n){return n&&"object"==typeof n&&nle(n)===ile}(t)){const e=rle(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:ole}=Array;function $1(n){return ze(t=>function ale(n,t){return ole(t)?n(...t):n(t)}(n,t))}function A3(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Zf(...n){const t=Hh(n),e=qm(n),{args:i,keys:r}=E3(n);if(0===i.length)return Qn([],t);const s=new dt(function lle(n,t,e=Kr){return i=>{I3(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)I3(t,()=>{const c=Qn(n[l],t);let u=!1;c.subscribe(Mt(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>A3(r,o):Kr));return e?s.pipe($1(e)):s}function I3(n,t,e){n?bo(e,n,t):t()}const ey=Qt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Jf(...n){return function cle(){return qc(1)}()(Qn(n,Hh(n)))}function k3(n){return new dt(t=>{Un(n()).subscribe(t)})}function Wu(n,t){const e=Je(n)?n:()=>n,i=r=>r.error(e());return new dt(t?r=>t.schedule(i,0,r):i)}function U1(){return Jt((n,t)=>{let e=null;n._refCount++;const i=Mt(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class M3 extends dt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Um(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Oe;const e=this.getSubject();t.add(this.source.subscribe(Mt(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Oe.EMPTY)}return t}refCount(){return U1()(this)}}function Nn(n){return n<=0?()=>Xr:Jt((t,e)=>{let i=0;t.subscribe(Mt(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function ki(n,t){return Jt((e,i)=>{let r=0;e.subscribe(Mt(i,s=>n.call(t,s,r++)&&i.next(s)))})}function ty(n){return Jt((t,e)=>{let i=!1;t.subscribe(Mt(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function R3(n=ule){return Jt((t,e)=>{let i=!1;t.subscribe(Mt(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function ule(){return new ey}function Bl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ki((r,s)=>n(r,s,i)):Kr,Nn(1),e?ty(t):R3(()=>new ey))}function Yu(n,t){return Je(t)?Xn(n,t,1):Xn(n,1)}function Wn(n,t,e){const i=Je(n)||t||e?{next:n,error:t,complete:e}:n;return i?Jt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Mt(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Kr}function Hl(n){return Jt((t,e)=>{let s,i=null,r=!1;i=t.subscribe(Mt(e,void 0,void 0,o=>{s=Un(n(o,Hl(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function G1(n){return n<=0?()=>Xr:Jt((t,e)=>{let i=[];t.subscribe(Mt(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ep(n){return Jt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function an(n){return Jt((t,e)=>{Un(n).subscribe(Mt(e,()=>e.complete(),Ut)),!e.closed&&t.subscribe(e)})}const Ye="primary",tp=Symbol("RouteTitle");class ple{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ku(n){return new ple(n)}function gle(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Zs(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!P3(n[r],t[r]))return!1;return!0}function P3(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function O3(n){return n.length>0?n[n.length-1]:null}function Ra(n){return function ele(n){return!!n&&(n instanceof dt||Je(n.lift)&&Je(n.subscribe))}(n)?n:Mf(n)?Qn(Promise.resolve(n)):we(n)}const _le={exact:function V3(n,t,e){if(!$l(n.segments,t.segments)||!ny(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!V3(n.children[i],t.children[i],e))return!1;return!0},subset:B3},L3={exact:function vle(n,t){return Zs(n,t)},subset:function yle(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>P3(n[e],t[e]))},ignored:()=>!0};function F3(n,t,e){return _le[e.paths](n.root,t.root,e.matrixParams)&&L3[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function B3(n,t,e){return H3(n,t,t.segments,e)}function H3(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!$l(r,e)||t.hasChildren()||!ny(r,e,i))}if(n.segments.length===e.length){if(!$l(n.segments,e)||!ny(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!B3(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!($l(n.segments,r)&&ny(n.segments,r,i)&&n.children[Ye])&&H3(n.children[Ye],t,s,i)}}function ny(n,t,e){return t.every((i,r)=>L3[e](n[r].parameters,i.parameters))}class Xu{constructor(t=new Lt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ku(this.queryParams)),this._queryParamMap}toString(){return Tle.serialize(this)}}class Lt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iy(this)}}class np{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ku(this.parameters)),this._parameterMap}toString(){return G3(this)}}function $l(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let ip=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:function(){return new z1},providedIn:"root"})}return n})();class z1{parse(t){const e=new Nle(t);return new Xu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${rp(t.root,!0)}`,i=function Sle(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ry(e)}=${ry(r)}`).join("&"):`${ry(e)}=${ry(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Cle(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Tle=new z1;function iy(n){return n.segments.map(t=>G3(t)).join("/")}function rp(n,t){if(!n.hasChildren())return iy(n);if(t){const e=n.children[Ye]?rp(n.children[Ye],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Ye&&i.push(`${r}:${rp(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function xle(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ye&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ye&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Ye?[rp(n.children[Ye],!1)]:[`${r}:${rp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ye]?`${iy(n)}/${e[0]}`:`${iy(n)}/(${e.join("//")})`}}function $3(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ry(n){return $3(n).replace(/%3B/gi,";")}function j1(n){return $3(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sy(n){return decodeURIComponent(n)}function U3(n){return sy(n.replace(/\+/g,"%20"))}function G3(n){return`${j1(n.path)}${function wle(n){return Object.keys(n).map(t=>`;${j1(t)}=${j1(n[t])}`).join("")}(n.parameters)}`}const Dle=/^[^\/()?;#]+/;function W1(n){const t=n.match(Dle);return t?t[0]:""}const Ele=/^[^\/()?;=#]+/,Ile=/^[^=?&#]+/,Mle=/^[^&#]+/;class Nle{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ye]=new Lt(t,e)),i}parseSegment(){const t=W1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(t),new np(sy(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Ale(n){const t=n.match(Ele);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=W1(this.remaining);r&&(i=r,this.capture(i))}t[sy(e)]=sy(i)}parseQueryParam(t){const e=function kle(n){const t=n.match(Ile);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function Rle(n){const t=n.match(Mle);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=U3(e),s=U3(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=W1(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new P(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ye);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Ye]:new Lt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new P(4011,!1)}}function z3(n){return n.segments.length>0?new Lt([],{[Ye]:n}):n}function j3(n){const t={};for(const i of Object.keys(n.children)){const s=j3(n.children[i]);if(i===Ye&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Ple(n){if(1===n.numberOfChildren&&n.children[Ye]){const t=n.children[Ye];return new Lt(n.segments.concat(t.segments),t.children)}return n}(new Lt(n.segments,t))}function Ul(n){return n instanceof Xu}function W3(n){let t;const r=z3(function e(s){const o={};for(const l of s.children){const c=e(l);o[l.outlet]=c}const a=new Lt(s.url,o);return s===n&&(t=a),a}(n.root));return t??r}function q3(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return q1(r,r,r,e,i);const s=function Lle(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new K3(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new K3(e,t,i)}(t);if(s.toRoot())return q1(r,r,new Lt([],{}),e,i);const o=function Fle(n,t,e){if(n.isAbsolute)return new ay(t,!0,0);if(!e)return new ay(t,!1,NaN);if(null===e.parent)return new ay(e,!0,0);const i=oy(n.commands[0])?0:1;return function Vle(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new P(4005,!1);r=i.segments.length}return new ay(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?op(o.segmentGroup,o.index,s.commands):X3(o.segmentGroup,o.index,s.commands);return q1(r,o.segmentGroup,a,e,i)}function oy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sp(n){return"object"==typeof n&&null!=n&&n.outlets}function q1(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===t?e:Y3(n,t,e);const a=z3(j3(o));return new Xu(a,s,r)}function Y3(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:Y3(s,t,e)}),new Lt(n.segments,i)}class K3{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&oy(i[0]))throw new P(4003,!1);const r=i.find(sp);if(r&&r!==O3(i))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ay{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function X3(n,t,e){if(n||(n=new Lt([],{})),0===n.segments.length&&n.hasChildren())return op(n,t,e);const i=function Hle(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(sp(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Z3(l,c,o))return s;i+=2}else{if(!Z3(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Lt(n.segments.slice(0,i.pathIndex),{});return s.children[Ye]=new Lt(n.segments.slice(i.pathIndex),n.children),op(s,0,r)}return i.match&&0===r.length?new Lt(n.segments,{}):i.match&&!n.hasChildren()?Y1(n,t,e):i.match?op(n,0,r):Y1(n,t,e)}function op(n,t,e){if(0===e.length)return new Lt(n.segments,{});{const i=function Ble(n){return sp(n[0])?n[0].outlets:{[Ye]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Ye)&&n.children[Ye]&&1===n.numberOfChildren&&0===n.children[Ye].segments.length){const s=op(n.children[Ye],t,e);return new Lt(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=X3(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Lt(n.segments,r)}}function Y1(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(sp(s)){const l=$le(s.outlets);return new Lt(i,l)}if(0===r&&oy(e[0])){i.push(new np(n.segments[t].path,Q3(e[0]))),r++;continue}const o=sp(s)?s.outlets[Ye]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&oy(a)?(i.push(new np(o,Q3(a))),r+=2):(i.push(new np(o,{})),r++)}return new Lt(i,{})}function $le(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=Y1(new Lt([],{}),0,i))}),t}function Q3(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Z3(n,t,e){return n==e.path&&Zs(t,e.parameters)}const ap="imperative";class Js{constructor(t,e){this.id=t,this.url=e}}class ly extends Js{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Na extends Js{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lp extends Js{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qu extends Js{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class cy extends Js{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class J3 extends Js{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ule extends Js{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gle extends Js{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zle extends Js{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jle extends Js{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wle{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qle{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yle{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kle{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xle{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qle{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eH{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class K1{}class X1{constructor(t){this.url=t}}class Zle{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new cp,this.attachRef=null}}let cp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Zle,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class tH{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Q1(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Q1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Z1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Z1(t,this._root).map(e=>e.value)}}function Q1(n,t){if(n===t.value)return t;for(const e of t.children){const i=Q1(n,e);if(i)return i}return null}function Z1(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Z1(n,e);if(i.length)return i.unshift(t),i}return[]}class Bo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Zu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class nH extends tH{constructor(t,e){super(t),this.snapshot=e,J1(this,t)}toString(){return this.snapshot.toString()}}function iH(n,t){const e=function Jle(n,t){const o=new uy([],{},{},"",{},Ye,t,null,{});return new sH("",new Bo(o,[]))}(0,t),i=new Gn([new np("",{})]),r=new Gn({}),s=new Gn({}),o=new Gn({}),a=new Gn(""),l=new Ju(i,r,o,a,s,Ye,t,e.root);return l.snapshot=e.root,new nH(new Bo(l,[]),e)}class Ju{constructor(t,e,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ze(c=>c[tp]))??we(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ze(t=>Ku(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ze(t=>Ku(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rH(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function ece(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class uy{get title(){return this.data?.[tp]}constructor(t,e,i,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ku(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ku(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sH extends tH{constructor(t,e){super(e),this.url=t,J1(this,e)}toString(){return oH(this._root)}}function J1(n,t){t.value._routerState=n,t.children.forEach(e=>J1(n,e))}function oH(n){const t=n.children.length>0?` { ${n.children.map(oH).join(", ")} } `:"";return`${n.value}${t}`}function eS(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Zs(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Zs(t.params,e.params)||n.paramsSubject.next(e.params),function mle(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Zs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Zs(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function tS(n,t){const e=Zs(n.params,t.params)&&function ble(n,t){return $l(n,t)&&n.every((e,i)=>Zs(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||tS(n.parent,t.parent))}let nS=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new K,this.deactivateEvents=new K,this.attachEvents=new K,this.detachEvents=new K,this.parentContexts=ne(cp),this.location=ne(Pr),this.changeDetector=ne(hi),this.environmentInjector=ne(gr),this.inputBinder=ne(dy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new tce(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kt]})}return n})();class tce{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ju?this.route:t===cp?this.childContexts:this.parent.get(t,e)}}const dy=new X("");let aH=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Zf([i.queryParams,i.params,i.data]).pipe(ui(([s,o,a],l)=>(a={...s,...o,...a},0===l?we(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function Lie(n){const t=ht(n);if(!t)return null;const e=new wf(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function up(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function ice(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return up(n,i,r);return up(n,i)})}(n,t,e);return new Bo(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>up(n,a)),o}}const i=function rce(n){return new Ju(new Gn(n.url),new Gn(n.params),new Gn(n.queryParams),new Gn(n.fragment),new Gn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>up(n,s));return new Bo(i,r)}}const iS="ngNavigationCancelingError";function lH(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Ul(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=cH(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function cH(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[iS]=!0,i.cancellationCode=t,e&&(i.url=e),i}function uH(n){return n&&n[iS]}let dH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ve({type:n,selectors:[["ng-component"]],standalone:!0,features:[Sa],decls:1,vars:0,template:function(i,r){1&i&&te(0,"router-outlet")},dependencies:[nS],encapsulation:2})}return n})();function rS(n){const t=n.children&&n.children.map(rS),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ye&&(e.component=dH),e}function Ss(n){return n.outlet||Ye}function dp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class hce{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),eS(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Zu(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Zu(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Zu(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Zu(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Qle(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Kle(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(eS(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),eS(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=dp(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class hH{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class hy{constructor(t,e){this.component=t,this.route=e}}function fce(n,t,e){const i=n._root;return hp(i,t?t._root:null,e,[i.value])}function ed(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function tY(n){return null!==Jm(n)}(n)?t.get(n):n:i}function hp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zu(t);return n.children.forEach(o=>{(function gce(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function mce(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!$l(n.url,t.url);case"pathParamsOrQueryParamsChange":return!$l(n.url,t.url)||!Zs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tS(n,t)||!Zs(n.queryParams,t.queryParams);default:return!tS(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new hH(i)):(s.data=o.data,s._resolvedData=o._resolvedData),hp(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new hy(a.outlet.component,o))}else o&&fp(t,a,r),r.canActivateChecks.push(new hH(i)),hp(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>fp(a,e.getContext(o),r)),r}function fp(n,t,e){const i=Zu(n),r=n.value;Object.entries(i).forEach(([s,o])=>{fp(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new hy(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function pp(n){return"function"==typeof n}function fH(n){return n instanceof ey||"EmptyError"===n?.name}const fy=Symbol("INITIAL_VALUE");function td(){return ui(n=>Zf(n.map(t=>t.pipe(Nn(1),function qu(...n){const t=Hh(n);return Jt((e,i)=>{(t?Jf(n,e,t):Jf(n,e)).subscribe(i)})}(fy)))).pipe(ze(t=>{for(const e of t)if(!0!==e){if(e===fy)return fy;if(!1===e||e instanceof Xu)return e}return!0}),ki(t=>t!==fy),Nn(1)))}function pH(n){return function Ux(...n){return Vm(n)}(Wn(t=>{if(Ul(t))throw lH(0,t)}),ze(t=>!0===t))}class py{constructor(t){this.segmentGroup=t||null}}class gH{constructor(t){this.urlTree=t}}function nd(n){return Wu(new py(n))}function mH(n){return Wu(new gH(n))}class Lce{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new P(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return we(i);if(r.numberOfChildren>1||!r.children[Ye])return Wu(new P(4e3,!1));r=r.children[Ye]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Xu(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new Lt(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new P(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const sS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fce(n,t,e,i,r){const s=oS(n,t,e);return s.matched?(i=function oce(n,t){return n.providers&&!n._injector&&(n._injector=uw(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Nce(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?we(r.map(o=>{const a=ed(o,n);return Ra(function Tce(n){return n&&pp(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(td(),pH()):we(!0)}(i,t,e).pipe(ze(o=>!0===o?s:{...sS}))):we(s)}function oS(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...sS}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||gle)(e,n,t);if(!r)return{...sS};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function _H(n,t,e,i){return e.length>0&&function Hce(n,t,e){return e.some(i=>gy(n,t,i)&&Ss(i)!==Ye)}(n,e,i)?{segmentGroup:new Lt(t,Bce(i,new Lt(e,n.children))),slicedSegments:[]}:0===e.length&&function $ce(n,t,e){return e.some(i=>gy(n,t,i))}(n,e,i)?{segmentGroup:new Lt(n.segments,Vce(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Lt(n.segments,n.children),slicedSegments:e}}function Vce(n,t,e,i,r){const s={};for(const o of i)if(gy(n,e,o)&&!r[Ss(o)]){const a=new Lt([],{});s[Ss(o)]=a}return{...r,...s}}function Bce(n,t){const e={};e[Ye]=t;for(const i of n)if(""===i.path&&Ss(i)!==Ye){const r=new Lt([],{});e[Ss(i)]=r}return e}function gy(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class jce{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Lce(this.urlSerializer,this.urlTree)}noMatchError(t){return new P(4002,!1)}recognize(){const t=_H(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ye).pipe(Hl(e=>{if(e instanceof gH)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof py?this.noMatchError(e):e}),ze(e=>{const i=new uy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),r=new Bo(i,e),s=new sH("",r),o=function Ole(n,t,e=null,i=null){return q3(W3(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Ye).pipe(Hl(i=>{throw i instanceof py?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=rH(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Qn(r).pipe(Yu(s=>{const o=i.children[s],a=function uce(n,t){const e=n.filter(i=>Ss(i)===t);return e.push(...n.filter(i=>Ss(i)!==t)),e}(e,s);return this.processSegmentGroup(t,a,o,s)}),function hle(n,t){return Jt(function dle(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(Mt(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),ty(null),function fle(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ki((r,s)=>n(r,s,i)):Kr,G1(1),e?ty(t):R3(()=>new ey))}(),Xn(s=>{if(null===s)return nd(i);const o=vH(s);return function Wce(n){n.sort((t,e)=>t.value.outlet===Ye?-1:e.value.outlet===Ye?1:t.value.outlet.localeCompare(e.value.outlet))}(o),we(o)}))}processSegment(t,e,i,r,s,o){return Qn(e).pipe(Yu(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,s,o).pipe(Hl(l=>{if(l instanceof py)return we(null);throw l}))),Bl(a=>!!a),Hl(a=>{if(fH(a))return function Gce(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?we([]):nd(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,s,o,a){return function Uce(n,t,e,i){return!!(Ss(n)===i||i!==Ye&&gy(t,e,n))&&("**"===n.path||oS(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):nd(r):nd(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?mH(s):this.applyRedirects.lineralizeSegments(i,s).pipe(Xn(o=>{const a=new Lt(o,{});return this.processSegment(t,e,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=oS(e,r,s);if(!a)return nd(e);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?mH(d):this.applyRedirects.lineralizeSegments(r,d).pipe(Xn(h=>this.processSegment(t,i,e,h.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?O3(r).parameters:{};a=we({snapshot:new uy(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yH(i),Ss(i),i.component??i._loadedComponent??null,i,bH(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=Fce(e,i,r,t).pipe(ze(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new uy(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yH(i),Ss(i),i.component??i._loadedComponent??null,i,bH(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(ui(l=>null===l?nd(e):this.getChildConfig(t=i._injector??t,i,r).pipe(ui(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:m}=_H(e,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(ze(v=>null===v?null:[new Bo(d,v)]));if(0===c.length&&0===m.length)return we([new Bo(d,[])]);const g=Ss(i)===s;return this.processSegment(u,c,p,m,g?Ye:s,!0).pipe(ze(v=>[new Bo(d,v)]))}))))}getChildConfig(t,e,i){return e.children?we({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?we({routes:e._loadedRoutes,injector:e._loadedInjector}):function Rce(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?we(!0):we(r.map(o=>{const a=ed(o,n);return Ra(function vce(n){return n&&pp(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(td(),pH())}(t,e,i).pipe(Xn(r=>r?this.configLoader.loadChildren(t,e).pipe(Wn(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Oce(n){return Wu(cH(!1,3))}())):we({routes:[],injector:t})}}function qce(n){const t=n.value.routeConfig;return t&&""===t.path}function vH(n){const t=[],e=new Set;for(const i of n){if(!qce(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=vH(i.children);t.push(new Bo(i.value,r))}return t.filter(i=>!e.has(i))}function yH(n){return n.data||{}}function bH(n){return n.resolve||{}}function Kce(n,t){return Xn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return we(e);let s=0;return Qn(r).pipe(Yu(o=>function Xce(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!xH(r)&&(s[tp]=r.title),function Qce(n,t,e,i){const r=function Zce(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return we({});const s={};return Qn(r).pipe(Xn(o=>function Jce(n,t,e,i){const r=dp(t)??i,s=ed(n,r);return Ra(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(Bl(),Wn(a=>{s[o]=a}))),G1(1),function N3(n){return ze(()=>n)}(s),Hl(o=>fH(o)?Xr:Wu(o)))}(s,n,t,i).pipe(ze(o=>(n._resolvedData=o,n.data=rH(n,e).resolve,r&&xH(r)&&(n.data[tp]=r.title),null)))}(o.route,i,n,t)),Wn(()=>s++),G1(1),Xn(o=>s===r.length?we(e):Xr))})}function xH(n){return"string"==typeof n.title||null===n.title}function aS(n){return ui(t=>{const e=n(t);return e?Qn(e).pipe(ze(()=>t)):we(t)})}const id=new X("ROUTES");let lS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ne(yV)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return we(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ra(e.loadComponent()).pipe(ze(TH),Wn(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),ep(()=>{this.componentLoaders.delete(e)})),r=new M3(i,()=>new De).pipe(U1());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return we({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function eue(n,t,e,i){return Ra(n.loadChildren()).pipe(ze(TH),Xn(r=>r instanceof I2||Array.isArray(r)?we(r):Qn(t.compileModuleAsync(r))),ze(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(id,[],{optional:!0,self:!0}).flat()),{routes:o.map(rS),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(ep(()=>{this.childrenLoaders.delete(i)})),o=new M3(s,()=>new De).pipe(U1());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TH(n){return function tue(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let my=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new De,this.transitionAbortSubject=new De,this.configLoader=ne(lS),this.environmentInjector=ne(gr),this.urlSerializer=ne(ip),this.rootContexts=ne(cp),this.inputBindingEnabled=null!==ne(dy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>we(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new qle(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Wle(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new Gn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ap,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ki(s=>0!==s.id),ze(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),ui(s=>{this.currentTransition=s;let o=!1,a=!1;return we(s).pipe(Wn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ui(l=>{const c=l.currentBrowserUrl.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const h="";return this.events.next(new Qu(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Xr}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return we(l).pipe(ui(h=>{const f=this.transitions?.getValue();return this.events.next(new ly(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Xr:Promise.resolve(h)}),function Yce(n,t,e,i,r,s){return Xn(o=>function zce(n,t,e,i,r,s,o="emptyOnly"){return new jce(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe(ze(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Wn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new J3(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=l,v=new ly(h,this.urlSerializer.serialize(f),p,m);this.events.next(v);const _=iH(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:_,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},we(s)}{const h="";return this.events.next(new Qu(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Xr}}),Wn(l=>{const c=new Ule(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ze(l=>(this.currentTransition=s={...l,guards:fce(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function wce(n,t){return Xn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?we({...e,guardsResult:!0}):function Sce(n,t,e,i){return Qn(n).pipe(Xn(r=>function Mce(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?we(s.map(a=>{const l=dp(t)??r,c=ed(a,l);return Ra(function xce(n){return n&&pp(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(Bl())})).pipe(td()):we(!0)}(r.component,r.route,e,t,i)),Bl(r=>!0!==r,!0))}(o,i,r,n).pipe(Xn(a=>a&&function _ce(n){return"boolean"==typeof n}(a)?function Dce(n,t,e,i){return Qn(t).pipe(Yu(r=>Jf(function Ace(n,t){return null!==n&&t&&t(new Yle(n)),we(!0)}(r.route.parent,i),function Ece(n,t){return null!==n&&t&&t(new Xle(n)),we(!0)}(r.route,i),function kce(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function pce(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>k3(()=>we(o.guards.map(l=>{const c=dp(o.node)??e,u=ed(l,c);return Ra(function bce(n){return n&&pp(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Bl())})).pipe(td())));return we(s).pipe(td())}(n,r.path,e),function Ice(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return we(!0);const r=i.map(s=>k3(()=>{const o=dp(t)??e,a=ed(s,o);return Ra(function yce(n){return n&&pp(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(Bl())}));return we(r).pipe(td())}(n,r.route,e))),Bl(r=>!0!==r,!0))}(i,s,n,t):we(a)),ze(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Wn(l=>{if(s.guardsResult=l.guardsResult,Ul(l.guardsResult))throw lH(0,l.guardsResult);const c=new Gle(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ki(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),aS(l=>{if(l.guards.canActivateChecks.length)return we(l).pipe(Wn(c=>{const u=new zle(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ui(c=>{let u=!1;return we(c).pipe(Kce(e.paramsInheritanceStrategy,this.environmentInjector),Wn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Wn(c=>{const u=new jle(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),aS(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Wn(h=>{u.component=h}),ze(()=>{})));for(const h of u.children)d.push(...c(h));return d};return Zf(c(l.targetSnapshot.root)).pipe(ty(),Nn(1))}),aS(()=>this.afterPreactivation()),ze(l=>{const c=function nce(n,t,e){const i=up(n,t._root,e?e._root:void 0);return new nH(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Wn(()=>{this.events.next(new K1)}),((n,t,e,i)=>ze(r=>(new hce(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Nn(1),Wn({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Na(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),an(this.transitionAbortSubject.pipe(Wn(l=>{throw l}))),ep(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Hl(l=>{if(a=!0,uH(l))this.events.next(new lp(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function sce(n){return uH(n)&&Ul(n.url)}(l)?this.events.next(new X1(l.url)):s.resolve(!1);else{this.events.next(new cy(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(c){s.reject(c)}}return Xr}))}))}cancelNavigationTransition(e,i,r){const s=new lp(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function CH(n){return n!==ap}let wH=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ye);return i}getResolvedTitleForRoute(e){return e.data[tp]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:function(){return ne(nue)},providedIn:"root"})}return n})(),nue=(()=>{class n extends wH{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(BB))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:function(){return ne(sue)},providedIn:"root"})}return n})();class rue{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let sue=(()=>{class n extends rue{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}();static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _y=new X("",{providedIn:"root",factory:()=>({})});let oue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:function(){return ne(aue)},providedIn:"root"})}return n})(),aue=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(gp||{});function SH(n,t){n.events.pipe(ki(e=>e instanceof Na||e instanceof lp||e instanceof cy||e instanceof Qu),ze(e=>e instanceof Na||e instanceof Qu?gp.COMPLETE:e instanceof lp&&(0===e.code||1===e.code)?gp.REDIRECTING:gp.FAILED),ki(e=>e!==gp.REDIRECTING),Nn(1)).subscribe(()=>{t()})}function lue(n){throw n}function cue(n,t,e){return t.parse("/")}const uue={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},due={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ne(vV),this.isNgZoneEnabled=!1,this._events=new De,this.options=ne(_y,{optional:!0})||{},this.pendingTasks=ne(vv),this.errorHandler=this.options.errorHandler||lue,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||cue,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ne(oue),this.routeReuseStrategy=ne(iue),this.titleStrategy=ne(wH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ne(id,{optional:!0})?.flat()??[],this.navigationTransitions=ne(my),this.urlSerializer=ne(ip),this.location=ne(Uw),this.componentInputBindingEnabled=!!ne(dy,{optional:!0}),this.eventsSubscription=new Oe,this.isNgZoneEnabled=ne(Ae)instanceof Ae&&Ae.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(DH(i)&&this._events.next(i));if(i instanceof ly)CH(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Qu)this.rawUrlTree=r.rawUrl;else if(i instanceof J3){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof K1)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof lp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof X1){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||CH(r.source)};this.scheduleNavigation(s,ap,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof cy&&this.restoreHistory(r,!0),i instanceof Na&&(this.navigated=!0),DH(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ap,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(rS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=W3(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),d=this.currentUrlTree.root}return q3(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ul(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,ap,null,i)}navigate(e,i={skipLocationChange:!1}){return function hue(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new P(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...uue}:!1===i?{...due}:i,Ul(e))return F3(this.currentUrlTree,e,r);const s=this.parseUrl(e);return F3(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return SH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DH(n){return!(n instanceof K1||n instanceof X1)}class EH{}let gue=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ki(e=>e instanceof Na),Yu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=uw(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Qn(r).pipe(qc())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):we(null);const s=r.pipe(Xn(o=>null===o?we(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?Qn([s,this.loader.loadComponent(i)]).pipe(qc()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(O(ni),O(yV),O(gr),O(EH),O(lS))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const uS=new X("");let AH=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ly?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Na?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Qu&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof eH&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eH(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function yL(){throw new Error("invalid")}()};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function Ho(n,t){return{\u0275kind:n,\u0275providers:t}}function kH(){const n=ne(mn);return t=>{const e=n.get(xs);if(t!==e.components[0])return;const i=n.get(ni),r=n.get(MH);1===n.get(dS)&&i.initialNavigation(),n.get(RH,null,tt.Optional)?.setUpPreloading(),n.get(uS,null,tt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const MH=new X("",{factory:()=>new De}),dS=new X("",{providedIn:"root",factory:()=>1}),RH=new X("");function yue(n){return Ho(0,[{provide:RH,useExisting:gue},{provide:EH,useExisting:n}])}const NH=new X("ROUTER_FORROOT_GUARD"),xue=[Uw,{provide:ip,useClass:z1},ni,cp,{provide:Ju,useFactory:function IH(n){return n.routerState.root},deps:[ni]},lS,[]];function Tue(){return new DV("Router",ni)}let PH=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[xue,[],{provide:id,multi:!0,useValue:e},{provide:NH,useFactory:Due,deps:[[ni,new ts,new C_]]},{provide:_y,useValue:i||{}},i?.useHash?{provide:Nl,useClass:$ie}:{provide:Nl,useClass:nB},{provide:uS,useFactory:()=>{const n=ne(sse),t=ne(Ae),e=ne(_y),i=ne(my),r=ne(ip);return e.scrollOffset&&n.setOffset(e.scrollOffset),new AH(r,i,n,t,e)}},i?.preloadingStrategy?yue(i.preloadingStrategy).\u0275providers:[],{provide:DV,multi:!0,useFactory:Tue},i?.initialNavigation?Eue(i):[],i?.bindToComponentInputs?Ho(8,[aH,{provide:dy,useExisting:aH}]).\u0275providers:[],[{provide:OH,useFactory:kH},{provide:Rw,multi:!0,useExisting:OH}]]}}static forChild(e){return{ngModule:n,providers:[{provide:id,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(O(NH,8))};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({})}return n})();function Due(n){return"guarded"}function Eue(n){return["disabled"===n.initialNavigation?Ho(3,[{provide:ww,multi:!0,useFactory:()=>{const t=ne(ni);return()=>{t.setUpLocationChangeListener()}}},{provide:dS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ho(2,[{provide:dS,useValue:0},{provide:ww,multi:!0,deps:[mn],useFactory:t=>{const e=t.get(Bie,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(ni),s=t.get(MH);SH(r,()=>{i(!0)}),t.get(my).afterPreactivation=()=>(i(!0),s.closed?we(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const OH=new X("");function LH(n,t,e,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function S(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(l){LH(s,i,r,o,a,"next",l)}function a(l){LH(s,i,r,o,a,"throw",l)}o(void 0)})}}let vy=(()=>{class n{constructor(){this.alertSubject=new De,this.alert$=this.alertSubject.asObservable()}showAlert(e,i,r=3e3){this.alertSubject.next({message:e,type:i,duration:r}),setTimeout(()=>this.alertSubject.next({message:"",type:"",duration:0}),r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const FH=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},VH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(e[s>>2],e[(3&s)<<4|a>>4],e[h],e[f])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(FH(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const d=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw new Rue;i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Rue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yy=function(n){return function(n){const t=FH(n);return VH.encodeByteArray(t,!0)}(n).replace(/\./g,"")},by=function(n){try{return VH.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},xy=()=>{try{return function Oue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&by(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},HH=()=>{var n;return null===(n=xy())||void 0===n?void 0:n.config};class $H{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function Vr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Pa extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mp.prototype.create)}}class mp{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?function Xue(n,t){return n.replace(Que,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new Pa(r,`${this.serviceName}: ${o} (${r}).`,i)}}const Que=/\{\$([^}]+)}/g;function fS(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(GH(s)&&GH(o)){if(!fS(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function GH(n){return null!==n&&"object"==typeof n}function zH(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class Jue{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function ede(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=pS),void 0===r.error&&(r.error=pS),void 0===r.complete&&(r.complete=pS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pS(){}function os(n){return n&&n._delegate?n._delegate:n}class Gl{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zl="[DEFAULT]";class ode{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new $H;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function lde(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:zl})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=zl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return S(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=zl){return this.instances.has(t)}getOptions(t=zl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===zl?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(t=zl){return this.component?this.component.multipleInstances?t:zl:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class cde{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new ode(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const mS=[];var ut=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ut||{});const jH={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},ude=ut.INFO,dde={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},hde=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=dde[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class _S{constructor(t){this.name=t,this._logLevel=ude,this._logHandler=hde,this._userLogHandler=null,mS.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?jH[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...t),this._logHandler(this,ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...t),this._logHandler(this,ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...t),this._logHandler(this,ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...t),this._logHandler(this,ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...t),this._logHandler(this,ut.ERROR,...t)}}const fde=(n,t)=>t.some(e=>n instanceof e);let WH,qH;const YH=new WeakMap,vS=new WeakMap,KH=new WeakMap,yS=new WeakMap,bS=new WeakMap;let xS={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return vS.get(n);if("objectStoreNames"===t)return n.objectStoreNames||KH.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Oa(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function bde(n){return"function"==typeof n?function yde(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gde(){return qH||(qH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(TS(this),t),Oa(YH.get(this))}:function(...t){return Oa(n.apply(TS(this),t))}:function(t,...e){const i=n.call(TS(this),t,...e);return KH.set(i,t.sort?t.sort():[t]),Oa(i)}}(n):(n instanceof IDBTransaction&&function _de(n){if(vS.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});vS.set(n,t)}(n),fde(n,function pde(){return WH||(WH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,xS):n)}function Oa(n){if(n instanceof IDBRequest)return function mde(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Oa(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&YH.set(e,n)}).catch(()=>{}),bS.set(t,n),t}(n);if(yS.has(n))return yS.get(n);const t=bde(n);return t!==n&&(yS.set(n,t),bS.set(t,n)),t}const TS=n=>bS.get(n),Tde=["get","getKey","getAll","getAllKeys","count"],Cde=["put","add","delete","clear"],CS=new Map;function XH(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(CS.get(t))return CS.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Cde.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Tde.includes(e))return;const s=function(){var o=S(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[e](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return CS.set(t,s),s}!function vde(n){xS=n(xS)}(n=>({...n,get:(t,e,i)=>XH(t,e)||n.get(t,e,i),has:(t,e)=>!!XH(t,e)||n.has(t,e)}));class wde{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function Sde(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const wS="@firebase/app",jl=new _S("@firebase/app"),Cy="[DEFAULT]",Qde={[wS]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wl=new Map,wy=new Map;function Zde(n,t){try{n.container.addComponent(t)}catch(e){jl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function rd(n){const t=n.name;if(wy.has(t))return jl.debug(`There were multiple attempts to register component ${t}.`),!1;wy.set(t,n);for(const e of Wl.values())Zde(e,n);return!0}const $o=new mp("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ehe{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}const Sy="10.7.1";function JH(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:Cy,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw $o.create("bad-app-name",{appName:String(r)});if(e||(e=HH()),!e)throw $o.create("no-options");const s=Wl.get(r);if(s){if(fS(e,s.options)&&fS(i,s.config))return s;throw $o.create("duplicate-app",{appName:r})}const o=new cde(r);for(const l of wy.values())o.addComponent(l);const a=new ehe(e,i,o);return Wl.set(r,a),a}function e$(n=Cy){const t=Wl.get(n);if(!t&&n===Cy&&HH())return JH();if(!t)throw $o.create("no-app",{appName:n});return t}function t$(){return Array.from(Wl.values())}function as(n,t,e){var i;let r=null!==(i=Qde[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void jl.warn(a.join(" "))}rd(new Gl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const the="firebase-heartbeat-database",nhe=1,_p="firebase-heartbeat-store";let DS=null;function n$(){return DS||(DS=function xde(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),a=Oa(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Oa(o.result),l.oldVersion,l.newVersion,Oa(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(the,nhe,{upgrade:(n,t)=>{0===t&&n.createObjectStore(_p)}}).catch(n=>{throw $o.create("idb-open",{originalErrorMessage:n.message})})),DS}function ES(){return(ES=S(function*(n){try{return yield(yield n$()).transaction(_p).objectStore(_p).get(r$(n))}catch(t){if(t instanceof Pa)jl.warn(t.message);else{const e=$o.create("idb-get",{originalErrorMessage:t?.message});jl.warn(e.message)}}})).apply(this,arguments)}function i$(n,t){return AS.apply(this,arguments)}function AS(){return(AS=S(function*(n,t){try{const i=(yield n$()).transaction(_p,"readwrite");yield i.objectStore(_p).put(t,r$(n)),yield i.done}catch(e){if(e instanceof Pa)jl.warn(e.message);else{const i=$o.create("idb-set",{originalErrorMessage:e?.message});jl.warn(i.message)}}})).apply(this,arguments)}function r$(n){return`${n.name}!${n.options.appId}`}class ohe{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new lhe(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return S(function*(){var e,i;const s=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=s$();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==o&&!t._heartbeatsCache.heartbeats.some(a=>a.date===o))return t._heartbeatsCache.heartbeats.push({date:o,agent:s}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return S(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=s$(),{heartbeatsToSend:r,unsentEntries:s}=function ahe(n,t=1024){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),o$(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),o$(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),o=yy(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(t._heartbeatsCache.heartbeats=s,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function s$(){return(new Date).toISOString().substring(0,10)}class lhe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(function*(){return!!function que(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Yue(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return S(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function ihe(n){return ES.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return S(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return i$(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return S(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return i$(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}})()}}function o$(n){return yy(JSON.stringify({version:2,heartbeats:n})).length}!function che(n){rd(new Gl("platform-logger",t=>new wde(t),"PRIVATE")),rd(new Gl("heartbeat",t=>new ohe(t),"PRIVATE")),as(wS,"0.9.25",n),as(wS,"0.9.25","esm2017"),as("fire-js","")}(""),as("firebase","10.7.1","app");class hhe extends Oe{constructor(t,e){super()}schedule(t,e=0){return this}}const Dy={setInterval(n,t,...e){const{delegate:i}=Dy;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Dy;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class Ey extends hhe{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return Dy.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Dy.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Tn(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const a$={now:()=>(a$.delegate||Date).now(),delegate:void 0};class vp{constructor(t,e=vp.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}vp.now=a$.now;class Ay extends vp{constructor(t,e=vp.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const ghe=new class phe extends Ay{}(class fhe extends Ey{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),sd=new Ay(Ey),mhe=sd,IS=new Su("ANGULARFIRE2_VERSION");const kS=(n,t)=>{const e=t?[t]:t$(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};class _he{constructor(){return kS(vhe)}}const vhe="app-check";function od(){}class c${zone;delegate;constructor(t,e=ghe){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class yhe{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",od,{},od,od)),e.pipe(Wn({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let u$=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new c$(Zone.current)),this.insideAngular=e.run(()=>new c$(Zone.current,sd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(O(Ae))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ad(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function ql(n){return ad().ngZone.run(()=>n())}function xhe(n){return function The(n){return function(e){return(e=e.lift(new yhe(n.ngZone))).pipe(Km(n.outsideAngular),Ym(n.insideAngular))}}(ad())(n)}const Che=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),ql(()=>n.apply(void 0,i))},La=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||=ql(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",od,{},od,od))),i[s]=Che(i[s],e));const r=function bhe(n){return ad().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof dt){const s=ad();return r.pipe(Km(s.outsideAngular),Ym(s.insideAngular))}return ql(()=>r)}return r instanceof dt?r.pipe(xhe):r instanceof Promise?ql(()=>new Promise((s,o)=>r.then(a=>ql(()=>s(a)),a=>ql(()=>o(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:ql(()=>r)};class yp{constructor(t){return t}}class d${constructor(){return t$()}}const MS=new X("angularfire2._apps"),She={provide:yp,useFactory:function whe(n){return n&&1===n.length?n[0]:new yp(e$())},deps:[[new ts,MS]]},Dhe={provide:d$,deps:[[new ts,MS]]};function Ehe(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new yp(i)}}let Ahe=(()=>{class n{constructor(e){as("angularfire",IS.full,"core"),as("angularfire",IS.full,"app"),as("angular",YO.full,e.toString())}static \u0275fac=function(i){return new(i||n)(O(di))};static \u0275mod=Te({type:n});static \u0275inj=be({providers:[She,Dhe]})}return n})();function Ihe(n,...t){return{ngModule:Ahe,providers:[{provide:MS,useFactory:Ehe(n),multi:!0,deps:[Ae,mn,u$,...t]}]}}const khe=La(JH,!0);const Mhe=function h$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},f$=new mp("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Iy=new _S("@firebase/auth");function ky(n,...t){Iy.logLevel<=ut.ERROR&&Iy.error(`Auth (${Sy}): ${n}`,...t)}function yr(n,...t){throw RS(n,...t)}function eo(n,...t){return RS(n,...t)}function RS(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return f$.create(n,...t)}function re(n,t,...e){if(!n)throw RS(t,...e)}function to(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ky(t),new Error(t)}function Fa(n,t){n||to(t)}function g$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function Nhe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function NS(){return"http:"===g$()||"https:"===g$()}()||function jue(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class xp{constructor(t,e){this.shortDelay=t,this.longDelay=e,Fa(e>t,"Short delay should be less than long delay!"),this.isMobile=function Gue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vr())}()||function Wue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Nhe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class m${static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void to("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void to("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void to("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ohe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Lhe=new xp(3e4,6e4);function en(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function tn(n,t,e,i){return OS.apply(this,arguments)}function OS(){return(OS=S(function*(n,t,e,i,r={}){return _$(n,r,S(function*(){let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=zH(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),m$.fetch()(v$(n,n.config.apiHost,e,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function _$(n,t,e){return LS.apply(this,arguments)}function LS(){return(LS=S(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Ohe),t);try{const r=new Vhe(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Tp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Tp(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Tp(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Tp(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function p$(n,t,e){const i=Object.assign(Object.assign({},Mhe()),{[t]:e});return new mp("auth","Firebase",i).create(t,{appName:n.name})}(n,u,c);yr(n,u)}}catch(r){if(r instanceof Pa)throw r;yr(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function v$(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?function PS(n,t){Fa(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}(n.config,r):`${n.config.apiScheme}://${r}`}class Vhe{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(eo(this.auth,"network-request-failed")),Lhe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tp(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=eo(n,t,i);return r.customData._tokenResponse=e,r}function HS(){return(HS=S(function*(n,t){return tn(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function US(){return(US=S(function*(n,t){return tn(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Cp(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function GS(){return(GS=S(function*(n,t=!1){const e=os(n),i=yield e.getIdToken(t),r=My(i);re(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Cp(zS(r.auth_time)),issuedAtTime:Cp(zS(r.iat)),expirationTime:Cp(zS(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function zS(n){return 1e3*Number(n)}function My(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return ky("JWT malformed, contained fewer than 3 sections"),null;try{const r=by(e);return r?JSON.parse(r):(ky("Failed to decode base64 JWT payload"),null)}catch(r){return ky("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Go(n,t){return jS.apply(this,arguments)}function jS(){return(jS=S(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof Pa&&function jhe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Whe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(S(function*(){yield e.iteration()}),i)}iteration(){var t=this;return S(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class C${constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cp(this.lastLoginAt),this.creationTime=Cp(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wp(n){return WS.apply(this,arguments)}function WS(){return WS=S(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield Go(n,function Uhe(n,t){return US.apply(this,arguments)}(e,{idToken:i}));re(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?function Khe(n){return n.map(t=>{var{providerId:e}=t,i=pl(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(s.providerUserInfo):[],a=function Yhe(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new C$(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),WS.apply(this,arguments)}function qS(){return(qS=S(function*(n){const t=os(n);yield wp(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function YS(){return(YS=S(function*(n,t){const e=yield _$(n,{},S(function*(){const i=zH({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=v$(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",m$.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function KS(){return(KS=S(function*(n,t){return tn(n,"POST","/v2/accounts:revokeToken",en(n,t))})).apply(this,arguments)}class Sp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){re(t.idToken,"internal-error"),re(typeof t.idToken<"u","internal-error"),re(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function zhe(n){const t=My(n);return re(t,"internal-error"),re(typeof t.exp<"u","internal-error"),re(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return S(function*(){return re(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return S(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function Xhe(n,t){return YS.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new Sp;return i&&(re("string"==typeof i,"internal-error",{appName:t}),o.refreshToken=i),r&&(re("string"==typeof r,"internal-error",{appName:t}),o.accessToken=r),s&&(re("number"==typeof s,"internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Sp,this.toJSON())}_performRefresh(){return to("not implemented")}}function Va(n,t){re("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class Yl{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=pl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Whe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new C$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var e=this;return S(function*(){const i=yield Go(e,e.stsTokenManager.getToken(e.auth,t));return re(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function Ghe(n){return GS.apply(this,arguments)}(this,t)}reload(){return function qhe(n){return qS.apply(this,arguments)}(this)}_assign(t){this!==t&&(re(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Yl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return S(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield wp(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return S(function*(){const e=yield t.getIdToken();return yield Go(t,function Hhe(n,t){return HS.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,a,l,c,u;const d=null!==(i=e.displayName)&&void 0!==i?i:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,f=null!==(s=e.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=e.photoURL)&&void 0!==o?o:void 0,m=null!==(a=e.tenantId)&&void 0!==a?a:void 0,g=null!==(l=e._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=e.createdAt)&&void 0!==c?c:void 0,_=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:C,isAnonymous:M,providerData:R,stsTokenManager:j}=e;re(b&&j,t,"internal-error");const J=Sp.fromJSON(this.name,j);re("string"==typeof b,t,"internal-error"),Va(d,t.name),Va(h,t.name),re("boolean"==typeof C,t,"internal-error"),re("boolean"==typeof M,t,"internal-error"),Va(f,t.name),Va(p,t.name),Va(m,t.name),Va(g,t.name),Va(v,t.name),Va(_,t.name);const Se=new Yl({uid:b,auth:t,email:h,emailVerified:C,displayName:d,isAnonymous:M,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:J,createdAt:v,lastLoginAt:_});return R&&Array.isArray(R)&&(Se.providerData=R.map(me=>Object.assign({},me))),g&&(Se._redirectEventId=g),Se}static _fromIdTokenResponse(t,e,i=!1){return S(function*(){const r=new Sp;r.updateFromServerResponse(e);const s=new Yl({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield wp(s),s})()}}const w$=new Map;function zo(n){Fa(n instanceof Function,"Expected a class definition");let t=w$.get(n);return t?(Fa(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,w$.set(n,t),t)}const S$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(function*(){return!0})()}_set(e,i){var r=this;return S(function*(){r.storage[e]=i})()}_get(e){var i=this;return S(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return S(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function Ry(n,t,e){return`firebase:${n}:${t}:${e}`}class cd{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Ry(this.userKey,r.apiKey,s),this.fullPersistenceKey=Ry("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return S(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?Yl._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return S(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return S(function*(){if(!e.length)return new cd(zo(S$),t,i);const r=(yield Promise.all(e.map(function(){var c=S(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||zo(S$);const o=Ry(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const u=yield c._get(o);if(u){const d=Yl._fromJSON(t,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var c=S(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new cd(s,t,i)):new cd(s,t,i)})()}}function D$(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function I$(n=Vr()){return/iemobile/i.test(n)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function E$(n=Vr()){return/firefox\//i.test(n)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function M$(n=Vr()){return/blackberry/i.test(n)}(t))return"Blackberry";if(function R$(n=Vr()){return/webos/i.test(n)}(t))return"Webos";if(function XS(n=Vr()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function A$(n=Vr()){return/crios\//i.test(n)}(t))&&!t.includes("edge/"))return"Chrome";if(function k$(n=Vr()){return/android/i.test(n)}(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function N$(n,t=[]){let e;switch(n){case"Browser":e=D$(Vr());break;case"Worker":e=`${D$(Vr())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Sy}/${i}`}class efe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,a)=>{try{o(t(s))}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return S(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function QS(){return(QS=S(function*(n,t={}){return tn(n,"GET","/v2/passwordPolicy",en(n,t))})).apply(this,arguments)}class ife{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=o.minPasswordLength)&&void 0!==e?e:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=t.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=null===(e=l.meetsMinPasswordLength)||void 0===e||e),l.isValid&&(l.isValid=null===(i=l.meetsMaxPasswordLength)||void 0===i||i),l.isValid&&(l.isValid=null===(r=l.containsLowercaseLetter)||void 0===r||r),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}class rfe{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P$(this),this.idTokenSubscription=new P$(this),this.beforeStateQueue=new efe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=zo(e)),this._initializationPromise=this.queue(S(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield cd.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return S(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return S(function*(){var i;const r=yield e.assertedPersistence.getCurrentUser();let s=r,o=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const a=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,l=s?._redirectEventId,c=yield e.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return e.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield e.beforeStateQueue.runMiddleware(s)}catch(a){s=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(a))}return s?e.reloadAndSetCurrentUserOrClear(s):e.directlySetCurrentUser(null)}return re(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===s._redirectEventId?e.directlySetCurrentUser(s):e.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(t){var e=this;return S(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return S(function*(){try{yield wp(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function Phe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return S(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return S(function*(){const i=t?os(t):null;return i&&re(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return S(function*(){if(!i._deleted)return t&&re(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue(S(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return S(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue(S(function*(){yield e.assertedPersistence.setPersistence(zo(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return S(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return S(function*(){const e=yield function tfe(n){return QS.apply(this,arguments)}(t),i=new ife(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new mp("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){var e=this;return S(function*(){if(e.currentUser){const i=yield e.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};null!=e.tenantId&&(r.tenantId=e.tenantId),yield function Qhe(n,t){return KS.apply(this,arguments)}(e,r)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return S(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return S(function*(){if(!e.redirectPersistenceManager){const i=t&&zo(t)||e._popupRedirectResolver;re(i,e,"argument-error"),e.redirectPersistenceManager=yield cd.create(e,[zo(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return S(function*(){var i,r;return e._isInitialized&&(yield e.queue(S(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return S(function*(){if(t===e.currentUser)return e.queue(S(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s="function"==typeof e?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof e){const l=t.addObserver(e,i,r);return()=>{o=!0,l()}}{const l=t.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(t){var e=this;return S(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=N$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return S(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield t._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var t=this;return S(function*(){var e;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function Rhe(n,...t){Iy.logLevel<=ut.WARN&&Iy.warn(`Auth (${Sy}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class P${constructor(t){this.auth=t,this.observer=null,this.addObserver=function Zue(n,t){const e=new Jue(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function O$(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new xp(3e4,6e4),new xp(2e3,1e4),new xp(3e4,6e4),new xp(5e3,15e3),encodeURIComponent("fac");var hU="@firebase/auth";class oge{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return S(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}xy(),function lge(n){rd(new Gl("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N$(n)},c=new rfe(i,r,s,l);return function dfe(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(zo);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),rd(new Gl("auth-internal",t=>{const e=function Pn(n){return os(n)}(t.getProvider("auth").getImmediate());return new oge(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(hU,"1.5.1",function age(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),as(hU,"1.5.1","esm2017")}("Browser");class mU{constructor(){return kS("auth")}}var le,gge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ds={},GE=GE||{},He=gge||self;function jy(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Mp(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var zE="closure_uid_"+(1e9*Math.random()>>>0),_ge=0;function vge(n,t,e){return n.call.apply(n.bind,arguments)}function yge(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function $i(n,t,e){return($i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vge:yge).apply(null,arguments)}function Wy(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function pi(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function Ba(){this.s=this.s,this.o=this.o}Ba.prototype.s=!1,Ba.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function mge(n){Object.prototype.hasOwnProperty.call(n,zE)&&n[zE]||(n[zE]=++_ge)}(this)},Ba.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _U=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function jE(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function vU(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(jy(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Ui(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Ui.prototype.h=function(){this.defaultPrevented=!0};var xge=function(){if(!He.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const e=()=>{};He.addEventListener("test",e,t),He.removeEventListener("test",e,t)}catch{}return n}();function Rp(n){return/^[\s\xa0]*$/.test(n)}function qy(){var n=He.navigator;return n&&(n=n.userAgent)?n:""}function no(n){return-1!=qy().indexOf(n)}function WE(n){return WE[" "](n),n}WE[" "]=function(){};var YE,Cge=no("Opera"),ud=no("Trident")||no("MSIE"),yU=no("Edge"),qE=yU||ud,bU=no("Gecko")&&!(-1!=qy().toLowerCase().indexOf("webkit")&&!no("Edge"))&&!(no("Trident")||no("MSIE"))&&!no("Edge"),wge=-1!=qy().toLowerCase().indexOf("webkit")&&!no("Edge");function xU(){var n=He.document;return n?n.documentMode:void 0}e:{var KE="",XE=function(){var n=qy();return bU?/rv:([^\);]+)(\)|;)/.exec(n):yU?/Edge\/([\d\.]+)/.exec(n):ud?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):wge?/WebKit\/(\S+)/.exec(n):Cge?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(XE&&(KE=XE?XE[1]:""),ud){var QE=xU();if(null!=QE&&QE>parseFloat(KE)){YE=String(QE);break e}}YE=KE}var Sge=He.document&&ud&&(xU()||parseInt(YE,10))||void 0;function Np(n,t){if(Ui.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(bU){e:{try{WE(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Dge[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Np.$.h.call(this)}}pi(Np,Ui);var Dge={2:"touch",3:"pen",4:"mouse"};Np.prototype.h=function(){Np.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Pp="closure_listenable_"+(1e6*Math.random()|0),Ege=0;function Age(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++Ege,this.fa=this.ia=!1}function Yy(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function JE(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function CU(n){const t={};for(const e in n)t[e]=n[e];return t}const wU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SU(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<wU.length;s++)e=wU[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Ky(n){this.src=n,this.g={},this.h=0}function eA(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=_U(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Yy(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function tA(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}Ky.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=tA(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new Age(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var nA="closure_lm_"+(1e6*Math.random()|0),iA={};function DU(n,t,e,i,r){if(i&&i.once)return AU(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)DU(n,t[s],e,i,r);return null}return e=aA(e),n&&n[Pp]?n.O(t,e,Mp(i)?!!i.capture:!!i,r):EU(n,t,e,!1,i,r)}function EU(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=Mp(r)?!!r.capture:!!r,a=sA(n);if(a||(n[nA]=a=new Ky(n)),(e=a.add(t,e,i,o,s)).proxy)return e;if(i=function kge(){const t=Mge;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)xge||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(kU(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function AU(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)AU(n,t[s],e,i,r);return null}return e=aA(e),n&&n[Pp]?n.P(t,e,Mp(i)?!!i.capture:!!i,r):EU(n,t,e,!0,i,r)}function IU(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)IU(n,t[s],e,i,r);else i=Mp(i)?!!i.capture:!!i,e=aA(e),n&&n[Pp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=tA(s=n.g[t],e,i,r))&&(Yy(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=sA(n))&&(t=n.g[t.toString()],n=-1,t&&(n=tA(t,e,i,r)),(e=-1<n?t[n]:null)&&rA(e))}function rA(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Pp])eA(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(kU(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=sA(t))?(eA(e,n),0==e.h&&(e.src=null,t[nA]=null)):Yy(n)}}}function kU(n){return n in iA?iA[n]:iA[n]="on"+n}function Mge(n,t){if(n.fa)n=!0;else{t=new Np(t,this);var e=n.listener,i=n.la||n.src;n.ia&&rA(n),n=e.call(i,t)}return n}function sA(n){return(n=n[nA])instanceof Ky?n:null}var oA="__closure_events_fn_"+(1e9*Math.random()>>>0);function aA(n){return"function"==typeof n?n:(n[oA]||(n[oA]=function(t){return n.handleEvent(t)}),n[oA])}function gi(){Ba.call(this),this.i=new Ky(this),this.S=this,this.J=null}function Mi(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Ui(t,n);else if(t instanceof Ui)t.target=t.target||n;else{var r=t;SU(t=new Ui(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=Xy(o,i,!0,t)&&r}if(r=Xy(o=t.g=n,i,!0,t)&&r,r=Xy(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Xy(o=t.g=e[s],i,!1,t)&&r}function Xy(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var a=o.listener,l=o.la||o.src;o.ia&&eA(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}pi(gi,Ba),gi.prototype[Pp]=!0,gi.prototype.removeEventListener=function(n,t,e,i){IU(this,n,t,e,i)},gi.prototype.N=function(){if(gi.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Yy(e[i]);delete n.g[t],n.h--}}this.J=null},gi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},gi.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var lA=He.JSON.stringify;function Nge(){var n=cA;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var MU=new class Rge{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Oge,n=>n.reset());class Oge{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Lge(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Fge(n){He.setTimeout(()=>{throw n},0)}let Op,Lp=!1,cA=new class Pge{constructor(){this.h=this.g=null}add(t,e){const i=MU.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},RU=()=>{const n=He.Promise.resolve(void 0);Op=()=>{n.then(Vge)}};var Vge=()=>{for(var n;n=Nge();){try{n.h.call(n.g)}catch(e){Fge(e)}var t=MU;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Lp=!1};function Qy(n,t){gi.call(this),this.h=n||1,this.g=t||He,this.j=$i(this.qb,this),this.l=Date.now()}function uA(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function dA(n,t,e){if("function"==typeof n)e&&(n=$i(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=$i(n.handleEvent,n)}return 2147483647<Number(t)?-1:He.setTimeout(n,t||0)}function NU(n){n.g=dA(()=>{n.g=null,n.i&&(n.i=!1,NU(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}pi(Qy,gi),(le=Qy.prototype).ga=!1,le.T=null,le.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mi(this,"tick"),this.ga&&(uA(this),this.start()))}},le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.N=function(){Qy.$.N.call(this),uA(this),delete this.g};class Bge extends Ba{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:NU(this)}N(){super.N(),this.g&&(He.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fp(n){Ba.call(this),this.h=n,this.g={}}pi(Fp,Ba);var PU=[];function OU(n,t,e,i){Array.isArray(e)||(e&&(PU[0]=e.toString()),e=PU);for(var r=0;r<e.length;r++){var s=DU(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function LU(n){JE(n.g,function(t,e){this.g.hasOwnProperty(e)&&rA(t)},n),n.g={}}function Zy(){this.g=!0}function dd(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Gge(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return lA(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Fp.prototype.N=function(){Fp.$.N.call(this),LU(this)},Fp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zy.prototype.Ea=function(){this.g=!1},Zy.prototype.info=function(){};var Zl={},FU=null;function Jy(){return FU=FU||new gi}function VU(n){Ui.call(this,Zl.Ta,n)}function Vp(n){const t=Jy();Mi(t,new VU(t))}function BU(n,t){Ui.call(this,Zl.STAT_EVENT,n),this.stat=t}function sr(n){const t=Jy();Mi(t,new BU(t,n))}function HU(n,t){Ui.call(this,Zl.Ua,n),this.size=t}function Bp(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return He.setTimeout(function(){n()},t)}Zl.Ta="serverreachability",pi(VU,Ui),Zl.STAT_EVENT="statevent",pi(BU,Ui),Zl.Ua="timingevent",pi(HU,Ui);var e0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$U={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hA(){}function GU(){}hA.prototype.h=null;var gA,Hp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fA(){Ui.call(this,"d")}function pA(){Ui.call(this,"c")}function t0(){}function $p(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Fp(this),this.P=zge,this.V=new Qy(n=qE?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zU}function zU(){this.i=null,this.g="",this.h=!1}pi(fA,Ui),pi(pA,Ui),pi(t0,hA),t0.prototype.g=function(){return new XMLHttpRequest},t0.prototype.i=function(){return{}},gA=new t0;var zge=45e3,jU={},mA={};function _A(n,t,e){n.L=1,n.A=o0(Wo(t)),n.u=e,n.S=!0,WU(n,null)}function WU(n,t){n.G=Date.now(),Up(n),n.B=Wo(n.A);var e=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),nG(e.i,"t",i),n.o=0,e=n.l.J,n.h=new zU,n.g=DG(n.l,e?t:null,!n.u),0<n.O&&(n.M=new Bge($i(n.Pa,n,n.g),n.O)),OU(n.U,n.g,"readystatechange",n.nb),t=n.I?CU(n.I):{},n.u?(n.v||(n.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,t)):(n.v="GET",n.g.ha(n.B,n.v,null,t)),Vp(),function Hge(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function qU(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function YU(n,t,e){let r,i=!0;for(;!n.J&&n.o<e.length;){if(r=jge(n,e),r==mA){4==t&&(n.s=4,sr(14),i=!1),dd(n.j,n.m,null,"[Incomplete Response]");break}if(r==jU){n.s=4,sr(15),dd(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}dd(n.j,n.m,r,null),vA(n,r)}qU(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=t||0!=e.length||n.h.h||(n.s=1,sr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),SA(t),t.M=!0,sr(11))):(dd(n.j,n.m,e,"[Invalid Chunked Response]"),Jl(n),Gp(n))}function jge(n,t){var e=n.o,i=t.indexOf("\n",e);return-1==i?mA:(e=Number(t.substring(e,i)),isNaN(e)?jU:(i+=1)+e>t.length?mA:(t=t.slice(i,i+e),n.o=i+e,t))}function Up(n){n.Y=Date.now()+n.P,KU(n,n.P)}function KU(n,t){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Bp($i(n.lb,n),t)}function n0(n){n.C&&(He.clearTimeout(n.C),n.C=null)}function Gp(n){0==n.l.H||n.J||TG(n.l,n)}function Jl(n){n0(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,uA(n.V),LU(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function vA(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||yA(e.i,n)))if(!n.K&&yA(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;h0(e),u0(e)}wA(e),sr(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Bp($i(e.ib,e),6e3));if(1>=sG(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else tc(e,11)}else if((n.K||e.g==n)&&h0(e),!Rp(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const u=c[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const d=c[4];null!=d&&(e.Ga=d,e.l.info("SVER="+e.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(e.L=i=1.5*h,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(bA(s,s.h),s.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,nn(i.I,i.F,m))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=SG(i,i.J?i.pa:null,i.Y),o.K){oG(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(n0(a),Up(a)),i.g=o}else bG(i);0<e.j.length&&d0(e)}else"stop"!=c[0]&&"close"!=c[0]||tc(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?tc(e,7):CA(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}Vp()}catch{}}function XU(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(jy(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function qge(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(jy(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function Wge(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(jy(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(le=$p.prototype).setTimeout=function(n){this.P=n},le.nb=function(n){n=n.target;const t=this.M;t&&3==io(n)?t.l():this.Pa(n)},le.Pa=function(n){try{if(n==this.g)e:{const u=io(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||qE||this.g&&(this.h.h||this.g.ja()||pG(this.g)))){this.J||4!=u||7==t||Vp(),n0(this);var e=this.g.da();this.ca=e;t:if(qU(this)){var i=pG(this.g);n="";var r=i.length,s=4==io(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jl(this),Gp(this);var o="";break t}this.h.i=new He.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function $ge(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rp(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.s=3,sr(12),Jl(this),Gp(this);break e}dd(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vA(this,e)}this.S?(YU(this,u,o),qE&&this.i&&3==u&&(OU(this.U,this.V,"tick",this.mb),this.V.start())):(dd(this.j,this.m,o,null),vA(this,o)),4==u&&Jl(this),this.i&&!this.J&&(4==u?TG(this.l,this):(this.i=!1,Up(this)))}else(function dme(n){const t={};n=(n.g&&2<=io(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Rp(n[i]))continue;var e=Lge(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function Ige(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.s=3,sr(12)):(this.s=0,sr(13)),Jl(this),Gp(this)}}}catch{}},le.mb=function(){if(this.g){var n=io(this.g),t=this.g.ja();this.o<t.length&&(n0(this),YU(this,n,t),this.i&&4!=n&&Up(this))}},le.cancel=function(){this.J=!0,Jl(this)},le.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function Uge(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(Vp(),sr(17)),Jl(this),this.s=2,Gp(this)):KU(this,this.Y-n)};var QU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ec(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ec){this.h=n.h,r0(this,n.j),this.s=n.s,this.g=n.g,s0(this,n.m),this.l=n.l;var t=n.i,e=new Wp;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),ZU(this,e),this.o=n.o}else n&&(t=String(n).match(QU))?(this.h=!1,r0(this,t[1]||"",!0),this.s=zp(t[2]||""),this.g=zp(t[3]||"",!0),s0(this,t[4]),this.l=zp(t[5]||"",!0),ZU(this,t[6]||"",!0),this.o=zp(t[7]||"")):(this.h=!1,this.i=new Wp(null,this.h))}function Wo(n){return new ec(n)}function r0(n,t,e){n.j=e?zp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function s0(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function ZU(n,t,e){t instanceof Wp?(n.i=t,function eme(n,t){t&&!n.j&&(Ha(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(eG(this,i),nG(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=jp(t,Zge)),n.i=new Wp(t,n.h))}function nn(n,t,e){n.i.set(t,e)}function o0(n){return nn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function jp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Kge),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Kge(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ec.prototype.toString=function(){var n=[],t=this.j;t&&n.push(jp(t,JU,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(jp(t,JU,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(jp(e,"/"==e.charAt(0)?Qge:Xge,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",jp(e,Jge)),n.join("")};var JU=/[#\/\?@]/g,Xge=/[#\?:]/g,Qge=/[#\?]/g,Zge=/[#\?@]/g,Jge=/#/g;function Wp(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ha(n){n.g||(n.g=new Map,n.h=0,n.i&&function Yge(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function eG(n,t){Ha(n),t=hd(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function tG(n,t){return Ha(n),t=hd(n,t),n.g.has(t)}function nG(n,t,e){eG(n,t),0<e.length&&(n.i=null,n.g.set(hd(n,t),jE(e)),n.h+=e.length)}function hd(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function iG(n){this.l=n||nme,n=He.PerformanceNavigationTiming?0<(n=He.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(He.g&&He.g.Ka&&He.g.Ka()&&He.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(le=Wp.prototype).add=function(n,t){Ha(this),this.i=null,n=hd(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},le.forEach=function(n,t){Ha(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},le.ta=function(){Ha(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},le.Z=function(n){Ha(this);let t=[];if("string"==typeof n)tG(this,n)&&(t=t.concat(this.g.get(hd(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},le.set=function(n,t){return Ha(this),this.i=null,tG(this,n=hd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},le.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var nme=10;function rG(n){return!!n.h||!!n.g&&n.g.size>=n.j}function sG(n){return n.h?1:n.g?n.g.size:0}function yA(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function bA(n,t){n.g?n.g.add(t):n.h=t}function oG(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function aG(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return jE(n.i)}iG.prototype.cancel=function(){if(this.i=aG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var ime=class{stringify(n){return He.JSON.stringify(n,void 0)}parse(n){return He.JSON.parse(n,void 0)}};function rme(){this.g=new ime}function sme(n,t,e){const i=e||"";try{XU(n,function(r,s){let o=r;Mp(r)&&(o=lA(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function a0(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function qp(n){this.l=n.ec||null,this.j=n.ob||!1}function l0(n,t){gi.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=xA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pi(qp,hA),qp.prototype.g=function(){return new l0(this.l,this.j)},qp.prototype.i=function(n){return function(){return n}}({}),pi(l0,gi);var xA=0;function lG(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Yp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kp(n)}function Kp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(le=l0.prototype).open=function(n,t){if(this.readyState!=xA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Kp(this)},le.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||He).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yp(this)),this.readyState=xA},le.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kp(this)),this.g&&(this.readyState=3,Kp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof He.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lG(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},le.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Yp(this):Kp(this),3==this.readyState&&lG(this)}},le.Za=function(n){this.g&&(this.response=this.responseText=n,Yp(this))},le.Ya=function(n){this.g&&(this.response=n,Yp(this))},le.ka=function(){this.g&&Yp(this)},le.setRequestHeader=function(n,t){this.v.append(n,t)},le.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(l0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ame=He.JSON.parse;function Sn(n){gi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cG,this.L=this.M=!1}pi(Sn,gi);var cG="",lme=/^https?$/i,cme=["POST","PUT"];function uG(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,dG(n),c0(n)}function dG(n){n.F||(n.F=!0,Mi(n,"complete"),Mi(n,"error"))}function hG(n){if(n.h&&typeof GE<"u"&&(!n.C[1]||4!=io(n)||2!=n.da()))if(n.v&&4==io(n))dA(n.La,0,n);else if(Mi(n,"readystatechange"),4==io(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match(QU)[1]||null;!r&&He.self&&He.self.location&&(r=He.self.location.protocol.slice(0,-1)),i=!lme.test(r?r.toLowerCase():"")}e=i}if(e)Mi(n,"complete"),Mi(n,"success");else{n.m=6;try{var s=2<io(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",dG(n)}}finally{c0(n)}}}function c0(n,t){if(n.g){fG(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Mi(n,"ready");try{e.onreadystatechange=i}catch{}}}function fG(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(He.clearTimeout(n.A),n.A=null)}function io(n){return n.g?n.g.readyState:0}function pG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case cG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function gG(n){let t="";return JE(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function TA(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=gG(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):nn(n,t,e))}function Xp(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function mG(n){this.Ga=0,this.j=[],this.l=new Zy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xp("baseRetryDelayMs",5e3,n),this.hb=Xp("retryDelaySeedMs",1e4,n),this.eb=Xp("forwardChannelMaxRetries",2,n),this.xa=Xp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new iG(n&&n.concurrentRequestLimit),this.Ja=new rme,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function CA(n){if(_G(n),3==n.H){var t=n.W++,e=Wo(n.I);if(nn(e,"SID",n.K),nn(e,"RID",t),nn(e,"TYPE","terminate"),Qp(n,e),(t=new $p(n,n.l,t)).L=2,t.A=o0(Wo(e)),e=!1,He.navigator&&He.navigator.sendBeacon)try{e=He.navigator.sendBeacon(t.A.toString(),"")}catch{}!e&&He.Image&&((new Image).src=t.A,e=!0),e||(t.g=DG(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Up(t)}wG(n)}function u0(n){n.g&&(SA(n),n.g.cancel(),n.g=null)}function _G(n){u0(n),n.u&&(He.clearTimeout(n.u),n.u=null),h0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&He.clearTimeout(n.m),n.m=null)}function d0(n){if(!rG(n.i)&&!n.m){n.m=!0;var t=n.Na;Op||RU(),Lp||(Op(),Lp=!0),cA.add(t,n),n.C=0}}function vG(n,t){var e;e=t?t.m:n.W++;const i=Wo(n.I);nn(i,"SID",n.K),nn(i,"RID",e),nn(i,"AID",n.V),Qp(n,i),n.o&&n.s&&TA(i,n.o,n.s),e=new $p(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=yG(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),bA(n.i,e),_A(e,i,t)}function Qp(n,t){n.na&&JE(n.na,function(e,i){nn(t,i,e)}),n.h&&XU({},function(e,i){nn(t,i,e)})}function yG(n,t,e){e=Math.min(n.j.length,e);var i=n.h?$i(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{sme(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function bG(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Op||RU(),Lp||(Op(),Lp=!0),cA.add(t,n),n.A=0}}function wA(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Bp($i(n.Ma,n),CG(n,n.A)),n.A++,0))}function SA(n){null!=n.B&&(He.clearTimeout(n.B),n.B=null)}function xG(n){n.g=new $p(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Wo(n.wa);nn(t,"RID","rpc"),nn(t,"SID",n.K),nn(t,"AID",n.V),nn(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&nn(t,"TO",n.qa),nn(t,"TYPE","xmlhttp"),Qp(n,t),n.o&&n.s&&TA(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.A=o0(Wo(t)),e.u=null,e.S=!0,WU(e,n)}function h0(n){null!=n.v&&(He.clearTimeout(n.v),n.v=null)}function TG(n,t){var e=null;if(n.g==t){h0(n),SA(n),n.g=null;var i=2}else{if(!yA(n.i,t))return;e=t.F,oG(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.u?t.u.length:0,t=Date.now()-t.G;var r=n.C;Mi(i=Jy(),new HU(i,e)),d0(n)}else bG(n);else if(3==(r=t.s)||0==r&&0<t.ca||!(1==i&&function hme(n,t){return!(sG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Bp($i(n.Na,n,t),CG(n,n.C)),n.C++,0)))}(n,t)||2==i&&wA(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:tc(n,5);break;case 4:tc(n,10);break;case 3:tc(n,6);break;default:tc(n,2)}}function CG(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function tc(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=$i(n.pb,n);e||(e=new ec("//www.google.com/images/cleardot.gif"),He.location&&"http"==He.location.protocol||r0(e,"https"),o0(e)),function ome(n,t){const e=new Zy;if(He.Image){const i=new Image;i.onload=Wy(a0,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Wy(a0,e,i,"TestLoadImage: error",!1,t),i.onabort=Wy(a0,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Wy(a0,e,i,"TestLoadImage: timeout",!1,t),He.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else sr(2);n.H=0,n.h&&n.h.za(t),wG(n),_G(n)}function wG(n){if(n.H=0,n.ma=[],n.h){const t=aG(n.i);(0!=t.length||0!=n.j.length)&&(vU(n.ma,t),vU(n.ma,n.j),n.i.i.length=0,jE(n.j),n.j.length=0),n.h.ya()}}function SG(n,t,e){var i=e instanceof ec?Wo(e):new ec(e);if(""!=i.g)t&&(i.g=t+"."+i.g),s0(i,i.m);else{var r=He.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new ec(null);i&&r0(s,i),t&&(s.g=t),r&&s0(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&nn(i,e,t),nn(i,"VER",n.ra),Qp(n,i),i}function DG(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Sn(n.Ha&&!n.va?new qp({ob:e}):n.va)).Oa(n.J),t}function EG(){}function f0(){if(ud&&!(10<=Number(Sge)))throw Error("Environmental error: no available transport.")}function Br(n,t){gi.call(this),this.g=new mG(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Rp(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rp(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new fd(this)}function AG(n){fA.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function IG(){pA.call(this),this.status=1}function fd(n){this.g=n}function Es(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function DA(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ft(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(le=Sn.prototype).Oa=function(n){this.M=n},le.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gA.g(),this.C=function UU(n){return n.h||(n.h=n.i())}(this.u?this.u:gA),this.g.onreadystatechange=$i(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void uG(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=He.FormData&&n instanceof He.FormData,!(0<=_U(cme,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fG(this),0<this.B&&((this.L=function ume(n){return ud&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$i(this.ua,this)):this.A=dA(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){uG(this,s)}},le.ua=function(){typeof GE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mi(this,"timeout"),this.abort(8))},le.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mi(this,"complete"),Mi(this,"abort"),c0(this))},le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),c0(this,!0)),Sn.$.N.call(this)},le.La=function(){this.s||(this.G||this.v||this.l?hG(this):this.kb())},le.kb=function(){hG(this)},le.isActive=function(){return!!this.g},le.da=function(){try{return 2<io(this)?this.g.status:-1}catch{return-1}},le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},le.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),ame(t)}},le.Ia=function(){return this.m},le.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=mG.prototype).ra=8,le.H=1,le.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new $p(this,this.l,n);let s=this.s;if(this.U&&(s?(s=CU(s),SU(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=yG(this,r,t),nn(e=Wo(this.I),"RID",n),nn(e,"CVER",22),this.F&&nn(e,"X-HTTP-Session-Id",this.F),Qp(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(gG(s)))+"&"+t:this.o&&TA(e,this.o,s)),bA(this.i,r),this.bb&&nn(e,"TYPE","init"),this.P?(nn(e,"$req",t),nn(e,"SID","null"),r.aa=!0,_A(r,e,null)):_A(r,e,t),this.H=2}}else 3==this.H&&(n?vG(this,n):0==this.j.length||rG(this.i)||vG(this))},le.Ma=function(){if(this.u=null,xG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Bp($i(this.jb,this),n)}},le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sr(10),u0(this),xG(this))},le.ib=function(){null!=this.v&&(this.v=null,u0(this),wA(this),sr(19))},le.pb=function(n){n?(this.l.info("Successfully pinged google.com"),sr(2)):(this.l.info("Failed to ping google.com"),sr(1))},le.isActive=function(){return!!this.h&&this.h.isActive(this)},(le=EG.prototype).Ba=function(){},le.Aa=function(){},le.za=function(){},le.ya=function(){},le.isActive=function(){return!0},le.Va=function(){},f0.prototype.g=function(n,t){return new Br(n,t)},pi(Br,gi),Br.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;sr(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=SG(n,null,n.Y),d0(n)},Br.prototype.close=function(){CA(this.g)},Br.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=lA(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&d0(t)},Br.prototype.N=function(){this.g.h=null,delete this.j,CA(this.g),delete this.g,Br.$.N.call(this)},pi(AG,fA),pi(IG,pA),pi(fd,EG),fd.prototype.Ba=function(){Mi(this.g,"a")},fd.prototype.Aa=function(n){Mi(this.g,new AG(n))},fd.prototype.za=function(n){Mi(this.g,new IG)},fd.prototype.ya=function(){Mi(this.g,"b")},pi(Es,function fme(){this.blockSize=-1}),Es.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Es.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)DA(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){DA(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){DA(this,i),r=0;break}}this.h=r,this.i+=t},Es.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var pme={};function EA(n){return-128<=n&&128>n?function Tge(n,t){var e=pme;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Ft([0|t],0>t?-1:0)}):new Ft([0|n],0>n?-1:0)}function ro(n){if(isNaN(n)||!isFinite(n))return pd;if(0>n)return Ri(ro(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=AA;return new Ft(t,0)}var AA=4294967296,pd=EA(0),IA=EA(1),MG=EA(16777216);function qo(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function cs(n){return-1==n.h}function Ri(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Ft(e,~n.h).add(IA)}function p0(n,t){return n.add(Ri(t))}function g0(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Zp(n,t){this.g=n,this.h=t}function m0(n,t){if(qo(t))throw Error("division by zero");if(qo(n))return new Zp(pd,pd);if(cs(n))return t=m0(Ri(n),t),new Zp(Ri(t.g),Ri(t.h));if(cs(t))return t=m0(n,Ri(t)),new Zp(Ri(t.g),t.h);if(30<n.g.length){if(cs(n)||cs(t))throw Error("slowDivide_ only works with positive integers.");for(var e=IA,i=t;0>=i.X(n);)e=RG(e),i=RG(i);var r=gd(e,1),s=gd(i,1);for(i=gd(i,2),e=gd(e,2);!qo(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=gd(i,1),e=gd(e,1)}return t=p0(n,r.R(t)),new Zp(r,t)}for(r=pd;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=ro(e)).R(t);cs(o)||0<o.X(n);)o=(s=ro(e-=i)).R(t);qo(s)&&(s=IA),r=r.add(s),n=p0(n,o)}return new Zp(r,n)}function RG(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ft(e,n.h)}function gd(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Ft(r,n.h)}(le=Ft.prototype).ea=function(){if(cs(this))return-Ri(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:AA+i)*t,t*=AA}return n},le.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(qo(this))return"0";if(cs(this))return"-"+Ri(this).toString(n);for(var t=ro(Math.pow(n,6)),e=this,i="";;){var r=m0(e,t).g,s=((0<(e=p0(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(qo(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},le.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},le.X=function(n){return cs(n=p0(this,n))?-1:qo(n)?0:1},le.abs=function(){return cs(this)?Ri(this):this},le.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new Ft(e,-2147483648&e[e.length-1]?-1:0)},le.R=function(n){if(qo(this)||qo(n))return pd;if(cs(this))return cs(n)?Ri(this).R(Ri(n)):Ri(Ri(this).R(n));if(cs(n))return Ri(this.R(Ri(n)));if(0>this.X(MG)&&0>n.X(MG))return ro(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=o*l,g0(e,2*i+2*r),e[2*i+2*r+1]+=s*l,g0(e,2*i+2*r+1),e[2*i+2*r+1]+=o*a,g0(e,2*i+2*r+1),e[2*i+2*r+2]+=s*a,g0(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Ft(e,0)},le.gb=function(n){return m0(this,n).h},le.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Ft(e,this.h&n.h)},le.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Ft(e,this.h|n.h)},le.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Ft(e,this.h^n.h)},f0.prototype.createWebChannel=f0.prototype.g,Br.prototype.send=Br.prototype.u,Br.prototype.open=Br.prototype.m,Br.prototype.close=Br.prototype.close,e0.NO_ERROR=0,e0.TIMEOUT=8,e0.HTTP_ERROR=6,$U.COMPLETE="complete",GU.EventType=Hp,Hp.OPEN="a",Hp.CLOSE="b",Hp.ERROR="c",Hp.MESSAGE="d",gi.prototype.listen=gi.prototype.O,Sn.prototype.listenOnce=Sn.prototype.P,Sn.prototype.getLastError=Sn.prototype.Sa,Sn.prototype.getLastErrorCode=Sn.prototype.Ia,Sn.prototype.getStatus=Sn.prototype.da,Sn.prototype.getResponseJson=Sn.prototype.Wa,Sn.prototype.getResponseText=Sn.prototype.ja,Sn.prototype.send=Sn.prototype.ha,Sn.prototype.setWithCredentials=Sn.prototype.Oa,Es.prototype.digest=Es.prototype.l,Es.prototype.reset=Es.prototype.reset,Es.prototype.update=Es.prototype.j,Ft.prototype.add=Ft.prototype.add,Ft.prototype.multiply=Ft.prototype.R,Ft.prototype.modulo=Ft.prototype.gb,Ft.prototype.compare=Ft.prototype.X,Ft.prototype.toNumber=Ft.prototype.ea,Ft.prototype.toString=Ft.prototype.toString,Ft.prototype.getBits=Ft.prototype.D,Ft.fromNumber=ro,Ft.fromString=function kG(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Ri(kG(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=ro(Math.pow(t,8)),i=pd,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=ro(Math.pow(t,s)),i=i.R(s).add(ro(o))):i=(i=i.R(e)).add(ro(o))}return i};var gme=Ds.createWebChannelTransport=function(){return new f0},mme=Ds.getStatEventTarget=function(){return Jy()},kA=Ds.ErrorCode=e0,_me=Ds.EventType=$U,vme=Ds.Event=Zl,NG=Ds.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_0=(Ds.FetchXmlHttpFactory=qp,Ds.WebChannel=GU),yme=Ds.XhrIo=Sn,bme=Ds.Md5=Es,md=Ds.Integer=Ft;const PG="@firebase/firestore";class mi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let _d="10.7.0";const $a=new _S("@firebase/firestore");function vd(){return $a.logLevel}function G(n,...t){if($a.logLevel<=ut.DEBUG){const e=t.map(MA);$a.debug(`Firestore (${_d}): ${n}`,...e)}}function On(n,...t){if($a.logLevel<=ut.ERROR){const e=t.map(MA);$a.error(`Firestore (${_d}): ${n}`,...e)}}function Hr(n,...t){if($a.logLevel<=ut.WARN){const e=t.map(MA);$a.warn(`Firestore (${_d}): ${n}`,...e)}}function MA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function fe(n="Unexpected state"){const t=`FIRESTORE (${_d}) INTERNAL ASSERTION FAILED: `+n;throw On(t),new Error(t)}function _e(n,t){n||fe()}function se(n,t){return n}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends Pa{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ii{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class OG{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xme{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(mi.UNAUTHENTICATED))}shutdown(){}}class Tme{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Cme{constructor(t){this.t=t,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let o=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ii,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable(S(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ii)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e("string"==typeof i.accessToken),new OG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return _e(null===t||"string"==typeof t),new mi(t)}}class wme{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Sme{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new wme(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dme{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(_e("string"==typeof e.token),this.R=e.token,new LG(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Eme(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class FG{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Eme(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Pe(n,t){return n<t?-1:n>t?1:0}function yd(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class yn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new z(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new z(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new z(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new z(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return yn.fromMillis(Date.now())}static fromDate(t){return yn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new yn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pe(this.nanoseconds,t.nanoseconds):Pe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ve{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ve(t)}static min(){return new ve(new yn(0,0))}static max(){return new ve(new yn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jp{constructor(t,e,i){void 0===e?e=0:e>t.length&&fe(),void 0===i?i=t.length-e:i>t.length-e&&fe(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Jp.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Jp?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class mt extends Jp{construct(t,e,i){return new mt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new z(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new mt(e)}static emptyPath(){return new mt([])}}const Ame=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Jp{construct(t,e,i){return new ln(t,e,i)}static isValidIdentifier(t){return Ame.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ln(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new z(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new z(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new z(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new z(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(e)}static emptyPath(){return new ln([])}}class oe{constructor(t){this.path=t}static fromPath(t){return new oe(mt.fromString(t))}static fromName(t){return new oe(mt.fromString(t).popFirst(5))}static empty(){return new oe(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===mt.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return mt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new oe(new mt(t.slice()))}}function HG(n){return new $r(n.readTime,n.key,-1)}class $r{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new $r(ve.min(),oe.empty(),-1)}static max(){return new $r(ve.max(),oe.empty(),-1)}}function NA(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=oe.comparator(n.documentKey,t.documentKey),0!==e?e:Pe(n.largestBatchId,t.largestBatchId))}const $G="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mme{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ua(n){return PA.apply(this,arguments)}function PA(){return PA=S(function*(n){if(n.code!==N.FAILED_PRECONDITION||n.message!==$G)throw n;G("LocalStore","Unexpectedly lost primary lease")}),PA.apply(this,arguments)}class I{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new I((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof I?e:I.resolve(e)}catch(e){return I.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):I.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):I.reject(e)}static resolve(t){return new I((e,i)=>{e(t)})}static reject(t){return new I((e,i)=>{i(t)})}static waitFor(t){return new I((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=I.resolve(!1);for(const i of t)e=e.next(r=>r?I.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new I((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(t,e){return new I((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}function Ga(n){return"IndexedDbTransactionError"===n.name}let Ur=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function tg(n){return null==n}function ng(n){return 0===n&&1/n==-1/0}function XG(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function za(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function QG(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Kt{constructor(t,e){this.comparator=t,this.root=e||Ni.EMPTY}insert(t,e){return new Kt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(t){return new Kt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new b0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new b0(this.root,t,this.comparator,!1)}getReverseIterator(){return new b0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new b0(this.root,t,this.comparator,!0)}}class b0{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ni{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Ni.RED,this.left=r??Ni.EMPTY,this.right=s??Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Ni(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ni.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const t=this.left.check();if(t!==this.right.check())throw fe();return t+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1,Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,e,i,r,s){return this}insert(t,e,i){return new Ni(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(t){this.comparator=t,this.data=new Kt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ZG(this.data.getIterator())}getIteratorFrom(t){return new ZG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof $t)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $t(this.comparator);return e.data=t,e}}class ZG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class br{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new br([])}unionWith(t){let e=new $t(ln.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new br(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return yd(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class JG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ri{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JG("Invalid base64 string: "+s):s}}(t);return new ri(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new ri(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const e_e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(n){if(_e(!!n),"string"==typeof n){let t=0;const e=e_e.exec(n);if(_e(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Dn(n.seconds),nanos:Dn(n.nanos)}}function Dn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Yo(n){return"string"==typeof n?ri.fromBase64String(n):ri.fromUint8Array(n)}function x0(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function T0(n){const t=n.mapValue.fields.__previous_value__;return x0(t)?T0(t):t}function ig(n){const t=ja(n.mapValue.fields.__local_write_time__.timestampValue);return new yn(t.seconds,t.nanos)}class t_e{constructor(t,e,i,r,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class sc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new sc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof sc&&t.projectId===this.projectId&&t.database===this.database}}const Wa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?x0(n)?4:i4(n)?9007199254740991:10:fe()}function oo(n,t){if(n===t)return!0;const e=qa(n);if(e!==qa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ig(n).isEqual(ig(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=ja(r.timestampValue),a=ja(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Yo(n.bytesValue).isEqual(Yo(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return Dn(r.geoPointValue.latitude)===Dn(s.geoPointValue.latitude)&&Dn(r.geoPointValue.longitude)===Dn(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Dn(r.integerValue)===Dn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Dn(r.doubleValue),a=Dn(s.doubleValue);return o===a?ng(o)===ng(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return yd(n.arrayValue.values||[],t.arrayValue.values||[],oo);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(XG(o)!==XG(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!oo(o[l],a[l])))return!1;return!0}(n,t);default:return fe()}var s}function rg(n,t){return void 0!==(n.values||[]).find(e=>oo(e,t))}function Ya(n,t){if(n===t)return 0;const e=qa(n),i=qa(t);if(e!==i)return Pe(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Dn(s.integerValue||s.doubleValue),l=Dn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return e4(n.timestampValue,t.timestampValue);case 4:return e4(ig(n),ig(t));case 5:return Pe(n.stringValue,t.stringValue);case 6:return function(s,o){const a=Yo(s),l=Yo(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Pe(a[c],l[c]);if(0!==u)return u}return Pe(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Pe(Dn(s.latitude),Dn(o.latitude));return 0!==a?a:Pe(Dn(s.longitude),Dn(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Ya(a[c],l[c]);if(u)return u}return Pe(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Wa.mapValue&&o===Wa.mapValue)return 0;if(s===Wa.mapValue)return 1;if(o===Wa.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Pe(l[d],u[d]);if(0!==h)return h;const f=Ya(a[l[d]],c[u[d]]);if(0!==f)return f}return Pe(l.length,u.length)}(n.mapValue,t.mapValue);default:throw fe()}}function e4(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Pe(n,t);const e=ja(n),i=ja(t),r=Pe(e.seconds,i.seconds);return 0!==r?r:Pe(e.nanos,i.nanos)}function Cd(n){return FA(n)}function FA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=ja(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Yo(n.bytesValue).toBase64():"referenceValue"in n?oe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=FA(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${FA(e.fields[o])}`;return r+"}"}(n.mapValue):fe()}function VA(n){return!!n&&"integerValue"in n}function sg(n){return!!n&&"arrayValue"in n}function t4(n){return!!n&&"nullValue"in n}function n4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function S0(n){return!!n&&"mapValue"in n}function og(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return za(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=og(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=og(n.arrayValue.values[e]);return t}return Object.assign({},n)}function i4(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Pi{constructor(t){this.value=t}static empty(){return new Pi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!S0(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=og(e)}setAll(t){let e=ln.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=og(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());S0(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return oo(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];S0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){za(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Pi(og(this.value))}}function o4(n){const t=[];return za(n.fields,(e,i)=>{const r=new ln([e]);if(S0(i)){const s=o4(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new br(t)}class rn{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new rn(t,0,ve.min(),ve.min(),ve.min(),Pi.empty(),0)}static newFoundDocument(t,e,i,r){return new rn(t,1,e,ve.min(),i,r,0)}static newNoDocument(t,e){return new rn(t,2,e,ve.min(),ve.min(),Pi.empty(),0)}static newUnknownDocument(t,e){return new rn(t,3,e,ve.min(),ve.min(),Pi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ka{constructor(t,e){this.position=t,this.inclusive=e}}function a4(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?oe.comparator(oe.fromName(o.referenceValue),e.key):Ya(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function l4(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!oo(n.position[e],t.position[e]))return!1;return!0}class ag{constructor(t,e="asc"){this.field=t,this.dir=e}}function r_e(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class c4{}class ot extends c4{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new s_e(t,e,i):"array-contains"===e?new l_e(t,i):"in"===e?new g4(t,i):"not-in"===e?new c_e(t,i):"array-contains-any"===e?new u_e(t,i):new ot(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new o_e(t,i):new a_e(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Ya(e,this.value)):null!==e&&qa(this.value)===qa(e)&&this.matchesComparison(Ya(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vt extends c4{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Vt(t,e)}matches(t){return wd(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function wd(n){return"and"===n.op}function HA(n){return function u4(n){for(const t of n.filters)if(t instanceof Vt)return!1;return!0}(n)&&wd(n)}function $A(n){if(n instanceof ot)return n.field.canonicalString()+n.op.toString()+Cd(n.value);if(HA(n))return n.filters.map(t=>$A(t)).join(",");{const t=n.filters.map(e=>$A(e)).join(",");return`${n.op}(${t})`}}function d4(n,t){return n instanceof ot?(i=n,(r=t)instanceof ot&&i.op===r.op&&i.field.isEqual(r.field)&&oo(i.value,r.value)):n instanceof Vt?function(i,r){return r instanceof Vt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,a)=>s&&d4(o,r.filters[a]),!0)}(n,t):void fe();var i,r}function f4(n){return n instanceof ot?`${(e=n).field.canonicalString()} ${e.op} ${Cd(e.value)}`:n instanceof Vt?function(e){return e.op.toString()+" {"+e.getFilters().map(f4).join(" ,")+"}"}(n):"Filter";var e}class s_e extends ot{constructor(t,e,i){super(t,e,i),this.key=oe.fromName(i.referenceValue)}matches(t){const e=oe.comparator(t.key,this.key);return this.matchesComparison(e)}}class o_e extends ot{constructor(t,e){super(t,"in",e),this.keys=p4(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class a_e extends ot{constructor(t,e){super(t,"not-in",e),this.keys=p4(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function p4(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>oe.fromName(i.referenceValue))}class l_e extends ot{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return sg(e)&&rg(e.arrayValue,this.value)}}class g4 extends ot{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&rg(this.value.arrayValue,e)}}class c_e extends ot{constructor(t,e){super(t,"not-in",e)}matches(t){if(rg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!rg(this.value.arrayValue,e)}}class u_e extends ot{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!sg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>rg(this.value.arrayValue,i))}}class d_e{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function UA(n,t=null,e=[],i=[],r=null,s=null,o=null){return new d_e(n,t,e,i,r,s,o)}function ac(n){const t=se(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>$A(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),tg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Cd(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Cd(i)).join(",")),t.ce=e}return t.ce}function lg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!r_e(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!d4(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!l4(n.startAt,t.startAt)&&l4(n.endAt,t.endAt)}function D0(n){return oe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ko{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function Sd(n){return new Ko(n)}function y4(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Dd(n){const t=se(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $t(ln.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new ag(s,i))}),e.has(ln.keyField().canonicalString())||t.le.push(new ag(ln.keyField(),i))}return t.le}function or(n){const t=se(n);return t.he||(t.he=function b4(n,t){if("F"===n.limitType)return UA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new ag(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Ka(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ka(n.startAt.position,n.startAt.inclusive):null;return UA(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Dd(n))),t.he}function A0(n,t,e){return new Ko(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function cg(n,t){return lg(or(n),or(t))&&n.limitType===t.limitType}function x4(n){return`${ac(or(n))}|lt:${n.limitType}`}function Ed(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>f4(r)).join(", ")}]`),tg(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Cd(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Cd(r)).join(",")),`Target(${i})`}(or(n))}; limitType=${n.limitType})`}function ug(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):oe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of Dd(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,a,l){const c=a4(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Dd(i),r)||i.endAt&&!function(o,a,l){const c=a4(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Dd(i),r)));var i,r}function C4(n){return(t,e)=>{let i=!1;for(const r of Dd(n)){const s=h_e(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function h_e(n,t,e){const i=n.field.isKeyField()?oe.comparator(t.key,e.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?Ya(l,c):fe()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return fe()}}class Xo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){za(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return QG(this.inner)}size(){return this.innerSize}}const f_e=new Kt(oe.comparator);function xr(){return f_e}const w4=new Kt(oe.comparator);function dg(...n){let t=w4;for(const e of n)t=t.insert(e.key,e);return t}function S4(n){let t=w4;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ao(){return hg()}function D4(){return hg()}function hg(){return new Xo(n=>n.toString(),(n,t)=>n.isEqual(t))}const p_e=new Kt(oe.comparator),g_e=new $t(oe.comparator);function Ke(...n){let t=g_e;for(const e of n)t=t.add(e);return t}const m_e=new $t(Pe);function E4(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ng(t)?"-0":t}}function A4(n){return{integerValue:""+n}}function I4(n,t){return function GG(n){return"number"==typeof n&&Number.isInteger(n)&&!ng(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?A4(t):E4(n,t)}class I0{constructor(){this._=void 0}}function __e(n,t,e){return n instanceof Ad?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&x0(s)&&(s=T0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof lc?M4(n,t):n instanceof cc?R4(n,t):function(r,s){const o=k4(r,s),a=N4(o)+N4(r.Ie);return VA(o)&&VA(r.Ie)?A4(a):E4(r.serializer,a)}(n,t)}function v_e(n,t,e){return n instanceof lc?M4(n,t):n instanceof cc?R4(n,t):e}function k4(n,t){return n instanceof Id?VA(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class Ad extends I0{}class lc extends I0{constructor(t){super(),this.elements=t}}function M4(n,t){const e=P4(t);for(const i of n.elements)e.some(r=>oo(r,i))||e.push(i);return{arrayValue:{values:e}}}class cc extends I0{constructor(t){super(),this.elements=t}}function R4(n,t){let e=P4(t);for(const i of n.elements)e=e.filter(r=>!oo(r,i));return{arrayValue:{values:e}}}class Id extends I0{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function N4(n){return Dn(n.integerValue||n.doubleValue)}function P4(n){return sg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class b_e{constructor(t,e){this.version=t,this.transformResults=e}}class cn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new cn}static exists(t){return new cn(void 0,t)}static updateTime(t){return new cn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function k0(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class M0{}function O4(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Md(n.key,cn.none()):new kd(n.key,n.data,cn.none());{const e=n.data,i=Pi.empty();let r=new $t(ln.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Qo(n.key,i,new br(r.toArray()),cn.none())}}function x_e(n,t,e){n instanceof kd?function(r,s,o){const a=r.value.clone(),l=V4(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Qo?function(r,s,o){if(!k0(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=V4(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(F4(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function pg(n,t,e,i){return n instanceof kd?function(s,o,a,l){if(!k0(s.precondition,o))return a;const c=s.value.clone(),u=B4(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof Qo?function(s,o,a,l){if(!k0(s.precondition,o))return a;const c=B4(s.fieldTransforms,l,o),u=o.data;return u.setAll(F4(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,t,e,i):(a=e,k0(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function T_e(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=k4(i.transform,r||null);null!=s&&(null===e&&(e=Pi.empty()),e.set(i.field,s))}return e||null}function L4(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&yd(i,r,(s,o)=>function y_e(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof lc&&r instanceof lc||i instanceof cc&&r instanceof cc?yd(i.elements,r.elements,oo):i instanceof Id&&r instanceof Id?oo(i.Ie,r.Ie):i instanceof Ad&&r instanceof Ad);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class kd extends M0{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Qo extends M0{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function F4(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function V4(n,t,e){const i=new Map;_e(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,v_e(o,a,e[r]))}return i}function B4(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,__e(s,o,t))}return i}class Md extends M0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WA extends M0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qA{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&x_e(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=pg(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=pg(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=D4();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=O4(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ke())}isEqual(t){return this.batchId===t.batchId&&yd(this.mutations,t.mutations,(e,i)=>L4(e,i))&&yd(this.baseMutations,t.baseMutations,(e,i)=>L4(e,i))}}class YA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){_e(t.mutations.length===i.length);let r=p_e;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new YA(t,e,i,r)}}class KA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class w_e{constructor(t,e){this.count=t,this.unchangedNames=e}}var Yn,_t;function $4(n){if(void 0===n)return On("GRPC error has no .code"),N.UNKNOWN;switch(n){case Yn.OK:return N.OK;case Yn.CANCELLED:return N.CANCELLED;case Yn.UNKNOWN:return N.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return N.INTERNAL;case Yn.UNAVAILABLE:return N.UNAVAILABLE;case Yn.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Yn.NOT_FOUND:return N.NOT_FOUND;case Yn.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Yn.ABORTED:return N.ABORTED;case Yn.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Yn.DATA_LOSS:return N.DATA_LOSS;default:return fe()}}(_t=Yn||(Yn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";const S_e=new md([4294967295,4294967295],0);function G4(n){const t=function U4(){return new TextEncoder}().encode(n),e=new bme;return e.update(t),new Uint8Array(e.digest())}function z4(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new md([e,i],0),new md([r,s],0)]}class XA{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new gg(`Invalid padding: ${e}`);if(i<0)throw new gg(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new gg(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new gg(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=md.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(md.fromNumber(i)));return 1===r.compare(S_e)&&(r=new md([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=G4(t),[i,r]=z4(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new XA(s,r,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Te)return;const e=G4(t),[i,r]=z4(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class gg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mg{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,_g.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new mg(ve.min(),r,new Kt(Pe),xr(),Ke())}}class _g{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new _g(i,e,Ke(),Ke(),Ke())}}class N0{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class j4{constructor(t,e){this.targetId=t,this.fe=e}}class W4{constructor(t,e,i=ri.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class q4{constructor(){this.ge=0,this.pe=K4(),this.ye=ri.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Ke(),e=Ke(),i=Ke();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:fe()}}),new _g(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=K4()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,_e(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class D_e{constructor(t){this.Le=t,this.ke=new Map,this.qe=xr(),this.Qe=Y4(),this.Ke=new Kt(Pe)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:fe()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(D0(s))if(0===i){const o=new oe(s.path);this.We(e,o,rn.newNoDocument(o,ve.min()))}else _e(1===i);else{const o=this.Ze(e);if(o!==i){const a=this.Xe(t),l=a?this.et(a,t,o):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,a;try{o=Yo(i).toUint8Array()}catch(l){if(l instanceof JG)return Hr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new XA(o,r,s)}catch(l){return Hr(l instanceof gg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&D0(a.target)){const l=new oe(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,rn.newNoDocument(l,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=Ke();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new mg(t,e,this.Ke,this.qe,i);return this.qe=xr(),this.Qe=Y4(),this.Ke=new Kt(Pe),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new q4,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new $t(Pe),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||G("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new q4),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Y4(){return new Kt(oe.comparator)}function K4(){return new Kt(oe.comparator)}const E_e={asc:"ASCENDING",desc:"DESCENDING"},A_e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I_e={and:"AND",or:"OR"};class k_e{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function QA(n,t){return n.useProto3Json||tg(t)?t:{value:t}}function Rd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function X4(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function M_e(n,t){return Rd(n,t.toTimestamp())}function Ln(n){return _e(!!n),ve.fromTimestamp(function(e){const i=ja(e);return new yn(i.seconds,i.nanos)}(n))}function ZA(n,t){return(i=n,new mt(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function Q4(n){const t=mt.fromString(n);return _e(oz(t)),t}function vg(n,t){return ZA(n.databaseId,t.path)}function lo(n,t){const e=Q4(t);if(e.get(1)!==n.databaseId.projectId)throw new z(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new z(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new oe(J4(e))}function JA(n,t){return ZA(n.databaseId,t)}function yg(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function J4(n){return _e(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ez(n,t,e){return{name:vg(n,t),fields:e.value.mapValue.fields}}function nz(n,t){return{documents:[JA(n,t.path)]}}function tI(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=JA(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=JA(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return sz(Vt.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Xa((d=c).field),direction:L_e(d.dir)};var d})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=QA(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function iz(n){let t=function Z4(n){const t=Q4(n);return 4===t.length?mt.emptyPath():J4(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){_e(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=function(d){const h=rz(d);return h instanceof Vt&&HA(h)?h.getFilters():[h]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(h=>{return new ag(Nd((p=h).field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;e.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,tg(h)?null:h}(e.limit));let l=null;var d;e.startAt&&(l=new Ka((d=e.startAt).values||[],!!d.before));let c=null;return e.endAt&&(c=function(d){return new Ka(d.values||[],!d.before)}(e.endAt)),function v4(n,t,e,i,r,s,o,a){return new Ko(n,t,e,i,r,s,o,a)}(t,r,o,s,a,"F",l,c)}function rz(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Nd(e.unaryFilter.field);return ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Nd(e.unaryFilter.field);return ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Nd(e.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Nd(e.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(n):void 0!==n.fieldFilter?ot.create(Nd((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vt.create(e.compositeFilter.filters.map(i=>rz(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return fe()}}(e.compositeFilter.op))}(n):fe();var e}function L_e(n){return E_e[n]}function F_e(n){return A_e[n]}function V_e(n){return I_e[n]}function Xa(n){return{fieldPath:n.canonicalString()}}function Nd(n){return ln.fromServerFormat(n.fieldPath)}function sz(n){return n instanceof ot?function(e){if("=="===e.op){if(n4(e.value))return{unaryFilter:{field:Xa(e.field),op:"IS_NAN"}};if(t4(e.value))return{unaryFilter:{field:Xa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(n4(e.value))return{unaryFilter:{field:Xa(e.field),op:"IS_NOT_NAN"}};if(t4(e.value))return{unaryFilter:{field:Xa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(e.field),op:F_e(e.op),value:e.value}}}(n):n instanceof Vt?function(e){const i=e.getFilters().map(r=>sz(r));return 1===i.length?i[0]:{compositeFilter:{op:V_e(e.op),filters:i}}}(n):fe()}function B_e(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function oz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Zo{constructor(t,e,i,r,s=ve.min(),o=ve.min(),a=ri.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Zo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class az{constructor(t){this.ut=t}}function nI(n){const t=iz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?A0(t,t.limit,"L"):t}class fc{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(Dn(t.integerValue));else if("doubleValue"in t){const i=Dn(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),ng(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(Yo(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?i4(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):fe()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),oe.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}fc.St=new fc;class q_e{constructor(){this.on=new lI}addToCollectionParentIndex(t,e){return this.on.add(e),I.resolve()}getCollectionParents(t,e){return I.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return I.resolve()}deleteFieldIndex(t,e){return I.resolve()}deleteAllFieldIndexes(t){return I.resolve()}createTargetIndexes(t,e){return I.resolve()}getDocumentsMatchingTarget(t,e){return I.resolve(null)}getIndexType(t,e){return I.resolve(0)}getFieldIndexes(t,e){return I.resolve([])}getNextCollectionGroupToUpdate(t){return I.resolve(null)}getMinOffset(t,e){return I.resolve($r.min())}getMinOffsetFromCollectionGroup(t,e){return I.resolve($r.min())}updateCollectionGroup(t,e,i){return I.resolve()}updateIndexEntries(t,e){return I.resolve()}}class lI{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new $t(mt.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new $t(mt.comparator)).toArray()}}new Uint8Array(0);class zi{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new zi(t,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(41943040,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);class gc{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new gc(0)}static Nn(){return new gc(-1)}}class J_e{constructor(){this.changes=new Xo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?I.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nve{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Pz{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&pg(i.mutation,r,br.empty(),yn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ke()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ke()){const r=ao();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=dg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=ao();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ke()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=xr();const o=hg(),a=hg();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Qo)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),pg(u.mutation,c,u.mutation.getFieldMask(),yn.now())):o.set(c.key,br.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),e.forEach((c,u)=>{var d;return a.set(c,new nve(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(t,e){const i=hg();let r=new Kt((o,a)=>o-a),s=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||br.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||Ke()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=D4();u.forEach(h=>{if(!s.has(h)){const f=O4(e.get(h),i.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,d))}return I.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return oe.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):function GA(n){return null!==n.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):I.resolve(ao());let a=-1,l=s;return o.next(c=>I.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?I.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,Ke())).next(u=>({batchId:a,changes:S4(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new oe(e)).next(i=>{let r=dg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=dg();return this.indexManager.getCollectionParents(t,s).next(a=>I.forEach(a,l=>{const c=(d=e,h=l.child(s),new Ko(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,rn.newInvalidDocument(u)))});let a=dg();return o.forEach((l,c)=>{const u=s.get(l);void 0!==u&&pg(u.mutation,c,br.empty(),yn.now()),ug(e,c)&&(a=a.insert(l,c))}),a})}}class ive{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return I.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:Ln(r.createTime)}),I.resolve();var r}getNamedQuery(t,e){return I.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:nI(r.bundledQuery),readTime:Ln(r.readTime)}),I.resolve();var r}}class rve{constructor(){this.overlays=new Kt(oe.comparator),this.lr=new Map}getOverlay(t,e){return I.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ao();return I.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),I.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),I.resolve()}getOverlaysForCollection(t,e,i){const r=ao(),s=e.length+1,o=new oe(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return I.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Kt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=ao(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ao(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return I.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new KA(e,i));let s=this.lr.get(e);void 0===s&&(s=Ke(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class cI{constructor(){this.hr=new $t(vi.Pr),this.Ir=new $t(vi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new vi(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new vi(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new oe(new mt([])),i=new vi(e,t),r=new vi(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new oe(new mt([])),i=new vi(e,t),r=new vi(e,t+1);let s=Ke();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new vi(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class vi{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return oe.comparator(t.key,e.key)||Pe(t.gr,e.gr)}static Tr(t,e){return Pe(t.gr,e.gr)||oe.comparator(t.key,e.key)}}class sve{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new $t(vi.Pr)}checkEmpty(t){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new qA(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new vi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(t,e){return I.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new vi(e,0),r=new vi(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const a=this.wr(o.gr);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new $t(Pe);return e.forEach(r=>{const s=new vi(r,0),o=new vi(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),I.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;oe.isDocumentKey(s)||(s=s.child(""));const o=new vi(new oe(s),0);let a=new $t(Pe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),I.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){_e(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return I.forEach(e.mutations,r=>{const s=new vi(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new vi(e,0),r=this.yr.firstAfterOrEqual(i);return I.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return I.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class ove{constructor(t){this.Cr=t,this.docs=new Kt(oe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return I.resolve(i?i.document.mutableCopy():rn.newInvalidDocument(e))}getEntries(t,e){let i=xr();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():rn.newInvalidDocument(r))}),I.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=xr();const o=e.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||NA(HG(u),i)<=0||(r.has(u.key)||ug(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(t,e,i,r){fe()}vr(t,e){return I.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new ave(this)}getSize(t){return I.resolve(this.size)}}class ave extends J_e{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),I.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class lve{constructor(t){this.persistence=t,this.Fr=new Xo(e=>ac(e),lg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Mr=0,this.Or=new cI,this.targetCount=0,this.Nr=gc.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),I.resolve()}getLastRemoteSnapshotVersion(t){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return I.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),I.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new gc(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,I.resolve()}updateTargetData(t,e){return this.kn(e),I.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,I.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),I.waitFor(s).next(()=>r)}getTargetCount(t){return I.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return I.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),I.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),I.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return I.resolve(i)}containsKey(t,e){return I.resolve(this.Or.containsKey(e))}}class uI{constructor(t,e){this.Br={},this.overlays={},this.Lr=new Ur(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new lve(this),this.indexManager=new q_e,this.remoteDocumentCache=new ove(i=>this.referenceDelegate.Qr(i)),this.serializer=new az(e),this.Kr=new ive(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new rve,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new sve(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){G("MemoryPersistence","Starting transaction:",t);const r=new cve(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return I.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class cve extends Mme{constructor(t){super(),this.currentSequenceNumber=t}}class $0{constructor(t){this.persistence=t,this.Gr=new cI,this.zr=null}static jr(t){return new $0(t)}get Hr(){if(this.zr)return this.zr;throw fe()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),I.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),I.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),I.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Hr,i=>{const r=oe.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,ve.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return I.or([()=>I.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class pI{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Ke(),r=Ke();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new pI(t,e.fromCache,i,r)}}class dve{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Lz{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new dve;return this.Hi(t,e,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,e,o,a.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(vd()<=ut.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ed(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),I.resolve()):(vd()<=ut.DEBUG&&G("QueryEngine","Query:",Ed(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(vd()<=ut.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ed(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,or(e))):I.resolve())}zi(t,e){if(y4(e))return I.resolve(null);let i=or(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=A0(e,null,"F"),i=or(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Ke(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,o,l.readTime)?this.zi(t,A0(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return y4(e)||r.isEqual(ve.min())?I.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?I.resolve(null):(vd()<=ut.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ed(e)),this.Xi(t,o,e,function BG(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(1e9===i?new yn(e+1,0):new yn(e,i));return new $r(r,oe.empty(),t)}(r,-1)).next(a=>a))})}Yi(t,e){let i=new $t(C4(t));return e.forEach((r,s)=>{ug(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return vd()<=ut.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ed(e)),this.Gi.getDocumentsMatchingQuery(t,e,$r.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class hve{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new Kt(Pe),this.ns=new Xo(s=>ac(s),lg),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Pz(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function Vz(n,t){return gI.apply(this,arguments)}function gI(){return gI=S(function*(n,t){const e=se(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Ke();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),gI.apply(this,arguments)}function Bz(n){const t=se(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function gve(n,t){const e=se(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Bd(n,t,e){return mI.apply(this,arguments)}function mI(){return mI=S(function*(n,t,e){const i=se(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Ga(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),mI.apply(this,arguments)}function z0(n,t,e){const i=se(n);let r=ve.min(),s=Ke();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=se(l),h=d.ns.get(u);return void 0!==h?I.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(i,o,or(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:ve.min(),e?s:Ke())).next(a=>(function Gz(n,t,e){let i=n.rs.get(t)||ve.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}(i,function T4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),a),{documents:a,ls:s})))}class xI{constructor(){this.activeTargetIds=function jA(){return m_e}()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Wz{constructor(){this.eo=new xI,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new xI,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vve{ro(t){}shutdown(){}}class qz{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let q0=null;function CI(){return null===q0?q0=268435456+Math.round(2147483648*Math.random()):q0++,"0x"+q0.toString(16)}const yve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bve{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const ji="WebChannelConnection";class xve extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const a=CI(),l=this.So(e,i);G("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(e,l,c,r).then(u=>(G("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw Hr("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,i,r,s,o,a){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_d,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${yve[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=CI();return new Promise((o,a)=>{const l=new yme;l.setWithCredentials(!0),l.listenOnce(_me.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kA.NO_ERROR:const u=l.getResponseJson();G(ji,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),o(u);break;case kA.TIMEOUT:G(ji,`RPC '${t}' ${s} timed out`),a(new z(N.DEADLINE_EXCEEDED,"Request time out"));break;case kA.HTTP_ERROR:const d=l.getStatus();if(G(ji,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(v)>=0?v:N.UNKNOWN}(f.status);a(new z(p,f.message))}else a(new z(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new z(N.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{G(ji,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);G(ji,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=CI(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=gme(),a=mme(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=s.join("");G(ji,`Creating RPC '${t}' stream ${r}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new bve({co:g=>{f?G(ji,`Not sending because RPC '${t}' stream ${r} is closed:`,g):(h||(G(ji,`Opening RPC '${t}' stream ${r} transport.`),d.open(),h=!0),G(ji,`RPC '${t}' stream ${r} sending:`,g),d.send(g))},lo:()=>d.close()}),m=(g,v,_)=>{g.listen(v,b=>{try{_(b)}catch(C){setTimeout(()=>{throw C},0)}})};return m(d,_0.EventType.OPEN,()=>{f||G(ji,`RPC '${t}' stream ${r} transport opened.`)}),m(d,_0.EventType.CLOSE,()=>{f||(f=!0,G(ji,`RPC '${t}' stream ${r} transport closed`),p.Ro())}),m(d,_0.EventType.ERROR,g=>{f||(f=!0,Hr(ji,`RPC '${t}' stream ${r} transport errored:`,g),p.Ro(new z(N.UNAVAILABLE,"The operation could not be completed")))}),m(d,_0.EventType.MESSAGE,g=>{var v;if(!f){const _=g.data[0];_e(!!_);const C=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(C){G(ji,`RPC '${t}' stream ${r} received error:`,C);const M=C.status;let R=function(Se){const me=Yn[Se];if(void 0!==me)return $4(me)}(M),j=C.message;void 0===R&&(R=N.INTERNAL,j="Unknown error status: "+M+" with message "+C.message),f=!0,p.Ro(new z(R,j)),d.close()}else G(ji,`RPC '${t}' stream ${r} received:`,_),p.Vo(_)}}),m(a,vme.STAT_EVENT,g=>{g.stat===NG.PROXY?G(ji,`RPC '${t}' stream ${r} detected buffering proxy`):g.stat===NG.NOPROXY&&G(ji,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function Y0(){return typeof document<"u"?document:null}function Ag(n){return new k_e(n,!0)}class wI{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Kz{constructor(t,e,i,r,s,o,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new wI(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return S(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return S(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return S(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===N.RESOURCE_EXHAUSTED?(On(e.toString()),On("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===N.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new z(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko(S(function*(){t.state=0,t.start()}))}o_(t){return G("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tve extends Kz{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function N_e(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:fe(),r=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(_e(void 0===u||"string"==typeof u),ri.fromBase64String(u||"")):(_e(void 0===u||u instanceof Uint8Array),ri.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=void 0===c.code?N.UNKNOWN:$4(c.code);return new z(u,c.message||"")}(o);e=new W4(i,r,s,a||null)}else if("documentChange"in t){const i=t.documentChange,r=lo(n,i.document.name),s=Ln(i.document.updateTime),o=i.document.createTime?Ln(i.document.createTime):ve.min(),a=new Pi({mapValue:{fields:i.document.fields}}),l=rn.newFoundDocument(r,s,o,a);e=new N0(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=lo(n,i.document),s=i.readTime?Ln(i.readTime):ve.min(),o=rn.newNoDocument(r,s);e=new N0([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=lo(n,i.document);e=new N0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return fe();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new w_e(r,s);e=new j4(i.targetId,o)}}var c;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return ve.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Ln(o.readTime):ve.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=yg(this.serializer),e.addTarget=function(s,o){let a;const l=o.target;if(a=D0(l)?{documents:nz(s,l)}:{query:tI(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=X4(s,o.resumeToken);const c=QA(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=Rd(s,o.snapshotVersion.toTimestamp());const c=QA(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function O_e(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=yg(this.serializer),e.removeTarget=t,this.e_(e)}}class Cve extends Kz{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(_e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function P_e(n,t){return n&&n.length>0?(_e(void 0!==t),n.map(e=>function(r,s){let o=Ln(r.updateTime?r.updateTime:s);return o.isEqual(ve.min())&&(o=Ln(s)),new b_e(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Ln(t.commitTime);return this.listener.I_(i,e)}return _e(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=yg(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>function bg(n,t){let e;if(t instanceof kd)e={update:ez(n,t.key,t.value)};else if(t instanceof Md)e={delete:vg(n,t.key)};else if(t instanceof Qo)e={update:ez(n,t.key,t.data),updateMask:B_e(t.fieldMask)};else{if(!(t instanceof WA))return fe();e={verify:vg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Ad)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof lc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Id)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw fe()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:M_e(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:fe()),e;var s}(this.serializer,i))};this.e_(e)}}class wve extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new z(N.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new z(N.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(N.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Dve{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(On(e),this.f_=!1):G("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Eve{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{i.enqueueAndForget(S(function*(){var l;el(o)&&(G("RemoteStore","Restarting streams for network reachability change."),yield(l=S(function*(u){const d=se(u);d.C_.add(4),yield Hd(d),d.M_.set("Unknown"),d.C_.delete(4),yield Ig(d)}),function c(u){return l.apply(this,arguments)})(o))}))}),this.M_=new Dve(i,r)}}function Ig(n){return DI.apply(this,arguments)}function DI(){return DI=S(function*(n){if(el(n))for(const t of n.v_)yield t(!0)}),DI.apply(this,arguments)}function Hd(n){return EI.apply(this,arguments)}function EI(){return EI=S(function*(n){for(const t of n.v_)yield t(!1)}),EI.apply(this,arguments)}function K0(n,t){const e=se(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),kI(e)?II(e):Ud(e).Ho()&&AI(e,t))}function kg(n,t){const e=se(n),i=Ud(e);e.D_.delete(t),i.Ho()&&Xz(e,t),0===e.D_.size&&(i.Ho()?i.Zo():el(e)&&e.M_.set("Unknown"))}function AI(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ve.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ud(n).u_(t)}function Xz(n,t){n.x_.Oe(t),Ud(n).c_(t)}function II(n){n.x_=new D_e({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),Ud(n).start(),n.M_.g_()}function kI(n){return el(n)&&!Ud(n).jo()&&n.D_.size>0}function el(n){return 0===se(n).C_.size}function Qz(n){n.x_=void 0}function Ave(n){return MI.apply(this,arguments)}function MI(){return MI=S(function*(n){n.D_.forEach((t,e)=>{AI(n,t)})}),MI.apply(this,arguments)}function Ive(n,t){return RI.apply(this,arguments)}function RI(){return RI=S(function*(n,t){Qz(n),kI(n)?(n.M_.w_(t),II(n)):n.M_.set("Unknown")}),RI.apply(this,arguments)}function kve(n,t,e){return NI.apply(this,arguments)}function NI(){return NI=S(function*(n,t,e){if(n.M_.set("Online"),t instanceof W4&&2===t.state&&t.cause)try{yield(i=S(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){G("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield X0(n,i)}else if(t instanceof N0?n.x_.$e(t):t instanceof j4?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(ve.min()))try{const i=yield Bz(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(ri.EMPTY_BYTE_STRING,u.snapshotVersion)),Xz(s,l);const d=new Zo(u.target,l,c,u.sequenceNumber);AI(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){G("RemoteStore","Failed to raise snapshot:",i),yield X0(n,i)}var i}),NI.apply(this,arguments)}function X0(n,t,e){return PI.apply(this,arguments)}function PI(){return PI=S(function*(n,t,e){if(!Ga(t))throw t;n.C_.add(1),yield Hd(n),n.M_.set("Offline"),e||(e=()=>Bz(n.localStore)),n.asyncQueue.enqueueRetryable(S(function*(){G("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield Ig(n)}))}),PI.apply(this,arguments)}function Zz(n,t){return t().catch(e=>X0(n,e,t))}function $d(n){return OI.apply(this,arguments)}function OI(){return OI=S(function*(n){const t=se(n),e=tl(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Mve(t);)try{const r=yield gve(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,Rve(t,r)}catch(r){yield X0(t,r)}Jz(t)&&e5(t)}),OI.apply(this,arguments)}function Mve(n){return el(n)&&n.b_.length<10}function Rve(n,t){n.b_.push(t);const e=tl(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function Jz(n){return el(n)&&!tl(n).jo()&&n.b_.length>0}function e5(n){tl(n).start()}function Nve(n){return LI.apply(this,arguments)}function LI(){return LI=S(function*(n){tl(n).E_()}),LI.apply(this,arguments)}function Pve(n){return FI.apply(this,arguments)}function FI(){return FI=S(function*(n){const t=tl(n);for(const e of n.b_)t.P_(e.mutations)}),FI.apply(this,arguments)}function Ove(n,t,e){return VI.apply(this,arguments)}function VI(){return VI=S(function*(n,t,e){const i=n.b_.shift(),r=YA.from(i,t,e);yield Zz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield $d(n)}),VI.apply(this,arguments)}function Lve(n,t){return BI.apply(this,arguments)}function BI(){return BI=S(function*(n,t){var e;t&&tl(n).h_&&(yield(e=S(function*(r,s){if(function H4(n){switch(n){default:return fe();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}(a=s.code)&&a!==N.ABORTED){const o=r.b_.shift();tl(r).Yo(),yield Zz(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield $d(r)}var a}),function i(r,s){return e.apply(this,arguments)})(n,t)),Jz(n)&&e5(n)}),BI.apply(this,arguments)}function t5(n,t){return HI.apply(this,arguments)}function HI(){return HI=S(function*(n,t){const e=se(n);e.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const i=el(e);e.C_.add(3),yield Hd(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield Ig(e)}),HI.apply(this,arguments)}function UI(){return UI=S(function*(n,t){const e=se(n);t?(e.C_.delete(2),yield Ig(e)):t||(e.C_.add(2),yield Hd(e),e.M_.set("Unknown"))}),UI.apply(this,arguments)}function Ud(n){return n.O_||(n.O_=function(e,i,r){const s=se(e);return s.A_(),new Tve(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Ave.bind(null,n),Io:Ive.bind(null,n),a_:kve.bind(null,n)}),n.v_.push(function(){var t=S(function*(e){e?(n.O_.Yo(),kI(n)?II(n):n.M_.set("Unknown")):(yield n.O_.stop(),Qz(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function tl(n){return n.N_||(n.N_=function(e,i,r){const s=se(e);return s.A_(),new Cve(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:Nve.bind(null,n),Io:Lve.bind(null,n),T_:Pve.bind(null,n),I_:Ove.bind(null,n)}),n.v_.push(function(){var t=S(function*(e){e?(n.N_.Yo(),yield $d(n)):(yield n.N_.stop(),n.b_.length>0&&(G("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class GI{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new GI(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new z(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gd(n,t){if(On("AsyncQueue",`${t}: ${n}`),Ga(n))return new z(N.UNAVAILABLE,`${t}: ${n}`);throw n}class zd{constructor(t){this.comparator=t?(e,i)=>t(e,i)||oe.comparator(e.key,i.key):(e,i)=>oe.comparator(e.key,i.key),this.keyedMap=dg(),this.sortedSet=new Kt(this.comparator)}static emptySet(t){return new zd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof zd)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new zd;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class n5{constructor(){this.B_=new Kt(oe.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):fe():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class jd{constructor(t,e,i,r,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new jd(t,e,zd.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Fve{constructor(){this.k_=void 0,this.listeners=[]}}class Vve{constructor(){this.queries=new Xo(t=>x4(t),cg),this.onlineState="Unknown",this.q_=new Set}}function jI(){return jI=S(function*(n,t){const e=se(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new Fve),r)try{s.k_=yield e.onListen(i)}catch(o){const a=Gd(o,`Initialization of query '${Ed(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&YI(e)}),jI.apply(this,arguments)}function qI(){return qI=S(function*(n,t){const e=se(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),qI.apply(this,arguments)}function Bve(n,t){const e=se(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&YI(e)}function Hve(n,t,e){const i=se(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function YI(n){n.q_.forEach(t=>{t.next()})}class KI{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new jd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=jd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class s5{constructor(t){this.key=t}}class o5{constructor(t){this.key=t}}class a5{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ke(),this.mutatedKeys=Ke(),this._a=C4(t),this.aa=new zd(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new n5,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,d)=>{const h=r.get(u),f=ug(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),g=!0):this.ha(h,f)||(i.track({type:2,doc:f}),g=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((u,d)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return m(f)-m(p)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(i),r=null!=r&&r;const a=e&&!r?this.Ia():[],l=0===this.oa.size&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,0!==o.length||c?{snapshot:new jd(this.query,t.aa,s,o,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new n5,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Ke(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new o5(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new s5(i))}),e}da(t){this.ia=t.ls,this.oa=Ke();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return jd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Gve{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class zve{constructor(t){this.key=t,this.Ra=!1}}class jve{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Xo(a=>x4(a),cg),this.fa=new Map,this.ga=new Set,this.pa=new Kt(oe.comparator),this.ya=new Map,this.wa=new cI,this.Sa={},this.ba=new Map,this.Da=gc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Wve(n,t){return XI.apply(this,arguments)}function XI(){return XI=S(function*(n,t){const e=function yk(n){const t=se(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=l5.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tye.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kve.bind(null,t),t.Va.a_=Bve.bind(null,t.eventManager),t.Va.Fa=Hve.bind(null,t.eventManager),t}(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield function Vd(n,t){const e=se(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,I.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new Zo(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}(e.localStore,or(t)),a=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield function QI(n,t,e,i,r){return ZI.apply(this,arguments)}(e,t,i,"current"===a,o.resumeToken),e.isPrimaryClient&&K0(e.remoteStore,o)}return r}),XI.apply(this,arguments)}function ZI(){return ZI=S(function*(n,t,e,i,r){n.va=(d,h,f)=>{return(p=S(function*(g,v,_,b){let C=v.view.ca(_);C.Zi&&(C=yield z0(g.localStore,v.query,!1).then(({documents:J})=>v.view.ca(J,C)));const M=b&&b.targetChanges.get(v.targetId),R=b&&null!=b.targetMismatches.get(v.targetId),j=v.view.applyChanges(C,g.isPrimaryClient,M,R);return lk(g,v.targetId,j.Ta),j.snapshot}),function m(g,v,_,b){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield z0(n.localStore,t,!0),o=new a5(t,s.ls),a=o.ca(s.documents),l=_g.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);lk(n,e,c.Ta);const u=new Gve(t,e,o);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),ZI.apply(this,arguments)}function qve(n,t){return JI.apply(this,arguments)}function JI(){return JI=S(function*(n,t){const e=se(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!cg(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Bd(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),kg(e.remoteStore,i.targetId),Wd(e,i.targetId)}).catch(Ua))):(Wd(e,i.targetId),yield Bd(e.localStore,i.targetId,!0))}),JI.apply(this,arguments)}function ek(){return ek=S(function*(n,t,e){const i=function bk(n){const t=se(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xve.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qve.bind(null,t),t}(n);try{const r=yield function(o,a){const l=se(o),c=yn.now(),u=a.reduce((f,p)=>f.add(p.key),Ke());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=xr(),m=Ke();return l.ss.getEntries(f,u).next(g=>{p=g,p.forEach((v,_)=>{_.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(g=>{d=g;const v=[];for(const _ of a){const b=T_e(_,d.get(_.key).overlayedDocument);null!=b&&v.push(new Qo(_.key,b,o4(b.value.mapValue),cn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:S4(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Kt(Pe)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,e),yield Jo(i,r.changes),yield $d(i.remoteStore)}catch(r){const s=Gd(r,"Failed to persist write");e.reject(s)}}),ek.apply(this,arguments)}function l5(n,t){return tk.apply(this,arguments)}function tk(){return tk=S(function*(n,t){const e=se(n);try{const i=yield function pve(n,t){const e=se(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(e.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>e.qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var m,g,v;null!==t.targetMismatches.get(d)?f=f.withResumeToken(ri.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),g=f,v=u,(0===(m=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(s,f))});let l=xr(),c=Ke();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function Hz(n,t,e){let i=Ke(),r=Ke();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=xr();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}(s,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(ve.min())){const u=e.qr.getLastRemoteSnapshotVersion(s).next(d=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.ts=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(_e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?_e(o.Ra):r.removedDocuments.size>0&&(_e(o.Ra),o.Ra=!1))}),yield Jo(e,i,t)}catch(i){yield Ua(i)}}),tk.apply(this,arguments)}function c5(n,t,e){const i=se(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=se(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&YI(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Kve(n,t,e){return nk.apply(this,arguments)}function nk(){return nk=S(function*(n,t,e){const i=se(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new Kt(oe.comparator);o=o.insert(s,rn.newNoDocument(s,ve.min()));const a=Ke().add(s),l=new mg(ve.min(),new Map,new Kt(Pe),o,a);yield l5(i,l),i.pa=i.pa.remove(s),i.ya.delete(t),ck(i)}else yield Bd(i.localStore,t,!1).then(()=>Wd(i,t,e)).catch(Ua)}),nk.apply(this,arguments)}function Xve(n,t){return ik.apply(this,arguments)}function ik(){return ik=S(function*(n,t){const e=se(n),i=t.batch.batchId;try{const r=yield function fve(n,t){const e=se(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=I.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{const g=c.docVersions.get(p);_e(null!==g),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ke();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);ak(e,i,null),ok(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Jo(e,r)}catch(r){yield Ua(r)}}),ik.apply(this,arguments)}function Qve(n,t,e){return rk.apply(this,arguments)}function rk(){return rk=S(function*(n,t,e){const i=se(n);try{const r=yield function(o,a){const l=se(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(_e(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);ak(i,t,e),ok(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Jo(i,r)}catch(r){yield Ua(r)}}),rk.apply(this,arguments)}function ok(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function ak(n,t,e){const i=se(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Wd(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||u5(n,i)})}function u5(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(kg(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),ck(n))}function lk(n,t,e){for(const i of e)i instanceof s5?(n.wa.addReference(i.key,t),Jve(n,i)):i instanceof o5?(G("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||u5(n,i.key)):fe()}function Jve(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(G("SyncEngine","New document in limbo: "+e),n.ga.add(i),ck(n))}function ck(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new oe(mt.fromString(t)),i=n.Da.next();n.ya.set(i,new zve(e)),n.pa=n.pa.insert(e,i),K0(n.remoteStore,new Zo(or(Sd(e.path)),i,"TargetPurposeLimboResolution",Ur._e))}}function Jo(n,t,e){return uk.apply(this,arguments)}function uk(){return uk=S(function*(n,t,e){const i=se(n),r=[],s=[],o=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=pI.Qi(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.Va.a_(r),yield(a=S(function*(c,u){const d=se(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>I.forEach(u,f=>I.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>I.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ga(h))throw h;G("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),g=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,g)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,s))}),uk.apply(this,arguments)}function eye(n,t){return dk.apply(this,arguments)}function dk(){return dk=S(function*(n,t){const e=se(n);if(!e.currentUser.isEqual(t)){G("SyncEngine","User change. New user:",t.toKey());const i=yield Vz(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new z(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Jo(e,i._s)}var s}),dk.apply(this,arguments)}function tye(n,t){const e=se(n),i=e.ya.get(t);if(i&&i.Ra)return Ke().add(i.key);{let r=Ke();const s=e.fa.get(t);if(!s)return r;for(const o of s){const a=e.ma.get(o);r=r.unionWith(a.view.ua)}return r}}class Q0{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return S(function*(){e.serializer=Ag(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function Fz(n,t,e,i){return new hve(n,t,e,i)}(this.persistence,new Lz,t.initialUser,this.serializer)}createPersistence(t){return new uI($0.jr,this.serializer)}createSharedClientState(t){return new Wz}terminate(){var t=this;return S(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class qd{initialize(t,e){var i=this;return S(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>c5(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=eye.bind(null,i.syncEngine),yield function $I(n,t){return UI.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Vve}createDatastore(t){const e=Ag(t.databaseInfo.databaseId),i=new xve(t.databaseInfo);return new wve(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>c5(this.syncEngine,e,0),a=qz.D()?new qz:new vve,new Eve(i,r,s,o,a);var i,r,s,o,a}createSyncEngine(t,e){return function(r,s,o,a,l,c,u){const d=new jve(r,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return function(){var t=S(function*(i){const r=se(i);G("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Hd(r),r.F_.shutdown(),r.M_.set("Unknown")});return function e(i){return t.apply(this,arguments)}}()(this.remoteStore)}}class Z0{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):On("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class pye{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=mi.UNAUTHENTICATED,this.clientId=FG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=S(function*(a){G("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return S(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(S(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Gd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function J0(n,t){return xk.apply(this,arguments)}function xk(){return xk=S(function*(n,t){n.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=S(function*(s){i.isEqual(s)||(yield Vz(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),xk.apply(this,arguments)}function Tk(n,t){return Ck.apply(this,arguments)}function Ck(){return Ck=S(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function wk(n){return Sk.apply(this,arguments)}(n);G("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>t5(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>t5(t.remoteStore,s)),n._onlineComponents=t}),Ck.apply(this,arguments)}function Sk(){return Sk=S(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{yield J0(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function m5(n){return"FirebaseError"===n.name?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;Hr("Error using user provided cache. Falling back to memory cache: "+e),yield J0(n,new Q0)}}else G("FirestoreClient","Using default OfflineComponentProvider"),yield J0(n,new Q0);return n._offlineComponents}),Sk.apply(this,arguments)}function eb(n){return Dk.apply(this,arguments)}function Dk(){return Dk=S(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),yield Tk(n,n._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),yield Tk(n,new qd))),n._onlineComponents}),Dk.apply(this,arguments)}function Ak(){return Ak=S(function*(n){const t=yield eb(n),e=t.eventManager;return e.onListen=Wve.bind(null,t.syncEngine),e.onUnlisten=qve.bind(null,t.syncEngine),e}),Ak.apply(this,arguments)}function x5(n,t,e={}){const i=new ii;return n.asyncQueue.enqueueAndForget(S(function*(){return function(s,o,a,l,c){const u=new Z0({next:h=>{o.enqueueAndForget(()=>function WI(n,t){return qI.apply(this,arguments)}(s,d)),h.fromCache&&"server"===l.source?c.reject(new z(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new KI(a,u,{includeMetadataChanges:!0,J_:!0});return function zI(n,t){return jI.apply(this,arguments)}(s,d)}(yield function Kd(n){return Ak.apply(this,arguments)}(n),n.asyncQueue,t,e,i)})),i.promise}function T5(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const C5=new Map;function Ik(n,t,e){if(!e)throw new z(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function w5(n){if(!oe.isDocumentKey(n))throw new z(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function S5(n){if(oe.isDocumentKey(n))throw new z(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":fe()}function at(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new z(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=tb(n);throw new z(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class E5{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new z(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new z(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function Sye(n,t,e,i){if(!0===t&&!0===i)throw new z(N.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=T5(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mg{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E5({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new z(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E5(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new xme;switch(i.type){case"firstParty":return new Sme(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new z(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=C5.get(e);i&&(G("ComponentProvider","Removing Datastore"),C5.delete(e),i.terminate())}(this),Promise.resolve()}}class Oi{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Oi(this.firestore,t,this._query)}}class Fn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fn(this.firestore,t,this._key)}}class co extends Oi{constructor(t,e,i){super(t,e,Sd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fn(this.firestore,null,new oe(t))}withConverter(t){return new co(this.firestore,t,this._path)}}function Eye(n,t,...e){if(n=os(n),Ik("collection","path",t),n instanceof Mg){const i=mt.fromString(t,...e);return S5(i),new co(n,null,i)}{if(!(n instanceof Fn||n instanceof co))throw new z(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(t,...e));return S5(i),new co(n.firestore,null,i)}}function A5(n,t,...e){if(n=os(n),1===arguments.length&&(t=FG.newId()),Ik("doc","path",t),n instanceof Mg){const i=mt.fromString(t,...e);return w5(i),new Fn(n,null,new oe(i))}{if(!(n instanceof Fn||n instanceof co))throw new z(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mt.fromString(t,...e));return w5(i),new Fn(n.firestore,n instanceof co?n.converter:null,new oe(i))}}class Aye{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new wI(this,"async_queue_retry"),this.iu=()=>{const e=Y0();e&&G("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=Y0();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=Y0();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new ii;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return S(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!Ga(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,On("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=GI.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&fe()}verifyOperationInProgress(){}uu(){var t=this;return S(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}class Xt extends Mg{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new Aye,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||k5(this),this._firestoreClient.terminate()}}function kye(n,t){const i="string"==typeof n?n:t||"(default)",r=function ZH(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}("object"==typeof n?n:e$(),"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(n=>{const t=(n=>{var t,e;return null===(e=null===(t=xy())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]})(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),i]:[t.substring(0,e),i]})("firestore");s&&function Dye(n,t,e,i={}){var r;const s=(n=at(n,Mg))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=mi.MOCK_USER;else{a=function Uue(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[yy(JSON.stringify({alg:"none",type:"JWT"})),yy(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new z(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mi(c)}n._authCredentials=new Tme(new OG(a,l))}}(r,...s)}return r}function Vn(n){return n._firestoreClient||k5(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function k5(n){var t,e,i;const r=n._freezeSettings(),s=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new t_e(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,T5(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new pye(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class _c{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _c(ri.fromBase64String(t))}catch(e){throw new z(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new _c(ri.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Xd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new z(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Mk{constructor(t){this._methodName=t}}class Rk{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new z(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new z(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pe(this._lat,t._lat)||Pe(this._long,t._long)}}const Rye=/^__.*__$/;class Nye{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Qo(t,this.data,this.fieldMask,e,this.fieldTransforms):new kd(t,this.data,e,this.fieldTransforms)}}class N5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Qo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function P5(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class nb{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new nb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return rb(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(P5(this.Iu)&&Rye.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class Pye{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Ag(t)}pu(t,e,i,r=!1){return new nb({Iu:t,methodName:e,gu:i,path:ln.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(n){const t=n._freezeSettings(),e=Ag(n._databaseId);return new Pye(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Nk(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);Ok("Data must be an object, but it was:",o,i);const a=B5(i,o);let l,c;if(s.merge)l=new br(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Pg(t,d,e);if(!o.contains(h))throw new z(N.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);$5(u,h)||u.push(h)}l=new br(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Nye(new Pi(a),l,c)}class Ng extends Mk{_toFieldTransform(t){if(2!==t.Iu)throw t.mu(1===t.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ng}}function vc(n,t){if(H5(n=os(n)))return Ok("Unsupported field value:",t,n),B5(n,t);if(n instanceof Mk)return function(i,r){if(!P5(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=vc(a,r.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=os(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return I4(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=yn.fromDate(i);return{timestampValue:Rd(r.serializer,s)}}if(i instanceof yn){const s=new yn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Rd(r.serializer,s)}}if(i instanceof Rk)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof _c)return{bytesValue:X4(r.serializer,i._byteString)};if(i instanceof Fn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ZA(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${tb(i)}`)}(n,t)}function B5(n,t){const e={};return QG(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):za(n,(i,r)=>{const s=vc(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function H5(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yn||n instanceof Rk||n instanceof _c||n instanceof Fn||n instanceof Mk)}function Ok(n,t,e){if(!H5(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=tb(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Pg(n,t,e){if((t=os(t))instanceof Xd)return t._internalPath;if("string"==typeof t)return ib(n,t);throw rb("Field path arguments must be of type string or ",n,!1,void 0,e)}const Vye=new RegExp("[~\\*/\\[\\]]");function ib(n,t,e){if(t.search(Vye)>=0)throw rb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Xd(...t.split("."))._internalPath}catch{throw rb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function rb(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new z(N.INVALID_ARGUMENT,a+n+l)}function $5(n,t){return n.some(e=>e.isEqual(t))}class Lk{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Bye(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(sb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Bye extends Lk{data(){return super.data()}}function sb(n,t){return"string"==typeof t?ib(n,t):t instanceof Xd?t._internalPath:t._delegate._internalPath}class $ye{convertValue(t,e="none"){switch(qa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Dn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Yo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw fe()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return za(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new Rk(Dn(t.latitude),Dn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=T0(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ig(t));default:return null}}convertTimestamp(t){const e=ja(t);return new yn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=mt.fromString(t);_e(oz(i));const r=new sc(i.get(1),i.get(3)),s=new oe(i.popFirst(5));return r.isEqual(e)||On(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}class yc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jd extends Lk{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new cb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(sb("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class cb extends Jd{data(t={}){return super.data(t)}}class eh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new yc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new cb(this._firestore,this._userDataWriter,i.key,i,new yc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new z(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new cb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new yc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new cb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new yc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Gye(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Gye(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}class nl extends $ye{constructor(t){super(),this.firestore=t}convertBytes(t){return new _c(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Fn(this.firestore,null,e)}}function zye(n){n=at(n,Oi);const t=at(n.firestore,Xt),e=Vn(t),i=new nl(t);return function U5(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new z(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),x5(e,n._query).then(r=>new eh(t,i,n,r))}function jye(n,t,e,...i){n=at(n,Fn);const r=at(n.firestore,Xt),s=Qd(r);let o;return o="string"==typeof(t=os(t))||t instanceof Xd?function F5(n,t,e,i,r,s){const o=n.pu(1,t,e),a=[Pg(t,i,e)],l=[r];if(s.length%2!=0)throw new z(N.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Pg(t,s[h])),l.push(s[h+1]);const c=[],u=Pi.empty();for(let h=a.length-1;h>=0;--h)if(!$5(c,a[h])){const f=a[h];let p=l[h];p=os(p);const m=o.Ru(f);if(p instanceof Ng)c.push(f);else{const g=vc(p,m);null!=g&&(c.push(f),u.set(f,g))}}const d=new br(c);return new N5(u,d,o.fieldTransforms)}(s,"updateDoc",n._key,t,e,i):function L5(n,t,e,i){const r=n.pu(1,t,e);Ok("Data must be an object, but it was:",r,i);const s=[],o=Pi.empty();za(i,(l,c)=>{const u=ib(t,l,e);c=os(c);const d=r.Ru(u);if(c instanceof Ng)s.push(u);else{const h=vc(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new br(s);return new N5(o,a,r.fieldTransforms)}(s,"updateDoc",n._key,t),Lg(r,[o.toMutation(n._key,cn.exists(!0))])}function Wye(n){return Lg(at(n.firestore,Xt),[new Md(n._key,cn.none())])}function qye(n,t){const e=at(n.firestore,Xt),i=A5(n),r=function Vk(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}(n.converter,t);return Lg(e,[Nk(Qd(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,cn.exists(!1))]).then(()=>i)}function Lg(n,t){return function(i,r){const s=new ii;return i.asyncQueue.enqueueAndForget(S(function*(){return function Yve(n,t,e){return ek.apply(this,arguments)}(yield function Ek(n){return eb(n).then(t=>t.syncEngine)}(i),r,s)})),s.promise}(Vn(n),t)}!function(t,e=!0){_d=Sy,rd(new Gl("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Xt(new Cme(i.getProvider("auth-internal")),new Dme(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new z(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),as(PG,"4.4.0",t),as(PG,"4.4.0","esm2017")}();class uo{constructor(t){return t}}const Q5="firestore",$k=new X("angularfire2.firestore-instances");function l0e(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new uo(i)}}const c0e={provide:class o0e{constructor(){return kS(Q5)}},deps:[[new ts,$k]]},u0e={provide:uo,useFactory:function a0e(n,t){const e=function l$(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(o=>o.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}(Q5,n,t);return e&&new uo(e)},deps:[[new ts,$k],yp]};let d0e=(()=>{class n{constructor(){as("angularfire",IS.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=be({providers:[u0e,c0e]})}return n})();function h0e(n,...t){return{ngModule:d0e,providers:[{provide:$k,useFactory:l0e(n),multi:!0,deps:[Ae,mn,u$,d$,[new ts,mU],[new ts,_he],...t]}]}}const bc=La(qye,!0),Tr=La(Eye,!0),xc=La(Wye,!0),Cr=La(A5,!0),Tc=La(zye,!0),f0e=La(kye,!0),Cc=La(jye,!0);class hb{}class fb{}class bn{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof bn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new bn;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof bn?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class p0e{encodeKey(t){return Z5(t)}encodeValue(t){return Z5(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const m0e=/%(\d[a-f0-9])/gi,_0e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Z5(n){return encodeURIComponent(n).replace(m0e,(t,e)=>_0e[e]??t)}function pb(n){return`${n}`}class il{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new p0e,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function g0e(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(pb):[pb(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new il({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(pb(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(pb(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class v0e{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function J5(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ej(n){return typeof Blob<"u"&&n instanceof Blob}function tj(n){return typeof FormData<"u"&&n instanceof FormData}class Fg{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function y0e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new bn),this.context||(this.context=new v0e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new il,this.urlWithParams=e}serializeBody(){return null===this.body?null:J5(this.body)||ej(this.body)||tj(this.body)||function b0e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof il?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tj(this.body)?null:ej(this.body)?this.body.type||null:J5(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof il?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new Fg(e,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var th=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(th||{});class Uk{constructor(t,e=200,i="OK"){this.headers=t.headers||new bn,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Gk extends Uk{constructor(t={}){super(t),this.type=th.ResponseHeader}clone(t={}){return new Gk({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class nh extends Uk{constructor(t={}){super(t),this.type=th.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new nh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class nj extends Uk{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function zk(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let wr=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Fg)s=e;else{let l,c;l=r.headers instanceof bn?r.headers:new bn(r.headers),r.params&&(c=r.params instanceof il?r.params:new il({fromObject:r.params})),s=new Fg(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=we(s).pipe(Yu(l=>this.handler.handle(l)));if(e instanceof Fg||"events"===r.observe)return o;const a=o.pipe(ki(l=>l instanceof nh));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ze(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ze(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ze(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ze(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new il).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,zk(r,i))}post(e,i,r={}){return this.request("POST",e,zk(r,i))}put(e,i,r={}){return this.request("PUT",e,zk(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(O(hb))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function sj(n,t){return t(n)}function T0e(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const w0e=new X(""),Vg=new X(""),oj=new X("");function S0e(){let n=null;return(t,e)=>{null===n&&(n=(ne(w0e,{optional:!0})??[]).reduceRight(T0e,sj));const i=ne(vv),r=i.add();return n(t,e).pipe(ep(()=>i.remove(r)))}}let aj=(()=>{class n extends hb{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=ne(vv)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Vg),...this.injector.get(oj,[])]));this.chain=r.reduceRight((s,o)=>function C0e(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),sj)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(ep(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(O(fb),O(gr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();const I0e=/^\)\]\}',?\n/;let cj=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new P(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Qn(i.\u0275loadImpl()):we(null)).pipe(ui(()=>new dt(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((m,g)=>o.setRequestHeader(m,g.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const m=e.detectContentTypeHeader();null!==m&&o.setRequestHeader("Content-Type",m)}if(e.responseType){const m=e.responseType.toLowerCase();o.responseType="json"!==m?m:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const m=o.statusText||"OK",g=new bn(o.getAllResponseHeaders()),v=function k0e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new Gk({headers:g,status:o.status,statusText:m,url:v}),l},u=()=>{let{headers:m,status:g,statusText:v,url:_}=c(),b=null;204!==g&&(b=typeof o.response>"u"?o.responseText:o.response),0===g&&(g=b?200:0);let C=g>=200&&g<300;if("json"===e.responseType&&"string"==typeof b){const M=b;b=b.replace(I0e,"");try{b=""!==b?JSON.parse(b):null}catch(R){b=M,C&&(C=!1,b={error:R,text:b})}}C?(s.next(new nh({body:b,headers:m,status:g,statusText:v,url:_||void 0})),s.complete()):s.error(new nj({error:b,headers:m,status:g,statusText:v,url:_||void 0}))},d=m=>{const{url:g}=c(),v=new nj({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:g||void 0});s.error(v)};let h=!1;const f=m=>{h||(s.next(c()),h=!0);let g={type:th.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),"text"===e.responseType&&o.responseText&&(g.partialText=o.responseText),s.next(g)},p=m=>{let g={type:th.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:th.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(O(xB))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();const jk=new X("XSRF_ENABLED"),uj=new X("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),dj=new X("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class hj{}let N0e=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=hB(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ct),O(di),O(uj))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function P0e(n,t){const e=n.url.toLowerCase();if(!ne(jk)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=ne(hj).getToken(),r=ne(dj);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var rl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(rl||{});function O0e(...n){const t=[wr,cj,aj,{provide:hb,useExisting:aj},{provide:fb,useExisting:cj},{provide:Vg,useValue:P0e,multi:!0},{provide:jk,useValue:!0},{provide:hj,useClass:N0e}];for(const e of n)t.push(...e.\u0275providers);return function lC(n){return{\u0275providers:n}}(t)}const fj=new X("LEGACY_INTERCEPTOR_FN");function L0e(){return function wc(n,t){return{\u0275kind:n,\u0275providers:t}}(rl.LegacyInterceptors,[{provide:fj,useFactory:S0e},{provide:Vg,useExisting:fj,multi:!0}])}let F0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({providers:[O0e(L0e())]})}return n})(),Bg=(()=>{class n{constructor(e){this.http=e,this.firestore=ne(uo)}getMusic(){var e=this;return S(function*(){const i=Tr(e.firestore,"music");return(yield Tc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createMusic(e){var i=this;return S(function*(){const r=Tr(i.firestore,"music");bc(r,{name:e.name,date:e.date,score:e.score,image:e.image,visible:!0})})()}deleteMusic(e){var i=this;return S(function*(){const r=Cr(i.firestore,`music/${e}`);yield xc(r)})()}updateMusic(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`music/${e}`);yield Cc(s,{score:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hg=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/movies.xml",this.firestore=ne(uo)}getMovies(){var e=this;return S(function*(){const i=Tr(e.firestore,"movies");return(yield Tc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createMovies(e){var i=this;return S(function*(){const r=Tr(i.firestore,"movies");bc(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}deleteMovie(e){var i=this;return S(function*(){const r=Cr(i.firestore,`movies/${e}`);yield xc(r)})()}updateMovie(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`movies/${e}`);yield Cc(s,{score:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$g=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/libros.xml",this.firestore=ne(uo)}getBook(){var e=this;return S(function*(){const i=Tr(e.firestore,"books");return(yield Tc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createBook(e){var i=this;return S(function*(){const r=Tr(i.firestore,"books");bc(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}deleteBook(e){var i=this;return S(function*(){const r=Cr(i.firestore,`books/${e}`);yield xc(r)})()}updateBook(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`books/${e}`);yield Cc(s,{score:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ug=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml",this.firestore=ne(uo)}getGames(){var e=this;return S(function*(){const i=Tr(e.firestore,"games");return(yield Tc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createGames(e){var i=this;return S(function*(){const r=Tr(i.firestore,"games");bc(r,{name:e.name,date:e.date,score:e.score,type:null,image:e.image,visible:!0})})()}deleteGames(e){var i=this;return S(function*(){const r=Cr(i.firestore,`games/${e}`);yield xc(r)})()}updateGames(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`games/${e}`);yield Cc(s,{score:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gg=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/series.xml",this.firestore=ne(uo)}getSeries(){var e=this;return S(function*(){const i=Tr(e.firestore,"series");return(yield Tc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createSeries(e){var i=this;return S(function*(){const r=Tr(i.firestore,"series");bc(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}deleteSerie(e){var i=this;return S(function*(){const r=Cr(i.firestore,`series/${e}`);yield xc(r)})()}updateSerie(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`series/${e}`);yield Cc(s,{score:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zg=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/animes.xml",this.firestore=ne(uo)}getAnimes(){var e=this;return S(function*(){const i=Tr(e.firestore,"animes");return(yield Tc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createAnimes(e){var i=this;return S(function*(){const r=Tr(i.firestore,"animes");bc(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}deleteAnime(e){var i=this;return S(function*(){const r=Cr(i.firestore,`animes/${e}`);yield xc(r)})()}updateAnime(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`animes/${e}`);yield Cc(s,{score:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sc=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pj=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Di),y($e))};static#t=this.\u0275dir=ee({type:n})}return n})(),Dc=(()=>{class n extends pj{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}();static#t=this.\u0275dir=ee({type:n,features:[pt]})}return n})();const us=new X("NgValueAccessor"),j0e={provide:us,useExisting:yt(()=>ih),multi:!0},q0e=new X("CompositionEventMode");let ih=(()=>{class n extends pj{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function W0e(){const n=Ea()?Ea().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Di),y($e),y(q0e,8))};static#t=this.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&$("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[gt([j0e]),pt]})}return n})();const Wi=new X("NgValidators"),ol=new X("NgAsyncValidators");function yj(n){return function sl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function mb(n){return null}function Sj(n){return null!=n}function Dj(n){return Mf(n)?Qn(n):n}function Ej(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Aj(n,t){return t.map(e=>e(n))}function Ij(n){return n.map(t=>function K0e(n){return!n.validate}(t)?t:e=>t.validate(e))}function Wk(n){return null!=n?function kj(n){if(!n)return null;const t=n.filter(Sj);return 0==t.length?null:function(e){return Ej(Aj(e,t))}}(Ij(n)):null}function qk(n){return null!=n?function Mj(n){if(!n)return null;const t=n.filter(Sj);return 0==t.length?null:function(e){return function G0e(...n){const t=qm(n),{args:e,keys:i}=E3(n),r=new dt(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Un(e[u]).subscribe(Mt(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?A3(i,a):a),s.complete())}))}});return t?r.pipe($1(t)):r}(Aj(e,t).map(Dj)).pipe(ze(Ej))}}(Ij(n)):null}function Rj(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Yk(n){return n?Array.isArray(n)?n:[n]:[]}function _b(n,t){return Array.isArray(n)?n.includes(t):n===t}function Oj(n,t){const e=Yk(t);return Yk(n).forEach(r=>{_b(e,r)||e.push(r)}),e}function Lj(n,t){return Yk(t).filter(e=>!_b(n,e))}class Fj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wk(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ar extends Fj{get formDirective(){return null}get path(){return null}}class al extends Fj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vj{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jg=(()=>{class n extends Vj{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(al,2))};static#t=this.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&xt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pt]})}return n})(),Bj=(()=>{class n extends Vj{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(ar,10))};static#t=this.\u0275dir=ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&xt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[pt]})}return n})();const Wg="VALID",yb="INVALID",rh="PENDING",qg="DISABLED";function Qk(n){return(bb(n)?n.validators:n)||null}function Zk(n,t){return(bb(t)?t.asyncValidators:n)||null}function bb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Gj{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Wg}get invalid(){return this.status===yb}get pending(){return this.status==rh}get disabled(){return this.status===qg}get enabled(){return this.status!==qg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Oj(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Oj(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Lj(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Lj(t,this._rawAsyncValidators))}hasValidator(t){return _b(this._rawValidators,t)}hasAsyncValidator(t){return _b(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=rh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=qg,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Wg,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wg||this.status===rh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qg:Wg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=rh,this._hasOwnPendingAsyncValidator=!0;const e=Dj(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new K,this.statusChanges=new K}_calculateStatus(){return this._allControlsDisabled()?qg:this.errors?yb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rh)?rh:this._anyControlsHaveStatus(yb)?yb:Wg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function J0e(n){return Array.isArray(n)?Wk(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function ebe(n){return Array.isArray(n)?qk(n):n||null}(this._rawAsyncValidators)}}class Jk extends Gj{constructor(t,e,i){super(Qk(e),Zk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Uj(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new P(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function $j(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new P(1e3,"");if(!i[e])throw new P(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const sh=new X("CallSetDisabledState",{providedIn:"root",factory:()=>xb}),xb="always";function Yg(n,t,e=xb){eM(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function ibe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zj(n,t)})}(n,t),function sbe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function rbe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zj(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function nbe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function wb(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function eM(n,t){const e=function Nj(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Rj(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function Pj(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Rj(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();wb(t._rawValidators,r),wb(t._rawAsyncValidators,r)}function zj(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const ube={provide:ar,useExisting:yt(()=>Db)},Kg=(()=>Promise.resolve())();let Db=(()=>{class n extends ar{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new K,this.form=new Jk({},Wk(e),qk(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Kg.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Yg(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Kg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Kg.then(()=>{const i=this._findContainer(e.path),r=new Jk({});(function jj(n,t){eM(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Kg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Kg.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function Wj(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(y(Wi,10),y(ol,10),y(sh,8))};static#t=this.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&$("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gt([ube]),pt]})}return n})();function qj(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Yj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Kj=class extends Gj{constructor(t=null,e,i){super(Qk(e),Zk(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bb(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Yj(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){qj(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){qj(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Yj(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},fbe={provide:al,useExisting:yt(()=>oh)},Zj=(()=>Promise.resolve())();let oh=(()=>{class n extends al{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Kj,this._registered=!1,this.name="",this.update=new K,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function iM(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===ih?e=s:function lbe(n){return Object.getPrototypeOf(n.constructor)===Dc}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function nM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Zj.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&Ii(i);Zj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Tb(n,t){return[...t.path,n]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(y(ar,9),y(Wi,10),y(ol,10),y(us,10),y(hi,8),y(sh,8))};static#t=this.\u0275dir=ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gt([fbe]),pt,kt]})}return n})(),Jj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),tW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({})}return n})();const Cbe={provide:us,useExisting:yt(()=>ah),multi:!0};function lW(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let ah=(()=>{class n extends Dc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=lW(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function wbe(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}();static#t=this.\u0275dir=ee({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&$("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[gt([Cbe]),pt]})}return n})(),lh=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(lW(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(y($e),y(Di),y(ah,9))};static#t=this.\u0275dir=ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const Sbe={provide:us,useExisting:yt(()=>aM),multi:!0};function cW(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let aM=(()=>{class n extends Dc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);r.push(c)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Dbe(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}();static#t=this.\u0275dir=ee({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&$("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[gt([Sbe]),pt]})}return n})(),ch=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(cW(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(cW(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(y($e),y(Di),y(aM,9))};static#t=this.\u0275dir=ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),Ec=(()=>{class n{constructor(){this._validator=mb}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):mb,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ee({type:n,features:[kt]})}return n})();const Ibe={provide:Wi,useExisting:yt(()=>uh),multi:!0};let uh=(()=>{class n extends Ec{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ii,this.createValidator=e=>yj}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}();static#t=this.\u0275dir=ee({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&xe("required",r._enabled?"":null)},inputs:{required:"required"},features:[gt([Ibe]),pt]})}return n})(),Obe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({imports:[tW]})}return n})(),lM=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:sh,useValue:e.callSetDisabledState??xb}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({imports:[Obe]})}return n})();function Fbe(n,t){if(1&n&&(x(0,"option",25),H(1),T()),2&n){const e=t.$implicit;D("value",e),w(1),zn(e)}}function Vbe(n,t){if(1&n&&(x(0,"option",26),H(1),T()),2&n){const e=t.$implicit,i=V();D("value",e)("selected",e===i.opAnios[0]),w(1),zn(e)}}function Bbe(n,t){if(1&n&&(x(0,"option",25),H(1),T()),2&n){const e=t.$implicit;D("value",e),w(1),zn(e)}}const Hbe=function(n){return{selected:n}};function $be(n,t){if(1&n){const e=Bt();x(0,"span",45),$("click",function(){const s=Qe(e).index,o=V().$implicit;return Ze(V().rate(o,s+1))}),H(1," \u2605 "),T()}if(2&n){const e=t.index,i=V().$implicit;D("ngClass",Ai(1,Hbe,e+1<=i.score))}}const Ube=function(n,t){return{imagenMusica:n,imagen:t}};function Gbe(n,t){if(1&n){const e=Bt();x(0,"div",27)(1,"div",28),$("click",function(){const s=Qe(e).index;return Ze(V().toggleInfo(s))}),x(2,"div",29),te(3,"img",30)(4,"div",31),x(5,"div",32),H(6),x(7,"span",33),H(8,"\u2605"),T()(),x(9,"div",34)(10,"div",35)(11,"div",36)(12,"p",37),H(13),T()(),x(14,"div",38)(15,"p",39),H(16),T(),te(17,"br"),T(),x(18,"div",36)(19,"div",40),F(20,$be,2,3,"span",41),T()()(),x(21,"div",42)(22,"button",43),$("click",function(){const s=Qe(e).$implicit;return Ze(V().deleteData(s))}),H(23,"Delete"),T()()()(),x(24,"p",44),H(25),T()()()}if(2&n){const e=t.$implicit,i=t.index,r=V();w(3),D("ngClass",Ro(15,Ube,"Music"===r.type,"Music"!==r.type))("src",e.image,xa),w(3),Ht(" ",e.score,""),w(1),xt("filled",1),w(2),xt("visible",r.selectedCardIndex===i),w(3),Mn("color",r.getColor(e.score)),w(1),Ht(" ",e.name,""),w(3),zn(e.date),w(4),D("ngForOf",r.stars),w(4),Mn("color",r.getColor(e.score)),w(1),zn(e.name)}}function zbe(n,t){1&n&&(x(0,"div",46),te(1,"div",47),T())}const jbe=function(n,t){return{"uil-sort-amount-up":n,"uil-sort-amount-down":t}};let Wbe=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u){this.alertService=e,this.musicService=i,this.movieService=r,this.libroService=s,this.gameService=o,this.seriesService=a,this.animeService=l,this.router=c,this.dataService=u,this.data=[],this.resultFilter=[],this.movies=[],this.animes=[],this.message="",this.opTipos=[],this.opAnios=[],this.opCalificacion=[],this.resultCount=0,this.color="",this.type="",this.loading=!1,this.isInfoVisible=!1,this.selectedCategory="Todos",this.selectedYear=this.opAnios[0],this.selectedScore="Todos",this.currentSortOrder="desc",this.selectedCardIndex=null,this.stars=Array(5).fill(!1),this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","lightblue","lightGreen","yellow","Pink","White","lightYellow","green","Purple"]],this.opAnios=["2024","2023","2022","2021","2020","2019"],this.opCalificacion=["0","1","2","3","4","5"]}ngOnInit(){this.dataService.typeData||this.router.navigate(["/"]),this.router.events.subscribe(e=>{this.message=this.dataService.typeData,this.loadData("Animes")}),this.selectedYear=this.opAnios[0]}loadData(e){var i=this;return S(function*(){try{i.loading=!0,"Movies"===e?(i.color="linear-gradient(to bottom, #00913f3b, 20%, #121212)",i.data=yield i.loadDataForType(i.movieService.getMovies())):"Series"===e?(i.color="linear-gradient(to bottom, #c3e91a33, 20%, #121212)",i.data=yield i.loadDataForType(i.seriesService.getSeries())):"Animes"===e?(i.color="linear-gradient(to bottom, #4e239481, 20%, #121212)",i.data=yield i.loadDataForType(i.animeService.getAnimes())):"Games"===e?(i.color="linear-gradient(to bottom, #f8798e3a, 20%, #121212)",i.data=yield i.loadDataForType(i.gameService.getGames())):"Books"===e?(i.color="linear-gradient(to bottom, #8040003a, 20%, #121212)",i.data=yield i.loadDataForType(i.libroService.getBook())):"Music"===e&&(i.color="linear-gradient(to bottom, #0000ff3f, 20%, #121212)",i.data=yield i.loadDataForType(i.musicService.getMusic())),i.message=e,i.resultFilter=i.sortData(i.data),i.resultFilter.forEach(r=>{r.image="data:image/jpg;base64,"+r.image}),i.resultCount=i.resultFilter.length,i.applyFilters(),console.log(i.data),0==i.data.length&&i.showAlert("Error al solicitar los datos","error",3e3)}catch(r){console.error("Error:",r)}finally{i.loading=!1,i.type=e}})()}loadDataForType(e){var i=this;return S(function*(){return(yield e).map(s=>(s.date=i.convertDate(s.date),s))})()}convertDate(e){var r=e.toString().toLowerCase().split("-");return parseInt(r[2],10),r[2]+"-"+r[1]+"-"+r[0]}sortData(e){return e.sort((i,r)=>{const[s,o,a]=i.date.split("-").map(Number),[l,c,u]=r.date.split("-").map(Number);return u!==a?u-a:c!==o?c-o:l-s})}getColorByType(e){const i=this.opTipos[0].indexOf(e);return-1!==i?this.opTipos[1][i]:"greenyellow"}convert(e){var r=e.toString().toLowerCase().split("/");return parseInt(r[2],10)}applyFilters(){this.resultFilter=this.data.filter(e=>"Todos"===this.selectedCategory||e.type===this.selectedCategory).filter(e=>this.convertYear(e)).filter(e=>"Todos"===this.selectedScore||e.score===this.selectedScore),this.resultCount=this.resultFilter.length}convertYear(e){if("All"!=this.selectedYear){const r=e.date.toString().toLowerCase().split("-");return parseInt(r[2],10)+""===this.selectedYear}return!0}filterType(e){this.selectedCategory=e.target.value,this.applyFilters()}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}filterScore(e){this.selectedScore=e.target.value,this.applyFilters()}sortDataByScore(){this.resultFilter=this.resultFilter.sort((e,i)=>{const r=e.score,s=i.score;return"asc"===this.currentSortOrder?r-s:s-r}),this.currentSortOrder="asc"===this.currentSortOrder?"desc":"asc"}getColor(e){return 5==e?"gold":""}toggleInfo(e){this.selectedCardIndex=this.selectedCardIndex===e?null:e}deleteData(e){var i=this;return S(function*(){try{i.loading=!0,"Movies"===i.type?yield i.movieService.deleteMovie(e.id):"Series"===i.type?yield i.seriesService.deleteSerie(e.id):"Animes"===i.type?yield i.animeService.deleteAnime(e.id):"Games"===i.type?yield i.gameService.deleteGames(e.id):"Books"===i.type?yield i.libroService.deleteBook(e.id):"Music"===i.type&&(yield i.musicService.deleteMusic(e.id))}catch{i.showAlert("Error al eliminar","error",3e3)}finally{i.loading=!1,i.loadData(i.type),i.showAlert("Dato Eliminado","success",2e3)}})()}rate(e,i){var r=this;return S(function*(){e.score=i;try{r.loading=!0,"Movies"===r.type?yield r.movieService.updateMovie(e.id,e.score):"Series"===r.type?yield r.seriesService.updateSerie(e.id,e.score):"Animes"===r.type?yield r.animeService.updateAnime(e.id,e.score):"Games"===r.type?yield r.gameService.updateGames(e.id,e.score):"Books"===r.type?yield r.libroService.updateBook(e.id,e.score):"Music"===r.type&&(yield r.musicService.updateMusic(e.id,e.score))}catch{r.showAlert("Error al actualizar el score","error",3e3)}finally{r.loading=!1,r.loadData(r.type),r.showAlert("Dato Actualizado","success",2e3)}})()}showAlert(e,i,r){this.alertService.showAlert(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(y(vy),y(Bg),y(Hg),y($g),y(Ug),y(Gg),y(zg),y(ni),y(Sc))};static#t=this.\u0275cmp=Ve({type:n,selectors:[["app-workplace"]],decls:52,vars:13,consts:[[1,"body"],[3,"click"],[1,"uil","uil-letter-japanese-a"],[1,"uil","uil-ticket"],[1,"uil","uil-files-landscapes"],[1,"uil","uil-book-alt"],[1,"uil","uil-basketball-hoop"],[1,"uil","uil-music"],[1,"d-flex","flex-wrap"],[1,"list",2,"display","flex","flex-wrap","wrap"],[2,"margin-left","2%","margin-top","3%"],[1,"row","filter","col-lg-12","col-12",2,"margin-top","3%","margin-bottom","3%"],[1,"col-lg-2","col-12"],[1,"col-lg-10","col-12",2,"text-align","end"],["id","opTipos",3,"change"],["disabled","","selected","",2,"display","none"],[3,"value",4,"ngFor","ngForOf"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","opCalificacion",3,"change"],[1,"uil",3,"ngClass"],[1,"container"],[1,"row"],["class","col-lg-2 col-6 col-md-4",4,"ngFor","ngForOf"],["class","loading-overlay",4,"ngIf"],[3,"value"],[3,"value","selected"],[1,"col-lg-2","col-6","col-md-4"],[1,"card",3,"click"],[1,"contenedor"],["alt","#",3,"ngClass","src"],[1,"triangulo"],[1,"centrado"],[1,"star"],[1,"info"],[1,"row","col-lg-12"],[1,"col-lg-12"],[1,"invert","invertTitle"],[1,"col-12",2,"margin-top","5%"],[1,"invert"],[1,"star-rating"],["style","margin: 0; padding: 0;",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-lg-12",2,"margin-top","5%"],[2,"margin-top","5%","width","100%","border","1px solid #ffffff",3,"click"],[1,"title"],[2,"margin","0","padding","0",3,"ngClass","click"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"header")(2,"button",1),$("click",function(){return r.loadData("Animes")}),te(3,"i",2),H(4," Anime"),T(),x(5,"button",1),$("click",function(){return r.loadData("Movies")}),te(6,"i",3),H(7," Peliculas"),T(),x(8,"button",1),$("click",function(){return r.loadData("Series")}),te(9,"i",4),H(10," Series"),T(),x(11,"button",1),$("click",function(){return r.loadData("Books")}),te(12,"i",5),H(13," Libros"),T(),x(14,"button",1),$("click",function(){return r.loadData("Games")}),te(15,"i",6),H(16," Juegos"),T(),x(17,"button",1),$("click",function(){return r.loadData("Music")}),te(18,"i",7),H(19," Musica"),T()(),x(20,"div",8)(21,"div",9)(22,"div",10)(23,"h1"),H(24),T()(),x(25,"div",11)(26,"div",12)(27,"p"),H(28),T()(),x(29,"div",13)(30,"select",14),$("change",function(o){return r.filterType(o)}),x(31,"option",15),H(32,"Categoria"),T(),x(33,"option"),H(34,"Todos"),T(),F(35,Fbe,2,2,"option",16),T(),x(36,"select",17),$("change",function(o){return r.filterYear(o)}),x(37,"option"),H(38,"All"),T(),F(39,Vbe,2,3,"option",18),T(),x(40,"select",19),$("change",function(o){return r.filterScore(o)}),x(41,"option",15),H(42,"Calificacion"),T(),x(43,"option"),H(44,"Todos"),T(),F(45,Bbe,2,2,"option",16),T(),x(46,"button",1),$("click",function(){return r.sortDataByScore()}),te(47,"i",20),T()()(),x(48,"div",21)(49,"div",22),F(50,Gbe,26,18,"div",23),T()()()(),F(51,zbe,2,0,"div",24),T()),2&i&&(Mn("background",r.color),w(24),Ht("Lista de ",r.message,""),w(4),Ht("Total: ",r.resultCount,""),w(7),D("ngForOf",r.opTipos[0]),w(4),D("ngForOf",r.opAnios),w(6),D("ngForOf",r.opCalificacion),w(2),D("ngClass",Ro(10,jbe,"asc"===r.currentSortOrder,"desc"===r.currentSortOrder)),w(3),D("ngForOf",r.resultFilter),w(1),D("ngIf",r.loading))},dependencies:[Pl,fi,ti,lh,ch],styles:['.list[_ngcontent-%COMP%]{max-height:calc(105vh - 60px);overflow-y:auto;width:100%}.contenedor[_ngcontent-%COMP%]{position:relative;display:inline-block;text-align:center}.triangulo[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:0;height:0;border-left:90px solid transparent;border-bottom:90px solid #1212129a}.centrado[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;color:#fff;transform:translate(0)}header[_ngcontent-%COMP%]{background-color:transparent;color:#fff;padding:5px 20px;text-align:right;border-radius:10px}s[_ngcontent-%COMP%]   .etiqueta[_ngcontent-%COMP%]{width:50%;background-color:#ff0;color:#000;box-shadow:0 0 29px #3c3c3c6b;border-radius:5px;font-family:"Hedvig Letters Serif",serif;text-align:center;text-decoration:none}.title[_ngcontent-%COMP%]{color:#fff;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}.star[_ngcontent-%COMP%]{font-size:18px;color:gray;cursor:pointer}.filled[_ngcontent-%COMP%]{color:gold}select[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}button[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}.body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px;height:calc(102vh - 60px)}.container[_ngcontent-%COMP%]{height:calc(71vh - 60px);align-items:end}.list[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.card[_ngcontent-%COMP%]{padding:5px;margin:5px;background-color:transparent;border:none}.imagen[_ngcontent-%COMP%]{width:100%;height:250px;border:1px solid #000000;border-radius:10px}.imagenMusica[_ngcontent-%COMP%]{width:100%;height:200px;border:1px solid #000000;border-radius:10px}@media (max-width:1000px){.card[_ngcontent-%COMP%]{width:100%;margin:0% 0% 2%}.imagen[_ngcontent-%COMP%]{height:180px}.title[_ngcontent-%COMP%]{display:none}.etiqueta[_ngcontent-%COMP%]{font-size:.8rem}select[_ngcontent-%COMP%]{font-size:1rem}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000c4;display:flex;justify-content:center;align-items:center;z-index:1000}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#333;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.info[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:100%;height:100%;background-color:#000000e6;color:#fff;transition:right .3s ease;opacity:0;border-radius:10px;pointer-events:none;text-align:left;padding:10%}.info.visible[_ngcontent-%COMP%]{right:0;opacity:1;pointer-events:auto}.invert[_ngcontent-%COMP%]{font-size:.7rem}.invertTitle[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;height:3em}.star-rating[_ngcontent-%COMP%]{font-size:1.2rem;color:gray}.star-rating[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}']})}return n})(),yW=(()=>{class n{constructor(e,i){this.router=e,this.dataService=i,this.anioActual=""}ngOnInit(){this.anioActual=(new Date).getFullYear()+""}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}navegarCreate(){this.router.navigate(["/Create"])}navegarTier(){this.router.navigate(["/Tier"])}navegarLibrary(){this.router.navigate(["/library"])}navegarPendingList(){this.router.navigate(["/PendingList"])}navegarDiscoverPage(){this.router.navigate(["/"])}toggleMobileMenu(){const e=document.getElementById("menu");e.style.display="block"===e.style.display?"none":"block"}static#e=this.\u0275fac=function(i){return new(i||n)(y(ni),y(Sc))};static#t=this.\u0275cmp=Ve({type:n,selectors:[["app-sidebar"]],decls:34,vars:0,consts:[[1,"menu","px-4"],[1,"row","gx-5"],[1,"column","col-lg-12",2,"background-color","#121212"],[1,"top","col-lg-12","d-flex","justify-content-between",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"uil","uil-user",2,"color","white","font-size","2.5rem"],[1,"link",3,"click"],[1,"uil","uil-search"],[1,"uil","uil-apps"],[1,"iconModal","uil","uil-bookmark"],[1,"columnDesc","col-lg-12",2,"background-color","#121212"],[2,"background-color","#252525","border-radius","2%","padding","5%","margin-top","5%"],[2,"font-size","0.8rem"],[1,"b1","btn",3,"click"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),te(5,"img",5),T(),te(6,"i",6),T(),x(7,"div",7),$("click",function(){return r.navegarDiscoverPage()}),x(8,"h5"),te(9,"i",8),H(10," Descubrir"),T()(),x(11,"div",7),$("click",function(){return r.navegarAComponenteDestino("Games")}),x(12,"h5"),te(13,"i",9),H(14," Biblioteca"),T()(),x(15,"div",7),$("click",function(){return r.navegarPendingList()}),x(16,"h5"),te(17,"i",10),H(18," Pendientes"),T()()(),x(19,"div",11)(20,"div",12)(21,"h5"),H(22,"Crea tu propio registro"),T(),x(23,"p",13),H(24,"En el caso de no encontrar la informacion en la seccion de descubrimiento, Cree tu propio registro."),T(),x(25,"button",14),$("click",function(){return r.navegarCreate()}),H(26,"Crear"),T()(),x(27,"div",12)(28,"h5"),H(29,"Tier"),T(),x(30,"p",13),H(31,"Te permite ver una lista de niveles segun la puntuacion dada."),T(),x(32,"button",14),$("click",function(){return r.navegarTier()}),H(33,"Crear"),T()()()()())},styles:[".column[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px}.columnDesc[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px;height:calc(79vh - 60px)}.imgTitle[_ngcontent-%COMP%]{width:140px;height:90px;margin-left:2%;margin-top:2%}.link[_ngcontent-%COMP%]{margin-bottom:5%;cursor:pointer;width:80%}.link[_ngcontent-%COMP%]:hover{background-color:#ffffff1f}.b1[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border-radius:5px;margin-right:2%;border:1px solid #ffffff}button[_ngcontent-%COMP%]:hover{background-color:#e5ff00;color:#000;border-color:transparent;border-radius:5px}i[_ngcontent-%COMP%]{color:#ffffff79}"]})}return n})();class bW{constructor(t){this.http=t}static getFormData(t){var e=new FormData;for(var i in t)e.append(i,t[i]);return e}static imageToByte(t){return new Promise((i,r)=>{const s=new FileReader;s.onload=o=>{i(o.target.result.split("base64,")[1])},s.readAsDataURL(t),s.onerror=r})}static byteToImage(t){return this._sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+t)}static imageToByteFromUrl(t,e){var i=this;return S(function*(){var r;if(!(r="Movies"==e||"Series"==e||"Books"==e||"Games"==e?yield fetch("https://corsproxy.io/?"+encodeURIComponent(t)):yield fetch(t)).ok)throw new Error("No se pudo cargar la imagen");const s=yield r.blob();let a=yield new Promise((l,c)=>{const u=new FileReader;u.onload=d=>{l(d.target.result.split("base64,")[1])},u.readAsDataURL(s),u.onerror=c});return 3*a.length/4>1e6&&(console.log("deberia entrar"),a=yield i.resizeImage(s)),a})()}static resizeImage(t){return S(function*(){const e=new Image,i=URL.createObjectURL(t),s=yield new Promise((d,h)=>{e.onload=()=>{URL.revokeObjectURL(i),d(e)},e.onerror=h,e.src=i}),o=document.createElement("canvas"),a=o.getContext("2d"),l=s.width/5,c=s.height/5;return o.width=l,o.height=c,a?.drawImage(s,0,0,l,c),new Promise((d,h)=>{o.toBlob(f=>{if(!f)return h(new Error("No se pudo crear el blob del canvas"));const p=new FileReader;p.onload=m=>{d(m.target.result.split("base64,")[1])},p.readAsDataURL(f),p.onerror=h})})})()}}const qbe=function(n){return{selected:n}};function Ybe(n,t){if(1&n){const e=Bt();x(0,"span",22),$("click",function(){const s=Qe(e).index,o=V();return Ze(o.rate(o.data,s+1))}),H(1," \u2605 "),T()}if(2&n){const e=t.index,i=V();D("ngClass",Ai(1,qbe,e+1<=i.data.score))}}function Kbe(n,t){if(1&n&&(x(0,"option",25),H(1),T()),2&n){const e=t.$implicit;D("value",e),w(1),zn(e)}}function Xbe(n,t){if(1&n){const e=Bt();x(0,"div",8)(1,"div",9)(2,"label"),H(3,"Tipo:"),T()(),x(4,"div",10)(5,"select",23),$("ngModelChange",function(r){return Qe(e),Ze(V().data.type=r)}),F(6,Kbe,2,2,"option",24),T()()()}if(2&n){const e=V();w(5),D("ngModel",e.data.type),w(1),D("ngForOf",e.opTipos[0])}}let Qbe=(()=>{class n{constructor(e,i,r,s,o,a,l,c){this.router=e,this.dataService=i,this.musicService=r,this.libroService=s,this.juegosService=o,this.animeService=a,this.movieService=l,this.serieServicio=c,this.data={},this.opTipos=[],this.opCalificacion=[],this.stars=Array(5).fill(!1),this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","blue","green","yellow","Pink","White","lightYellow","lightblue","Purple"]],this.opCalificacion=["0","1","2","3","4","5"]}obtenerImagen(e){bW.imageToByte(e.target.files[0]).then(s=>{this.data.image=s})}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}onSubmit(){"Peliculas"==this.tipo&&this.movieService.createMovies(this.data),"Series"==this.tipo&&this.serieServicio.createSeries(this.data),"Animes"==this.tipo&&this.animeService.createAnimes(this.data),"Juegos"==this.tipo&&this.juegosService.createGames(this.data),"Libros"==this.tipo&&this.libroService.createBook(this.data),"Musica"==this.tipo&&this.musicService.createMusic(this.data),this.navegarAComponenteDestino(this.tipo)}rate(e,i){e.score=i}static#e=this.\u0275fac=function(i){return new(i||n)(y(ni),y(Sc),y(Bg),y($g),y(Ug),y(zg),y(Hg),y(Gg))};static#t=this.\u0275cmp=Ve({type:n,selectors:[["app-create"]],decls:51,vars:6,consts:[[1,"body"],[1,"top","d-flex","flex-column",2,"height","210px","border-bottom","1px solid #000"],[1,"mt-auto","d-flex",2,"padding-left","5%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"down",2,"text-align","start","padding","5%"],[3,"ngSubmit"],["movieForm","ngForm"],[1,"row","col-lg-12"],[1,"col-lg-2"],[1,"col-lg-10",2,"width","30%"],["name","tipo","id","tipo",3,"ngModel","ngModelChange"],["type","text","id","name","name","name","placeholder","Name","required","",1,"date",3,"ngModel","ngModelChange"],["type","date","id","date","name","date","required","",1,"date",3,"ngModel","ngModelChange"],[1,"row","col-lg-12",2,"margin-bottom","1%"],[2,"margin-top","10%"],[1,"star-rating"],["style","margin: 0; padding: 0;",3,"ngClass","click",4,"ngFor","ngForOf"],["class"," row col-lg-12",4,"ngIf"],[2,"width","45%"],["id","formFileLg","name","formFileLg","type","file","accept","image/png, .jpeg, .jpg, image/gif",3,"change"],["type","submit",3,"disabled"],[2,"margin","0","padding","0",3,"ngClass","click"],["id","type","name","type",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,r){if(1&i&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),te(4,"img",4),T()()(),x(5,"div",5)(6,"form",6,7),$("ngSubmit",function(){return r.onSubmit()}),x(8,"div",8)(9,"div",9)(10,"label"),H(11,"Categoria:"),T()(),x(12,"div",10)(13,"select",11),$("ngModelChange",function(o){return r.tipo=o}),x(14,"option"),H(15,"Peliculas"),T(),x(16,"option"),H(17,"Series"),T(),x(18,"option"),H(19,"Animes"),T(),x(20,"option"),H(21,"Juegos"),T(),x(22,"option"),H(23,"Libros"),T(),x(24,"option"),H(25,"Musica"),T()()()(),x(26,"div",8)(27,"div",9)(28,"label"),H(29,"Name:"),T()(),x(30,"div",10)(31,"input",12),$("ngModelChange",function(o){return r.data.name=o}),T()()(),x(32,"div",8)(33,"div",9)(34,"label"),H(35,"Date:"),T()(),x(36,"div",10)(37,"input",13),$("ngModelChange",function(o){return r.data.date=o}),T()()(),x(38,"div",14)(39,"div",9)(40,"label",15),H(41,"Calificacion:"),T()(),x(42,"div",10)(43,"div",16),F(44,Ybe,2,3,"span",17),T()()(),F(45,Xbe,7,2,"div",18),x(46,"div",19)(47,"input",20),$("change",function(o){return r.obtenerImagen(o)}),T()(),x(48,"div",19)(49,"button",21),H(50,"Submit"),T()()()()()),2&i){const s=function vs(n){return function nu(n,t){return n[t]}(function lK(){return Me.lFrame.contextLView}(),nt+n)}(7);w(13),D("ngModel",r.tipo),w(18),D("ngModel",r.data.name),w(6),D("ngModel",r.data.date),w(7),D("ngForOf",r.stars),w(1),D("ngIf","Juegos"!==r.tipo&&"Musica"!==r.tipo),w(4),D("disabled",!s.valid)}},dependencies:[Pl,fi,ti,Jj,lh,ch,ih,ah,jg,Bj,uh,oh,Db],styles:["input[_ngcontent-%COMP%]{width:100%;margin-bottom:4%}button[_ngcontent-%COMP%]{width:100%}select[_ngcontent-%COMP%]{width:100%;margin-bottom:4%}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}.container[_ngcontent-%COMP%]{padding:2%;border-radius:10px}.body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px;height:calc(102vh - 60px)}.star-rating[_ngcontent-%COMP%]{font-size:2rem;color:gray;margin-top:0%}.star-rating[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}select[_ngcontent-%COMP%]{margin-top:5%;width:100%;font-size:1.2rem;border:none;color:#fff;background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}.date[_ngcontent-%COMP%]{margin-top:4%;width:100%;font-size:1.2rem;border:1px solid rgba(255,255,255,.39);color:#fff;background-color:transparent}"]})}return n})();function Zbe(n,t){if(1&n&&(x(0,"option",17),H(1),T()),2&n){const e=t.$implicit,i=V();D("value",e)("selected",e===i.opAnios[0]),w(1),zn(e)}}function Jbe(n,t){if(1&n&&(x(0,"div",22),te(1,"img",23),T()),2&n){const e=t.$implicit;w(1),av("title",e.name),D("src",e.image,xa)}}function exe(n,t){if(1&n&&(x(0,"div")(1,"div",18)(2,"div",19)(3,"h5"),H(4),T()(),x(5,"div",20),F(6,Jbe,2,2,"div",21),T()()()),2&n){const e=t.$implicit,i=V();w(2),Mn("background-color",i.tier[1][e]),w(2),zn(i.categorias[e]),w(2),D("ngForOf",i.dataScore(i.resultFilter,i.categorias.length-e))}}function txe(n,t){1&n&&(x(0,"div",24),te(1,"div",25),T())}let nxe=(()=>{class n{constructor(e,i,r,s,o,a,l){this.router=e,this.musicService=i,this.animeService=r,this.movieService=s,this.seriesService=o,this.gameService=a,this.libroService=l,this.categorias=["Dioos","Buenas","Normal","Malas","Olvidables"],this.data=[],this.anioActual="",this.opAnios=["2024","2023","2022","2021","2020","2019","Todos"],this.selectedYear=this.opAnios[0],this.resultFilter=[],this.resultCount=0,this.tier=[[0,1,2,3,4],["#FF7F7F","#FFBF7F","#FFDF7F","#FFFF7F","#BFFF7F"]],this.loading=!1}ngOnInit(){}loadData(e){var i=this;return S(function*(){try{i.loading=!0,"Movies"===e?i.data=yield i.loadDataForType(i.movieService.getMovies()):"Series"===e?i.data=yield i.loadDataForType(i.seriesService.getSeries()):"Animes"===e?i.data=yield i.loadDataForType(i.animeService.getAnimes()):"Games"===e?i.data=yield i.loadDataForType(i.gameService.getGames()):"Books"===e?i.data=yield i.loadDataForType(i.libroService.getBook()):"Music"===e&&(i.data=yield i.loadDataForType(i.musicService.getMusic())),console.log(i.selectedYear),i.applyFilters(),i.data.forEach(r=>{r.image="data:image/jpg;base64,"+r.image}),i.resultFilter=i.data,i.resultCount=i.resultFilter.length}catch(r){console.error("Error:",r)}finally{i.loading=!1}})()}loadDataForType(e){return S(function*(){return(yield e).map(r=>r)})()}convertYear(e){const i=e.split("-");return parseInt(i[0],10)+""}dataScore(e,i){return e.filter(r=>r.score==i)}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}applyFilters(){"Todos"===this.selectedYear?(this.resultFilter=this.data,console.log(1)):(this.data=this.data.filter(e=>this.convertYear(e.date)==this.selectedYear),console.log(2))}navegarHome(){this.router.navigate(["./"])}static#e=this.\u0275fac=function(i){return new(i||n)(y(ni),y(Bg),y(zg),y(Hg),y(Gg),y(Ug),y($g))};static#t=this.\u0275cmp=Ve({type:n,selectors:[["app-tier"]],decls:32,vars:4,consts:[[1,"body"],[1,"row"],[1,"col-lg-3",2,"text-align","start"],[1,"col-lg-2",2,"text-align","end"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"col-lg-7"],[3,"click"],[1,"uil","uil-letter-japanese-a"],[1,"uil","uil-ticket"],[1,"uil","uil-files-landscapes"],[1,"uil","uil-book-alt"],[1,"uil","uil-basketball-hoop"],[1,"uil","uil-music"],[1,"container","list","col-lg-12"],[4,"ngFor","ngForOf"],["class","loading-overlay",4,"ngIf"],[3,"value","selected"],[1,"row",2,"margin-top","1%","margin-bottom","1%"],[1,"izq","col-lg-2"],[1,"der","col-lg-10"],["style","display: inline;",4,"ngFor","ngForOf"],[2,"display","inline"],["alt","#",1,"imagen",3,"title","src"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"header")(2,"div",1)(3,"div",2)(4,"p"),H(5),T()(),x(6,"div",3)(7,"div")(8,"select",4),$("change",function(o){return r.filterYear(o)}),F(9,Zbe,2,3,"option",5),T()()(),x(10,"div",6)(11,"button",7),$("click",function(){return r.loadData("Animes")}),te(12,"i",8),H(13," Anime"),T(),x(14,"button",7),$("click",function(){return r.loadData("Movies")}),te(15,"i",9),H(16," Peliculas"),T(),x(17,"button",7),$("click",function(){return r.loadData("Series")}),te(18,"i",10),H(19," Series"),T(),x(20,"button",7),$("click",function(){return r.loadData("Books")}),te(21,"i",11),H(22," Libros"),T(),x(23,"button",7),$("click",function(){return r.loadData("Games")}),te(24,"i",12),H(25," Juegos"),T(),x(26,"button",7),$("click",function(){return r.loadData("Music")}),te(27,"i",13),H(28," Musica"),T()()()(),x(29,"div",14),F(30,exe,7,4,"div",15),T(),F(31,txe,2,0,"div",16),T()),2&i&&(w(5),Ht("Total: ",r.resultCount,""),w(4),D("ngForOf",r.opAnios),w(21),D("ngForOf",r.tier[0]),w(1),D("ngIf",r.loading))},dependencies:[fi,ti,lh,ch],styles:["header[_ngcontent-%COMP%]{background-color:transparent;color:#fff;padding:5px 20px;text-align:right;border-radius:10px}.imagen[_ngcontent-%COMP%]{width:80px;height:130px;margin-right:1%;margin-bottom:1%;margin-top:1%}.izq[_ngcontent-%COMP%]{border-style:solid;border-color:#000;color:#000;display:flex;align-items:center;justify-content:center}.der[_ngcontent-%COMP%]{border-style:solid;border-color:#000;border-left:none;background-color:#252525}button[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}select[_ngcontent-%COMP%]{width:100%;font-size:1.2rem;border:none;color:#fff;background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}.resultCount[_ngcontent-%COMP%]{text-align:right;margin-top:2%}.column[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px}.columnDesc[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px;height:calc(77vh - 60px);background:#121212}.imgTitle[_ngcontent-%COMP%]{width:140px;height:90px;margin-left:2%;margin-top:2%}.link[_ngcontent-%COMP%]{margin-bottom:5%;cursor:pointer}.body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px;height:calc(102vh - 60px);text-align:start}.list[_ngcontent-%COMP%]{height:calc(95vh - 60px);overflow-y:auto}.list[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000c4;display:flex;justify-content:center;align-items:center;z-index:1000}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#333;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}"]})}return n})();const ixe=["addListener","removeListener"],rxe=["addEventListener","removeEventListener"],sxe=["on","off"];function si(n,t,e,i){if(Je(e)&&(i=e,e=void 0),i)return si(n,t,e).pipe($1(i));const[r,s]=function lxe(n){return Je(n.addEventListener)&&Je(n.removeEventListener)}(n)?rxe.map(o=>a=>n[o](t,a,e)):function oxe(n){return Je(n.addListener)&&Je(n.removeListener)}(n)?ixe.map(xW(n,t)):function axe(n){return Je(n.on)&&Je(n.off)}(n)?sxe.map(xW(n,t)):[];if(!r&&Yx(n))return Xn(o=>si(o,t,e))(Un(n));if(!r)throw new TypeError("Invalid event target");return new dt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function xW(n,t){return e=>i=>n[e](t,i)}function Xg(n=0,t,e=mhe){let i=-1;return null!=t&&(uN(t)?e=t:i=t),new dt(r=>{let s=function cxe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:uxe}=Array;function TW(n){return 1===n.length&&uxe(n[0])?n[0]:n}function Eb(...n){const t=qm(n),e=TW(n);return e.length?new dt(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)Un(e[o]).subscribe(Mt(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Xr}function cM(...n){const t=qm(n);return Jt((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Un(n[l]).subscribe(Mt(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Kr))&&(o=null))},Ut));e.subscribe(Mt(i,l=>{if(a){const c=[l,...s];i.next(t?t(...c):c)}}))})}new dt(Ut),Math,Math,Math;const wTe=["*"],UTe=["dialog"];function kc(n){return null!=n}function gh(n){return(n||document.body).getBoundingClientRect()}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const UW={animation:!0,transitionTimerDelayMs:5},FCe=()=>{},{transitionTimerDelayMs:VCe}=UW,im=new Map,lr=(n,t,e,i)=>{let r=i.context||{};const s=im.get(t);if(s)switch(i.runningTransition){case"continue":return Xr;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),im.delete(t)}const o=e(t,i.animation,r)||FCe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),we(void 0).pipe(function OCe(n){return t=>new dt(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new De,l=new De,c=a.pipe(function hxe(...n){return t=>Jf(t,we(...n))}(!0));im.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function LCe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const d=si(t,"transitionend").pipe(an(c),ki(({target:f})=>f===t));(function CW(...n){return 1===(n=TW(n)).length?Un(n[0]):new dt(function dxe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(Un(n[i]).subscribe(Mt(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(Xg(u+VCe).pipe(an(c)),d,l).pipe(an(c)).subscribe(()=>{im.delete(t),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let Nb=(()=>{class n{constructor(){this.animation=UW.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),KW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),QW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({}),n})(),e8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),t8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({}),n})();var Li=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Li||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const i8=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function r8(n){const t=Array.from(n.querySelectorAll(i8)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let h8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn,lM]]}),n})(),m8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({}),n})();class Nc{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let kwe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Nn(1)).subscribe(()=>{lr(this._zone,this._el.nativeElement,(e,i)=>{i&&gh(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return lr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(y($e),y(Ae))},n.\u0275cmp=Ve({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(Ei("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),xt("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class _8{close(t){}dismiss(t){}}class Mwe{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new De,this._dismissed=new De,this._hidden=new De,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(an(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(an(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function NCe(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():we(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Eb(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var AM=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(AM||{});let Rwe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new De,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new K,this.shown=new De,this.hidden=new De}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Nn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=Eb(lr(this._zone,e,()=>e.classList.remove("show"),i),lr(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};Eb(lr(this._zone,this._elRef.nativeElement,(s,o)=>{o&&gh(s),s.classList.add("show")},e),lr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{si(e,"keydown").pipe(an(this._closed$),ki(r=>r.which===Li.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(AM.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;si(this._dialogEl.nativeElement,"mousedown").pipe(an(this._closed$),Wn(()=>i=!1),ui(()=>si(e,"mouseup").pipe(an(this._closed$),Nn(1))),ki(({target:r})=>e===r)).subscribe(()=>{i=!0}),si(e,"click").pipe(an(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(AM.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=r8(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&lr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(y(Ct),y($e),y(Ae))},n.\u0275cmp=Ve({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&Ml(UTe,7),2&e){let r;Pt(r=Ot())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(xe("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Ei("modal d-block"+(i.windowClass?" "+i.windowClass:"")),xt("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:wTe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(Mo(),x(0,"div",0,1)(2,"div",2),qs(3),T()()),2&e&&Ei("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Nwe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}}return n.\u0275fac=function(e){return new(e||n)(O(Ct))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pwe=(()=>{class n{constructor(e,i,r,s,o,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new De,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new K,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=si(t,"focusin").pipe(an(e),ze(s=>s.target));si(t,"keydown").pipe(an(e),ki(s=>s.which===Li.Tab),cM(r)).subscribe(([s,o])=>{const[a,l]=r8(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&si(t,"click").pipe(an(e),cM(r),ze(s=>s[1])).subscribe(s=>s.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,s){const o=s.container instanceof HTMLElement?s.container:kc(s.container)?this._document.querySelector(s.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.hide(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const u=new _8,d=this._getContentRef(e,s.injector||i,r,u,s);let h=!1!==s.backdrop?this._attachBackdrop(e,o):void 0,f=this._attachWindowComponent(e,o,d),p=new Mwe(f,d,h,s.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(f),p.result.then(l,l),p.result.then(c,c),u.close=m=>{p.close(m)},u.dismiss=m=>{p.dismiss(m)},this._applyWindowOptions(f.instance,s),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,s),h.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(kwe).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let o=e.resolveComponentFactory(Rwe).create(this._injector,r.nodes);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{kc(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{kc(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,o){return r?r instanceof qt?this._createFromTemplateRef(r,s):function $W(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new Nc([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new Nc([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Nc([[i]])}_createFromComponent(e,i,r,s,o){const a=e.resolveComponentFactory(r),l=mn.create({providers:[{provide:_8,useValue:s}],parent:i}),c=a.create(l),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Nc([[u]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(O(xs),O(mn),O(Ct),O(Nwe),O(Ta),O(Ae))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Owe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(O(Nb))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IM=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(O(wl),O(mn),O(Pwe),O(Owe))},n.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({providers:[IM]}),n})(),T8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),k8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),R8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),N8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),P8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),O8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),L8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),F8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({}),n})();new X("live announcer delay",{providedIn:"root",factory:function Ywe(){return 100}});let V8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})();const Kwe=[YW,KW,QW,e8,t8,h8,m8,v8,T8,k8,R8,N8,P8,O8,L8,F8,V8];let Xwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[Kwe,YW,KW,QW,e8,t8,h8,m8,v8,T8,k8,R8,N8,P8,O8,L8,F8,V8]}),n})(),B8=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml",this.firestore=ne(uo)}getReco(){var e=this;return S(function*(){const i=Tr(e.firestore,"recomendacion");return(yield Tc(i)).docs.map(s=>({id:s.id,...s.data()}))})()}createReco(e,i){var r=this;return S(function*(){const s=Tr(r.firestore,"recomendacion");bc(s,{name:e.name,date:e.date,image:e.image,visible:!0,liked:!1,type:i,releaseDate:e.releaseDate,randomData:e.randomData})})()}updateReco(e,i){var r=this;return S(function*(){const s=Cr(r.firestore,`recomendacion/${e}`);yield Cc(s,{liked:i})})()}deleteReco(e){var i=this;return S(function*(){const r=Cr(i.firestore,`recomendacion/${e}`);yield xc(r)})()}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qwe(n,t){if(1&n&&(x(0,"div",16)(1,"p"),H(2),T()()),2&n){const e=V();w(2),Ht("Score: ",e.data.randomData,"")}}function Zwe(n,t){if(1&n&&(x(0,"div",16)(1,"p"),H(2),T()()),2&n){const e=V();w(2),Ht("Page count: ",e.data.randomData,"")}}function Jwe(n,t){if(1&n&&(x(0,"div",16)(1,"p"),H(2),T()()),2&n){const e=V();w(2),Ht("Plataform: ",e.data.randomData,"")}}function e1e(n,t){if(1&n&&(x(0,"div",16)(1,"p"),H(2),T()()),2&n){const e=V();w(2),Ht("Total Tracks: ",e.data.randomData,"")}}const t1e=function(n){return{selected:n}};function n1e(n,t){if(1&n){const e=Bt();x(0,"span",26),$("click",function(){const s=Qe(e).index;return Ze(V().rate(s+1))}),H(1," \u2605 "),T()}if(2&n){const e=t.index,i=V();D("ngClass",Ai(1,t1e,e+1<=i.dataModal.score))}}function i1e(n,t){if(1&n&&(x(0,"option",29),H(1),T()),2&n){const e=t.$implicit;D("value",e),w(1),zn(e)}}function r1e(n,t){if(1&n){const e=Bt();x(0,"div",18)(1,"select",27),$("ngModelChange",function(r){return Qe(e),Ze(V().dataModal.type=r)}),F(2,i1e,2,2,"option",28),T()()}if(2&n){const e=V();w(1),D("ngModel",e.dataModal.type),w(1),D("ngForOf",e.opTipos[0])}}function s1e(n,t){1&n&&(x(0,"div",30),te(1,"div",31),T())}let o1e=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u,d,h){this.router=e,this.dataService=i,this.modalService=r,this.recoService=s,this.alertService=o,this.musicService=a,this.libroService=l,this.juegosService=c,this.animeService=u,this.movieService=d,this.serieServicio=h,this.opTipos=[],this.opCalificacion=[],this.loading=!1,this.open=!1,this.stars=Array(5).fill(!1),this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","blue","green","yellow","Pink","White","lightYellow","lightblue","Purple"]],this.opCalificacion=["0","1","2","3","4","5"]}ngOnInit(){this.dataModal={...this.data},this.open=!0}closeModal(){this.modalService.dismissAll()}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}getFormattedDate(e){const i=e.getDate(),r=e.getMonth()+1;return`${e.getFullYear()}-${r}-${i}`}obtenerImagen(e,i){var r=this;return S(function*(){try{r.loading=!0;const s=yield bW.imageToByteFromUrl(e,i);r.dataModal.image=s}catch{r.showAlert("Error al obtener la imagen","error")}finally{r.loading=!1}})()}save(){var e=this;return S(function*(){try{yield e.obtenerImagen(e.data.image,e.type),e.dataModal.date=e.data.date,"Animes"==e.type&&(yield e.animeService.createAnimes(e.dataModal)),"Movies"==e.type&&(yield e.movieService.createMovies(e.dataModal)),"Series"==e.type&&(yield e.serieServicio.createSeries(e.dataModal)),"Games"==e.type&&(yield e.juegosService.createGames(e.dataModal)),"Books"==e.type&&(yield e.libroService.createBook(e.dataModal)),"Music"==e.type&&(yield e.musicService.createMusic(e.dataModal)),e.closeModal(),e.showAlert("Guardado exitosamente","success")}catch{e.showAlert("Error al guardar","error")}})()}saveReco(){var e=this;return S(function*(){try{yield e.obtenerImagen(e.data.image,e.type),e.dataModal.date=e.getFormattedDate(new Date),console.log("imaReco "+e.dataModal.image),yield e.recoService.createReco(e.dataModal,e.type),e.closeModal(),e.showAlert("Guardado exitosamente","success")}catch{e.showAlert("Error al guardar","error")}})()}rate(e){this.dataModal.score=e}showAlert(e,i){this.alertService.showAlert(e,i)}static#e=this.\u0275fac=function(i){return new(i||n)(y(ni),y(Sc),y(IM),y(B8),y(vy),y(Bg),y($g),y(Ug),y(zg),y(Hg),y(Gg))};static#t=this.\u0275cmp=Ve({type:n,selectors:[["app-modal"]],inputs:{data:"data",type:"type"},decls:39,vars:12,consts:[[1,"modalPrin"],[1,"modal-header"],[1,"modal-title"],["aria-label","Cerrar",1,"btnClose",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-lg-3"],["id","myImage","alt","#",1,"imagen",3,"src"],[1,"row","col-lg-9"],[1,"row","col-lg-12"],[1,"col-lg-11"],[1,"synopsis"],[1,"col-lg-1"],[1,"btnModal","btn",3,"click"],[1,"iconModal","uil","uil-bookmark"],[1,"col-lg-6"],["class","col-lg-6",4,"ngIf"],[1,"col-lg-4"],[1,"star-rating"],["style","margin: 0; padding: 0;",3,"ngClass","click",4,"ngFor","ngForOf"],["type","date","id","date","name","date","required","",1,"date",2,"width","100%",3,"ngModel","ngModelChange"],["class","col-lg-4",4,"ngIf"],[1,"d-flex","justify-content-end"],[1,"iconModal","uil","uil-save"],["class","loading-overlay",4,"ngIf"],[2,"margin","0","padding","0",3,"ngClass","click"],["id","type","name","type",2,"width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1)(2,"h4",2),H(3),T(),x(4,"button",3),$("click",function(){return r.closeModal()}),x(5,"span",4),H(6,"\xd7"),T()()(),x(7,"div",5)(8,"div",6)(9,"div",7),te(10,"img",8),T(),x(11,"div",9)(12,"div",10)(13,"div",11)(14,"p",12),H(15),T()(),x(16,"div",13)(17,"button",14),$("click",function(){return r.saveReco()}),te(18,"i",15),T()()(),x(19,"div",10)(20,"div",16)(21,"p"),H(22),T()(),F(23,Qwe,3,1,"div",17),F(24,Zwe,3,1,"div",17),F(25,Jwe,3,1,"div",17),F(26,e1e,3,1,"div",17),T(),x(27,"div",10)(28,"div",18)(29,"div",19),F(30,n1e,2,3,"span",20),T()(),x(31,"div",18)(32,"input",21),$("ngModelChange",function(o){return r.data.date=o}),T()(),F(33,r1e,3,2,"div",22),T()(),x(34,"div",23)(35,"button",14),$("click",function(){return r.save()}),x(36,"i",24),H(37," Save"),T()()()(),F(38,s1e,2,0,"div",25),T()()),2&i&&(w(3),zn(r.data.name),w(7),D("src",r.data.image,xa),w(5),zn(r.data.info),w(7),Ht("Release date: ",r.data.releaseDate,""),w(1),D("ngIf","Animes"==r.type||"Movies"==r.type||"Series"==r.type),w(1),D("ngIf","Books"==r.type),w(1),D("ngIf","Games"==r.type),w(1),D("ngIf","Music"==r.type),w(4),D("ngForOf",r.stars),w(2),D("ngModel",r.data.date),w(1),D("ngIf","Games"!==r.type&&"Music"!==r.type),w(5),D("ngIf",r.loading))},dependencies:[Pl,fi,ti,lh,ch,ih,ah,jg,uh,oh],styles:[".modalPrin[_ngcontent-%COMP%]{width:60%;height:60%;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#000000e6;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0003}.modal-title[_ngcontent-%COMP%]{margin-top:0}.imagen[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #000000;border-radius:10px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000c4;display:flex;justify-content:center;align-items:center;z-index:1000}.loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#333;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@media (max-width:1000px){.modalPrin[_ngcontent-%COMP%]{width:100%;height:100%}.imagen[_ngcontent-%COMP%]{display:none}.synopsis[_ngcontent-%COMP%]{max-height:150px}}.btnClose[_ngcontent-%COMP%]{color:#fff;background-color:transparent;border:none;font-size:28px;font-weight:700;margin:0;padding:0}.btnClose[_ngcontent-%COMP%]:focus{outline:none}.synopsis[_ngcontent-%COMP%]{color:#fff;text-align:left;overflow:hidden;text-overflow:ellipsis;overflow-y:auto;height:225px}.synopsis[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.btnModal[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;margin-bottom:25%}.btnModal[_ngcontent-%COMP%]:hover{background-color:#deff2536}.iconModal[_ngcontent-%COMP%]{font-size:30px}select[_ngcontent-%COMP%]{margin-top:5%;width:100%;font-size:1.2rem;border:none;color:#fff;background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}.date[_ngcontent-%COMP%]{margin-top:4%;width:100%;font-size:1.2rem;border:1px solid rgba(255,255,255,.39);color:#fff;background-color:transparent}.star-rating[_ngcontent-%COMP%]{font-size:2rem;color:gray;margin-top:0%}.star-rating[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}"]})}return n})(),a1e=(()=>{class n{constructor(e){this.http=e,this.clientId="9998ee121c5f4a079c5ff6deb08d173b",this.clientSecret="594499dbcc5e4ee7b446e9171ac8536e",this.apiUrl="https://api.spotify.com/v1/search?",this.tokenUrl="https://accounts.spotify.com/api/token"}getToken(){const e=new bn({"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(this.clientId+":"+this.clientSecret)});return this.http.post(this.tokenUrl,"grant_type=client_credentials",{headers:e}).pipe(ui(r=>r.access_token?we(r.access_token):Wu("No se recibi\xf3 un token de acceso.")))}getAlbums(e,i){return this.getToken().pipe(ui(r=>{const s=new bn({Authorization:"Bearer "+r});return this.http.get(this.apiUrl,{headers:s,params:{query:"genre%reggaeton",type:"album",limit:i,offset:e}})}))}getAlbumsByName(e,i){return this.getToken().pipe(ui(r=>{const s=new bn({Authorization:"Bearer "+r});return this.http.get(this.apiUrl,{headers:s,params:{query:e,type:"album",limit:i,offset:0}})}))}getAlbumsAiring(){return this.getToken().pipe(ui(e=>{const i=new bn({Authorization:"Bearer "+e});return this.http.get(this.apiUrl,{headers:i,params:{query:"genre%reggaeton",type:"artist",limit:24,offset:0}})}))}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),l1e=(()=>{class n{constructor(e){this.http=e,this.apiUrl="https://video-games-api2.p.rapidapi.com/games",this.apiKey="1b43d6d217msh5679d2090715dc5p1ade91jsn74e967e5c2a7",this.host="video-games-api2.p.rapidapi.com"}getGames(e){const i=`${this.apiUrl}/all?page=${e}`,r=new bn({"X-RapidAPI-Key":this.apiKey,"X-RapidAPI-Host":this.host});return this.http.get(i,{headers:r})}seachGames(e){const i=`${this.apiUrl}/title-search?title=${e}`,r=new bn({"X-RapidAPI-Key":this.apiKey,"X-RapidAPI-Host":this.host});return this.http.get(i,{headers:r})}getGamesByPC(e){const i=`${this.apiUrl}/by-platform/PC`,r=new bn({"X-RapidAPI-Key":this.apiKey,"X-RapidAPI-Host":this.host});return this.http.get(i,{headers:r})}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),c1e=(()=>{class n{constructor(e){this.http=e,this.apiUrl="https://api.themoviedb.org/3",this.apiKey="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMWM2NjU1N2E4NjMwNDkyOTBmNmEwM2FmNWM3OTMxMCIsInN1YiI6IjY2NTdmOTcwNDNiNzk3M2U1YmE4ZGMzMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Xq7YDULdvUB62j3D7B25vmzEUCqkC8SMOCaeqQ2Dpx8"}getMovies(e){const i=`${this.apiUrl}/discover/movie?page=${e}`,r=new bn({"Content-Type":'"accept", "application/json"',Authorization:this.apiKey});return this.http.get(i,{headers:r})}seachMovies(e){const i=`${this.apiUrl}/search/movie?query=${e}`,r=new bn({"Content-Type":'"accept", "application/json"',Authorization:this.apiKey});return this.http.get(i,{headers:r})}getMoviesAiring(e,i){const r=`${this.apiUrl}/discover/movie?primary_release_date.gte=${e}&primary_release_date.lte=${i}`,s=new bn({"Content-Type":'"accept", "application/json"',Authorization:this.apiKey});return this.http.get(r,{headers:s})}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),u1e=(()=>{class n{constructor(e){this.http=e,this.apiUrl="https://api.themoviedb.org/3",this.apiKey="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMWM2NjU1N2E4NjMwNDkyOTBmNmEwM2FmNWM3OTMxMCIsInN1YiI6IjY2NTdmOTcwNDNiNzk3M2U1YmE4ZGMzMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Xq7YDULdvUB62j3D7B25vmzEUCqkC8SMOCaeqQ2Dpx8"}getSeries(e){const i=`${this.apiUrl}/discover/tv?page=${e}`,r=new bn({"Content-Type":'"accept", "application/json"',Authorization:this.apiKey});return this.http.get(i,{headers:r})}seachSeries(e){const i=`${this.apiUrl}/search/tv?query=${e}`,r=new bn({"Content-Type":'"accept", "application/json"',Authorization:this.apiKey});return this.http.get(i,{headers:r})}getSeriesAiring(e,i){const r=`${this.apiUrl}/discover/tv?first_air_date.gte=${e}&first_air_date.lte=${i}&sort_by=popularity.desc`,s=new bn({"Content-Type":'"accept", "application/json"',Authorization:this.apiKey});return this.http.get(r,{headers:s})}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),d1e=(()=>{class n{constructor(e){this.http=e,this.apiUrl="https://api.jikan.moe/v4/anime"}getAnimeByPage(e){return this.http.get(`${this.apiUrl}?page=${e}&limit=24`)}getAnimeAiring(){return this.http.get(`${this.apiUrl}?status=airing&order_by=popularity`)}searchAnimesByName(e,i){return this.http.get(`${this.apiUrl}?q=${e}&page=1`)}getAnimeByRange(){return this.http.get(`${this.apiUrl}?max_score=5`)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),h1e=(()=>{class n{constructor(e){this.http=e,this.API_URL="https://www.googleapis.com/books/v1/volumes"}getBooks(e,i){return this.http.get(`${this.API_URL}?q=""+subject:fantasy&startIndex=${e}&maxResults=24&printType=books`)}getBooksByName(e){return this.http.get(`${this.API_URL}?q=${e}&maxResults=24&printType=books`)}getBooksByNew(){return this.http.get(`${this.API_URL}?q=""+subject:fantasy&maxResults=24&printType=books&orderBy=newest`)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wr))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const H8=["*"];let qi=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),$8=(()=>{class n{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[qi.STARTS_WITH,qi.CONTAINS,qi.NOT_CONTAINS,qi.ENDS_WITH,qi.EQUALS,qi.NOT_EQUALS],numeric:[qi.EQUALS,qi.NOT_EQUALS,qi.LESS_THAN,qi.LESS_THAN_OR_EQUAL_TO,qi.GREATER_THAN,qi.GREATER_THAN_OR_EQUAL_TO],date:[qi.DATE_IS,qi.DATE_IS_NOT,qi.DATE_BEFORE,qi.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new De;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),p1e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ve({type:n,selectors:[["p-header"]],ngContentSelectors:H8,decls:1,vars:0,template:function(i,r){1&i&&(Mo(),qs(0))},encapsulation:2})}return n})(),g1e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ve({type:n,selectors:[["p-footer"]],ngContentSelectors:H8,decls:1,vars:0,template:function(i,r){1&i&&(Mo(),qs(0))},encapsulation:2})}return n})(),U8=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(y(qt))};static \u0275dir=ee({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return n})(),G8=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=be({imports:[vn]})}return n})();class lm{static isArray(t,e=!0){return Array.isArray(t)&&(e||0!==t.length)}static isObject(t,e=!0){return"object"==typeof t&&!Array.isArray(t)&&null!=t&&(e||0!==Object.keys(t).length)}static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var s,o,a,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((o=t.length)!=e.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(t),c=this.isDate(e);if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var h=Object.keys(t);if((o=h.length)!==Object.keys(e).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,h[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[a=h[s]],e[a]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let s=0,o=i.length;s<o;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>e){i.splice(o,0,t),s=!0;break}s||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(/\p{Diacritic}/gu,"")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!this.isDate(t)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,r=1){let s=-1;const o=this.isEmpty(t),a=this.isEmpty(e);return s=o&&a?0:o?r:a?-r:"string"==typeof t&&"string"==typeof e?t.localeCompare(e,i,{numeric:!0}):t<e?-1:t>e?1:0,s}static sort(t,e,i=1,r,s=1){const o=lm.compare(t,e,r,i);let a=i;return(lm.isEmpty(t)||lm.isEmpty(e))&&(a=1===s?i:s),a*o}static merge(t,e){if(null!=t||null!=e)return null!=t&&"object"!=typeof t||null!=e&&"object"!=typeof e?null!=t&&"string"!=typeof t||null!=e&&"string"!=typeof e?e||t:[t||"",e||""].join(" "):{...t||{},...e||{}}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&1===t.length&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(e)}catch{i=t.lastIndexOf([...t].reverse().find(e))}return i}static findLast(t,e){let i;if(this.isNotEmpty(t))try{i=t.findLast(e)}catch{i=[...t].reverse().find(e)}return i}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var s,o,a,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((o=t.length)!=e.length)return!1;for(s=o;0!=s--;)if(!this.deepEquals(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var h=Object.keys(t);if((o=h.length)!==Object.keys(e).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,h[s]))return!1;for(s=o;0!=s--;)if(!this.deepEquals(t[a=h[s]],e[a]))return!1;return!0}return t!=t&&e!=e}}var z8=0;!function _1e(){let n=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0}();const v1e=["*"];let $b=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const e=lm.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ve({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:["spin","spin",Ii],styleClass:"styleClass"},standalone:!0,features:[ko,Sa],ngContentSelectors:v1e,decls:1,vars:0,template:function(i,r){1&i&&(Mo(),qs(0))},encapsulation:2,changeDetection:0})}return n})(),j8=(()=>{class n extends $b{static \u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}();static \u0275cmp=Ve({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[pt,Sa],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){1&i&&(gn(),x(0,"svg",0),te(1,"path",1),T()),2&i&&(Ei(r.getClassNames()),xe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),W8=(()=>{class n extends $b{static \u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}();static \u0275cmp=Ve({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[pt,Sa],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,r){1&i&&(gn(),x(0,"svg",0),te(1,"path",1),T()),2&i&&(Ei(r.getClassNames()),xe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),q8=(()=>{class n extends $b{static \u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}();static \u0275cmp=Ve({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[pt,Sa],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,r){1&i&&(gn(),x(0,"svg",0),te(1,"path",1),T()),2&i&&(Ei(r.getClassNames()),xe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),Y8=(()=>{class n extends $b{static \u0275fac=function(){let e;return function(r){return(e||(e=kn(n)))(r||n)}}();static \u0275cmp=Ve({type:n,selectors:[["ChevronUpIcon"]],standalone:!0,features:[pt,Sa],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,r){1&i&&(gn(),x(0,"svg",0),te(1,"path",1),T()),2&i&&(Ei(r.getClassNames()),xe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),En=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)e.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)e.className+=" "+r[s]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(e,s)))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==e)return r;1==i[s].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==e)return s;r[o].attributes&&r[o].attributes[i]&&1==r[o].nodeType&&s++}return-1}static appendOverlay(e,i,r="self"){"self"!==r&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",s=!0){e&&i&&(s&&(e.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===r?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i,r=!0){const s=_=>{if(_)return"relative"===getComputedStyle(_).getPropertyValue("position")?_:s(_.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=i.offsetHeight,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),d=this.getViewport(),f=s(e)?.getBoundingClientRect()||{top:-1*c,left:-1*u};let p,m;l.top+a+o.height>d.height?(p=l.top-f.top-o.height,e.style.transformOrigin="bottom",l.top+p<0&&(p=-1*l.top)):(p=a+l.top-f.top,e.style.transformOrigin="top");const g=l.left+o.width-d.width;m=o.width>d.width?-1*(l.left-f.left):g>0?l.left-f.left-g:l.left-f.left,e.style.top=p+"px",e.style.left=m+"px",r&&(e.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,i,r=!0){const s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=s.height,a=s.width,l=i.offsetHeight,c=i.offsetWidth,u=i.getBoundingClientRect(),d=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport();let p,m;u.top+l+o>f.height?(p=u.top+d-o,e.style.transformOrigin="bottom",p<0&&(p=d)):(p=l+u.top+d,e.style.transformOrigin="top"),m=u.left+a>f.width?Math.max(0,u.left+h+c-a):u.left+h,e.style.top=p+"px",e.style.left=m+"px",r&&(e.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let d=this.findSingle(a,u);d&&o(d)&&i.push(d)}}9!==a.nodeType&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=e.getBoundingClientRect(),u=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,d=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(i);u<0?e.scrollTop=d+u:u+f>h&&(e.scrollTop=d+u-h+f)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,s=0,o=function(){s=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,i){var r=1,a=50/i;let l=setInterval(()=>{(r-=a)<=0&&(r=0,clearInterval(l)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||s.clientWidth,height:e.innerHeight||r.clientHeight||s.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,i=""){let r=this.find(e,this.getFocusableSelectorString(i)),s=[];for(let o of r){const a=getComputedStyle(o);this.isVisible(o)&&"none"!=a.display&&"hidden"!=a.visibility&&s.push(o)}return s}static getFocusableElement(e,i=""){let r=this.findSingle(e,this.getFocusableSelectorString(i));if(r){const s=getComputedStyle(r);if(this.isVisible(r)&&"none"!=s.display&&"hidden"!=s.visibility)return r}return null}static getFirstFocusableElement(e,i){const r=this.getFocusableElements(e,i);return r.length>0?r[0]:null}static getLastFocusableElement(e,i){const r=this.getFocusableElements(e,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(e,i=!1){const r=n.getFocusableElements(e);let s=0;if(r&&r.length>0){const o=r.indexOf(r[0].ownerDocument.activeElement);i?s=-1==o||0===o?r.length-1:o-1:-1!=o&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof e;if("string"===r)return document.querySelector(e);if("object"===r&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const o=(a=e)&&a.constructor&&a.call&&a.apply?e():e;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){const r=e.getAttribute(i);return isNaN(r)?"true"===r||"false"===r?"true"===r:r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}}return n})(),y1e=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(e,i,r,s,o,a){this.document=e,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){vr(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if(En.removeClass(i,"p-ink-active"),!En.getHeight(i)&&!En.getWidth(i)){let a=Math.max(En.getOuterWidth(this.el.nativeElement),En.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=En.getOffset(this.el.nativeElement),s=e.pageX-r.left+this.document.body.scrollTop-En.getWidth(i)/2,o=e.pageY-r.top+this.document.body.scrollLeft-En.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),En.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&En.removeClass(a,"p-ink-active")},401)}getInk(){const e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if("string"==typeof e[i].className&&-1!==e[i].className.indexOf("p-ink"))return e[i];return null}resetInk(){let e=this.getInk();e&&En.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),En.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,En.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(y(Ct),y(di),y(Di),y($e),y(Ae),y($8,8))};static \u0275dir=ee({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return n})(),b1e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=be({imports:[vn]})}return n})();const x1e=["itemsContainer"],T1e=["indicatorContent"];function C1e(n,t){1&n&&Dl(0)}function w1e(n,t){if(1&n&&(x(0,"div",11),qs(1),F(2,C1e,1,0,"ng-container",12),T()),2&n){const e=V();w(2),D("ngTemplateOutlet",e.headerTemplate)}}function S1e(n,t){1&n&&te(0,"ChevronLeftIcon",17),2&n&&D("styleClass","carousel-prev-icon")}function D1e(n,t){1&n&&te(0,"ChevronUpIcon",17),2&n&&D("styleClass","carousel-prev-icon")}function E1e(n,t){if(1&n&&(If(0),F(1,S1e,1,1,"ChevronLeftIcon",16),F(2,D1e,1,1,"ChevronUpIcon",16),kf()),2&n){const e=V(2);w(1),D("ngIf",!e.isVertical()),w(1),D("ngIf",e.isVertical())}}function A1e(n,t){}function I1e(n,t){1&n&&F(0,A1e,0,0,"ng-template")}function k1e(n,t){if(1&n&&(x(0,"span",18),F(1,I1e,1,0,null,12),T()),2&n){const e=V(2);w(1),D("ngTemplateOutlet",e.previousIconTemplate)}}const M1e=function(n){return{"p-carousel-prev p-link":!0,"p-disabled":n}};function R1e(n,t){if(1&n){const e=Bt();x(0,"button",13),$("click",function(r){return Qe(e),Ze(V().navBackward(r))}),F(1,E1e,3,2,"ng-container",14),F(2,k1e,2,1,"span",15),T()}if(2&n){const e=V();D("ngClass",Ai(5,M1e,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),xe("aria-label",e.ariaPrevButtonLabel()),w(1),D("ngIf",!e.previousIconTemplate),w(1),D("ngIf",e.previousIconTemplate)}}function N1e(n,t){1&n&&Dl(0)}const K8=function(n,t,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}},NM=function(n){return{$implicit:n}};function P1e(n,t){if(1&n&&(x(0,"div",2),F(1,N1e,1,0,"ng-container",19),T()),2&n){const e=t.$implicit,i=t.index,r=V();D("ngClass",$u(6,K8,-1*r.totalShiftedItems===r.value.length,0===i,r.clonedItemsForStarting.length-1===i)),xe("aria-hidden",-1*r.totalShiftedItems!==r.value.length)("aria-label",r.ariaSlideNumber(i))("aria-roledescription",r.ariaSlideLabel()),w(1),D("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Ai(10,NM,e))}}function O1e(n,t){1&n&&Dl(0)}const L1e=function(n,t,e){return{"p-carousel-item":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}};function F1e(n,t){if(1&n&&(x(0,"div",2),F(1,O1e,1,0,"ng-container",19),T()),2&n){const e=t.$implicit,i=t.index,r=V();D("ngClass",$u(6,L1e,r.firstIndex()<=i&&r.lastIndex()>=i,r.firstIndex()===i,r.lastIndex()===i)),xe("aria-hidden",-1*r.totalShiftedItems!==r.value.length)("aria-label",r.ariaSlideNumber(i))("aria-roledescription",r.ariaSlideLabel()),w(1),D("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Ai(10,NM,e))}}function V1e(n,t){1&n&&Dl(0)}function B1e(n,t){if(1&n&&(x(0,"div",2),F(1,V1e,1,0,"ng-container",19),T()),2&n){const e=t.$implicit,i=t.index,r=V();D("ngClass",$u(3,K8,-1*r.totalShiftedItems===r.numVisible,0===i,r.clonedItemsForFinishing.length-1===i)),w(1),D("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Ai(7,NM,e))}}function H1e(n,t){1&n&&te(0,"ChevronRightIcon",17),2&n&&D("styleClass","carousel-prev-icon")}function $1e(n,t){1&n&&te(0,"ChevronDownIcon",17),2&n&&D("styleClass","carousel-prev-icon")}function U1e(n,t){if(1&n&&(If(0),F(1,H1e,1,1,"ChevronRightIcon",16),F(2,$1e,1,1,"ChevronDownIcon",16),kf()),2&n){const e=V(2);w(1),D("ngIf",!e.isVertical()),w(1),D("ngIf",e.isVertical())}}function G1e(n,t){}function z1e(n,t){1&n&&F(0,G1e,0,0,"ng-template")}function j1e(n,t){if(1&n&&(x(0,"span",18),F(1,z1e,1,0,null,12),T()),2&n){const e=V(2);w(1),D("ngTemplateOutlet",e.nextIconTemplate)}}const W1e=function(n){return{"p-carousel-next p-link":!0,"p-disabled":n}};function q1e(n,t){if(1&n){const e=Bt();x(0,"button",13),$("click",function(r){return Qe(e),Ze(V().navForward(r))}),F(1,U1e,3,2,"ng-container",14),F(2,j1e,2,1,"span",15),T()}if(2&n){const e=V();D("ngClass",Ai(5,W1e,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),xe("aria-label",e.ariaNextButtonLabel()),w(1),D("ngIf",!e.nextIconTemplate),w(1),D("ngIf",e.nextIconTemplate)}}const Y1e=function(n){return{"p-carousel-indicator":!0,"p-highlight":n}};function K1e(n,t){if(1&n){const e=Bt();x(0,"li",2)(1,"button",22),$("click",function(r){const o=Qe(e).index;return Ze(V(2).onDotClick(r,o))}),T()()}if(2&n){const e=t.index,i=V(2);D("ngClass",Ai(9,Y1e,i._page===e)),xe("data-pc-section","indicator"),w(1),Ei(i.indicatorStyleClass),D("ngClass","p-link")("ngStyle",i.indicatorStyle)("tabindex",i._page===e?0:-1),xe("aria-label",i.ariaPageLabel(e+1))("aria-current",i._page===e?"page":void 0)}}function X1e(n,t){if(1&n){const e=Bt();x(0,"ul",20,21),$("keydown",function(r){return Qe(e),Ze(V().onIndicatorKeydown(r))}),F(2,K1e,2,11,"li",8),T()}if(2&n){const e=V();Ei(e.indicatorsContentClass),D("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),w(2),D("ngForOf",e.totalDotsArray())}}function Q1e(n,t){1&n&&Dl(0)}function Z1e(n,t){if(1&n&&(x(0,"div",23),qs(1,1),F(2,Q1e,1,0,"ng-container",12),T()),2&n){const e=V();w(2),D("ngTemplateOutlet",e.footerTemplate)}}const J1e=[[["p-header"]],[["p-footer"]]],eSe=function(n,t){return{"p-carousel p-component":!0,"p-carousel-vertical":n,"p-carousel-horizontal":t}},tSe=function(n){return{height:n}},nSe=["p-header","p-footer"];let iSe=(()=>{class n{el;zone;cd;renderer;document;platformId;config;get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&this.stopAutoplay(),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}responsiveOptions;orientation="horizontal";verticalViewPortHeight="300px";contentClass="";indicatorsContentClass="";indicatorsContentStyle;indicatorStyleClass="";indicatorStyle;get value(){return this._value}set value(e){this._value=e}circular=!1;showIndicators=!0;showNavigators=!0;autoplayInterval=0;style;styleClass;onPage=new K;itemsContainer;indicatorContent;headerFacet;footerFacet;templates;_numVisible=1;_numScroll=1;_oldNumScroll=0;prevState={numScroll:0,numVisible:0,value:[]};defaultNumScroll=1;defaultNumVisible=1;_page=0;_value;carouselStyle;id;totalShiftedItems;isRemainingItemsAdded=!1;animationTimeout;translateTimeout;remainingItems=0;_items;startPos;documentResizeListener;clonedItemsForStarting;clonedItemsForFinishing;allowAutoplay;interval;isCreated;swipeThreshold=20;itemTemplate;headerTemplate;footerTemplate;previousIconTemplate;nextIconTemplate;window;constructor(e,i,r,s,o,a,l){this.el=e,this.zone=i,this.cd=r,this.renderer=s,this.document=o,this.platformId=a,this.config=l,this.totalShiftedItems=this.page*this.numScroll*-1,this.window=this.document.defaultView}ngOnChanges(e){vr(this.platformId)&&(e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))),this.cd.markForCheck()}ngAfterContentInit(){this.id=function m1e(n="pn_id_"){return`${n}${++z8}`}(),vr(this.platformId)&&(this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners()),this.templates?.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template}}),this.cd.detectChanges()}ngAfterContentChecked(){if(vr(this.platformId)){const e=this.isCircular();let i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(!1),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let r=this._page;0!==this.totalDots()&&r>=this.totalDots()&&(r=this.totalDots()-1,this._page=r,this.onPage.emit({page:this.page})),i=r*this._numScroll*-1,e&&(i-=this._numVisible),r===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?i=-1*this._numVisible:0===i&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}}createStyle(){this.carouselStyle||(this.carouselStyle=this.renderer.createElement("style"),this.carouselStyle.type="text/css",this.renderer.appendChild(this.document.head,this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,r)=>{const s=i.breakpoint,o=r.breakpoint;let a=null;return a=null==s&&null!=o?-1:null!=s&&null==o?1:null==s&&null==o?0:"string"==typeof s&&"string"==typeof o?s.localeCompare(o,void 0,{numeric:!0}):s<o?-1:s>o?1:0,-1*a});for(let i=0;i<this.responsiveOptions.length;i++){let r=this.responsiveOptions[i];e+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};if(typeof window<"u"){let i=window.innerWidth;for(let r=0;r<this.responsiveOptions.length;r++){let s=this.responsiveOptions[r];parseInt(s.breakpoint,10)>=i&&(e=s)}}if(this._numScroll!==e.numScroll){let i=this._page;i=Math.floor(i*this._numScroll/e.numScroll);let r=e.numScroll*this.page*-1;this.isCircular()&&(r-=e.numVisible),this.totalShiftedItems=r,this._numScroll=e.numScroll,this._page=i,this.onPage.emit({page:this.page})}this._numVisible!==e.numVisible&&(this._numVisible=e.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?.length?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&this.stopAutoplay(),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||0!==this._page)&&this.step(1,i),this.autoplayInterval&&this.stopAutoplay(),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let r=this._page;this.autoplayInterval&&this.stopAutoplay(),i>r?this.navForward(e,i):i<r&&this.navBackward(e,i)}onIndicatorKeydown(e){switch(e.code){case"ArrowRight":this.onRightKey();break;case"ArrowLeft":this.onLeftKey()}}onRightKey(){const e=[...En.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,i+1===e.length?e.length-1:i+1)}onLeftKey(){const e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,e-1<=0?0:e-1)}onHomeKey(){const e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,0)}onEndKey(){const e=[...En.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]r')],i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,e.length-1)}onTabKey(){const e=[...En.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=e.findIndex(o=>!0===En.getAttribute(o,"data-p-highlight")),r=En.findSingle(this.indicatorContent.nativeElement,'[data-pc-section="indicator"] > button[tabindex="0"]'),s=e.findIndex(o=>o===r.parentElement);e[s].children[0].tabIndex="-1",e[i].children[0].tabIndex="0"}findFocusedIndicatorIndex(){const e=[...En.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=En.findSingle(this.indicatorContent.nativeElement,'[data-pc-section="indicator"] > button[tabindex="0"]');return e.findIndex(r=>r===i.parentElement)}changedFocusedIndicator(e,i){const r=[...En.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')];r[e].children[0].tabIndex="-1",r[i].children[0].tabIndex="0",r[i].children[0].focus()}step(e,i){let r=this.totalShiftedItems;const s=this.isCircular();null!=i?(r=this._numScroll*i*-1,s&&(r-=this._numVisible),this.isRemainingItemsAdded=!1):(r+=this._numScroll*e,this.isRemainingItemsAdded&&(r+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),i=Math.abs(Math.floor((s?r+this._numVisible:r)/this._numScroll))),s&&this.page===this.totalDots()-1&&-1===e?(r=-1*(this.value.length+this._numVisible),i=0):s&&0===this.page&&1===e?(r=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(r+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${r*(100/this._numVisible)}%, 0)`:`translate3d(${r*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=r,this._page=i,this.onPage.emit({page:this.page}),this.cd.markForCheck()}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval),this.allowAutoplay=!0,this.cd.markForCheck()}stopAutoplay(e=!0){this.interval&&(clearInterval(this.interval),this.interval=void 0,e&&(this.allowAutoplay=!1)),this.cd.markForCheck()}isPlaying(){return!!this.interval}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}ariaPrevButtonLabel(){return this.config.translation.aria?this.config.translation.aria.prevPageLabel:void 0}ariaSlideLabel(){return this.config.translation.aria?this.config.translation.aria.slide:void 0}ariaNextButtonLabel(){return this.config.translation.aria?this.config.translation.aria.nextPageLabel:void 0}ariaSlideNumber(e){return this.config.translation.aria?this.config.translation.aria.slideNumber.replace(/{slideNumber}/g,e):void 0}ariaPageLabel(e){return this.config.translation.aria?this.config.translation.aria.pageLabel.replace(/{page}/g,e):void 0}bindDocumentListeners(){vr(this.platformId)&&(this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{this.calculatePosition()})))}unbindDocumentListeners(){vr(this.platformId)&&this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}static \u0275fac=function(i){return new(i||n)(y($e),y(Ae),y(hi),y(Di),y(Ct),y(di),y($8))};static \u0275cmp=Ve({type:n,selectors:[["p-carousel"]],contentQueries:function(i,r,s){if(1&i&&(_n(s,p1e,5),_n(s,g1e,5),_n(s,U8,4)),2&i){let o;Pt(o=Ot())&&(r.headerFacet=o.first),Pt(o=Ot())&&(r.footerFacet=o.first),Pt(o=Ot())&&(r.templates=o)}},viewQuery:function(i,r){if(1&i&&(Ml(x1e,5),Ml(T1e,5)),2&i){let s;Pt(s=Ot())&&(r.itemsContainer=s.first),Pt(s=Ot())&&(r.indicatorContent=s.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:["circular","circular",Ii],showIndicators:["showIndicators","showIndicators",Ii],showNavigators:["showNavigators","showNavigators",Ii],autoplayInterval:["autoplayInterval","autoplayInterval",Nie],style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[ko,kt],ngContentSelectors:nSe,decls:14,vars:23,consts:[["role","region",3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle","touchend","touchstart","touchmove"],[1,"p-carousel-items-container",3,"transitionend"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle","keydown",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngIf"],["class","p-carousel-prev-icon",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-carousel-prev-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass","ngStyle","keydown"],["indicatorContent",""],["type","button",3,"ngClass","ngStyle","tabindex","click"],[1,"p-carousel-footer"]],template:function(i,r){1&i&&(Mo(J1e),x(0,"div",0),F(1,w1e,3,1,"div",1),x(2,"div",2)(3,"div",3),F(4,R1e,3,7,"button",4),x(5,"div",5),$("touchend",function(o){return r.onTouchEnd(o)})("touchstart",function(o){return r.onTouchStart(o)})("touchmove",function(o){return r.onTouchMove(o)}),x(6,"div",6,7),$("transitionend",function(){return r.onTransitionEnd()}),F(8,P1e,2,12,"div",8),F(9,F1e,2,12,"div",8),F(10,B1e,2,9,"div",8),T()(),F(11,q1e,3,7,"button",4),T(),F(12,X1e,3,5,"ul",9),T(),F(13,Z1e,3,1,"div",10),T()),2&i&&(Ei(r.styleClass),D("ngClass",Ro(18,eSe,r.isVertical(),!r.isVertical()))("ngStyle",r.style),xe("id",r.id),w(1),D("ngIf",r.headerFacet||r.headerTemplate),w(1),Ei(r.contentClass),D("ngClass","p-carousel-content"),w(1),xe("aria-live",r.allowAutoplay?"polite":"off"),w(1),D("ngIf",r.showNavigators),w(1),D("ngStyle",Ai(21,tSe,r.isVertical()?r.verticalViewPortHeight:"auto")),w(3),D("ngForOf",r.clonedItemsForStarting),w(1),D("ngForOf",r.value),w(1),D("ngForOf",r.clonedItemsForFinishing),w(1),D("ngIf",r.showNavigators),w(1),D("ngIf",r.showIndicators),w(1),D("ngIf",r.footerFacet||r.footerTemplate))},dependencies:function(){return[Pl,fi,ti,Ol,vB,y1e,q8,W8,j8,Y8]},styles:["@layer primeng{.p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}}\n"],encapsulation:2,changeDetection:0})}return n})(),rSe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Te({type:n});static \u0275inj=be({imports:[vn,G8,b1e,q8,W8,j8,Y8,vn,G8]})}return n})();function sSe(n,t){1&n&&(x(0,"div"),H(1,"No animes available"),T())}function oSe(n,t){if(1&n){const e=Bt();x(0,"div",24),$("click",function(){const s=Qe(e).$implicit;return Ze(V(2).openModal(s))}),te(1,"img",25),T()}if(2&n){const e=t.$implicit;w(1),D("src",e.image,xa)("alt",e.name)}}function aSe(n,t){if(1&n&&(x(0,"div")(1,"p-carousel",22),F(2,oSe,2,2,"ng-template",23),T()()),2&n){const e=V();w(1),D("value",e.animesAiring)("numVisible",e.numVisible)("numScroll",1)("circular",!0)("showIndicators",!1)}}function lSe(n,t){if(1&n){const e=Bt();x(0,"div",26)(1,"div",27)(2,"img",28),$("click",function(){const s=Qe(e).$implicit;return Ze(V().openModal(s))}),T(),x(3,"p",29),H(4),T()()()}if(2&n){const e=t.$implicit;w(2),D("src",e.image,xa),w(2),zn(e.name)}}function cSe(n,t){1&n&&(x(0,"div",30),te(1,"div",31),T())}let uSe=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u,d){this.spotify=e,this.alertService=i,this.apiGamesServive=r,this.apiMoviesService=s,this.apiSerieService=o,this.apiAnimeService=a,this.modalService=l,this.apiBookService=c,this.dataService=u,this.router=d,this.recomendaciones=[],this.animes=[],this.animesRange=[],this.opTipos=[],this.numPage=1,this.numPageMovie=1,this.numPageSeries=1,this.numPageGames=1,this.startIndexMusic=0,this.maxResultsMusic=24,this.search="",this.numVisible=0,this.isModalOpen=!1,this.books=[],this.startIndex=0,this.maxResults=24,this.message="",this.alert="",this.data=[],this.animesAiring=[],this.loading=!1,this.opcionSeleccionada=""}ngOnInit(){var e=this;return S(function*(){e.numVisible=window.innerWidth<=768?1:6,window.addEventListener("resize",()=>{e.numVisible=window.innerWidth<=768?1:6})})()}loadData(e){var i=this;return S(function*(){try{i.loading=!0,"Movies"===e?yield i.getMovies():"Series"===e?yield i.getSeries():"Animes"===e?yield i.getAnime():"Games"===e?yield i.getGames():"Books"===e?yield i.getBooks():"Music"===e&&(yield i.getMusic())}catch(r){console.error("Error:",r)}finally{i.loading=!1}})()}getMusic(){this.message="Music",this.dataAiring(),this.spotify.getAlbums(this.startIndexMusic,this.maxResultsMusic).subscribe(e=>{this.data=[],console.log(e),e.albums.items.forEach(i=>{this.data.push({name:i.name,image:i.images[0].url,info:"Artist: "+i.artists[0].name+", Fecha Salida: "+i.release_date,releaseDate:i.release_date,randomData:i.total_tracks})})})}getAnime(){var e=this;return S(function*(){e.message="Animes",e.dataAiring();try{e.loading=!0,yield e.apiAnimeService.getAnimeByPage(e.numPage).subscribe(i=>{e.data=[],console.log(i),i.data.forEach(r=>{e.data.push({name:r.title,image:r.images.jpg.image_url,info:r.synopsis,releaseDate:r.year,randomData:r.score})})})}catch(i){console.error("Error getAnime:",i)}finally{e.loading=!1}})()}getBooks(){var e=this;return S(function*(){e.loading=!0,e.message="Books",e.dataAiring(),yield e.apiBookService.getBooks(e.startIndex,e.maxResults).subscribe(i=>{const r=i.items.filter(s=>s.volumeInfo.imageLinks&&s.volumeInfo.imageLinks.thumbnail);e.data=[],console.log(i),r.forEach(s=>{e.data.push({name:s.volumeInfo.title,image:s.volumeInfo.imageLinks.thumbnail,info:s.volumeInfo.description,releaseDate:s.volumeInfo.publishedDate,randomData:s.volumeInfo.pageCount})})})})()}getMovies(){var e=this;return S(function*(){e.message="Movies",e.dataAiring(),yield e.apiMoviesService.getMovies(e.numPageMovie).subscribe(i=>{const r=i.results.filter(s=>s.poster_path);e.data=[],console.log(i),r.forEach(s=>{e.data.push({name:s.title,image:"https://image.tmdb.org/t/p/w500"+s.poster_path,info:s.overview,releaseDate:s.release_date,randomData:s.vote_average})})})})()}getSeries(){var e=this;return S(function*(){e.message="Series",e.dataAiring(),yield e.apiSerieService.getSeries(e.numPageSeries).subscribe(i=>{e.data=[],console.log(i),i.results.forEach(r=>{e.data.push({name:r.name,image:"https://image.tmdb.org/t/p/w500"+r.poster_path,info:r.overview,releaseDate:r.first_air_date,randomData:r.vote_average})})})})()}getGames(){var e=this;return S(function*(){e.message="Games",e.dataAiring(),yield e.apiGamesServive.getGames(e.numPageGames).subscribe(i=>{e.data=[],console.log(i),console.log(i),i.forEach(r=>{e.data.push({name:r.title,image:r.image_url,info:r.overview,releaseDate:"NC",randomData:r.platform_name})})})})()}getAnimeAiring(){var e=this;return S(function*(){yield e.apiAnimeService.getAnimeAiring().subscribe(i=>{e.animesAiring=[],i.data.forEach(r=>{e.animesAiring.push({name:r.title,image:r.images.jpg.image_url,info:r.synopsis})})})})()}getBooksByNew(){var e=this;return S(function*(){yield e.apiBookService.getBooksByNew().subscribe(i=>{const r=i.items.filter(s=>s.volumeInfo.imageLinks&&s.volumeInfo.imageLinks.thumbnail);e.animesAiring=[],r.forEach(s=>{e.animesAiring.push({name:s.volumeInfo.title,image:s.volumeInfo.imageLinks.thumbnail,info:s.volumeInfo.description})})})})()}getFormattedDate(e){const i=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0");return`${e.getFullYear()}-${r}-${i}`}getCurrentMonth(e){const i=new Date,r=new Date(i.getFullYear(),i.getMonth()+e,1);return console.log(this.getFormattedDate(r)),this.getFormattedDate(r)}getMoviesAiring(){var e=this;return S(function*(){yield e.apiMoviesService.getMoviesAiring(e.getCurrentMonth(0),e.getCurrentMonth(1)).subscribe(i=>{e.animesAiring=[],console.log(i),i.results.filter(s=>s.poster_path).forEach(s=>{e.animesAiring.push({name:s.title,image:"https://image.tmdb.org/t/p/original"+s.poster_path,info:s.overview})})})})()}getSeriesAiring(){var e=this;return S(function*(){yield e.apiSerieService.getSeriesAiring(e.getCurrentMonth(0),e.getCurrentMonth(1)).subscribe(i=>{e.animesAiring=[],console.log(i),i.results.filter(s=>s.poster_path).forEach(s=>{e.animesAiring.push({name:s.name,image:"https://image.tmdb.org/t/p/original"+s.poster_path,info:s.overview})})})})()}getGamesByPc(){var e=this;return S(function*(){yield e.apiGamesServive.getGamesByPC(1).subscribe(i=>{e.animesAiring=[],i.forEach(r=>{e.animesAiring.push({name:r.title,image:r.image_url,info:r.overview})})})})()}getMusicAiring(){var e=this;return S(function*(){yield e.spotify.getAlbumsAiring().subscribe(i=>{e.animesAiring=[],console.log(i),i.artists.items.forEach(r=>{e.animesAiring.push({name:r.name,image:r.images[0].url,info:" "})})})})()}searchAnimesByName(){var e=this;return S(function*(){e.data=[],yield e.apiAnimeService.searchAnimesByName(e.search,e.numPage).subscribe(i=>{i.data.forEach(r=>{e.data.push({name:r.title,image:r.images.jpg.image_url,info:r.synopsis,releaseDate:r.year,randomData:r.score})})})})()}getBooksByName(){var e=this;return S(function*(){e.data=[],yield e.apiBookService.getBooksByName(e.search).subscribe(i=>{i.items&&i.items.filter(s=>s.volumeInfo.imageLinks&&s.volumeInfo.imageLinks.thumbnail).forEach(s=>{e.data.push({name:s.volumeInfo.title,image:s.volumeInfo.imageLinks.thumbnail,info:s.volumeInfo.description,releaseDate:s.volumeInfo.publishedDate,randomData:s.volumeInfo.pageCount})})})})()}searchMoviesByName(){var e=this;return S(function*(){yield e.apiMoviesService.seachMovies(e.search).subscribe(i=>{const r=i.results.filter(s=>s.poster_path);e.data=[],r.forEach(s=>{e.data.push({name:s.title,image:"https://image.tmdb.org/t/p/original"+s.poster_path,info:s.overview,releaseDate:s.release_date,randomData:s.vote_average})})})})()}searchSeriesByName(){var e=this;return S(function*(){yield e.apiSerieService.seachSeries(e.search).subscribe(i=>{const r=i.results.filter(s=>s.poster_path);e.data=[],r.forEach(s=>{e.data.push({name:s.name,image:"https://image.tmdb.org/t/p/original"+s.poster_path,info:s.overview,releaseDate:s.first_air_date,randomData:s.vote_average})})})})()}seachGamesByName(){var e=this;return S(function*(){yield e.apiGamesServive.seachGames(e.search).subscribe(i=>{e.data=[],i.forEach(r=>{e.data.push({name:r.title,image:r.image_url,info:r.overview,releaseDate:"NC",randomData:r.platform_name})})})})()}seachMusicByName(){var e=this;return S(function*(){yield e.spotify.getAlbumsByName(e.search,e.maxResultsMusic).subscribe(i=>{e.data=[],i.albums.items.forEach(r=>{e.data.push({name:r.name,image:r.images[0].url,info:"Artist: "+r.artists[0].name,releaseDate:r.release_date,randomData:r.total_tracks})})})})()}dataAiring(){console.log("wait"+this.message),"Animes"==this.message&&this.getAnimeAiring(),"Books"==this.message&&this.getBooksByNew(),"Movies"==this.message&&this.getMoviesAiring(),"Series"==this.message&&this.getSeriesAiring(),"Games"==this.message&&this.getGamesByPc(),"Music"==this.message&&this.getMusicAiring()}searchData(){"Animes"==this.message&&this.searchAnimesByName(),"Books"==this.message&&this.getBooksByName(),"Movies"==this.message&&this.searchMoviesByName(),"Series"==this.message&&this.searchSeriesByName(),"Games"==this.message&&this.seachGamesByName(),"Music"==this.message&&this.seachMusicByName()}aumentarNumero(){"Animes"==this.message&&(this.numPage++,this.getAnime()),"Movies"==this.message&&(this.numPageMovie++,this.getMovies()),"Series"==this.message&&(this.numPageSeries++,this.getSeries()),"Books"==this.message&&(this.startIndex+=this.maxResults,this.getBooks()),"Games"==this.message&&(this.numPageGames++,this.getGames()),"Music"==this.message&&(this.startIndexMusic+=this.maxResultsMusic,this.getMusic())}restNumber(){"Animes"==this.message&&(this.numPage--,this.getAnime()),"Movies"==this.message&&(this.numPageMovie--,this.getMovies()),"Series"==this.message&&(this.numPageSeries--,this.getSeries()),"Games"==this.message&&(this.numPageGames--,this.getGames()),"Books"==this.message&&(this.startIndex-=this.maxResults,this.getBooks()),"Music"==this.message&&(this.startIndexMusic-=this.maxResultsMusic,this.getMusic())}openModal(e){const i=this.modalService.open(o1e,{centered:!0});i.componentInstance.data=e,i.componentInstance.type=this.message}static#e=this.\u0275fac=function(i){return new(i||n)(y(a1e),y(vy),y(l1e),y(c1e),y(u1e),y(d1e),y(IM),y(h1e),y(Sc),y(ni))};static#t=this.\u0275cmp=Ve({type:n,selectors:[["app-discover-page"]],decls:40,vars:5,consts:[[1,"body"],[3,"click"],[1,"uil","uil-letter-japanese-a"],[1,"uil","uil-ticket"],[1,"uil","uil-files-landscapes"],[1,"uil","uil-book-alt"],[1,"uil","uil-basketball-hoop"],[1,"uil","uil-music"],[1,"container","list","col-lg-12"],[4,"ngIf"],[1,"row","nbar","col-lg-12","col-12",2,"margin-bottom","3%"],[1,"col-lg-6","col-4","col-md-6",2,"text-align","left"],[1,"uil","buttonNav","uil-angle-left",3,"click"],[1,"uil","buttonNav","uil-angle-right",3,"click"],[1,"col-lg-5","col-4","col-md-5"],["type","search","aria-label","Search","name","search",1,"form-control","me-2",2,"background-color","transparent","color","white",3,"ngModel","ngModelChange"],[1,"col-lg-1","col-2","col-md-1"],[1,"b1","btn",3,"click"],[1,"table-container"],[1,"row"],["class","col-lg-2 col-6 col-md-4",4,"ngFor","ngForOf"],["class","loading-overlay",4,"ngIf"],[3,"value","numVisible","numScroll","circular","showIndicators"],["pTemplate","item"],[1,"cardCircule",3,"click"],[1,"imagen",3,"src","alt"],[1,"col-lg-2","col-6","col-md-4"],[1,"card"],["alt","#",1,"imagen",3,"src","click"],[1,"title"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"header")(2,"button",1),$("click",function(){return r.loadData("Animes")}),te(3,"i",2),H(4," Anime"),T(),x(5,"button",1),$("click",function(){return r.loadData("Movies")}),te(6,"i",3),H(7," Peliculas"),T(),x(8,"button",1),$("click",function(){return r.loadData("Series")}),te(9,"i",4),H(10," Series"),T(),x(11,"button",1),$("click",function(){return r.loadData("Books")}),te(12,"i",5),H(13," Libros"),T(),x(14,"button",1),$("click",function(){return r.loadData("Games")}),te(15,"i",6),H(16," Juegos"),T(),x(17,"button",1),$("click",function(){return r.loadData("Music")}),te(18,"i",7),H(19," Musica"),T()(),x(20,"div",8)(21,"h4"),H(22,"Airing"),T(),F(23,sSe,2,0,"div",9),F(24,aSe,3,5,"div",9),x(25,"h4"),H(26,"Lista de Animes"),T(),x(27,"div",10)(28,"div",11)(29,"i",12),$("click",function(){return r.restNumber()}),T(),x(30,"i",13),$("click",function(){return r.aumentarNumero()}),T()(),x(31,"div",14)(32,"input",15),$("ngModelChange",function(o){return r.search=o}),T()(),x(33,"div",16)(34,"button",17),$("click",function(){return r.searchData()}),H(35,"Buscar"),T()()(),x(36,"div",18)(37,"div",19),F(38,lSe,5,2,"div",20),T()()(),F(39,cSe,2,0,"div",21),T()),2&i&&(w(23),D("ngIf",0===r.animesAiring.length),w(1),D("ngIf",r.animesAiring.length>0),w(8),D("ngModel",r.search),w(6),D("ngForOf",r.data),w(1),D("ngIf",r.loading))},dependencies:[fi,ti,ih,jg,oh,iSe,U8],styles:[".body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px;height:calc(102vh - 60px)}.card[_ngcontent-%COMP%]{padding:5px;margin:5px;background-color:transparent;border:none}.cardCircule[_ngcontent-%COMP%]{width:170px;height:170px;border-radius:50%;overflow:hidden;margin-left:4%;border:.5px solid #ffffff}.cardCircule[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}mat-icon[_ngcontent-%COMP%]{margin-right:10px}nav[_ngcontent-%COMP%]{background-color:#121212}.imagen[_ngcontent-%COMP%]{width:100%;height:250px;border:1px solid #000000;border-radius:10px}h4[_ngcontent-%COMP%]{text-align:left;margin-bottom:2%;margin-top:2%}.list[_ngcontent-%COMP%]{max-height:calc(92vh - 60px);overflow-y:auto}.list[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}header[_ngcontent-%COMP%]{background-color:transparent;color:#fff;padding:5px 20px;text-align:right;border-radius:10px}.perfil-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}.title[_ngcontent-%COMP%]{color:#fff;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}.buttonNav[_ngcontent-%COMP%]{font-size:30px}button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;margin-right:2%;border:none}.b1[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border-radius:5px;margin-right:2%;border:1px solid #ffffff}button[_ngcontent-%COMP%]:hover{background-color:#e5ff00;color:#000;border:none;border-radius:5px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000c4;display:flex;justify-content:center;align-items:center;z-index:1000}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#333;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@media (max-width:1000px){.imagen[_ngcontent-%COMP%]{height:180px}.title[_ngcontent-%COMP%]{display:none}.cardCircule[_ngcontent-%COMP%]{margin-left:20%}}"]})}return n})();const dSe=function(n){return{selected:n}};function hSe(n,t){if(1&n){const e=Bt();x(0,"span",32),$("click",function(){const s=Qe(e).index,o=V().$implicit;return Ze(V().rate(o,s+1))}),H(1," \u2605 "),T()}if(2&n){const e=t.index,i=V().$implicit;D("ngClass",Ai(1,dSe,e+1<=i.score))}}function fSe(n,t){if(1&n&&(x(0,"option",35),H(1),T()),2&n){const e=t.$implicit;D("value",e),w(1),zn(e)}}function pSe(n,t){if(1&n){const e=Bt();x(0,"div",24)(1,"select",33),$("ngModelChange",function(r){return Qe(e),Ze(V().$implicit.type=r)}),F(2,fSe,2,2,"option",34),T()()}if(2&n){const e=V().$implicit,i=V();w(1),D("ngModel",e.type),w(1),D("ngForOf",i.opTipos[0])}}function gSe(n,t){if(1&n&&(x(0,"div",36)(1,"p",37),H(2),T()()),2&n){const e=V().$implicit;w(2),Ht("Score: ",e.randomData,"")}}function mSe(n,t){if(1&n&&(x(0,"div",36)(1,"p",37),H(2),T()()),2&n){const e=V().$implicit;w(2),Ht("Page count: ",e.randomData,"")}}function _Se(n,t){if(1&n&&(x(0,"div",36)(1,"p",37),H(2),T()()),2&n){const e=V().$implicit;w(2),Ht("Plataform: ",e.randomData,"")}}function vSe(n,t){if(1&n&&(x(0,"div",36)(1,"p",37),H(2),T()()),2&n){const e=V().$implicit;w(2),Ht("Total Tracks: ",e.randomData,"")}}const ySe=function(n,t){return{liked:n,"not-liked":t}};function bSe(n,t){if(1&n){const e=Bt();x(0,"div",11)(1,"div",12)(2,"div",13),te(3,"img",14),T(),x(4,"div",15)(5,"div")(6,"div",16)(7,"h5",17),H(8),T(),x(9,"div",18)(10,"button",19),$("click",function(){const s=Qe(e).$implicit;return Ze(V().deleteReco(s))}),te(11,"i",20),T(),x(12,"button",21),$("click",function(){const s=Qe(e).$implicit;return Ze(V().toggleLike(s))}),te(13,"i",22),T()()()(),x(14,"div",23)(15,"div",24)(16,"div",25),F(17,hSe,2,3,"span",26),T()(),F(18,pSe,3,2,"div",27),T(),x(19,"div",28)(20,"div")(21,"p",29),H(22),T()(),F(23,gSe,3,1,"div",30),F(24,mSe,3,1,"div",30),F(25,_Se,3,1,"div",30),F(26,vSe,3,1,"div",30),x(27,"div",18)(28,"button",31),$("click",function(){const s=Qe(e).$implicit;return Ze(V().save(s))}),H(29," viewed"),T()()()()()()}if(2&n){const e=t.$implicit,i=V();w(3),D("src",e.image,xa),w(5),zn(e.name),w(4),D("ngClass",Ro(10,ySe,e.liked,!e.liked)),w(5),D("ngForOf",i.stars),w(1),D("ngIf","Games"!==i.type&&"Music"!==i.type),w(4),Ht("Release date: ",e.releaseDate,""),w(1),D("ngIf","Animes"==i.type||"Movies"==i.type||"Series"==i.type),w(1),D("ngIf","Books"==i.type),w(1),D("ngIf","Games"==i.type),w(1),D("ngIf","Music"==i.type)}}function xSe(n,t){1&n&&(x(0,"div",38),te(1,"div",39),T())}const TSe=[{path:"",component:uSe},{path:"Sidebar",component:yW},{path:"Workplace",component:Wbe},{path:"Create",component:Qbe},{path:"Tier",component:nxe},{path:"PendingList",component:(()=>{class n{constructor(e,i,r,s,o,a,l,c,u){this.recoService=e,this.router=i,this.dataService=r,this.musicService=s,this.libroService=o,this.juegosService=a,this.animeService=l,this.movieService=c,this.serieServicio=u,this.dataOriginal=[],this.data=[],this.type="",this.loading=!1,this.opTipos=[],this.stars=Array(5).fill(!1),this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","blue","green","yellow","Pink","White","lightYellow","lightblue","Purple"]]}ngOnInit(){this.getReco()}loadData(e){var i=this;return S(function*(){if(i.type=e,"Animes"===e){i.data=[];for(let r=0;r<i.dataOriginal.length;r++)"Animes"==i.dataOriginal[r].type&&i.data.push(i.dataOriginal[r])}if("Movies"===e){i.data=[];for(let r=0;r<i.dataOriginal.length;r++)"Movies"==i.dataOriginal[r].type&&i.data.push(i.dataOriginal[r])}if("Games"===e){i.data=[];for(let r=0;r<i.dataOriginal.length;r++)"Games"==i.dataOriginal[r].type&&i.data.push(i.dataOriginal[r])}if("Series"===e){i.data=[];for(let r=0;r<i.dataOriginal.length;r++)"Series"==i.dataOriginal[r].type&&i.data.push(i.dataOriginal[r])}if("Books"===e){i.data=[];for(let r=0;r<i.dataOriginal.length;r++)"Books"==i.dataOriginal[r].type&&i.data.push(i.dataOriginal[r])}if("Music"===e){i.data=[];for(let r=0;r<i.dataOriginal.length;r++)"Music"==i.dataOriginal[r].type&&i.data.push(i.dataOriginal[r])}i.orderData()})()}orderData(){this.data.sort((e,i)=>e.liked&&!i.liked?-1:!e.liked&&i.liked?1:0)}getReco(){var e=this;return S(function*(){try{e.loading=!0,e.dataOriginal=yield e.recoService.getReco(),e.dataOriginal.forEach(i=>{i.image="data:image/jpg;base64,"+i.image})}catch(i){console.error("Error:",i)}finally{e.loading=!1}})()}toggleLike(e){var i=this;return S(function*(){e.liked=0==e.liked,yield i.recoService.updateReco(e.id,e.liked)})()}deleteReco(e){var i=this;return S(function*(){yield i.recoService.deleteReco(e.id);const r=i.data.findIndex(s=>s.id===e.id);-1!==r&&i.data.splice(r,1),i.getReco()})()}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}getFormattedDate(e){const i=e.getDate(),r=e.getMonth()+1;return`${e.getFullYear()}-${r}-${i}`}save(e){var i=this;return S(function*(){var r={...e};try{r.image=r.image.split("base64,")[1],"Animes"==i.type&&(yield i.animeService.createAnimes(r)),"Movies"==i.type&&(yield i.movieService.createMovies(r)),"Series"==i.type&&(yield i.serieServicio.createSeries(r)),"Games"==i.type&&(yield i.juegosService.createGames(r)),"Books"==i.type&&(yield i.libroService.createBook(r)),"Music"==i.type&&(yield i.musicService.createMusic(r)),i.deleteReco(e),i.navegarAComponenteDestino(i.type)}catch(s){console.error("Error al guardar el libro:",s)}})()}rate(e,i){e.score=i}static#e=this.\u0275fac=function(i){return new(i||n)(y(B8),y(ni),y(Sc),y(Bg),y($g),y(Ug),y(zg),y(Hg),y(Gg))};static#t=this.\u0275cmp=Ve({type:n,selectors:[["app-pending-list"]],decls:23,vars:2,consts:[[1,"body"],[3,"click"],[1,"uil","uil-letter-japanese-a"],[1,"uil","uil-ticket"],[1,"uil","uil-files-landscapes"],[1,"uil","uil-book-alt"],[1,"uil","uil-basketball-hoop"],[1,"uil","uil-music"],[1,"list",2,"width","80%"],["class","card container",4,"ngFor","ngForOf"],["class","loading-overlay",4,"ngIf"],[1,"card","container"],[1,"row"],[1,"left","col-lg-2",2,"text-align","center","margin-top","1%","margin-bottom","1%"],["alt","#",1,"imagen",3,"src"],[1,"right","col-lg-10","d-flex","flex-column","justify-content-between",2,"margin-top","1%","margin-bottom","1%","text-align","start"],[1,"d-flex","justify-content-between","align-items-center"],[2,"color","white"],[1,"d-flex","justify-content-end","align-items-center"],[1,"btnCard","btn",3,"click"],[1,"iconCard","uil","uil-trash-alt"],[1,"btnCard","btn",3,"ngClass","click"],[1,"iconCard","uil","uil-heart"],[1,"row","col-lg-12"],[1,"col-lg-4"],[1,"star-rating"],["style","margin: 0; padding: 0;",3,"ngClass","click",4,"ngFor","ngForOf"],["class","col-lg-4",4,"ngIf"],[1,"mt-auto","test","d-flex","justify-content-between","align-items-center"],[1,"release-date"],["class","col-lg-6",4,"ngIf"],[1,"b1","btn",3,"click"],[2,"margin","0","padding","0",3,"ngClass","click"],["id","type","name","type","required","",2,"width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-lg-6"],[1,"tags"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"header")(2,"button",1),$("click",function(){return r.loadData("Animes")}),te(3,"i",2),H(4," Anime"),T(),x(5,"button",1),$("click",function(){return r.loadData("Movies")}),te(6,"i",3),H(7," Peliculas"),T(),x(8,"button",1),$("click",function(){return r.loadData("Series")}),te(9,"i",4),H(10," Series"),T(),x(11,"button",1),$("click",function(){return r.loadData("Books")}),te(12,"i",5),H(13," Libros"),T(),x(14,"button",1),$("click",function(){return r.loadData("Games")}),te(15,"i",6),H(16," Juegos"),T(),x(17,"button",1),$("click",function(){return r.loadData("Music")}),te(18,"i",7),H(19," Musica"),T()(),x(20,"div",8),F(21,bSe,30,13,"div",9),T(),F(22,xSe,2,0,"div",10),T()),2&i&&(w(21),D("ngForOf",r.data),w(1),D("ngIf",r.loading))},dependencies:[Pl,fi,ti,lh,ch,ah,jg,uh,oh],styles:[".body[_ngcontent-%COMP%]{margin-top:10px;background-color:#121212;margin-bottom:10px;border-radius:10px;height:calc(102vh - 60px)}.list[_ngcontent-%COMP%]{max-height:calc(95vh - 60px);overflow-y:auto;width:100%;margin:auto}.list[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.card[_ngcontent-%COMP%]{background-color:#252525;margin-top:2%}button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;margin-right:2%;border:none}header[_ngcontent-%COMP%]{background-color:transparent;color:#fff;padding:5px 20px;text-align:right;border-radius:10px}.imagen[_ngcontent-%COMP%]{width:80%;height:180px;border:1px solid #000000;border-radius:10px}.iconCard[_ngcontent-%COMP%]{font-size:15px}.btnCard[_ngcontent-%COMP%]{background-color:#807d7d;margin-left:15%}.btnCard[_ngcontent-%COMP%]:hover{color:#fff;background-color:red}.b1[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border-radius:5px;border:1px solid #ffffff}.b1[_ngcontent-%COMP%]:hover{background-color:#e5ff00;color:#000;border-color:transparent;border-radius:5px}.tags[_ngcontent-%COMP%], .release-date[_ngcontent-%COMP%]{color:#807d7d;font-size:.9em}.liked[_ngcontent-%COMP%]{background-color:red}.not-liked[_ngcontent-%COMP%]{background-color:gray}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000c4;display:flex;justify-content:center;align-items:center;z-index:1000}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#333;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.star-rating[_ngcontent-%COMP%]{font-size:2rem;color:gray;margin-top:0%}.star-rating[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:gold}.star-rating[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}select[_ngcontent-%COMP%]{margin-top:5%;width:100%;font-size:1.2rem;border:none;color:#fff;background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}"]})}return n})()}];let CSe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({imports:[PH.forRoot(TSe,{useHash:!0}),lM,PH]})}return n})();function wSe(n,t){if(1&n&&(x(0,"div",1),H(1),te(2,"div",2),T()),2&n){const e=V();D("ngClass",e.alertClass),w(1),Ht(" ",e.message," "),w(1),Mn("width",e.progress,"%")}}let SSe=(()=>{class n{constructor(e){this.alertService=e,this.message="",this.alertClass="",this.progress=100,this.duration=0,this.subscription=new Oe}ngOnInit(){this.subscription=this.alertService.alert$.subscribe(e=>{e.message?(this.message=e.message,this.alertClass="success"===e.type?"alert-success":"alert-error",this.duration=e.duration,this.startProgressBar()):(this.message="",this.alertClass="",this.progress=100)})}startProgressBar(){this.progress=100;const i=this.duration/100;let r=0;const s=setInterval(()=>{r++,this.progress=100-r/i*100,r>=i&&clearInterval(s)},100)}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(y(vy))};static#t=this.\u0275cmp=Ve({type:n,selectors:[["app-alert"]],decls:1,vars:1,consts:[["class","alert",3,"ngClass",4,"ngIf"],[1,"alert",3,"ngClass"],[1,"progress-bar"]],template:function(i,r){1&i&&F(0,wSe,3,4,"div",0),2&i&&D("ngIf",r.message)},dependencies:[Pl,ti],styles:[".alert[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000}.alert-success[_ngcontent-%COMP%]{background-color:#4b884b;color:#000;border-color:transparent}.alert-error[_ngcontent-%COMP%]{background-color:#a34343;color:#000;border-color:transparent}.progress-bar[_ngcontent-%COMP%]{height:5px;background-color:#ffffff80;position:absolute;bottom:0;left:0;transition:width .1s linear}"]})}return n})(),DSe=(()=>{class n{constructor(){this.title="DATA"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ve({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"menu","px-4","text-center"],[1,"row","gx-3"],[1,"column","col-lg-3"],[1,"column","col-lg-9"]],template:function(i,r){1&i&&(x(0,"div",0)(1,"div",1)(2,"div",2),te(3,"app-sidebar"),T(),x(4,"div",3),te(5,"router-outlet")(6,"app-alert"),T()()())},dependencies:[nS,yW,SSe]})}return n})();const ESe_firebase={apiKey:"AIzaSyB14DmtasKcHP3qgspOmYnuoBj2uyoAsmg",authDomain:"data-aba0f.firebaseapp.com",projectId:"data-aba0f",storageBucket:"data-aba0f.appspot.com",messagingSenderId:"305549292857",appId:"1:305549292857:web:e5b4bdafba9fb4d61524e8"};class PM{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class X8 extends PM{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class ASe extends PM{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class ISe extends PM{constructor(t){super(),this.element=t instanceof $e?t.nativeElement:t}}class kSe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof X8?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ASe?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ISe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class MSe extends kSe{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||mn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}function NSe(){}function OM(n){return null==n?NSe:function(){return this.querySelector(n)}}function LSe(){return[]}function Q8(n){return null==n?LSe:function(){return this.querySelectorAll(n)}}function Z8(n){return function(){return this.matches(n)}}function J8(n){return function(t){return t.matches(n)}}var BSe=Array.prototype.find;function $Se(){return this.firstElementChild}var GSe=Array.prototype.filter;function zSe(){return Array.from(this.children)}function e6(n){return new Array(n.length)}function Ub(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function XSe(n,t,e,i,r,s){for(var a,o=0,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):e[o]=new Ub(n,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a)}function QSe(n,t,e,i,r,s,o){var a,l,f,c=new Map,u=t.length,d=s.length,h=new Array(u);for(a=0;a<u;++a)(l=t[a])&&(h[a]=f=o.call(l,l.__data__,a,t)+"",c.has(f)?r[a]=l:c.set(f,l));for(a=0;a<d;++a)f=o.call(n,s[a],a,s)+"",(l=c.get(f))?(i[a]=l,l.__data__=s[a],c.delete(f)):e[a]=new Ub(n,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(r[a]=l)}function ZSe(n){return n.__data__}function eDe(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function oDe(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}Ub.prototype={constructor:Ub,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var LM="http://www.w3.org/1999/xhtml";const t6={svg:"http://www.w3.org/2000/svg",xhtml:LM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gb(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),t6.hasOwnProperty(t)?{space:t6[t],local:n}:n}function fDe(n){return function(){this.removeAttribute(n)}}function pDe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function gDe(n,t){return function(){this.setAttribute(n,t)}}function mDe(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function _De(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function vDe(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function n6(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function bDe(n){return function(){this.style.removeProperty(n)}}function xDe(n,t,e){return function(){this.style.setProperty(n,t,e)}}function TDe(n,t,e){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function vh(n,t){return n.style.getPropertyValue(t)||n6(n).getComputedStyle(n,null).getPropertyValue(t)}function wDe(n){return function(){delete this[n]}}function SDe(n,t){return function(){this[n]=t}}function DDe(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function i6(n){return n.trim().split(/^|\s+/)}function FM(n){return n.classList||new r6(n)}function r6(n){this._node=n,this._names=i6(n.getAttribute("class")||"")}function s6(n,t){for(var e=FM(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function o6(n,t){for(var e=FM(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function ADe(n){return function(){s6(this,n)}}function IDe(n){return function(){o6(this,n)}}function kDe(n,t){return function(){(t.apply(this,arguments)?s6:o6)(this,n)}}function RDe(){this.textContent=""}function NDe(n){return function(){this.textContent=n}}function PDe(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function LDe(){this.innerHTML=""}function FDe(n){return function(){this.innerHTML=n}}function VDe(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function HDe(){this.nextSibling&&this.parentNode.appendChild(this)}function UDe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zDe(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===LM&&t.documentElement.namespaceURI===LM?t.createElement(n):t.createElementNS(e,n)}}function jDe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function a6(n){var t=Gb(n);return(t.local?jDe:zDe)(t)}function qDe(){return null}function KDe(){var n=this.parentNode;n&&n.removeChild(this)}function QDe(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function ZDe(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function iEe(n){return function(){var t=this.__on;if(t){for(var s,e=0,i=-1,r=t.length;e<r;++e)s=t[e],n.type&&s.type!==n.type||s.name!==n.name?t[++i]=s:this.removeEventListener(s.type,s.listener,s.options);++i?t.length=i:delete this.__on}}}function rEe(n,t,e){return function(){var r,i=this.__on,s=function tEe(n){return function(t){n.call(this,t,this.__data__)}}(t);if(i)for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=e),void(r.value=t);this.addEventListener(n.type,s,e),r={type:n.type,name:n.name,value:t,listener:s,options:e},i?i.push(r):this.__on=[r]}}function l6(n,t,e){var i=n6(n),r=i.CustomEvent;"function"==typeof r?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function oEe(n,t){return function(){return l6(this,n,t)}}function aEe(n,t){return function(){return l6(this,n,t.apply(this,arguments))}}r6.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var c6=[null];function zr(n,t){this._groups=n,this._parents=t}function u6(){return new zr([[document.documentElement]],c6)}zr.prototype=u6.prototype={constructor:zr,select:function PSe(n){"function"!=typeof n&&(n=OM(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,c,s=t[r],o=s.length,a=i[r]=new Array(o),u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new zr(i,this._parents)},selectAll:function VSe(n){n="function"==typeof n?function FSe(n){return function(){return function OSe(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):Q8(n);for(var t=this._groups,e=t.length,i=[],r=[],s=0;s<e;++s)for(var l,o=t[s],a=o.length,c=0;c<a;++c)(l=o[c])&&(i.push(n.call(l,l.__data__,c,o)),r.push(l));return new zr(i,r)},selectChild:function USe(n){return this.select(null==n?$Se:function HSe(n){return function(){return BSe.call(this.children,n)}}("function"==typeof n?n:J8(n)))},selectChildren:function WSe(n){return this.selectAll(null==n?zSe:function jSe(n){return function(){return GSe.call(this.children,n)}}("function"==typeof n?n:J8(n)))},filter:function qSe(n){"function"!=typeof n&&(n=Z8(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new zr(i,this._parents)},data:function JSe(n,t){if(!arguments.length)return Array.from(this,ZSe);var e=t?QSe:XSe,i=this._parents,r=this._groups;"function"!=typeof n&&(n=function KSe(n){return function(){return n}}(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],d=r[c],h=d.length,f=eDe(n.call(u,u&&u.__data__,c,i)),p=f.length,m=a[c]=new Array(p),g=o[c]=new Array(p);e(u,d,m,g,l[c]=new Array(h),f,t);for(var C,M,_=0,b=0;_<p;++_)if(C=m[_]){for(_>=b&&(b=_+1);!(M=g[b])&&++b<p;);C._next=M||null}}return(o=new zr(o,i))._enter=a,o._exit=l,o},enter:function YSe(){return new zr(this._enter||this._groups.map(e6),this._parents)},exit:function tDe(){return new zr(this._exit||this._groups.map(e6),this._parents)},join:function nDe(n,t,e){var i=this.enter(),r=this,s=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=t&&(r=t(r))&&(r=r.selection()),null==e?s.remove():e(s),i&&r?i.merge(r).order():r},merge:function iDe(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,r=e.length,o=Math.min(r,i.length),a=new Array(r),l=0;l<o;++l)for(var f,c=e[l],u=i[l],d=c.length,h=a[l]=new Array(d),p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<r;++l)a[l]=e[l];return new zr(a,this._parents)},selection:function uEe(){return this},order:function rDe(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var o,i=n[t],r=i.length-1,s=i[r];--r>=0;)(o=i[r])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function sDe(n){function t(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}n||(n=oDe);for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s){for(var c,o=e[s],a=o.length,l=r[s]=new Array(a),u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new zr(r,this._parents).order()},call:function aDe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function lDe(){return Array.from(this)},node:function cDe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function uDe(){let n=0;for(const t of this)++n;return n},empty:function dDe(){return!this.node()},each:function hDe(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a,r=t[e],s=0,o=r.length;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this},attr:function yDe(n,t){var e=Gb(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==t?e.local?pDe:fDe:"function"==typeof t?e.local?vDe:_De:e.local?mDe:gDe)(e,t))},style:function CDe(n,t,e){return arguments.length>1?this.each((null==t?bDe:"function"==typeof t?TDe:xDe)(n,t,e??"")):vh(this.node(),n)},property:function EDe(n,t){return arguments.length>1?this.each((null==t?wDe:"function"==typeof t?DDe:SDe)(n,t)):this.node()[n]},classed:function MDe(n,t){var e=i6(n+"");if(arguments.length<2){for(var i=FM(this.node()),r=-1,s=e.length;++r<s;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof t?kDe:t?ADe:IDe)(e,t))},text:function ODe(n){return arguments.length?this.each(null==n?RDe:("function"==typeof n?PDe:NDe)(n)):this.node().textContent},html:function BDe(n){return arguments.length?this.each(null==n?LDe:("function"==typeof n?VDe:FDe)(n)):this.node().innerHTML},raise:function $De(){return this.each(HDe)},lower:function GDe(){return this.each(UDe)},append:function WDe(n){var t="function"==typeof n?n:a6(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function YDe(n,t){var e="function"==typeof n?n:a6(n),i=null==t?qDe:"function"==typeof t?t:OM(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function XDe(){return this.each(KDe)},clone:function JDe(n){return this.select(n?ZDe:QDe)},datum:function eEe(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function sEe(n,t,e){var r,o,i=function nEe(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}(n+""),s=i.length;if(!(arguments.length<2)){for(a=t?rEe:iEe,r=0;r<s;++r)this.each(a(i[r],t,e));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function lEe(n,t){return this.each(("function"==typeof t?aEe:oEe)(n,t))},[Symbol.iterator]:function*cEe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var o,i=n[t],r=0,s=i.length;r<s;++r)(o=i[r])&&(yield o)}};const cm=u6;var dEe={value:()=>{}};function d6(){for(var i,n=0,t=arguments.length,e={};n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new zb(e)}function zb(n){this._=n}function fEe(n,t){for(var r,e=0,i=n.length;e<i;++e)if((r=n[e]).name===t)return r.value}function h6(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=dEe,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:t,value:e}),n}zb.prototype=d6.prototype={constructor:zb,on:function(n,t){var r,e=this._,i=function hEe(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}(n+"",e),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(n=i[s]).type)e[r]=h6(e[r],n.name,t);else if(null==t)for(r in e)e[r]=h6(e[r],n.name,null);return this}for(;++s<o;)if((r=(n=i[s]).type)&&(r=fEe(e[r],n.name)))return r},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new zb(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var r,s,e=new Array(r),i=0;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(s=this._[n]).length;i<r;++i)s[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(t,e)}};const f6=d6;function HM(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function p6(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function um(){}var jb=1/.7,yh="\\s*([+-]?\\d+)\\s*",hm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mEe=/^#([0-9a-f]{3,8})$/,_Ee=new RegExp(`^rgb\\(${yh},${yh},${yh}\\)$`),vEe=new RegExp(`^rgb\\(${go},${go},${go}\\)$`),yEe=new RegExp(`^rgba\\(${yh},${yh},${yh},${hm}\\)$`),bEe=new RegExp(`^rgba\\(${go},${go},${go},${hm}\\)$`),xEe=new RegExp(`^hsl\\(${hm},${go},${go}\\)$`),TEe=new RegExp(`^hsla\\(${hm},${go},${go},${hm}\\)$`),g6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m6(){return this.rgb().formatHex()}function _6(){return this.rgb().formatRgb()}function Pc(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=mEe.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?v6(t):3===e?new Sr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?Wb(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?Wb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=_Ee.exec(n))?new Sr(t[1],t[2],t[3],1):(t=vEe.exec(n))?new Sr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=yEe.exec(n))?Wb(t[1],t[2],t[3],t[4]):(t=bEe.exec(n))?Wb(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=xEe.exec(n))?x6(t[1],t[2]/100,t[3]/100,1):(t=TEe.exec(n))?x6(t[1],t[2]/100,t[3]/100,t[4]):g6.hasOwnProperty(n)?v6(g6[n]):"transparent"===n?new Sr(NaN,NaN,NaN,0):null}function v6(n){return new Sr(n>>16&255,n>>8&255,255&n,1)}function Wb(n,t,e,i){return i<=0&&(n=t=e=NaN),new Sr(n,t,e,i)}function qb(n,t,e,i){return 1===arguments.length?function SEe(n){return n instanceof um||(n=Pc(n)),n?new Sr((n=n.rgb()).r,n.g,n.b,n.opacity):new Sr}(n):new Sr(n,t,e,i??1)}function Sr(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}function y6(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}`}function b6(){const n=Yb(this.opacity);return`${1===n?"rgb(":"rgba("}${Oc(this.r)}, ${Oc(this.g)}, ${Oc(this.b)}${1===n?")":`, ${n})`}`}function Yb(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Oc(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Lc(n){return((n=Oc(n))<16?"0":"")+n.toString(16)}function x6(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Ns(n,t,e,i)}function T6(n){if(n instanceof Ns)return new Ns(n.h,n.s,n.l,n.opacity);if(n instanceof um||(n=Pc(n)),!n)return new Ns;if(n instanceof Ns)return n;var t=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),s=Math.max(t,e,i),o=NaN,a=s-r,l=(s+r)/2;return a?(o=t===s?(e-i)/a+6*(e<i):e===s?(i-t)/a+2:(t-e)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new Ns(o,a,l,n.opacity)}function Ns(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}function C6(n){return(n=(n||0)%360)<0?n+360:n}function Kb(n){return Math.max(0,Math.min(1,n||0))}function $M(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function w6(n,t,e,i,r){var s=n*n,o=s*n;return((1-3*n+3*s-o)*t+(4-6*s+3*o)*e+(1+3*n+3*s-3*o)*i+o*r)/6}HM(um,Pc,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:m6,formatHex:m6,formatHex8:function CEe(){return this.rgb().formatHex8()},formatHsl:function wEe(){return T6(this).formatHsl()},formatRgb:_6,toString:_6}),HM(Sr,qb,p6(um,{brighter(n){return n=null==n?jb:Math.pow(jb,n),new Sr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Sr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Sr(Oc(this.r),Oc(this.g),Oc(this.b),Yb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y6,formatHex:y6,formatHex8:function DEe(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}${Lc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:b6,toString:b6})),HM(Ns,function EEe(n,t,e,i){return 1===arguments.length?T6(n):new Ns(n,t,e,i??1)},p6(um,{brighter(n){return n=null==n?jb:Math.pow(jb,n),new Ns(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Ns(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new Sr($M(n>=240?n-240:n+120,r,i),$M(n,r,i),$M(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Ns(C6(this.h),Kb(this.s),Kb(this.l),Yb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Yb(this.opacity);return`${1===n?"hsl(":"hsla("}${C6(this.h)}, ${100*Kb(this.s)}%, ${100*Kb(this.l)}%${1===n?")":`, ${n})`}`}}));const UM=n=>()=>n;function D6(n,t){var e=t-n;return e?function S6(n,t){return function(e){return n+e*t}}(n,e):UM(isNaN(n)?t:n)}const Xb=function n(t){var e=function MEe(n){return 1==(n=+n)?D6:function(t,e){return e-t?function kEe(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}(t,e,n):UM(isNaN(t)?e:t)}}(t);function i(r,s){var o=e((r=qb(r)).r,(s=qb(s)).r),a=e(r.g,s.g),l=e(r.b,s.b),c=D6(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=n,i}(1);function E6(n){return function(t){var o,a,e=t.length,i=new Array(e),r=new Array(e),s=new Array(e);for(o=0;o<e;++o)a=qb(t[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=n(i),r=n(r),s=n(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}function Ps(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}E6(function AEe(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=n[i],s=n[i+1];return w6((e-i/t)*t,i>0?n[i-1]:2*r-s,r,s,i<t-1?n[i+2]:2*s-r)}}),E6(function IEe(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t);return w6((e-i/t)*t,n[(i+t-1)%t],n[i%t],n[(i+1)%t],n[(i+2)%t])}});var GM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zM=new RegExp(GM.source,"g");function I6(n,t){var i,r,s,e=GM.lastIndex=zM.lastIndex=0,o=-1,a=[],l=[];for(n+="",t+="";(i=GM.exec(n))&&(r=zM.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:Ps(i,r)})),e=zM.lastIndex;return e<t.length&&(s=t.slice(e),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?function OEe(n){return function(t){return n(t)+""}}(l[0].x):function PEe(n){return function(){return n}}(t):(t=l.length,function(c){for(var d,u=0;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var Zb,gm,bh=0,fm=0,pm=0,M6=1e3,Jb=0,Fc=0,ex=0,mm="object"==typeof performance&&performance.now?performance:Date,R6="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function jM(){return Fc||(R6(BEe),Fc=mm.now()+ex)}function BEe(){Fc=0}function tx(){this._call=this._time=this._next=null}function N6(n,t,e){var i=new tx;return i.restart(n,t,e),i}function P6(){Fc=(Jb=mm.now())+ex,bh=fm=0;try{!function HEe(){jM(),++bh;for(var t,n=Zb;n;)(t=Fc-n._time)>=0&&n._call.call(void 0,t),n=n._next;--bh}()}finally{bh=0,function UEe(){for(var n,e,t=Zb,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:Zb=e);gm=n,WM(i)}(),Fc=0}}function $Ee(){var n=mm.now(),t=n-Jb;t>M6&&(ex-=t,Jb=n)}function WM(n){bh||(fm&&(fm=clearTimeout(fm)),n-Fc>24?(n<1/0&&(fm=setTimeout(P6,n-mm.now()-ex)),pm&&(pm=clearInterval(pm))):(pm||(Jb=mm.now(),pm=setInterval($Ee,M6)),bh=1,R6(P6)))}function O6(n,t,e){var i=new tx;return i.restart(r=>{i.stop(),n(r+t)},t=null==t?0:+t,e),i}tx.prototype=N6.prototype={constructor:tx,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?jM():+e)+(null==t?0:+t),!this._next&&gm!==this&&(gm?gm._next=this:Zb=this,gm=this),this._call=n,this._time=e,WM()},stop:function(){this._call&&(this._call=null,this._time=1/0,WM())}};var GEe=f6("start","end","cancel","interrupt"),zEe=[],L6=0,nx=3;function rx(n,t,e,i,r,s){var o=n.__transition;if(o){if(e in o)return}else n.__transition={};!function jEe(n,t,e){var r,i=n.__transition;function o(c){var u,d,h,f;if(1!==e.state)return l();for(u in i)if((f=i[u]).name===e.name){if(f.state===nx)return O6(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete i[u])}if(O6(function(){e.state===nx&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=nx,r=new Array(h=e.tween.length),u=0,d=-1;u<h;++u)(f=e.tween[u].value.call(n,n.__data__,e.index,e.group))&&(r[++d]=f);r.length=d+1}}function a(c){for(var u=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=5,1),d=-1,h=r.length;++d<h;)r[d].call(n,u);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),l())}function l(){for(var c in e.state=6,e.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=e,e.timer=N6(function s(c){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=c&&o(c-e.delay)},0,e.time)}(n,e,{name:t,index:i,group:r,on:GEe,tween:zEe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:L6})}function KM(n,t){var e=Os(n,t);if(e.state>L6)throw new Error("too late; already scheduled");return e}function mo(n,t){var e=Os(n,t);if(e.state>nx)throw new Error("too late; already running");return e}function Os(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}var sx,B6=180/Math.PI,QM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function H6(n,t,e,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(l=n*e+t*i)&&(e-=n*l,i-=t*l),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,l/=a),n*i<t*e&&(n=-n,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,n)*B6,skewX:Math.atan(l)*B6,scaleX:o,scaleY:a}}function $6(n,t,e,i){function r(c){return c.length?c.pop()+" ":""}return function(c,u){var d=[],h=[];return c=n(c),u=n(u),function s(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push("translate(",null,t,null,e);p.push({i:m-4,x:Ps(c,d)},{i:m-2,x:Ps(u,h)})}else(d||h)&&f.push("translate("+d+t+h+e)}(c.translateX,c.translateY,u.translateX,u.translateY,d,h),function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(r(d)+"rotate(",null,i)-2,x:Ps(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}(c.rotate,u.rotate,d,h),function a(c,u,d,h){c!==u?h.push({i:d.push(r(d)+"skewX(",null,i)-2,x:Ps(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}(c.skewX,u.skewX,d,h),function l(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push(r(f)+"scale(",null,",",null,")");p.push({i:m-4,x:Ps(c,d)},{i:m-2,x:Ps(u,h)})}else(1!==d||1!==h)&&f.push(r(f)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var g,p=-1,m=h.length;++p<m;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var KEe=$6(function qEe(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?QM:H6(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),XEe=$6(function YEe(n){return null!=n&&(sx||(sx=document.createElementNS("http://www.w3.org/2000/svg","g")),sx.setAttribute("transform",n),n=sx.transform.baseVal.consolidate())?H6((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):QM},", ",")",")");function QEe(n,t){var e,i;return function(){var r=mo(this,n),s=r.tween;if(s!==e)for(var o=0,a=(i=e=s).length;o<a;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}r.tween=i}}function ZEe(n,t,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var s=mo(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:e},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function ZM(n,t,e){var i=n._id;return n.each(function(){var r=mo(this,i);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return Os(r,i).value[t]}}function U6(n,t){var e;return("number"==typeof t?Ps:t instanceof Pc?Xb:(e=Pc(t))?(t=e,Xb):I6)(n,t)}function eAe(n){return function(){this.removeAttribute(n)}}function tAe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function nAe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=t(i=o,e)}}function iAe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=t(i=o,e)}}function rAe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttribute(n):(o=this.getAttribute(n))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function sAe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function cAe(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function lAe(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}(n,s)),e}return r._value=t,r}function uAe(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function aAe(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}(n,s)),e}return r._value=t,r}function hAe(n,t){return function(){KM(this,n).delay=+t.apply(this,arguments)}}function fAe(n,t){return t=+t,function(){KM(this,n).delay=t}}function gAe(n,t){return function(){mo(this,n).duration=+t.apply(this,arguments)}}function mAe(n,t){return t=+t,function(){mo(this,n).duration=t}}var MAe=cm.prototype.constructor;function G6(n){return function(){this.style.removeProperty(n)}}var KAe=0;function ia(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function z6(){return++KAe}var ra=cm.prototype;ia.prototype=function XAe(n){return cm().transition(n)}.prototype={constructor:ia,select:function IAe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=OM(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var u,d,a=i[o],l=a.length,c=s[o]=new Array(l),h=0;h<l;++h)(u=a[h])&&(d=n.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,rx(c[h],t,e,h,c,Os(u,e)));return new ia(s,this._parents,t,e)},selectAll:function kAe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=Q8(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var u,l=i[a],c=l.length,d=0;d<c;++d)if(u=l[d]){for(var f,h=n.call(u,u.__data__,d,l),p=Os(u,e),m=0,g=h.length;m<g;++m)(f=h[m])&&rx(f,t,e,m,h,p);s.push(h),o.push(u)}return new ia(s,o,t,e)},selectChild:ra.selectChild,selectChildren:ra.selectChildren,filter:function TAe(n){"function"!=typeof n&&(n=Z8(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new ia(i,this._parents,this._name,this._id)},merge:function CAe(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,s=Math.min(i,e.length),o=new Array(i),a=0;a<s;++a)for(var h,l=t[a],c=e[a],u=l.length,d=o[a]=new Array(u),f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<i;++a)o[a]=t[a];return new ia(o,this._parents,this._name,this._id)},selection:function RAe(){return new MAe(this._groups,this._parents)},transition:function qAe(){for(var n=this._name,t=this._id,e=z6(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)if(l=o[c]){var u=Os(l,t);rx(l,n,e,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ia(i,this._parents,n,e)},call:ra.call,nodes:ra.nodes,node:ra.node,size:ra.size,empty:ra.empty,each:ra.each,on:function DAe(n,t){var e=this._id;return arguments.length<2?Os(this.node(),e).on.on(n):this.each(function SAe(n,t,e){var i,r,s=function wAe(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?KM:mo;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(t,e),o.on=r}}(e,n,t))},attr:function oAe(n,t){var e=Gb(n),i="transform"===e?XEe:U6;return this.attrTween(n,"function"==typeof t?(e.local?sAe:rAe)(e,i,ZM(this,"attr."+n,t)):null==t?(e.local?tAe:eAe)(e):(e.local?iAe:nAe)(e,i,t))},attrTween:function dAe(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var i=Gb(n);return this.tween(e,(i.local?cAe:uAe)(i,t))},style:function FAe(n,t,e){var i="transform"==(n+="")?KEe:U6;return null==t?this.styleTween(n,function NAe(n,t){var e,i,r;return function(){var s=vh(this,n),o=(this.style.removeProperty(n),vh(this,n));return s===o?null:s===e&&o===i?r:r=t(e=s,i=o)}}(n,i)).on("end.style."+n,G6(n)):"function"==typeof t?this.styleTween(n,function OAe(n,t,e){var i,r,s;return function(){var o=vh(this,n),a=e(this),l=a+"";return null==a&&(this.style.removeProperty(n),l=a=vh(this,n)),o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}(n,i,ZM(this,"style."+n,t))).each(function LAe(n,t){var e,i,r,a,s="style."+t,o="end."+s;return function(){var l=mo(this,n),c=l.on,u=null==l.value[s]?a||(a=G6(t)):void 0;(c!==e||r!==u)&&(i=(e=c).copy()).on(o,r=u),l.on=i}}(this._id,n)):this.styleTween(n,function PAe(n,t,e){var i,s,r=e+"";return function(){var o=vh(this,n);return o===r?null:o===i?s:s=t(i=o,e)}}(n,i,t),e).on("end.style."+n,null)},styleTween:function HAe(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function BAe(n,t,e){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&function VAe(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}(n,o,e)),i}return s._value=t,s}(n,t,e??""))},text:function GAe(n){return this.tween("text","function"==typeof n?function UAe(n){return function(){var t=n(this);this.textContent=t??""}}(ZM(this,"text",n)):function $Ae(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function WAe(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,function jAe(n){var t,e;function i(){var r=n.apply(this,arguments);return r!==e&&(t=(e=r)&&function zAe(n){return function(t){this.textContent=n.call(this,t)}}(r)),t}return i._value=n,i}(n))},remove:function AAe(){return this.on("end.remove",function EAe(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function JEe(n,t){var e=this._id;if(n+="",arguments.length<2){for(var o,i=Os(this.node(),e).tween,r=0,s=i.length;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((null==t?QEe:ZEe)(e,n,t))},delay:function pAe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?hAe:fAe)(t,n)):Os(this.node(),t).delay},duration:function _Ae(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?gAe:mAe)(t,n)):Os(this.node(),t).duration},ease:function yAe(n){var t=this._id;return arguments.length?this.each(function vAe(n,t){if("function"!=typeof t)throw new Error;return function(){mo(this,n).ease=t}}(t,n)):Os(this.node(),t).ease},easeVarying:function xAe(n){if("function"!=typeof n)throw new Error;return this.each(function bAe(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;mo(this,n).ease=e}}(this._id,n))},end:function YAe(){var n,t,e=this,i=e._id,r=e.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--r&&s()}};e.each(function(){var c=mo(this,i),u=c.on;u!==n&&((t=(n=u).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),0===r&&s()})},[Symbol.iterator]:ra[Symbol.iterator]};var ZAe={time:null,delay:0,duration:250,ease:function QAe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function JAe(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}cm.prototype.interrupt=function WEe(n){return this.each(function(){!function XM(n,t){var i,r,o,e=n.__transition,s=!0;if(e){for(o in t=null==t?null:t+"",e)(i=e[o]).name===t?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[o]):s=!1;s&&delete n.__transition}}(this,n)})},cm.prototype.transition=function eIe(n){var t,e;n instanceof ia?(t=n._id,n=n._name):(t=z6(),(e=ZAe).time=jM(),n=null==n?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)(l=o[c])&&rx(l,n,t,c,o,e||JAe(l,t));return new ia(i,this._parents,n,t)};Math;function _m(n){return{type:n}}function lx(n,t){return null==n||null==t?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function dIe(n,t){return null==n||null==t?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function sR(n){let t,e,i;function r(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}return 2!==n.length?(t=lx,e=(a,l)=>lx(n(a),l),i=(a,l)=>n(a)-l):(t=n===lx||n===dIe?n:hIe,e=n,i=n),{left:r,center:function o(a,l,c=0,u=a.length){const d=r(a,l,c,u-1);return d>c&&i(a[d-1],l)>-i(a[d],l)?d-1:d},right:function s(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}}}function hIe(){return 0}["w","e"].map(_m),["n","s"].map(_m),["n","w","e","s","nw","ne","sw","se"].map(_m);const fIe=Math.sqrt(50),pIe=Math.sqrt(10),gIe=Math.sqrt(2);function cx(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=fIe?10:s>=pIe?5:s>=gIe?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(n*c),l=Math.round(t*c),a/c<n&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(n/c),l=Math.round(t/c),a*c<n&&++a,l*c>t&&--l),l<a&&.5<=e&&e<2?cx(n,t,2*e):[a,l,c]}function oR(n,t,e){return cx(n=+n,t=+t,e=+e)[2]}function aR(n,t,e){e=+e;const i=(t=+t)<(n=+n),r=i?oR(t,n,e):oR(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}const oa=1e3,fs=6e4,aa=60*fs,la=24*aa,lR=7*la,X6=30*la,cR=365*la,uR=new Date,dR=new Date;function oi(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),t(s,1),n(s),s),r.round=s=>{const o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=(s,o)=>(t(s=new Date(+s),null==o?1:Math.floor(o)),s),r.range=(s,o,a)=>{const l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;let c;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=s=>oi(o=>{if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),e&&(r.count=(s,o)=>(uR.setTime(+s),dR.setTime(+o),n(uR),n(dR),Math.floor(e(uR,dR))),r.every=s=>(s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?o=>i(o)%s==0:o=>r.count(0,o)%s==0):r:null)),r}const ux=oi(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);ux.every=n=>(n=Math.floor(n),isFinite(n)&&n>0?n>1?oi(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):ux:null);const Ch=oi(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*oa)},(n,t)=>(t-n)/oa,n=>n.getUTCSeconds()),hR=oi(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*oa)},(n,t)=>{n.setTime(+n+t*fs)},(n,t)=>(t-n)/fs,n=>n.getMinutes()),Q6=oi(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*fs)},(n,t)=>(t-n)/fs,n=>n.getUTCMinutes()),fR=oi(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*oa-n.getMinutes()*fs)},(n,t)=>{n.setTime(+n+t*aa)},(n,t)=>(t-n)/aa,n=>n.getHours()),Z6=oi(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*aa)},(n,t)=>(t-n)/aa,n=>n.getUTCHours()),pR=oi(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*fs)/la,n=>n.getDate()-1),J6=(oi(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/la,n=>n.getUTCDate()-1),oi(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/la,n=>Math.floor(n/la)));function Vc(n){return oi(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fs)/lR)}const gR=Vc(0);function Bc(n){return oi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/lR)}Vc(1),Vc(2),Vc(3),Vc(4),Vc(5),Vc(6);const e9=Bc(0),mR=(Bc(1),Bc(2),Bc(3),Bc(4),Bc(5),Bc(6),oi(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear()),n=>n.getMonth())),t9=oi(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear()),n=>n.getUTCMonth()),dx=oi(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());dx.every=n=>isFinite(n=Math.floor(n))&&n>0?oi(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)}):null;const _R=oi(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());function n9(n,t,e,i,r,s){const o=[[Ch,1,oa],[Ch,5,5e3],[Ch,15,15e3],[Ch,30,3e4],[s,1,fs],[s,5,5*fs],[s,15,15*fs],[s,30,30*fs],[r,1,aa],[r,3,3*aa],[r,6,6*aa],[r,12,12*aa],[i,1,la],[i,2,2*la],[e,1,lR],[t,1,X6],[t,3,3*X6],[n,1,cR]];function l(c,u,d){const h=Math.abs(u-c)/d,f=sR(([,,g])=>g).right(o,h);if(f===o.length)return n.every(aR(c/cR,u/cR,d));if(0===f)return ux.every(Math.max(aR(c,u,d),1));const[p,m]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return p.every(m)}return[function a(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&"function"==typeof d.range?d:l(c,u,d),p=f?f.range(c,+u+1):[];return h?p.reverse():p},l]}_R.every=n=>isFinite(n=Math.floor(n))&&n>0?oi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null;const[O9e,L9e]=n9(_R,t9,e9,J6,Z6,Q6),[IIe,kIe]=n9(dx,mR,gR,pR,fR,hR);var vR=new Date,yR=new Date;function ca(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=function(s){return n(s=new Date(+s)),s},r.ceil=function(s){return n(s=new Date(s-1)),t(s,1),n(s),s},r.round=function(s){var o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=function(s,o){return t(s=new Date(+s),null==o?1:Math.floor(o)),s},r.range=function(s,o,a){var c,l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=function(s){return ca(function(o){if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););})},e&&(r.count=function(s,o){return vR.setTime(+s),yR.setTime(+o),n(vR),n(yR),Math.floor(e(vR,yR))},r.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?function(o){return i(o)%s==0}:function(o){return r.count(0,o)%s==0}):r:null}),r}const vm=864e5,i9=7*vm;function Hc(n){return ca(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/i9})}var r9=Hc(0),hx=Hc(1),wh=(Hc(2),Hc(3),Hc(4)),s9=(Hc(5),Hc(6),ca(function(n){n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t-n)/vm},function(n){return n.getUTCDate()-1}));const o9=s9;function $c(n){return ca(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/i9})}var a9=$c(0),fx=$c(1),Sh=($c(2),$c(3),$c(4)),l9=($c(5),$c(6),ca(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/vm,n=>n.getDate()-1));const c9=l9;var xR=ca(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});xR.every=function(n){return isFinite(n=Math.floor(n))&&n>0?ca(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};const ym=xR;var TR=ca(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});TR.every=function(n){return isFinite(n=Math.floor(n))&&n>0?ca(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};const bm=TR;function CR(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function wR(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function xm(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}var u9={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,HIe=/^%/,$Ie=/[\\^$*+?|[\]().{}]/g;function Tt(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<e?new Array(e-s+1).join(t)+r:r)}function UIe(n){return n.replace($Ie,"\\$&")}function Tm(n){return new RegExp("^(?:"+n.map(UIe).join("|")+")","i")}function Cm(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function GIe(n,t,e){var i=yi.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function zIe(n,t,e){var i=yi.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function jIe(n,t,e){var i=yi.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function WIe(n,t,e){var i=yi.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function qIe(n,t,e){var i=yi.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function d9(n,t,e){var i=yi.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function h9(n,t,e){var i=yi.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function YIe(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function KIe(n,t,e){var i=yi.exec(t.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function XIe(n,t,e){var i=yi.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function f9(n,t,e){var i=yi.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function QIe(n,t,e){var i=yi.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function p9(n,t,e){var i=yi.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function ZIe(n,t,e){var i=yi.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function JIe(n,t,e){var i=yi.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function eke(n,t,e){var i=yi.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function tke(n,t,e){var i=yi.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function nke(n,t,e){var i=HIe.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function ike(n,t,e){var i=yi.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function rke(n,t,e){var i=yi.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function g9(n,t){return Tt(n.getDate(),t,2)}function ske(n,t){return Tt(n.getHours(),t,2)}function oke(n,t){return Tt(n.getHours()%12||12,t,2)}function ake(n,t){return Tt(1+c9.count(ym(n),n),t,3)}function m9(n,t){return Tt(n.getMilliseconds(),t,3)}function lke(n,t){return m9(n,t)+"000"}function cke(n,t){return Tt(n.getMonth()+1,t,2)}function uke(n,t){return Tt(n.getMinutes(),t,2)}function dke(n,t){return Tt(n.getSeconds(),t,2)}function hke(n){var t=n.getDay();return 0===t?7:t}function fke(n,t){return Tt(a9.count(ym(n)-1,n),t,2)}function _9(n){var t=n.getDay();return t>=4||0===t?Sh(n):Sh.ceil(n)}function pke(n,t){return n=_9(n),Tt(Sh.count(ym(n),n)+(4===ym(n).getDay()),t,2)}function gke(n){return n.getDay()}function mke(n,t){return Tt(fx.count(ym(n)-1,n),t,2)}function _ke(n,t){return Tt(n.getFullYear()%100,t,2)}function vke(n,t){return Tt((n=_9(n)).getFullYear()%100,t,2)}function yke(n,t){return Tt(n.getFullYear()%1e4,t,4)}function bke(n,t){var e=n.getDay();return Tt((n=e>=4||0===e?Sh(n):Sh.ceil(n)).getFullYear()%1e4,t,4)}function xke(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tt(t/60|0,"0",2)+Tt(t%60,"0",2)}function v9(n,t){return Tt(n.getUTCDate(),t,2)}function Tke(n,t){return Tt(n.getUTCHours(),t,2)}function Cke(n,t){return Tt(n.getUTCHours()%12||12,t,2)}function wke(n,t){return Tt(1+o9.count(bm(n),n),t,3)}function y9(n,t){return Tt(n.getUTCMilliseconds(),t,3)}function Ske(n,t){return y9(n,t)+"000"}function Dke(n,t){return Tt(n.getUTCMonth()+1,t,2)}function Eke(n,t){return Tt(n.getUTCMinutes(),t,2)}function Ake(n,t){return Tt(n.getUTCSeconds(),t,2)}function Ike(n){var t=n.getUTCDay();return 0===t?7:t}function kke(n,t){return Tt(r9.count(bm(n)-1,n),t,2)}function b9(n){var t=n.getUTCDay();return t>=4||0===t?wh(n):wh.ceil(n)}function Mke(n,t){return n=b9(n),Tt(wh.count(bm(n),n)+(4===bm(n).getUTCDay()),t,2)}function Rke(n){return n.getUTCDay()}function Nke(n,t){return Tt(hx.count(bm(n)-1,n),t,2)}function Pke(n,t){return Tt(n.getUTCFullYear()%100,t,2)}function Oke(n,t){return Tt((n=b9(n)).getUTCFullYear()%100,t,2)}function Lke(n,t){return Tt(n.getUTCFullYear()%1e4,t,4)}function Fke(n,t){var e=n.getUTCDay();return Tt((n=e>=4||0===e?wh(n):wh.ceil(n)).getUTCFullYear()%1e4,t,4)}function Vke(){return"+0000"}function x9(){return"%"}function T9(n){return+n}function C9(n){return Math.floor(+n/1e3)}!function Uke(n){(function BIe(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,s=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,c=Tm(r),u=Cm(r),d=Tm(s),h=Cm(s),f=Tm(o),p=Cm(o),m=Tm(a),g=Cm(a),v=Tm(l),_=Cm(l),b={a:function Q(ie){return o[ie.getDay()]},A:function he(ie){return s[ie.getDay()]},b:function de(ie){return l[ie.getMonth()]},B:function We(ie){return a[ie.getMonth()]},c:null,d:g9,e:g9,f:lke,g:vke,G:bke,H:ske,I:oke,j:ake,L:m9,m:cke,M:uke,p:function ct(ie){return r[+(ie.getHours()>=12)]},q:function Xe(ie){return 1+~~(ie.getMonth()/3)},Q:T9,s:C9,S:dke,u:hke,U:fke,V:pke,w:gke,W:mke,x:null,X:null,y:_ke,Y:yke,Z:xke,"%":x9},C={a:function ci(ie){return o[ie.getUTCDay()]},A:function st(ie){return s[ie.getUTCDay()]},b:function bi(ie){return l[ie.getUTCMonth()]},B:function Er(ie){return a[ie.getUTCMonth()]},c:null,d:v9,e:v9,f:Ske,g:Oke,G:Fke,H:Tke,I:Cke,j:wke,L:y9,m:Dke,M:Eke,p:function et(ie){return r[+(ie.getUTCHours()>=12)]},q:function xn(ie){return 1+~~(ie.getUTCMonth()/3)},Q:T9,s:C9,S:Ake,u:Ike,U:kke,V:Mke,w:Rke,W:Nke,x:null,X:null,y:Pke,Y:Lke,Z:Vke,"%":x9},M={a:function me(ie,Ie,qe){var Y=f.exec(Ie.slice(qe));return Y?(ie.w=p.get(Y[0].toLowerCase()),qe+Y[0].length):-1},A:function ce(ie,Ie,qe){var Y=d.exec(Ie.slice(qe));return Y?(ie.w=h.get(Y[0].toLowerCase()),qe+Y[0].length):-1},b:function lt(ie,Ie,qe){var Y=v.exec(Ie.slice(qe));return Y?(ie.m=_.get(Y[0].toLowerCase()),qe+Y[0].length):-1},B:function Ce(ie,Ie,qe){var Y=m.exec(Ie.slice(qe));return Y?(ie.m=g.get(Y[0].toLowerCase()),qe+Y[0].length):-1},c:function rt(ie,Ie,qe){return J(ie,t,Ie,qe)},d:f9,e:f9,f:tke,g:h9,G:d9,H:p9,I:p9,j:QIe,L:eke,m:XIe,M:ZIe,p:function Se(ie,Ie,qe){var Y=c.exec(Ie.slice(qe));return Y?(ie.p=u.get(Y[0].toLowerCase()),qe+Y[0].length):-1},q:KIe,Q:ike,s:rke,S:JIe,u:zIe,U:jIe,V:WIe,w:GIe,W:qIe,x:function hn(ie,Ie,qe){return J(ie,e,Ie,qe)},X:function q(ie,Ie,qe){return J(ie,i,Ie,qe)},y:h9,Y:d9,Z:YIe,"%":nke};function R(ie,Ie){return function(qe){var xi,Ee,fn,Y=[],sn=-1,Dt=0,Fi=ie.length;for(qe instanceof Date||(qe=new Date(+qe));++sn<Fi;)37===ie.charCodeAt(sn)&&(Y.push(ie.slice(Dt,sn)),null!=(Ee=u9[xi=ie.charAt(++sn)])?xi=ie.charAt(++sn):Ee="e"===xi?" ":"0",(fn=Ie[xi])&&(xi=fn(qe,Ee)),Y.push(xi),Dt=sn+1);return Y.push(ie.slice(Dt,sn)),Y.join("")}}function j(ie,Ie){return function(qe){var Dt,Fi,Y=xm(1900,void 0,1);if(J(Y,ie,qe+="",0)!=qe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(1e3*Y.s+("L"in Y?Y.L:0));if(Ie&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+12*Y.p),void 0===Y.m&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Fi=(Dt=wR(xm(Y.y,0,1))).getUTCDay(),Dt=Fi>4||0===Fi?hx.ceil(Dt):hx(Dt),Dt=o9.offset(Dt,7*(Y.V-1)),Y.y=Dt.getUTCFullYear(),Y.m=Dt.getUTCMonth(),Y.d=Dt.getUTCDate()+(Y.w+6)%7):(Fi=(Dt=CR(xm(Y.y,0,1))).getDay(),Dt=Fi>4||0===Fi?fx.ceil(Dt):fx(Dt),Dt=c9.offset(Dt,7*(Y.V-1)),Y.y=Dt.getFullYear(),Y.m=Dt.getMonth(),Y.d=Dt.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Fi="Z"in Y?wR(xm(Y.y,0,1)).getUTCDay():CR(xm(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+7*Y.W-(Fi+5)%7:Y.w+7*Y.U-(Fi+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,wR(Y)):CR(Y)}}function J(ie,Ie,qe,Y){for(var xi,Ee,sn=0,Dt=Ie.length,Fi=qe.length;sn<Dt;){if(Y>=Fi)return-1;if(37===(xi=Ie.charCodeAt(sn++))){if(xi=Ie.charAt(sn++),!(Ee=M[xi in u9?Ie.charAt(sn++):xi])||(Y=Ee(ie,qe,Y))<0)return-1}else if(xi!=qe.charCodeAt(Y++))return-1}return Y}return b.x=R(e,b),b.X=R(i,b),b.c=R(t,b),C.x=R(e,C),C.X=R(i,C),C.c=R(t,C),{format:function(ie){var Ie=R(ie+="",b);return Ie.toString=function(){return ie},Ie},parse:function(ie){var Ie=j(ie+="",!1);return Ie.toString=function(){return ie},Ie},utcFormat:function(ie){var Ie=R(ie+="",C);return Ie.toString=function(){return ie},Ie},utcParse:function(ie){var Ie=j(ie+="",!0);return Ie.toString=function(){return ie},Ie}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),sR(lx),sR(function Gke(n){return null===n?NaN:+n});var k9,iMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gx(n){if(!(t=iMe.exec(n)))throw new Error("invalid format: "+n);var t;return new DR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function DR(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function mx(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function M9(n,t){var e=mx(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}gx.prototype=DR.prototype,DR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const R9={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function rMe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>M9(100*n,t),r:M9,s:function cMe(n,t){var e=mx(n,t);if(!e)return n+"";var i=e[0],r=e[1],s=r-(k9=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+mx(n,Math.max(0,t+s-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function N9(n){return n}var P9=Array.prototype.map,O9=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function uMe(n){var t=void 0===n.grouping||void 0===n.thousands?N9:function oMe(n,t){return function(e,i){for(var r=e.length,s=[],o=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(e.substring(r-=a,r+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return s.reverse().join(t)}}(P9.call(n.grouping,Number),n.thousands+""),e=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",r=void 0===n.decimal?".":n.decimal+"",s=void 0===n.numerals?N9:function aMe(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}(P9.call(n.numerals,String)),o=void 0===n.percent?"%":n.percent+"",a=void 0===n.minus?"\u2212":n.minus+"",l=void 0===n.nan?"NaN":n.nan+"";function c(d){var h=(d=gx(d)).fill,f=d.align,p=d.sign,m=d.symbol,g=d.zero,v=d.width,_=d.comma,b=d.precision,C=d.trim,M=d.type;"n"===M?(_=!0,M="g"):R9[M]||(void 0===b&&(b=12),C=!0,M="g"),(g||"0"===h&&"="===f)&&(g=!0,h="0",f="=");var R="$"===m?e:"#"===m&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",j="$"===m?i:/[%p]/.test(M)?o:"",J=R9[M],Se=/[defgprs%]/.test(M);function me(ce){var rt,hn,q,lt=R,Ce=j;if("c"===M)Ce=J(ce)+Ce,ce="";else{var Q=(ce=+ce)<0||1/ce<0;if(ce=isNaN(ce)?l:J(Math.abs(ce),b),C&&(ce=function lMe(n){e:for(var r,t=n.length,e=1,i=-1;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":0===i&&(i=e),r=e;break;default:if(!+n[e])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(r+1):n}(ce)),Q&&0==+ce&&"+"!==p&&(Q=!1),lt=(Q?"("===p?p:a:"-"===p||"("===p?"":p)+lt,Ce=("s"===M?O9[8+k9/3]:"")+Ce+(Q&&"("===p?")":""),Se)for(rt=-1,hn=ce.length;++rt<hn;)if(48>(q=ce.charCodeAt(rt))||q>57){Ce=(46===q?r+ce.slice(rt+1):ce.slice(rt))+Ce,ce=ce.slice(0,rt);break}}_&&!g&&(ce=t(ce,1/0));var he=lt.length+ce.length+Ce.length,de=he<v?new Array(v-he+1).join(h):"";switch(_&&g&&(ce=t(de+ce,de.length?v-Ce.length:1/0),de=""),f){case"<":ce=lt+ce+Ce+de;break;case"=":ce=lt+de+ce+Ce;break;case"^":ce=de.slice(0,he=de.length>>1)+lt+ce+Ce+de.slice(he);break;default:ce=de+lt+ce+Ce}return s(ce)}return b=void 0===b?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),me.toString=function(){return d+""},me}return{format:c,formatPrefix:function u(d,h){var f=c(((d=gx(d)).type="f",d)),p=3*Math.max(-8,Math.min(8,Math.floor(function Ah(n){return(n=mx(Math.abs(n)))?n[1]:NaN}(h)/3))),m=Math.pow(10,-p),g=O9[8+p/3];return function(v){return f(m*v)+g}}}}!function dMe(n){uMe(n)}({thousands:",",grouping:[3],currency:["$",""]}),Map,Symbol("implicit");var vMe=dl(178);const yMe=["caretElm"];function bMe(n,t){}const xMe=function(n){return{model:n}};function TMe(n,t){if(1&n&&(x(0,"span"),F(1,bMe,0,0,"ng-template",5),T()),2&n){const e=V();w(1),D("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Ai(2,xMe,e.context))}}function CMe(n,t){1&n&&te(0,"span",6),2&n&&D("innerHTML",V().title,kO)}function dNe(n,t,e){e=e||{};let i,r,s,o=null,a=0;function l(){a=!1===e.leading?0:+new Date,o=null,s=n.apply(i,r)}return function(){const c=+new Date;!a&&!1===e.leading&&(a=c);const u=t-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=n.apply(i,r)):!o&&!1!==e.trailing&&(o=setTimeout(l,u)),s}}function hNe(n,t){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:dNe(s.value,n,t)}),this[r]}}}}var it=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",n}(it||{});function Y9(n,t,e){return e===it.Top?n.top-7:e===it.Bottom?n.top+n.height-t.height+7:e===it.Center?n.top+n.height/2-t.height/2:void 0}function K9(n,t,e){return e===it.Left?n.left-7:e===it.Right?n.left+n.width-t.width+7:e===it.Center?n.left+n.width/2-t.width/2:void 0}class jr{static calculateVerticalAlignment(t,e,i){let r=Y9(t,e,i);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,i,r){let s;r===it.Top&&(s=t.height/2-i.height/2+7),r===it.Bottom&&(s=e.height-t.height/2-i.height/2-7),r===it.Center&&(s=e.height/2-i.height/2);const o=Y9(t,e,r);return o+e.height>window.innerHeight&&(s+=o+e.height-window.innerHeight),s}static calculateHorizontalAlignment(t,e,i){let r=K9(t,e,i);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,i,r){let s;r===it.Left&&(s=t.width/2-i.width/2+7),r===it.Right&&(s=e.width-t.width/2-i.width/2-7),r===it.Center&&(s=e.width/2-i.width/2);const o=K9(t,e,r);return o+e.width>window.innerWidth&&(s+=o+e.width-window.innerWidth),s}static shouldFlip(t,e,i,r){let s=!1;return i===it.Right&&t.left+t.width+e.width+r>window.innerWidth&&(s=!0),i===it.Left&&t.left-e.width-r<0&&(s=!0),i===it.Top&&t.top-e.height-r<0&&(s=!0),i===it.Bottom&&t.top+t.height+e.height+r>window.innerHeight&&(s=!0),s}static positionCaret(t,e,i,r,s){let o=0,a=0;return t===it.Right?(a=-7,o=jr.calculateVerticalCaret(i,e,r,s)):t===it.Left?(a=e.width,o=jr.calculateVerticalCaret(i,e,r,s)):t===it.Top?(o=e.height,a=jr.calculateHorizontalCaret(i,e,r,s)):t===it.Bottom&&(o=-7,a=jr.calculateHorizontalCaret(i,e,r,s)),{top:o,left:a}}static positionContent(t,e,i,r,s){let o=0,a=0;return t===it.Right?(a=i.left+i.width+r,o=jr.calculateVerticalAlignment(i,e,s)):t===it.Left?(a=i.left-e.width-r,o=jr.calculateVerticalAlignment(i,e,s)):t===it.Top?(o=i.top-e.height-r,a=jr.calculateHorizontalAlignment(i,e,s)):t===it.Bottom&&(o=i.top+i.height+r,a=jr.calculateHorizontalAlignment(i,e,s)),{top:o,left:a}}static determinePlacement(t,e,i,r){if(jr.shouldFlip(i,e,t,r)){if(t===it.Right)return it.Left;if(t===it.Left)return it.Right;if(t===it.Top)return it.Bottom;if(t===it.Bottom)return it.Top}return t}}let fNe=(()=>{class n{constructor(e,i,r){this.element=e,this.renderer=i,this.platformId=r}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!vr(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const r=e.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(e,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,r){const{top:s,left:o}=jr.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${s}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,i){const r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=jr.positionCaret(this.placement,i,e,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(e,i){this.placement=jr.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(y($e),y(Di),y(di))},n.\u0275cmp=Ve({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&Ml(yMe,5),2&e){let r;Pt(r=Ot())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(e,i){1&e&&$("resize",function(){return i.onWindowResize()},0,Y_),2&e&&Ei(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(x(0,"div"),te(1,"span",0,1),x(3,"div",2),F(4,TMe,2,4,"span",3),F(5,CMe,1,1,"span",4),T()()),2&e&&(w(1),function GF(n,t,e){bs(Rr,Ks,ku(B(),n,t,e),!0)}("tooltip-caret position-",i.placement,""),D("hidden",!i.showCaret),w(3),D("ngIf",!i.title),w(1),D("ngIf",i.title))},dependencies:[ti,Ol],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function jm(n,t,e,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}([hNe(100)],n.prototype,"onWindowResize",null),n})();class pNe{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const i=this.injectComponent(t,e);return this.register(t,i),i}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const i=e.indexOf(t);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs={...e,...t.inputs}),i&&(t.outputs={...i,...t.outputs}),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}let MR,X9=(()=>{class n{constructor(e,i,r){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function gNe(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const r=Object.getOwnPropertyNames(i.inputs);for(const s of r)e.instance[s]=i.inputs[s]}if(void 0!==i.outputs){const r=Object.getOwnPropertyNames(i.outputs);for(const s of r)e.instance[s]=i.outputs[s]}}return e}appendComponent(e,i={},r){r||(r=this.getRootViewContainer());const s=this.getComponentRootNode(r),o=new MSe(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new X8(e),l=o.attach(a);return this.projectComponentBindings(l,i),l}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(O(xs),O(wl),O(mn))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),AR=(()=>{class n extends pNe{constructor(e){super(e),this.type=fNe}}return n.\u0275fac=function(e){return new(e||n)(O(X9))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),n7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn]]}),n})(),r7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({providers:[X9,AR],imports:[[vn]]}),n})();typeof window<"u"?MR=window:typeof global<"u"&&(MR=global);let Wr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[vn,n7,r7],vn,n7,r7]}),n})(),INe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),h7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})();vMe();let RNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),NNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),PNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),f7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})();Math;let NR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),FNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr,NR,f7]]}),n})(),BNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),HNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),UNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr,NR,h7]]}),n})(),zNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[[Wr]]}),n})(),jNe=(()=>{class n{constructor(){!function GNe(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=be({imports:[Wr,INe,h7,RNe,NNe,PNe,zNe,f7,FNe,BNe,NR,HNe,UNe]}),n})();function Dr(n){return n instanceof $e?n.nativeElement:n}const Sm={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Sm;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Oe(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Sm;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Sm;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},PR=new class KNe extends Ay{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class YNe extends Ey{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Sm.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Sm.cancelAnimationFrame(e),t._scheduled=void 0)}});let OR,XNe=1;const Cx={};function g7(n){return n in Cx&&(delete Cx[n],!0)}const QNe={setImmediate(n){const t=XNe++;return Cx[t]=!0,OR||(OR=Promise.resolve()),OR.then(()=>g7(t)&&n()),t},clearImmediate(n){g7(n)}},{setImmediate:ZNe,clearImmediate:JNe}=QNe,wx={setImmediate(...n){const{delegate:t}=wx;return(t?.setImmediate||ZNe)(...n)},clearImmediate(n){const{delegate:t}=wx;return(t?.clearImmediate||JNe)(n)},delegate:void 0};new class tPe extends Ay{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class ePe extends Ey{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=wx.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(wx.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});let LR;try{LR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{LR=!1}let Dm,FR,_7=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?vr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!LR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(O(di))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rh(n){return function rPe(){if(null==Dm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Dm=!0}))}finally{Dm=Dm||!1}return Dm}()?n:!!n.capture}function y7(n){if(function sPe(){if(null==FR){const n=typeof document<"u"?document.head:null;FR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return FR}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Dx(n){return n.composedPath?n.composedPath()[0]:n.target}let cPe=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new De,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(function m7(n,t=sd){return function iPe(n){return Jt((t,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(Mt(e,c=>{i=!0,r=c,s||Un(n(c)).subscribe(s=Mt(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>Xg(n,t))}(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(O(_7),O(Ae),O(Ct,8))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({})}return n})();function VR(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Nh(n,t){const e=t?"":"none";VR(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function w7(n,t,e){VR(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Ex(n,t){return t&&"none"!=t?n+" "+t:n}function S7(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Ax(t.left,t.top)}function Ax(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function BR(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function HR(n,t,e){const{top:i,bottom:r,left:s,right:o}=n;return e>=i&&e<=r&&t>=s&&t<=o}function Am(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function D7(n,t,e,i){const{top:r,right:s,bottom:o,left:a,width:l,height:c}=n,u=l*t,d=c*t;return i>r-d&&i<o+d&&e>a-u&&e<s+u}class E7{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:BR(e)})})}handleScroll(t){const e=Dx(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let s,o;if(e===this._document){const c=this.getViewportScrollPosition();s=c.top,o=c.left}else s=e.scrollTop,o=e.scrollLeft;const a=r.top-s,l=r.left-o;return this.positions.forEach((c,u)=>{c.clientRect&&e!==u&&e.contains(u)&&Am(c.clientRect,a,l)}),r.top=s,r.left=o,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function A7(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?M7(n,t):("input"===i||"select"===i||"textarea"===i)&&k7(n,t),I7("canvas",n,t,M7),I7("input, textarea, select",n,t,k7),t}function I7(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let o=0;o<r.length;o++)i(r[o],s[o])}}let NPe=0;function k7(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${NPe++}`)}function M7(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}function R7(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function N7(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function $R(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}const OPe=new Set(["position"]);class LPe{constructor(t,e,i,r,s,o,a,l,c){this._document=t,this._rootElement=e,this._direction=i,this._initialDomRect=r,this._previewTemplate=s,this._previewClass=o,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return function PPe(n){const t=getComputedStyle(n),e=$R(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=e.indexOf(i),s=$R(t,"transition-duration"),o=$R(t,"transition-delay");return N7(s[r])+N7(o[r])}(this._preview)}addEventListener(t,e){this._preview.addEventListener(t,e)}removeEventListener(t,e){this._preview.removeEventListener(t,e)}_createPreview(){const t=this._previewTemplate,e=this._previewClass,i=t?t.template:null;let r;if(i&&t){const s=t.matchSize?this._initialDomRect:null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),r=R7(o,this._document),this._previewEmbeddedView=o,t.matchSize?S7(r,s):r.style.transform=Ax(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=A7(this._rootElement),S7(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return VR(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},OPe),Nh(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>r.classList.add(s)):r.classList.add(e)),r}}const P7=Rh({passive:!0}),Ix=Rh({passive:!1}),O7=Rh({passive:!1,capture:!0}),L7=new Set(["position"]);class VPe{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Nh(e,t)))}constructor(t,e,i,r,s,o){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new De,this._pointerMoveSubscription=Oe.EMPTY,this._pointerUpSubscription=Oe.EMPTY,this._scrollSubscription=Oe.EMPTY,this._resizeSubscription=Oe.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new De,this.started=new De,this.released=new De,this.ended=new De,this.entered=new De,this.exited=new De,this.dropped=new De,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const f=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),p=this._dropContainer;if(!f)return void this._endDragSequence(a);(!p||!p.isDragging()&&!p.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const u=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=c.x-u.x+this._passiveTransform.x,d.y=c.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new E7(i),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Dr(i)),this._handles.forEach(i=>Nh(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Dr(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Ix),e.addEventListener("touchstart",this._pointerDown,P7),e.addEventListener("dragstart",this._nativeDragStart,Ix)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Dr(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Nh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Nh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",V7,O7)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Im(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{e.addEventListener("selectstart",V7,O7)}),i){const r=this._rootElement,s=r.parentNode,o=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new LPe(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(s,e)),w7(r,!1,L7),this._document.body.appendChild(s.replaceChild(o,r)),this.started.next({source:this,event:t}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=Im(e),s=!r&&0!==e.button,o=this._rootElement,a=Dx(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?function wPe(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function CPe(n){return 0===n.buttons||0===n.detail}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||l||c)return;if(this._handles.length){const h=o.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=BR(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){w7(this._rootElement,!0,L7),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),s=this._getDragDistance(r),o=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,o,s,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=this._preview.getTransitionDuration();return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=o=>{(!o||Dx(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=R7(this._placeholderRef,this._document)):i=A7(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,s=r?r.getBoundingClientRect():t,o=Im(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:s.left-t.left+(o.pageX-s.left-a.left),y:s.top-t.top+(o.pageY-s.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Im(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=s,a.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+o,d=a.bottom-(c-o);i=F7(i,a.left+s,a.right-(l-s)),r=F7(r,u,d)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-s.x),a=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>s.x?1:-1,s.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Nh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Ix),t.removeEventListener("touchstart",this._pointerDown,P7),t.removeEventListener("dragstart",this._nativeDragStart,Ix)}_applyRootElementTransform(t,e){const i=Ax(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Ex(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=Ax(t,e);this._preview.setTransform(Ex(r,i))}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,o=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(s>0&&(t+=s),o>0&&(t-=o)):t=0,r.height>i.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Im(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Dx(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Am(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=y7(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Dr(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function F7(n,t,e){return Math.max(t,Math.min(e,n))}function Im(n){return"t"===n.type[0]}function V7(n){n.preventDefault()}function km(n,t){return Math.max(0,Math.min(t,n))}class HPe{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===o&&s.length>0)return null;const a="horizontal"===this.orientation,l=s.findIndex(g=>g.drag===t),c=s[o],d=c.clientRect,h=l>o?1:-1,f=this._getItemOffsetPx(s[l].clientRect,d,h),p=this._getSiblingOffsetPx(l,s,h),m=s.slice();return function BPe(n,t,e){const i=km(t,n.length-1),r=km(e,n.length-1);if(i===r)return;const s=n[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)n[a]=n[a+o];n[r]=s}(s,l,o),s.forEach((g,v)=>{if(m[v]===g)return;const _=g.drag===t,b=_?f:p,C=_?t.getPlaceholderElement():g.drag.getRootElement();g.offset+=b,a?(C.style.transform=Ex(`translate3d(${Math.round(g.offset)}px, 0, 0)`,g.initialTransform),Am(g.clientRect,0,b)):(C.style.transform=Ex(`translate3d(0, ${Math.round(g.offset)}px, 0)`,g.initialTransform),Am(g.clientRect,b,0))}),this._previousSwap.overlaps=HR(d,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:o}}enter(t,e,i,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,o=this._activeDraggables,a=o.indexOf(t),l=t.getPlaceholderElement();let c=o[s];if(c===t&&(c=o[s+1]),!c&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const u=c.getRootElement();u.parentElement.insertBefore(l,u),o.splice(s,0,t)}else Dr(this._element).appendChild(l),o.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Am(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:BR(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let s=r?e.left-t.left:e.top-t.top;return-1===i&&(s+=r?e.width-t.width:e.height-t.height),s}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,s=e[t].clientRect,o=e[t+-1*i];let a=s[r?"width":"height"]*i;if(o){const l=r?"left":"top",c=r?"right":"bottom";-1===i?a-=o.clientRect[l]-s[c]:a+=s[l]-o.clientRect[c]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return r?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return r?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==t&&((!r||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==o&&this._sortPredicate(o,t)?o:-1}}var ps=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(ps||{}),cr=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(cr||{});class $Pe{constructor(t,e,i,r,s){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new De,this.entered=new De,this.exited=new De,this.dropped=new De,this.sorted=new De,this.receivingStarted=new De,this.receivingStopped=new De,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Oe.EMPTY,this._verticalScrollDirection=ps.NONE,this._horizontalScrollDirection=cr.NONE,this._stopScrollTimers=new De,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function APe(n=0,t=sd){return n<0&&(n=0),Xg(n,n,t)}(0,PR).pipe(an(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;this._verticalScrollDirection===ps.UP?o.scrollBy(0,-a):this._verticalScrollDirection===ps.DOWN&&o.scrollBy(0,a),this._horizontalScrollDirection===cr.LEFT?o.scrollBy(-a,0):this._horizontalScrollDirection===cr.RIGHT&&o.scrollBy(a,0)})},this.element=Dr(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new E7(i),this._sortStrategy=new HPe(this.element,e),this._sortStrategy.withSortPredicate((o,a)=>this.sortPredicate(o,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,s,o,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:a,event:l})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Dr(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._domRect||!D7(this._domRect,.05,e,i))return;const s=this._sortStrategy.sort(t,e,i,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=ps.NONE,s=cr.NONE;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||D7(o.clientRect,.05,t,e)&&([r,s]=function UPe(n,t,e,i,r){const s=$7(t,r),o=U7(t,i);let a=ps.NONE,l=cr.NONE;if(s){const c=n.scrollTop;s===ps.UP?c>0&&(a=ps.UP):n.scrollHeight-c>n.clientHeight&&(a=ps.DOWN)}if(o){const c=n.scrollLeft;"rtl"===e?o===cr.RIGHT?c<0&&(l=cr.RIGHT):n.scrollWidth+c>n.clientWidth&&(l=cr.LEFT):o===cr.LEFT?c>0&&(l=cr.LEFT):n.scrollWidth-c>n.clientWidth&&(l=cr.RIGHT)}return[a,l]}(a,o.clientRect,this._sortStrategy.direction,t,e),(r||s)&&(i=a))}),!r&&!s){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};r=$7(l,e),s=U7(l,t),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Dr(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Dr(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Dr(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._domRect&&HR(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._domRect||!HR(this._domRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const s=Dr(this.element);return r===s||s.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=y7(Dr(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function $7(n,t){const{top:e,bottom:i,height:r}=n,s=.05*r;return t>=e-s&&t<=e+s?ps.UP:t>=i-s&&t<=i+s?ps.DOWN:ps.NONE}function U7(n,t){const{left:e,right:i,width:r}=n,s=.05*r;return t>=e-s&&t<=e+s?cr.LEFT:t>=i-s&&t<=i+s?cr.RIGHT:cr.NONE}const kx=Rh({passive:!1,capture:!0});let GPe=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new De,this.pointerUp=new De,this.scroll=new De,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,kx)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,kx)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:kx}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:kx}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new dt(r=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&r.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),$h(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ae),O(Ct))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const zPe={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Mx=new Set;let jPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Ve({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[Sa],decls:0,vars:0,template:function(i,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0})}return n})(),UR=(()=>{class n{constructor(e,i,r,s){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s,this._appRef=ne(xs),this._environmentInjector=ne(gr)}createDrag(e,i=zPe){return this._loadResets(),new VPe(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new $Pe(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}_loadResets(){if(!Mx.has(this._appRef)){Mx.add(this._appRef);const e=function Oie(n,t){const e=ht(n),i=t.elementInjector||$_();return new wf(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}(jPe,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Mx.delete(this._appRef),0===Mx.size&&e.destroy()})}}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ct),O(Ae),O(cPe),O(GPe))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tOe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({providers:[UR],imports:[uPe]})}return n})();class nOe{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const iOe={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const ai=typeof window<"u"&&window||{},li=ai.document;var q7=function(n){return n.isBs4="bs4",n.isBs5="bs5",n}(q7||{});let ua;function Y7(){const n=ai.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),ai.document.head.appendChild(n);const t=ai.getComputedStyle(n).paddingLeft;return t&&parseFloat(t)?(ai.document.head.removeChild(n),"bs4"):(ai.document.head.removeChild(n),"bs5")}function Rm(){return{isBs4:(ua||(ua=Y7()),"bs4"===ua),isBs5:(ua||(ua=Y7()),"bs5"===ua)}}class uOe{static reflow(t){}static getStyles(t){let e=t.ownerDocument.defaultView;return(!e||!e.opener)&&(e=ai),e.getComputedStyle(t)}static stackOverflowConfig(){const t=function cOe(){const n=Rm(),t=Object.keys(n).find(e=>n[e]);return q7[t]}();return{crossorigin:"anonymous",integrity:"bs5"===t?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===t?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;var X7=function(n){return n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",n}(X7||{}),zR=function(n){return n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",n}(zR||{});function Gc(n,t){if(1!==n.nodeType)return[];const i=n.ownerDocument.defaultView?.getComputedStyle(n,null);return t?i&&i[t]:i}function jR(n){if(!n)return document.documentElement;let i,e=n?.offsetParent;for(;null===e&&n.nextElementSibling&&i!==n.nextElementSibling;)i=n.nextElementSibling,e=i.offsetParent;const r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?e&&-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===Gc(e,"position")?jR(e):e:i?i.ownerDocument.documentElement:document.documentElement}function WR(n){return null!==n.parentNode?WR(n.parentNode):n}function Rx(n,t){if(!(n&&n.nodeType&&t&&t.nodeType))return document.documentElement;const e=n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=e?n:t,r=e?t:n,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);const o=s.commonAncestorContainer;if(n!==o&&t!==o||i.contains(r))return function hOe(n){const{nodeName:t}=n;return"BODY"!==t&&("HTML"===t||jR(n.firstElementChild)===n)}(o)?o:jR(o);const a=WR(n);return a.host?Rx(a.host,t):Rx(n,WR(t).host)}function Q7(n){if(!n||!n.parentElement)return document.documentElement;let t=n.parentElement;for(;t?.parentElement&&"none"===Gc(t,"transform");)t=t.parentElement;return t||document.documentElement}function Z7(n,t){const e="x"===t?"Left":"Top",i="Left"===e?"Right":"Bottom";return parseFloat(n[`border${e}Width`])+parseFloat(n[`border${i}Width`])}function J7(n,t,e){return Math.max(t[`offset${n}`],t[`scroll${n}`],e[`client${n}`],e[`offset${n}`],e[`scroll${n}`],0)}function eq(n){const t=n.body,e=n.documentElement;return{height:J7("Height",t,e),width:J7("Width",t,e)}}function Nm(n){return{...n,right:(n.left||0)+n.width,bottom:(n.top||0)+n.height}}function dn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function tq(n){const t=n.getBoundingClientRect();if(!(t&&dn(t.top)&&dn(t.left)&&dn(t.bottom)&&dn(t.right)))return t;const e={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===n.nodeName?eq(n.ownerDocument):void 0,r=i?.width||n.clientWidth||dn(t.right)&&dn(e.left)&&t.right-e.left||0,s=i?.height||n.clientHeight||dn(t.bottom)&&dn(e.top)&&t.bottom-e.top||0;let o=n.offsetWidth-r,a=n.offsetHeight-s;if(o||a){const l=Gc(n);o-=Z7(l,"x"),a-=Z7(l,"y"),e.width-=o,e.height-=a}return Nm(e)}function qR(n,t,e=!1){const i="HTML"===t.nodeName,r=tq(n),s=tq(t),o=Gc(t),a=parseFloat(o.borderTopWidth),l=parseFloat(o.borderLeftWidth);e&&i&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const c=Nm({top:(r.top??0)-(s.top??0)-a,left:(r.left??0)-(s.left??0)-l,width:r.width,height:r.height});if(c.marginTop=0,c.marginLeft=0,i){const u=parseFloat(o.marginTop),d=parseFloat(o.marginLeft);dn(c.top)&&(c.top-=a-u),dn(c.bottom)&&(c.bottom-=a-u),dn(c.left)&&(c.left-=l-d),dn(c.right)&&(c.right-=l-d),c.marginTop=u,c.marginLeft=d}return c}function YR(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function nq(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:t,overflowX:e,overflowY:i}=Gc(n);return/(auto|scroll|overlay)/.test(String(t)+String(i)+String(e))?n:nq(YR(n))}function iq(n,t="top"){const e="top"===t?"scrollTop":"scrollLeft",i=n.nodeName;return"BODY"===i||"HTML"===i?(n.ownerDocument.scrollingElement||n.ownerDocument.documentElement)[e]:n[e]}function rq(n){const t=n.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===Gc(n,"position")||rq(YR(n)))}function KR(n,t,e=0,i,r=!1){let s={top:0,left:0};const o=r?Q7(n):Rx(n,t);if("viewport"===i)s=function pOe(n,t=!1){const e=n.ownerDocument.documentElement,i=qR(n,e),r=Math.max(e.clientWidth,window.innerWidth||0),s=Math.max(e.clientHeight,window.innerHeight||0),o=t?0:iq(e),a=t?0:iq(e,"left");return Nm({top:o-Number(i?.top)+Number(i?.marginTop),left:a-Number(i?.left)+Number(i?.marginLeft),width:r,height:s})}(o,r);else{let a;"scrollParent"===i?(a=nq(YR(t)),"BODY"===a.nodeName&&(a=n.ownerDocument.documentElement)):a="window"===i?n.ownerDocument.documentElement:i;const l=qR(a,o,r);if(l&&"HTML"===a.nodeName&&!rq(o)){const{height:c,width:u}=eq(n.ownerDocument);dn(s.top)&&dn(l.top)&&dn(l.marginTop)&&(s.top+=l.top-l.marginTop),dn(s.top)&&(s.bottom=Number(c)+Number(l.top)),dn(s.left)&&dn(l.left)&&dn(l.marginLeft)&&(s.left+=l.left-l.marginLeft),dn(s.top)&&(s.right=Number(u)+Number(l.left))}else l&&(s=l)}return dn(s.left)&&(s.left+=e),dn(s.top)&&(s.top+=e),dn(s.right)&&(s.right-=e),dn(s.bottom)&&(s.bottom-=e),s}function gOe({width:n,height:t}){return n*t}function sq(n,t,e,i,r=["top","bottom","right","left"],s="viewport",o=0){if(-1===n.indexOf("auto"))return n;const a=KR(e,i,o,s),l={top:{width:a?.width??0,height:(t?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(t?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(t?.bottom??0)},left:{width:(t.left??0)-(a?.left??0),height:a?.height??0}},c=Object.keys(l).map(f=>({position:f,...l[f],area:gOe(l[f])})).sort((f,p)=>p.area-f.area);let u=c.filter(({width:f,height:p})=>f>=e.clientWidth&&p>=e.clientHeight);u=u.filter(({position:f})=>r.some(p=>p===f));const d=u.length>0?u[0].position:c[0].position,h=n.split(" ")[1];return e.className=e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Rm().isBs5?zR[d]:d}`),d+(h?`-${h}`:"")}const Nx=(n,t=0)=>n?parseFloat(n):t;function oq(n){const e=n.ownerDocument.defaultView?.getComputedStyle(n),i=Nx(e?.marginTop)+Nx(e?.marginBottom),r=Nx(e?.marginLeft)+Nx(e?.marginRight);return{width:Number(n.offsetWidth)+r,height:Number(n.offsetHeight)+i}}function aq(n,t,e){return qR(t,e?Q7(n):Rx(n,t),e)}function XR(n,t,e){const i=e.split(" ")[0],r=oq(n),s={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",l=o?"left":"top",c=o?"height":"width",u=o?"width":"height";return s[a]=(t[a]??0)+t[c]/2-r[c]/2,s[l]=i===l?(t[l]??0)-r[u]:t[function _Oe(n){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,e=>t[e])}(l)]??0,s}function lq(n,t){return!!n.modifiers[t]?.enabled}const yOe={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Px(n,t){return!!Rm().isBs5&&yOe[t].includes(n)}function cq(n,t,e){!n||!t||Object.keys(t).forEach(i=>{let r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function fOe(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(t[i])&&(r="px"),e?e.setStyle(n,i,`${String(t[i])}${r}`):n.style[i]=String(t[i])+r})}function TOe(n){let t=n.offsets.target;const e=n.instance.target.querySelector(".arrow");if(!e)return n;const i=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),r=i?"height":"width",s=i?"Top":"Left",o=s.toLowerCase(),a=i?"left":"top",l=i?"bottom":"right",c=oq(e)[r],u=n.placement.split(" ")[1];(n.offsets.host[l]??0)-c<(t[o]??0)&&(t[o]-=(t[o]??0)-((n.offsets.host[l]??0)-c)),Number(n.offsets.host[o])+Number(c)>(t[l]??0)&&(t[o]+=Number(n.offsets.host[o])+Number(c)-Number(t[l])),t=Nm(t);const d=Gc(n.instance.target),h=parseFloat(d[`margin${s}`])||0,f=parseFloat(d[`border${s}Width`])||0;let p;if(u){const g=parseFloat(d.borderRadius)||0,v=Number(h+f+g);p=o===u?Number(n.offsets.host[o])+v:Number(n.offsets.host[o])+Number(n.offsets.host[r]-v)}else p=Number(n.offsets.host[o])+Number(n.offsets.host[r]/2-c/2);let m=p-(t[o]??0)-h-f;return m=Math.max(Math.min(t[r]-(c+5),m),0),n.offsets.arrow={[o]:Math.round(m),[a]:""},n.instance.arrow=e,n}function COe(n){if(n.offsets.target=Nm(n.offsets.target),!lq(n.options,"flip"))return n.offsets.target={...n.offsets.target,...XR(n.instance.target,n.offsets.host,n.placement)},n;const t=KR(n.instance.target,n.instance.host,0,"viewport",!1);let e=n.placement.split(" ")[0],i=n.placement.split(" ")[1]||"";const a=sq("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),l=[e,a];return l.forEach((c,u)=>{if(e!==c||l.length===u+1)return;e=n.placement.split(" ")[0];const d="left"===e&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||"right"===e&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||"top"===e&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||"bottom"===e&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),h=Math.floor(n.offsets.target.left??0)<Math.floor(t.left??0),f=Math.floor(n.offsets.target.right??0)>Math.floor(t.right??0),p=Math.floor(n.offsets.target.top??0)<Math.floor(t.top??0),m=Math.floor(n.offsets.target.bottom??0)>Math.floor(t.bottom??0),g="left"===e&&h||"right"===e&&f||"top"===e&&p||"bottom"===e&&m,v=-1!==["top","bottom"].indexOf(e),_=v&&"left"===i&&h||v&&"right"===i&&f||!v&&"left"===i&&p||!v&&"right"===i&&m;(d||g||_)&&((d||g)&&(e=l[u+1]),_&&(i=function vOe(n){return"right"===n?"left":"left"===n?"right":n}(i)),n.placement=e+(i?` ${i}`:""),n.offsets.target={...n.offsets.target,...XR(n.instance.target,n.offsets.host,n.placement)})}),n}function SOe(n){if(!lq(n.options,"preventOverflow"))return n;const t="transform",e=n.instance.target.style,{top:i,left:r,[t]:s}=e;e.top="",e.left="",e[t]="";const o=KR(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);e.top=i,e.left=r,e[t]=s;const l={primary(c){let u=n.offsets.target[c];return(n.offsets.target[c]??0)<(o[c]??0)&&(u=Math.max(n.offsets.target[c]??0,o[c]??0)),{[c]:u}},secondary(c){const u="right"===c,d=u?"left":"top";let f=n.offsets.target[d];return(n.offsets.target[c]??0)>(o[c]??0)&&(f=Math.min(n.offsets.target[d]??0,(o[c]??0)-n.offsets.target[u?"width":"height"])),{[d]:f}}};return["left","right","top","bottom"].forEach(c=>{const u=-1!==["left","top","start"].indexOf(c)?l.primary:l.secondary;n.offsets.target={...n.offsets.target,...u(c)}}),n}function DOe(n){const t=n.placement,e=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:r,target:s}=n.offsets,o=-1!==["bottom","top"].indexOf(e),a=o?"left":"top",l=o?"width":"height",c={start:{[a]:r[a]},end:{[a]:(r[a]??0)+r[l]-s[l]}};n.offsets.target={...s,[a]:a===i?c.start[a]:c.end[a]}}return n}const AOe=new class EOe{position(t,e){return this.offset(t,e)}offset(t,e){return aq(e,t)}positionElements(t,e,i,r,s){const o=[COe,DOe,SOe,TOe],l=function wOe(n,t,e,i){if(!n||!t)return;const r=aq(n,t);!e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(e="auto");const s=!!e.match(/auto/g);let o=e.match(/auto\s(left|right|top|bottom|start|end)/)?e.split(" ")[1]||"auto":e;const a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),o=sq(o,r,n,t,i?i.allowedPositions:void 0),{options:i||{modifiers:{}},instance:{target:n,host:t,arrow:void 0},offsets:{target:XR(n,r,o),host:r,arrow:void 0},positionFixed:!1,placement:o,placementAuto:s}}(e,t,X7[i],s);if(l)return o.reduce((c,u)=>u(c),l)}};function IOe(n,t,e,i,r,s){const o=AOe.positionElements(n,t,e,i,r);if(!o)return;const a=function mOe(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}(o);cq(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&cq(o.instance.arrow,o.offsets.arrow,s),function xOe(n,t){const e=n.instance.target;let i=e.className;const r=Rm().isBs5?zR[n.placement]:n.placement;n.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${r}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),i=i.replace(/\sauto/g,` ${r}`),-1!==i.indexOf("popover")&&(i=i+" "+function bOe(n){return Rm().isBs5?Px(n,"end")?"ms-2":Px(n,"start")?"me-2":Px(n,"top")?"mb-2":Px(n,"bottom")?"mt-2":"":""}(r)),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),t?t.setAttribute(e,"class",i):e.className=i}(o,s)}let Ox=(()=>{class n{constructor(e,i,r){this.update$$=new De,this.positionElements=new Map,this.isDisabled=!1,vr(r)&&e.runOutsideAngular(()=>{this.triggerEvent$=$h(si(window,"scroll",{passive:!0}),si(window,"resize",{passive:!0}),we(0,PR),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{IOe(Lx(s.target),Lx(s.element),s.attachment,s.appendToBody,this.options,i.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(Lx(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(Lx(e))}setOptions(e){this.options=e}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ae),O(Ta),O(di))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lx(n){return"string"==typeof n?document.querySelector(n):n instanceof $e?n.nativeElement:n??null}class Pm{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class kOe{constructor(t,e,i,r,s,o,a,l,c){this._viewContainerRef=t,this._renderer=e,this._elementRef=i,this._injector=r,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=l,this._document=c,this.onBeforeShow=new K,this.onShown=new K,this.onBeforeHide=new K,this.onHidden=new K,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=mn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof $e&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode?.removeChild(e),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef?.nativeElement;const e=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),i=this._listenOpts.show=s=>{t.show?t.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function rOe(n,t){const e=function W7(n,t=iOe){const e=(n||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(s=>s.split(":")).map(s=>{const o=t[s[0]]||s;return new nOe(o[0],o[1])}),r=i.filter(s=>s.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}(t.triggers),i=t.target;if(1===e.length&&e[0].isManual())return Function.prototype;const r=[],s=[],o=()=>{s.forEach(a=>r.push(a())),s.length=0};return e.forEach(a=>{const l=a.open===a.close,c=l?t.toggle:t.show;if(!l&&a.close&&t.hide){const u=a.close,d=t.hide;s.push(()=>n.listen(i,u,d))}c&&r.push(n.listen(i,a.open,()=>c(o)))}),()=>{r.forEach(a=>a())}}(this._renderer,{target:t.target,triggers:t.triggers,show:i,hide:e,toggle:s=>{this.isShown?e():i(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(t,e){return t&&e&&(this._inlineViewRef=t.createEmbeddedView(e)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function sOe(n,t){return t.outsideClick?n.listen("document","click",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(i=>i.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function oOe(n,t){return t.outsideEsc?n.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(i=>i.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(t,e,i){if(!t)return new Pm([]);if(t instanceof qt){if(this._viewContainerRef){const o=this._viewContainerRef.createEmbeddedView(t,e);return o.markForCheck(),new Pm([o.rootNodes],o)}const s=t.createEmbeddedView({});return this._applicationRef.attachView(s),new Pm([s.rootNodes],s)}if("function"==typeof t){const s=this._componentFactoryResolver.resolveComponentFactory(t),o=mn.create({providers:this._providers,parent:this._injector}),a=s.create(o);return Object.assign(a.instance,i),this._applicationRef.attachView(a.hostView),new Pm([[a.location.nativeElement]],a.hostView,a)}const r=this._renderer?[this._renderer.createText(`${t}`)]:[];return new Pm([r])}}let QR,Fx=(()=>{class n{constructor(e,i,r,s,o,a){this._componentFactoryResolver=e,this._ngZone=i,this._injector=r,this._posService=s,this._applicationRef=o,this._document=a}createLoader(e,i,r){return new kOe(i,r,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(O(wl),O(Ae),O(mn),O(Ox),O(xs),O(Ct))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MOe=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Fx,Ox]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({imports:[vn]})}return n})(),ROe=(()=>{class n{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==e);let i=this._focusTrapStack;i.length&&i[i.length-1]._disable(),i.push(e),e._enable()}deregister(e){e._disable();const i=this._focusTrapStack,r=i.indexOf(e);-1!==r&&(i.splice(r,1),i.length&&i[i.length-1]._enable())}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{QR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{QR=!1}let uq=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?vr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!QR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(O(di))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dq=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function POe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function NOe(n){try{return n.frameElement}catch{return null}}(function UOe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===fq(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=fq(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function HOe(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function $Oe(n){return!function LOe(n){return function VOe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function OOe(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function FOe(n){return function BOe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||hq(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(O(uq))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hq(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function fq(n){if(!hq(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function pq(n){return null!=n&&"false"!=`${n}`}class GOe{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let i=0;i<e.length;i++)e[i].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]):e[i].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[i]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return e?.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Nn(1)).subscribe(t)}}let zOe=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new GOe(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(O(dq),O(Ae),O(Ct))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jOe=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=pq(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=pq(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(i){return new(i||n)(y($e),y(zOe),y(Ct))};static#t=this.\u0275dir=ee({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[kt]})}return n})(),gq=(()=>{class n{static forRoot(){return{ngModule:n,providers:[ROe,uq,dq]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({imports:[vn]})}return n})();const WOe=["*"];let mq=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),_q=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Vx={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},qOe=new X("override-default-config");let YOe=(()=>{class n{constructor(e,i,r){this._element=i,this._renderer=r,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}ngOnInit(){this._focusEl=li.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),li&&li.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(li.body,"modal-open"),this._renderer.setStyle(li.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(e){this.clickStartedInContent=e.target!==this._element.nativeElement}onClickStop(e){this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(e){this.isShown&&((27===e.keyCode||"Escape"===e.key)&&e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,li&&li.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(li.body,"modal-open"),this._renderer.setStyle(li.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static#e=this.\u0275fac=function(i){return new(i||n)(y(_q),y($e),y(Di))};static#t=this.\u0275cmp=Ve({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(i,r){1&i&&$("mousedown",function(o){return r.onClickStarted(o)})("click",function(o){return r.onClickStop(o)})("popstate",function(){return r.onPopState()},!1,Y_)("keydown.esc",function(o){return r.onEsc(o)},!1,Y_),2&i&&xe("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:WOe,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(i,r){1&i&&(Mo(),x(0,"div",0)(1,"div",1),qs(2),T()()),2&i&&Ei("modal-dialog"+(r.config.class?" "+r.config.class:""))},dependencies:[jOe],encapsulation:2})}return n})(),KOe=(()=>{class n{get isAnimated(){return this._isAnimated}set isAnimated(e){this._isAnimated=e}get isShown(){return this._isShown}set isShown(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(e,i){this._isAnimated=!1,this._isShown=!1,this.element=e,this.renderer=i}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),uOe.reflow(this.element.nativeElement)),this.isShown=!0}static#e=this.\u0275fac=function(i){return new(i||n)(y($e),y(Di))};static#t=this.\u0275cmp=Ve({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})(),XOe=1,vq=(()=>{class n{constructor(e,i,r){this.clf=i,this.modalDefaultOption=r,this.onShow=new K,this.onShown=new K,this.onHide=new K,this.onHidden=new K,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=e.createRenderer(null,null),this.config=r?Object.assign({},Vx,r):Vx}show(e,i){this._focusEl=li.activeElement,this.modalsCount++,this._createLoaders();const r=i?.id||XOe++;return this.config=this.modalDefaultOption?Object.assign({},Vx,this.modalDefaultOption,i):Object.assign({},Vx,i),this.config.id=r,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(e)}hide(e){(1===this.modalsCount||null==e)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=e?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(e),this.removeLoaders(e)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const e=!0===this.config.backdrop||"static"===this.config.backdrop,i=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),e&&i&&(this._backdropLoader.attach(KOe).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(e){const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const o of this.config.providers)i.provide(o);const r=new mq,s=i.provide({provide:_q,useValue:this.config}).provide({provide:mq,useValue:r}).attach(YOe).to("body");return r.hide=()=>this.hide(r.id),r.setClass=o=>{s.instance&&(s.instance.config.class=o)},r.onHidden=new K,r.onHide=new K,this.copyEvent(i.onBeforeHide,r.onHide),this.copyEvent(i.onHidden,r.onHidden),s.show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),r.content=i.getInnerComponent(),r.id=s.instance.config?.id),r}_hideModal(e){if(null!=e){const i=this.loaders.findIndex(s=>s.instance?.config.id===e),r=this.loaders[i];r&&r.hide(e)}else this.loaders.forEach(i=>{i.instance&&i.hide(i.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(e){this.lastDismissReason=e}removeBackdrop(){this._renderer.removeClass(li.body,"modal-open"),this._renderer.setStyle(li.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=li.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){li&&(this.originalBodyPadding=parseInt(window.getComputedStyle(li.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(li.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){li.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const e=this._renderer.createElement("div");this._renderer.addClass(e,"modal-scrollbar-measure"),this._renderer.appendChild(li.body,e);const i=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(li.body,e),i}_createLoaders(){const e=this.clf.createLoader();this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}removeLoaders(e){if(null!=e){const i=this.loaders.findIndex(r=>r.instance?.config.id===e);i>=0&&(this.loaders.splice(i,1),this.loaders.forEach((r,s)=>{r.instance&&(r.instance.level=s+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(e,i){e.subscribe(r=>{i.emit(this.lastDismissReason||r)})}static#e=this.\u0275fac=function(i){return new(i||n)(O(Ta),O(Fx),O(qOe,8))};static#t=this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();gq.forRoot();let QOe=(()=>{class n{static forRoot(){return{ngModule:n,providers:[vq,Fx,Ox]}}static forChild(){return{ngModule:n,providers:[vq,Fx,Ox]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n});static#n=this.\u0275inj=be({imports:[gq]})}return n})(),ZOe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Te({type:n,bootstrap:[DSe]});static#n=this.\u0275inj=be({providers:[Sc],imports:[VB,CSe,F0e,jNe,Jae,Xwe,lM,tOe,rSe,MOe.forRoot(),QOe.forRoot(),Ihe(()=>khe(ESe_firebase)),h0e(()=>f0e())]})}return n})();Xse().bootstrapModule(ZOe).catch(n=>console.error(n))},178:vo=>{function qr(Qt){return Qt instanceof Buffer?Buffer.from(Qt):new Qt.constructor(Qt.buffer.slice(),Qt.byteOffset,Qt.length)}vo.exports=function dl(Qt){return(Qt=Qt||{}).circles?function Je(Qt){var Zt=[],Tn=[];return Qt.proto?function Et(ye){if("object"!=typeof ye||null===ye)return ye;if(ye instanceof Date)return new Date(ye);if(Array.isArray(ye))return Oe(ye,Et);if(ye instanceof Map)return new Map(Oe(Array.from(ye),Et));if(ye instanceof Set)return new Set(Oe(Array.from(ye),Et));var ge={};for(var vt in Zt.push(ye),Tn.push(ge),ye){var Le=ye[vt];if("object"!=typeof Le||null===Le)ge[vt]=Le;else if(Le instanceof Date)ge[vt]=new Date(Le);else if(Le instanceof Map)ge[vt]=new Map(Oe(Array.from(Le),Et));else if(Le instanceof Set)ge[vt]=new Set(Oe(Array.from(Le),Et));else if(ArrayBuffer.isView(Le))ge[vt]=qr(Le);else{var Ut=Zt.indexOf(Le);ge[vt]=-1!==Ut?Tn[Ut]:Et(Le)}}return Zt.pop(),Tn.pop(),ge}:function Ge(ye){if("object"!=typeof ye||null===ye)return ye;if(ye instanceof Date)return new Date(ye);if(Array.isArray(ye))return Oe(ye,Ge);if(ye instanceof Map)return new Map(Oe(Array.from(ye),Ge));if(ye instanceof Set)return new Set(Oe(Array.from(ye),Ge));var ge={};for(var vt in Zt.push(ye),Tn.push(ge),ye)if(!1!==Object.hasOwnProperty.call(ye,vt)){var Le=ye[vt];if("object"!=typeof Le||null===Le)ge[vt]=Le;else if(Le instanceof Date)ge[vt]=new Date(Le);else if(Le instanceof Map)ge[vt]=new Map(Oe(Array.from(Le),Ge));else if(Le instanceof Set)ge[vt]=new Set(Oe(Array.from(Le),Ge));else if(ArrayBuffer.isView(Le))ge[vt]=qr(Le);else{var Ut=Zt.indexOf(Le);ge[vt]=-1!==Ut?Tn[Ut]:Ge(Le)}}return Zt.pop(),Tn.pop(),ge};function Oe(ye,ge){for(var vt=Object.keys(ye),Le=new Array(vt.length),Ut=0;Ut<vt.length;Ut++){var Ls=vt[Ut],Ar=ye[Ls];if("object"!=typeof Ar||null===Ar)Le[Ls]=Ar;else if(Ar instanceof Date)Le[Ls]=new Date(Ar);else if(ArrayBuffer.isView(Ar))Le[Ls]=qr(Ar);else{var Fs=Zt.indexOf(Ar);Le[Ls]=-1!==Fs?Tn[Fs]:ge(Ar)}}return Le}}(Qt):Qt.proto?function Oe(Ge){if("object"!=typeof Ge||null===Ge)return Ge;if(Ge instanceof Date)return new Date(Ge);if(Array.isArray(Ge))return Zt(Ge,Oe);if(Ge instanceof Map)return new Map(Zt(Array.from(Ge),Oe));if(Ge instanceof Set)return new Set(Zt(Array.from(Ge),Oe));var Et={};for(var ye in Ge){var ge=Ge[ye];Et[ye]="object"!=typeof ge||null===ge?ge:ge instanceof Date?new Date(ge):ge instanceof Map?new Map(Zt(Array.from(ge),Oe)):ge instanceof Set?new Set(Zt(Array.from(ge),Oe)):ArrayBuffer.isView(ge)?qr(ge):Oe(ge)}return Et}:function Tn(Ge){if("object"!=typeof Ge||null===Ge)return Ge;if(Ge instanceof Date)return new Date(Ge);if(Array.isArray(Ge))return Zt(Ge,Tn);if(Ge instanceof Map)return new Map(Zt(Array.from(Ge),Tn));if(Ge instanceof Set)return new Set(Zt(Array.from(Ge),Tn));var Et={};for(var ye in Ge)if(!1!==Object.hasOwnProperty.call(Ge,ye)){var ge=Ge[ye];Et[ye]="object"!=typeof ge||null===ge?ge:ge instanceof Date?new Date(ge):ge instanceof Map?new Map(Zt(Array.from(ge),Tn)):ge instanceof Set?new Set(Zt(Array.from(ge),Tn)):ArrayBuffer.isView(ge)?qr(ge):Tn(ge)}return Et};function Zt(Ge,Et){for(var ye=Object.keys(Ge),ge=new Array(ye.length),vt=0;vt<ye.length;vt++){var Le=ye[vt],Ut=Ge[Le];ge[Le]="object"!=typeof Ut||null===Ut?Ut:Ut instanceof Date?new Date(Ut):ArrayBuffer.isView(Ut)?qr(Ut):Et(Ut)}return ge}}},614:()=>{const vo=":";const pl=function(k,...E){if(pl.translate){const U=pl.translate(k,E);k=U[0],E=U[1]}let L=Wm(k[0],k.raw[0]);for(let U=1;U<k.length;U++)L+=E[U-1]+Wm(k[U],k.raw[U]);return L},jm=":";function Wm(k,E){return E.charAt(0)===jm?k.substring(function $m(k,E){for(let L=1,U=1;L<k.length;L++,U++)if("\\"===E[U])U++;else if(k[L]===vo)return L;throw new Error(`Unterminated $localize metadata block in "${E}".`)}(k,E)+1):k}globalThis.$localize=pl}},vo=>{var qr=Je=>vo(vo.s=Je);qr(614),qr(881)}]);