"use strict";(self.webpackChunkTrackify=self.webpackChunkTrackify||[]).push([[179],{985:(ao,Br,Ja)=>{function Qe(n){return"function"==typeof n}function Kt(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Xt=Kt(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function mn(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Be{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Qe(i))try{i()}catch(s){t=s instanceof Xt?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ye(s)}catch(o){t=t??[],o instanceof Xt?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Xt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ye(t);else{if(t instanceof Be){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&mn(e,t)}remove(t){const{_finalizers:e}=this;e&&mn(e,t),t instanceof Be&&t._removeParent(this)}}Be.EMPTY=(()=>{const n=new Be;return n.closed=!0,n})();const $e=Be.EMPTY;function Dt(n){return n instanceof Be||n&&"closed"in n&&Qe(n.remove)&&Qe(n.add)&&Qe(n.unsubscribe)}function ye(n){Qe(n)?n():n.unsubscribe()}const ge={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},mt={setTimeout(n,t,...e){const{delegate:i}=mt;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=mt;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Oe(n){mt.setTimeout(()=>{const{onUnhandledError:t}=ge;if(!t)throw n;t(n)})}function Vt(){}const Ds=hh("C",void 0,void 0);function hh(n,t,e){return{kind:n,value:t,error:e}}let As=null;function el(n){if(ge.useDeprecatedSynchronousErrorHandling){const t=!As;if(t&&(As={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=As;if(As=null,e)throw i}}else n()}class kc extends Be{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Dt(t)&&t.add(this)):this.destination=am}static create(t,e,i){return new tl(t,e,i)}next(t){this.isStopped?ph(function Es(n){return hh("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ph(function _r(n){return hh("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ph(Ds,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fh=Function.prototype.bind;function Hr(n,t){return fh.call(n,t)}class om{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){na(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){na(i)}else na(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){na(e)}}}class tl extends kc{constructor(t,e,i){let r;if(super(),Qe(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&ge.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Hr(t.next,s),error:t.error&&Hr(t.error,s),complete:t.complete&&Hr(t.complete,s)}):r=t}this.destination=new om(r)}}function na(n){ge.useDeprecatedSynchronousErrorHandling?function sm(n){ge.useDeprecatedSynchronousErrorHandling&&As&&(As.errorThrown=!0,As.error=n)}(n):Oe(n)}function ph(n,t){const{onStoppedNotification:e}=ge;e&&mt.setTimeout(()=>e(n,t))}const am={closed:!0,next:Vt,error:function fT(n){throw n},complete:Vt},gh="function"==typeof Symbol&&Symbol.observable||"@@observable";function $r(n){return n}function lm(n){return 0===n.length?$r:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let ct=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function gT(n){return n&&n instanceof kc||function um(n){return n&&Qe(n.next)&&Qe(n.error)&&Qe(n.complete)}(n)&&Dt(n)}(e)?e:new tl(e,i,r);return el(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=cm(i))((r,s)=>{const o=new tl({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[gh](){return this}pipe(...e){return lm(e)(this)}toPromise(e){return new(e=cm(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function cm(n){var t;return null!==(t=n??ge.Promise)&&void 0!==t?t:Promise}const dm=Kt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ee=(()=>{class n extends ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new mT(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new dm}next(e){el(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){el(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){el(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?$e:(this.currentObservers=null,s.push(e),new Be(()=>{this.currentObservers=null,mn(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new ct;return e.source=this,e}}return n.create=(t,e)=>new mT(t,e),n})();class mT extends Ee{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:$e}}function hm(n){return Qe(n?.lift)}function Qt(n){return t=>{if(hm(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function It(n,t,e,i,r){return new fm(n,t,e,i,r)}class fm extends kc{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ue(n,t){return Qt((e,i)=>{let r=0;e.subscribe(It(i,s=>{i.next(n.call(t,s,r++))}))})}function nl(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}function Nn(n){return this instanceof Nn?(this.v=n,this):new Nn(n)}function ia(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Rn(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const bT=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function xR(n){return Qe(n?.then)}function CR(n){return Qe(n[gh])}function wR(n){return Symbol.asyncIterator&&Qe(n?.[Symbol.asyncIterator])}function SR(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const DR=function E7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ER(n){return Qe(n?.[DR])}function AR(n){return function rl(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Nn?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Nn(e.read());if(r)return yield Nn(void 0);yield yield Nn(i)}}finally{e.releaseLock()}})}function IR(n){return Qe(n?.getReader)}function On(n){if(n instanceof ct)return n;if(null!=n){if(CR(n))return function A7(n){return new ct(t=>{const e=n[gh]();if(Qe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(bT(n))return function I7(n){return new ct(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(xR(n))return function k7(n){return new ct(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Oe)})}(n);if(wR(n))return kR(n);if(ER(n))return function M7(n){return new ct(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(IR(n))return function R7(n){return kR(AR(n))}(n)}throw SR(n)}function kR(n){return new ct(t=>{(function N7(n,t){var e,i,r,s;return function pe(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=ia(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function co(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Gn(n,t,e=1/0){return Qe(t)?Gn((i,r)=>Ue((s,o)=>t(i,s,r,o))(On(n(i,r))),e):("number"==typeof t&&(e=t),Qt((i,r)=>function P7(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{s&&t.next(m),c++;let g=!1;On(e(m,u++)).subscribe(It(t,v=>{r?.(v),s?f(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const v=l.shift();o?co(t,o,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return n.subscribe(It(t,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function Rc(n=1/0){return Gn($r,n)}const Ur=new ct(n=>n.complete());function MR(n){return n&&Qe(n.schedule)}function TT(n){return n[n.length-1]}function _m(n){return Qe(TT(n))?n.pop():void 0}function vh(n){return MR(TT(n))?n.pop():void 0}function vm(n,t=0){return Qt((e,i)=>{e.subscribe(It(i,r=>co(i,n,()=>i.next(r),t),()=>co(i,n,()=>i.complete(),t),r=>co(i,n,()=>i.error(r),t)))})}function ym(n,t=0){return Qt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function RR(n,t){if(!n)throw new Error("Iterable cannot be null");return new ct(e=>{co(e,t,()=>{const i=n[Symbol.asyncIterator]();co(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function zn(n,t){return t?function U7(n,t){if(null!=n){if(CR(n))return function F7(n,t){return On(n).pipe(ym(t),vm(t))}(n,t);if(bT(n))return function B7(n,t){return new ct(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(xR(n))return function V7(n,t){return On(n).pipe(ym(t),vm(t))}(n,t);if(wR(n))return RR(n,t);if(ER(n))return function H7(n,t){return new ct(e=>{let i;return co(e,t,()=>{i=n[DR](),co(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>Qe(i?.return)&&i.return()})}(n,t);if(IR(n))return function $7(n,t){return RR(AR(n),t)}(n,t)}throw SR(n)}(n,t):On(n)}function bm(...n){const t=vh(n),e=function L7(n,t){return"number"==typeof TT(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?On(i[0]):Rc(e)(zn(i,t)):Ur}class jn extends Ee{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function Se(...n){return zn(n,vh(n))}function NR(n={}){const{connector:t=(()=>new Ee),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return Qt((m,g)=>{c++,!d&&!u&&h();const v=l=l??t();g.add(()=>{c--,0===c&&!d&&!u&&(a=xT(p,r))}),v.subscribe(g),!o&&c>0&&(o=new tl({next:_=>v.next(_),error:_=>{d=!0,h(),a=xT(f,e,_),v.error(_)},complete:()=>{u=!0,h(),a=xT(f,i),v.complete()}}),On(m).subscribe(o))})(s)}}function xT(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new tl({next:()=>{i.unsubscribe(),n()}});return On(t(...e)).subscribe(i)}function tr(n,t){return Qt((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(It(i,l=>{r?.unsubscribe();let c=0;const u=s++;On(n(l,u)).subscribe(r=It(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function G7(n,t){return n===t}function Mt(n){for(let t in n)if(n[t]===Mt)return t;throw Error("Could not find renamed property on target object.")}function xm(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Wn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Wn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function CT(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const z7=Mt({__forward_ref__:Mt});function _t(n){return n.__forward_ref__=_t,n.toString=function(){return Wn(this())},n}function Me(n){return wT(n)?n():n}function wT(n){return"function"==typeof n&&n.hasOwnProperty(z7)&&n.__forward_ref__===_t}function ST(n){return n&&!!n.\u0275providers}const PR="https://g.co/ng/security#xss";class P extends Error{constructor(t,e){super(function Cm(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Le(n){return"string"==typeof n?n:null==n?"":String(n)}function DT(n,t){throw new P(-201,!1)}function Gr(n,t){null==n&&function Ie(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xe(n){return{providers:n.providers||[],imports:n.imports||[]}}function wm(n){return OR(n,Dm)||OR(n,LR)}function OR(n,t){return n.hasOwnProperty(t)?n[t]:null}function Sm(n){return n&&(n.hasOwnProperty(ET)||n.hasOwnProperty(Z7))?n[ET]:null}const Dm=Mt({\u0275prov:Mt}),ET=Mt({\u0275inj:Mt}),LR=Mt({ngInjectableDef:Mt}),Z7=Mt({ngInjectorDef:Mt});var Je=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Je||{});let AT;function nr(n){const t=AT;return AT=n,t}function VR(n,t,e){const i=wm(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Je.Optional?null:void 0!==t?t:void DT(Wn(n))}const Ut=globalThis;class W{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=q({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const yh={},NT="__NG_DI_FLAG__",Em="ngTempTokenPath",tq=/\n/gm,HR="__source";let Nc;function ra(n){const t=Nc;return Nc=n,t}function rq(n,t=Je.Default){if(void 0===Nc)throw new P(-203,!1);return null===Nc?VR(n,void 0,t):Nc.get(n,t&Je.Optional?null:void 0,t)}function L(n,t=Je.Default){return(function FR(){return AT}()||rq)(Me(n),t)}function se(n,t=Je.Default){return L(n,Am(t))}function Am(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function PT(n){const t=[];for(let e=0;e<n.length;e++){const i=Me(n[e]);if(Array.isArray(i)){if(0===i.length)throw new P(900,!1);let r,s=Je.Default;for(let o=0;o<i.length;o++){const a=i[o],l=sq(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(L(r,s))}else t.push(L(i))}return t}function bh(n,t){return n[NT]=t,n.prototype[NT]=t,n}function sq(n){return n[NT]}function uo(n){return{toString:n}.toString()}var Im=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Im||{}),zr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(zr||{});const Is={},vt=[],km=Mt({\u0275cmp:Mt}),OT=Mt({\u0275dir:Mt}),LT=Mt({\u0275pipe:Mt}),UR=Mt({\u0275mod:Mt}),ho=Mt({\u0275fac:Mt}),Th=Mt({__NG_ELEMENT_ID__:Mt}),GR=Mt({__NG_ENV_ID__:Mt});function zR(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function FT(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];WR(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function jR(n){return 3===n||4===n||6===n}function WR(n){return 64===n.charCodeAt(0)}function xh(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||qR(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function qR(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const YR="ng-template";function lq(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==zR(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function KR(n){return 4===n.type&&n.value!==YR}function cq(n,t,e){return t===(4!==n.type||e?n.value:YR)}function uq(n,t,e){let i=4;const r=n.attrs||[],s=function fq(n){for(let t=0;t<n.length;t++)if(jR(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!cq(n,l,e)||""===l&&1===t.length){if(os(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!lq(n.attrs,c,e)){if(os(i))return!1;o=!0}continue}const d=dq(8&i?"class":l,r,KR(n),e);if(-1===d){if(os(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==zR(f,c,0)||2&i&&c!==h){if(os(i))return!1;o=!0}}}}else{if(!o&&!os(i)&&!os(l))return!1;if(o&&os(l))continue;o=!1,i=l|1&i}}return os(i)||o}function os(n){return 0==(1&n)}function dq(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function pq(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function XR(n,t,e=!1){for(let i=0;i<t.length;i++)if(uq(n,t[i],e))return!0;return!1}function gq(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function QR(n,t){return n?":not("+t.trim()+")":t}function mq(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!os(o)&&(t+=QR(s,r),r=""),i=o,s=s||!os(i);e++}return""!==r&&(t+=QR(s,r)),t}function We(n){return uo(()=>{const t=JR(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Im.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||zr.Emulated,styles:n.styles||vt,_:null,schemas:n.schemas||null,tView:null,id:""};eN(e);const i=n.dependencies;return e.directiveDefs=Mm(i,!1),e.pipeDefs=Mm(i,!0),e.id=function wq(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function bq(n){return ut(n)||ui(n)}function Tq(n){return null!==n}function we(n){return uo(()=>({type:n.type,bootstrap:n.bootstrap||vt,declarations:n.declarations||vt,imports:n.imports||vt,exports:n.exports||vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ZR(n,t){if(null==n)return Is;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function K(n){return uo(()=>{const t=JR(n);return eN(t),t})}function ut(n){return n[km]||null}function ui(n){return n[OT]||null}function Ui(n){return n[LT]||null}function yr(n,t){const e=n[UR]||null;if(!e&&!0===t)throw new Error(`Type ${Wn(n)} does not have '\u0275mod' property.`);return e}function JR(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Is,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||vt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ZR(n.inputs,t),outputs:ZR(n.outputs)}}function eN(n){n.features?.forEach(t=>t(n))}function Mm(n,t){if(!n)return null;const e=t?Ui:bq;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(Tq)}const _n=0,ue=1,Ge=2,sn=3,as=4,Ch=5,Ei=6,Oc=7,xn=8,sa=9,Lc=10,Fe=11,wh=12,tN=13,Fc=14,Cn=15,Sh=16,Vc=17,ks=18,Dh=19,nN=20,oa=21,fo=22,Eh=23,Ah=24,et=25,VT=1,iN=2,Ms=7,Bc=9,di=11;function rr(n){return Array.isArray(n)&&"object"==typeof n[VT]}function Gi(n){return Array.isArray(n)&&!0===n[VT]}function BT(n){return 0!=(4&n.flags)}function ol(n){return n.componentOffset>-1}function Nm(n){return 1==(1&n.flags)}function ls(n){return!!n.template}function HT(n){return 0!=(512&n[Ge])}function al(n,t){return n.hasOwnProperty(ho)?n[ho]:null}let hi=null,Pm=!1;function jr(n){const t=hi;return hi=n,t}const oN={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function lN(n){if(!kh(n)||n.dirty){if(!n.producerMustRecompute(n)&&!dN(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function uN(n){n.dirty=!0,function cN(n){if(void 0===n.liveConsumerNode)return;const t=Pm;Pm=!0;try{for(const e of n.liveConsumerNode)e.dirty||uN(e)}finally{Pm=t}}(n),n.consumerMarkedDirty?.(n)}function UT(n){return n&&(n.nextProducerIndex=0),jr(n)}function GT(n,t){if(jr(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(kh(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Om(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function dN(n){Hc(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(lN(e),i!==e.version))return!0}return!1}function hN(n){if(Hc(n),kh(n))for(let t=0;t<n.producerNode.length;t++)Om(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Om(n,t){if(function pN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Hc(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Om(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Hc(r),r.producerIndexOfThis[i]=t}}function kh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Hc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let gN=null;const yN=()=>{},Fq=(()=>({...oN,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:yN}))();class Vq{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Rt(){return bN}function bN(n){return n.type.prototype.ngOnChanges&&(n.setInput=Hq),Bq}function Bq(){const n=xN(this),t=n?.current;if(t){const e=n.previous;if(e===Is)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Hq(n,t,e,i){const r=this.declaredInputs[e],s=xN(n)||function $q(n,t){return n[TN]=t}(n,{previous:Is,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new Vq(l&&l.currentValue,t,a===Is),n[i]=t}Rt.ngInherit=!0;const TN="__ngSimpleChanges__";function xN(n){return n[TN]||null}const Rs=function(n,t,e){};function Gt(n){for(;Array.isArray(n);)n=n[_n];return n}function Lm(n,t){return Gt(t[n])}function sr(n,t){return Gt(t[n.index])}function SN(n,t){return n.data[t]}function br(n,t){const e=t[n];return rr(e)?e:e[_n]}function la(n,t){return null==t?null:n[t]}function DN(n){n[Vc]=0}function qq(n){1024&n[Ge]||(n[Ge]|=1024,AN(n,1))}function EN(n){1024&n[Ge]&&(n[Ge]&=-1025,AN(n,-1))}function AN(n,t){let e=n[sn];if(null===e)return;e[Ch]+=t;let i=e;for(e=e[sn];null!==e&&(1===t&&1===i[Ch]||-1===t&&0===i[Ch]);)e[Ch]+=t,i=e,e=e[sn]}const ke={lFrame:BN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function MN(){return ke.bindingsEnabled}function Uc(){return null!==ke.skipHydrationRootTNode}function F(){return ke.lFrame.lView}function dt(){return ke.lFrame.tView}function Bt(n){return ke.lFrame.contextLView=n,n[xn]}function Ht(n){return ke.lFrame.contextLView=null,n}function fi(){let n=RN();for(;null!==n&&64===n.type;)n=n.parent;return n}function RN(){return ke.lFrame.currentTNode}function Ns(n,t){const e=ke.lFrame;e.currentTNode=n,e.isParent=t}function YT(){return ke.lFrame.isParent}function KT(){ke.lFrame.isParent=!1}function zi(){const n=ke.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Gc(){return ke.lFrame.bindingIndex++}function go(n){const t=ke.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function sY(n,t){const e=ke.lFrame;e.bindingIndex=e.bindingRootIndex=n,XT(t)}function XT(n){ke.lFrame.currentDirectiveIndex=n}function LN(){return ke.lFrame.currentQueryIndex}function ZT(n){ke.lFrame.currentQueryIndex=n}function aY(n){const t=n[ue];return 2===t.type?t.declTNode:1===t.type?n[Ei]:null}function FN(n,t,e){if(e&Je.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Je.Host||(r=aY(s),null===r||(s=s[Fc],10&r.type))););if(null===r)return!1;t=r,n=s}const i=ke.lFrame=VN();return i.currentTNode=t,i.lView=n,!0}function JT(n){const t=VN(),e=n[ue];ke.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function VN(){const n=ke.lFrame,t=null===n?null:n.child;return null===t?BN(n):t}function BN(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function HN(){const n=ke.lFrame;return ke.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const $N=HN;function ex(){const n=HN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ji(){return ke.lFrame.selectedIndex}function ll(n){ke.lFrame.selectedIndex=n}function hn(){const n=ke.lFrame;return SN(n.tView,n.selectedIndex)}function fn(){ke.lFrame.currentNamespace="svg"}let GN=!0;function Vm(){return GN}function ca(n){GN=n}function Bm(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function Hm(n,t,e){zN(n,t,3,e)}function $m(n,t,e,i){(3&n[Ge])===e&&zN(n,t,e,i)}function tx(n,t){let e=n[Ge];(3&e)===t&&(e&=8191,e+=1,n[Ge]=e)}function zN(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Vc]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Vc]+=65536),(a<s||-1==s)&&(fY(n,e,t,l),n[Vc]=(4294901760&n[Vc])+l+2),l++}function jN(n,t){Rs(4,n,t);const e=jr(null);try{t.call(n)}finally{jr(e),Rs(5,n,t)}}function fY(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];r?n[Ge]>>13<n[Vc]>>16&&(3&n[Ge])===t&&(n[Ge]+=8192,jN(a,s)):jN(a,s)}const zc=-1;class Rh{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function ix(n){return n!==zc}function Nh(n){return 32767&n}function Ph(n,t){let e=function _Y(n){return n>>16}(n),i=t;for(;e>0;)i=i[Fc],e--;return i}let rx=!0;function Um(n){const t=rx;return rx=n,t}const WN=255,qN=5;let vY=0;const Ps={};function Gm(n,t){const e=YN(n,t);if(-1!==e)return e;const i=t[ue];i.firstCreatePass&&(n.injectorIndex=t.length,sx(i.data,n),sx(t,null),sx(i.blueprint,null));const r=zm(n,t),s=n.injectorIndex;if(ix(r)){const o=Nh(r),a=Ph(r,t),l=a[ue].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function sx(n,t){n.push(0,0,0,0,0,0,0,0,t)}function YN(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function zm(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=tP(r),null===i)return zc;if(e++,r=r[Fc],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return zc}function ox(n,t,e){!function yY(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Th)&&(i=e[Th]),null==i&&(i=e[Th]=vY++);const r=i&WN;t.data[n+(r>>qN)]|=1<<r}(n,t,e)}function KN(n,t,e){if(e&Je.Optional||void 0!==n)return n;DT()}function XN(n,t,e,i){if(e&Je.Optional&&void 0===i&&(i=null),!(e&(Je.Self|Je.Host))){const r=n[sa],s=nr(void 0);try{return r?r.get(t,i,e&Je.Optional):VR(t,i,e&Je.Optional)}finally{nr(s)}}return KN(i,0,e)}function QN(n,t,e,i=Je.Default,r){if(null!==n){if(2048&t[Ge]&&!(i&Je.Self)){const o=function SY(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[Ge]&&!(512&o[Ge]);){const a=ZN(s,o,e,i|Je.Self,Ps);if(a!==Ps)return a;let l=s.parent;if(!l){const c=o[nN];if(c){const u=c.get(e,Ps,i);if(u!==Ps)return u}l=tP(o),o=o[Fc]}s=l}return r}(n,t,e,i,Ps);if(o!==Ps)return o}const s=ZN(n,t,e,i,Ps);if(s!==Ps)return s}return XN(t,e,i,r)}function ZN(n,t,e,i,r){const s=function xY(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Th)?n[Th]:void 0;return"number"==typeof t?t>=0?t&WN:wY:t}(e);if("function"==typeof s){if(!FN(t,n,i))return i&Je.Host?KN(r,0,i):XN(t,e,i,r);try{let o;if(o=s(i),null!=o||i&Je.Optional)return o;DT()}finally{$N()}}else if("number"==typeof s){let o=null,a=YN(n,t),l=zc,c=i&Je.Host?t[Cn][Ei]:null;for((-1===a||i&Je.SkipSelf)&&(l=-1===a?zm(n,t):t[a+8],l!==zc&&eP(i,!1)?(o=t[ue],a=Nh(l),t=Ph(l,t)):a=-1);-1!==a;){const u=t[ue];if(JN(s,a,u.data)){const d=TY(a,t,e,o,i,c);if(d!==Ps)return d}l=t[a+8],l!==zc&&eP(i,t[ue].data[a+8]===c)&&JN(s,a,t)?(o=u,a=Nh(l),t=Ph(l,t)):a=-1}}return r}function TY(n,t,e,i,r,s){const o=t[ue],a=o.data[n+8],u=jm(a,o,e,null==i?ol(a)&&rx:i!=o&&0!=(3&a.type),r&Je.Host&&s===a);return null!==u?cl(t,o,u,a):Ps}function jm(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=o[l];if(f&&ls(f)&&f.type===e)return l}return null}function cl(n,t,e,i){let r=n[e];const s=t.data;if(function pY(n){return n instanceof Rh}(r)){const o=r;o.resolving&&function j7(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new P(-200,`Circular dependency in DI detected for ${n}${e}`)}(function At(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Le(n)}(s[e]));const a=Um(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?nr(o.injectImpl):null;FN(n,i,Je.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function hY(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=bN(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&nr(c),Um(a),o.resolving=!1,$N()}}return r}function JN(n,t,e){return!!(e[t+(n>>qN)]&1<<n)}function eP(n,t){return!(n&Je.Self||n&Je.Host&&t)}class Wi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return QN(this._tNode,this._lView,t,Am(i),e)}}function wY(){return new Wi(fi(),F())}function wn(n){return uo(()=>{const t=n.prototype.constructor,e=t[ho]||ax(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[ho]||ax(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function ax(n){return wT(n)?()=>{const t=ax(Me(n));return t&&t()}:al(n)}function tP(n){const t=n[ue],e=t.type;return 2===e?t.declTNode:1===e?n[Ei]:null}const qc="__parameters__";function Kc(n,t,e){return uo(()=>{const i=function lx(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(qc)?l[qc]:Object.defineProperty(l,qc,{value:[]})[qc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Qc(n,t){n.forEach(e=>Array.isArray(e)?Qc(e,t):t(e))}function iP(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Wm(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Fh(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Tr(n,t,e){let i=Zc(n,t);return i>=0?n[1|i]=e:(i=~i,function RY(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function cx(n,t){const e=Zc(n,t);if(e>=0)return n[1|e]}function Zc(n,t){return function rP(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const qr=bh(Kc("Optional"),8),Ym=bh(Kc("SkipSelf"),4);function Jm(n){return 128==(128&n.flags)}var ua=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ua||{});const JY=/^>|^->|<!--|-->|--!>|<!-$/g,eK=/(<|>)/g,tK="\u200b$1\u200b";const px=new Map;let nK=0;const mx="__ngContext__";function Ai(n,t){rr(t)?(n[mx]=t[Dh],function rK(n){px.set(n[Dh],n)}(t)):n[mx]=t}let _x;function vx(n,t){return _x(n,t)}function Hh(n){const t=n[sn];return Gi(t)?t[sn]:t}function wP(n){return DP(n[wh])}function SP(n){return DP(n[as])}function DP(n){for(;null!==n&&!Gi(n);)n=n[as];return n}function tu(n,t,e,i,r){if(null!=i){let s,o=!1;Gi(i)?s=i:rr(i)&&(o=!0,i=i[_n]);const a=Gt(i);0===n&&null!==e?null==r?kP(t,e,a):ul(t,e,a,r||null,!0):1===n&&null!==e?ul(t,e,a,r||null,!0):2===n?function o_(n,t,e){const i=r_(n,t);i&&function CK(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function DK(n,t,e,i,r){const s=e[Ms];s!==Gt(e)&&tu(t,n,i,s,r);for(let a=di;a<e.length;a++){const l=e[a];Uh(l[ue],l,n,t,i,s)}}(t,n,s,e,r)}}function yx(n,t){return n.createComment(function mP(n){return n.replace(JY,t=>t.replace(eK,tK))}(t))}function n_(n,t,e){return n.createElement(t,e)}function AP(n,t){const e=n[Bc],i=e.indexOf(t);EN(t),e.splice(i,1)}function i_(n,t){if(n.length<=di)return;const e=di+t,i=n[e];if(i){const r=i[Sh];null!==r&&r!==n&&AP(r,i),t>0&&(n[e-1][as]=i[as]);const s=Wm(n,di+t);!function gK(n,t){Uh(n,t,t[Fe],2,null,null),t[_n]=null,t[Ei]=null}(i[ue],i);const o=s[ks];null!==o&&o.detachView(s[ue]),i[sn]=null,i[as]=null,i[Ge]&=-129}return i}function bx(n,t){if(!(256&t[Ge])){const e=t[Fe];t[Eh]&&hN(t[Eh]),t[Ah]&&hN(t[Ah]),e.destroyNode&&Uh(n,t,e,3,null,null),function vK(n){let t=n[wh];if(!t)return Tx(n[ue],n);for(;t;){let e=null;if(rr(t))e=t[wh];else{const i=t[di];i&&(e=i)}if(!e){for(;t&&!t[as]&&t!==n;)rr(t)&&Tx(t[ue],t),t=t[sn];null===t&&(t=n),rr(t)&&Tx(t[ue],t),e=t&&t[as]}t=e}}(t)}}function Tx(n,t){if(!(256&t[Ge])){t[Ge]&=-129,t[Ge]|=256,function xK(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Rh)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Rs(4,a,l);try{l.call(a)}finally{Rs(5,a,l)}}else{Rs(4,r,s);try{s.call(r)}finally{Rs(5,r,s)}}}}}(n,t),function TK(n,t){const e=n.cleanup,i=t[Oc];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[Oc]=null);const r=t[oa];if(null!==r){t[oa]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[ue].type&&t[Fe].destroy();const e=t[Sh];if(null!==e&&Gi(t[sn])){e!==t[sn]&&AP(e,t);const i=t[ks];null!==i&&i.detachView(n)}!function sK(n){px.delete(n[Dh])}(t)}}function xx(n,t,e){return function IP(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[_n];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===zr.None||s===zr.Emulated)return null}return sr(i,e)}}(n,t.parent,e)}function ul(n,t,e,i,r){n.insertBefore(t,e,i,r)}function kP(n,t,e){n.appendChild(t,e)}function MP(n,t,e,i,r){null!==i?ul(n,t,e,i,r):kP(n,t,e)}function r_(n,t){return n.parentNode(t)}function RP(n,t,e){return PP(n,t,e)}let Cx,a_,Ex,l_,PP=function NP(n,t,e){return 40&n.type?sr(n,e):null};function s_(n,t,e,i){const r=xx(n,i,t),s=t[Fe],a=RP(i.parent||t[Ei],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)MP(s,r,e[l],a,!1);else MP(s,r,e,a,!1);void 0!==Cx&&Cx(s,i,t,e,r)}function $h(n,t){if(null!==t){const e=t.type;if(3&e)return sr(t,n);if(4&e)return wx(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return $h(n,i);{const r=n[t.index];return Gi(r)?wx(-1,r):Gt(r)}}if(32&e)return vx(t,n)()||Gt(n[t.index]);{const i=LP(n,t);return null!==i?Array.isArray(i)?i[0]:$h(Hh(n[Cn]),i):$h(n,t.next)}}return null}function LP(n,t){return null!==t?n[Cn][Ei].projection[t.projection]:null}function wx(n,t){const e=di+n+1;if(e<t.length){const i=t[e],r=i[ue].firstChild;if(null!==r)return $h(i,r)}return t[Ms]}function Sx(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&Ai(Gt(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)Sx(n,t,e.child,i,r,s,!1),tu(t,n,r,a,s);else if(32&l){const c=vx(e,i);let u;for(;u=c();)tu(t,n,r,u,s);tu(t,n,r,a,s)}else 16&l?VP(n,t,i,e,r,s):tu(t,n,r,a,s);e=o?e.projectionNext:e.next}}function Uh(n,t,e,i,r,s){Sx(e,i,n.firstChild,t,r,s,!1)}function VP(n,t,e,i,r,s){const o=e[Cn],l=o[Ei].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)tu(t,n,r,l[c],s);else{let c=l;const u=o[sn];Jm(i)&&(c.flags|=128),Sx(n,t,c,u,r,s,!0)}}function BP(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function HP(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&FT(n,t,i),null!==r&&BP(n,t,r),null!==s&&function AK(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function nu(n){return function Dx(){if(void 0===a_&&(a_=null,Ut.trustedTypes))try{a_=Ut.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return a_}()?.createHTML(n)||n}function iu(){if(void 0!==Ex)return Ex;if(typeof document<"u")return document;throw new P(210,!1)}function $P(n){return function Ax(){if(void 0===l_&&(l_=null,Ut.trustedTypes))try{l_=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return l_}()?.createHTML(n)||n}class zP{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${PR})`}}function da(n){return n instanceof zP?n.changingThisBreaksApplicationSecurity:n}function Gh(n,t){const e=function VK(n){return n instanceof zP&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${PR})`)}return e===t}class BK{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(nu(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class HK{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=nu(t),e}}const UK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ix(n){return(n=String(n)).match(UK)?n:"unsafe:"+n}function mo(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function zh(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const WP=mo("area,br,col,hr,img,wbr"),qP=mo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),YP=mo("rp,rt"),kx=zh(WP,zh(qP,mo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zh(YP,mo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zh(YP,qP)),Mx=mo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KP=zh(Mx,mo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),GK=mo("script,style,template");class zK{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!kx.hasOwnProperty(e))return this.sanitizedSomething=!0,!GK.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!KP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Mx[a]&&(l=Ix(l)),this.buf.push(" ",o,'="',XP(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();kx.hasOwnProperty(e)&&!WP.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(XP(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const jK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,WK=/([^\#-~ |!])/g;function XP(n){return n.replace(/&/g,"&amp;").replace(jK,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(WK,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let c_;function Rx(n){return"content"in n&&function YK(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ru=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ru||{});function QP(n){const t=jh();return t?$P(t.sanitize(ru.HTML,n)||""):Gh(n,"HTML")?$P(da(n)):function qK(n,t){let e=null;try{c_=c_||function jP(n){const t=new HK(n);return function $K(){try{return!!(new window.DOMParser).parseFromString(nu(""),"text/html")}catch{return!1}}()?new BK(t):t}(n);let i=t?String(t):"";e=c_.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=c_.getInertBodyElement(i)}while(i!==s);return nu((new zK).sanitizeChildren(Rx(e)||e))}finally{if(e){const i=Rx(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(iu(),Le(n))}function Os(n){const t=jh();return t?t.sanitize(ru.URL,n)||"":Gh(n,"URL")?da(n):Ix(Le(n))}function jh(){const n=F();return n&&n[Lc].sanitizer}const Wh=new W("ENVIRONMENT_INITIALIZER"),eO=new W("INJECTOR",-1),tO=new W("INJECTOR_DEF_TYPES");class Nx{get(t,e=yh){if(e===yh){const i=new Error(`NullInjectorError: No provider for ${Wn(t)}!`);throw i.name="NullInjectorError",i}return e}}function eX(...n){return{\u0275providers:nO(0,n),\u0275fromNgModule:!0}}function nO(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return Qc(t,o=>{const a=o;u_(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&iO(r,s),e}function iO(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];Ox(r,s=>{t(s,i)})}}function u_(n,t,e,i){if(!(n=Me(n)))return!1;let r=null,s=Sm(n);const o=!s&&ut(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=Sm(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)u_(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{Qc(s.imports,u=>{u_(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&iO(c,t)}if(!a){const c=al(r)||(()=>new r);t({provide:r,useFactory:c,deps:vt},r),t({provide:tO,useValue:r,multi:!0},r),t({provide:Wh,useValue:()=>L(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;Ox(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function Ox(n,t){for(let e of n)ST(e)&&(e=e.\u0275providers),Array.isArray(e)?Ox(e,t):t(e)}const tX=Mt({provide:String,useValue:Mt});function Lx(n){return null!==n&&"object"==typeof n&&tX in n}function dl(n){return"function"==typeof n}const Fx=new W("Set Injector scope."),d_={},iX={};let Vx;function h_(){return void 0===Vx&&(Vx=new Nx),Vx}class xr{}class su extends xr{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hx(t,o=>this.processProvider(o)),this.records.set(eO,ou(void 0,this)),r.has("environment")&&this.records.set(xr,ou(void 0,this));const s=this.records.get(Fx);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(tO.multi,vt,Je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=ra(this),i=nr(void 0);try{return t()}finally{ra(e),nr(i)}}get(t,e=yh,i=Je.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(GR))return t[GR](this);i=Am(i);const s=ra(this),o=nr(void 0);try{if(!(i&Je.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function lX(n){return"function"==typeof n||"object"==typeof n&&n instanceof W}(t)&&wm(t);l=c&&this.injectableDefInScope(c)?ou(Bx(t),d_):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Je.Self?h_():this.parent).get(t,e=i&Je.Optional&&e===yh?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Em]=a[Em]||[]).unshift(Wn(t)),s)throw a;return function oq(n,t,e,i){const r=n[Em];throw t[HR]&&r.unshift(t[HR]),n.message=function aq(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Wn(t);if(Array.isArray(t))r=t.map(Wn).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Wn(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(tq,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Em]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{nr(o),ra(s)}}resolveInjectorInitializers(){const t=ra(this),e=nr(void 0);try{const r=this.get(Wh.multi,vt,Je.Self);for(const s of r)s()}finally{ra(t),nr(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Wn(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(t){let e=dl(t=Me(t))?t:Me(t&&t.provide);const i=function sX(n){return Lx(n)?ou(void 0,n.useValue):ou(oO(n),d_)}(t);if(dl(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=ou(void 0,d_,!0),r.factory=()=>PT(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===d_&&(e.value=iX,e.value=e.factory()),"object"==typeof e.value&&e.value&&function aX(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Me(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Bx(n){const t=wm(n),e=null!==t?t.factory:al(n);if(null!==e)return e;if(n instanceof W)throw new P(204,!1);if(n instanceof Function)return function rX(n){const t=n.length;if(t>0)throw Fh(t,"?"),new P(204,!1);const e=function Q7(n){return n&&(n[Dm]||n[LR])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new P(204,!1)}function oO(n,t,e){let i;if(dl(n)){const r=Me(n);return al(r)||Bx(r)}if(Lx(n))i=()=>Me(n.useValue);else if(function sO(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...PT(n.deps||[]));else if(function rO(n){return!(!n||!n.useExisting)}(n))i=()=>L(Me(n.useExisting));else{const r=Me(n&&(n.useClass||n.provide));if(!function oX(n){return!!n.deps}(n))return al(r)||Bx(r);i=()=>new r(...PT(n.deps))}return i}function ou(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Hx(n,t){for(const e of n)Array.isArray(e)?Hx(e,t):e&&ST(e)?Hx(e.\u0275providers,t):t(e)}const f_=new W("AppId",{providedIn:"root",factory:()=>cX}),cX="ng",aO=new W("Platform Initializer"),Ii=new W("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lO=new W("AnimationModuleType"),cO=new W("CSP nonce",{providedIn:"root",factory:()=>iu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let uO=(n,t,e)=>null;function Yx(n,t,e=!1){return uO(n,t,e)}class yX{}class fO{}class TX{resolveComponentFactory(t){throw function bX(n){const t=Error(`No component factory found for ${Wn(n)}.`);return t.ngComponent=n,t}(t)}}let cu=(()=>{class n{static#e=this.NULL=new TX}return n})();function xX(){return uu(fi(),F())}function uu(n,t){return new Xe(sr(n,t))}let Xe=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=xX}return n})();function CX(n){return n instanceof Xe?n.nativeElement:n}class du{}let qi=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function wX(){const n=F(),e=br(fi().index,n);return(rr(e)?e:n)[Fe]}()}return n})(),SX=(()=>{class n{static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>null})}return n})();class hu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const gO=new hu("16.2.12"),Qx={};function yO(n,t=null,e=null,i){const r=bO(n,t,e,i);return r.resolveInjectorInitializers(),r}function bO(n,t=null,e=null,i,r=new Set){const s=[e||vt,eX(n)];return i=i||("object"==typeof n?void 0:Wn(n)),new su(s,t||h_(),i||null,r)}let Ln=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=yh;static#t=this.NULL=new Nx;static create(e,i){if(Array.isArray(e))return yO({name:""},i,e,"");{const r=e.name??"";return yO({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=q({token:n,providedIn:"any",factory:()=>L(eO)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function Jx(n){return n.ngOriginalError}class _o{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Jx(t);for(;e&&Jx(e);)e=Jx(e);return e||null}}function tC(n){return t=>{setTimeout(n,void 0,t)}}const ne=class RX extends Ee{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=tC(s),r&&(r=tC(r)),o&&(o=tC(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof Be&&t.add(a),a}};function xO(...n){}class Re{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ne(!1),this.onMicrotaskEmpty=new ne(!1),this.onStable=new ne(!1),this.onError=new ne(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function NX(){const n="function"==typeof Ut.requestAnimationFrame;let t=Ut[n?"requestAnimationFrame":"setTimeout"],e=Ut[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function LX(n){const t=()=>{!function OX(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ut,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,iC(n),n.isCheckStableRunning=!0,nC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),iC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{if(function VX(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,s,o,a);try{return CO(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),wO(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return CO(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),wO(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,iC(n),nC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new P(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,PX,xO,xO);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const PX={};function nC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function iC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function CO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wO(n){n._nesting--,nC(n)}class FX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ne,this.onMicrotaskEmpty=new ne,this.onStable=new ne,this.onError=new ne}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const SO=new W("",{providedIn:"root",factory:DO});function DO(){const n=se(Re);let t=!0;return bm(new ct(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new ct(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Re.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(NR()))}function EO(n){return n.ownerDocument.defaultView}function vo(n){return n instanceof Function?n():n}let rC=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function Kh(n){for(;n;){n[Ge]|=64;const t=Hh(n);if(HT(n)&&!t)return n;n=t}return null}const RO=new W("",{providedIn:"root",factory:()=>!1});let b_=null;function LO(n,t){return n[t]??BO()}function FO(n,t){const e=BO();e.producerNode?.length&&(n[t]=b_,e.lView=n,b_=VO())}const qX={...oN,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Kh(n.lView)},lView:null};function VO(){return Object.create(qX)}function BO(){return b_??=VO(),b_}const He={};function I(n){HO(dt(),F(),ji()+n,!1)}function HO(n,t,e,i){if(!i)if(3==(3&t[Ge])){const s=n.preOrderCheckHooks;null!==s&&Hm(t,s,e)}else{const s=n.preOrderHooks;null!==s&&$m(t,s,0,e)}ll(e)}function y(n,t=Je.Default){const e=F();return null===e?L(n,t):QN(fi(),e,Me(n),t)}function T_(n,t,e,i,r,s,o,a,l,c,u){const d=t.blueprint.slice();return d[_n]=r,d[Ge]=140|i,(null!==c||n&&2048&n[Ge])&&(d[Ge]|=2048),DN(d),d[sn]=d[Fc]=n,d[xn]=e,d[Lc]=o||n&&n[Lc],d[Fe]=a||n&&n[Fe],d[sa]=l||n&&n[sa]||null,d[Ei]=s,d[Dh]=function iK(){return nK++}(),d[fo]=u,d[nN]=c,d[Cn]=2==t.type?n[Cn]:d,d}function gu(n,t,e,i,r){let s=n.data[t];if(null===s)s=function sC(n,t,e,i,r){const s=RN(),o=YT(),l=n.data[t]=function tQ(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,a=0;return Uc()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,t,e,i,r),function rY(){return ke.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function Mh(){const n=ke.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ns(s,!0),s}function Xh(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function UO(n,t,e,i,r){const s=LO(t,Eh),o=ji(),a=2&i;try{ll(-1),a&&t.length>et&&HO(n,t,et,!1),Rs(a?2:0,r);const c=a?s:null,u=UT(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{GT(c,u)}}finally{a&&null===t[Eh]&&FO(t,Eh),ll(o),Rs(a?3:1,r)}}function oC(n,t,e){if(BT(t)){const i=jr(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{jr(i)}}}function aC(n,t,e){MN()&&(function lQ(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;ol(e)&&function gQ(n,t,e){const i=sr(t,n),r=GO(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=x_(n,T_(n,r,null,o,i,t,null,n[Lc].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Gm(e,t),Ai(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=cl(t,n,a,e);Ai(c,t),null!==o&&mQ(0,a-r,c,l,0,o),ls(l)&&(br(e.index,t)[xn]=cl(t,n,a,e))}}(n,t,e,sr(e,t)),64==(64&e.flags)&&YO(n,t,e))}function lC(n,t,e=sr){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function GO(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=cC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function cC(n,t,e,i,r,s,o,a,l,c,u){const d=et+i,h=d+r,f=function KX(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:He);return e}(d,h),p="function"==typeof c?c():c;return f[ue]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let zO=n=>null;function jO(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?WO(e,t,r,s):i.hasOwnProperty(r)&&WO(e,t,i[r],s)}return e}function WO(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function Cr(n,t,e,i,r,s,o,a){const l=sr(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(pC(n,e,u,i,r),ol(t)&&function rQ(n,t){const e=br(t,n);16&e[Ge]||(e[Ge]|=64)}(e,t.index)):3&t.type&&(i=function iQ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}function uC(n,t,e,i){if(MN()){const r=null===i?null:{"":-1},s=function uQ(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(XR(t,o.selectors,!1))if(i||(i=[]),ls(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),dC(n,t,a.length)}else i.unshift(o),dC(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&qO(n,t,e,o,r,a),r&&function dQ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new P(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=xh(e.mergedAttrs,e.attrs)}function qO(n,t,e,i,r,s){for(let c=0;c<i.length;c++)ox(Gm(e,t),n,i[c].type);!function fQ(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Xh(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=xh(e.mergedAttrs,u.hostAttrs),pQ(n,e,t,l,u),hQ(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function nQ(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const d=s[u],h=e?e.get(d):null,p=h?h.outputs:null;l=jO(d.inputs,u,l,h?h.inputs:null),c=jO(d.outputs,u,c,p);const m=null===l||null===o||KR(t)?null:_Q(l,u,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function YO(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function oY(){return ke.lFrame.currentDirectiveIndex}();try{ll(s);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];XT(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&cQ(l,c)}}finally{ll(-1),XT(o)}}function cQ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function dC(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function hQ(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ls(t)&&(e[""]=n)}}function pQ(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=al(r.type)),o=new Rh(s,ls(r),y);n.blueprint[i]=o,e[i]=o,function oQ(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function aQ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,Xh(n,e,r.hostVars,He),r)}function Ls(n,t,e,i,r,s){const o=sr(n,t);!function hC(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?Le(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[Fe],o,s,n.value,e,i,r)}function mQ(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)KO(i,e,o[a++],o[a++],o[a++])}function KO(n,t,e,i,r){const s=jr(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{jr(s)}}function _Q(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function XO(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function QO(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];ZT(e[i]),o.contentQueries(2,t[s],s)}}}function x_(n,t){return n[wh]?n[tN][as]=t:n[wh]=t,n[tN]=t,t}function fC(n,t,e){ZT(0);const i=jr(null);try{t(n,e)}finally{jr(i)}}function ZO(n){return n[Oc]||(n[Oc]=[])}function JO(n){return n.cleanup||(n.cleanup=[])}function tL(n,t){const e=n[sa],i=e?e.get(_o,null):null;i&&i.handleError(t)}function pC(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++];KO(n.data[o],t[o],i,a,r)}}function vQ(n,t){const e=br(t,n),i=e[ue];!function yQ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[_n];null!==r&&null===e[fo]&&(e[fo]=Yx(r,e[sa])),gC(i,e,e[xn])}function gC(n,t,e){JT(t);try{const i=n.viewQuery;null!==i&&fC(1,i,e);const r=n.template;null!==r&&UO(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&QO(n,t),n.staticViewQueries&&fC(2,n.viewQuery,e);const s=n.components;null!==s&&function bQ(n,t){for(let e=0;e<t.length;e++)vQ(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Ge]&=-5,ex()}}let nL=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function Lq(n,t,e){const i=Object.create(Fq);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>uN(i),run:()=>{if(i.dirty=!1,i.hasRun&&!dN(i))return;i.hasRun=!0;const o=UT(i);try{i.cleanupFn(),i.cleanupFn=yN,i.fn(r)}finally{GT(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new n})}return n})();function C_(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=CT(r,a):2==s&&(i=CT(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function Qh(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(Gt(s)),Gi(s)&&iL(s,i);const o=e.type;if(8&o)Qh(n,t,e.child,i);else if(32&o){const a=vx(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=LP(t,e);if(Array.isArray(a))i.push(...a);else{const l=Hh(t[Cn]);Qh(l[ue],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function iL(n,t){for(let e=di;e<n.length;e++){const i=n[e],r=i[ue].firstChild;null!==r&&Qh(i[ue],i,r,t)}n[Ms]!==n[_n]&&t.push(n[Ms])}function w_(n,t,e,i=!0){const r=t[Lc],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{rL(n,t,n.template,e)}catch(l){throw i&&tL(t,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function rL(n,t,e,i){const r=t[Ge];if(256!=(256&r)){t[Lc].effectManager?.flush(),JT(t);try{DN(t),function PN(n){return ke.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&UO(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&Hm(t,c,null)}else{const c=n.preOrderHooks;null!==c&&$m(t,c,0,null),tx(t,0)}if(function CQ(n){for(let t=wP(n);null!==t;t=SP(t)){if(!t[iN])continue;const e=t[Bc];for(let i=0;i<e.length;i++){qq(e[i])}}}(t),sL(t,2),null!==n.contentQueries&&QO(n,t),o){const c=n.contentCheckHooks;null!==c&&Hm(t,c)}else{const c=n.contentHooks;null!==c&&$m(t,c,1),tx(t,1)}!function YX(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=LO(t,Ah);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)ll(~s);else{const o=s,a=e[++r],l=e[++r];sY(a,o),i.dirty=!1;const c=UT(i);try{l(2,t[o])}finally{GT(i,c)}}}}finally{null===t[Ah]&&FO(t,Ah),ll(-1)}}(n,t);const a=n.components;null!==a&&aL(t,a,0);const l=n.viewQuery;if(null!==l&&fC(2,l,i),o){const c=n.viewCheckHooks;null!==c&&Hm(t,c)}else{const c=n.viewHooks;null!==c&&$m(t,c,2),tx(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Ge]&=-73,EN(t)}finally{ex()}}}function sL(n,t){for(let e=wP(n);null!==e;e=SP(e))for(let i=di;i<e.length;i++)oL(e[i],t)}function wQ(n,t,e){oL(br(t,n),e)}function oL(n,t){if(!function jq(n){return 128==(128&n[Ge])}(n))return;const e=n[ue],i=n[Ge];if(80&i&&0===t||1024&i||2===t)rL(e,n,e.template,n[xn]);else if(n[Ch]>0){sL(n,1);const r=e.components;null!==r&&aL(n,r,1)}}function aL(n,t,e){for(let i=0;i<t.length;i++)wQ(n,t[i],e)}class Zh{get rootNodes(){const t=this._lView,e=t[ue];return Qh(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(t){this._lView[xn]=t}get destroyed(){return 256==(256&this._lView[Ge])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[sn];if(Gi(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(i_(t,i),Wm(e,i))}this._attachedToViewContainer=!1}bx(this._lView[ue],this._lView)}onDestroy(t){!function IN(n,t){if(256==(256&n[Ge]))throw new P(911,!1);null===n[oa]&&(n[oa]=[]),n[oa].push(t)}(this._lView,t)}markForCheck(){Kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ge]&=-129}reattach(){this._lView[Ge]|=128}detectChanges(){w_(this._lView[ue],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _K(n,t){Uh(n,t,t[Fe],2,null,null)}(this._lView[ue],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=t}}class SQ extends Zh{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;w_(t[ue],t,t[xn],!1)}checkNoChanges(){}get context(){return null}}class lL extends cu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new Jh(e,this.ngModule)}}function cL(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class EQ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Am(i);const r=this.injector.get(t,Qx,i);return r!==Qx||e===Qx?r:this.parentInjector.get(t,e,i)}}class Jh extends fO{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=cL(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return cL(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function _q(n){return n.map(mq).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof xr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new EQ(t,s):t,a=o.get(du,null);if(null===a)throw new P(407,!1);const d={rendererFactory:a,sanitizer:o.get(SX,null),effectManager:o.get(nL,null),afterRenderEventManager:o.get(rC,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function XX(n,t,e,i){const s=i.get(RO,!1)||e===zr.ShadowDom,o=n.selectRootElement(t,s);return function QX(n){zO(n)}(o),o}(h,i,this.componentDef.encapsulation,o):n_(h,f,function DQ(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=Yx(p,o,!0));const b=cC(0,null,null,1,0,null,null,null,null,null,null),x=T_(null,b,null,v,null,null,d,h,o,null,_);let E,k;JT(x);try{const U=this.componentDef;let Y,Ce=null;U.findHostDirectiveDefs?(Y=[],Ce=new Map,U.findHostDirectiveDefs(U,Y,Ce),Y.push(U)):Y=[U];const me=function IQ(n,t){const e=n[ue],i=et;return n[i]=t,gu(e,i,2,"#host",null)}(x,p),ce=function kQ(n,t,e,i,r,s,o){const a=r[ue];!function MQ(n,t,e,i){for(const r of n)t.mergedAttrs=xh(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(C_(t,t.mergedAttrs,!0),null!==e&&HP(i,e,t))}(i,n,t,o);let l=null;null!==t&&(l=Yx(t,r[sa]));const c=s.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const d=T_(r,GO(e),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&dC(a,n,i.length-1),x_(r,d),r[n.index]=d}(me,p,U,Y,x,d,h);k=SN(b,et),p&&function NQ(n,t,e,i){if(i)FT(n,e,["ng-version",gO.full]);else{const{attrs:r,classes:s}=function vq(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!os(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&FT(n,e,r),s&&s.length>0&&BP(n,e,s.join(" "))}}(h,U,p,i),void 0!==e&&function PQ(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(k,this.ngContentSelectors,e),E=function RQ(n,t,e,i,r,s){const o=fi(),a=r[ue],l=sr(o,r);qO(a,r,o,e,null,i);for(let u=0;u<e.length;u++)Ai(cl(r,a,o.directiveStart+u,o),r);YO(a,r,o),l&&Ai(l,r);const c=cl(r,a,o.directiveStart+o.componentOffset,o);if(n[xn]=r[xn]=c,null!==s)for(const u of s)u(c,t);return oC(a,o,n),c}(ce,U,Y,Ce,x,[OQ]),gC(b,x,null)}finally{ex()}return new AQ(this.componentType,E,uu(k,x),x,k)}}class AQ extends yX{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new SQ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;pC(s[ue],s,r,t,e),this.previousInputValues.set(t,e),Kh(br(this._tNode.index,s))}}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function OQ(){const n=fi();Bm(F()[ue],n)}function ht(n){let t=function uL(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(ls(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new P(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=S_(n.inputs),o.inputTransforms=S_(n.inputTransforms),o.declaredInputs=S_(n.declaredInputs),o.outputs=S_(n.outputs);const a=r.hostBindings;a&&BQ(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&FQ(n,l),c&&VQ(n,c),xm(n.inputs,r.inputs),xm(n.declaredInputs,r.declaredInputs),xm(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),xm(o.inputTransforms,r.inputTransforms)),ls(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ht&&(e=!1)}}t=Object.getPrototypeOf(t)}!function LQ(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=xh(r.hostAttrs,e=xh(e,r.hostAttrs))}}(i)}function S_(n){return n===Is?{}:n===vt?[]:n}function FQ(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function VQ(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function BQ(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function bo(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function D_(n){return!!mC(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function mC(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Fs(n,t,e){return n[t]=e}function ki(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function hl(n,t,e,i){const r=ki(n,t,e);return ki(n,t+1,i)||r}function be(n,t,e,i){const r=F();return ki(r,Gc(),t)&&(dt(),Ls(hn(),r,n,t,e,i)),be}function _u(n,t,e,i){return ki(n,Gc(),e)?t+Le(e)+i:He}function $(n,t,e,i,r,s,o,a){const l=F(),c=dt(),u=n+et,d=c.firstCreatePass?function uZ(n,t,e,i,r,s,o,a,l){const c=t.consts,u=gu(t,n,4,o||null,la(c,a));uC(t,e,u,la(c,l)),Bm(t,u);const d=u.tView=cC(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,s,o):c.data[u];Ns(d,!1);const h=DL(c,l,d,n);Vm()&&s_(c,l,h,d),Ai(h,l),x_(l,l[u]=XO(h,l,h,d)),Nm(d)&&aC(c,l,d),null!=o&&lC(l,d,a)}let DL=function EL(n,t,e,i){return ca(!0),t[Fe].createComment("")};function R(n,t,e){const i=F();return ki(i,Gc(),t)&&Cr(dt(),hn(),i,n,t,i[Fe],e,!1),R}function xC(n,t,e,i,r){const o=r?"class":"style";pC(n,e,t.inputs[o],o,i)}function T(n,t,e,i){const r=F(),s=dt(),o=et+n,a=r[Fe],l=s.firstCreatePass?function pZ(n,t,e,i,r,s){const o=t.consts,l=gu(t,n,2,i,la(o,r));return uC(t,e,l,la(o,s)),null!==l.attrs&&C_(l,l.attrs,!1),null!==l.mergedAttrs&&C_(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,e,i):s.data[o],c=AL(s,r,l,a,t,n);r[o]=c;const u=Nm(l);return Ns(l,!0),HP(a,c,l),32!=(32&l.flags)&&Vm()&&s_(s,r,c,l),0===function Kq(){return ke.lFrame.elementDepthCount}()&&Ai(c,r),function Xq(){ke.lFrame.elementDepthCount++}(),u&&(aC(s,r,l),oC(s,l,r)),null!==i&&lC(r,l),T}function C(){let n=fi();YT()?KT():(n=n.parent,Ns(n,!1));const t=n;(function Zq(n){return ke.skipHydrationRootTNode===n})(t)&&function nY(){ke.skipHydrationRootTNode=null}(),function Qq(){ke.lFrame.elementDepthCount--}();const e=dt();return e.firstCreatePass&&(Bm(e,n),BT(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function gY(n){return 0!=(8&n.flags)}(t)&&xC(e,t,F(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function mY(n){return 0!=(16&n.flags)}(t)&&xC(e,t,F(),t.stylesWithoutHost,!1),C}function J(n,t,e,i){return T(n,t,e,i),C(),J}let AL=(n,t,e,i,r,s)=>(ca(!0),n_(i,r,function UN(){return ke.lFrame.currentNamespace}()));function sf(n,t,e){const i=F(),r=dt(),s=n+et,o=r.firstCreatePass?function _Z(n,t,e,i,r){const s=t.consts,o=la(s,i),a=gu(t,n,8,"ng-container",o);return null!==o&&C_(a,o,!0),uC(t,e,a,la(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];Ns(o,!0);const a=IL(r,i,o,n);return i[s]=a,Vm()&&s_(r,i,a,o),Ai(a,i),Nm(o)&&(aC(r,i,o),oC(r,o,i)),null!=e&&lC(i,o),sf}function af(){let n=fi();const t=dt();return YT()?KT():(n=n.parent,Ns(n,!1)),t.firstCreatePass&&(Bm(t,n),BT(n)&&t.queries.elementEnd(n)),af}function fl(n,t,e){return sf(n,t,e),af(),fl}let IL=(n,t,e,i)=>(ca(!0),yx(t[Fe],""));function Yn(){return F()}function lf(n){return!!n&&"function"==typeof n.then}function kL(n){return!!n&&"function"==typeof n.subscribe}function X(n,t,e,i){const r=F(),s=dt(),o=fi();return function RL(n,t,e,i,r,s,o){const a=Nm(i),c=n.firstCreatePass&&JO(n),u=t[xn],d=ZO(t);let h=!0;if(3&i.type||o){const m=sr(i,t),g=o?o(m):m,v=d.length,_=o?x=>o(Gt(x[i.index])):i.index;let b=null;if(!o&&a&&(b=function bZ(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[Oc],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=s,b.__ngLastListenerFn__=s,h=!1;else{s=PL(i,t,u,s,!1);const x=e.listen(g,r,s);d.push(s,x),c&&c.push(r,_,v,v+1)}}else s=PL(i,t,u,s,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const E=t[p[g]][p[g+1]].subscribe(s),k=d.length;d.push(s,E),c&&c.push(r,i.index,k,-(k+1))}}}(s,r,r[Fe],o,n,t,i),X}function NL(n,t,e,i){try{return Rs(6,t,e),!1!==e(i)}catch(r){return tL(n,r),!1}finally{Rs(7,t,e)}}function PL(n,t,e,i,r){return function s(o){if(o===Function)return i;Kh(n.componentOffset>-1?br(n.index,t):t);let l=NL(t,e,i,o),c=s.__ngNextListenerFn__;for(;c;)l=NL(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function Q(n=1){return function lY(n){return(ke.lFrame.contextLView=function cY(n,t){for(;n>0;)t=t[Fc],n--;return t}(n,ke.lFrame.contextLView))[xn]}(n)}function TZ(n,t){let e=null;const i=function hq(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?XR(n,s,!0):gq(i,s))return r}else e=r}return e}function ha(n){const t=F()[Cn][Ei];if(!t.projection){const i=t.projection=Fh(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?TZ(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function To(n,t=0,e){const i=F(),r=dt(),s=gu(r,et+n,16,null,e||null);null===s.projection&&(s.projection=t),KT(),(!i[fo]||Uc())&&32!=(32&s.flags)&&function SK(n,t,e){VP(t[Fe],0,t,e,xx(n,e,t),RP(e.parent||t[Ei],e,t))}(r,i,s)}function M_(n,t,e){return R_(n,"",t,"",e),M_}function R_(n,t,e,i,r){const s=F(),o=_u(s,t,e,i);return o!==He&&Cr(dt(),hn(),s,n,o,s[Fe],r,!1),R_}function N_(n,t){return n<<17|t<<2}function fa(n){return n>>17&32767}function CC(n){return 2|n}function pl(n){return(131068&n)>>2}function wC(n,t){return-131069&n|t<<2}function SC(n){return 1|n}function GL(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?fa(s):pl(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];EZ(n[a],t)&&(l=!0,n[a+1]=i?SC(u):CC(u)),a=i?fa(u):pl(u)}l&&(n[e+1]=i?CC(s):SC(s))}function EZ(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Zc(n,t)>=0}const Kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zL(n){return n.substring(Kn.key,Kn.keyEnd)}function jL(n,t){const e=Kn.textEnd;return e===t?-1:(t=Kn.keyEnd=function MZ(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Kn.key=t,e),Su(n,t,e))}function Su(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Xn(n,t,e){return us(n,t,e,!1),Xn}function xt(n,t){return us(n,t,null,!0),xt}function Mi(n){ds(HZ,Bs,n,!0)}function Bs(n,t){for(let e=function IZ(n){return function qL(n){Kn.key=0,Kn.keyEnd=0,Kn.value=0,Kn.valueEnd=0,Kn.textEnd=n.length}(n),jL(n,Su(n,0,Kn.textEnd))}(t);e>=0;e=jL(t,e))Tr(n,zL(t),!0)}function us(n,t,e,i){const r=F(),s=dt(),o=go(2);s.firstUpdatePass&&QL(s,n,o,i),t!==He&&ki(r,o,t)&&JL(s,s.data[ji()],r,r[Fe],n,r[o+1]=function UZ(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Wn(da(n)))),n}(t,e),i,o)}function ds(n,t,e,i){const r=dt(),s=go(2);r.firstUpdatePass&&QL(r,null,s,i);const o=F();if(e!==He&&ki(o,s,e)){const a=r.data[ji()];if(tF(a,i)&&!XL(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=CT(l,e||"")),xC(r,a,o,e,i)}else!function $Z(n,t,e,i,r,s,o,a){r===He&&(r=vt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),null!==p&&JL(n,t,e,i,p,m,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[Fe],o[s+1],o[s+1]=function BZ(n,t,e){if(null==e||""===e)return vt;const i=[],r=da(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function XL(n,t){return t>=n.expandoStartIndex}function QL(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[ji()],o=XL(n,e);tF(s,i)&&null===t&&!o&&(t=!1),t=function OZ(n,t,e,i){const r=function QT(n){const t=ke.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=cf(e=DC(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=DC(r,n,t,e,i),null===s){let l=function LZ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==pl(i))return n[fa(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=DC(null,n,t,l[1],i),l=cf(l,t.attrs,i),function FZ(n,t,e,i){n[fa(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function VZ(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=cf(i,n[s].hostAttrs,e);return cf(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function SZ(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=fa(o),l=pl(o);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||Zc(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const h=fa(n[a+1]);n[i+1]=N_(h,a),0!==h&&(n[h+1]=wC(n[h+1],i)),n[a+1]=function CZ(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=N_(a,0),0!==a&&(n[a+1]=wC(n[a+1],i)),a=i;else n[i+1]=N_(l,0),0===a?a=i:n[l+1]=wC(n[l+1],i),l=i;c&&(n[i+1]=CC(n[i+1])),GL(n,u,i,!0),GL(n,u,i,!1),function DZ(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Zc(s,t)>=0&&(e[i+1]=SC(e[i+1]))}(t,u,n,i,s),o=N_(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function DC(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=cf(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function cf(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Tr(n,o,!!e||t[++s]))}return void 0===n?null:n}function HZ(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Tr(n,i,e)}function JL(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function wZ(n){return 1==(1&n)}(c)?eF(l,t,e,r,pl(c),o):void 0;P_(u)||(P_(s)||function xZ(n){return 2==(2&n)}(c)&&(s=eF(l,null,e,r,a,o)),function EK(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:ua.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ua.Important),n.setStyle(e,i,r,s))}}(i,o,Lm(ji(),e),r,s))}function eF(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===He&&(h=d?vt:void 0);let f=d?cx(h,i):u===i?h:void 0;if(c&&!P_(f)&&(f=cx(l,i)),P_(f)&&(a=f,o))return a;const p=n[r+1];r=o?fa(p):pl(p)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=cx(l,i))}return a}function P_(n){return void 0!==n}function tF(n,t){return 0!=(n.flags&(t?8:16))}function ee(n,t=""){const e=F(),i=dt(),r=n+et,s=i.firstCreatePass?gu(i,r,1,t,null):i.data[r],o=nF(i,e,s,t,n);e[r]=o,Vm()&&s_(i,e,o,s),Ns(s,!1)}let nF=(n,t,e,i,r)=>(ca(!0),function t_(n,t){return n.createText(t)}(t[Fe],i));function ar(n){return pi("",n,""),ar}function pi(n,t,e){const i=F(),r=_u(i,n,t,e);return r!==He&&function yo(n,t,e){const i=Lm(t,n);!function EP(n,t,e){n.setValue(t,e)}(n[Fe],i,e)}(i,ji(),r),pi}const Eu="en-US";let wF=Eu;function kC(n,t,e,i,r){if(n=Me(n),Array.isArray(n))for(let s=0;s<n.length;s++)kC(n[s],t,e,i,r);else{const s=dt(),o=F(),a=fi();let l=dl(n)?n:Me(n.provide);const c=oO(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(dl(n)||!n.multi){const f=new Rh(c,r,y),p=RC(l,t,r?u:u+h,d);-1===p?(ox(Gm(a,o),s,l),MC(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(f),o.push(f)):(e[p]=f,o[p]=f)}else{const f=RC(l,t,u+h,d),p=RC(l,t,u,u+h),g=p>=0&&e[p];if(r&&!g||!r&&!(f>=0&&e[f])){ox(Gm(a,o),s,l);const v=function oee(n,t,e,i,r){const s=new Rh(n,e,y);return s.multi=[],s.index=t,s.componentProviders=0,KF(s,r,i&&!e),s}(r?see:ree,e.length,r,i,c);!r&&g&&(e[p].providerFactory=v),MC(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(v),o.push(v)}else MC(s,n,f>-1?f:p,KF(e[r?p:f],c,!r&&i));!r&&i&&g&&e[p].componentProviders++}}}function MC(n,t,e,i){const r=dl(t),s=function nX(n){return!!n.useClass}(t);if(r||s){const l=(s?Me(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function KF(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function RC(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function ree(n,t,e,i){return NC(this.multi,[])}function see(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=cl(e,e[ue],this.providerFactory.index,i);s=a.slice(0,o),NC(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],NC(r,s);return s}function NC(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ft(n,t=[]){return e=>{e.providersResolver=(i,r)=>function iee(n,t,e){const i=dt();if(i.firstCreatePass){const r=ls(n);kC(e,i.data,i.blueprint,r,!0),kC(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class _l{}class XF{}class PC extends _l{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lL(this);const r=yr(t);this._bootstrapComponents=vo(r.bootstrap),this._r3Injector=bO(t,e,[{provide:_l,useValue:this},{provide:cu,useValue:this.componentFactoryResolver},...i],Wn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class OC extends XF{constructor(t){super(),this.moduleType=t}create(t){return new PC(this.moduleType,t,[])}}class QF extends _l{constructor(t){super(),this.componentFactoryResolver=new lL(this),this.instance=null;const e=new su([...t.providers,{provide:_l,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],t.parent||h_(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function LC(n,t,e=null){return new QF({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let cee=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=nO(0,e.type),r=i.length>0?LC([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(L(xr))})}return n})();function vl(n){n.getStandaloneInjector=t=>t.get(cee).getOrCreateStandaloneInjector(n)}function wr(n,t,e,i){return function o2(n,t,e,i,r,s){const o=t+e;return ki(n,o,r)?Fs(n,o+1,s?i.call(s,r):i(r)):gf(n,o+1)}(F(),zi(),n,t,e,i)}function yl(n,t,e,i,r){return function a2(n,t,e,i,r,s,o){const a=t+e;return hl(n,a,r,s)?Fs(n,a+2,o?i.call(o,r,s):i(r,s)):gf(n,a+2)}(F(),zi(),n,t,e,i,r)}function Au(n,t,e,i,r,s){return function l2(n,t,e,i,r,s,o,a){const l=t+e;return function E_(n,t,e,i,r){const s=hl(n,t,e,i);return ki(n,t+2,r)||s}(n,l,r,s,o)?Fs(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):gf(n,l+3)}(F(),zi(),n,t,e,i,r,s)}function gf(n,t){const e=n[t];return e===He?void 0:e}function Mee(){return this._results[Symbol.iterator]()}class VC{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ne)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=VC.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Mee)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Wr(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function kY(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Nee(n,t,e,i=!0){const r=t[ue];if(function yK(n,t,e,i){const r=di+i,s=e.length;i>0&&(e[r-1][as]=t),i<s-di?(t[as]=e[r],iP(e,di+i,t)):(e.push(t),t[as]=null),t[sn]=e;const o=t[Sh];null!==o&&e!==o&&function bK(n,t){const e=n[Bc];t[Cn]!==t[sn][sn][Cn]&&(n[iN]=!0),null===e?n[Bc]=[t]:e.push(t)}(o,t);const a=t[ks];null!==a&&a.insertView(n),t[Ge]|=128}(r,t,n,e),i){const s=wx(e,n),o=t[Fe],a=r_(o,n[Ms]);null!==a&&function mK(n,t,e,i,r,s){i[_n]=r,i[Ei]=t,Uh(n,i,e,1,r,s)}(r,n[Ei],o,t,a,s)}}let Zt=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Lee}return n})();const Pee=Zt,Oee=class extends Pee{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function Ree(n,t,e,i){const r=t.tView,a=T_(n,r,e,4096&n[Ge]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Sh]=n[t.index];const c=n[ks];return null!==c&&(a[ks]=c.createEmbeddedView(r)),gC(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new Zh(r)}};function Lee(){return B_(fi(),F())}function B_(n,t){return 4&n.type?new Oee(t,n,uu(n,t)):null}let Sr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Uee}return n})();function Uee(){return _2(fi(),F())}const Gee=Sr,g2=class extends Gee{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return uu(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){const t=zm(this._hostTNode,this._hostLView);if(ix(t)){const e=Ph(t,this._hostLView),i=Nh(t);return new Wi(e[ue].data[i+8],e)}return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=m2(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-di}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,s){const o=t&&!function Lh(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const m=e||{};a=m.index,i=m.injector,r=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const l=o?t:new Jh(ut(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const g=(o?c:this.parentInjector).get(xr,null);g&&(s=g)}ut(l.componentType??{});const f=l.create(c,r,null,s);return this.insertImpl(f.hostView,a,false),f}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function Wq(n){return Gi(n[sn])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[sn],u=new g2(c,c[Ei],c[sn]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;return Nee(a,r,o,!i),t.attachToViewContainerRef(),iP(BC(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=m2(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=i_(this._lContainer,e);i&&(Wm(BC(this._lContainer),e),bx(i[ue],i))}detach(t){const e=this._adjustIndex(t,-1),i=i_(this._lContainer,e);return i&&null!=Wm(BC(this._lContainer),e)?new Zh(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function m2(n){return n[8]}function BC(n){return n[8]||(n[8]=[])}function _2(n,t){let e;const i=t[n.index];return Gi(i)?e=i:(e=XO(i,t,null,n),t[n.index]=e,x_(t,e)),v2(e,t,n,i),new g2(e,n,t)}let v2=function y2(n,t,e,i){if(n[Ms])return;let r;r=8&e.type?Gt(i):function zee(n,t){const e=n[Fe],i=e.createComment(""),r=sr(t,n);return ul(e,r_(e,r),i,function wK(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Ms]=r};class HC{constructor(t){this.queryList=t,this.matches=null}clone(){return new HC(this.queryList)}setDirty(){this.queryList.setDirty()}}class $C{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new $C(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==w2(t,e).matches&&this.queries[e].setDirty()}}class b2{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class UC{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new UC(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class GC{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new GC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,qee(e,s)),this.matchTNodeWithReadOption(t,e,jm(e,t,s,!1,!1))}else i===Zt?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,jm(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Xe||r===Sr||r===Zt&&4&e.type)this.addMatch(e.index,-2);else{const s=jm(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function qee(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Kee(n,t,e,i){return-1===e?function Yee(n,t){return 11&n.type?uu(n,t):4&n.type?B_(n,t):null}(t,n):-2===e?function Xee(n,t,e){return e===Xe?uu(t,n):e===Zt?B_(t,n):e===Sr?_2(t,n):void 0}(n,t,i):cl(n,n[ue],e,t)}function T2(n,t,e,i){const r=t[ks].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Kee(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function zC(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=T2(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=di;d<u.length;d++){const h=u[d];h[Sh]===h[sn]&&zC(h[ue],h,c,i)}if(null!==u[Bc]){const d=u[Bc];for(let h=0;h<d.length;h++){const f=d[h];zC(f[ue],f,c,i)}}}}}return i}function yt(n){const t=F(),e=dt(),i=LN();ZT(i+1);const r=w2(e,i);if(n.dirty&&function zq(n){return 4==(4&n[Ge])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?zC(e,t,i,[]):T2(e,t,r,i);n.reset(s,CX),n.notifyOnChanges()}return!0}return!1}function bl(n,t,e){const i=dt();i.firstCreatePass&&(C2(i,new b2(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),x2(i,F(),t)}function jt(n,t,e,i){const r=dt();if(r.firstCreatePass){const s=fi();C2(r,new b2(t,e,i),s.index),function Zee(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}x2(r,F(),e)}function bt(){return function Qee(n,t){return n[ks].queries[t].queryList}(F(),LN())}function x2(n,t,e){const i=new VC(4==(4&e));(function eQ(n,t,e,i){const r=ZO(t);r.push(e),n.firstCreatePass&&JO(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[ks]&&(t[ks]=new $C),t[ks].queries.push(new HC(i))}function C2(n,t,e){null===n.queries&&(n.queries=new UC),n.queries.track(new GC(t,e))}function w2(n,t){return n.queries.getByIndex(t)}const XC=new W("Application Initializer");let QC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=se(XC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(lf(s))e.push(s);else if(kL(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$2=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const xo=new W("LocaleId",{providedIn:"root",factory:()=>se(xo,Je.Optional|Je.SkipSelf)||function yte(){return typeof $localize<"u"&&$localize.locale||Eu}()});let U_=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new jn(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class xte{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let U2=(()=>{class n{compileModuleSync(e){return new OC(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=vo(yr(e).declarations).reduce((o,a)=>{const l=ut(a);return l&&o.push(new Jh(l)),o},[]);return new xte(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const W2=new W(""),z_=new W("");let nw,ew=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nw||(function zte(n){nw=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(L(Re),L(tw),L(z_))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),tw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return nw?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),ga=null;const q2=new W("AllowMultipleToken"),iw=new W("PlatformDestroyListeners"),rw=new W("appBootstrapListener");class K2{constructor(t,e){this.name=t,this.token=e}}function Q2(n,t,e=[]){const i=`Platform: ${t}`,r=new W(i);return(s=[])=>{let o=sw();if(!o||o.injector.get(q2,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function qte(n){if(ga&&!ga.get(q2,!1))throw new P(400,!1);(function Y2(){!function Mq(n){gN=n}(()=>{throw new P(600,!1)})})(),ga=n;const t=n.get(J2);(function X2(n){n.get(aO,null)?.forEach(e=>e())})(n)}(function Z2(n=[],t){return Ln.create({name:t,providers:[{provide:Fx,useValue:"platform"},{provide:iw,useValue:new Set([()=>ga=null])},...n]})}(a,i))}return function Kte(n){const t=sw();if(!t)throw new P(401,!1);return t}()}}function sw(){return ga?.get(J2)??null}let J2=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function Xte(n="zone.js",t){return"noop"===n?new FX:"zone.js"===n?new Re(t):n}(i?.ngZone,function eV(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function lee(n,t,e){return new PC(n,t,e)}(e.moduleType,this.injector,function sV(n){return[{provide:Re,useFactory:n},{provide:Wh,multi:!0,useFactory:()=>{const t=se(Zte,{optional:!0});return()=>t.initialize()}},{provide:rV,useFactory:Qte},{provide:SO,useFactory:DO}]}(()=>r)),o=s.injector.get(_o,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{j_(this._modules,s),a.unsubscribe()})}),function tV(n,t,e){try{const i=e();return lf(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(QC);return a.runInitializers(),a.donePromise.then(()=>(function SF(n){Gr(n,"Expected localeId to be defined"),"string"==typeof n&&(wF=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(xo,Eu)||Eu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=nV({},i);return function jte(n,t,e){const i=new OC(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Co);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new P(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(iw,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(L(Ln))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function nV(n,t){return Array.isArray(t)?t.reduce(nV,n):{...n,...t}}let Co=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=se(rV),this.zoneIsStable=se(SO),this.componentTypes=[],this.components=[],this.isStable=se(U_).hasPendingTasks.pipe(tr(e=>e?Se(!1):this.zoneIsStable),function Tm(n,t=$r){return n=n??G7,Qt((e,i)=>{let r,s=!0;e.subscribe(It(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}(),NR()),this._injector=se(xr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof fO;if(!this._injector.get(QC).done)throw!r&&function Pc(n){const t=ut(n)||ui(n)||Ui(n);return null!==t&&t.standalone}(e),new P(405,!1);let o;o=r?e:this._injector.get(cu).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function Wte(n){return n.isBoundToModule}(o)?void 0:this._injector.get(_l),c=o.create(Ln.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(W2,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),j_(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;j_(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(rw,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>j_(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new P(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const rV=new W("",{providedIn:"root",factory:()=>se(_o).handleError.bind(void 0)});function Qte(){const n=se(Re),t=se(_o);return e=>n.runOutsideAngular(()=>t.handleError(e))}let Zte=(()=>{class n{constructor(){this.zone=se(Re),this.applicationRef=se(Co)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let ti=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=ene}return n})();function ene(n){return function tne(n,t,e){if(ol(n)&&!e){const i=br(n.index,t);return new Zh(i,i)}return 47&n.type?new Zh(t[Cn],t):null}(fi(),F(),16==(16&n))}class cV{constructor(){}supports(t){return D_(t)}create(t){return new ane(t)}}const one=(n,t)=>t;class ane{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||one}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<dV(i,r,s)?e:i,a=dV(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!D_(t))throw new P(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function WQ(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new lne(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new uV),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uV),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class lne{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cne{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class uV{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new cne,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dV(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class hV{constructor(){}supports(t){return t instanceof Map||mC(t)}create(){return new une}}class une{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||mC(t)))throw new P(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new dne(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class dne{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fV(){return new Y_([new cV])}let Y_=(()=>{class n{static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:fV});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||fV()),deps:[[n,new Ym,new qr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new P(901,!1)}}return n})();function pV(){return new yf([new hV])}let yf=(()=>{class n{static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:pV});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||pV()),deps:[[n,new Ym,new qr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new P(901,!1)}}return n})();const pne=Q2(null,"core",[]);let gne=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(L(Co))};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=xe({})}return n})();function gi(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Dne(n,t=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?t:Number(n)}let dw=null;function ma(){return dw}class kne{}const Lt=new W("DocumentToken");let hw=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return se(Rne)},providedIn:"platform"})}return n})();const Mne=new W("Location Initialized");let Rne=(()=>{class n extends hw{constructor(){super(),this._doc=se(Lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ma().getBaseHref(this._doc)}onPopState(e){const i=ma().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ma().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function fw(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function CV(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function wo(n){return n&&"?"!==n[0]?"?"+n:n}let xl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return se(SV)},providedIn:"root"})}return n})();const wV=new W("appBaseHref");let SV=(()=>{class n extends xl{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??se(Lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return fw(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+wo(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+wo(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+wo(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(L(hw),L(wV,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nne=(()=>{class n extends xl{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=fw(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+wo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+wo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(L(hw),L(wV,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),pw=(()=>{class n{constructor(e){this._subject=new ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Lne(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(CV(DV(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+wo(i))}normalize(e){return n.stripTrailingSlash(function One(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,DV(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wo(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=wo;static#t=this.joinWithSlash=fw;static#n=this.stripTrailingSlash=CV;static#i=this.\u0275fac=function(i){return new(i||n)(L(xl))};static#r=this.\u0275prov=q({token:n,factory:function(){return function Pne(){return new pw(L(xl))}()},providedIn:"root"})}return n})();function DV(n){return n.replace(/\/index.html$/,"")}function OV(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const ww=/\s+/,LV=[];let Sw=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=LV,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(ww):LV}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(ww):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(ww).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(y(Y_),y(yf),y(Xe),y(qi))};static#t=this.\u0275dir=K({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class xie{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mi=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new xie(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),VV(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{VV(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(y(Sr),y(Zt),y(Y_))};static#t=this.\u0275dir=K({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function VV(n,t){n.context.$implicit=t.item}let Er=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Cie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){BV("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){BV("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(y(Sr),y(Zt))};static#t=this.\u0275dir=K({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Cie{constructor(){this.$implicit=null,this.ngIf=null}}function BV(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Wn(t)}'.`)}let $V=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:ua.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(y(Xe),y(yf),y(qi))};static#t=this.\u0275dir=K({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),Cl=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Sr))};static#t=this.\u0275dir=K({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Rt]})}return n})(),Dn=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=xe({})}return n})();const GV="browser";function Qr(n){return n===GV}function ov(n){return"server"===n}let Zie=(()=>{class n{static#e=this.\u0275prov=q({token:n,providedIn:"root",factory:()=>new Jie(L(Lt),window)})}return n})();class Jie{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ere(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class zV{}class Cre extends kne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Rw extends Cre{static makeCurrent(){!function Ine(n){dw||(dw=n)}(new Rw)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function wre(){return Cf=Cf||document.querySelector("base"),Cf?Cf.getAttribute("href"):null}();return null==e?null:function Sre(n){cv=cv||document.createElement("a"),cv.setAttribute("href",n);const t=cv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Cf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return OV(document.cookie,t)}}let cv,Cf=null,Ere=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const Nw=new W("EventManagerPlugins");let KV=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(L(Nw),L(Re))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();class XV{constructor(t){this._doc=t}}const Pw="ng-app-id";let QV=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ov(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Pw}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(Pw),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Pw,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(L(Lt),L(f_),L(cO,8),L(Ii))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const Ow={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lw=/%COMP%/g,Mre=new W("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function JV(n,t){return t.map(e=>e.replace(Lw,n))}let Fw=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=ov(a),this.defaultRenderer=new Vw(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zr.ShadowDom&&(i={...i,encapsulation:zr.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof tB?r.applyToHost(e):r instanceof Bw&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case zr.Emulated:s=new tB(l,c,i,this.appId,u,o,a,d);break;case zr.ShadowDom:return new Ore(l,c,e,i,o,a,this.nonce,d);default:s=new Bw(l,c,i,u,o,a,d)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(L(KV),L(QV),L(f_),L(Mre),L(Lt),L(Ii),L(Re),L(cO))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();class Vw{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Ow[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(eB(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(eB(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new P(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Ow[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ow[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(ua.DashCase|ua.Important)?t.style.setProperty(e,i,r&ua.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&ua.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=ma().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function eB(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ore extends Vw{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=JV(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bw extends Vw{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?JV(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class tB extends Bw{constructor(t,e,i,r,s,o,a,l){const c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=function Rre(n){return"_ngcontent-%COMP%".replace(Lw,n)}(c),this.hostAttr=function Nre(n){return"_nghost-%COMP%".replace(Lw,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Lre=(()=>{class n extends XV{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(L(Lt))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const nB=["alt","control","meta","shift"],Fre={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vre={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bre=(()=>{class n extends XV{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ma().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),nB.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=Fre[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),nB.forEach(o=>{o!==r&&(0,Vre[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(L(Lt))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const rB=[{provide:Ii,useValue:GV},{provide:aO,useValue:function Hre(){Rw.makeCurrent()},multi:!0},{provide:Lt,useFactory:function Ure(){return function RK(n){Ex=n}(document),document},deps:[]}],Gre=Q2(pne,"browser",rB),zre=new W(""),sB=[{provide:z_,useClass:class Dre{addToWindow(t){Ut.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new P(5103,!1);return s},Ut.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ut.getAllAngularRootElements=()=>t.getAllRootElements(),Ut.frameworkStabilizers||(Ut.frameworkStabilizers=[]),Ut.frameworkStabilizers.push(i=>{const r=Ut.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?ma().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:W2,useClass:ew,deps:[Re,tw,z_]},{provide:ew,useClass:ew,deps:[Re,tw,z_]}],oB=[{provide:Fx,useValue:"root"},{provide:_o,useFactory:function $re(){return new _o},deps:[]},{provide:Nw,useClass:Lre,multi:!0,deps:[Lt,Re,Ii]},{provide:Nw,useClass:Bre,multi:!0,deps:[Lt]},Fw,QV,KV,{provide:du,useExisting:Fw},{provide:zV,useClass:Ere,deps:[]},[]];let aB=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:f_,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(L(zre,12))};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=xe({providers:[...oB,...sB],imports:[Dn,gne]})}return n})(),lB=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(L(Lt))};static#t=this.\u0275prov=q({token:n,factory:function(i){let r=null;return r=i?new i:function Wre(){return new lB(L(Lt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;class hB{}class Qre{}const Eo="*";function pB(n,t=null){return{type:2,steps:n,options:t}}function va(n){return{type:6,styles:n,offset:null}}class wf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class gB{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function mB(n){return new P(3e3,!1)}function ya(n){switch(n.length){case 0:return new wf;case 1:return n[0];default:return new gB(n)}}function _B(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,r),m){case"!":m=e.get(f);break;case Eo:m=i.get(f);break;default:m=n.normalizeStyleValue(f,p,m,r)}d.set(p,m)}),u||s.push(d),a=d,o=c}),r.length)throw function bse(n){return new P(3502,!1)}();return s}function zw(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&jw(e,"start",n)));break;case"done":n.onDone(()=>i(e&&jw(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&jw(e,"destroy",n)))}}function jw(n,t,e){const s=Ww(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function Ww(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Ar(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function vB(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const Rse=(()=>typeof document>"u"?null:document.documentElement)();function qw(n){const t=n.parentNode||n.host||null;return t===Rse?null:t}let wl=null,yB=!1;function bB(n,t){for(;t;){if(t===n)return!0;t=qw(t)}return!1}function TB(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let xB=(()=>{class n{validateStyleProperty(e){return function Pse(n){wl||(wl=function Ose(){return typeof document<"u"?document.body:null}()||{},yB=!!wl.style&&"WebkitAppearance"in wl.style);let t=!0;return wl.style&&!function Nse(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in wl.style,!t&&yB&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in wl.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return bB(e,i)}getParentElement(e){return qw(e)}query(e,i,r){return TB(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new wf(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})(),Yw=(()=>{class n{static#e=this.NOOP=new xB}return n})();const Lse=1e3,Kw="ng-enter",uv="ng-leave",dv="ng-trigger",hv=".ng-trigger",wB="ng-animating",Xw=".ng-animating";function Ao(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Qw(parseFloat(t[1]),t[2])}function Qw(n,t){return"s"===t?n*Lse:n}function fv(n,t,e){return n.hasOwnProperty("duration")?n:function Vse(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(mB()),{duration:0,delay:0,easing:""};r=Qw(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=Qw(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function Zre(){return new P(3100,!1)}()),a=!0),s<0&&(t.push(function Jre(){return new P(3101,!1)}()),a=!0),a&&t.splice(l,0,mB())}return{duration:r,delay:s,easing:o}}(n,t,e)}function Sf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function SB(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ba(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function $s(n,t,e){t.forEach((i,r)=>{const s=Jw(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function Sl(n,t){t.forEach((e,i)=>{const r=Jw(i);n.style[r]=""})}function Df(n){return Array.isArray(n)?1==n.length?n[0]:pB(n):n}const Zw=new RegExp("{{\\s*(.+?)\\s*}}","g");function EB(n){let t=[];if("string"==typeof n){let e;for(;e=Zw.exec(n);)t.push(e[1]);Zw.lastIndex=0}return t}function Ef(n,t,e){const i=n.toString(),r=i.replace(Zw,(s,o)=>{let a=t[o];return null==a&&(e.push(function tse(n){return new P(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function pv(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const $se=/-+([a-z0-9])/g;function Jw(n){return n.replace($se,(...t)=>t[1].toUpperCase())}function Ir(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function nse(n){return new P(3004,!1)}()}}function AB(n,t){return window.getComputedStyle(n)[t]}const gv="*";function zse(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function jse(n,t,e){if(":"==n[0]){const l=function Wse(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function mse(n){return new P(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function gse(n){return new P(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(IB(r,o));"<"==s[0]&&!(r==gv&&o==gv)&&t.push(IB(o,r))}(i,e,t)):e.push(n),e}const mv=new Set(["true","1"]),_v=new Set(["false","0"]);function IB(n,t){const e=mv.has(n)||_v.has(n),i=mv.has(t)||_v.has(t);return(r,s)=>{let o=n==gv||n==r,a=t==gv||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?mv.has(n):_v.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?mv.has(t):_v.has(t)),o&&a}}const qse=new RegExp("s*:selfs*,?","g");function e1(n,t,e,i){return new Yse(n).build(t,e,i)}class Yse{constructor(t){this._driver=t}build(t,e,i){const r=new Qse(e);return this._resetContextStyleTimingState(r),Ir(this,Df(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function rse(){return new P(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function sse(){return new P(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{EB(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(pv(s.values()),e.errors.push(function ose(n,t){return new P(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ir(this,Df(t.animation),e);return{type:1,matchers:zse(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Dl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ir(this,i,e)),options:Dl(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=Ir(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:Dl(t.options)}}visitAnimate(t,e){const i=function Jse(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return t1(fv(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=t1(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=fv(e,t);return t1(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:va({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=va(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Eo?i.push(a):e.errors.push(new P(3002,!1)):i.push(SB(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function lse(n,t,e,i,r){return new P(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&function Hse(n,t,e){const i=t.params||{},r=EB(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function ese(n){return new P(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function cse(){return new P(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(v=>{const _=this._makeStyleAst(v,e);let b=null!=_.offset?_.offset:function Zse(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(_.styles),x=0;return null!=b&&(s++,x=_.offset=b),l=l||x<0||x>1,a=a||x<c,c=x,o.push(x),_});l&&e.errors.push(function use(){return new P(3012,!1)}()),a&&e.errors.push(function dse(){return new P(3200,!1)}());const d=t.steps.length;let h=0;s>0&&s<d?e.errors.push(function hse(){return new P(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((v,_)=>{const b=h>0?_==f?1:h*_:o[_],x=b*g;e.currentTime=p+m.delay+x,m.duration=x,this._validateStyleAst(v,e),v.offset=b,i.styles.push(v)}),i}visitReference(t,e){return{type:8,animation:Ir(this,Df(t.animation),e),options:Dl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Dl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Dl(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function Kse(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(qse,"")),n=n.replace(/@\*/g,hv).replace(/@\w+/g,e=>hv+"-"+e.slice(1)).replace(/:animating/g,Xw),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ar(e.collectedStyles,e.currentQuerySelector,new Map);const a=Ir(this,Df(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Dl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function fse(){return new P(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:fv(t.timings,e.errors,!0);return{type:12,animation:Ir(this,Df(t.animation),e),timings:i,options:null}}}class Qse{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Dl(n){return n?(n=Sf(n)).params&&(n.params=function Xse(n){return n?Sf(n):null}(n.params)):n={},n}function t1(n,t,e){return{duration:n,delay:t,easing:e}}function n1(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class vv{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const noe=new RegExp(":enter","g"),roe=new RegExp(":leave","g");function r1(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return(new soe).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class soe{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new vv;const d=new s1(t,e,c,r,s,u,[]);d.options=l;const h=l.delay?Ao(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Ir(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[n1(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:Ao(Ef(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?Ao(i.duration):null,a=null!=i.delay?Ao(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ir(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=yv);const o=Ao(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Ir(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Ao(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Ir(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return fv(e.params?Ef(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Ao(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yv);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),Ir(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Ir(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const yv={};class s1{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new bv(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Ao(i.duration)),null!=i.delay&&(r.delay=Ao(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Ef(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new s1(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=yv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new ooe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(noe,"."+this._enterClassName)).replace(roe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function pse(n){return new P(3014,!1)}()),a}}class bv{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Eo),this._currentKeyframe.set(e,Eo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function aoe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Eo)}else ba(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=Ef(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Eo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=ba(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===Eo&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=t.size?pv(t.values()):[],o=e.size?pv(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return n1(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class ooe extends bv{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=ba(t[0]);l.set("offset",0),s.push(l);const c=ba(t[0]);c.set("offset",RB(a)),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=ba(t[d]);const f=h.get("offset");h.set("offset",RB((e+f*i)/o)),s.push(h)}i=o,e=0,r="",t=s}return n1(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function RB(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class o1{}const loe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class coe extends o1{normalizePropertyName(t,e){return Jw(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(loe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function ise(n,t){return new P(3005,!1)}())}return o+s}}function NB(n,t,e,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const a1={};class PB{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function uoe(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||a1,p=this.buildStyles(i,a&&a.params||a1,d),m=l&&l.params||a1,g=this.buildStyles(r,m,d),v=new Set,_=new Map,b=new Map,x="void"===r,E={params:doe(m,h),delay:this.ast.options?.delay},k=u?[]:r1(t,e,this.ast.animation,s,o,p,g,E,c,d);let U=0;if(k.forEach(Ce=>{U=Math.max(Ce.duration+Ce.delay,U)}),d.length)return NB(e,this._triggerName,i,r,x,p,g,[],[],_,b,U,d);k.forEach(Ce=>{const me=Ce.element,ce=Ar(_,me,new Set);Ce.preStyleProps.forEach(Te=>ce.add(Te));const ot=Ar(b,me,new Set);Ce.postStyleProps.forEach(Te=>ot.add(Te)),me!==e&&v.add(me)});const Y=pv(v.values());return NB(e,this._triggerName,i,r,x,p,g,k,Y,_,b,U)}}function doe(n,t){const e=Sf(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class hoe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Sf(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Ef(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class poe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new hoe(r.style,r.options&&r.options.params||{},i))}),OB(this.states,"true","1"),OB(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new PB(t,r,this.states))}),this.fallbackTransition=function goe(n,t,e){return new PB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function OB(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const moe=new vv;class _oe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=e1(this._driver,e,i,[]);if(i.length)throw function Tse(n){return new P(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=_B(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=r1(this._driver,e,s,Kw,uv,new Map,new Map,i,moe,r),o.forEach(u=>{const d=Ar(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function xse(){return new P(3300,!1)}()),o=[]),r.length)throw function Cse(n){return new P(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Eo))})});const c=ya(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function wse(n){return new P(3301,!1)}();return e}listen(t,e,i,r){const s=Ww(e,"","","");return zw(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const LB="ng-animate-queued",l1="ng-animate-disabled",xoe=[],FB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Coe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ps="__ng_removed";class c1{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Eoe(n){return n??null}(i?t.value:t),i){const s=Sf(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Af="void",u1=new c1(Af);class woe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Zr(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Sse(n,t){return new P(3302,!1)}();if(null==i||0==i.length)throw function Dse(n){return new P(3303,!1)}();if(!function Aoe(n){return"start"==n||"done"==n}(i))throw function Ese(n,t){return new P(3400,!1)}();const s=Ar(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=Ar(this._engine.statesByElement,t,new Map);return a.has(e)||(Zr(t,dv),Zr(t,dv+"-"+e),a.set(e,u1)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Ase(n){return new P(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new d1(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Zr(t,dv),Zr(t,dv+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new c1(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=u1),c.value!==Af&&l.value===c.value){if(!function Moe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),v=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Sl(t,g),$s(t,v)})}return}const h=Ar(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Zr(t,LB),o.onStart(()=>{Ru(t,LB)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let v=g.indexOf(o);v>=0&&g.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,hv,!0);i.forEach(r=>{if(r[ps])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,Af,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&ya(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||u1,u=new c1(Af),d=new d1(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ps];(!s||s===FB)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Zr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=Ww(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,zw(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Soe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new woe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(Tv(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Tv(e))return;const s=e[ps];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Zr(t,l1)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ru(t,l1))}removeNode(t,e,i){if(Tv(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ps]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Tv(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,hv,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Xw,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ya(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ps];if(e&&e.setForRemoval){if(t[ps]=FB,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(l1)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Zr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ya(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Ise(n){return new P(3402,!1)}()}_flushAnimations(t,e){const i=new vv,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(G=>{u.add(G);const j=this.driver.query(G,".ng-animate-queued",!0);for(let he=0;he<j.length;he++)u.add(j[he])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=HB(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((G,j)=>{const he=Kw+m++;p.set(j,he),G.forEach(de=>Zr(de,he))});const g=[],v=new Set,_=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){const j=this.collectedLeaveElements[G],he=j[ps];he&&he.setForRemoval&&(g.push(j),v.add(j),he.hasAnimation?this.driver.query(j,".ng-star-inserted",!0).forEach(de=>v.add(de)):_.add(j))}const b=new Map,x=HB(h,Array.from(v));x.forEach((G,j)=>{const he=uv+m++;b.set(j,he),G.forEach(de=>Zr(de,he))}),t.push(()=>{f.forEach((G,j)=>{const he=p.get(j);G.forEach(de=>Ru(de,he))}),x.forEach((G,j)=>{const he=b.get(j);G.forEach(de=>Ru(de,he))}),g.forEach(G=>{this.processLeaveNode(G)})});const E=[],k=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(e).forEach(he=>{const de=he.player,ze=he.element;if(E.push(de),this.collectedEnterElements.length){const Ze=ze[ps];if(Ze&&Ze.setForMove){if(Ze.previousTriggersValues&&Ze.previousTriggersValues.has(he.triggerName)){const gn=Ze.previousTriggersValues.get(he.triggerName),te=this.statesByElement.get(he.element);if(te&&te.has(he.triggerName)){const Ae=te.get(he.triggerName);Ae.value=gn,te.set(he.triggerName,Ae)}}return void de.destroy()}}const at=!d||!this.driver.containsElement(d,ze),Ke=b.get(ze),ei=p.get(ze),it=this._buildInstruction(he,i,ei,Ke,at);if(it.errors&&it.errors.length)return void k.push(it);if(at)return de.onStart(()=>Sl(ze,it.fromStyles)),de.onDestroy(()=>$s(ze,it.toStyles)),void r.push(de);if(he.isFallbackTransition)return de.onStart(()=>Sl(ze,it.fromStyles)),de.onDestroy(()=>$s(ze,it.toStyles)),void r.push(de);const li=[];it.timelines.forEach(Ze=>{Ze.stretchStartingKeyframe=!0,this.disabledNodes.has(Ze.element)||li.push(Ze)}),it.timelines=li,i.append(ze,it.timelines),o.push({instruction:it,player:de,element:ze}),it.queriedElements.forEach(Ze=>Ar(a,Ze,[]).push(de)),it.preStyleProps.forEach((Ze,gn)=>{if(Ze.size){let te=l.get(gn);te||l.set(gn,te=new Set),Ze.forEach((Ae,je)=>te.add(je))}}),it.postStyleProps.forEach((Ze,gn)=>{let te=c.get(gn);te||c.set(gn,te=new Set),Ze.forEach((Ae,je)=>te.add(je))})});if(k.length){const G=[];k.forEach(j=>{G.push(function kse(n,t){return new P(3505,!1)}())}),E.forEach(j=>j.destroy()),this.reportError(G)}const U=new Map,Y=new Map;o.forEach(G=>{const j=G.element;i.has(j)&&(Y.set(j,j),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,U))}),r.forEach(G=>{const j=G.element;this._getPreviousPlayers(j,!1,G.namespaceId,G.triggerName,null).forEach(de=>{Ar(U,j,[]).push(de),de.destroy()})});const Ce=g.filter(G=>UB(G,l,c)),me=new Map;BB(me,this.driver,_,c,Eo).forEach(G=>{UB(G,l,c)&&Ce.push(G)});const ot=new Map;f.forEach((G,j)=>{BB(ot,this.driver,new Set(G),l,"!")}),Ce.forEach(G=>{const j=me.get(G),he=ot.get(G);me.set(G,new Map([...j?.entries()??[],...he?.entries()??[]]))});const Te=[],nt=[],un={};o.forEach(G=>{const{element:j,player:he,instruction:de}=G;if(i.has(j)){if(u.has(j))return he.onDestroy(()=>$s(j,de.toStyles)),he.disabled=!0,he.overrideTotalTime(de.totalTime),void r.push(he);let ze=un;if(Y.size>1){let Ke=j;const ei=[];for(;Ke=Ke.parentNode;){const it=Y.get(Ke);if(it){ze=it;break}ei.push(Ke)}ei.forEach(it=>Y.set(it,ze))}const at=this._buildAnimation(he.namespaceId,de,U,s,ot,me);if(he.setRealPlayer(at),ze===un)Te.push(he);else{const Ke=this.playersByElement.get(ze);Ke&&Ke.length&&(he.parentPlayer=ya(Ke)),r.push(he)}}else Sl(j,de.fromStyles),he.onDestroy(()=>$s(j,de.toStyles)),nt.push(he),u.has(j)&&r.push(he)}),nt.forEach(G=>{const j=s.get(G.element);if(j&&j.length){const he=ya(j);G.setRealPlayer(he)}}),r.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<g.length;G++){const j=g[G],he=j[ps];if(Ru(j,uv),he&&he.hasAnimation)continue;let de=[];if(a.size){let at=a.get(j);at&&at.length&&de.push(...at);let Ke=this.driver.query(j,Xw,!0);for(let ei=0;ei<Ke.length;ei++){let it=a.get(Ke[ei]);it&&it.length&&de.push(...it)}}const ze=de.filter(at=>!at.destroyed);ze.length?Ioe(this,j,ze):this.processLeaveNode(j)}return g.length=0,Te.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();const j=this.players.indexOf(G);this.players.splice(j,1)}),G.play()}),Te}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==Af;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=Ar(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Sl(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const m=p.element;u.add(m);const g=m[ps];if(g&&g.removedBeforeQueried)return new wf(p.duration,p.delay);const v=m!==l,_=function koe(n){const t=[];return $B(n,t),t}((i.get(m)||xoe).map(U=>U.getRealPlayer())).filter(U=>!!U.element&&U.element===m),b=s.get(m),x=o.get(m),E=_B(this._normalizer,p.keyframes,b,x),k=this._buildPlayer(p,E,_);if(p.subTimeline&&r&&d.add(m),v){const U=new d1(t,a,m);U.setRealPlayer(k),c.push(U)}return k});c.forEach(p=>{Ar(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Doe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Zr(p,wB));const f=ya(h);return f.onDestroy(()=>{u.forEach(p=>Ru(p,wB)),$s(l,e.toStyles)}),d.forEach(p=>{Ar(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new wf(t.duration,t.delay)}}class d1{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new wf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>zw(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ar(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Tv(n){return n&&1===n.nodeType}function VB(n,t){const e=n.style.display;return n.style.display=t??"none",e}function BB(n,t,e,i,r){const s=[];e.forEach(l=>s.push(VB(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[ps]=Coe,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>VB(l,s[a++])),o}function HB(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function Zr(n,t){n.classList?.add(t)}function Ru(n,t){n.classList?.remove(t)}function Ioe(n,t,e){ya(e).onDone(()=>n.processLeaveNode(t))}function $B(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof gB?$B(i.players,t):t.push(i)}}function UB(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class xv{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Soe(t,e,i),this._timelineEngine=new _oe(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=e1(this._driver,s,l,[]);if(l.length)throw function yse(n,t){return new P(3404,!1)}();a=function foe(n,t,e){return new poe(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=vB(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=vB(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let Noe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&$s(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($s(this._element,this._initialStyles),this._endStyles&&($s(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Sl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sl(this._element,this._endStyles),this._endStyles=null),$s(this._element,this._initialStyles),this._state=3)}}return n})();function h1(n){let t=null;return n.forEach((e,i)=>{(function Poe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class GB{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:AB(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Ooe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return bB(t,e)}getParentElement(t){return qw(t)}query(t,e,i){return TB(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof GB);(function Use(n,t){return 0===n||0===t})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function Bse(n){return n.length?n[0]instanceof Map?n:n.map(t=>SB(t)):[]}(e).map(f=>ba(f));d=function Gse(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,AB(n,a)))}}return t}(t,d,c);const h=function Roe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=h1(t[0]),t.length>1&&(i=h1(t[t.length-1]))):t instanceof Map&&(e=h1(t)),e||i?new Noe(n,e,i):null}(t,d);return new GB(t,d,l,h)}}let Loe=(()=>{class n extends hB{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:zr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?pB(e):e;return zB(this._renderer,null,i,"register",[r]),new Foe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(L(du),L(Lt))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();class Foe extends Qre{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Voe(this._id,t,e||{},this._renderer)}}class Voe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return zB(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function zB(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const jB="@.disabled";let Boe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new WB("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return i.data.animation.forEach(l),new Hoe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(L(du),L(xv),L(Re))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();class WB{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==jB?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Hoe extends WB{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==jB?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function $oe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Uoe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let Goe=(()=>{class n extends xv{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(L(Lt),L(Yw),L(o1),L(Co))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const qB=[{provide:hB,useClass:Loe},{provide:o1,useFactory:function zoe(){return new coe}},{provide:xv,useClass:Goe},{provide:du,useFactory:function joe(n,t,e){return new Boe(n,t,e)},deps:[Fw,xv,Re]}],f1=[{provide:Yw,useFactory:()=>new Ooe},{provide:lO,useValue:"BrowserAnimations"},...qB],YB=[{provide:Yw,useClass:xB},{provide:lO,useValue:"NoopAnimations"},...qB];let Woe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?YB:f1}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=xe({providers:f1,imports:[aB]})}return n})();const{isArray:Yoe}=Array,{getPrototypeOf:Koe,prototype:Xoe,keys:Qoe}=Object;function KB(n){if(1===n.length){const t=n[0];if(Yoe(t))return{args:t,keys:null};if(function Zoe(n){return n&&"object"==typeof n&&Koe(n)===Xoe}(t)){const e=Qoe(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Joe}=Array;function p1(n){return Ue(t=>function eae(n,t){return Joe(t)?n(...t):n(t)}(n,t))}function XB(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function If(...n){const t=vh(n),e=_m(n),{args:i,keys:r}=KB(n);if(0===i.length)return zn([],t);const s=new ct(function tae(n,t,e=$r){return i=>{QB(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)QB(t,()=>{const c=zn(n[l],t);let u=!1;c.subscribe(It(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>XB(r,o):$r));return e?s.pipe(p1(e)):s}function QB(n,t,e){n?co(e,n,t):t()}const wv=Kt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function kf(...n){return function nae(){return Rc(1)}()(zn(n,vh(n)))}function ZB(n){return new ct(t=>{On(n()).subscribe(t)})}function Mf(n,t){const e=Qe(n)?n:()=>n,i=r=>r.error(e());return new ct(t?r=>t.schedule(i,0,r):i)}function g1(){return Qt((n,t)=>{let e=null;n._refCount++;const i=It(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class JB extends ct{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,hm(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Be;const e=this.getSubject();t.add(this.source.subscribe(It(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Be.EMPTY)}return t}refCount(){return g1()(this)}}function Vn(n){return n<=0?()=>Ur:Qt((t,e)=>{let i=0;t.subscribe(It(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function El(...n){const t=vh(n);return Qt((e,i)=>{(t?kf(n,e,t):kf(n,e)).subscribe(i)})}function _i(n,t){return Qt((e,i)=>{let r=0;e.subscribe(It(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Sv(n){return Qt((t,e)=>{let i=!1;t.subscribe(It(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function e3(n=iae){return Qt((t,e)=>{let i=!1;t.subscribe(It(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function iae(){return new wv}function Al(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_i((r,s)=>n(r,s,i)):$r,Vn(1),e?Sv(t):e3(()=>new wv))}function Nu(n,t){return Qe(t)?Gn(n,t,1):Gn(n,1)}function Bn(n,t,e){const i=Qe(n)||t||e?{next:n,error:t,complete:e}:n;return i?Qt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(It(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):$r}function Il(n){return Qt((t,e)=>{let s,i=null,r=!1;i=t.subscribe(It(e,void 0,void 0,o=>{s=On(n(o,Il(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function m1(n){return n<=0?()=>Ur:Qt((t,e)=>{let i=[];t.subscribe(It(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Rf(n){return Qt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function on(n){return Qt((t,e)=>{On(n).subscribe(It(e,()=>e.complete(),Vt)),!e.closed&&t.subscribe(e)})}const qe="primary",Nf=Symbol("RouteTitle");class aae{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Pu(n){return new aae(n)}function lae(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Us(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!n3(n[r],t[r]))return!1;return!0}function n3(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function r3(n){return n.length>0?n[n.length-1]:null}function Ta(n){return function qoe(n){return!!n&&(n instanceof ct||Qe(n.lift)&&Qe(n.subscribe))}(n)?n:lf(n)?zn(Promise.resolve(n)):Se(n)}const uae={exact:function a3(n,t,e){if(!kl(n.segments,t.segments)||!Dv(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!a3(n.children[i],t.children[i],e))return!1;return!0},subset:l3},s3={exact:function dae(n,t){return Us(n,t)},subset:function hae(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>n3(n[e],t[e]))},ignored:()=>!0};function o3(n,t,e){return uae[e.paths](n.root,t.root,e.matrixParams)&&s3[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function l3(n,t,e){return c3(n,t,t.segments,e)}function c3(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!kl(r,e)||t.hasChildren()||!Dv(r,e,i))}if(n.segments.length===e.length){if(!kl(n.segments,e)||!Dv(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!l3(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(kl(n.segments,r)&&Dv(n.segments,r,i)&&n.children[qe])&&c3(n.children[qe],t,s,i)}}function Dv(n,t,e){return t.every((i,r)=>s3[e](n[r].parameters,i.parameters))}class Ou{constructor(t=new Nt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pu(this.queryParams)),this._queryParamMap}toString(){return gae.serialize(this)}}class Nt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ev(this)}}class Pf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Pu(this.parameters)),this._parameterMap}toString(){return h3(this)}}function kl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Of=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return new _1},providedIn:"root"})}return n})();class _1{parse(t){const e=new Dae(t);return new Ou(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Lf(t.root,!0)}`,i=function vae(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Av(e)}=${Av(r)}`).join("&"):`${Av(e)}=${Av(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function mae(n){return encodeURI(n)}(t.fragment)}`:""}`}}const gae=new _1;function Ev(n){return n.segments.map(t=>h3(t)).join("/")}function Lf(n,t){if(!n.hasChildren())return Ev(n);if(t){const e=n.children[qe]?Lf(n.children[qe],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==qe&&i.push(`${r}:${Lf(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function pae(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===qe&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==qe&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===qe?[Lf(n.children[qe],!1)]:[`${r}:${Lf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qe]?`${Ev(n)}/${e[0]}`:`${Ev(n)}/(${e.join("//")})`}}function u3(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Av(n){return u3(n).replace(/%3B/gi,";")}function v1(n){return u3(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iv(n){return decodeURIComponent(n)}function d3(n){return Iv(n.replace(/\+/g,"%20"))}function h3(n){return`${v1(n.path)}${function _ae(n){return Object.keys(n).map(t=>`;${v1(t)}=${v1(n[t])}`).join("")}(n.parameters)}`}const yae=/^[^\/()?;#]+/;function y1(n){const t=n.match(yae);return t?t[0]:""}const bae=/^[^\/()?;=#]+/,xae=/^[^=?&#]+/,wae=/^[^&#]+/;class Dae{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[qe]=new Nt(t,e)),i}parseSegment(){const t=y1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(t),new Pf(Iv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Tae(n){const t=n.match(bae);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=y1(this.remaining);r&&(i=r,this.capture(i))}t[Iv(e)]=Iv(i)}parseQueryParam(t){const e=function Cae(n){const t=n.match(xae);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function Sae(n){const t=n.match(wae);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=d3(e),s=d3(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=y1(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new P(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=qe);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[qe]:new Nt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new P(4011,!1)}}function f3(n){return n.segments.length>0?new Nt([],{[qe]:n}):n}function p3(n){const t={};for(const i of Object.keys(n.children)){const s=p3(n.children[i]);if(i===qe&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Eae(n){if(1===n.numberOfChildren&&n.children[qe]){const t=n.children[qe];return new Nt(n.segments.concat(t.segments),t.children)}return n}(new Nt(n.segments,t))}function Ml(n){return n instanceof Ou}function g3(n){let t;const r=f3(function e(s){const o={};for(const l of s.children){const c=e(l);o[l.outlet]=c}const a=new Nt(s.url,o);return s===n&&(t=a),a}(n.root));return t??r}function m3(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return b1(r,r,r,e,i);const s=function Iae(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new v3(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new v3(e,t,i)}(t);if(s.toRoot())return b1(r,r,new Nt([],{}),e,i);const o=function kae(n,t,e){if(n.isAbsolute)return new Mv(t,!0,0);if(!e)return new Mv(t,!1,NaN);if(null===e.parent)return new Mv(e,!0,0);const i=kv(n.commands[0])?0:1;return function Mae(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new P(4005,!1);r=i.segments.length}return new Mv(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?Vf(o.segmentGroup,o.index,s.commands):y3(o.segmentGroup,o.index,s.commands);return b1(r,o.segmentGroup,a,e,i)}function kv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ff(n){return"object"==typeof n&&null!=n&&n.outlets}function b1(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===t?e:_3(n,t,e);const a=f3(p3(o));return new Ou(a,s,r)}function _3(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:_3(s,t,e)}),new Nt(n.segments,i)}class v3{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&kv(i[0]))throw new P(4003,!1);const r=i.find(Ff);if(r&&r!==r3(i))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mv{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function y3(n,t,e){if(n||(n=new Nt([],{})),0===n.segments.length&&n.hasChildren())return Vf(n,t,e);const i=function Nae(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(Ff(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!T3(l,c,o))return s;i+=2}else{if(!T3(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Nt(n.segments.slice(0,i.pathIndex),{});return s.children[qe]=new Nt(n.segments.slice(i.pathIndex),n.children),Vf(s,0,r)}return i.match&&0===r.length?new Nt(n.segments,{}):i.match&&!n.hasChildren()?T1(n,t,e):i.match?Vf(n,0,r):T1(n,t,e)}function Vf(n,t,e){if(0===e.length)return new Nt(n.segments,{});{const i=function Rae(n){return Ff(n[0])?n[0].outlets:{[qe]:n}}(e),r={};if(Object.keys(i).some(s=>s!==qe)&&n.children[qe]&&1===n.numberOfChildren&&0===n.children[qe].segments.length){const s=Vf(n.children[qe],t,e);return new Nt(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=y3(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Nt(n.segments,r)}}function T1(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Ff(s)){const l=Pae(s.outlets);return new Nt(i,l)}if(0===r&&kv(e[0])){i.push(new Pf(n.segments[t].path,b3(e[0]))),r++;continue}const o=Ff(s)?s.outlets[qe]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&kv(a)?(i.push(new Pf(o,b3(a))),r+=2):(i.push(new Pf(o,{})),r++)}return new Nt(i,{})}function Pae(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=T1(new Nt([],{}),0,i))}),t}function b3(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function T3(n,t,e){return n==e.path&&Us(t,e.parameters)}const Bf="imperative";class Gs{constructor(t,e){this.id=t,this.url=e}}class Rv extends Gs{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xa extends Gs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hf extends Gs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lu extends Gs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class Nv extends Gs{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class x3 extends Gs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oae extends Gs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lae extends Gs{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fae extends Gs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vae extends Gs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bae{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hae{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $ae{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uae{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gae{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zae{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C3{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class x1{}class C1{constructor(t){this.url=t}}class jae{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $f,this.attachRef=null}}let $f=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new jae,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class w3{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=w1(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=w1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=S1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return S1(t,this._root).map(e=>e.value)}}function w1(n,t){if(n===t.value)return t;for(const e of t.children){const i=w1(n,e);if(i)return i}return null}function S1(n,t){if(n===t.value)return[t];for(const e of t.children){const i=S1(n,e);if(i.length)return i.unshift(t),i}return[]}class Io{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class S3 extends w3{constructor(t,e){super(t),this.snapshot=e,D1(this,t)}toString(){return this.snapshot.toString()}}function D3(n,t){const e=function Wae(n,t){const o=new Pv([],{},{},"",{},qe,t,null,{});return new A3("",new Io(o,[]))}(0,t),i=new jn([new Pf("",{})]),r=new jn({}),s=new jn({}),o=new jn({}),a=new jn(""),l=new Vu(i,r,o,a,s,qe,t,e.root);return l.snapshot=e.root,new S3(new Io(l,[]),e)}class Vu{constructor(t,e,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ue(c=>c[Nf]))??Se(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ue(t=>Pu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ue(t=>Pu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function E3(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function qae(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Pv{get title(){return this.data?.[Nf]}constructor(t,e,i,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class A3 extends w3{constructor(t,e){super(e),this.url=t,D1(this,e)}toString(){return I3(this._root)}}function D1(n,t){t.value._routerState=n,t.children.forEach(e=>D1(n,e))}function I3(n){const t=n.children.length>0?` { ${n.children.map(I3).join(", ")} } `:"";return`${n.value}${t}`}function E1(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Us(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Us(t.params,e.params)||n.paramsSubject.next(e.params),function cae(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Us(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Us(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function A1(n,t){const e=Us(n.params,t.params)&&function fae(n,t){return kl(n,t)&&n.every((e,i)=>Us(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||A1(n.parent,t.parent))}let I1=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=qe,this.activateEvents=new ne,this.deactivateEvents=new ne,this.attachEvents=new ne,this.detachEvents=new ne,this.parentContexts=se($f),this.location=se(Sr),this.changeDetector=se(ti),this.environmentInjector=se(xr),this.inputBinder=se(Ov,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Yae(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=K({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rt]})}return n})();class Yae{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Vu?this.route:t===$f?this.childContexts:this.parent.get(t,e)}}const Ov=new W("");let k3=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=If([i.queryParams,i.params,i.data]).pipe(tr(([s,o,a],l)=>(a={...s,...o,...a},0===l?Se(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function Ane(n){const t=ut(n);if(!t)return null;const e=new Jh(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function Uf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Xae(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Uf(n,i,r);return Uf(n,i)})}(n,t,e);return new Io(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Uf(n,a)),o}}const i=function Qae(n){return new Vu(new jn(n.url),new jn(n.params),new jn(n.queryParams),new jn(n.fragment),new jn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Uf(n,s));return new Io(i,r)}}const k1="ngNavigationCancelingError";function M3(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Ml(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=R3(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function R3(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[k1]=!0,i.cancellationCode=t,e&&(i.url=e),i}function N3(n){return n&&n[k1]}let P3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["ng-component"]],standalone:!0,features:[vl],decls:1,vars:0,template:function(i,r){1&i&&J(0,"router-outlet")},dependencies:[I1],encapsulation:2})}return n})();function M1(n){const t=n.children&&n.children.map(M1),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==qe&&(e.component=P3),e}function gs(n){return n.outlet||qe}function Gf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class sle{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),E1(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Fu(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Fu(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Fu(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Fu(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new zae(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Uae(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(E1(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),E1(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Gf(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class O3{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Lv{constructor(t,e){this.component=t,this.route=e}}function ole(n,t,e){const i=n._root;return zf(i,t?t._root:null,e,[i.value])}function Bu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function X7(n){return null!==wm(n)}(n)?t.get(n):n:i}function zf(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fu(t);return n.children.forEach(o=>{(function lle(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function cle(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!kl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!kl(n.url,t.url)||!Us(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!A1(n,t)||!Us(n.queryParams,t.queryParams);default:return!A1(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new O3(i)):(s.data=o.data,s._resolvedData=o._resolvedData),zf(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Lv(a.outlet.component,o))}else o&&jf(t,a,r),r.canActivateChecks.push(new O3(i)),zf(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>jf(a,e.getContext(o),r)),r}function jf(n,t,e){const i=Fu(n),r=n.value;Object.entries(i).forEach(([s,o])=>{jf(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Lv(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Wf(n){return"function"==typeof n}function L3(n){return n instanceof wv||"EmptyError"===n?.name}const Fv=Symbol("INITIAL_VALUE");function Hu(){return tr(n=>If(n.map(t=>t.pipe(Vn(1),El(Fv)))).pipe(Ue(t=>{for(const e of t)if(!0!==e){if(e===Fv)return Fv;if(!1===e||e instanceof Ou)return e}return!0}),_i(t=>t!==Fv),Vn(1)))}function F3(n){return function pT(...n){return lm(n)}(Bn(t=>{if(Ml(t))throw M3(0,t)}),Ue(t=>!0===t))}class Vv{constructor(t){this.segmentGroup=t||null}}class V3{constructor(t){this.urlTree=t}}function $u(n){return Mf(new Vv(n))}function B3(n){return Mf(new V3(n))}class Ile{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new P(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Se(i);if(r.numberOfChildren>1||!r.children[qe])return Mf(new P(4e3,!1));r=r.children[qe]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Ou(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new Nt(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new P(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const R1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kle(n,t,e,i,r){const s=N1(n,t,e);return s.matched?(i=function Jae(n,t){return n.providers&&!n._injector&&(n._injector=LC(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Dle(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Se(r.map(o=>{const a=Bu(o,n);return Ta(function gle(n){return n&&Wf(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(Hu(),F3()):Se(!0)}(i,t,e).pipe(Ue(o=>!0===o?s:{...R1}))):Se(s)}function N1(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...R1}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||lae)(e,n,t);if(!r)return{...R1};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function H3(n,t,e,i){return e.length>0&&function Nle(n,t,e){return e.some(i=>Bv(n,t,i)&&gs(i)!==qe)}(n,e,i)?{segmentGroup:new Nt(t,Rle(i,new Nt(e,n.children))),slicedSegments:[]}:0===e.length&&function Ple(n,t,e){return e.some(i=>Bv(n,t,i))}(n,e,i)?{segmentGroup:new Nt(n.segments,Mle(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Nt(n.segments,n.children),slicedSegments:e}}function Mle(n,t,e,i,r){const s={};for(const o of i)if(Bv(n,e,o)&&!r[gs(o)]){const a=new Nt([],{});s[gs(o)]=a}return{...r,...s}}function Rle(n,t){const e={};e[qe]=t;for(const i of n)if(""===i.path&&gs(i)!==qe){const r=new Nt([],{});e[gs(i)]=r}return e}function Bv(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Vle{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Ile(this.urlSerializer,this.urlTree)}noMatchError(t){return new P(4002,!1)}recognize(){const t=H3(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,qe).pipe(Il(e=>{if(e instanceof V3)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Vv?this.noMatchError(e):e}),Ue(e=>{const i=new Pv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qe,this.rootComponentType,null,{}),r=new Io(i,e),s=new A3("",r),o=function Aae(n,t,e=null,i=null){return m3(g3(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,qe).pipe(Il(i=>{throw i instanceof Vv?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=E3(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return zn(r).pipe(Nu(s=>{const o=i.children[s],a=function ile(n,t){const e=n.filter(i=>gs(i)===t);return e.push(...n.filter(i=>gs(i)!==t)),e}(e,s);return this.processSegmentGroup(t,a,o,s)}),function sae(n,t){return Qt(function rae(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(It(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Sv(null),function oae(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_i((r,s)=>n(r,s,i)):$r,m1(1),e?Sv(t):e3(()=>new wv))}(),Gn(s=>{if(null===s)return $u(i);const o=$3(s);return function Ble(n){n.sort((t,e)=>t.value.outlet===qe?-1:e.value.outlet===qe?1:t.value.outlet.localeCompare(e.value.outlet))}(o),Se(o)}))}processSegment(t,e,i,r,s,o){return zn(e).pipe(Nu(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,s,o).pipe(Il(l=>{if(l instanceof Vv)return Se(null);throw l}))),Al(a=>!!a),Il(a=>{if(L3(a))return function Lle(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?Se([]):$u(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,s,o,a){return function Ole(n,t,e,i){return!!(gs(n)===i||i!==qe&&Bv(t,e,n))&&("**"===n.path||N1(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):$u(r):$u(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?B3(s):this.applyRedirects.lineralizeSegments(i,s).pipe(Gn(o=>{const a=new Nt(o,{});return this.processSegment(t,e,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=N1(e,r,s);if(!a)return $u(e);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?B3(d):this.applyRedirects.lineralizeSegments(r,d).pipe(Gn(h=>this.processSegment(t,i,e,h.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?r3(r).parameters:{};a=Se({snapshot:new Pv(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,U3(i),gs(i),i.component??i._loadedComponent??null,i,G3(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=kle(e,i,r,t).pipe(Ue(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new Pv(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,U3(i),gs(i),i.component??i._loadedComponent??null,i,G3(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(tr(l=>null===l?$u(e):this.getChildConfig(t=i._injector??t,i,r).pipe(tr(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:m}=H3(e,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(Ue(v=>null===v?null:[new Io(d,v)]));if(0===c.length&&0===m.length)return Se([new Io(d,[])]);const g=gs(i)===s;return this.processSegment(u,c,p,m,g?qe:s,!0).pipe(Ue(v=>[new Io(d,v)]))}))))}getChildConfig(t,e,i){return e.children?Se({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Se({routes:e._loadedRoutes,injector:e._loadedInjector}):function Sle(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Se(!0):Se(r.map(o=>{const a=Bu(o,n);return Ta(function dle(n){return n&&Wf(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(Hu(),F3())}(t,e,i).pipe(Gn(r=>r?this.configLoader.loadChildren(t,e).pipe(Bn(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Ale(n){return Mf(R3(!1,3))}())):Se({routes:[],injector:t})}}function Hle(n){const t=n.value.routeConfig;return t&&""===t.path}function $3(n){const t=[],e=new Set;for(const i of n){if(!Hle(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=$3(i.children);t.push(new Io(i.value,r))}return t.filter(i=>!e.has(i))}function U3(n){return n.data||{}}function G3(n){return n.resolve||{}}function Ule(n,t){return Gn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Se(e);let s=0;return zn(r).pipe(Nu(o=>function Gle(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!z3(r)&&(s[Nf]=r.title),function zle(n,t,e,i){const r=function jle(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Se({});const s={};return zn(r).pipe(Gn(o=>function Wle(n,t,e,i){const r=Gf(t)??i,s=Bu(n,r);return Ta(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(Al(),Bn(a=>{s[o]=a}))),m1(1),function t3(n){return Ue(()=>n)}(s),Il(o=>L3(o)?Ur:Mf(o)))}(s,n,t,i).pipe(Ue(o=>(n._resolvedData=o,n.data=E3(n,e).resolve,r&&z3(r)&&(n.data[Nf]=r.title),null)))}(o.route,i,n,t)),Bn(()=>s++),m1(1),Gn(o=>s===r.length?Se(e):Ur))})}function z3(n){return"string"==typeof n.title||null===n.title}function P1(n){return tr(t=>{const e=n(t);return e?zn(e).pipe(Ue(()=>t)):Se(t)})}const Uu=new W("ROUTES");let O1=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=se(U2)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Se(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Ta(e.loadComponent()).pipe(Ue(j3),Bn(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Rf(()=>{this.componentLoaders.delete(e)})),r=new JB(i,()=>new Ee).pipe(g1());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function qle(n,t,e,i){return Ta(n.loadChildren()).pipe(Ue(j3),Gn(r=>r instanceof XF||Array.isArray(r)?Se(r):zn(t.compileModuleAsync(r))),Ue(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(Uu,[],{optional:!0,self:!0}).flat()),{routes:o.map(M1),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Rf(()=>{this.childrenLoaders.delete(i)})),o=new JB(s,()=>new Ee).pipe(g1());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j3(n){return function Yle(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee,this.transitionAbortSubject=new Ee,this.configLoader=se(O1),this.environmentInjector=se(xr),this.urlSerializer=se(Of),this.rootContexts=se($f),this.inputBindingEnabled=null!==se(Ov,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Hae(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Bae(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new jn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bf,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_i(s=>0!==s.id),Ue(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),tr(s=>{this.currentTransition=s;let o=!1,a=!1;return Se(s).pipe(Bn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),tr(l=>{const c=l.currentBrowserUrl.toString(),u=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const h="";return this.events.next(new Lu(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Ur}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Se(l).pipe(tr(h=>{const f=this.transitions?.getValue();return this.events.next(new Rv(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Ur:Promise.resolve(h)}),function $le(n,t,e,i,r,s){return Gn(o=>function Fle(n,t,e,i,r,s,o="emptyOnly"){return new Vle(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe(Ue(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Bn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new x3(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=l,v=new Rv(h,this.urlSerializer.serialize(f),p,m);this.events.next(v);const _=D3(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:_,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},Se(s)}{const h="";return this.events.next(new Lu(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Ur}}),Bn(l=>{const c=new Oae(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Ue(l=>(this.currentTransition=s={...l,guards:ole(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function _le(n,t){return Gn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?Se({...e,guardsResult:!0}):function vle(n,t,e,i){return zn(n).pipe(Gn(r=>function wle(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Se(s.map(a=>{const l=Gf(t)??r,c=Bu(a,l);return Ta(function ple(n){return n&&Wf(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(Al())})).pipe(Hu()):Se(!0)}(r.component,r.route,e,t,i)),Al(r=>!0!==r,!0))}(o,i,r,n).pipe(Gn(a=>a&&function ule(n){return"boolean"==typeof n}(a)?function yle(n,t,e,i){return zn(t).pipe(Nu(r=>kf(function Tle(n,t){return null!==n&&t&&t(new $ae(n)),Se(!0)}(r.route.parent,i),function ble(n,t){return null!==n&&t&&t(new Gae(n)),Se(!0)}(r.route,i),function Cle(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function ale(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>ZB(()=>Se(o.guards.map(l=>{const c=Gf(o.node)??e,u=Bu(l,c);return Ta(function fle(n){return n&&Wf(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Al())})).pipe(Hu())));return Se(s).pipe(Hu())}(n,r.path,e),function xle(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Se(!0);const r=i.map(s=>ZB(()=>{const o=Gf(t)??e,a=Bu(s,o);return Ta(function hle(n){return n&&Wf(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(Al())}));return Se(r).pipe(Hu())}(n,r.route,e))),Al(r=>!0!==r,!0))}(i,s,n,t):Se(a)),Ue(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Bn(l=>{if(s.guardsResult=l.guardsResult,Ml(l.guardsResult))throw M3(0,l.guardsResult);const c=new Lae(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),_i(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),P1(l=>{if(l.guards.canActivateChecks.length)return Se(l).pipe(Bn(c=>{const u=new Fae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),tr(c=>{let u=!1;return Se(c).pipe(Ule(e.paramsInheritanceStrategy,this.environmentInjector),Bn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Bn(c=>{const u=new Vae(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),P1(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Bn(h=>{u.component=h}),Ue(()=>{})));for(const h of u.children)d.push(...c(h));return d};return If(c(l.targetSnapshot.root)).pipe(Sv(),Vn(1))}),P1(()=>this.afterPreactivation()),Ue(l=>{const c=function Kae(n,t,e){const i=Uf(n,t._root,e?e._root:void 0);return new S3(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Bn(()=>{this.events.next(new x1)}),((n,t,e,i)=>Ue(r=>(new sle(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Vn(1),Bn({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),on(this.transitionAbortSubject.pipe(Bn(l=>{throw l}))),Rf(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Il(l=>{if(a=!0,N3(l))this.events.next(new Hf(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function Zae(n){return N3(n)&&Ml(n.url)}(l)?this.events.next(new C1(l.url)):s.resolve(!1);else{this.events.next(new Nv(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(c){s.reject(c)}}return Ur}))}))}cancelNavigationTransition(e,i,r){const s=new Hf(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function W3(n){return n!==Bf}let q3=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===qe);return i}getResolvedTitleForRoute(e){return e.data[Nf]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return se(Kle)},providedIn:"root"})}return n})(),Kle=(()=>{class n extends q3{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(L(lB))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return se(Zle)},providedIn:"root"})}return n})();class Qle{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Zle=(()=>{class n extends Qle{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=wn(n)))(r||n)}}();static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $v=new W("",{providedIn:"root",factory:()=>({})});let Jle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:function(){return se(ece)},providedIn:"root"})}return n})(),ece=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(qf||{});function Y3(n,t){n.events.pipe(_i(e=>e instanceof xa||e instanceof Hf||e instanceof Nv||e instanceof Lu),Ue(e=>e instanceof xa||e instanceof Lu?qf.COMPLETE:e instanceof Hf&&(0===e.code||1===e.code)?qf.REDIRECTING:qf.FAILED),_i(e=>e!==qf.REDIRECTING),Vn(1)).subscribe(()=>{t()})}function tce(n){throw n}function nce(n,t,e){return t.parse("/")}const ice={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=se($2),this.isNgZoneEnabled=!1,this._events=new Ee,this.options=se($v,{optional:!0})||{},this.pendingTasks=se(U_),this.errorHandler=this.options.errorHandler||tce,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nce,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=se(Jle),this.routeReuseStrategy=se(Xle),this.titleStrategy=se(q3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=se(Uu,{optional:!0})?.flat()??[],this.navigationTransitions=se(Hv),this.urlSerializer=se(Of),this.location=se(pw),this.componentInputBindingEnabled=!!se(Ov,{optional:!0}),this.eventsSubscription=new Be,this.isNgZoneEnabled=se(Re)instanceof Re&&Re.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ou,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=D3(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(K3(i)&&this._events.next(i));if(i instanceof Rv)W3(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Lu)this.rawUrlTree=r.rawUrl;else if(i instanceof x3){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof x1)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Hf)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof C1){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||W3(r.source)};this.scheduleNavigation(s,Bf,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Nv&&this.restoreHistory(r,!0),i instanceof xa&&(this.navigated=!0),K3(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(M1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=g3(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),d=this.currentUrlTree.root}return m3(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ml(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Bf,null,i)}navigate(e,i={skipLocationChange:!1}){return function sce(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new P(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...ice}:!1===i?{...rce}:i,Ml(e))return o3(this.currentUrlTree,e,r);const s=this.parseUrl(e);return o3(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return Y3(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function K3(n){return!(n instanceof x1||n instanceof C1)}class X3{}let lce=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(_i(e=>e instanceof xa),Nu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=LC(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return zn(r).pipe(Rc())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Se(null);const s=r.pipe(Gn(o=>null===o?Se(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?zn([s,this.loader.loadComponent(i)]).pipe(Rc()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(L(vi),L(U2),L(xr),L(X3),L(O1))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const F1=new W("");let Q3=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Rv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof xa?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Lu&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof C3&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new C3(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function $O(){throw new Error("invalid")}()};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function ko(n,t){return{\u0275kind:n,\u0275providers:t}}function J3(){const n=se(Ln);return t=>{const e=n.get(Co);if(t!==e.components[0])return;const i=n.get(vi),r=n.get(eH);1===n.get(V1)&&i.initialNavigation(),n.get(tH,null,Je.Optional)?.setUpPreloading(),n.get(F1,null,Je.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const eH=new W("",{factory:()=>new Ee}),V1=new W("",{providedIn:"root",factory:()=>1}),tH=new W("");function hce(n){return ko(0,[{provide:tH,useExisting:lce},{provide:X3,useExisting:n}])}const nH=new W("ROUTER_FORROOT_GUARD"),pce=[pw,{provide:Of,useClass:_1},vi,$f,{provide:Vu,useFactory:function Z3(n){return n.routerState.root},deps:[vi]},O1,[]];function gce(){return new K2("Router",vi)}let iH=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[pce,[],{provide:Uu,multi:!0,useValue:e},{provide:nH,useFactory:yce,deps:[[vi,new qr,new Ym]]},{provide:$v,useValue:i||{}},i?.useHash?{provide:xl,useClass:Nne}:{provide:xl,useClass:SV},{provide:F1,useFactory:()=>{const n=se(Zie),t=se(Re),e=se($v),i=se(Hv),r=se(Of);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Q3(r,i,n,t,e)}},i?.preloadingStrategy?hce(i.preloadingStrategy).\u0275providers:[],{provide:K2,multi:!0,useFactory:gce},i?.initialNavigation?bce(i):[],i?.bindToComponentInputs?ko(8,[k3,{provide:Ov,useExisting:k3}]).\u0275providers:[],[{provide:rH,useFactory:J3},{provide:rw,multi:!0,useExisting:rH}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Uu,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(L(nH,8))};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=xe({})}return n})();function yce(n){return"guarded"}function bce(n){return["disabled"===n.initialNavigation?ko(3,[{provide:XC,multi:!0,useFactory:()=>{const t=se(vi);return()=>{t.setUpLocationChangeListener()}}},{provide:V1,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ko(2,[{provide:V1,useValue:0},{provide:XC,multi:!0,deps:[Ln],useFactory:t=>{const e=t.get(Mne,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(vi),s=t.get(eH);Y3(r,()=>{i(!0)}),t.get(Hv).afterPreactivation=()=>(i(!0),s.closed?Se(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const rH=new W("");function sH(n,t,e,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function M(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(l){sH(s,i,r,o,a,"next",l)}function a(l){sH(s,i,r,o,a,"throw",l)}o(void 0)})}}const oH=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},aH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(e[s>>2],e[(3&s)<<4|a>>4],e[h],e[f])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(oH(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const d=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw new Sce;i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Sce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uv=function(n){return function(n){const t=oH(n);return aH.encodeByteArray(t,!0)}(n).replace(/\./g,"")},Gv=function(n){try{return aH.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},zv=()=>{try{return function Ace(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Gv(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},cH=()=>{var n;return null===(n=zv())||void 0===n?void 0:n.config};class uH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function kr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Ca extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yf.prototype.create)}}class Yf{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?function Gce(n,t){return n.replace(zce,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new Ca(r,`${this.serviceName}: ${o} (${r}).`,i)}}const zce=/\{\$([^}]+)}/g;function H1(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(hH(s)&&hH(o)){if(!H1(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function hH(n){return null!==n&&"object"==typeof n}function fH(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}class Wce{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function qce(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=$1),void 0===r.error&&(r.error=$1),void 0===r.complete&&(r.complete=$1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $1(){}function Mo(n){return n&&n._delegate?n._delegate:n}class Rl{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Nl="[DEFAULT]";class Jce{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new uH;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function tue(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Nl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return M(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=Nl){return this.instances.has(t)}getOptions(t=Nl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===Nl?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(t=Nl){return this.component?this.component.multipleInstances?t:Nl:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nue{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Jce(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const G1=[];var lt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(lt||{});const pH={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},iue=lt.INFO,rue={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},sue=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=rue[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class z1{constructor(t){this.name=t,this._logLevel=iue,this._logHandler=sue,this._userLogHandler=null,G1.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?pH[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...t),this._logHandler(this,lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...t),this._logHandler(this,lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...t),this._logHandler(this,lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...t),this._logHandler(this,lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...t),this._logHandler(this,lt.ERROR,...t)}}const oue=(n,t)=>t.some(e=>n instanceof e);let gH,mH;const _H=new WeakMap,j1=new WeakMap,vH=new WeakMap,W1=new WeakMap,q1=new WeakMap;let Y1={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return j1.get(n);if("objectStoreNames"===t)return n.objectStoreNames||vH.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return wa(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function fue(n){return"function"==typeof n?function hue(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lue(){return mH||(mH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(K1(this),t),wa(_H.get(this))}:function(...t){return wa(n.apply(K1(this),t))}:function(t,...e){const i=n.call(K1(this),t,...e);return vH.set(i,t.sort?t.sort():[t]),wa(i)}}(n):(n instanceof IDBTransaction&&function uue(n){if(j1.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});j1.set(n,t)}(n),oue(n,function aue(){return gH||(gH=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Y1):n)}function wa(n){if(n instanceof IDBRequest)return function cue(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(wa(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&_H.set(e,n)}).catch(()=>{}),q1.set(t,n),t}(n);if(W1.has(n))return W1.get(n);const t=fue(n);return t!==n&&(W1.set(n,t),q1.set(t,n)),t}const K1=n=>q1.get(n),gue=["get","getKey","getAll","getAllKeys","count"],mue=["put","add","delete","clear"],X1=new Map;function yH(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(X1.get(t))return X1.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=mue.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!gue.includes(e))return;const s=function(){var o=M(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[e](...l),r&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return X1.set(t,s),s}!function due(n){Y1=n(Y1)}(n=>({...n,get:(t,e,i)=>yH(t,e)||n.get(t,e,i),has:(t,e)=>!!yH(t,e)||n.has(t,e)}));class _ue{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function vue(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const Q1="@firebase/app",Pl=new z1("@firebase/app"),Wv="[DEFAULT]",zue={[Q1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ol=new Map,qv=new Map;function jue(n,t){try{n.container.addComponent(t)}catch(e){Pl.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Gu(n){const t=n.name;if(qv.has(t))return Pl.debug(`There were multiple attempts to register component ${t}.`),!1;qv.set(t,n);for(const e of Ol.values())jue(e,n);return!0}const Ro=new Yf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class que{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Rl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ro.create("app-deleted",{appName:this._name})}}const Yv="10.7.1";function xH(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:Wv,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw Ro.create("bad-app-name",{appName:String(r)});if(e||(e=cH()),!e)throw Ro.create("no-options");const s=Ol.get(r);if(s){if(H1(e,s.options)&&H1(i,s.config))return s;throw Ro.create("duplicate-app",{appName:r})}const o=new nue(r);for(const l of qv.values())o.addComponent(l);const a=new que(e,i,o);return Ol.set(r,a),a}function CH(n=Wv){const t=Ol.get(n);if(!t&&n===Wv&&cH())return xH();if(!t)throw Ro.create("no-app",{appName:n});return t}function wH(){return Array.from(Ol.values())}function Jr(n,t,e){var i;let r=null!==(i=zue[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Pl.warn(a.join(" "))}Gu(new Rl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Yue="firebase-heartbeat-database",Kue=1,Kf="firebase-heartbeat-store";let J1=null;function SH(){return J1||(J1=function pue(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,t),a=wa(o);return i&&o.addEventListener("upgradeneeded",l=>{i(wa(o.result),l.oldVersion,l.newVersion,wa(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Yue,Kue,{upgrade:(n,t)=>{0===t&&n.createObjectStore(Kf)}}).catch(n=>{throw Ro.create("idb-open",{originalErrorMessage:n.message})})),J1}function eS(){return(eS=M(function*(n){try{return yield(yield SH()).transaction(Kf).objectStore(Kf).get(EH(n))}catch(t){if(t instanceof Ca)Pl.warn(t.message);else{const e=Ro.create("idb-get",{originalErrorMessage:t?.message});Pl.warn(e.message)}}})).apply(this,arguments)}function DH(n,t){return tS.apply(this,arguments)}function tS(){return(tS=M(function*(n,t){try{const i=(yield SH()).transaction(Kf,"readwrite");yield i.objectStore(Kf).put(t,EH(n)),yield i.done}catch(e){if(e instanceof Ca)Pl.warn(e.message);else{const i=Ro.create("idb-set",{originalErrorMessage:e?.message});Pl.warn(i.message)}}})).apply(this,arguments)}function EH(n){return`${n.name}!${n.options.appId}`}class Jue{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new tde(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return M(function*(){var e,i;const s=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AH();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==o&&!t._heartbeatsCache.heartbeats.some(a=>a.date===o))return t._heartbeatsCache.heartbeats.push({date:o,agent:s}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return M(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=AH(),{heartbeatsToSend:r,unsentEntries:s}=function ede(n,t=1024){const e=[];let i=n.slice();for(const r of n){const s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),IH(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),IH(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),o=Uv(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(t._heartbeatsCache.heartbeats=s,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function AH(){return(new Date).toISOString().substring(0,10)}class tde{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return M(function*(){return!!function Hce(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function $ce(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return M(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function Xue(n){return eS.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return M(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return DH(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return M(function*(){var i;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return DH(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}})()}}function IH(n){return Uv(JSON.stringify({version:2,heartbeats:n})).length}!function nde(n){Gu(new Rl("platform-logger",t=>new _ue(t),"PRIVATE")),Gu(new Rl("heartbeat",t=>new Jue(t),"PRIVATE")),Jr(Q1,"0.9.25",n),Jr(Q1,"0.9.25","esm2017"),Jr("fire-js","")}(""),Jr("firebase","10.7.1","app");class sde extends Be{constructor(t,e){super()}schedule(t,e=0){return this}}const Kv={setInterval(n,t,...e){const{delegate:i}=Kv;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Kv;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class Xv extends sde{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return Kv.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Kv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,mn(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const kH={now:()=>(kH.delegate||Date).now(),delegate:void 0};class Xf{constructor(t,e=Xf.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Xf.now=kH.now;class Qv extends Xf{constructor(t,e=Xf.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const lde=new class ade extends Qv{}(class ode extends Xv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),zu=new Qv(Xv),cde=zu,nS=new hu("ANGULARFIRE2_VERSION");const iS=(n,t)=>{const e=t?[t]:wH(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};class ude{constructor(){return iS(dde)}}const dde="app-check";function ju(){}class RH{zone;delegate;constructor(t,e=lde){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class hde{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ju,{},ju,ju)),e.pipe(Bn({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let NH=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new RH(Zone.current)),this.insideAngular=e.run(()=>new RH(Zone.current,zu)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(L(Re))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wu(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ll(n){return Wu().ngZone.run(()=>n())}function pde(n){return function gde(n){return function(e){return(e=e.lift(new hde(n.ngZone))).pipe(ym(n.outsideAngular),vm(n.insideAngular))}}(Wu())(n)}const mde=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Ll(()=>n.apply(void 0,i))},Qf=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||=Ll(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ju,{},ju,ju))),i[s]=mde(i[s],e));const r=function fde(n){return Wu().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof ct){const s=Wu();return r.pipe(ym(s.outsideAngular),vm(s.insideAngular))}return Ll(()=>r)}return r instanceof ct?r.pipe(pde):r instanceof Promise?Ll(()=>new Promise((s,o)=>r.then(a=>Ll(()=>s(a)),a=>Ll(()=>o(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:Ll(()=>r)};class Zf{constructor(t){return t}}class PH{constructor(){return wH()}}const rS=new W("angularfire2._apps"),vde={provide:Zf,useFactory:function _de(n){return n&&1===n.length?n[0]:new Zf(CH())},deps:[[new qr,rS]]},yde={provide:PH,deps:[[new qr,rS]]};function bde(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Zf(i)}}let Tde=(()=>{class n{constructor(e){Jr("angularfire",nS.full,"core"),Jr("angularfire",nS.full,"app"),Jr("angular",gO.full,e.toString())}static \u0275fac=function(i){return new(i||n)(L(Ii))};static \u0275mod=we({type:n});static \u0275inj=xe({providers:[vde,yde]})}return n})();function xde(n,...t){return{ngModule:Tde,providers:[{provide:rS,useFactory:bde(n),multi:!0,deps:[Re,Ln,NH,...t]}]}}const Cde=Qf(xH,!0);const wde=function OH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},LH=new Yf("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zv=new z1("@firebase/auth");function Jv(n,...t){Zv.logLevel<=lt.ERROR&&Zv.error(`Auth (${Yv}): ${n}`,...t)}function ur(n,...t){throw sS(n,...t)}function zs(n,...t){return sS(n,...t)}function sS(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return LH.create(n,...t)}function ie(n,t,...e){if(!n)throw sS(t,...e)}function js(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Jv(t),new Error(t)}function Sa(n,t){n||js(t)}function VH(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function Dde(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function oS(){return"http:"===VH()||"https:"===VH()}()||function Vce(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class ep{constructor(t,e){this.shortDelay=t,this.longDelay=e,Sa(e>t,"Short delay should be less than long delay!"),this.isMobile=function Lce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}()||function Bce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return Dde()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class BH{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ade={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ide=new ep(3e4,6e4);function Jt(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function en(n,t,e,i){return lS.apply(this,arguments)}function lS(){return(lS=M(function*(n,t,e,i,r={}){return HH(n,r,M(function*(){let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=fH(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),BH.fetch()($H(n,n.config.apiHost,e,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function HH(n,t,e){return cS.apply(this,arguments)}function cS(){return(cS=M(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Ade),t);try{const r=new Mde(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw tp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw tp(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw tp(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw tp(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function FH(n,t,e){const i=Object.assign(Object.assign({},wde()),{[t]:e});return new Yf("auth","Firebase",i).create(t,{appName:n.name})}(n,u,c);ur(n,u)}}catch(r){if(r instanceof Ca)throw r;ur(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function $H(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?function aS(n,t){Sa(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}(n.config,r):`${n.config.apiScheme}://${r}`}class Mde{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(zs(this.auth,"network-request-failed")),Ide.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tp(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=zs(n,t,i);return r.customData._tokenResponse=e,r}function fS(){return(fS=M(function*(n,t){return en(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function gS(){return(gS=M(function*(n,t){return en(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function np(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function mS(){return(mS=M(function*(n,t=!1){const e=Mo(n),i=yield e.getIdToken(t),r=ey(i);ie(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:np(_S(r.auth_time)),issuedAtTime:np(_S(r.iat)),expirationTime:np(_S(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function _S(n){return 1e3*Number(n)}function ey(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return Jv("JWT malformed, contained fewer than 3 sections"),null;try{const r=Gv(e);return r?JSON.parse(r):(Jv("Failed to decode base64 JWT payload"),null)}catch(r){return Jv("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Po(n,t){return vS.apply(this,arguments)}function vS(){return(vS=M(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof Ca&&function Vde({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Bde{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(M(function*(){yield e.iteration()}),i)}iteration(){var t=this;return M(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class WH{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=np(this.lastLoginAt),this.creationTime=np(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ip(n){return yS.apply(this,arguments)}function yS(){return yS=M(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield Po(n,function Ode(n,t){return gS.apply(this,arguments)}(e,{idToken:i}));ie(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?function Ude(n){return n.map(t=>{var{providerId:e}=t,i=nl(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(s.providerUserInfo):[],a=function $de(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new WH(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),yS.apply(this,arguments)}function bS(){return(bS=M(function*(n){const t=Mo(n);yield ip(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function TS(){return(TS=M(function*(n,t){const e=yield HH(n,{},M(function*(){const i=fH({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=$H(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",BH.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function xS(){return(xS=M(function*(n,t){return en(n,"POST","/v2/accounts:revokeToken",Jt(n,t))})).apply(this,arguments)}class rp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ie(t.idToken,"internal-error"),ie(typeof t.idToken<"u","internal-error"),ie(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function Fde(n){const t=ey(n);return ie(t,"internal-error"),ie(typeof t.exp<"u","internal-error"),ie(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return M(function*(){return ie(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return M(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function Gde(n,t){return TS.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new rp;return i&&(ie("string"==typeof i,"internal-error",{appName:t}),o.refreshToken=i),r&&(ie("string"==typeof r,"internal-error",{appName:t}),o.accessToken=r),s&&(ie("number"==typeof s,"internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new rp,this.toJSON())}_performRefresh(){return js("not implemented")}}function Da(n,t){ie("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class Fl{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=nl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new WH(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var e=this;return M(function*(){const i=yield Po(e,e.stsTokenManager.getToken(e.auth,t));return ie(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function Lde(n){return mS.apply(this,arguments)}(this,t)}reload(){return function Hde(n){return bS.apply(this,arguments)}(this)}_assign(t){this!==t&&(ie(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Fl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return M(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield ip(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return M(function*(){const e=yield t.getIdToken();return yield Po(t,function Nde(n,t){return fS.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,a,l,c,u;const d=null!==(i=e.displayName)&&void 0!==i?i:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,f=null!==(s=e.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=e.photoURL)&&void 0!==o?o:void 0,m=null!==(a=e.tenantId)&&void 0!==a?a:void 0,g=null!==(l=e._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=e.createdAt)&&void 0!==c?c:void 0,_=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:x,isAnonymous:E,providerData:k,stsTokenManager:U}=e;ie(b&&U,t,"internal-error");const Y=rp.fromJSON(this.name,U);ie("string"==typeof b,t,"internal-error"),Da(d,t.name),Da(h,t.name),ie("boolean"==typeof x,t,"internal-error"),ie("boolean"==typeof E,t,"internal-error"),Da(f,t.name),Da(p,t.name),Da(m,t.name),Da(g,t.name),Da(v,t.name),Da(_,t.name);const Ce=new Fl({uid:b,auth:t,email:h,emailVerified:x,displayName:d,isAnonymous:E,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Y,createdAt:v,lastLoginAt:_});return k&&Array.isArray(k)&&(Ce.providerData=k.map(me=>Object.assign({},me))),g&&(Ce._redirectEventId=g),Ce}static _fromIdTokenResponse(t,e,i=!1){return M(function*(){const r=new rp;r.updateFromServerResponse(e);const s=new Fl({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield ip(s),s})()}}const qH=new Map;function Oo(n){Sa(n instanceof Function,"Expected a class definition");let t=qH.get(n);return t?(Sa(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,qH.set(n,t),t)}const YH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return M(function*(){return!0})()}_set(e,i){var r=this;return M(function*(){r.storage[e]=i})()}_get(e){var i=this;return M(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return M(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function ty(n,t,e){return`firebase:${n}:${t}:${e}`}class Yu{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=ty(this.userKey,r.apiKey,s),this.fullPersistenceKey=ty("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return M(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?Fl._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return M(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return M(function*(){if(!e.length)return new Yu(Oo(YH),t,i);const r=(yield Promise.all(e.map(function(){var c=M(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||Oo(YH);const o=ty(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const u=yield c._get(o);if(u){const d=Fl._fromJSON(t,u);c!==s&&(a=d),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var c=M(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Yu(s,t,i)):new Yu(s,t,i)})()}}function KH(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function ZH(n=kr()){return/iemobile/i.test(n)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function XH(n=kr()){return/firefox\//i.test(n)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function e$(n=kr()){return/blackberry/i.test(n)}(t))return"Blackberry";if(function t$(n=kr()){return/webos/i.test(n)}(t))return"Webos";if(function CS(n=kr()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function QH(n=kr()){return/crios\//i.test(n)}(t))&&!t.includes("edge/"))return"Chrome";if(function JH(n=kr()){return/android/i.test(n)}(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function n$(n,t=[]){let e;switch(n){case"Browser":e=KH(kr());break;case"Worker":e=`${KH(kr())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Yv}/${i}`}class qde{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((o,a)=>{try{o(t(s))}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return M(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function wS(){return(wS=M(function*(n,t={}){return en(n,"GET","/v2/passwordPolicy",Jt(n,t))})).apply(this,arguments)}class Xde{constructor(t){var e,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=o.minPasswordLength)&&void 0!==e?e:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=t.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=null===(e=l.meetsMinPasswordLength)||void 0===e||e),l.isValid&&(l.isValid=null===(i=l.meetsMaxPasswordLength)||void 0===i||i),l.isValid&&(l.isValid=null===(r=l.containsLowercaseLetter)||void 0===r||r),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}class Qde{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i$(this),this.idTokenSubscription=new i$(this),this.beforeStateQueue=new qde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=Oo(e)),this._initializationPromise=this.queue(M(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield Yu.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return M(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return M(function*(){var i;const r=yield e.assertedPersistence.getCurrentUser();let s=r,o=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const a=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,l=s?._redirectEventId,c=yield e.tryRedirectSignIn(t);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return e.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield e.beforeStateQueue.runMiddleware(s)}catch(a){s=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(a))}return s?e.reloadAndSetCurrentUserOrClear(s):e.directlySetCurrentUser(null)}return ie(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===s._redirectEventId?e.directlySetCurrentUser(s):e.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(t){var e=this;return M(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return M(function*(){try{yield ip(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function Ede(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return M(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return M(function*(){const i=t?Mo(t):null;return i&&ie(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return M(function*(){if(!i._deleted)return t&&ie(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue(M(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return M(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue(M(function*(){yield e.assertedPersistence.setPersistence(Oo(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return M(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return M(function*(){const e=yield function Yde(n){return wS.apply(this,arguments)}(t),i=new Xde(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Yf("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){var e=this;return M(function*(){if(e.currentUser){const i=yield e.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};null!=e.tenantId&&(r.tenantId=e.tenantId),yield function zde(n,t){return xS.apply(this,arguments)}(e,r)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return M(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return M(function*(){if(!e.redirectPersistenceManager){const i=t&&Oo(t)||e._popupRedirectResolver;ie(i,e,"argument-error"),e.redirectPersistenceManager=yield Yu.create(e,[Oo(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return M(function*(){var i,r;return e._isInitialized&&(yield e.queue(M(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return M(function*(){if(t===e.currentUser)return e.queue(M(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s="function"==typeof e?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof e){const l=t.addObserver(e,i,r);return()=>{o=!0,l()}}{const l=t.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(t){var e=this;return M(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=n$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return M(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield t._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var t=this;return M(function*(){var e;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function Sde(n,...t){Zv.logLevel<=lt.WARN&&Zv.warn(`Auth (${Yv}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class i${constructor(t){this.auth=t,this.observer=null,this.addObserver=function jce(n,t){const e=new Wce(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function r$(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new ep(3e4,6e4),new ep(2e3,1e4),new ep(3e4,6e4),new ep(5e3,15e3),encodeURIComponent("fac");var O$="@firebase/auth";class Jfe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return M(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}zv(),function tpe(n){Gu(new Rl("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n$(n)},c=new Qde(i,r,s,l);return function rhe(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Oo);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Gu(new Rl("auth-internal",t=>{const e=function En(n){return Mo(n)}(t.getProvider("auth").getImmediate());return new Jfe(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(O$,"1.5.1",function epe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Jr(O$,"1.5.1","esm2017")}("Browser");class B${constructor(){return iS("auth")}}var le,lpe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ms={},mE=mE||{},Ve=lpe||self;function py(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function up(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var _E="closure_uid_"+(1e9*Math.random()>>>0),upe=0;function dpe(n,t,e){return n.call.apply(n.bind,arguments)}function hpe(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Ri(n,t,e){return(Ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dpe:hpe).apply(null,arguments)}function gy(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ni(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(i,o)}}function Ea(){this.s=this.s,this.o=this.o}Ea.prototype.s=!1,Ea.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function cpe(n){Object.prototype.hasOwnProperty.call(n,_E)&&n[_E]||(n[_E]=++upe)}(this)},Ea.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const H$=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function vE(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function $$(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(py(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function Ni(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Ni.prototype.h=function(){this.defaultPrevented=!0};var ppe=function(){if(!Ve.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const e=()=>{};Ve.addEventListener("test",e,t),Ve.removeEventListener("test",e,t)}catch{}return n}();function dp(n){return/^[\s\xa0]*$/.test(n)}function my(){var n=Ve.navigator;return n&&(n=n.userAgent)?n:""}function Ws(n){return-1!=my().indexOf(n)}function yE(n){return yE[" "](n),n}yE[" "]=function(){};var TE,mpe=Ws("Opera"),Ku=Ws("Trident")||Ws("MSIE"),U$=Ws("Edge"),bE=U$||Ku,G$=Ws("Gecko")&&!(-1!=my().toLowerCase().indexOf("webkit")&&!Ws("Edge"))&&!(Ws("Trident")||Ws("MSIE"))&&!Ws("Edge"),_pe=-1!=my().toLowerCase().indexOf("webkit")&&!Ws("Edge");function z$(){var n=Ve.document;return n?n.documentMode:void 0}e:{var xE="",CE=function(){var n=my();return G$?/rv:([^\);]+)(\)|;)/.exec(n):U$?/Edge\/([\d\.]+)/.exec(n):Ku?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_pe?/WebKit\/(\S+)/.exec(n):mpe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(CE&&(xE=CE?CE[1]:""),Ku){var wE=z$();if(null!=wE&&wE>parseFloat(xE)){TE=String(wE);break e}}TE=xE}var vpe=Ve.document&&Ku&&(z$()||parseInt(TE,10))||void 0;function hp(n,t){if(Ni.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(G$){e:{try{yE(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ype[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hp.$.h.call(this)}}ni(hp,Ni);var ype={2:"touch",3:"pen",4:"mouse"};hp.prototype.h=function(){hp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var fp="closure_listenable_"+(1e6*Math.random()|0),bpe=0;function Tpe(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++bpe,this.fa=this.ia=!1}function _y(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function DE(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function W$(n){const t={};for(const e in n)t[e]=n[e];return t}const q$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y$(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<q$.length;s++)e=q$[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function vy(n){this.src=n,this.g={},this.h=0}function EE(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=H$(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(_y(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function AE(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}vy.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=AE(n,t,i,r);return-1<o?(t=n[o],e||(t.ia=!1)):((t=new Tpe(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var IE="closure_lm_"+(1e6*Math.random()|0),kE={};function K$(n,t,e,i,r){if(i&&i.once)return Q$(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K$(n,t[s],e,i,r);return null}return e=PE(e),n&&n[fp]?n.O(t,e,up(i)?!!i.capture:!!i,r):X$(n,t,e,!1,i,r)}function X$(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var o=up(r)?!!r.capture:!!r,a=RE(n);if(a||(n[IE]=a=new vy(n)),(e=a.add(t,e,i,o,s)).proxy)return e;if(i=function Cpe(){const t=wpe;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)ppe||(r=o),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(J$(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Q$(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q$(n,t[s],e,i,r);return null}return e=PE(e),n&&n[fp]?n.P(t,e,up(i)?!!i.capture:!!i,r):X$(n,t,e,!0,i,r)}function Z$(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Z$(n,t[s],e,i,r);else i=up(i)?!!i.capture:!!i,e=PE(e),n&&n[fp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=AE(s=n.g[t],e,i,r))&&(_y(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=RE(n))&&(t=n.g[t.toString()],n=-1,t&&(n=AE(t,e,i,r)),(e=-1<n?t[n]:null)&&ME(e))}function ME(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[fp])EE(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(J$(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=RE(t))?(EE(e,n),0==e.h&&(e.src=null,t[IE]=null)):_y(n)}}}function J$(n){return n in kE?kE[n]:kE[n]="on"+n}function wpe(n,t){if(n.fa)n=!0;else{t=new hp(t,this);var e=n.listener,i=n.la||n.src;n.ia&&ME(n),n=e.call(i,t)}return n}function RE(n){return(n=n[IE])instanceof vy?n:null}var NE="__closure_events_fn_"+(1e9*Math.random()>>>0);function PE(n){return"function"==typeof n?n:(n[NE]||(n[NE]=function(t){return n.handleEvent(t)}),n[NE])}function ii(){Ea.call(this),this.i=new vy(this),this.S=this,this.J=null}function yi(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Ni(t,n);else if(t instanceof Ni)t.target=t.target||n;else{var r=t;Y$(t=new Ni(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.g=e[s];r=yy(o,i,!0,t)&&r}if(r=yy(o=t.g=n,i,!0,t)&&r,r=yy(o,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=yy(o=t.g=e[s],i,!1,t)&&r}function yy(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==e){var a=o.listener,l=o.la||o.src;o.ia&&EE(n.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}ni(ii,Ea),ii.prototype[fp]=!0,ii.prototype.removeEventListener=function(n,t,e,i){Z$(this,n,t,e,i)},ii.prototype.N=function(){if(ii.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)_y(e[i]);delete n.g[t],n.h--}}this.J=null},ii.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ii.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var OE=Ve.JSON.stringify;function Dpe(){var n=LE;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var eU=new class Spe{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Ape,n=>n.reset());class Ape{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Ipe(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function kpe(n){Ve.setTimeout(()=>{throw n},0)}let pp,gp=!1,LE=new class Epe{constructor(){this.h=this.g=null}add(t,e){const i=eU.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},tU=()=>{const n=Ve.Promise.resolve(void 0);pp=()=>{n.then(Mpe)}};var Mpe=()=>{for(var n;n=Dpe();){try{n.h.call(n.g)}catch(e){kpe(e)}var t=eU;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}gp=!1};function by(n,t){ii.call(this),this.h=n||1,this.g=t||Ve,this.j=Ri(this.qb,this),this.l=Date.now()}function FE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function VE(n,t,e){if("function"==typeof n)e&&(n=Ri(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ri(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ve.setTimeout(n,t||0)}function nU(n){n.g=VE(()=>{n.g=null,n.i&&(n.i=!1,nU(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ni(by,ii),(le=by.prototype).ga=!1,le.T=null,le.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yi(this,"tick"),this.ga&&(FE(this),this.start()))}},le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.N=function(){by.$.N.call(this),FE(this),delete this.g};class Rpe extends Ea{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:nU(this)}N(){super.N(),this.g&&(Ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mp(n){Ea.call(this),this.h=n,this.g={}}ni(mp,Ea);var iU=[];function rU(n,t,e,i){Array.isArray(e)||(e&&(iU[0]=e.toString()),e=iU);for(var r=0;r<e.length;r++){var s=K$(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function sU(n){DE(n.g,function(t,e){this.g.hasOwnProperty(e)&&ME(t)},n),n.g={}}function Ty(){this.g=!0}function Xu(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Lpe(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return OE(e)}catch{return t}}(n,e)+(i?" "+i:"")})}mp.prototype.N=function(){mp.$.N.call(this),sU(this)},mp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ty.prototype.Ea=function(){this.g=!1},Ty.prototype.info=function(){};var $l={},oU=null;function xy(){return oU=oU||new ii}function aU(n){Ni.call(this,$l.Ta,n)}function _p(n){const t=xy();yi(t,new aU(t))}function lU(n,t){Ni.call(this,$l.STAT_EVENT,n),this.stat=t}function Qi(n){const t=xy();yi(t,new lU(t,n))}function cU(n,t){Ni.call(this,$l.Ua,n),this.size=t}function vp(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ve.setTimeout(function(){n()},t)}$l.Ta="serverreachability",ni(aU,Ni),$l.STAT_EVENT="statevent",ni(lU,Ni),$l.Ua="timingevent",ni(cU,Ni);var Cy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uU={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function BE(){}function hU(){}BE.prototype.h=null;var UE,yp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function HE(){Ni.call(this,"d")}function $E(){Ni.call(this,"c")}function wy(){}function bp(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new mp(this),this.P=Fpe,this.V=new by(n=bE?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fU}function fU(){this.i=null,this.g="",this.h=!1}ni(HE,Ni),ni($E,Ni),ni(wy,BE),wy.prototype.g=function(){return new XMLHttpRequest},wy.prototype.i=function(){return{}},UE=new wy;var Fpe=45e3,pU={},GE={};function zE(n,t,e){n.L=1,n.A=Ay(Fo(t)),n.u=e,n.S=!0,gU(n,null)}function gU(n,t){n.G=Date.now(),Tp(n),n.B=Fo(n.A);var e=n.B,i=n.W;Array.isArray(i)||(i=[String(i)]),SU(e.i,"t",i),n.o=0,e=n.l.J,n.h=new fU,n.g=KU(n.l,e?t:null,!n.u),0<n.O&&(n.M=new Rpe(Ri(n.Pa,n,n.g),n.O)),rU(n.U,n.g,"readystatechange",n.nb),t=n.I?W$(n.I):{},n.u?(n.v||(n.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,t)):(n.v="GET",n.g.ha(n.B,n.v,null,t)),_p(),function Npe(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function mU(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function _U(n,t,e){let r,i=!0;for(;!n.J&&n.o<e.length;){if(r=Vpe(n,e),r==GE){4==t&&(n.s=4,Qi(14),i=!1),Xu(n.j,n.m,null,"[Incomplete Response]");break}if(r==pU){n.s=4,Qi(15),Xu(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Xu(n.j,n.m,r,null),jE(n,r)}mU(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=t||0!=e.length||n.h.h||(n.s=1,Qi(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),ZE(t),t.M=!0,Qi(11))):(Xu(n.j,n.m,e,"[Invalid Chunked Response]"),Ul(n),xp(n))}function Vpe(n,t){var e=n.o,i=t.indexOf("\n",e);return-1==i?GE:(e=Number(t.substring(e,i)),isNaN(e)?pU:(i+=1)+e>t.length?GE:(t=t.slice(i,i+e),n.o=i+e,t))}function Tp(n){n.Y=Date.now()+n.P,vU(n,n.P)}function vU(n,t){if(null!=n.C)throw Error("WatchDog timer not null");n.C=vp(Ri(n.lb,n),t)}function Sy(n){n.C&&(Ve.clearTimeout(n.C),n.C=null)}function xp(n){0==n.l.H||n.J||jU(n.l,n)}function Ul(n){Sy(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,FE(n.V),sU(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function jE(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||WE(e.i,n)))if(!n.K&&WE(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;Py(e),Ry(e)}QE(e),Qi(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=vp(Ri(e.ib,e),6e3));if(1>=AU(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else zl(e,11)}else if((n.K||e.g==n)&&Py(e),!dp(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(e.V=c[0],c=c[1],2==e.H)if("c"==c[0]){e.K=c[1],e.pa=c[2];const u=c[3];null!=u&&(e.ra=u,e.l.info("VER="+e.ra));const d=c[4];null!=d&&(e.Ga=d,e.l.info("SVER="+e.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(e.L=i=1.5*h,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(qE(s,s.h),s.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,tn(i.I,i.F,m))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var o=n;if((i=e).wa=YU(i,i.J?i.pa:null,i.Y),o.K){IU(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.C&&(Sy(a),Tp(a)),i.g=o}else GU(i);0<e.j.length&&Ny(e)}else"stop"!=c[0]&&"close"!=c[0]||zl(e,7);else 3==e.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?zl(e,7):XE(e):"noop"!=c[0]&&e.h&&e.h.Aa(c),e.A=0)}_p()}catch{}}function yU(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(py(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function Hpe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(py(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function Bpe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(py(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(le=bp.prototype).setTimeout=function(n){this.P=n},le.nb=function(n){n=n.target;const t=this.M;t&&3==qs(n)?t.l():this.Pa(n)},le.Pa=function(n){try{if(n==this.g)e:{const u=qs(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||bE||this.g&&(this.h.h||this.g.ja()||FU(this.g)))){this.J||4!=u||7==t||_p(),Sy(this);var e=this.g.da();this.ca=e;t:if(mU(this)){var i=FU(this.g);n="";var r=i.length,s=4==qs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ul(this),xp(this);var o="";break t}this.h.i=new Ve.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==e,function Ppe(n,t,e,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,u,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dp(a)){var c=a;break t}}c=null}if(!(e=c)){this.i=!1,this.s=3,Qi(12),Ul(this),xp(this);break e}Xu(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jE(this,e)}this.S?(_U(this,u,o),bE&&this.i&&3==u&&(rU(this.U,this.V,"tick",this.mb),this.V.start())):(Xu(this.j,this.m,o,null),jE(this,o)),4==u&&Ul(this),this.i&&!this.J&&(4==u?jU(this.l,this):(this.i=!1,Tp(this)))}else(function rge(n){const t={};n=(n.g&&2<=qs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(dp(n[i]))continue;var e=Ipe(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function xpe(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<o.indexOf("Unknown SID")?(this.s=3,Qi(12)):(this.s=0,Qi(13)),Ul(this),xp(this)}}}catch{}},le.mb=function(){if(this.g){var n=qs(this.g),t=this.g.ja();this.o<t.length&&(Sy(this),_U(this,n,t),this.i&&4!=n&&Tp(this))}},le.cancel=function(){this.J=!0,Ul(this)},le.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function Ope(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.B),2!=this.L&&(_p(),Qi(17)),Ul(this),this.s=2,xp(this)):vU(this,this.Y-n)};var bU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Gl){this.h=n.h,Dy(this,n.j),this.s=n.s,this.g=n.g,Ey(this,n.m),this.l=n.l;var t=n.i,e=new Sp;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),TU(this,e),this.o=n.o}else n&&(t=String(n).match(bU))?(this.h=!1,Dy(this,t[1]||"",!0),this.s=Cp(t[2]||""),this.g=Cp(t[3]||"",!0),Ey(this,t[4]),this.l=Cp(t[5]||"",!0),TU(this,t[6]||"",!0),this.o=Cp(t[7]||"")):(this.h=!1,this.i=new Sp(null,this.h))}function Fo(n){return new Gl(n)}function Dy(n,t,e){n.j=e?Cp(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Ey(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function TU(n,t,e){t instanceof Sp?(n.i=t,function qpe(n,t){t&&!n.j&&(Aa(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(CU(this,i),SU(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=wp(t,jpe)),n.i=new Sp(t,n.h))}function tn(n,t,e){n.i.set(t,e)}function Ay(n){return tn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cp(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Upe),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Upe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Gl.prototype.toString=function(){var n=[],t=this.j;t&&n.push(wp(t,xU,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(wp(t,xU,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(wp(e,"/"==e.charAt(0)?zpe:Gpe,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",wp(e,Wpe)),n.join("")};var xU=/[#\/\?@]/g,Gpe=/[#\?:]/g,zpe=/[#\?]/g,jpe=/[#\?@]/g,Wpe=/#/g;function Sp(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Aa(n){n.g||(n.g=new Map,n.h=0,n.i&&function $pe(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function CU(n,t){Aa(n),t=Qu(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function wU(n,t){return Aa(n),t=Qu(n,t),n.g.has(t)}function SU(n,t,e){CU(n,t),0<e.length&&(n.i=null,n.g.set(Qu(n,t),vE(e)),n.h+=e.length)}function Qu(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function DU(n){this.l=n||Kpe,n=Ve.PerformanceNavigationTiming?0<(n=Ve.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ve.g&&Ve.g.Ka&&Ve.g.Ka()&&Ve.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(le=Sp.prototype).add=function(n,t){Aa(this),this.i=null,n=Qu(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},le.forEach=function(n,t){Aa(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},le.ta=function(){Aa(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},le.Z=function(n){Aa(this);let t=[];if("string"==typeof n)wU(this,n)&&(t=t.concat(this.g.get(Qu(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},le.set=function(n,t){return Aa(this),this.i=null,wU(this,n=Qu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},le.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var Kpe=10;function EU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AU(n){return n.h?1:n.g?n.g.size:0}function WE(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function qE(n,t){n.g?n.g.add(t):n.h=t}function IU(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function kU(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return vE(n.i)}DU.prototype.cancel=function(){if(this.i=kU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Xpe=class{stringify(n){return Ve.JSON.stringify(n,void 0)}parse(n){return Ve.JSON.parse(n,void 0)}};function Qpe(){this.g=new Xpe}function Zpe(n,t,e){const i=e||"";try{yU(n,function(r,s){let o=r;up(r)&&(o=OE(r)),t.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Iy(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Dp(n){this.l=n.ec||null,this.j=n.ob||!1}function ky(n,t){ii.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=YE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ni(Dp,BE),Dp.prototype.g=function(){return new ky(this.l,this.j)},Dp.prototype.i=function(n){return function(){return n}}({}),ni(ky,ii);var YE=0;function MU(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ep(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ap(n)}function Ap(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(le=ky.prototype).open=function(n,t){if(this.readyState!=YE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Ap(this)},le.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Ve).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ep(this)),this.readyState=YE},le.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ap(this)),this.g&&(this.readyState=3,Ap(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ve.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MU(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},le.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Ep(this):Ap(this),3==this.readyState&&MU(this)}},le.Za=function(n){this.g&&(this.response=this.responseText=n,Ep(this))},le.Ya=function(n){this.g&&(this.response=n,Ep(this))},le.ka=function(){this.g&&Ep(this)},le.setRequestHeader=function(n,t){this.v.append(n,t)},le.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(ky.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ege=Ve.JSON.parse;function yn(n){ii.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=RU,this.L=this.M=!1}ni(yn,ii);var RU="",tge=/^https?$/i,nge=["POST","PUT"];function NU(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,PU(n),My(n)}function PU(n){n.F||(n.F=!0,yi(n,"complete"),yi(n,"error"))}function OU(n){if(n.h&&typeof mE<"u"&&(!n.C[1]||4!=qs(n)||2!=n.da()))if(n.v&&4==qs(n))VE(n.La,0,n);else if(yi(n,"readystatechange"),4==qs(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===o){var r=String(n.I).match(bU)[1]||null;!r&&Ve.self&&Ve.self.location&&(r=Ve.self.location.protocol.slice(0,-1)),i=!tge.test(r?r.toLowerCase():"")}e=i}if(e)yi(n,"complete"),yi(n,"success");else{n.m=6;try{var s=2<qs(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",PU(n)}}finally{My(n)}}}function My(n,t){if(n.g){LU(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||yi(n,"ready");try{e.onreadystatechange=i}catch{}}}function LU(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ve.clearTimeout(n.A),n.A=null)}function qs(n){return n.g?n.g.readyState:0}function FU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case RU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function VU(n){let t="";return DE(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function KE(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=VU(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):tn(n,t,e))}function Ip(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function BU(n){this.Ga=0,this.j=[],this.l=new Ty,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ip("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ip("baseRetryDelayMs",5e3,n),this.hb=Ip("retryDelaySeedMs",1e4,n),this.eb=Ip("forwardChannelMaxRetries",2,n),this.xa=Ip("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new DU(n&&n.concurrentRequestLimit),this.Ja=new Qpe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function XE(n){if(HU(n),3==n.H){var t=n.W++,e=Fo(n.I);if(tn(e,"SID",n.K),tn(e,"RID",t),tn(e,"TYPE","terminate"),kp(n,e),(t=new bp(n,n.l,t)).L=2,t.A=Ay(Fo(e)),e=!1,Ve.navigator&&Ve.navigator.sendBeacon)try{e=Ve.navigator.sendBeacon(t.A.toString(),"")}catch{}!e&&Ve.Image&&((new Image).src=t.A,e=!0),e||(t.g=KU(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Tp(t)}qU(n)}function Ry(n){n.g&&(ZE(n),n.g.cancel(),n.g=null)}function HU(n){Ry(n),n.u&&(Ve.clearTimeout(n.u),n.u=null),Py(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ve.clearTimeout(n.m),n.m=null)}function Ny(n){if(!EU(n.i)&&!n.m){n.m=!0;var t=n.Na;pp||tU(),gp||(pp(),gp=!0),LE.add(t,n),n.C=0}}function $U(n,t){var e;e=t?t.m:n.W++;const i=Fo(n.I);tn(i,"SID",n.K),tn(i,"RID",e),tn(i,"AID",n.V),kp(n,i),n.o&&n.s&&KE(i,n.o,n.s),e=new bp(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=UU(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),qE(n.i,e),zE(e,i,t)}function kp(n,t){n.na&&DE(n.na,function(e,i){tn(t,i,e)}),n.h&&yU({},function(e,i){tn(t,i,e)})}function UU(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Ri(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+e];-1==s?0<e?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<e;l++){let c=r[l].g;const u=r[l].map;if(c-=s,0>c)s=Math.max(0,r[l].g-100),a=!1;else try{Zpe(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function GU(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;pp||tU(),gp||(pp(),gp=!0),LE.add(t,n),n.A=0}}function QE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=vp(Ri(n.Ma,n),WU(n,n.A)),n.A++,0))}function ZE(n){null!=n.B&&(Ve.clearTimeout(n.B),n.B=null)}function zU(n){n.g=new bp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Fo(n.wa);tn(t,"RID","rpc"),tn(t,"SID",n.K),tn(t,"AID",n.V),tn(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&tn(t,"TO",n.qa),tn(t,"TYPE","xmlhttp"),kp(n,t),n.o&&n.s&&KE(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.A=Ay(Fo(t)),e.u=null,e.S=!0,gU(e,n)}function Py(n){null!=n.v&&(Ve.clearTimeout(n.v),n.v=null)}function jU(n,t){var e=null;if(n.g==t){Py(n),ZE(n),n.g=null;var i=2}else{if(!WE(n.i,t))return;e=t.F,IU(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.u?t.u.length:0,t=Date.now()-t.G;var r=n.C;yi(i=xy(),new cU(i,e)),Ny(n)}else GU(n);else if(3==(r=t.s)||0==r&&0<t.ca||!(1==i&&function sge(n,t){return!(AU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=vp(Ri(n.Na,n,t),WU(n,n.C)),n.C++,0)))}(n,t)||2==i&&QE(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:zl(n,5);break;case 4:zl(n,10);break;case 3:zl(n,6);break;default:zl(n,2)}}function WU(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function zl(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Ri(n.pb,n);e||(e=new Gl("//www.google.com/images/cleardot.gif"),Ve.location&&"http"==Ve.location.protocol||Dy(e,"https"),Ay(e)),function Jpe(n,t){const e=new Ty;if(Ve.Image){const i=new Image;i.onload=gy(Iy,e,i,"TestLoadImage: loaded",!0,t),i.onerror=gy(Iy,e,i,"TestLoadImage: error",!1,t),i.onabort=gy(Iy,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=gy(Iy,e,i,"TestLoadImage: timeout",!1,t),Ve.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Qi(2);n.H=0,n.h&&n.h.za(t),qU(n),HU(n)}function qU(n){if(n.H=0,n.ma=[],n.h){const t=kU(n.i);(0!=t.length||0!=n.j.length)&&($$(n.ma,t),$$(n.ma,n.j),n.i.i.length=0,vE(n.j),n.j.length=0),n.h.ya()}}function YU(n,t,e){var i=e instanceof Gl?Fo(e):new Gl(e);if(""!=i.g)t&&(i.g=t+"."+i.g),Ey(i,i.m);else{var r=Ve.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Gl(null);i&&Dy(s,i),t&&(s.g=t),r&&Ey(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&tn(i,e,t),tn(i,"VER",n.ra),kp(n,i),i}function KU(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new yn(n.Ha&&!n.va?new Dp({ob:e}):n.va)).Oa(n.J),t}function XU(){}function Oy(){if(Ku&&!(10<=Number(vpe)))throw Error("Environmental error: no available transport.")}function Mr(n,t){ii.call(this),this.g=new BU(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!dp(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!dp(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Zu(this)}function QU(n){HE.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function ZU(){$E.call(this),this.status=1}function Zu(n){this.g=n}function _s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function JE(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],o=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=e+((o=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Pt(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(le=yn.prototype).Oa=function(n){this.M=n},le.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():UE.g(),this.C=function dU(n){return n.h||(n.h=n.i())}(this.u?this.u:UE),this.g.onreadystatechange=Ri(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void NU(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Ve.FormData&&n instanceof Ve.FormData,!(0<=H$(nge,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of e)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LU(this),0<this.B&&((this.L=function ige(n){return Ku&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ri(this.ua,this)):this.A=VE(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){NU(this,s)}},le.ua=function(){typeof mE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))},le.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yi(this,"complete"),yi(this,"abort"),My(this))},le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),My(this,!0)),yn.$.N.call(this)},le.La=function(){this.s||(this.G||this.v||this.l?OU(this):this.kb())},le.kb=function(){OU(this)},le.isActive=function(){return!!this.g},le.da=function(){try{return 2<qs(this)?this.g.status:-1}catch{return-1}},le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},le.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),ege(t)}},le.Ia=function(){return this.m},le.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=BU.prototype).ra=8,le.H=1,le.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new bp(this,this.l,n);let s=this.s;if(this.U&&(s?(s=W$(s),Y$(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=UU(this,r,t),tn(e=Fo(this.I),"RID",n),tn(e,"CVER",22),this.F&&tn(e,"X-HTTP-Session-Id",this.F),kp(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(VU(s)))+"&"+t:this.o&&KE(e,this.o,s)),qE(this.i,r),this.bb&&tn(e,"TYPE","init"),this.P?(tn(e,"$req",t),tn(e,"SID","null"),r.aa=!0,zE(r,e,null)):zE(r,e,t),this.H=2}}else 3==this.H&&(n?$U(this,n):0==this.j.length||EU(this.i)||$U(this))},le.Ma=function(){if(this.u=null,zU(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=vp(Ri(this.jb,this),n)}},le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qi(10),Ry(this),zU(this))},le.ib=function(){null!=this.v&&(this.v=null,Ry(this),QE(this),Qi(19))},le.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Qi(2)):(this.l.info("Failed to ping google.com"),Qi(1))},le.isActive=function(){return!!this.h&&this.h.isActive(this)},(le=XU.prototype).Ba=function(){},le.Aa=function(){},le.za=function(){},le.ya=function(){},le.isActive=function(){return!0},le.Va=function(){},Oy.prototype.g=function(n,t){return new Mr(n,t)},ni(Mr,ii),Mr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Qi(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=YU(n,null,n.Y),Ny(n)},Mr.prototype.close=function(){XE(this.g)},Mr.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=OE(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&Ny(t)},Mr.prototype.N=function(){this.g.h=null,delete this.j,XE(this.g),delete this.g,Mr.$.N.call(this)},ni(QU,HE),ni(ZU,$E),ni(Zu,XU),Zu.prototype.Ba=function(){yi(this.g,"a")},Zu.prototype.Aa=function(n){yi(this.g,new QU(n))},Zu.prototype.za=function(n){yi(this.g,new ZU)},Zu.prototype.ya=function(){yi(this.g,"b")},ni(_s,function oge(){this.blockSize=-1}),_s.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_s.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)JE(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){JE(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){JE(this,i),r=0;break}}this.h=r,this.i+=t},_s.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var age={};function eA(n){return-128<=n&&128>n?function gpe(n,t){var e=age;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Pt([0|t],0>t?-1:0)}):new Pt([0|n],0>n?-1:0)}function Ys(n){if(isNaN(n)||!isFinite(n))return Ju;if(0>n)return bi(Ys(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=tA;return new Pt(t,0)}var tA=4294967296,Ju=eA(0),nA=eA(1),eG=eA(16777216);function Vo(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function ts(n){return-1==n.h}function bi(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Pt(e,~n.h).add(nA)}function Ly(n,t){return n.add(bi(t))}function Fy(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Mp(n,t){this.g=n,this.h=t}function Vy(n,t){if(Vo(t))throw Error("division by zero");if(Vo(n))return new Mp(Ju,Ju);if(ts(n))return t=Vy(bi(n),t),new Mp(bi(t.g),bi(t.h));if(ts(t))return t=Vy(n,bi(t)),new Mp(bi(t.g),t.h);if(30<n.g.length){if(ts(n)||ts(t))throw Error("slowDivide_ only works with positive integers.");for(var e=nA,i=t;0>=i.X(n);)e=tG(e),i=tG(i);var r=ed(e,1),s=ed(i,1);for(i=ed(i,2),e=ed(e,2);!Vo(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(e),s=o),i=ed(i,1),e=ed(e,1)}return t=Ly(n,r.R(t)),new Mp(r,t)}for(r=Ju;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),o=(s=Ys(e)).R(t);ts(o)||0<o.X(n);)o=(s=Ys(e-=i)).R(t);Vo(s)&&(s=nA),r=r.add(s),n=Ly(n,o)}return new Mp(r,n)}function tG(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Pt(e,n.h)}function ed(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new Pt(r,n.h)}(le=Pt.prototype).ea=function(){if(ts(this))return-bi(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:tA+i)*t,t*=tA}return n},le.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Vo(this))return"0";if(ts(this))return"-"+bi(this).toString(n);for(var t=Ys(Math.pow(n,6)),e=this,i="";;){var r=Vy(e,t).g,s=((0<(e=Ly(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Vo(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},le.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},le.X=function(n){return ts(n=Ly(this,n))?-1:Vo(n)?0:1},le.abs=function(){return ts(this)?bi(this):this},le.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,e[r]=(o&=65535)<<16|(s&=65535)}return new Pt(e,-2147483648&e[e.length-1]?-1:0)},le.R=function(n){if(Vo(this)||Vo(n))return Ju;if(ts(this))return ts(n)?bi(this).R(bi(n)):bi(bi(this).R(n));if(ts(n))return bi(this.R(bi(n)));if(0>this.X(eG)&&0>n.X(eG))return Ys(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);e[2*i+2*r]+=o*l,Fy(e,2*i+2*r),e[2*i+2*r+1]+=s*l,Fy(e,2*i+2*r+1),e[2*i+2*r+1]+=o*a,Fy(e,2*i+2*r+1),e[2*i+2*r+2]+=s*a,Fy(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Pt(e,0)},le.gb=function(n){return Vy(this,n).h},le.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Pt(e,this.h&n.h)},le.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Pt(e,this.h|n.h)},le.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Pt(e,this.h^n.h)},Oy.prototype.createWebChannel=Oy.prototype.g,Mr.prototype.send=Mr.prototype.u,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,Cy.NO_ERROR=0,Cy.TIMEOUT=8,Cy.HTTP_ERROR=6,uU.COMPLETE="complete",hU.EventType=yp,yp.OPEN="a",yp.CLOSE="b",yp.ERROR="c",yp.MESSAGE="d",ii.prototype.listen=ii.prototype.O,yn.prototype.listenOnce=yn.prototype.P,yn.prototype.getLastError=yn.prototype.Sa,yn.prototype.getLastErrorCode=yn.prototype.Ia,yn.prototype.getStatus=yn.prototype.da,yn.prototype.getResponseJson=yn.prototype.Wa,yn.prototype.getResponseText=yn.prototype.ja,yn.prototype.send=yn.prototype.ha,yn.prototype.setWithCredentials=yn.prototype.Oa,_s.prototype.digest=_s.prototype.l,_s.prototype.reset=_s.prototype.reset,_s.prototype.update=_s.prototype.j,Pt.prototype.add=Pt.prototype.add,Pt.prototype.multiply=Pt.prototype.R,Pt.prototype.modulo=Pt.prototype.gb,Pt.prototype.compare=Pt.prototype.X,Pt.prototype.toNumber=Pt.prototype.ea,Pt.prototype.toString=Pt.prototype.toString,Pt.prototype.getBits=Pt.prototype.D,Pt.fromNumber=Ys,Pt.fromString=function JU(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return bi(JU(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Ys(Math.pow(t,8)),i=Ju,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),t);8>s?(s=Ys(Math.pow(t,s)),i=i.R(s).add(Ys(o))):i=(i=i.R(e)).add(Ys(o))}return i};var lge=ms.createWebChannelTransport=function(){return new Oy},cge=ms.getStatEventTarget=function(){return xy()},iA=ms.ErrorCode=Cy,uge=ms.EventType=uU,dge=ms.Event=$l,nG=ms.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},By=(ms.FetchXmlHttpFactory=Dp,ms.WebChannel=hU),hge=ms.XhrIo=yn,fge=ms.Md5=_s,td=ms.Integer=Pt;const iG="@firebase/firestore";class ri{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ri.UNAUTHENTICATED=new ri(null),ri.GOOGLE_CREDENTIALS=new ri("google-credentials-uid"),ri.FIRST_PARTY=new ri("first-party-uid"),ri.MOCK_USER=new ri("mock-user");let nd="10.7.0";const Ia=new z1("@firebase/firestore");function id(){return Ia.logLevel}function B(n,...t){if(Ia.logLevel<=lt.DEBUG){const e=t.map(rA);Ia.debug(`Firestore (${nd}): ${n}`,...e)}}function An(n,...t){if(Ia.logLevel<=lt.ERROR){const e=t.map(rA);Ia.error(`Firestore (${nd}): ${n}`,...e)}}function Rr(n,...t){if(Ia.logLevel<=lt.WARN){const e=t.map(rA);Ia.warn(`Firestore (${nd}): ${n}`,...e)}}function rA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function fe(n="Unexpected state"){const t=`FIRESTORE (${nd}) INTERNAL ASSERTION FAILED: `+n;throw An(t),new Error(t)}function _e(n,t){n||fe()}function re(n,t){return n}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Ca{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qn{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class rG{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ri.UNAUTHENTICATED))}shutdown(){}}class gge{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class mge{constructor(t){this.t=t,this.currentUser=ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let o=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qn,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable(M(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qn)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e("string"==typeof i.accessToken),new rG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return _e(null===t||"string"==typeof t),new ri(t)}}class _ge{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=ri.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vge{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new _ge(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yge{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=s=>{null!=s.error&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(_e("string"==typeof e.token),this.R=e.token,new sG(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bge(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class oG{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=bge(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Pe(n,t){return n<t?-1:n>t?1:0}function rd(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class pn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return pn.fromMillis(Date.now())}static fromDate(t){return pn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new pn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pe(this.nanoseconds,t.nanoseconds):Pe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ve{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ve(t)}static min(){return new ve(new pn(0,0))}static max(){return new ve(new pn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rp{constructor(t,e,i){void 0===e?e=0:e>t.length&&fe(),void 0===i?i=t.length-e:i>t.length-e&&fe(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Rp.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Rp?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class pt extends Rp{construct(t,e,i){return new pt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new H(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new pt(e)}static emptyPath(){return new pt([])}}const Tge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Rp{construct(t,e,i){return new an(t,e,i)}static isValidIdentifier(t){return Tge.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new an(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new H(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new H(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new H(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new H(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new an(e)}static emptyPath(){return new an([])}}class oe{constructor(t){this.path=t}static fromPath(t){return new oe(pt.fromString(t))}static fromName(t){return new oe(pt.fromString(t).popFirst(5))}static empty(){return new oe(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===pt.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return pt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new oe(new pt(t.slice()))}}function cG(n){return new Nr(n.readTime,n.key,-1)}class Nr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Nr(ve.min(),oe.empty(),-1)}static max(){return new Nr(ve.max(),oe.empty(),-1)}}function oA(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=oe.comparator(n.documentKey,t.documentKey),0!==e?e:Pe(n.largestBatchId,t.largestBatchId))}const uG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function ka(n){return aA.apply(this,arguments)}function aA(){return aA=M(function*(n){if(n.code!==N.FAILED_PRECONDITION||n.message!==uG)throw n;B("LocalStore","Unexpectedly lost primary lease")}),aA.apply(this,arguments)}class S{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new S((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof S?e:S.resolve(e)}catch(e){return S.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):S.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):S.reject(e)}static resolve(t){return new S((e,i)=>{e(t)})}static reject(t){return new S((e,i)=>{i(t)})}static waitFor(t){return new S((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=S.resolve(!1);for(const i of t)e=e.next(r=>r?S.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new S((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(t,e){return new S((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}function Ma(n){return"IndexedDbTransactionError"===n.name}let Pr=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}return n._e=-1,n})();function Pp(n){return null==n}function Op(n){return 0===n&&1/n==-1/0}function yG(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ra(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function bG(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class qt{constructor(t,e){this.comparator=t,this.root=e||Ti.EMPTY}insert(t,e){return new qt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(t){return new qt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uy(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uy(this.root,t,this.comparator,!0)}}class Uy{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ti{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Ti.RED,this.left=r??Ti.EMPTY,this.right=s??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Ti(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ti.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const t=this.left.check();if(t!==this.right.check())throw fe();return t+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1,Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,e,i,r,s){return this}insert(t,e,i){return new Ti(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(t){this.comparator=t,this.data=new qt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new TG(this.data.getIterator())}getIteratorFrom(t){return new TG(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ft)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ft(this.comparator);return e.data=t,e}}class TG{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class dr{constructor(t){this.fields=t,t.sort(an.comparator)}static empty(){return new dr([])}unionWith(t){let e=new Ft(an.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new dr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return rd(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class xG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xG("Invalid base64 string: "+s):s}}(t);return new Zn(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Zn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const qge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(n){if(_e(!!n),"string"==typeof n){let t=0;const e=qge.exec(n);if(_e(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bn(n.seconds),nanos:bn(n.nanos)}}function bn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bo(n){return"string"==typeof n?Zn.fromBase64String(n):Zn.fromUint8Array(n)}function Gy(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function zy(n){const t=n.mapValue.fields.__previous_value__;return Gy(t)?zy(t):t}function Lp(n){const t=Na(n.mapValue.fields.__local_write_time__.timestampValue);return new pn(t.seconds,t.nanos)}class Yge{constructor(t,e,i,r,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Yl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Yl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Yl&&t.projectId===this.projectId&&t.database===this.database}}const Pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Oa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gy(n)?4:DG(n)?9007199254740991:10:fe()}function Xs(n,t){if(n===t)return!0;const e=Oa(n);if(e!==Oa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Lp(n).isEqual(Lp(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Na(r.timestampValue),a=Na(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Bo(n.bytesValue).isEqual(Bo(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return bn(r.geoPointValue.latitude)===bn(s.geoPointValue.latitude)&&bn(r.geoPointValue.longitude)===bn(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return bn(r.integerValue)===bn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=bn(r.doubleValue),a=bn(s.doubleValue);return o===a?Op(o)===Op(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return rd(n.arrayValue.values||[],t.arrayValue.values||[],Xs);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(yG(o)!==yG(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!Xs(o[l],a[l])))return!1;return!0}(n,t);default:return fe()}var s}function Fp(n,t){return void 0!==(n.values||[]).find(e=>Xs(e,t))}function La(n,t){if(n===t)return 0;const e=Oa(n),i=Oa(t);if(e!==i)return Pe(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=bn(s.integerValue||s.doubleValue),l=bn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return CG(n.timestampValue,t.timestampValue);case 4:return CG(Lp(n),Lp(t));case 5:return Pe(n.stringValue,t.stringValue);case 6:return function(s,o){const a=Bo(s),l=Bo(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Pe(a[c],l[c]);if(0!==u)return u}return Pe(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Pe(bn(s.latitude),bn(o.latitude));return 0!==a?a:Pe(bn(s.longitude),bn(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=La(a[c],l[c]);if(u)return u}return Pe(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Pa.mapValue&&o===Pa.mapValue)return 0;if(s===Pa.mapValue)return 1;if(o===Pa.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Pe(l[d],u[d]);if(0!==h)return h;const f=La(a[l[d]],c[u[d]]);if(0!==f)return f}return Pe(l.length,u.length)}(n.mapValue,t.mapValue);default:throw fe()}}function CG(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Pe(n,t);const e=Na(n),i=Na(t),r=Pe(e.seconds,i.seconds);return 0!==r?r:Pe(e.nanos,i.nanos)}function ld(n){return uA(n)}function uA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Na(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bo(n.bytesValue).toBase64():"referenceValue"in n?oe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=uA(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${uA(e.fields[o])}`;return r+"}"}(n.mapValue):fe()}function dA(n){return!!n&&"integerValue"in n}function Vp(n){return!!n&&"arrayValue"in n}function wG(n){return!!n&&"nullValue"in n}function SG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qy(n){return!!n&&"mapValue"in n}function Bp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ra(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Bp(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Bp(n.arrayValue.values[e]);return t}return Object.assign({},n)}function DG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class xi{constructor(t){this.value=t}static empty(){return new xi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!qy(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bp(e)}setAll(t){let e=an.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=Bp(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());qy(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Xs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];qy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ra(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new xi(Bp(this.value))}}function IG(n){const t=[];return Ra(n.fields,(e,i)=>{const r=new an([e]);if(qy(i)){const s=IG(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new dr(t)}class nn{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new nn(t,0,ve.min(),ve.min(),ve.min(),xi.empty(),0)}static newFoundDocument(t,e,i,r){return new nn(t,1,e,ve.min(),i,r,0)}static newNoDocument(t,e){return new nn(t,2,e,ve.min(),ve.min(),xi.empty(),0)}static newUnknownDocument(t,e){return new nn(t,3,e,ve.min(),ve.min(),xi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fa{constructor(t,e){this.position=t,this.inclusive=e}}function kG(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?oe.comparator(oe.fromName(o.referenceValue),e.key):La(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function MG(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Xs(n.position[e],t.position[e]))return!1;return!0}class Hp{constructor(t,e="asc"){this.field=t,this.dir=e}}function Qge(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class RG{}class rt extends RG{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Zge(t,e,i):"array-contains"===e?new tme(t,i):"in"===e?new VG(t,i):"not-in"===e?new nme(t,i):"array-contains-any"===e?new ime(t,i):new rt(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Jge(t,i):new eme(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(La(e,this.value)):null!==e&&Oa(this.value)===Oa(e)&&this.matchesComparison(La(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ot extends RG{constructor(t,e){super(),this.filters=t,this.op=e,this.ue=null}static create(t,e){return new Ot(t,e)}matches(t){return cd(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function cd(n){return"and"===n.op}function fA(n){return function NG(n){for(const t of n.filters)if(t instanceof Ot)return!1;return!0}(n)&&cd(n)}function pA(n){if(n instanceof rt)return n.field.canonicalString()+n.op.toString()+ld(n.value);if(fA(n))return n.filters.map(t=>pA(t)).join(",");{const t=n.filters.map(e=>pA(e)).join(",");return`${n.op}(${t})`}}function PG(n,t){return n instanceof rt?(i=n,(r=t)instanceof rt&&i.op===r.op&&i.field.isEqual(r.field)&&Xs(i.value,r.value)):n instanceof Ot?function(i,r){return r instanceof Ot&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,a)=>s&&PG(o,r.filters[a]),!0)}(n,t):void fe();var i,r}function LG(n){return n instanceof rt?`${(e=n).field.canonicalString()} ${e.op} ${ld(e.value)}`:n instanceof Ot?function(e){return e.op.toString()+" {"+e.getFilters().map(LG).join(" ,")+"}"}(n):"Filter";var e}class Zge extends rt{constructor(t,e,i){super(t,e,i),this.key=oe.fromName(i.referenceValue)}matches(t){const e=oe.comparator(t.key,this.key);return this.matchesComparison(e)}}class Jge extends rt{constructor(t,e){super(t,"in",e),this.keys=FG(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class eme extends rt{constructor(t,e){super(t,"not-in",e),this.keys=FG(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function FG(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>oe.fromName(i.referenceValue))}class tme extends rt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Vp(e)&&Fp(e.arrayValue,this.value)}}class VG extends rt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Fp(this.value.arrayValue,e)}}class nme extends rt{constructor(t,e){super(t,"not-in",e)}matches(t){if(Fp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Fp(this.value.arrayValue,e)}}class ime extends rt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Vp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Fp(this.value.arrayValue,i))}}class rme{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function gA(n,t=null,e=[],i=[],r=null,s=null,o=null){return new rme(n,t,e,i,r,s,o)}function Xl(n){const t=re(n);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>pA(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),Pp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ld(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ld(i)).join(",")),t.ce=e}return t.ce}function $p(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Qge(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!PG(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!MG(n.startAt,t.startAt)&&MG(n.endAt,t.endAt)}function Yy(n){return oe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ho{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function ud(n){return new Ho(n)}function UG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function dd(n){const t=re(n);if(null===t.le){t.le=[];const e=new Set;for(const s of t.explicitOrderBy)t.le.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ft(an.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.le.push(new Hp(s,i))}),e.has(an.keyField().canonicalString())||t.le.push(new Hp(an.keyField(),i))}return t.le}function Zi(n){const t=re(n);return t.he||(t.he=function GG(n,t){if("F"===n.limitType)return gA(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new Hp(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Fa(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Fa(n.startAt.position,n.startAt.inclusive):null;return gA(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,dd(n))),t.he}function Xy(n,t,e){return new Ho(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Up(n,t){return $p(Zi(n),Zi(t))&&n.limitType===t.limitType}function zG(n){return`${Xl(Zi(n))}|lt:${n.limitType}`}function hd(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>LG(r)).join(", ")}]`),Pp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>ld(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>ld(r)).join(",")),`Target(${i})`}(Zi(n))}; limitType=${n.limitType})`}function Gp(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):oe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of dd(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,a,l){const c=kG(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,dd(i),r)||i.endAt&&!function(o,a,l){const c=kG(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,dd(i),r)));var i,r}function WG(n){return(t,e)=>{let i=!1;for(const r of dd(n)){const s=sme(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function sme(n,t,e){const i=n.field.isKeyField()?oe.comparator(t.key,e.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?La(l,c):fe()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return fe()}}class $o{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ra(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return bG(this.inner)}size(){return this.innerSize}}const ome=new qt(oe.comparator);function hr(){return ome}const qG=new qt(oe.comparator);function zp(...n){let t=qG;for(const e of n)t=t.insert(e.key,e);return t}function YG(n){let t=qG;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Qs(){return jp()}function KG(){return jp()}function jp(){return new $o(n=>n.toString(),(n,t)=>n.isEqual(t))}const ame=new qt(oe.comparator),lme=new Ft(oe.comparator);function Ye(...n){let t=lme;for(const e of n)t=t.add(e);return t}const cme=new Ft(Pe);function XG(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Op(t)?"-0":t}}function QG(n){return{integerValue:""+n}}function ZG(n,t){return function hG(n){return"number"==typeof n&&Number.isInteger(n)&&!Op(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?QG(t):XG(n,t)}class Qy{constructor(){this._=void 0}}function ume(n,t,e){return n instanceof fd?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Gy(s)&&(s=zy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof Ql?e4(n,t):n instanceof Zl?t4(n,t):function(r,s){const o=JG(r,s),a=n4(o)+n4(r.Ie);return dA(o)&&dA(r.Ie)?QG(a):XG(r.serializer,a)}(n,t)}function dme(n,t,e){return n instanceof Ql?e4(n,t):n instanceof Zl?t4(n,t):e}function JG(n,t){return n instanceof pd?dA(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class fd extends Qy{}class Ql extends Qy{constructor(t){super(),this.elements=t}}function e4(n,t){const e=i4(t);for(const i of n.elements)e.some(r=>Xs(r,i))||e.push(i);return{arrayValue:{values:e}}}class Zl extends Qy{constructor(t){super(),this.elements=t}}function t4(n,t){let e=i4(t);for(const i of n.elements)e=e.filter(r=>!Xs(r,i));return{arrayValue:{values:e}}}class pd extends Qy{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function n4(n){return bn(n.integerValue||n.doubleValue)}function i4(n){return Vp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fme{constructor(t,e){this.version=t,this.transformResults=e}}class ln{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ln}static exists(t){return new ln(void 0,t)}static updateTime(t){return new ln(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zy(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Jy{}function r4(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new md(n.key,ln.none()):new gd(n.key,n.data,ln.none());{const e=n.data,i=xi.empty();let r=new Ft(an.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new Uo(n.key,i,new dr(r.toArray()),ln.none())}}function pme(n,t,e){n instanceof gd?function(r,s,o){const a=r.value.clone(),l=a4(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Uo?function(r,s,o){if(!Zy(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=a4(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(o4(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function qp(n,t,e,i){return n instanceof gd?function(s,o,a,l){if(!Zy(s.precondition,o))return a;const c=s.value.clone(),u=l4(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof Uo?function(s,o,a,l){if(!Zy(s.precondition,o))return a;const c=l4(s.fieldTransforms,l,o),u=o.data;return u.setAll(o4(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,t,e,i):(a=e,Zy(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function gme(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=JG(i.transform,r||null);null!=s&&(null===e&&(e=xi.empty()),e.set(i.field,s))}return e||null}function s4(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&rd(i,r,(s,o)=>function hme(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Ql&&r instanceof Ql||i instanceof Zl&&r instanceof Zl?rd(i.elements,r.elements,Xs):i instanceof pd&&r instanceof pd?Xs(i.Ie,r.Ie):i instanceof fd&&r instanceof fd);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class gd extends Jy{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Uo extends Jy{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function o4(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function a4(n,t,e){const i=new Map;_e(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,dme(o,a,e[r]))}return i}function l4(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,ume(s,o,t))}return i}class md extends Jy{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yA extends Jy{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bA{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&pme(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=qp(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=qp(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=KG();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=r4(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ye())}isEqual(t){return this.batchId===t.batchId&&rd(this.mutations,t.mutations,(e,i)=>s4(e,i))&&rd(this.baseMutations,t.baseMutations,(e,i)=>s4(e,i))}}class TA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){_e(t.mutations.length===i.length);let r=ame;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new TA(t,e,i,r)}}class xA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _me{constructor(t,e){this.count=t,this.unchangedNames=e}}var $n,gt;function u4(n){if(void 0===n)return An("GRPC error has no .code"),N.UNKNOWN;switch(n){case $n.OK:return N.OK;case $n.CANCELLED:return N.CANCELLED;case $n.UNKNOWN:return N.UNKNOWN;case $n.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case $n.INTERNAL:return N.INTERNAL;case $n.UNAVAILABLE:return N.UNAVAILABLE;case $n.UNAUTHENTICATED:return N.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case $n.NOT_FOUND:return N.NOT_FOUND;case $n.ALREADY_EXISTS:return N.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return N.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case $n.ABORTED:return N.ABORTED;case $n.OUT_OF_RANGE:return N.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return N.UNIMPLEMENTED;case $n.DATA_LOSS:return N.DATA_LOSS;default:return fe()}}(gt=$n||($n={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";const vme=new td([4294967295,4294967295],0);function h4(n){const t=function d4(){return new TextEncoder}().encode(n),e=new fge;return e.update(t),new Uint8Array(e.digest())}function f4(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new td([e,i],0),new td([r,s],0)]}class CA{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Yp(`Invalid padding: ${e}`);if(i<0)throw new Yp(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Yp(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Yp(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ee=td.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(td.fromNumber(i)));return 1===r.compare(vme)&&(r=new td([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=h4(t),[i,r]=f4(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new CA(s,r,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Te)return;const e=h4(t),[i,r]=f4(e);for(let s=0;s<this.hashCount;s++){const o=this.de(i,r,s);this.Re(o)}}Re(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Yp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kp{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Xp.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Kp(ve.min(),r,new qt(Pe),hr(),Ye())}}class Xp{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Xp(i,e,Ye(),Ye(),Ye())}}class t0{constructor(t,e,i,r){this.Ve=t,this.removedTargetIds=e,this.key=i,this.me=r}}class p4{constructor(t,e){this.targetId=t,this.fe=e}}class g4{constructor(t,e,i=Zn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class m4{constructor(){this.ge=0,this.pe=v4(),this.ye=Zn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=Ye(),e=Ye(),i=Ye();return this.pe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:fe()}}),new Xp(this.ye,this.we,t,e,i)}Fe(){this.Se=!1,this.pe=v4()}Me(t,e){this.Se=!0,this.pe=this.pe.insert(t,e)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,_e(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class yme{constructor(t){this.Le=t,this.ke=new Map,this.qe=hr(),this.Qe=_4(),this.Ke=new qt(Pe)}$e(t){for(const e of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(e,t.me):this.We(e,t.key,t.me);for(const e of t.removedTargetIds)this.We(e,t.key,t.me)}Ge(t){this.forEachTarget(t,e=>{const i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(e);break;case 3:this.je(e)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.Ce(t.resumeToken));break;default:fe()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ke.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){const e=t.targetId,i=t.fe.count,r=this.Ye(e);if(r){const s=r.target;if(Yy(s))if(0===i){const o=new oe(s.path);this.We(e,o,nn.newNoDocument(o,ve.min()))}else _e(1===i);else{const o=this.Ze(e);if(o!==i){const a=this.Xe(t),l=a?this.et(a,t,o):1;0!==l&&(this.He(e),this.Ke=this.Ke.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(t){const e=t.fe.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,a;try{o=Bo(i).toUint8Array()}catch(l){if(l instanceof xG)return Rr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new CA(o,r,s)}catch(l){return Rr(l instanceof Yp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(t,e,i){return e.fe.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(e,s,null),r++)}),r}it(t){const e=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Yy(a.target)){const l=new oe(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,nn.newNoDocument(l,t))}s.De&&(e.set(o,s.ve()),s.Fe())}});let i=Ye();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const r=new Kp(t,e,this.Ke,this.qe,i);return this.qe=hr(),this.Qe=_4(),this.Ke=new qt(Pe),r}Ue(t,e){if(!this.je(t))return;const i=this.st(t,e.key)?2:0;this.ze(t).Me(e.key,i),this.qe=this.qe.insert(e.key,e),this.Qe=this.Qe.insert(e.key,this.ot(e.key).add(t))}We(t,e,i){if(!this.je(t))return;const r=this.ze(t);this.st(t,e)?r.Me(e,1):r.xe(e),this.Qe=this.Qe.insert(e,this.ot(e).delete(t)),i&&(this.qe=this.qe.insert(e,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let e=this.ke.get(t);return e||(e=new m4,this.ke.set(t,e)),e}ot(t){let e=this.Qe.get(t);return e||(e=new Ft(Pe),this.Qe=this.Qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||B("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.ke.get(t);return e&&e.be?null:this.Le._t(t)}He(t){this.ke.set(t,new m4),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}st(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function _4(){return new qt(oe.comparator)}function v4(){return new qt(oe.comparator)}const bme={asc:"ASCENDING",desc:"DESCENDING"},Tme={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xme={and:"AND",or:"OR"};class Cme{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function wA(n,t){return n.useProto3Json||Pp(t)?t:{value:t}}function _d(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function y4(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function wme(n,t){return _d(n,t.toTimestamp())}function In(n){return _e(!!n),ve.fromTimestamp(function(e){const i=Na(e);return new pn(i.seconds,i.nanos)}(n))}function SA(n,t){return(i=n,new pt(["projects",i.projectId,"databases",i.database])).child("documents").child(t).canonicalString();var i}function b4(n){const t=pt.fromString(n);return _e(I4(t)),t}function Qp(n,t){return SA(n.databaseId,t.path)}function Zs(n,t){const e=b4(t);if(e.get(1)!==n.databaseId.projectId)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new oe(x4(e))}function DA(n,t){return SA(n.databaseId,t)}function Zp(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function x4(n){return _e(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function C4(n,t,e){return{name:Qp(n,t),fields:e.value.mapValue.fields}}function S4(n,t){return{documents:[DA(n,t.path)]}}function AA(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=DA(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=DA(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return A4(Ot.create(l,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Va((d=c).field),direction:Ime(d.dir)};var d})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const o=wA(n,t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),e;var l}function D4(n){let t=function T4(n){const t=b4(n);return 4===t.length?pt.emptyPath():x4(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){_e(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let s=[];e.where&&(s=function(d){const h=E4(d);return h instanceof Ot&&fA(h)?h.getFilters():[h]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(h=>{return new Hp(vd((p=h).field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;e.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Pp(h)?null:h}(e.limit));let l=null;var d;e.startAt&&(l=new Fa((d=e.startAt).values||[],!!d.before));let c=null;return e.endAt&&(c=function(d){return new Fa(d.values||[],!d.before)}(e.endAt)),function $G(n,t,e,i,r,s,o,a){return new Ho(n,t,e,i,r,s,o,a)}(t,r,o,s,a,"F",l,c)}function E4(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=vd(e.unaryFilter.field);return rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=vd(e.unaryFilter.field);return rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vd(e.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vd(e.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(n):void 0!==n.fieldFilter?rt.create(vd((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ot.create(e.compositeFilter.filters.map(i=>E4(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return fe()}}(e.compositeFilter.op))}(n):fe();var e}function Ime(n){return bme[n]}function kme(n){return Tme[n]}function Mme(n){return xme[n]}function Va(n){return{fieldPath:n.canonicalString()}}function vd(n){return an.fromServerFormat(n.fieldPath)}function A4(n){return n instanceof rt?function(e){if("=="===e.op){if(SG(e.value))return{unaryFilter:{field:Va(e.field),op:"IS_NAN"}};if(wG(e.value))return{unaryFilter:{field:Va(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(SG(e.value))return{unaryFilter:{field:Va(e.field),op:"IS_NOT_NAN"}};if(wG(e.value))return{unaryFilter:{field:Va(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(e.field),op:kme(e.op),value:e.value}}}(n):n instanceof Ot?function(e){const i=e.getFilters().map(r=>A4(r));return 1===i.length?i[0]:{compositeFilter:{op:Mme(e.op),filters:i}}}(n):fe()}function Rme(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function I4(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Go{constructor(t,e,i,r,s=ve.min(),o=ve.min(),a=Zn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Go(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class k4{constructor(t){this.ut=t}}function IA(n){const t=D4({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Xy(t,t.limit,"L"):t}class nc{constructor(){}ht(t,e){this.Pt(t,e),e.It()}Pt(t,e){if("nullValue"in t)this.Tt(e,5);else if("booleanValue"in t)this.Tt(e,10),e.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(e,15),e.Et(bn(t.integerValue));else if("doubleValue"in t){const i=bn(t.doubleValue);isNaN(i)?this.Tt(e,13):(this.Tt(e,15),Op(i)?e.Et(0):e.Et(i))}else if("timestampValue"in t){const i=t.timestampValue;this.Tt(e,20),"string"==typeof i?e.dt(i):(e.dt(`${i.seconds||""}`),e.Et(i.nanos||0))}else if("stringValue"in t)this.At(t.stringValue,e),this.Rt(e);else if("bytesValue"in t)this.Tt(e,30),e.Vt(Bo(t.bytesValue)),this.Rt(e);else if("referenceValue"in t)this.ft(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Tt(e,45),e.Et(i.latitude||0),e.Et(i.longitude||0)}else"mapValue"in t?DG(t)?this.Tt(e,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,e),this.Rt(e)):"arrayValue"in t?(this.yt(t.arrayValue,e),this.Rt(e)):fe()}At(t,e){this.Tt(e,25),this.wt(t,e)}wt(t,e){e.dt(t)}gt(t,e){const i=t.fields||{};this.Tt(e,55);for(const r of Object.keys(i))this.At(r,e),this.Pt(i[r],e)}yt(t,e){const i=t.values||[];this.Tt(e,50);for(const r of i)this.Pt(r,e)}ft(t,e){this.Tt(e,37),oe.fromName(t).path.forEach(i=>{this.Tt(e,60),this.wt(i,e)})}Tt(t,e){t.Et(e)}Rt(t){t.Et(2)}}nc.St=new nc;class Hme{constructor(){this.on=new OA}addToCollectionParentIndex(t,e){return this.on.add(e),S.resolve()}getCollectionParents(t,e){return S.resolve(this.on.getEntries(e))}addFieldIndex(t,e){return S.resolve()}deleteFieldIndex(t,e){return S.resolve()}deleteAllFieldIndexes(t){return S.resolve()}createTargetIndexes(t,e){return S.resolve()}getDocumentsMatchingTarget(t,e){return S.resolve(null)}getIndexType(t,e){return S.resolve(0)}getFieldIndexes(t,e){return S.resolve([])}getNextCollectionGroupToUpdate(t){return S.resolve(null)}getMinOffset(t,e){return S.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,e){return S.resolve(Nr.min())}updateCollectionGroup(t,e,i){return S.resolve()}updateIndexEntries(t,e){return S.resolve()}}class OA{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ft(pt.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ft(pt.comparator)).toArray()}}new Uint8Array(0);class Oi{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Oi(t,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Oi.DEFAULT_COLLECTION_PERCENTILE=10,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oi.DEFAULT=new Oi(41943040,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oi.DISABLED=new Oi(-1,0,0);class rc{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new rc(0)}static Nn(){return new rc(-1)}}class Wme{constructor(){this.changes=new $o(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?S.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Kme{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class iz{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&qp(i.mutation,r,dr.empty(),pn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ye()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ye()){const r=Qs();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=zp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=Qs();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ye()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=hr();const o=jp(),a=jp();return e.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Uo)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),qp(u.mutation,c,u.mutation.getFieldMask(),pn.now())):o.set(c.key,dr.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),e.forEach((c,u)=>{var d;return a.set(c,new Kme(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(t,e){const i=jp();let r=new qt((o,a)=>o-a),s=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let u=i.get(l)||dr.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||Ye()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=KG();u.forEach(h=>{if(!s.has(h)){const f=r4(e.get(h),i.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,d))}return S.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return oe.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):function mA(n){return null!==n.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):S.resolve(Qs());let a=-1,l=s;return o.next(c=>S.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?S.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,Ye())).next(u=>({batchId:a,changes:YG(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new oe(e)).next(i=>{let r=zp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=zp();return this.indexManager.getCollectionParents(t,s).next(a=>S.forEach(a,l=>{const c=(d=e,h=l.child(s),new Ho(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();null===o.get(u)&&(o=o.insert(u,nn.newInvalidDocument(u)))});let a=zp();return o.forEach((l,c)=>{const u=s.get(l);void 0!==u&&qp(u.mutation,c,dr.empty(),pn.now()),Gp(e,c)&&(a=a.insert(l,c))}),a})}}class Xme{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,e){return S.resolve(this.ur.get(e))}saveBundleMetadata(t,e){return this.ur.set(e.id,{id:(r=e).id,version:r.version,createTime:In(r.createTime)}),S.resolve();var r}getNamedQuery(t,e){return S.resolve(this.cr.get(e))}saveNamedQuery(t,e){return this.cr.set(e.name,{name:(r=e).name,query:IA(r.bundledQuery),readTime:In(r.readTime)}),S.resolve();var r}}class Qme{constructor(){this.overlays=new qt(oe.comparator),this.lr=new Map}getOverlay(t,e){return S.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Qs();return S.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.lt(t,e,s)}),S.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),S.resolve()}getOverlaysForCollection(t,e,i){const r=Qs(),s=e.length+1,o=new oe(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return S.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new qt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let u=s.get(c.largestBatchId);null===u&&(u=Qs(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Qs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return S.resolve(a)}lt(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new xA(e,i));let s=this.lr.get(e);void 0===s&&(s=Ye(),this.lr.set(e,s)),this.lr.set(e,s.add(i.key))}}class LA{constructor(){this.hr=new Ft(oi.Pr),this.Ir=new Ft(oi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,e){const i=new oi(t,e);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.dr(new oi(t,e))}Ar(t,e){t.forEach(i=>this.removeReference(i,e))}Rr(t){const e=new oe(new pt([])),i=new oi(e,t),r=new oi(e,t+1),s=[];return this.Ir.forEachInRange([i,r],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const e=new oe(new pt([])),i=new oi(e,t),r=new oi(e,t+1);let s=Ye();return this.Ir.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new oi(t,0),i=this.hr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class oi{constructor(t,e){this.key=t,this.gr=e}static Pr(t,e){return oe.comparator(t.key,e.key)||Pe(t.gr,e.gr)}static Tr(t,e){return Pe(t.gr,e.gr)||oe.comparator(t.key,e.key)}}class Zme{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.pr=1,this.yr=new Ft(oi.Pr)}checkEmpty(t){return S.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.pr;this.pr++;const o=new bA(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new oi(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return S.resolve(o)}lookupMutationBatch(t,e){return S.resolve(this.wr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Sr(e+1),s=r<0?0:r;return S.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(t){return S.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new oi(e,0),r=new oi(e,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,r],o=>{const a=this.wr(o.gr);s.push(a)}),S.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ft(Pe);return e.forEach(r=>{const s=new oi(r,0),o=new oi(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{i=i.add(a.gr)})}),S.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;oe.isDocumentKey(s)||(s=s.child(""));const o=new oi(new oe(s),0);let a=new Ft(Pe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},o),S.resolve(this.br(a))}br(t){const e=[];return t.forEach(i=>{const r=this.wr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){_e(0===this.Dr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return S.forEach(e.mutations,r=>{const s=new oi(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,e){const i=new oi(e,0),r=this.yr.firstAfterOrEqual(i);return S.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return S.resolve()}Dr(t,e){return this.Sr(t)}Sr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}wr(t){const e=this.Sr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Jme{constructor(t){this.Cr=t,this.docs=new qt(oe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Cr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return S.resolve(i?i.document.mutableCopy():nn.newInvalidDocument(e))}getEntries(t,e){let i=hr();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():nn.newInvalidDocument(r))}),S.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=hr();const o=e.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||oA(cG(u),i)<=0||(r.has(u.key)||Gp(e,u))&&(s=s.insert(u.key,u.mutableCopy()))}return S.resolve(s)}getAllFromCollectionGroup(t,e,i,r){fe()}vr(t,e){return S.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new e_e(this)}getSize(t){return S.resolve(this.size)}}class e_e extends Wme{constructor(t){super(),this._r=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this._r.addEntry(t,r)):this._r.removeEntry(i)}),S.waitFor(e)}getFromCache(t,e){return this._r.getEntry(t,e)}getAllFromCache(t,e){return this._r.getEntries(t,e)}}class t_e{constructor(t){this.persistence=t,this.Fr=new $o(e=>Xl(e),$p),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Mr=0,this.Or=new LA,this.targetCount=0,this.Nr=rc.On()}forEachTarget(t,e){return this.Fr.forEach((i,r)=>e(r)),S.resolve()}getLastRemoteSnapshotVersion(t){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return S.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Mr&&(this.Mr=e),S.resolve()}kn(t){this.Fr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Nr=new rc(e),this.highestTargetId=e),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,e){return this.kn(e),this.targetCount+=1,S.resolve()}updateTargetData(t,e){return this.kn(e),S.resolve()}removeTargetData(t,e){return this.Fr.delete(e.target),this.Or.Rr(e.targetId),this.targetCount-=1,S.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),S.waitFor(s).next(()=>r)}getTargetCount(t){return S.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fr.get(e)||null;return S.resolve(i)}addMatchingKeys(t,e,i){return this.Or.Er(e,i),S.resolve()}removeMatchingKeys(t,e,i){this.Or.Ar(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),S.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Or.Rr(e),S.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Or.mr(e);return S.resolve(i)}containsKey(t,e){return S.resolve(this.Or.containsKey(e))}}class FA{constructor(t,e){this.Br={},this.overlays={},this.Lr=new Pr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new t_e(this),this.indexManager=new Hme,this.remoteDocumentCache=new Jme(i=>this.referenceDelegate.Qr(i)),this.serializer=new k4(e),this.Kr=new Xme(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Qme,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new Zme(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,e,i){B("MemoryPersistence","Starting transaction:",t);const r=new n_e(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(s=>this.referenceDelegate.Ur(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Wr(t,e){return S.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class n_e extends wge{constructor(t){super(),this.currentSequenceNumber=t}}class u0{constructor(t){this.persistence=t,this.Gr=new LA,this.zr=null}static jr(t){return new u0(t)}get Hr(){if(this.zr)return this.zr;throw fe()}addReference(t,e,i){return this.Gr.addReference(i,e),this.Hr.delete(i.toString()),S.resolve()}removeReference(t,e,i){return this.Gr.removeReference(i,e),this.Hr.add(i.toString()),S.resolve()}markPotentiallyOrphaned(t,e){return this.Hr.add(e.toString()),S.resolve()}removeTarget(t,e){this.Gr.Rr(e.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}$r(){this.zr=new Set}Ur(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.Hr,i=>{const r=oe.fromPath(i);return this.Jr(t,r).next(s=>{s||e.removeEntry(r,ve.min())})}).next(()=>(this.zr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Jr(t,e).next(i=>{i?this.Hr.delete(e.toString()):this.Hr.add(e.toString())})}Qr(t){return 0}Jr(t,e){return S.or([()=>S.resolve(this.Gr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Wr(t,e)])}}class $A{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ki=i,this.qi=r}static Qi(t,e){let i=Ye(),r=Ye();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new $A(t,e.fromCache,i,r)}}class r_e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class sz{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,e){this.Gi=t,this.indexManager=e,this.Ki=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.zi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new r_e;return this.Hi(t,e,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,e,o,a.size)})}).next(()=>s.result)}Ji(t,e,i,r){return i.documentReadCount<this.Ui?(id()<=lt.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",hd(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),S.resolve()):(id()<=lt.DEBUG&&B("QueryEngine","Query:",hd(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(id()<=lt.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",hd(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zi(e))):S.resolve())}zi(t,e){if(UG(e))return S.resolve(null);let i=Zi(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Xy(e,null,"F"),i=Zi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=Ye(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Yi(e,a);return this.Zi(e,c,o,l.readTime)?this.zi(t,Xy(e,null,"F")):this.Xi(t,c,e,l)}))})))}ji(t,e,i,r){return UG(e)||r.isEqual(ve.min())?S.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const o=this.Yi(e,s);return this.Zi(e,o,i,r)?S.resolve(null):(id()<=lt.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hd(e)),this.Xi(t,o,e,function lG(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(1e9===i?new pn(e+1,0):new pn(e,i));return new Nr(r,oe.empty(),t)}(r,-1)).next(a=>a))})}Yi(t,e){let i=new Ft(WG(t));return e.forEach((r,s)=>{Gp(t,s)&&(i=i.add(s))}),i}Zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Hi(t,e,i){return id()<=lt.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",hd(e)),this.Gi.getDocumentsMatchingQuery(t,e,Nr.min(),i)}Xi(t,e,i,r){return this.Gi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class s_e{constructor(t,e,i,r){this.persistence=t,this.es=e,this.serializer=r,this.ts=new qt(Pe),this.ns=new $o(s=>Xl(s),$p),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iz(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ts))}}function az(n,t){return UA.apply(this,arguments)}function UA(){return UA=M(function*(n,t){const e=re(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.os(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Ye();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return e.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),UA.apply(this,arguments)}function lz(n){const t=re(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.qr.getLastRemoteSnapshotVersion(e))}function l_e(n,t){const e=re(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function wd(n,t,e){return GA.apply(this,arguments)}function GA(){return GA=M(function*(n,t,e){const i=re(n),r=i.ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Ma(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.ts=i.ts.remove(t),i.ns.delete(r.target)}),GA.apply(this,arguments)}function f0(n,t,e){const i=re(n);let r=ve.min(),s=Ye();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=re(l),h=d.ns.get(u);return void 0!==h?S.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(i,o,Zi(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.es.getDocumentsMatchingQuery(o,t,e?r:ve.min(),e?s:Ye())).next(a=>(function hz(n,t,e){let i=n.rs.get(t)||ve.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.rs.set(t,i)}(i,function jG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),a),{documents:a,ls:s})))}class YA{constructor(){this.activeTargetIds=function vA(){return cme}()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gz{constructor(){this.eo=new YA,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,e,i){this.no[t]=e}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new YA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class d_e{ro(t){}shutdown(){}}class mz{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let m0=null;function XA(){return null===m0?m0=268435456+Math.round(2147483648*Math.random()):m0++,"0x"+m0.toString(16)}const h_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f_e{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}const Li="WebChannelConnection";class p_e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+e.host,this.fo=`projects/${r}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get yo(){return!1}wo(e,i,r,s,o){const a=XA(),l=this.So(e,i);B("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(e,l,c,r).then(u=>(B("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw Rr("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(e,i,r,s,o,a){return this.wo(e,i,r,s,o)}bo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+nd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}So(e,i){return`${this.mo}/v1/${i}:${h_e[e]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,e,i,r){const s=XA();return new Promise((o,a)=>{const l=new hge;l.setWithCredentials(!0),l.listenOnce(uge.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case iA.NO_ERROR:const u=l.getResponseJson();B(Li,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(u)),o(u);break;case iA.TIMEOUT:B(Li,`RPC '${t}' ${s} timed out`),a(new H(N.DEADLINE_EXCEEDED,"Request time out"));break;case iA.HTTP_ERROR:const d=l.getStatus();if(B(Li,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(v)>=0?v:N.UNKNOWN}(f.status);a(new H(p,f.message))}else a(new H(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(N.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{B(Li,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);B(Li,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",c,i,15)})}vo(t,e,i){const r=XA(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=lge(),a=cge(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const u=s.join("");B(Li,`Creating RPC '${t}' stream ${r}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new f_e({co:g=>{f?B(Li,`Not sending because RPC '${t}' stream ${r} is closed:`,g):(h||(B(Li,`Opening RPC '${t}' stream ${r} transport.`),d.open(),h=!0),B(Li,`RPC '${t}' stream ${r} sending:`,g),d.send(g))},lo:()=>d.close()}),m=(g,v,_)=>{g.listen(v,b=>{try{_(b)}catch(x){setTimeout(()=>{throw x},0)}})};return m(d,By.EventType.OPEN,()=>{f||B(Li,`RPC '${t}' stream ${r} transport opened.`)}),m(d,By.EventType.CLOSE,()=>{f||(f=!0,B(Li,`RPC '${t}' stream ${r} transport closed`),p.Ro())}),m(d,By.EventType.ERROR,g=>{f||(f=!0,Rr(Li,`RPC '${t}' stream ${r} transport errored:`,g),p.Ro(new H(N.UNAVAILABLE,"The operation could not be completed")))}),m(d,By.EventType.MESSAGE,g=>{var v;if(!f){const _=g.data[0];_e(!!_);const x=_.error||(null===(v=_[0])||void 0===v?void 0:v.error);if(x){B(Li,`RPC '${t}' stream ${r} received error:`,x);const E=x.status;let k=function(Ce){const me=$n[Ce];if(void 0!==me)return u4(me)}(E),U=x.message;void 0===k&&(k=N.INTERNAL,U="Unknown error status: "+E+" with message "+x.message),f=!0,p.Ro(new H(k,U)),d.close()}else B(Li,`RPC '${t}' stream ${r} received:`,_),p.Vo(_)}}),m(a,dge.STAT_EVENT,g=>{g.stat===nG.PROXY?B(Li,`RPC '${t}' stream ${r} detected buffering proxy`):g.stat===nG.NOPROXY&&B(Li,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function _0(){return typeof document<"u"?document:null}function ag(n){return new Cme(n,!0)}class QA{constructor(t,e,i=1e3,r=1.5,s=6e4){this.si=t,this.timerId=e,this.Fo=i,this.Mo=r,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const e=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,e-i);r>0&&B("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class vz{constructor(t,e,i,r,s,o,a,l){this.si=t,this.Ko=i,this.$o=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new QA(t,e)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var t=this;return M(function*(){t.jo()&&(yield t.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}Xo(){var t=this;return M(function*(){if(t.Ho())return t.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(t,e){var i=this;return M(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==t?i.zo.reset():e&&e.code===N.RESOURCE_EXHAUSTED?(An(e.toString()),An("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):e&&e.code===N.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Io(e)})()}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),e=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===e&&this.s_(i,r)},i=>{t(()=>{const r=new H(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(t,e){const i=this.i_(this.Uo);this.stream=this.__(t,e),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var t=this;this.state=5,this.zo.ko(M(function*(){t.state=0,t.start()}))}o_(t){return B("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return e=>{this.si.enqueueAndForget(()=>this.Uo===t?e():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g_e extends vz{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}__(t,e){return this.connection.vo("Listen",t,e)}onMessage(t){this.zo.reset();const e=function Dme(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:fe(),r=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(_e(void 0===u||"string"==typeof u),Zn.fromBase64String(u||"")):(_e(void 0===u||u instanceof Uint8Array),Zn.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=void 0===c.code?N.UNKNOWN:u4(c.code);return new H(u,c.message||"")}(o);e=new g4(i,r,s,a||null)}else if("documentChange"in t){const i=t.documentChange,r=Zs(n,i.document.name),s=In(i.document.updateTime),o=i.document.createTime?In(i.document.createTime):ve.min(),a=new xi({mapValue:{fields:i.document.fields}}),l=nn.newFoundDocument(r,s,o,a);e=new t0(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=Zs(n,i.document),s=i.readTime?In(i.readTime):ve.min(),o=nn.newNoDocument(r,s);e=new t0([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=Zs(n,i.document);e=new t0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return fe();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new _me(r,s);e=new p4(i.targetId,o)}}var c;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return ve.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?In(o.readTime):ve.min()}(t);return this.listener.a_(e,i)}u_(t){const e={};e.database=Zp(this.serializer),e.addTarget=function(s,o){let a;const l=o.target;if(a=Yy(l)?{documents:S4(s,l)}:{query:AA(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=y4(s,o.resumeToken);const c=wA(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=_d(s,o.snapshotVersion.toTimestamp());const c=wA(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function Ame(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.e_(e)}c_(t){const e={};e.database=Zp(this.serializer),e.removeTarget=t,this.e_(e)}}class m_e extends vz{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,e){return this.connection.vo("Write",t,e)}onMessage(t){if(_e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const e=function Eme(n,t){return n&&n.length>0?(_e(void 0!==t),n.map(e=>function(r,s){let o=In(r.updateTime?r.updateTime:s);return o.isEqual(ve.min())&&(o=In(s)),new fme(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=In(t.commitTime);return this.listener.I_(i,e)}return _e(!t.writeResults||0===t.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=Zp(this.serializer),this.e_(t)}P_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>function Jp(n,t){let e;if(t instanceof gd)e={update:C4(n,t.key,t.value)};else if(t instanceof md)e={delete:Qp(n,t.key)};else if(t instanceof Uo)e={update:C4(n,t.key,t.data),updateMask:Rme(t.fieldMask)};else{if(!(t instanceof yA))return fe();e={verify:Qp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof fd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pd)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw fe()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:wme(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:fe()),e;var s}(this.serializer,i))};this.e_(e)}}class __e extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,e,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.wo(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new H(N.UNKNOWN,r.toString())})}Co(t,e,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,e,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(N.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class y_e{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,"Online"===t&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(An(e),this.f_=!1):B("OnlineStateTracker",e)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class b_e{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{i.enqueueAndForget(M(function*(){var l;Ua(o)&&(B("RemoteStore","Restarting streams for network reachability change."),yield(l=M(function*(u){const d=re(u);d.C_.add(4),yield Sd(d),d.M_.set("Unknown"),d.C_.delete(4),yield lg(d)}),function c(u){return l.apply(this,arguments)})(o))}))}),this.M_=new y_e(i,r)}}function lg(n){return JA.apply(this,arguments)}function JA(){return JA=M(function*(n){if(Ua(n))for(const t of n.v_)yield t(!0)}),JA.apply(this,arguments)}function Sd(n){return eI.apply(this,arguments)}function eI(){return eI=M(function*(n){for(const t of n.v_)yield t(!1)}),eI.apply(this,arguments)}function v0(n,t){const e=re(n);e.D_.has(t.targetId)||(e.D_.set(t.targetId,t),iI(e)?nI(e):Ed(e).Ho()&&tI(e,t))}function cg(n,t){const e=re(n),i=Ed(e);e.D_.delete(t),i.Ho()&&yz(e,t),0===e.D_.size&&(i.Ho()?i.Zo():Ua(e)&&e.M_.set("Unknown"))}function tI(n,t){if(n.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ve.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ed(n).u_(t)}function yz(n,t){n.x_.Oe(t),Ed(n).c_(t)}function nI(n){n.x_=new yme({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>n.D_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),Ed(n).start(),n.M_.g_()}function iI(n){return Ua(n)&&!Ed(n).jo()&&n.D_.size>0}function Ua(n){return 0===re(n).C_.size}function bz(n){n.x_=void 0}function T_e(n){return rI.apply(this,arguments)}function rI(){return rI=M(function*(n){n.D_.forEach((t,e)=>{tI(n,t)})}),rI.apply(this,arguments)}function x_e(n,t){return sI.apply(this,arguments)}function sI(){return sI=M(function*(n,t){bz(n),iI(n)?(n.M_.w_(t),nI(n)):n.M_.set("Unknown")}),sI.apply(this,arguments)}function C_e(n,t,e){return oI.apply(this,arguments)}function oI(){return oI=M(function*(n,t,e){if(n.M_.set("Online"),t instanceof g4&&2===t.state&&t.cause)try{yield(i=M(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){B("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield y0(n,i)}else if(t instanceof t0?n.x_.$e(t):t instanceof p4?n.x_.Je(t):n.x_.Ge(t),!e.isEqual(ve.min()))try{const i=yield lz(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(Zn.EMPTY_BYTE_STRING,u.snapshotVersion)),yz(s,l);const d=new Go(u.target,l,c,u.sequenceNumber);tI(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){B("RemoteStore","Failed to raise snapshot:",i),yield y0(n,i)}var i}),oI.apply(this,arguments)}function y0(n,t,e){return aI.apply(this,arguments)}function aI(){return aI=M(function*(n,t,e){if(!Ma(t))throw t;n.C_.add(1),yield Sd(n),n.M_.set("Offline"),e||(e=()=>lz(n.localStore)),n.asyncQueue.enqueueRetryable(M(function*(){B("RemoteStore","Retrying IndexedDB access"),yield e(),n.C_.delete(1),yield lg(n)}))}),aI.apply(this,arguments)}function Tz(n,t){return t().catch(e=>y0(n,e,t))}function Dd(n){return lI.apply(this,arguments)}function lI(){return lI=M(function*(n){const t=re(n),e=Ga(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;w_e(t);)try{const r=yield l_e(t.localStore,i);if(null===r){0===t.b_.length&&e.Zo();break}i=r.batchId,S_e(t,r)}catch(r){yield y0(t,r)}xz(t)&&Cz(t)}),lI.apply(this,arguments)}function w_e(n){return Ua(n)&&n.b_.length<10}function S_e(n,t){n.b_.push(t);const e=Ga(n);e.Ho()&&e.h_&&e.P_(t.mutations)}function xz(n){return Ua(n)&&!Ga(n).jo()&&n.b_.length>0}function Cz(n){Ga(n).start()}function D_e(n){return cI.apply(this,arguments)}function cI(){return cI=M(function*(n){Ga(n).E_()}),cI.apply(this,arguments)}function E_e(n){return uI.apply(this,arguments)}function uI(){return uI=M(function*(n){const t=Ga(n);for(const e of n.b_)t.P_(e.mutations)}),uI.apply(this,arguments)}function A_e(n,t,e){return dI.apply(this,arguments)}function dI(){return dI=M(function*(n,t,e){const i=n.b_.shift(),r=TA.from(i,t,e);yield Tz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Dd(n)}),dI.apply(this,arguments)}function I_e(n,t){return hI.apply(this,arguments)}function hI(){return hI=M(function*(n,t){var e;t&&Ga(n).h_&&(yield(e=M(function*(r,s){if(function c4(n){switch(n){default:return fe();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}(a=s.code)&&a!==N.ABORTED){const o=r.b_.shift();Ga(r).Yo(),yield Tz(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Dd(r)}var a}),function i(r,s){return e.apply(this,arguments)})(n,t)),xz(n)&&Cz(n)}),hI.apply(this,arguments)}function wz(n,t){return fI.apply(this,arguments)}function fI(){return fI=M(function*(n,t){const e=re(n);e.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const i=Ua(e);e.C_.add(3),yield Sd(e),i&&e.M_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.C_.delete(3),yield lg(e)}),fI.apply(this,arguments)}function gI(){return gI=M(function*(n,t){const e=re(n);t?(e.C_.delete(2),yield lg(e)):t||(e.C_.add(2),yield Sd(e),e.M_.set("Unknown"))}),gI.apply(this,arguments)}function Ed(n){return n.O_||(n.O_=function(e,i,r){const s=re(e);return s.A_(),new g_e(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:T_e.bind(null,n),Io:x_e.bind(null,n),a_:C_e.bind(null,n)}),n.v_.push(function(){var t=M(function*(e){e?(n.O_.Yo(),iI(n)?nI(n):n.M_.set("Unknown")):(yield n.O_.stop(),bz(n))});return function(e){return t.apply(this,arguments)}}())),n.O_}function Ga(n){return n.N_||(n.N_=function(e,i,r){const s=re(e);return s.A_(),new m_e(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{ho:D_e.bind(null,n),Io:I_e.bind(null,n),T_:E_e.bind(null,n),I_:A_e.bind(null,n)}),n.v_.push(function(){var t=M(function*(e){e?(n.N_.Yo(),yield Dd(n)):(yield n.N_.stop(),n.b_.length>0&&(B("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(e){return t.apply(this,arguments)}}())),n.N_}class mI{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new mI(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new H(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ad(n,t){if(An("AsyncQueue",`${t}: ${n}`),Ma(n))return new H(N.UNAVAILABLE,`${t}: ${n}`);throw n}class Id{constructor(t){this.comparator=t?(e,i)=>t(e,i)||oe.comparator(e.key,i.key):(e,i)=>oe.comparator(e.key,i.key),this.keyedMap=zp(),this.sortedSet=new qt(this.comparator)}static emptySet(t){return new Id(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Id)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Id;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Sz{constructor(){this.B_=new qt(oe.comparator)}track(t){const e=t.doc.key,i=this.B_.get(e);i?0!==t.type&&3===i.type?this.B_=this.B_.insert(e,t):3===t.type&&1!==i.type?this.B_=this.B_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.B_=this.B_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.B_=this.B_.remove(e):1===t.type&&2===i.type?this.B_=this.B_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.B_=this.B_.insert(e,{type:2,doc:t.doc}):fe():this.B_=this.B_.insert(e,t)}L_(){const t=[];return this.B_.inorderTraversal((e,i)=>{t.push(i)}),t}}class kd{constructor(t,e,i,r,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new kd(t,e,Id.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Up(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class k_e{constructor(){this.k_=void 0,this.listeners=[]}}class M_e{constructor(){this.queries=new $o(t=>zG(t),Up),this.onlineState="Unknown",this.q_=new Set}}function vI(){return vI=M(function*(n,t){const e=re(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new k_e),r)try{s.k_=yield e.onListen(i)}catch(o){const a=Ad(o,`Initialization of query '${hd(t.query)}' failed`);return void t.onError(a)}e.queries.set(i,s),s.listeners.push(t),t.Q_(e.onlineState),s.k_&&t.K_(s.k_)&&TI(e)}),vI.apply(this,arguments)}function bI(){return bI=M(function*(n,t){const e=re(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),bI.apply(this,arguments)}function R_e(n,t){const e=re(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const a of o.listeners)a.K_(r)&&(i=!0);o.k_=r}}i&&TI(e)}function N_e(n,t,e){const i=re(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function TI(n){n.q_.forEach(t=>{t.next()})}class xI{constructor(t,e,i){this.query=t,this.U_=e,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new kd(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.W_?this.z_(t)&&(this.U_.next(t),e=!0):this.j_(t,this.onlineState)&&(this.H_(t),e=!0),this.G_=t,e}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let e=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),e=!0),e}j_(t,e){return!t.fromCache||(!this.options.J_||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}z_(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(t){t=kd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}class Az{constructor(t){this.key=t}}class Iz{constructor(t){this.key=t}}class kz{constructor(t,e){this.query=t,this.ia=e,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ye(),this.mutatedKeys=Ye(),this._a=WG(t),this.aa=new Id(this._a)}get ua(){return this.ia}ca(t,e){const i=e?e.la:new Sz,r=e?e.aa:this.aa;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,d)=>{const h=r.get(u),f=Gp(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),g=!0):this.ha(h,f)||(i.track({type:2,doc:f}),g=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{aa:o,la:i,Zi:a,mutatedKeys:s}}ha(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((u,d)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return m(f)-m(p)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(i),r=null!=r&&r;const a=e&&!r?this.Ia():[],l=0===this.oa.size&&this.current&&!r?1:0,c=l!==this.sa;return this.sa=l,0!==o.length||c?{snapshot:new kd(this.query,t.aa,s,o,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({aa:this.aa,la:new Sz,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(e=>this.ia=this.ia.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.ia=this.ia.delete(e)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=Ye(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const e=[];return t.forEach(i=>{this.oa.has(i)||e.push(new Iz(i))}),this.oa.forEach(i=>{t.has(i)||e.push(new Az(i))}),e}da(t){this.ia=t.ls,this.oa=Ye();const e=this.ca(t.documents);return this.applyChanges(e,!0)}Aa(){return kd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class L_e{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class F_e{constructor(t){this.key=t,this.Ra=!1}}class V_e{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new $o(a=>zG(a),Up),this.fa=new Map,this.ga=new Set,this.pa=new qt(oe.comparator),this.ya=new Map,this.wa=new LA,this.Sa={},this.ba=new Map,this.Da=rc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function B_e(n,t){return CI.apply(this,arguments)}function CI(){return CI=M(function*(n,t){const e=function WI(n){const t=re(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y_e.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=U_e.bind(null,t),t.Va.a_=R_e.bind(null,t.eventManager),t.Va.Fa=N_e.bind(null,t.eventManager),t}(n);let i,r;const s=e.ma.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const o=yield function Cd(n,t){const e=re(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.qr.getTargetData(i,t).next(s=>s?(r=s,S.resolve(r)):e.qr.allocateTargetId(i).next(o=>(r=new Go(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ts=e.ts.insert(i.targetId,i),e.ns.set(t,i.targetId)),i})}(e.localStore,Zi(t)),a=e.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield function wI(n,t,e,i,r){return SI.apply(this,arguments)}(e,t,i,"current"===a,o.resumeToken),e.isPrimaryClient&&v0(e.remoteStore,o)}return r}),CI.apply(this,arguments)}function SI(){return SI=M(function*(n,t,e,i,r){n.va=(d,h,f)=>{return(p=M(function*(g,v,_,b){let x=v.view.ca(_);x.Zi&&(x=yield f0(g.localStore,v.query,!1).then(({documents:Y})=>v.view.ca(Y,x)));const E=b&&b.targetChanges.get(v.targetId),k=b&&null!=b.targetMismatches.get(v.targetId),U=v.view.applyChanges(x,g.isPrimaryClient,E,k);return OI(g,v.targetId,U.Ta),U.snapshot}),function m(g,v,_,b){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield f0(n.localStore,t,!0),o=new kz(t,s.ls),a=o.ca(s.documents),l=Xp.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);OI(n,e,c.Ta);const u=new L_e(t,e,o);return n.ma.set(t,u),n.fa.has(e)?n.fa.get(e).push(t):n.fa.set(e,[t]),c.snapshot}),SI.apply(this,arguments)}function H_e(n,t){return DI.apply(this,arguments)}function DI(){return DI=M(function*(n,t){const e=re(n),i=e.ma.get(t),r=e.fa.get(i.targetId);if(r.length>1)return e.fa.set(i.targetId,r.filter(s=>!Up(s,t))),void e.ma.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield wd(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),cg(e.remoteStore,i.targetId),Md(e,i.targetId)}).catch(ka))):(Md(e,i.targetId),yield wd(e.localStore,i.targetId,!0))}),DI.apply(this,arguments)}function EI(){return EI=M(function*(n,t,e){const i=function qI(n){const t=re(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=G_e.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=z_e.bind(null,t),t}(n);try{const r=yield function(o,a){const l=re(o),c=pn.now(),u=a.reduce((f,p)=>f.add(p.key),Ye());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=hr(),m=Ye();return l.ss.getEntries(f,u).next(g=>{p=g,p.forEach((v,_)=>{_.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(g=>{d=g;const v=[];for(const _ of a){const b=gme(_,d.get(_.key).overlayedDocument);null!=b&&v.push(new Uo(_.key,b,IG(b.value.mapValue),ln.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:YG(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new qt(Pe)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(i,r.batchId,e),yield zo(i,r.changes),yield Dd(i.remoteStore)}catch(r){const s=Ad(r,"Failed to persist write");e.reject(s)}}),EI.apply(this,arguments)}function Mz(n,t){return AI.apply(this,arguments)}function AI(){return AI=M(function*(n,t){const e=re(n);try{const i=yield function a_e(n,t){const e=re(n),i=t.snapshotVersion;let r=e.ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.ss.newChangeBuffer({trackRemovals:!0});r=e.ts;const a=[];t.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(e.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>e.qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var m,g,v;null!==t.targetMismatches.get(d)?f=f.withResumeToken(Zn.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),g=f,v=u,(0===(m=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(e.qr.updateTargetData(s,f))});let l=hr(),c=Ye();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function cz(n,t,e){let i=Ye(),r=Ye();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=hr();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:r}})}(s,o,t.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(ve.min())){const u=e.qr.getLastRemoteSnapshotVersion(s).next(d=>e.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return S.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.ts=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.ya.get(s);o&&(_e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ra=!0:r.modifiedDocuments.size>0?_e(o.Ra):r.removedDocuments.size>0&&(_e(o.Ra),o.Ra=!1))}),yield zo(e,i,t)}catch(i){yield ka(i)}}),AI.apply(this,arguments)}function Rz(n,t,e){const i=re(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=re(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&TI(l)}(i.eventManager,t),r.length&&i.Va.a_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function U_e(n,t,e){return II.apply(this,arguments)}function II(){return II=M(function*(n,t,e){const i=re(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ya.get(t),s=r&&r.key;if(s){let o=new qt(oe.comparator);o=o.insert(s,nn.newNoDocument(s,ve.min()));const a=Ye().add(s),l=new Kp(ve.min(),new Map,new qt(Pe),o,a);yield Mz(i,l),i.pa=i.pa.remove(s),i.ya.delete(t),LI(i)}else yield wd(i.localStore,t,!1).then(()=>Md(i,t,e)).catch(ka)}),II.apply(this,arguments)}function G_e(n,t){return kI.apply(this,arguments)}function kI(){return kI=M(function*(n,t){const e=re(n),i=t.batch.batchId;try{const r=yield function o_e(n,t){const e=re(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=S.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{const g=c.docVersions.get(p);_e(null!==g),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ye();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);PI(e,i,null),NI(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield zo(e,r)}catch(r){yield ka(r)}}),kI.apply(this,arguments)}function z_e(n,t,e){return MI.apply(this,arguments)}function MI(){return MI=M(function*(n,t,e){const i=re(n);try{const r=yield function(o,a){const l=re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(_e(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);PI(i,t,e),NI(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield zo(i,r)}catch(r){yield ka(r)}}),MI.apply(this,arguments)}function NI(n,t){(n.ba.get(t)||[]).forEach(e=>{e.resolve()}),n.ba.delete(t)}function PI(n,t,e){const i=re(n);let r=i.Sa[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function Md(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.fa.get(t))n.ma.delete(i),e&&n.Va.Fa(i,e);n.fa.delete(t),n.isPrimaryClient&&n.wa.Rr(t).forEach(i=>{n.wa.containsKey(i)||Nz(n,i)})}function Nz(n,t){n.ga.delete(t.path.canonicalString());const e=n.pa.get(t);null!==e&&(cg(n.remoteStore,e),n.pa=n.pa.remove(t),n.ya.delete(e),LI(n))}function OI(n,t,e){for(const i of e)i instanceof Az?(n.wa.addReference(i.key,t),W_e(n,i)):i instanceof Iz?(B("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,t),n.wa.containsKey(i.key)||Nz(n,i.key)):fe()}function W_e(n,t){const e=t.key,i=e.path.canonicalString();n.pa.get(e)||n.ga.has(i)||(B("SyncEngine","New document in limbo: "+e),n.ga.add(i),LI(n))}function LI(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const t=n.ga.values().next().value;n.ga.delete(t);const e=new oe(pt.fromString(t)),i=n.Da.next();n.ya.set(i,new F_e(e)),n.pa=n.pa.insert(e,i),v0(n.remoteStore,new Go(Zi(ud(e.path)),i,"TargetPurposeLimboResolution",Pr._e))}}function zo(n,t,e){return FI.apply(this,arguments)}function FI(){return FI=M(function*(n,t,e){const i=re(n),r=[],s=[],o=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{o.push(i.va(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=$A.Qi(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),i.Va.a_(r),yield(a=M(function*(c,u){const d=re(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>S.forEach(u,f=>S.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>S.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ma(h))throw h;B("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),g=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,g)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,s))}),FI.apply(this,arguments)}function q_e(n,t){return VI.apply(this,arguments)}function VI(){return VI=M(function*(n,t){const e=re(n);if(!e.currentUser.isEqual(t)){B("SyncEngine","User change. New user:",t.toKey());const i=yield az(e.localStore,t);e.currentUser=t,(s=e).ba.forEach(a=>{a.forEach(l=>{l.reject(new H(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield zo(e,i._s)}var s}),VI.apply(this,arguments)}function Y_e(n,t){const e=re(n),i=e.ya.get(t);if(i&&i.Ra)return Ye().add(i.key);{let r=Ye();const s=e.fa.get(t);if(!s)return r;for(const o of s){const a=e.ma.get(o);r=r.unionWith(a.view.ua)}return r}}class b0{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return M(function*(){e.serializer=ag(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function oz(n,t,e,i){return new s_e(n,t,e,i)}(this.persistence,new sz,t.initialUser,this.serializer)}createPersistence(t){return new FA(u0.jr,this.serializer)}createSharedClientState(t){return new gz}terminate(){var t=this;return M(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Rd{initialize(t,e){var i=this;return M(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Rz(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=q_e.bind(null,i.syncEngine),yield function pI(n,t){return gI.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new M_e}createDatastore(t){const e=ag(t.databaseInfo.databaseId),i=new p_e(t.databaseInfo);return new __e(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,s=t.asyncQueue,o=e=>Rz(this.syncEngine,e,0),a=mz.D()?new mz:new d_e,new b_e(i,r,s,o,a);var i,r,s,o,a}createSyncEngine(t,e){return function(r,s,o,a,l,c,u){const d=new V_e(r,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return function(){var t=M(function*(i){const r=re(i);B("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Sd(r),r.F_.shutdown(),r.M_.set("Unknown")});return function e(i){return t.apply(this,arguments)}}()(this.remoteStore)}}class T0{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):An("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class ave{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ri.UNAUTHENTICATED,this.clientId=oG.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=M(function*(a){B("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var t=this;return M(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(M(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ad(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function x0(n,t){return YI.apply(this,arguments)}function YI(){return YI=M(function*(n,t){n.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=M(function*(s){i.isEqual(s)||(yield az(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),YI.apply(this,arguments)}function KI(n,t){return XI.apply(this,arguments)}function XI(){return XI=M(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function QI(n){return ZI.apply(this,arguments)}(n);B("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>wz(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>wz(t.remoteStore,s)),n._onlineComponents=t}),XI.apply(this,arguments)}function ZI(){return ZI=M(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield x0(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function Bz(n){return"FirebaseError"===n.name?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;Rr("Error using user provided cache. Falling back to memory cache: "+e),yield x0(n,new b0)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield x0(n,new b0);return n._offlineComponents}),ZI.apply(this,arguments)}function C0(n){return JI.apply(this,arguments)}function JI(){return JI=M(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield KI(n,n._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield KI(n,new Rd))),n._onlineComponents}),JI.apply(this,arguments)}function tk(){return tk=M(function*(n){const t=yield C0(n),e=t.eventManager;return e.onListen=B_e.bind(null,t.syncEngine),e.onUnlisten=H_e.bind(null,t.syncEngine),e}),tk.apply(this,arguments)}function zz(n,t,e={}){const i=new Qn;return n.asyncQueue.enqueueAndForget(M(function*(){return function(s,o,a,l,c){const u=new T0({next:h=>{o.enqueueAndForget(()=>function yI(n,t){return bI.apply(this,arguments)}(s,d)),h.fromCache&&"server"===l.source?c.reject(new H(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new xI(a,u,{includeMetadataChanges:!0,J_:!0});return function _I(n,t){return vI.apply(this,arguments)}(s,d)}(yield function Pd(n){return tk.apply(this,arguments)}(n),n.asyncQueue,t,e,i)})),i.promise}function jz(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const Wz=new Map;function nk(n,t,e){if(!e)throw new H(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function qz(n){if(!oe.isDocumentKey(n))throw new H(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yz(n){if(oe.isDocumentKey(n))throw new H(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function w0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":fe()}function st(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new H(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=w0(n);throw new H(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class Xz{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new H(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new H(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function vve(n,t,e,i){if(!0===t&&!0===i)throw new H(N.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=jz(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ug{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new H(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xz(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new pge;switch(i.type){case"firstParty":return new vge(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Wz.get(e);i&&(B("ComponentProvider","Removing Datastore"),Wz.delete(e),i.terminate())}(this),Promise.resolve()}}class Ci{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ci(this.firestore,t,this._query)}}class kn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new kn(this.firestore,t,this._key)}}class Js extends Ci{constructor(t,e,i){super(t,e,ud(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new kn(this.firestore,null,new oe(t))}withConverter(t){return new Js(this.firestore,t,this._path)}}function bve(n,t,...e){if(n=Mo(n),nk("collection","path",t),n instanceof ug){const i=pt.fromString(t,...e);return Yz(i),new Js(n,null,i)}{if(!(n instanceof kn||n instanceof Js))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(t,...e));return Yz(i),new Js(n.firestore,null,i)}}class xve{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new QA(this,"async_queue_retry"),this.iu=()=>{const e=_0();e&&B("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const t=_0();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const e=_0();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const e=new Qn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}_u(){var t=this;return M(function*(){if(0!==t.Ya.length){try{yield t.Ya[0](),t.Ya.shift(),t.zo.reset()}catch(e){if(!Ma(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}t.Ya.length>0&&t.zo.ko(()=>t._u())}})()}ou(t){const e=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{throw this.eu=i,this.tu=!1,An("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=e,e}enqueueAfterDelay(t,e,i){this.su(),this.ru.indexOf(t)>-1&&(e=0);const r=mI.createAndSchedule(this,t,e,i,s=>this.au(s));return this.Xa.push(r),r}su(){this.eu&&fe()}verifyOperationInProgress(){}uu(){var t=this;return M(function*(){let e;do{e=t.Ja,yield e}while(e!==t.Ja)})()}cu(t){for(const e of this.Xa)if(e.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Xa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const e=this.Xa.indexOf(t);this.Xa.splice(e,1)}}class Yt extends ug{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new xve,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Zz(this),this._firestoreClient.terminate()}}function wve(n,t){const i="string"==typeof n?n:t||"(default)",r=function TH(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}("object"==typeof n?n:CH(),"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(n=>{const t=(n=>{var t,e;return null===(e=null===(t=zv())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]})(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),i]:[t.substring(0,e),i]})("firestore");s&&function yve(n,t,e,i={}){var r;const s=(n=st(n,ug))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=ri.MOCK_USER;else{a=function Oce(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uv(JSON.stringify({alg:"none",type:"JWT"})),Uv(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new H(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ri(c)}n._authCredentials=new gge(new rG(a,l))}}(r,...s)}return r}function Mn(n){return n._firestoreClient||Zz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Zz(n){var t,e,i;const r=n._freezeSettings(),s=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Yge(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,jz(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new ave(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class oc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new oc(Zn.fromBase64String(t))}catch(e){throw new H(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new oc(Zn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Od{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new H(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class t5{constructor(t){this._methodName=t}}class rk{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new H(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new H(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pe(this._lat,t._lat)||Pe(this._long,t._long)}}const Dve=/^__.*__$/;class Eve{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Uo(t,this.data,this.fieldMask,e,this.fieldTransforms):new gd(t,this.data,e,this.fieldTransforms)}}function i5(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class S0{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new S0(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Au(t),r}Ru(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return E0(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(0===t.length)throw this.mu("Document fields must not be empty");if(i5(this.Iu)&&Dve.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class Ave{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||ag(t)}pu(t,e,i,r=!1){return new S0({Iu:t,methodName:e,gu:i,path:an.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ld(n){const t=n._freezeSettings(),e=ag(n._databaseId);return new Ave(n._databaseId,!!t.ignoreUndefinedProperties,e)}function sk(n,t,e,i,r,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,t,e,r);ak("Data must be an object, but it was:",o,i);const a=l5(i,o);let l,c;if(s.merge)l=new dr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=fg(t,d,e);if(!o.contains(h))throw new H(N.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);u5(u,h)||u.push(h)}l=new dr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Eve(new xi(a),l,c)}function ac(n,t){if(c5(n=Mo(n)))return ak("Unsupported field value:",t,n),l5(n,t);if(n instanceof t5)return function(i,r){if(!i5(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=ac(a,r.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=Mo(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return ZG(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=pn.fromDate(i);return{timestampValue:_d(r.serializer,s)}}if(i instanceof pn){const s=new pn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_d(r.serializer,s)}}if(i instanceof rk)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof oc)return{bytesValue:y4(r.serializer,i._byteString)};if(i instanceof kn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:SA(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${w0(i)}`)}(n,t)}function l5(n,t){const e={};return bG(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ra(n,(i,r)=>{const s=ac(r,t.Eu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function c5(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof pn||n instanceof rk||n instanceof oc||n instanceof kn||n instanceof t5)}function ak(n,t,e){if(!c5(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=w0(e);throw t.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function fg(n,t,e){if((t=Mo(t))instanceof Od)return t._internalPath;if("string"==typeof t)return D0(n,t);throw E0("Field path arguments must be of type string or ",n,!1,void 0,e)}const Rve=new RegExp("[~\\*/\\[\\]]");function D0(n,t,e){if(t.search(Rve)>=0)throw E0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Od(...t.split("."))._internalPath}catch{throw E0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function E0(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new H(N.INVALID_ARGUMENT,a+n+l)}function u5(n,t){return n.some(e=>e.isEqual(t))}class lk{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Nve(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(A0("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Nve extends lk{data(){return super.data()}}function A0(n,t){return"string"==typeof t?D0(n,t):t instanceof Od?t._internalPath:t._delegate._internalPath}class Ove{convertValue(t,e="none"){switch(Oa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Bo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw fe()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ra(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new rk(bn(t.latitude),bn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=zy(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Lp(t));default:return null}}convertTimestamp(t){const e=Na(t);return new pn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=pt.fromString(t);_e(I4(i));const r=new Yl(i.get(1),i.get(3)),s=new oe(i.popFirst(5));return r.isEqual(e)||An(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}class lc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vd extends lk{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new R0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(A0("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class R0 extends Vd{data(t={}){return super.data(t)}}class Bd{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new lc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new R0(this._firestore,this._userDataWriter,i.key,i,new lc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new H(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new R0(r._firestore,r._userDataWriter,a.doc.key,a.doc,new lc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new R0(r._firestore,r._userDataWriter,a.doc.key,a.doc,new lc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Fve(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Fve(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}class za extends Ove{constructor(t){super(),this.firestore=t}convertBytes(t){return new oc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new kn(this.firestore,null,e)}}function Vve(n){n=st(n,Ci);const t=st(n.firestore,Yt),e=Mn(t),i=new za(t);return function d5(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new H(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),zz(e,n._query).then(r=>new Bd(t,i,n,r))}function Bve(n,t){const e=st(n.firestore,Yt),i=function Tve(n,t,...e){if(n=Mo(n),1===arguments.length&&(t=oG.newId()),nk("doc","path",t),n instanceof ug){const i=pt.fromString(t,...e);return qz(i),new kn(n,null,new oe(i))}{if(!(n instanceof kn||n instanceof Js))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pt.fromString(t,...e));return qz(i),new kn(n.firestore,n instanceof Js?n.converter:null,new oe(i))}}(n),r=function uk(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}(n.converter,t);return function gg(n,t){return function(i,r){const s=new Qn;return i.asyncQueue.enqueueAndForget(M(function*(){return function $_e(n,t,e){return EI.apply(this,arguments)}(yield function ek(n){return C0(n).then(t=>t.syncEngine)}(i),r,s)})),s.promise}(Mn(n),t)}(e,[sk(Ld(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ln.exists(!1))]).then(()=>i)}!function(t,e=!0){nd=Yv,Gu(new Rl("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Yt(new mge(i.getProvider("auth-internal")),new yge(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Jr(iG,"4.4.0",t),Jr(iG,"4.4.0","esm2017")}();class eo{constructor(t){return t}}const b5="firestore",fk=new W("angularfire2.firestore-instances");function eye(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new eo(i)}}const tye={provide:class Zve{constructor(){return iS(b5)}},deps:[[new qr,fk]]},nye={provide:eo,useFactory:function Jve(n,t){const e=function MH(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(o=>o.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}(b5,n,t);return e&&new eo(e)},deps:[[new qr,fk],Zf]};let iye=(()=>{class n{constructor(){Jr("angularfire",nS.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=xe({providers:[nye,tye]})}return n})();function rye(n,...t){return{ngModule:iye,providers:[{provide:fk,useFactory:eye(n),multi:!0,deps:[Re,Ln,NH,PH,[new qr,B$],[new qr,ude],...t]}]}}const cc=Qf(Bve,!0),fr=Qf(bve,!0),uc=Qf(Vve,!0),sye=Qf(wve,!0);class O0{}class L0{}class to{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof to?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new to;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof to?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class oye{encodeKey(t){return T5(t)}encodeValue(t){return T5(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const lye=/%(\d[a-f0-9])/gi,cye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function T5(n){return encodeURIComponent(n).replace(lye,(t,e)=>cye[e]??t)}function F0(n){return`${n}`}class ja{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new oye,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function aye(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(F0):[F0(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ja({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(F0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(F0(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class uye{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function x5(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function C5(n){return typeof Blob<"u"&&n instanceof Blob}function w5(n){return typeof FormData<"u"&&n instanceof FormData}class mg{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function dye(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new to),this.context||(this.context=new uye),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new ja,this.urlWithParams=e}serializeBody(){return null===this.body?null:x5(this.body)||C5(this.body)||w5(this.body)||function hye(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ja?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||w5(this.body)?null:C5(this.body)?this.body.type||null:x5(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ja?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new mg(e,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var Hd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Hd||{});class pk{constructor(t,e=200,i="OK"){this.headers=t.headers||new to,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class gk extends pk{constructor(t={}){super(t),this.type=Hd.ResponseHeader}clone(t={}){return new gk({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class $d extends pk{constructor(t={}){super(t),this.type=Hd.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new $d({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class S5 extends pk{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function mk(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let jo=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof mg)s=e;else{let l,c;l=r.headers instanceof to?r.headers:new to(r.headers),r.params&&(c=r.params instanceof ja?r.params:new ja({fromObject:r.params})),s=new mg(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Se(s).pipe(Nu(l=>this.handler.handle(l)));if(e instanceof mg||"events"===r.observe)return o;const a=o.pipe(_i(l=>l instanceof $d));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ue(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ue(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ue(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ue(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ja).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,mk(r,i))}post(e,i,r={}){return this.request("POST",e,mk(r,i))}put(e,i,r={}){return this.request("PUT",e,mk(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(L(O0))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function A5(n,t){return t(n)}function pye(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const mye=new W(""),_g=new W(""),I5=new W("");function _ye(){let n=null;return(t,e)=>{null===n&&(n=(se(mye,{optional:!0})??[]).reduceRight(pye,A5));const i=se(U_),r=i.add();return n(t,e).pipe(Rf(()=>i.remove(r)))}}let k5=(()=>{class n extends O0{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=se(U_)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(_g),...this.injector.get(I5,[])]));this.chain=r.reduceRight((s,o)=>function gye(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),A5)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Rf(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(L(L0),L(xr))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const Tye=/^\)\]\}',?\n/;let R5=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new P(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?zn(i.\u0275loadImpl()):Se(null)).pipe(tr(()=>new ct(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((m,g)=>o.setRequestHeader(m,g.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const m=e.detectContentTypeHeader();null!==m&&o.setRequestHeader("Content-Type",m)}if(e.responseType){const m=e.responseType.toLowerCase();o.responseType="json"!==m?m:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const m=o.statusText||"OK",g=new to(o.getAllResponseHeaders()),v=function xye(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new gk({headers:g,status:o.status,statusText:m,url:v}),l},u=()=>{let{headers:m,status:g,statusText:v,url:_}=c(),b=null;204!==g&&(b=typeof o.response>"u"?o.responseText:o.response),0===g&&(g=b?200:0);let x=g>=200&&g<300;if("json"===e.responseType&&"string"==typeof b){const E=b;b=b.replace(Tye,"");try{b=""!==b?JSON.parse(b):null}catch(k){b=E,x&&(x=!1,b={error:k,text:b})}}x?(s.next(new $d({body:b,headers:m,status:g,statusText:v,url:_||void 0})),s.complete()):s.error(new S5({error:b,headers:m,status:g,statusText:v,url:_||void 0}))},d=m=>{const{url:g}=c(),v=new S5({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:g||void 0});s.error(v)};let h=!1;const f=m=>{h||(s.next(c()),h=!0);let g={type:Hd.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),"text"===e.responseType&&o.responseText&&(g.partialText=o.responseText),s.next(g)},p=m=>{let g={type:Hd.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",f),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:Hd.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",f),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(L(zV))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();const _k=new W("XSRF_ENABLED"),N5=new W("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),P5=new W("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class O5{}let Sye=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=OV(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(L(Lt),L(Ii),L(N5))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac})}return n})();function Dye(n,t){const e=n.url.toLowerCase();if(!se(_k)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=se(O5).getToken(),r=se(P5);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Wa=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Wa||{});function Eye(...n){const t=[jo,R5,k5,{provide:O0,useExisting:k5},{provide:L0,useExisting:R5},{provide:_g,useValue:Dye,multi:!0},{provide:_k,useValue:!0},{provide:O5,useClass:Sye}];for(const e of n)t.push(...e.\u0275providers);return function Px(n){return{\u0275providers:n}}(t)}const L5=new W("LEGACY_INTERCEPTOR_FN");function Aye(){return function dc(n,t){return{\u0275kind:n,\u0275providers:t}}(Wa.LegacyInterceptors,[{provide:L5,useFactory:_ye},{provide:_g,useExisting:L5,multi:!0}])}let Iye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=xe({providers:[Eye(Aye())]})}return n})(),B0=(()=>{class n{constructor(e){this.http=e,this.firestore=se(eo)}getMusic(){var e=this;return M(function*(){const i=fr(e.firestore,"music");return(yield uc(i)).docs.map(s=>s.data())})()}createMusic(e){var i=this;return M(function*(){const r=fr(i.firestore,"music");cc(r,{name:e.name,date:e.date,score:e.score,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(jo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),H0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/movies.xml",this.firestore=se(eo)}getMovies(){var e=this;return M(function*(){const i=fr(e.firestore,"movies");return(yield uc(i)).docs.map(s=>s.data())})()}createMovies(e){var i=this;return M(function*(){const r=fr(i.firestore,"movies");cc(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(jo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/libros.xml",this.firestore=se(eo)}getBook(){var e=this;return M(function*(){const i=fr(e.firestore,"books");return(yield uc(i)).docs.map(s=>s.data())})()}createBook(e){var i=this;return M(function*(){const r=fr(i.firestore,"books");cc(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(jo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml",this.firestore=se(eo)}getGames(){var e=this;return M(function*(){const i=fr(e.firestore,"games");return(yield uc(i)).docs.map(s=>s.data())})()}createGames(e){var i=this;return M(function*(){const r=fr(i.firestore,"games");cc(r,{name:e.name,date:e.date,score:e.score,type:null,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(jo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/series.xml",this.firestore=se(eo)}getSeries(){var e=this;return M(function*(){const i=fr(e.firestore,"series");return(yield uc(i)).docs.map(s=>s.data())})()}createSeries(e){var i=this;return M(function*(){const r=fr(i.firestore,"series");cc(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(jo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),z0=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/animes.xml",this.firestore=se(eo)}getAnimes(){var e=this;return M(function*(){const i=fr(e.firestore,"animes");return(yield uc(i)).docs.map(s=>s.data())})()}createAnimes(e){var i=this;return M(function*(){const r=fr(i.firestore,"animes");cc(r,{name:e.name,date:e.date,score:e.score,type:e.type,image:e.image,visible:!0})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(jo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vg=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),F5=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(qi),y(Xe))};static#t=this.\u0275dir=K({type:n})}return n})(),hc=(()=>{class n extends F5{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=wn(n)))(r||n)}}();static#t=this.\u0275dir=K({type:n,features:[ht]})}return n})();const ns=new W("NgValueAccessor"),Fye={provide:ns,useExisting:_t(()=>yg),multi:!0},Bye=new W("CompositionEventMode");let yg=(()=>{class n extends F5{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vye(){const n=ma()?ma().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(qi),y(Xe),y(Bye,8))};static#t=this.\u0275dir=K({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&X("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ft([Fye]),ht]})}return n})();const Fi=new W("NgValidators"),Ya=new W("NgAsyncValidators");function U5(n){return function qa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function j0(n){return null}function Y5(n){return null!=n}function K5(n){return lf(n)?zn(n):n}function X5(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Q5(n,t){return t.map(e=>e(n))}function Z5(n){return n.map(t=>function $ye(n){return!n.validate}(t)?t:e=>t.validate(e))}function vk(n){return null!=n?function J5(n){if(!n)return null;const t=n.filter(Y5);return 0==t.length?null:function(e){return X5(Q5(e,t))}}(Z5(n)):null}function yk(n){return null!=n?function ej(n){if(!n)return null;const t=n.filter(Y5);return 0==t.length?null:function(e){return function Oye(...n){const t=_m(n),{args:e,keys:i}=KB(n),r=new ct(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;On(e[u]).subscribe(It(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?XB(i,a):a),s.complete())}))}});return t?r.pipe(p1(t)):r}(Q5(e,t).map(K5)).pipe(Ue(X5))}}(Z5(n)):null}function tj(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function bk(n){return n?Array.isArray(n)?n:[n]:[]}function W0(n,t){return Array.isArray(n)?n.includes(t):n===t}function rj(n,t){const e=bk(t);return bk(n).forEach(r=>{W0(e,r)||e.push(r)}),e}function sj(n,t){return bk(t).filter(e=>!W0(n,e))}class oj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=vk(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=yk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ji extends oj{get formDirective(){return null}get path(){return null}}class Ka extends oj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class aj{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Tk=(()=>{class n extends aj{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ka,2))};static#t=this.\u0275dir=K({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&xt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ht]})}return n})(),lj=(()=>{class n extends aj{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ji,10))};static#t=this.\u0275dir=K({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&xt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ht]})}return n})();const bg="VALID",Y0="INVALID",Ud="PENDING",Tg="DISABLED";function wk(n){return(K0(n)?n.validators:n)||null}function Sk(n,t){return(K0(t)?t.asyncValidators:n)||null}function K0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class hj{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===bg}get invalid(){return this.status===Y0}get pending(){return this.status==Ud}get disabled(){return this.status===Tg}get enabled(){return this.status!==Tg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(rj(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(rj(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(sj(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(sj(t,this._rawAsyncValidators))}hasValidator(t){return W0(this._rawValidators,t)}hasAsyncValidator(t){return W0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ud,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Tg,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bg,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bg||this.status===Ud)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tg:bg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ud,this._hasOwnPendingAsyncValidator=!0;const e=K5(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ne,this.statusChanges=new ne}_calculateStatus(){return this._allControlsDisabled()?Tg:this.errors?Y0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ud)?Ud:this._anyControlsHaveStatus(Y0)?Y0:bg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){K0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function jye(n){return Array.isArray(n)?vk(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Wye(n){return Array.isArray(n)?yk(n):n||null}(this._rawAsyncValidators)}}class Dk extends hj{constructor(t,e,i){super(wk(e),Sk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function dj(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new P(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function uj(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new P(1e3,"");if(!i[e])throw new P(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Gd=new W("CallSetDisabledState",{providedIn:"root",factory:()=>X0}),X0="always";function xg(n,t,e=X0){Ek(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Kye(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&fj(n,t)})}(n,t),function Qye(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Xye(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&fj(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Yye(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function J0(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ek(n,t){const e=function nj(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(tj(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function ij(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(tj(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();J0(t._rawValidators,r),J0(t._rawAsyncValidators,r)}function fj(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const n0e={provide:Ji,useExisting:_t(()=>tb)},Cg=(()=>Promise.resolve())();let tb=(()=>{class n extends Ji{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ne,this.form=new Dk({},vk(e),yk(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Cg.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),xg(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Cg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Cg.then(()=>{const i=this._findContainer(e.path),r=new Dk({});(function pj(n,t){Ek(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Cg.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Cg.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function gj(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(y(Fi,10),y(Ya,10),y(Gd,8))};static#t=this.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&X("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ft([n0e]),ht]})}return n})();function mj(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function _j(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vj=class extends hj{constructor(t=null,e,i){super(wk(e),Sk(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),K0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=_j(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){mj(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){mj(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){_j(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},s0e={provide:Ka,useExisting:_t(()=>nb)},Tj=(()=>Promise.resolve())();let nb=(()=>{class n extends Ka{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new vj,this._registered=!1,this.name="",this.update=new ne,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function kk(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===yg?e=s:function e0e(n){return Object.getPrototypeOf(n.constructor)===hc}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Ik(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Tj.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&gi(i);Tj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Q0(n,t){return[...t.path,n]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ji,9),y(Fi,10),y(Ya,10),y(ns,10),y(ti,8),y(Gd,8))};static#t=this.\u0275dir=K({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ft([s0e]),ht,Rt]})}return n})(),xj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),wj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=xe({})}return n})();const g0e={provide:ns,useExisting:_t(()=>ib),multi:!0};function Mj(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let ib=(()=>{class n extends hc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=Mj(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function m0e(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=wn(n)))(r||n)}}();static#t=this.\u0275dir=K({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&X("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ft([g0e]),ht]})}return n})(),rb=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Mj(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(y(Xe),y(qi),y(ib,9))};static#t=this.\u0275dir=K({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const _0e={provide:ns,useExisting:_t(()=>Pk),multi:!0};function Rj(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Pk=(()=>{class n extends hc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);r.push(c)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function v0e(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=wn(n)))(r||n)}}();static#t=this.\u0275dir=K({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&X("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ft([_0e]),ht]})}return n})(),sb=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Rj(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Rj(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(y(Xe),y(qi),y(Pk,9))};static#t=this.\u0275dir=K({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),fc=(()=>{class n{constructor(){this._validator=j0}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):j0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=K({type:n,features:[Rt]})}return n})();const T0e={provide:Fi,useExisting:_t(()=>ob),multi:!0};let ob=(()=>{class n extends fc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=gi,this.createValidator=e=>U5}enabled(e){return e}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=wn(n)))(r||n)}}();static#t=this.\u0275dir=K({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&be("required",r._enabled?"":null)},inputs:{required:"required"},features:[ft([T0e]),ht]})}return n})(),E0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=xe({imports:[wj]})}return n})(),Ok=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Gd,useValue:e.callSetDisabledState??X0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=xe({imports:[E0e]})}return n})();function I0e(n,t){if(1&n&&(T(0,"option",14),ee(1),C()),2&n){const e=t.$implicit;R("value",e),I(1),ar(e)}}function k0e(n,t){if(1&n&&(T(0,"option",15),ee(1),C()),2&n){const e=t.$implicit,i=Q();R("value",e)("selected",e===i.opAnios[0]),I(1),ar(e)}}function M0e(n,t){if(1&n&&(T(0,"option",14),ee(1),C()),2&n){const e=t.$implicit;R("value",e),I(1),ar(e)}}function R0e(n,t){1&n&&(T(0,"span",27),ee(1,"\u2605"),C()),2&n&&xt("filled",t.$implicit<=Q().$implicit.score)}const N0e=function(){return[1,2,3,4,5]};function P0e(n,t){if(1&n&&(T(0,"div",16)(1,"div",17)(2,"div",18),J(3,"img",19),C(),T(4,"div",20)(5,"h5",21),ee(6),C(),T(7,"p"),ee(8),C(),T(9,"div",22)(10,"div",23)(11,"p",24),ee(12),C()()()(),T(13,"div",25),$(14,R0e,2,2,"span",26),C()()()),2&n){const e=t.$implicit,i=Q();Xn("border-color",i.getColor(e.score)),I(3),R("src",e.image,Os),I(3),pi(" ",e.name,""),I(2),pi(" ",e.date,""),I(3),Xn("background-color",i.getColorByType(e.type)),I(1),pi(" ",e.type,""),I(2),R("ngForOf",function s2(n,t,e){const i=zi()+n,r=F();return r[i]===He?Fs(r,i,e?t.call(e):t()):function ef(n,t){return n[t]}(r,i)}(9,N0e))}}const O0e=function(n,t){return{"uil-sort-amount-up":n,"uil-sort-amount-down":t}};let L0e=(()=>{class n{constructor(e,i,r,s,o,a,l,c){this.musicService=e,this.movieService=i,this.libroService=r,this.gameService=s,this.seriesService=o,this.animeService=a,this.router=l,this.dataService=c,this.data=[],this.resultFilter=[],this.movies=[],this.animes=[],this.message="",this.opTipos=[],this.opAnios=[],this.opCalificacion=[],this.selectedCategory="Todos",this.selectedYear=this.opAnios[0],this.selectedScore="Todos",this.currentSortOrder="desc",this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","lightblue","lightGreen","yellow","Pink","White","lightYellow","green","Purple"]],this.opAnios=["2024","2023","2022","2021","2020","2019"],this.opCalificacion=["0","1","2","3","4","5"]}ngOnInit(){this.dataService.typeData||this.router.navigate(["/"]),this.router.events.subscribe(e=>{this.message=this.dataService.typeData,this.loadData()}),this.selectedYear=this.opAnios[0]}loadData(){var e=this;return M(function*(){"Peliculas"===e.message?e.data=yield e.loadDataForType(e.movieService.getMovies()):"Series"===e.message?e.data=yield e.loadDataForType(e.seriesService.getSeries()):"Animes"===e.message?e.data=yield e.loadDataForType(e.animeService.getAnimes()):"Juegos"===e.message?e.data=yield e.loadDataForType(e.gameService.getGames()):"Libros"===e.message?e.data=yield e.loadDataForType(e.libroService.getBook()):"Musica"===e.message&&(e.data=yield e.loadDataForType(e.musicService.getMusic())),e.resultFilter=e.sortData(e.data),console.log(e.resultFilter[0].date),e.resultFilter.forEach(i=>{i.image="data:image/jpg;base64,"+i.image}),e.applyFilters()})()}loadDataForType(e){var i=this;return M(function*(){return(yield e).map(s=>(s.date=i.convertDate(s.date),s))})()}convertDate(e){var r=e.toString().toLowerCase().split("-");return parseInt(r[2],10),r[2]+"-"+r[1]+"-"+r[0]}sortData(e){return e.sort((i,r)=>{const[s,o,a]=i.date.split("-").map(Number),[l,c,u]=r.date.split("-").map(Number);return u!==a?u-a:c!==o?c-o:l-s})}getColorByType(e){const i=this.opTipos[0].indexOf(e);return-1!==i?this.opTipos[1][i]:"greenyellow"}convert(e){var r=e.toString().toLowerCase().split("/");return parseInt(r[2],10)}applyFilters(){this.resultFilter=this.data.filter(e=>"Todos"===this.selectedCategory||e.type===this.selectedCategory).filter(e=>this.convertYear(e)).filter(e=>"Todos"===this.selectedScore||e.score===this.selectedScore)}convertYear(e){const r=e.date.toString().toLowerCase().split("-");return parseInt(r[2],10)+""===this.selectedYear}filterType(e){this.selectedCategory=e.target.value,this.applyFilters()}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}filterScore(e){this.selectedScore=e.target.value,this.applyFilters()}sortDataByScore(){this.resultFilter=this.resultFilter.sort((e,i)=>{const r=e.score,s=i.score;return"asc"===this.currentSortOrder?r-s:s-r}),this.currentSortOrder="asc"===this.currentSortOrder?"desc":"asc"}getColor(e){return 5==e?"gold":"#ded8cf"}static#e=this.\u0275fac=function(i){return new(i||n)(y(B0),y(H0),y($0),y(U0),y(G0),y(z0),y(vi),y(vg))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-workplace"]],decls:24,vars:9,consts:[[1,"d-flex","flex-wrap"],[1,"col-12","col-sm-12","col-md-6","col-lg-9"],[1,"list",2,"display","flex","flex-wrap","wrap"],[2,"margin-left","2%","margin-top","3%"],[1,"filter","col-lg-10","col-12",2,"margin-top","3%","text-align","end","margin-bottom","3%"],["id","opTipos",3,"change"],["disabled","","selected","",2,"display","none"],[3,"value",4,"ngFor","ngForOf"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","opCalificacion",3,"change"],[3,"click"],[1,"uil",3,"ngClass"],["class","card col-lg-3","style","margin-bottom: 3%; margin-left: 2%; margin-right: 2%;",3,"border-color",4,"ngFor","ngForOf"],[3,"value"],[3,"value","selected"],[1,"card","col-lg-3",2,"margin-bottom","3%","margin-left","2%","margin-right","2%"],[1,"row"],[1,"left","col-lg-4","col-3",2,"text-align","center","margin","1%"],["alt","#",1,"imagen",3,"src"],[1,"right","col-lg-6","col-6",2,"margin","1%"],[2,"font-size","1.1rem"],[1,"row",2,"margin-top","10%"],[1,"type","col-lg-12","col-12"],[1,"etiqueta"],[1,"score","col-lg-1","col-2"],["class","star",3,"filled",4,"ngFor","ngForOf"],[1,"star"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),ee(5),C()(),T(6,"div",4)(7,"select",5),X("change",function(o){return r.filterType(o)}),T(8,"option",6),ee(9,"Categoria"),C(),T(10,"option"),ee(11,"Todos"),C(),$(12,I0e,2,2,"option",7),C(),T(13,"select",8),X("change",function(o){return r.filterYear(o)}),$(14,k0e,2,3,"option",9),C(),T(15,"select",10),X("change",function(o){return r.filterScore(o)}),T(16,"option",6),ee(17,"Calificacion"),C(),T(18,"option"),ee(19,"Todos"),C(),$(20,M0e,2,2,"option",7),C(),T(21,"button",11),X("click",function(){return r.sortDataByScore()}),J(22,"i",12),C()(),$(23,P0e,15,10,"div",13),C()()()),2&i&&(I(5),pi("Lista de ",r.message,""),I(7),R("ngForOf",r.opTipos[0]),I(2),R("ngForOf",r.opAnios),I(6),R("ngForOf",r.opCalificacion),I(2),R("ngClass",yl(6,O0e,"asc"===r.currentSortOrder,"desc"===r.currentSortOrder)),I(1),R("ngForOf",r.resultFilter))},dependencies:[Sw,mi,rb,sb],styles:['.list[_ngcontent-%COMP%]{max-height:calc(105vh - 60px);overflow-y:auto}.card[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text);border-style:solid;border-color:var(--color-text);font-size:.8rem}.etiqueta[_ngcontent-%COMP%]{width:50%;background-color:#ff0;color:#000;box-shadow:0 0 29px #3c3c3c6b;border-radius:5px;font-family:"Hedvig Letters Serif",serif;text-align:center;text-decoration:none}.imagen[_ngcontent-%COMP%]{width:90%;height:130px}.star[_ngcontent-%COMP%]{font-size:18px;color:gray;cursor:pointer}.filled[_ngcontent-%COMP%]{color:gold}select[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}button[_ngcontent-%COMP%]{border:none;background:none;font-size:1.2rem;color:var(--color-text);margin-left:1%}@media (max-width:1000px){.card[_ngcontent-%COMP%]{width:100%}.imagen[_ngcontent-%COMP%]{width:100%;height:100px;margin:15%}.etiqueta[_ngcontent-%COMP%]{font-size:.8rem}select[_ngcontent-%COMP%]{font-size:1rem}}']})}return n})(),Uj=(()=>{class n{constructor(e,i){this.router=e,this.dataService=i,this.anioActual=""}ngOnInit(){this.anioActual=(new Date).getFullYear()+""}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}navegarCreate(){this.router.navigate(["/Create"])}navegarTier(){this.router.navigate(["/Tier"])}navegarLibrary(){this.router.navigate(["/library"])}toggleMobileMenu(){const e=document.getElementById("menu");e.style.display="block"===e.style.display?"none":"block"}static#e=this.\u0275fac=function(i){return new(i||n)(y(vi),y(vg))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-sidebar"]],decls:38,vars:0,consts:[[1,"menu","px-4"],[1,"row","gx-5"],[1,"column","col-lg-12",2,"background-color","#1F1D3A"],[1,"top","col-lg-12",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"link",3,"click"],[1,"uil","uil-subject"],[1,"columnDesc","col-lg-12",2,"background-color","#1F1D3A"],[2,"margin-top","2%","margin-bottom","5%"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),J(5,"img",5),C()(),T(6,"div",6),X("click",function(){return r.navegarLibrary()}),T(7,"h5"),J(8,"i",7),ee(9," Biblioteca"),C()(),T(10,"div",6),X("click",function(){return r.navegarTier()}),T(11,"h5"),J(12,"i",7),ee(13," Tier"),C()()(),T(14,"div",8)(15,"div",9)(16,"h4"),ee(17,"Descubrir:"),C()(),T(18,"div",6),X("click",function(){return r.navegarAComponenteDestino("Peliculas")}),T(19,"h5"),J(20,"i",7),ee(21," Peliculas"),C()(),T(22,"div",6),X("click",function(){return r.navegarAComponenteDestino("Series")}),T(23,"h5"),J(24,"i",7),ee(25," Series"),C()(),T(26,"div",6),X("click",function(){return r.navegarAComponenteDestino("Animes")}),T(27,"h5"),J(28,"i",7),ee(29," Anime"),C()(),T(30,"div",6),X("click",function(){return r.navegarAComponenteDestino("Juegos")}),T(31,"h5"),J(32,"i",7),ee(33," Juegos"),C()(),T(34,"div",6),X("click",function(){return r.navegarAComponenteDestino("Libros")}),T(35,"h5"),J(36,"i",7),ee(37," Libros"),C()()()()())},styles:[".column[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px}.columnDesc[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px;height:calc(84vh - 60px)}.imgTitle[_ngcontent-%COMP%]{width:140px;height:90px;margin-left:2%;margin-top:2%}.link[_ngcontent-%COMP%]{margin-bottom:5%;cursor:pointer}"]})}return n})(),Gj=(()=>{class n{constructor(e){this.http=e,this.xmlUrl="assets/data/games.xml",this.firestore=se(eo)}getReco(){var e=this;return M(function*(){const i=fr(e.firestore,"recomendacion");return(yield uc(i)).docs.map(s=>s.data())})()}createReco(e,i){var r=this;return M(function*(){const s=fr(r.firestore,"recomendacion");cc(s,{name:e,type:i})})()}static#e=this.\u0275fac=function(i){return new(i||n)(L(jo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),F0e=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u){this.router=e,this.dataService=i,this.recoService=r,this.musicService=s,this.movieService=o,this.libroService=a,this.gameService=l,this.seriesService=c,this.animeService=u,this.tipos=["Peliculas","Series","Animes","Juegos","Libros","Musica"],this.recomendaciones=[],this.single=[],this.single2=[],this.valor=0,this.dataMovie=[],this.years=[2023,2022],this.progress={2023:30,2022:70}}getProgressWidth(e){return(this.progress[e]||0)+"%"}ngOnInit(){var e=this;return M(function*(){e.single2=yield e.loadData(2022),e.single=yield e.loadData(2023),yield e.readReco()})()}loadData(e){var i=this;return M(function*(){var r=yield i.movieService.getMovies(),s=yield i.seriesService.getSeries(),o=yield i.animeService.getAnimes(),a=yield i.gameService.getGames(),l=yield i.libroService.getBook(),c=yield i.musicService.getMusic();return[{name:"Peliculas",value:i.cantidadPorAnio(r,e)},{name:"Series",value:i.cantidadPorAnio(s,e)},{name:"Animes",value:i.cantidadPorAnio(o,e)},{name:"Juegos",value:i.cantidadPorAnio(a,e)},{name:"Libros",value:i.cantidadPorAnio(l,e)},{name:"Musica",value:i.cantidadPorAnio(c,e)}]})()}cantidadPorAnio(e,i){return e.filter(s=>this.convert(s.date)===i).length}convert(e){var r=e.toString().toLowerCase().split("-");return parseInt(r[0],10)}filterByScore(e){const i=(new Date).getFullYear();return e.filter(r=>r.score>=5&&this.convert(r.date)==i)}filterByTipo(e,i){return e.filter(r=>r.type===i)}saveReco(){this.recoService.createReco(this.nameReco,this.tipo),this.readReco()}readReco(){var e=this;return M(function*(){e.recomendaciones=yield e.recoService.getReco()})()}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}navegarCreate(){this.router.navigate(["/Create"])}navegarTier(){this.router.navigate(["/Tier"])}navegarList(){this.router.navigate(["/ListNext"])}static#e=this.\u0275fac=function(i){return new(i||n)(y(vi),y(vg),y(Gj),y(B0),y(H0),y($0),y(U0),y(G0),y(z0))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-library"]],decls:61,vars:0,consts:[[1,"container"],[1,"body"],[1,"top","col-lg-12"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"menu","px-4","text-center"],[1,"row","gx-5"],[1,"col"],[1,"p-3","box",3,"click"],[1,"uil","uil-film"],[1,"uil","uil-video"],[1,"uil","uil-airplay"],[1,"uil","uil-basketball-hoop"],[1,"uil","uil-book-open"],[1,"uil","uil-volume"],[2,"margin-top","5%","margin-left","3%"],[1,"menu2","px-4","text-center"],[1,"uil","uil-subject"],[1,"uil","uil-chart-pie"],[1,"p-3","box"],[1,"uil","uil-create-dashboard"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),J(4,"img",4),C()(),T(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),X("click",function(){return r.navegarAComponenteDestino("Peliculas")}),J(9,"i",9),T(10,"h5"),ee(11,"Peliculas"),C()()(),T(12,"div",7)(13,"div",8),X("click",function(){return r.navegarAComponenteDestino("Series")}),J(14,"i",10),T(15,"h5"),ee(16,"Series"),C()()(),T(17,"div",7)(18,"div",8),X("click",function(){return r.navegarAComponenteDestino("Animes")}),J(19,"i",11),T(20,"h5"),ee(21,"Animes"),C()()(),T(22,"div",7)(23,"div",8),X("click",function(){return r.navegarAComponenteDestino("Juegos")}),J(24,"i",12),T(25,"h5"),ee(26,"VideoJuegos"),C()()(),T(27,"div",7)(28,"div",8),X("click",function(){return r.navegarAComponenteDestino("Libros")}),J(29,"i",13),T(30,"h5"),ee(31,"Libros"),C()()(),T(32,"div",7)(33,"div",8),X("click",function(){return r.navegarAComponenteDestino("Musica")}),J(34,"i",14),T(35,"h5"),ee(36,"Musica"),C()()()()(),T(37,"div",15),ee(38," Otras ... "),C(),T(39,"div",16)(40,"div",6)(41,"div",7)(42,"div",8),X("click",function(){return r.navegarTier()}),J(43,"i",17),T(44,"h5"),ee(45,"Tier"),C()()(),T(46,"div",7)(47,"div",8),X("click",function(){return r.navegarList()}),J(48,"i",18),T(49,"h5"),ee(50,"Recomendaciones"),C()()(),T(51,"div",7)(52,"div",19),J(53,"i",18),T(54,"h5"),ee(55,"Estadisticas"),C()()(),T(56,"div",7)(57,"div",8),X("click",function(){return r.navegarCreate()}),J(58,"i",20),T(59,"h5"),ee(60,"Crear"),C()()()()()()())},styles:[".body[_ngcontent-%COMP%]{background-color:#1f1d3a;margin:5%;padding-bottom:10%;border-radius:5px}.top[_ngcontent-%COMP%]{padding-top:3%}.box[_ngcontent-%COMP%]{cursor:pointer;background-color:#373458;color:#fff;border-radius:5px;margin-top:10%}.box[_ngcontent-%COMP%]:hover{background-color:#504c81}i[_ngcontent-%COMP%]{font-size:50px}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}"]})}return n})();class V0e{static getFormData(t){var e=new FormData;for(var i in t)e.append(i,t[i]);return e}static imageToByte(t){return new Promise((i,r)=>{const s=new FileReader;s.onload=o=>{i(o.target.result.split("base64,")[1])},s.readAsDataURL(t),s.onerror=r})}static byteToImage(t){return this._sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+t)}}function B0e(n,t){if(1&n&&(T(0,"option",19),ee(1),C()),2&n){const e=t.$implicit;R("value",e),I(1),ar(e)}}function H0e(n,t){if(1&n&&(T(0,"option",19),ee(1),C()),2&n){const e=t.$implicit;R("value",e),I(1),ar(e)}}function $0e(n,t){if(1&n){const e=Yn();T(0,"div",7)(1,"div",8)(2,"div",9)(3,"label"),ee(4,"Tipo:"),C()(),T(5,"div",10)(6,"select",20),X("ngModelChange",function(r){return Bt(e),Ht(Q().data.type=r)}),$(7,H0e,2,2,"option",15),C()()()()}if(2&n){const e=Q();I(6),R("ngModel",e.data.type),I(1),R("ngForOf",e.opTipos[0])}}let U0e=(()=>{class n{constructor(e,i,r,s,o,a,l,c){this.router=e,this.dataService=i,this.musicService=r,this.libroService=s,this.juegosService=o,this.animeService=a,this.movieService=l,this.serieServicio=c,this.data={},this.opTipos=[],this.opCalificacion=[],this.opTipos=[["Accion","Terror","Comedia","Animacion","Musical","Romance","Triller","Fantasia","No Ficcion","Ficcion"],["lightcoral","gray","blue","green","yellow","Pink","White","lightYellow","lightblue","Purple"]],this.opCalificacion=["0","1","2","3","4","5"]}registrarFacilidad(){}obtenerImagen(e){V0e.imageToByte(e.target.files[0]).then(s=>{this.data.image=s})}navegarAComponenteDestino(e){this.dataService.typeData=e,this.router.navigate(["/Workplace"])}onSubmit(){console.log("EXIT "),"Peliculas"==this.tipo&&this.movieService.createMovies(this.data),"Series"==this.tipo&&this.serieServicio.createSeries(this.data),"Animes"==this.tipo&&this.animeService.createAnimes(this.data),"Juegos"==this.tipo&&this.juegosService.createGames(this.data),"Libros"==this.tipo&&this.libroService.createBook(this.data),"Musica"==this.tipo&&this.musicService.createMusic(this.data),this.navegarAComponenteDestino(this.tipo)}static#e=this.\u0275fac=function(i){return new(i||n)(y(vi),y(vg),y(B0),y($0),y(U0),y(z0),y(H0),y(G0))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-create"]],decls:44,vars:7,consts:[[1,"container","col-lg-12",2,"margin-top","5%"],[3,"ngSubmit"],["movieForm","ngForm"],[1,"container","col-lg-6"],[1,"top","col-lg-12",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"col-lg-12"],[1,"row"],[1,"col-lg-3"],[1,"col-lg-9"],["name","tipo","id","tipo",3,"ngModel","ngModelChange"],["type","text","id","name","name","name","placeholder","Name","required","",3,"ngModel","ngModelChange"],["type","date","id","date","name","date","required","",3,"ngModel","ngModelChange"],["id","score","name","score",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-lg-12",4,"ngIf"],["id","formFileLg","name","formFileLg","type","file","accept","image/png, .jpeg, .jpg, image/gif",3,"change"],["type","submit",3,"disabled"],[3,"value"],["id","type","name","type",3,"ngModel","ngModelChange"]],template:function(i,r){if(1&i&&(T(0,"div",0)(1,"form",1,2),X("ngSubmit",function(){return r.onSubmit()}),T(3,"div",3)(4,"div",4)(5,"a",5),J(6,"img",6),C()(),T(7,"div",7)(8,"div",8)(9,"div",9)(10,"label"),ee(11,"Categoria:"),C()(),T(12,"div",10)(13,"select",11),X("ngModelChange",function(o){return r.tipo=o}),T(14,"option"),ee(15,"Peliculas"),C(),T(16,"option"),ee(17,"Series"),C(),T(18,"option"),ee(19,"Animes"),C(),T(20,"option"),ee(21,"Juegos"),C(),T(22,"option"),ee(23,"Libros"),C(),T(24,"option"),ee(25,"Musica"),C()()()()(),T(26,"div",7)(27,"input",12),X("ngModelChange",function(o){return r.data.name=o}),C()(),T(28,"div",7)(29,"input",13),X("ngModelChange",function(o){return r.data.date=o}),C()(),T(30,"div",7)(31,"div",8)(32,"div",9)(33,"label"),ee(34,"Calificacion:"),C()(),T(35,"div",10)(36,"select",14),X("ngModelChange",function(o){return r.data.score=o}),$(37,B0e,2,2,"option",15),C()()()(),$(38,$0e,8,2,"div",16),T(39,"div",7)(40,"input",17),X("change",function(o){return r.obtenerImagen(o)}),C()(),T(41,"div",7)(42,"button",18),ee(43,"Submit"),C()()()()()),2&i){const s=function cs(n){return function $c(n,t){return n[t]}(function iY(){return ke.lFrame.contextLView}(),et+n)}(2);I(13),R("ngModel",r.tipo),I(14),R("ngModel",r.data.name),I(2),R("ngModel",r.data.date),I(7),R("ngModel",r.data.score),I(1),R("ngForOf",r.opCalificacion),I(1),R("ngIf","Juegos"!==r.tipo&&"Musica"!==r.tipo),I(4),R("disabled",!s.valid)}},dependencies:[mi,Er,xj,rb,sb,yg,ib,Tk,lj,ob,nb,tb],styles:["input[_ngcontent-%COMP%]{width:100%;margin-bottom:4%}button[_ngcontent-%COMP%]{width:100%}select[_ngcontent-%COMP%]{width:100%;margin-bottom:4%}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}"]})}return n})();function G0e(n,t){if(1&n&&(T(0,"option",21),ee(1),C()),2&n){const e=t.$implicit,i=Q();R("value",e)("selected",e===i.opAnios[0]),I(1),ar(e)}}function z0e(n,t){if(1&n&&(T(0,"div",26),J(1,"img",27),C()),2&n){const e=t.$implicit;I(1),M_("title",e.name),R("src",e.image,Os)}}function j0e(n,t){if(1&n&&(T(0,"div")(1,"div",22)(2,"div",23)(3,"h5"),ee(4),C()(),T(5,"div",24),$(6,z0e,2,2,"div",25),C()()()),2&n){const e=t.$implicit,i=Q();I(2),Xn("background-color",i.tier[1][e]),I(2),ar(i.categorias[e]),I(2),R("ngForOf",i.dataScore(i.resultFilter,i.categorias.length-e))}}let W0e=(()=>{class n{constructor(e,i,r,s,o,a,l){this.router=e,this.musicService=i,this.animeService=r,this.movieService=s,this.seriesService=o,this.gameService=a,this.libroService=l,this.categorias=["Dioos","Buenas","Normal","Malas","Olvidables"],this.data=[],this.anioActual="",this.opAnios=["2024","2023","2022","2021","2020","2019","Todos"],this.selectedYear=this.opAnios[0],this.resultFilter=[],this.resultCount=0,this.tier=[[0,1,2,3,4],["#FF7F7F","#FFBF7F","#FFDF7F","#FFFF7F","#BFFF7F"]]}ngOnInit(){}loadData(e){var i=this;return M(function*(){"Peliculas"===e?i.data=yield i.loadDataForType(i.movieService.getMovies()):"Series"===e?i.data=yield i.loadDataForType(i.seriesService.getSeries()):"Animes"===e?i.data=yield i.loadDataForType(i.animeService.getAnimes()):"Juegos"===e?i.data=yield i.loadDataForType(i.gameService.getGames()):"Libros"===e?i.data=yield i.loadDataForType(i.libroService.getBook()):"Musica"===e&&(i.data=yield i.loadDataForType(i.musicService.getMusic())),console.log(i.selectedYear),i.applyFilters(),i.data.forEach(r=>{r.image="data:image/jpg;base64,"+r.image}),i.resultFilter=i.data,i.resultCount=i.resultFilter.length})()}loadDataForType(e){return M(function*(){return(yield e).map(r=>r)})()}convertYear(e){const i=e.split("-");return parseInt(i[0],10)+""}dataScore(e,i){return e.filter(r=>r.score==i)}filterYear(e){this.selectedYear=e.target.value,this.applyFilters()}applyFilters(){"Todos"===this.selectedYear?(this.resultFilter=this.data,console.log(1)):(this.data=this.data.filter(e=>this.convertYear(e.date)==this.selectedYear),console.log(2))}navegarHome(){this.router.navigate(["./"])}static#e=this.\u0275fac=function(i){return new(i||n)(y(vi),y(B0),y(z0),y(H0),y(G0),y(U0),y($0))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-tier"]],decls:57,vars:3,consts:[[1,"menu","px-4","text-center"],[1,"row","gx-5"],[1,"column","col-lg-3"],[1,"menu","px-4"],[1,"column","col-lg-12",2,"background-color","#1F1D3A"],[1,"top","col-lg-12",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"link"],[1,"uil","uil-subject"],[1,"columnDesc","col-lg-12",2,"background-color","#1F1D3A"],[2,"margin-top","2%","margin-bottom","5%"],[2,"margin-bottom","5%"],["id","opAnios",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"link",3,"click"],[1,"column","col-lg-9"],[1,"body"],[1,"container","list","col-lg-12"],[4,"ngFor","ngForOf"],[1,"resultCount"],[3,"value","selected"],[1,"row",2,"margin-top","1%","margin-bottom","1%"],[1,"izq","col-lg-2"],[1,"der","col-lg-10"],["style","display: inline;",4,"ngFor","ngForOf"],[2,"display","inline"],["alt","#",1,"imagen",3,"title","src"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"a",6),J(8,"img",7),C()(),T(9,"div",8)(10,"h5"),J(11,"i",9),ee(12," Biblioteca"),C()(),T(13,"div",8)(14,"h5"),J(15,"i",9),ee(16," Tier"),C()()(),T(17,"div",10)(18,"div",11)(19,"h4"),ee(20,"Descubrir:"),C()(),T(21,"div",12)(22,"h5"),ee(23,"Ano: "),C(),T(24,"select",13),X("change",function(o){return r.filterYear(o)}),$(25,G0e,2,3,"option",14),C()(),T(26,"div",15),X("click",function(){return r.loadData("Peliculas")}),T(27,"h5"),J(28,"i",9),ee(29," Peliculas"),C()(),T(30,"div",15),X("click",function(){return r.loadData("Series")}),T(31,"h5"),J(32,"i",9),ee(33," Series"),C()(),T(34,"div",15),X("click",function(){return r.loadData("Animes")}),T(35,"h5"),J(36,"i",9),ee(37," Anime"),C()(),T(38,"div",15),X("click",function(){return r.loadData("Juegos")}),T(39,"h5"),J(40,"i",9),ee(41," Juegos"),C()(),T(42,"div",15),X("click",function(){return r.loadData("Libros")}),T(43,"h5"),J(44,"i",9),ee(45," Libros"),C()(),T(46,"div",15),X("click",function(){return r.loadData("Musica")}),T(47,"h5"),J(48,"i",9),ee(49," Musica"),C()()()()()(),T(50,"div",16)(51,"div",17)(52,"div",18),$(53,j0e,7,4,"div",19),C()(),T(54,"div",20)(55,"h5"),ee(56),C()()()()()),2&i&&(I(25),R("ngForOf",r.opAnios),I(28),R("ngForOf",r.tier[0]),I(3),pi("Total: ",r.resultCount,""))},dependencies:[mi,rb,sb],styles:[".imagen[_ngcontent-%COMP%]{width:80px;height:130px;margin-right:1%;margin-bottom:1%;margin-top:1%}.izq[_ngcontent-%COMP%]{border-style:solid;border-color:#000;color:#000;display:flex;align-items:center;justify-content:center}.der[_ngcontent-%COMP%]{border-style:solid;border-color:#000;border-left:none;background-color:#131130}button[_ngcontent-%COMP%]{width:100%;border-style:solid;border-color:#fff;color:#fff;background-color:transparent}button[_ngcontent-%COMP%]:hover{background-color:#5b4f43}select[_ngcontent-%COMP%]{width:100%;border-style:solid;border-color:#fff;color:#fff;background-color:transparent}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--color-1);color:var(--color-text)}.resultCount[_ngcontent-%COMP%]{text-align:right;margin-top:2%}.column[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px}.columnDesc[_ngcontent-%COMP%]{margin-top:10px;text-align:left;border-radius:10px;height:calc(77vh - 60px)}.imgTitle[_ngcontent-%COMP%]{width:140px;height:90px;margin-left:2%;margin-top:2%}.link[_ngcontent-%COMP%]{margin-bottom:5%;cursor:pointer}.body[_ngcontent-%COMP%]{margin-top:10px;background-color:#1f1d3a;margin-bottom:10px;border-radius:10px}.list[_ngcontent-%COMP%]{height:calc(95vh - 60px);overflow-y:auto}.list[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}"]})}return n})(),zj=(()=>{class n{constructor(e){this.http=e,this.apiUrl="https://api.jikan.moe/v4/anime"}getAnimeByPage(e){return this.http.get(`${this.apiUrl}?page=${e}&limit=24`)}getAnimeAiring(){return this.http.get(`${this.apiUrl}?status=airing&order_by=popularity`)}searchAnimesByName(e,i){return this.http.get(`${this.apiUrl}?q=${e}&page=${i}`)}getAnimeByRange(){return this.http.get(`${this.apiUrl}?min_score=4`)}static#e=this.\u0275fac=function(i){return new(i||n)(L(jo))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const q0e=["addListener","removeListener"],Y0e=["addEventListener","removeEventListener"],K0e=["on","off"];function wi(n,t,e,i){if(Qe(e)&&(i=e,e=void 0),i)return wi(n,t,e).pipe(p1(i));const[r,s]=function Z0e(n){return Qe(n.addEventListener)&&Qe(n.removeEventListener)}(n)?Y0e.map(o=>a=>n[o](t,a,e)):function X0e(n){return Qe(n.addListener)&&Qe(n.removeListener)}(n)?q0e.map(jj(n,t)):function Q0e(n){return Qe(n.on)&&Qe(n.off)}(n)?K0e.map(jj(n,t)):[];if(!r&&bT(n))return Gn(o=>wi(o,t,e))(On(n));if(!r)throw new TypeError("Invalid event target");return new ct(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function jj(n,t){return e=>i=>n[e](t,i)}function wg(n=0,t,e=cde){let i=-1;return null!=t&&(MR(t)?e=t:i=t),new ct(r=>{let s=function J0e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:ebe}=Array;function Wj(n){return 1===n.length&&ebe(n[0])?n[0]:n}function ab(...n){const t=_m(n),e=Wj(n);return e.length?new ct(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)On(e[o]).subscribe(It(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Ur}function Lk(...n){const t=_m(n);return Qt((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)On(n[l]).subscribe(It(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every($r))&&(o=null))},Vt));e.subscribe(It(i,l=>{if(a){const c=[l,...s];i.next(t?t(...c):c)}}))})}new ct(Vt),Math,Math,Math;const pTe=["*"],RTe=["dialog"];function mc(n){return null!=n}function Yd(n){return(n||document.body).getBoundingClientRect()}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const hW={animation:!0,transitionTimerDelayMs:5},Exe=()=>{},{transitionTimerDelayMs:Axe}=hW,Mg=new Map,er=(n,t,e,i)=>{let r=i.context||{};const s=Mg.get(t);if(s)switch(i.runningTransition){case"continue":return Ur;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Mg.delete(t)}const o=e(t,i.animation,r)||Exe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),Se(void 0).pipe(function Sxe(n){return t=>new ct(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new Ee,l=new Ee,c=a.pipe(function nbe(...n){return t=>kf(t,Se(...n))}(!0));Mg.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function Dxe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const d=wi(t,"transitionend").pipe(on(c),_i(({target:f})=>f===t));(function qj(...n){return 1===(n=Wj(n)).length?On(n[0]):new ct(function tbe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(On(n[i]).subscribe(It(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(wg(u+Axe).pipe(on(c)),d,l).pipe(on(c)).subscribe(()=>{Mg.delete(t),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let fb=(()=>{class n{constructor(){this.animation=hW.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn]]}),n})(),yW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn]]}),n})(),TW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({}),n})(),wW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn]]}),n})(),SW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({}),n})();var Si=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Si||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const EW=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function AW(n){const t=Array.from(n.querySelectorAll(EW)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let LW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn,Ok]]}),n})(),yb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=K({type:n,selectors:[["",8,"navbar"]]}),n})(),BW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({}),n})();class yc{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let bCe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Vn(1)).subscribe(()=>{er(this._zone,this._el.nativeElement,(e,i)=>{i&&Yd(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return er(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(y(Xe),y(Re))},n.\u0275cmp=We({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(Mi("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),xt("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class HW{close(t){}dismiss(t){}}class TCe{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Ee,this._dismissed=new Ee,this._hidden=new Ee,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(on(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(on(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Cxe(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Se(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ab(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var tM=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(tM||{});let xCe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Ee,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ne,this.shown=new Ee,this.hidden=new Ee}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Vn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=ab(er(this._zone,e,()=>e.classList.remove("show"),i),er(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};ab(er(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Yd(s),s.classList.add("show")},e),er(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{wi(e,"keydown").pipe(on(this._closed$),_i(r=>r.which===Si.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(tM.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;wi(this._dialogEl.nativeElement,"mousedown").pipe(on(this._closed$),Bn(()=>i=!1),tr(()=>wi(e,"mouseup").pipe(on(this._closed$),Vn(1))),_i(({target:r})=>e===r)).subscribe(()=>{i=!0}),wi(e,"click").pipe(on(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(tM.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=AW(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&er(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(y(Lt),y(Xe),y(Re))},n.\u0275cmp=We({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&bl(RTe,7),2&e){let r;yt(r=bt())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(be("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Mi("modal d-block"+(i.windowClass?" "+i.windowClass:"")),xt("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:pTe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(ha(),T(0,"div",0,1)(2,"div",2),To(3),C()()),2&e&&Mi("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),CCe=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}}return n.\u0275fac=function(e){return new(e||n)(L(Lt))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wCe=(()=>{class n{constructor(e,i,r,s,o,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new Ee,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new ne,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=wi(t,"focusin").pipe(on(e),Ue(s=>s.target));wi(t,"keydown").pipe(on(e),_i(s=>s.which===Si.Tab),Lk(r)).subscribe(([s,o])=>{const[a,l]=AW(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&wi(t,"click").pipe(on(e),Lk(r),Ue(s=>s[1])).subscribe(s=>s.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,s){const o=s.container instanceof HTMLElement?s.container:mc(s.container)?this._document.querySelector(s.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.hide(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const u=new HW,d=this._getContentRef(e,s.injector||i,r,u,s);let h=!1!==s.backdrop?this._attachBackdrop(e,o):void 0,f=this._attachWindowComponent(e,o,d),p=new TCe(f,d,h,s.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(f),p.result.then(l,l),p.result.then(c,c),u.close=m=>{p.close(m)},u.dismiss=m=>{p.dismiss(m)},this._applyWindowOptions(f.instance,s),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,s),h.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(bCe).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let o=e.resolveComponentFactory(xCe).create(this._injector,r.nodes);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{mc(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{mc(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,o){return r?r instanceof Zt?this._createFromTemplateRef(r,s):function dW(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new yc([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new yc([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new yc([[i]])}_createFromComponent(e,i,r,s,o){const a=e.resolveComponentFactory(r),l=Ln.create({providers:[{provide:HW,useValue:s}],parent:i}),c=a.create(l),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new yc([[u]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(L(Co),L(Ln),L(Lt),L(CCe),L(du),L(Re))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SCe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(L(fb))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DCe=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(L(cu),L(Ln),L(wCe),L(SCe))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({providers:[DCe]}),n})(),jW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn]]}),n})(),JW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn]]}),n})(),t8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn]]}),n})(),n8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn]]}),n})(),i8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn]]}),n})(),r8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn]]}),n})(),s8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn]]}),n})(),o8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({}),n})();new W("live announcer delay",{providedIn:"root",factory:function BCe(){return 100}});let a8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn]]}),n})();const HCe=[vW,yW,TW,wW,SW,LW,BW,$W,jW,JW,t8,n8,i8,r8,s8,o8,a8];let $Ce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[HCe,vW,yW,TW,wW,SW,LW,BW,$W,jW,JW,t8,n8,i8,r8,s8,o8,a8]}),n})();function l8(n,t=0){return function UCe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function pr(n){return n instanceof Xe?n.nativeElement:n}const Lg={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Lg;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Be(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Lg;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Lg;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},c8=new class jCe extends Qv{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class zCe extends Xv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Lg.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Lg.cancelAnimationFrame(e),t._scheduled=void 0)}});let sM,WCe=1;const xb={};function u8(n){return n in xb&&(delete xb[n],!0)}const qCe={setImmediate(n){const t=WCe++;return xb[t]=!0,sM||(sM=Promise.resolve()),sM.then(()=>u8(t)&&n()),t},clearImmediate(n){u8(n)}},{setImmediate:YCe,clearImmediate:KCe}=qCe,Cb={setImmediate(...n){const{delegate:t}=Cb;return(t?.setImmediate||YCe)(...n)},clearImmediate(n){const{delegate:t}=Cb;return(t?.clearImmediate||KCe)(n)},delegate:void 0};new class QCe extends Qv{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class XCe extends Xv{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Cb.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Cb.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function d8(n,t=zu){return function JCe(n){return Qt((t,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(It(e,c=>{i=!0,r=c,s||On(n(c)).subscribe(s=It(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>wg(n,t))}let oM;try{oM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{oM=!1}let Fg,aM,h8=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Qr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(L(Ii))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vg(n){return function ewe(){if(null==Fg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fg=!0}))}finally{Fg=Fg||!1}return Fg}()?n:!!n.capture}function p8(n){if(function twe(){if(null==aM){const n=typeof document<"u"?document.head:null;aM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return aM}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Sb(n){return n.composedPath?n.composedPath()[0]:n.target}let iwe=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ee,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ct(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(d8(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Se()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(_i(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=pr(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>wi(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(L(Re),L(h8),L(Lt,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),swe=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ee,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(d8(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(L(h8),L(Re),L(Lt,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),owe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=xe({})}return n})();const Cwe=new W("cdk-dir-doc",{providedIn:"root",factory:function wwe(){return se(Lt)}}),Swe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let v8=(()=>{class n{constructor(e){this.value="ltr",this.change=new ne,e&&(this.value=function Dwe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Swe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(L(Cwe,8))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lM(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Zd(n,t){const e=t?"":"none";lM(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function y8(n,t,e){lM(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Db(n,t){return t&&"none"!=t?n+" "+t:n}function b8(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function cM(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function uM(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function dM(n,t,e){const{top:i,bottom:r,left:s,right:o}=n;return e>=i&&e<=r&&t>=s&&t<=o}function Bg(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function T8(n,t,e,i){const{top:r,right:s,bottom:o,left:a,width:l,height:c}=n,u=l*t,d=c*t;return i>r-d&&i<o+d&&e>a-u&&e<s+u}class x8{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:uM(e)})})}handleScroll(t){const e=Sb(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let s,o;if(e===this._document){const c=this.getViewportScrollPosition();s=c.top,o=c.left}else s=e.scrollTop,o=e.scrollLeft;const a=r.top-s,l=r.left-o;return this.positions.forEach((c,u)=>{c.clientRect&&e!==u&&e.contains(u)&&Bg(c.clientRect,a,l)}),r.top=s,r.left=o,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function C8(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?D8(n,t):("input"===i||"select"===i||"textarea"===i)&&S8(n,t),w8("canvas",n,t,D8),w8("input, textarea, select",n,t,S8),t}function w8(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let o=0;o<r.length;o++)i(r[o],s[o])}}let Awe=0;function S8(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${Awe++}`)}function D8(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const E8=Vg({passive:!0}),Eb=Vg({passive:!1}),hM=new Set(["position"]);class kwe{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Zd(e,t)))}constructor(t,e,i,r,s,o){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ee,this._pointerMoveSubscription=Be.EMPTY,this._pointerUpSubscription=Be.EMPTY,this._scrollSubscription=Be.EMPTY,this._resizeSubscription=Be.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ee,this.started=new Ee,this.released=new Ee,this.ended=new Ee,this.entered=new Ee,this.exited=new Ee,this.dropped=new Ee,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const f=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),p=this._dropContainer;if(!f)return void this._endDragSequence(a);(!p||!p.isDragging()&&!p.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const u=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=c.x-u.x+this._passiveTransform.x,d.y=c.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new x8(i),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>pr(i)),this._handles.forEach(i=>Zd(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=pr(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Eb),e.addEventListener("touchstart",this._pointerDown,E8),e.addEventListener("dragstart",this._nativeDragStart,Eb)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?pr(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Zd(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Zd(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Hg(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),y8(i,!1,hM),this._document.body.appendChild(r.replaceChild(s,i)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=Hg(e),s=!r&&0!==e.button,o=this._rootElement,a=Sb(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?function bwe(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function ywe(n){return 0===n.buttons||0===n.detail}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||l||c)return;if(this._handles.length){const h=o.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=uM(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){y8(this._rootElement,!0,hM),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),s=this._getDragDistance(r),o=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,o,s,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const s=t.matchSize?this._initialClientRect:null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),r=I8(o,this._document),this._previewRef=o,t.matchSize?k8(r,s):r.style.transform=Ab(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=C8(this._rootElement),k8(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return lM(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},hM),Zd(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>r.classList.add(s)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function Ewe(n){const t=getComputedStyle(n),e=cM(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=e.indexOf(i),s=cM(t,"transition-duration"),o=cM(t,"transition-delay");return b8(s[r])+b8(o[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=o=>{(!o||Sb(o)===this._preview&&"transform"===o.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=I8(this._placeholderRef,this._document)):i=C8(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,s=r?r.getBoundingClientRect():t,o=Hg(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:s.left-t.left+(o.pageX-s.left-a.left),y:s.top-t.top+(o.pageY-s.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Hg(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=s,a.matrixTransform(o.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+o,d=a.bottom-(c-o);i=A8(i,a.left+s,a.right-(l-s)),r=A8(r,u,d)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-s.x),a=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>s.x?1:-1,s.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Zd(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Eb),t.removeEventListener("touchstart",this._pointerDown,E8),t.removeEventListener("dragstart",this._nativeDragStart,Eb)}_applyRootElementTransform(t,e){const i=Ab(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Db(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=Ab(t,e);this._preview.style.transform=Db(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,o=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(s>0&&(t+=s),o>0&&(t-=o)):t=0,r.height>i.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Hg(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Sb(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Bg(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=p8(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return pr(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function Ab(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function A8(n,t,e){return Math.max(t,Math.min(e,n))}function Hg(n){return"t"===n.type[0]}function I8(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function k8(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=Ab(t.left,t.top)}function $g(n,t){return Math.max(0,Math.min(t,n))}class Rwe{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===o&&s.length>0)return null;const a="horizontal"===this.orientation,l=s.findIndex(g=>g.drag===t),c=s[o],d=c.clientRect,h=l>o?1:-1,f=this._getItemOffsetPx(s[l].clientRect,d,h),p=this._getSiblingOffsetPx(l,s,h),m=s.slice();return function Mwe(n,t,e){const i=$g(t,n.length-1),r=$g(e,n.length-1);if(i===r)return;const s=n[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)n[a]=n[a+o];n[r]=s}(s,l,o),s.forEach((g,v)=>{if(m[v]===g)return;const _=g.drag===t,b=_?f:p,x=_?t.getPlaceholderElement():g.drag.getRootElement();g.offset+=b,a?(x.style.transform=Db(`translate3d(${Math.round(g.offset)}px, 0, 0)`,g.initialTransform),Bg(g.clientRect,0,b)):(x.style.transform=Db(`translate3d(0, ${Math.round(g.offset)}px, 0)`,g.initialTransform),Bg(g.clientRect,b,0))}),this._previousSwap.overlaps=dM(d,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:o}}enter(t,e,i,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,o=this._activeDraggables,a=o.indexOf(t),l=t.getPlaceholderElement();let c=o[s];if(c===t&&(c=o[s+1]),!c&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const u=c.getRootElement();u.parentElement.insertBefore(l,u),o.splice(s,0,t)}else pr(this._element).appendChild(l),o.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Bg(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:uM(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let s=r?e.left-t.left:e.top-t.top;return-1===i&&(s+=r?e.width-t.width:e.height-t.height),s}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,s=e[t].clientRect,o=e[t+-1*i];let a=s[r?"width":"height"]*i;if(o){const l=r?"left":"top",c=r?"right":"bottom";-1===i?a-=o.clientRect[l]-s[c]:a+=s[l]-o.clientRect[c]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return r?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return r?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,r){const s="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==t&&((!r||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==o&&this._sortPredicate(o,t)?o:-1}}class Nwe{constructor(t,e,i,r,s){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ee,this.entered=new Ee,this.exited=new Ee,this.dropped=new Ee,this.sorted=new Ee,this.receivingStarted=new Ee,this.receivingStopped=new Ee,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Be.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ee,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function xwe(n=0,t=zu){return n<0&&(n=0),wg(n,n,t)}(0,c8).pipe(on(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?o.scrollBy(0,-a):2===this._verticalScrollDirection&&o.scrollBy(0,a),1===this._horizontalScrollDirection?o.scrollBy(-a,0):2===this._horizontalScrollDirection&&o.scrollBy(a,0)})},this.element=pr(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new x8(i),this._sortStrategy=new Rwe(this.element,e),this._sortStrategy.withSortPredicate((o,a)=>this.sortPredicate(o,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,s,o,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:o,dropPoint:a,event:l})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=pr(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!T8(this._clientRect,.05,e,i))return;const s=this._sortStrategy.sort(t,e,i,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,s=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||T8(o.clientRect,.05,t,e)&&([r,s]=function Pwe(n,t,e,i){const r=N8(t,i),s=P8(t,e);let o=0,a=0;if(r){const l=n.scrollTop;1===r?l>0&&(o=1):n.scrollHeight-l>n.clientHeight&&(o=2)}if(s){const l=n.scrollLeft;1===s?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,t,e),(r||s)&&(i=a))}),!r&&!s){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};r=N8(l,e),s=P8(l,t),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=pr(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=pr(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=pr(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&dM(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!dM(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const s=pr(this.element);return r===s||s.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=p8(pr(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function N8(n,t){const{top:e,bottom:i,height:r}=n,s=.05*r;return t>=e-s&&t<=e+s?1:t>=i-s&&t<=i+s?2:0}function P8(n,t){const{left:e,right:i,width:r}=n,s=.05*r;return t>=e-s&&t<=e+s?1:t>=i-s&&t<=i+s?2:0}const Ib=Vg({passive:!1,capture:!0});let Owe=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Ee,this.pointerUp=new Ee,this.scroll=new Ee,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ib)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ib)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ib}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Ib}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,o)=>{this._document.addEventListener(o,s.handler,s.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new ct(r=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&r.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),bm(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(L(Re),L(Lt))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Lwe={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let fM=(()=>{class n{constructor(e,i,r,s){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(e,i=Lwe){return new kwe(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Nwe(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(i){return new(i||n)(L(Lt),L(Re),L(swe),L(Owe))};static#t=this.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pM=new W("CDK_DRAG_PARENT"),gM=new W("CdkDragHandle"),O8=new W("CdkDragPlaceholder"),L8=new W("CdkDragPreview"),F8=new W("CDK_DRAG_CONFIG"),V8=new W("CdkDropList");let mM=(()=>{class n{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}constructor(e,i,r,s,o,a,l,c,u,d,h){this.element=e,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=o,this._dir=l,this._changeDetectorRef=u,this._selfHandle=d,this._parentDrag=h,this._destroyed=new Ee,this.started=new ne,this.released=new ne,this.ended=new ne,this.entered=new ne,this.exited=new ne,this.dropped=new ne,this.moved=new ct(f=>{const p=this._dragRef.moved.pipe(Ue(m=>({source:this,pointerPosition:m.pointerPosition,event:m.event,delta:m.delta,distance:m.distance}))).subscribe(f);return()=>{p.unsubscribe()}}),this._dragRef=c.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:a?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Vn(1),on(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):pr(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:l8(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(Vn(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:s,previewClass:o,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:u}=e;this.disabled=l??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),o&&(this.previewClass=o),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.changes.pipe(El(this._handles),Bn(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),tr(e=>bm(...e.map(i=>i._stateChanges.pipe(El(i))))),on(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}static#t=this.\u0275fac=function(i){return new(i||n)(y(Xe),y(V8,12),y(Lt),y(Re),y(Sr),y(F8,8),y(v8,8),y(fM),y(ti),y(gM,10),y(pM,12))};static#n=this.\u0275dir=K({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(i,r,s){if(1&i&&(jt(s,L8,5),jt(s,O8,5),jt(s,gM,5)),2&i){let o;yt(o=bt())&&(r._previewTemplate=o.first),yt(o=bt())&&(r._placeholderTemplate=o.first),yt(o=bt())&&(r._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){2&i&&xt("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled",gi],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[ft([{provide:pM,useExisting:n}]),bo,Rt]})}return n})();const _M=new W("CdkDropListGroup");let Uwe=0,vM=(()=>{class n{static#e=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}constructor(e,i,r,s,o,a,l){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=s,this._dir=o,this._group=a,this._destroyed=new Ee,this.connectedTo=[],this.id="cdk-drop-list-"+Uwe++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new ne,this.entered=new ne,this.exited=new ne,this.sorted=new ne,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(c,u)=>this.enterPredicate(c.data,u.data),this._dropListRef.sortPredicate=(c,u,d)=>this.sortPredicate(c,u.data,d.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(El(this._dir.value),on(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function GCe(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(o=>o.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=l8(this.autoScrollStep,2),e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),bm(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:i,draggingDisabled:r,sortingDisabled:s,listAutoScrollDisabled:o,listOrientation:a}=e;this.disabled=r??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=o??!1,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static#t=this.\u0275fac=function(i){return new(i||n)(y(Xe),y(fM),y(ti),y(iwe),y(v8,8),y(_M,12),y(F8,8))};static#n=this.\u0275dir=K({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,r){2&i&&(be("id",r.id),xt("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled",gi],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled",gi],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled",gi],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[ft([{provide:_M,useValue:void 0},{provide:V8,useExisting:n}]),bo]})}return n})(),Gwe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=xe({providers:[fM],imports:[owe]})}return n})();function zwe(n,t){if(1&n){const e=Yn();T(0,"div",17)(1,"div",18),J(2,"img",19),T(3,"button",20),X("click",function(){const s=Bt(e).$implicit;return Ht(Q().saveAnime(s))}),ee(4,"click"),C()()()}if(2&n){const e=t.$implicit;I(2),R("src",e.images.jpg.image_url,Os)}}function jwe(n,t){if(1&n&&(T(0,"div",17)(1,"div",18),J(2,"img",19),C()()),2&n){const e=t.$implicit;I(2),R("src",e.images.jpg.image_url,Os)}}let Wwe=(()=>{class n{constructor(e,i){this.recoService=e,this.apiAnimeService=i,this.recomendaciones=[],this.animes=[],this.opTipos=[]}ngOnInit(){return M(function*(){})()}getAll(){var e=this;return M(function*(){yield e.apiAnimeService.getAnimeByPage(10).subscribe(i=>{e.animes=i.data})})()}saveAnime(e){this.recomendaciones.push(e)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Gj),y(zj))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-list-next"]],decls:19,vars:2,consts:[[1,"container","col-lg-12",2,"margin-top","5%"],[1,"top","col-lg-12",2,"margin-bottom","3%"],["href","./"],["src","./assets/img/prisma2.png",1,"imgTitle",2,"height","90%"],[1,"table-container"],[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["role","search",1,"d-flex"],["type","search","placeholder","Nombre","aria-label","Search","name","searchTerm",1,"form-control","me-2"],[1,"btn","btn-outline-success"],["cdkDropList","",1,"row"],["cdkDrag","","class","col-lg-2 col-4 col-md-4",4,"ngFor","ngForOf"],["cdkDropList","",1,"row",2,"background","black"],["cdkDrag","",1,"col-lg-2","col-4","col-md-4"],[1,"card","container"],["alt","#",1,"imagen",3,"src"],[3,"click"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"a",2),J(3,"img",3),C()(),T(4,"div",4)(5,"nav",5)(6,"div",6)(7,"button",7),J(8,"span",8),C(),T(9,"div",9),J(10,"ul",10),T(11,"div",11),J(12,"input",12),T(13,"button",13),ee(14,"Buscar"),C()()()()(),T(15,"div",14),$(16,zwe,5,1,"div",15),C(),T(17,"div",16),$(18,jwe,3,1,"div",15),C()()()),2&i&&(I(16),R("ngForOf",r.animes),I(2),R("ngForOf",r.recomendaciones))},dependencies:[mi,yb,vM,mM],styles:['.table-container[_ngcontent-%COMP%]{margin:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#000}.imgTitle[_ngcontent-%COMP%]{width:280px;height:180px;margin-left:2%}.etiqueta[_ngcontent-%COMP%]{color:#000;box-shadow:0 0 29px #3c3c3c6b;border-radius:5px;font-family:"Hedvig Letters Serif",serif;text-align:center;text-decoration:none}mat-icon[_ngcontent-%COMP%]{margin-right:10px}.imagen[_ngcontent-%COMP%]{width:100%;height:250px;border:1px solid #000000}']})}return n})();const B8=["*"];let Vi=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),H8=(()=>{class n{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[Vi.STARTS_WITH,Vi.CONTAINS,Vi.NOT_CONTAINS,Vi.ENDS_WITH,Vi.EQUALS,Vi.NOT_EQUALS],numeric:[Vi.EQUALS,Vi.NOT_EQUALS,Vi.LESS_THAN,Vi.LESS_THAN_OR_EQUAL_TO,Vi.GREATER_THAN,Vi.GREATER_THAN_OR_EQUAL_TO],date:[Vi.DATE_IS,Vi.DATE_IS_NOT,Vi.DATE_BEFORE,Vi.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Ee;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ywe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=We({type:n,selectors:[["p-header"]],ngContentSelectors:B8,decls:1,vars:0,template:function(i,r){1&i&&(ha(),To(0))},encapsulation:2})}return n})(),Kwe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=We({type:n,selectors:[["p-footer"]],ngContentSelectors:B8,decls:1,vars:0,template:function(i,r){1&i&&(ha(),To(0))},encapsulation:2})}return n})(),$8=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(y(Zt))};static \u0275dir=K({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return n})(),U8=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=xe({imports:[Dn]})}return n})();class Ug{static isArray(t,e=!0){return Array.isArray(t)&&(e||0!==t.length)}static isObject(t,e=!0){return"object"==typeof t&&!Array.isArray(t)&&null!=t&&(e||0!==Object.keys(t).length)}static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var s,o,a,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((o=t.length)!=e.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(t),c=this.isDate(e);if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var h=Object.keys(t);if((o=h.length)!==Object.keys(e).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,h[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[a=h[s]],e[a]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let s=0,o=i.length;s<o;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>e){i.splice(o,0,t),s=!0;break}s||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&(t=t.normalize("NFKD").replace(/\p{Diacritic}/gu,"")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!this.isDate(t)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,r=1){let s=-1;const o=this.isEmpty(t),a=this.isEmpty(e);return s=o&&a?0:o?r:a?-r:"string"==typeof t&&"string"==typeof e?t.localeCompare(e,i,{numeric:!0}):t<e?-1:t>e?1:0,s}static sort(t,e,i=1,r,s=1){const o=Ug.compare(t,e,r,i);let a=i;return(Ug.isEmpty(t)||Ug.isEmpty(e))&&(a=1===s?i:s),a*o}static merge(t,e){if(null!=t||null!=e)return null!=t&&"object"!=typeof t||null!=e&&"object"!=typeof e?null!=t&&"string"!=typeof t||null!=e&&"string"!=typeof e?e||t:[t||"",e||""].join(" "):{...t||{},...e||{}}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&1===t.length&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(e)}catch{i=t.lastIndexOf([...t].reverse().find(e))}return i}static findLast(t,e){let i;if(this.isNotEmpty(t))try{i=t.findLast(e)}catch{i=[...t].reverse().find(e)}return i}static deepEquals(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var s,o,a,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((o=t.length)!=e.length)return!1;for(s=o;0!=s--;)if(!this.deepEquals(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var h=Object.keys(t);if((o=h.length)!==Object.keys(e).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,h[s]))return!1;for(s=o;0!=s--;)if(!this.deepEquals(t[a=h[s]],e[a]))return!1;return!0}return t!=t&&e!=e}}var G8=0;!function Qwe(){let n=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0}();const Zwe=["*"];let kb=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const e=Ug.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=We({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:["spin","spin",gi],styleClass:"styleClass"},standalone:!0,features:[bo,vl],ngContentSelectors:Zwe,decls:1,vars:0,template:function(i,r){1&i&&(ha(),To(0))},encapsulation:2,changeDetection:0})}return n})(),z8=(()=>{class n extends kb{static \u0275fac=function(){let e;return function(r){return(e||(e=wn(n)))(r||n)}}();static \u0275cmp=We({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[ht,vl],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){1&i&&(fn(),T(0,"svg",0),J(1,"path",1),C()),2&i&&(Mi(r.getClassNames()),be("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),j8=(()=>{class n extends kb{static \u0275fac=function(){let e;return function(r){return(e||(e=wn(n)))(r||n)}}();static \u0275cmp=We({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[ht,vl],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,r){1&i&&(fn(),T(0,"svg",0),J(1,"path",1),C()),2&i&&(Mi(r.getClassNames()),be("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),W8=(()=>{class n extends kb{static \u0275fac=function(){let e;return function(r){return(e||(e=wn(n)))(r||n)}}();static \u0275cmp=We({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[ht,vl],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,r){1&i&&(fn(),T(0,"svg",0),J(1,"path",1),C()),2&i&&(Mi(r.getClassNames()),be("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),q8=(()=>{class n extends kb{static \u0275fac=function(){let e;return function(r){return(e||(e=wn(n)))(r||n)}}();static \u0275cmp=We({type:n,selectors:[["ChevronUpIcon"]],standalone:!0,features:[ht,vl],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(i,r){1&i&&(fn(),T(0,"svg",0),J(1,"path",1),C()),2&i&&(Mi(r.getClassNames()),be("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),Tn=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)e.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)e.className+=" "+r[s]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(e,s)))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==e)return r;1==i[s].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==e)return s;r[o].attributes&&r[o].attributes[i]&&1==r[o].nodeType&&s++}return-1}static appendOverlay(e,i,r="self"){"self"!==r&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",s=!0){e&&i&&(s&&(e.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===r?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i,r=!0){const s=_=>{if(_)return"relative"===getComputedStyle(_).getPropertyValue("position")?_:s(_.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=i.offsetHeight,l=i.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),d=this.getViewport(),f=s(e)?.getBoundingClientRect()||{top:-1*c,left:-1*u};let p,m;l.top+a+o.height>d.height?(p=l.top-f.top-o.height,e.style.transformOrigin="bottom",l.top+p<0&&(p=-1*l.top)):(p=a+l.top-f.top,e.style.transformOrigin="top");const g=l.left+o.width-d.width;m=o.width>d.width?-1*(l.left-f.left):g>0?l.left-f.left-g:l.left-f.left,e.style.top=p+"px",e.style.left=m+"px",r&&(e.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,i,r=!0){const s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=s.height,a=s.width,l=i.offsetHeight,c=i.offsetWidth,u=i.getBoundingClientRect(),d=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport();let p,m;u.top+l+o>f.height?(p=u.top+d-o,e.style.transformOrigin="bottom",p<0&&(p=d)):(p=l+u.top+d,e.style.transformOrigin="top"),m=u.left+a>f.width?Math.max(0,u.left+h+c-a):u.left+h,e.style.top=p+"px",e.style.left=m+"px",r&&(e.style.marginTop="bottom"===origin?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let d=this.findSingle(a,u);d&&o(d)&&i.push(d)}}9!==a.nodeType&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=e.getBoundingClientRect(),u=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,d=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(i);u<0?e.scrollTop=d+u:u+f>h&&(e.scrollTop=d+u-h+f)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,s=0,o=function(){s=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,i){var r=1,a=50/i;let l=setInterval(()=>{(r-=a)<=0&&(r=0,clearInterval(l)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||s.clientWidth,height:e.innerHeight||r.clientHeight||s.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},\n        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,i=""){let r=this.find(e,this.getFocusableSelectorString(i)),s=[];for(let o of r){const a=getComputedStyle(o);this.isVisible(o)&&"none"!=a.display&&"hidden"!=a.visibility&&s.push(o)}return s}static getFocusableElement(e,i=""){let r=this.findSingle(e,this.getFocusableSelectorString(i));if(r){const s=getComputedStyle(r);if(this.isVisible(r)&&"none"!=s.display&&"hidden"!=s.visibility)return r}return null}static getFirstFocusableElement(e,i){const r=this.getFocusableElements(e,i);return r.length>0?r[0]:null}static getLastFocusableElement(e,i){const r=this.getFocusableElements(e,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(e,i=!1){const r=n.getFocusableElements(e);let s=0;if(r&&r.length>0){const o=r.indexOf(r[0].ownerDocument.activeElement);i?s=-1==o||0===o?r.length-1:o-1:-1!=o&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof e;if("string"===r)return document.querySelector(e);if("object"===r&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const o=(a=e)&&a.constructor&&a.call&&a.apply?e():e;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){const r=e.getAttribute(i);return isNaN(r)?"true"===r||"false"===r?"true"===r:r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}}return n})(),Jwe=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(e,i,r,s,o,a){this.document=e,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Qr(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if(Tn.removeClass(i,"p-ink-active"),!Tn.getHeight(i)&&!Tn.getWidth(i)){let a=Math.max(Tn.getOuterWidth(this.el.nativeElement),Tn.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=Tn.getOffset(this.el.nativeElement),s=e.pageX-r.left+this.document.body.scrollTop-Tn.getWidth(i)/2,o=e.pageY-r.top+this.document.body.scrollLeft-Tn.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),Tn.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&Tn.removeClass(a,"p-ink-active")},401)}getInk(){const e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if("string"==typeof e[i].className&&-1!==e[i].className.indexOf("p-ink"))return e[i];return null}resetInk(){let e=this.getInk();e&&Tn.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),Tn.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Tn.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(y(Lt),y(Ii),y(qi),y(Xe),y(Re),y(H8,8))};static \u0275dir=K({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return n})(),e1e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=xe({imports:[Dn]})}return n})();const t1e=["itemsContainer"],n1e=["indicatorContent"];function i1e(n,t){1&n&&fl(0)}function r1e(n,t){if(1&n&&(T(0,"div",11),To(1),$(2,i1e,1,0,"ng-container",12),C()),2&n){const e=Q();I(2),R("ngTemplateOutlet",e.headerTemplate)}}function s1e(n,t){1&n&&J(0,"ChevronLeftIcon",17),2&n&&R("styleClass","carousel-prev-icon")}function o1e(n,t){1&n&&J(0,"ChevronUpIcon",17),2&n&&R("styleClass","carousel-prev-icon")}function a1e(n,t){if(1&n&&(sf(0),$(1,s1e,1,1,"ChevronLeftIcon",16),$(2,o1e,1,1,"ChevronUpIcon",16),af()),2&n){const e=Q(2);I(1),R("ngIf",!e.isVertical()),I(1),R("ngIf",e.isVertical())}}function l1e(n,t){}function c1e(n,t){1&n&&$(0,l1e,0,0,"ng-template")}function u1e(n,t){if(1&n&&(T(0,"span",18),$(1,c1e,1,0,null,12),C()),2&n){const e=Q(2);I(1),R("ngTemplateOutlet",e.previousIconTemplate)}}const d1e=function(n){return{"p-carousel-prev p-link":!0,"p-disabled":n}};function h1e(n,t){if(1&n){const e=Yn();T(0,"button",13),X("click",function(r){return Bt(e),Ht(Q().navBackward(r))}),$(1,a1e,3,2,"ng-container",14),$(2,u1e,2,1,"span",15),C()}if(2&n){const e=Q();R("ngClass",wr(5,d1e,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),be("aria-label",e.ariaPrevButtonLabel()),I(1),R("ngIf",!e.previousIconTemplate),I(1),R("ngIf",e.previousIconTemplate)}}function f1e(n,t){1&n&&fl(0)}const Y8=function(n,t,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}},yM=function(n){return{$implicit:n}};function p1e(n,t){if(1&n&&(T(0,"div",2),$(1,f1e,1,0,"ng-container",19),C()),2&n){const e=t.$implicit,i=t.index,r=Q();R("ngClass",Au(6,Y8,-1*r.totalShiftedItems===r.value.length,0===i,r.clonedItemsForStarting.length-1===i)),be("aria-hidden",-1*r.totalShiftedItems!==r.value.length)("aria-label",r.ariaSlideNumber(i))("aria-roledescription",r.ariaSlideLabel()),I(1),R("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",wr(10,yM,e))}}function g1e(n,t){1&n&&fl(0)}const m1e=function(n,t,e){return{"p-carousel-item":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}};function _1e(n,t){if(1&n&&(T(0,"div",2),$(1,g1e,1,0,"ng-container",19),C()),2&n){const e=t.$implicit,i=t.index,r=Q();R("ngClass",Au(6,m1e,r.firstIndex()<=i&&r.lastIndex()>=i,r.firstIndex()===i,r.lastIndex()===i)),be("aria-hidden",-1*r.totalShiftedItems!==r.value.length)("aria-label",r.ariaSlideNumber(i))("aria-roledescription",r.ariaSlideLabel()),I(1),R("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",wr(10,yM,e))}}function v1e(n,t){1&n&&fl(0)}function y1e(n,t){if(1&n&&(T(0,"div",2),$(1,v1e,1,0,"ng-container",19),C()),2&n){const e=t.$implicit,i=t.index,r=Q();R("ngClass",Au(3,Y8,-1*r.totalShiftedItems===r.numVisible,0===i,r.clonedItemsForFinishing.length-1===i)),I(1),R("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",wr(7,yM,e))}}function b1e(n,t){1&n&&J(0,"ChevronRightIcon",17),2&n&&R("styleClass","carousel-prev-icon")}function T1e(n,t){1&n&&J(0,"ChevronDownIcon",17),2&n&&R("styleClass","carousel-prev-icon")}function x1e(n,t){if(1&n&&(sf(0),$(1,b1e,1,1,"ChevronRightIcon",16),$(2,T1e,1,1,"ChevronDownIcon",16),af()),2&n){const e=Q(2);I(1),R("ngIf",!e.isVertical()),I(1),R("ngIf",e.isVertical())}}function C1e(n,t){}function w1e(n,t){1&n&&$(0,C1e,0,0,"ng-template")}function S1e(n,t){if(1&n&&(T(0,"span",18),$(1,w1e,1,0,null,12),C()),2&n){const e=Q(2);I(1),R("ngTemplateOutlet",e.nextIconTemplate)}}const D1e=function(n){return{"p-carousel-next p-link":!0,"p-disabled":n}};function E1e(n,t){if(1&n){const e=Yn();T(0,"button",13),X("click",function(r){return Bt(e),Ht(Q().navForward(r))}),$(1,x1e,3,2,"ng-container",14),$(2,S1e,2,1,"span",15),C()}if(2&n){const e=Q();R("ngClass",wr(5,D1e,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),be("aria-label",e.ariaNextButtonLabel()),I(1),R("ngIf",!e.nextIconTemplate),I(1),R("ngIf",e.nextIconTemplate)}}const A1e=function(n){return{"p-carousel-indicator":!0,"p-highlight":n}};function I1e(n,t){if(1&n){const e=Yn();T(0,"li",2)(1,"button",22),X("click",function(r){const o=Bt(e).index;return Ht(Q(2).onDotClick(r,o))}),C()()}if(2&n){const e=t.index,i=Q(2);R("ngClass",wr(9,A1e,i._page===e)),be("data-pc-section","indicator"),I(1),Mi(i.indicatorStyleClass),R("ngClass","p-link")("ngStyle",i.indicatorStyle)("tabindex",i._page===e?0:-1),be("aria-label",i.ariaPageLabel(e+1))("aria-current",i._page===e?"page":void 0)}}function k1e(n,t){if(1&n){const e=Yn();T(0,"ul",20,21),X("keydown",function(r){return Bt(e),Ht(Q().onIndicatorKeydown(r))}),$(2,I1e,2,11,"li",8),C()}if(2&n){const e=Q();Mi(e.indicatorsContentClass),R("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),I(2),R("ngForOf",e.totalDotsArray())}}function M1e(n,t){1&n&&fl(0)}function R1e(n,t){if(1&n&&(T(0,"div",23),To(1,1),$(2,M1e,1,0,"ng-container",12),C()),2&n){const e=Q();I(2),R("ngTemplateOutlet",e.footerTemplate)}}const N1e=[[["p-header"]],[["p-footer"]]],P1e=function(n,t){return{"p-carousel p-component":!0,"p-carousel-vertical":n,"p-carousel-horizontal":t}},O1e=function(n){return{height:n}},L1e=["p-header","p-footer"];let F1e=(()=>{class n{el;zone;cd;renderer;document;platformId;config;get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&this.stopAutoplay(),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}responsiveOptions;orientation="horizontal";verticalViewPortHeight="300px";contentClass="";indicatorsContentClass="";indicatorsContentStyle;indicatorStyleClass="";indicatorStyle;get value(){return this._value}set value(e){this._value=e}circular=!1;showIndicators=!0;showNavigators=!0;autoplayInterval=0;style;styleClass;onPage=new ne;itemsContainer;indicatorContent;headerFacet;footerFacet;templates;_numVisible=1;_numScroll=1;_oldNumScroll=0;prevState={numScroll:0,numVisible:0,value:[]};defaultNumScroll=1;defaultNumVisible=1;_page=0;_value;carouselStyle;id;totalShiftedItems;isRemainingItemsAdded=!1;animationTimeout;translateTimeout;remainingItems=0;_items;startPos;documentResizeListener;clonedItemsForStarting;clonedItemsForFinishing;allowAutoplay;interval;isCreated;swipeThreshold=20;itemTemplate;headerTemplate;footerTemplate;previousIconTemplate;nextIconTemplate;window;constructor(e,i,r,s,o,a,l){this.el=e,this.zone=i,this.cd=r,this.renderer=s,this.document=o,this.platformId=a,this.config=l,this.totalShiftedItems=this.page*this.numScroll*-1,this.window=this.document.defaultView}ngOnChanges(e){Qr(this.platformId)&&(e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))),this.cd.markForCheck()}ngAfterContentInit(){this.id=function Xwe(n="pn_id_"){return`${n}${++G8}`}(),Qr(this.platformId)&&(this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners()),this.templates?.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template}}),this.cd.detectChanges()}ngAfterContentChecked(){if(Qr(this.platformId)){const e=this.isCircular();let i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(!1),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let r=this._page;0!==this.totalDots()&&r>=this.totalDots()&&(r=this.totalDots()-1,this._page=r,this.onPage.emit({page:this.page})),i=r*this._numScroll*-1,e&&(i-=this._numVisible),r===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?i=-1*this._numVisible:0===i&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}}createStyle(){this.carouselStyle||(this.carouselStyle=this.renderer.createElement("style"),this.carouselStyle.type="text/css",this.renderer.appendChild(this.document.head,this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,r)=>{const s=i.breakpoint,o=r.breakpoint;let a=null;return a=null==s&&null!=o?-1:null!=s&&null==o?1:null==s&&null==o?0:"string"==typeof s&&"string"==typeof o?s.localeCompare(o,void 0,{numeric:!0}):s<o?-1:s>o?1:0,-1*a});for(let i=0;i<this.responsiveOptions.length;i++){let r=this.responsiveOptions[i];e+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};if(typeof window<"u"){let i=window.innerWidth;for(let r=0;r<this.responsiveOptions.length;r++){let s=this.responsiveOptions[r];parseInt(s.breakpoint,10)>=i&&(e=s)}}if(this._numScroll!==e.numScroll){let i=this._page;i=Math.floor(i*this._numScroll/e.numScroll);let r=e.numScroll*this.page*-1;this.isCircular()&&(r-=e.numVisible),this.totalShiftedItems=r,this._numScroll=e.numScroll,this._page=i,this.onPage.emit({page:this.page})}this._numVisible!==e.numVisible&&(this._numVisible=e.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?.length?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&this.stopAutoplay(),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||0!==this._page)&&this.step(1,i),this.autoplayInterval&&this.stopAutoplay(),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let r=this._page;this.autoplayInterval&&this.stopAutoplay(),i>r?this.navForward(e,i):i<r&&this.navBackward(e,i)}onIndicatorKeydown(e){switch(e.code){case"ArrowRight":this.onRightKey();break;case"ArrowLeft":this.onLeftKey()}}onRightKey(){const e=[...Tn.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,i+1===e.length?e.length-1:i+1)}onLeftKey(){const e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,e-1<=0?0:e-1)}onHomeKey(){const e=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(e,0)}onEndKey(){const e=[...Tn.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]r')],i=this.findFocusedIndicatorIndex();this.changedFocusedIndicator(i,e.length-1)}onTabKey(){const e=[...Tn.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=e.findIndex(o=>!0===Tn.getAttribute(o,"data-p-highlight")),r=Tn.findSingle(this.indicatorContent.nativeElement,'[data-pc-section="indicator"] > button[tabindex="0"]'),s=e.findIndex(o=>o===r.parentElement);e[s].children[0].tabIndex="-1",e[i].children[0].tabIndex="0"}findFocusedIndicatorIndex(){const e=[...Tn.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')],i=Tn.findSingle(this.indicatorContent.nativeElement,'[data-pc-section="indicator"] > button[tabindex="0"]');return e.findIndex(r=>r===i.parentElement)}changedFocusedIndicator(e,i){const r=[...Tn.find(this.indicatorContent.nativeElement,'[data-pc-section="indicator"]')];r[e].children[0].tabIndex="-1",r[i].children[0].tabIndex="0",r[i].children[0].focus()}step(e,i){let r=this.totalShiftedItems;const s=this.isCircular();null!=i?(r=this._numScroll*i*-1,s&&(r-=this._numVisible),this.isRemainingItemsAdded=!1):(r+=this._numScroll*e,this.isRemainingItemsAdded&&(r+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),i=Math.abs(Math.floor((s?r+this._numVisible:r)/this._numScroll))),s&&this.page===this.totalDots()-1&&-1===e?(r=-1*(this.value.length+this._numVisible),i=0):s&&0===this.page&&1===e?(r=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(r+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${r*(100/this._numVisible)}%, 0)`:`translate3d(${r*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=r,this._page=i,this.onPage.emit({page:this.page}),this.cd.markForCheck()}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval),this.allowAutoplay=!0,this.cd.markForCheck()}stopAutoplay(e=!0){this.interval&&(clearInterval(this.interval),this.interval=void 0,e&&(this.allowAutoplay=!1)),this.cd.markForCheck()}isPlaying(){return!!this.interval}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}ariaPrevButtonLabel(){return this.config.translation.aria?this.config.translation.aria.prevPageLabel:void 0}ariaSlideLabel(){return this.config.translation.aria?this.config.translation.aria.slide:void 0}ariaNextButtonLabel(){return this.config.translation.aria?this.config.translation.aria.nextPageLabel:void 0}ariaSlideNumber(e){return this.config.translation.aria?this.config.translation.aria.slideNumber.replace(/{slideNumber}/g,e):void 0}ariaPageLabel(e){return this.config.translation.aria?this.config.translation.aria.pageLabel.replace(/{page}/g,e):void 0}bindDocumentListeners(){Qr(this.platformId)&&(this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{this.calculatePosition()})))}unbindDocumentListeners(){Qr(this.platformId)&&this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}static \u0275fac=function(i){return new(i||n)(y(Xe),y(Re),y(ti),y(qi),y(Lt),y(Ii),y(H8))};static \u0275cmp=We({type:n,selectors:[["p-carousel"]],contentQueries:function(i,r,s){if(1&i&&(jt(s,Ywe,5),jt(s,Kwe,5),jt(s,$8,4)),2&i){let o;yt(o=bt())&&(r.headerFacet=o.first),yt(o=bt())&&(r.footerFacet=o.first),yt(o=bt())&&(r.templates=o)}},viewQuery:function(i,r){if(1&i&&(bl(t1e,5),bl(n1e,5)),2&i){let s;yt(s=bt())&&(r.itemsContainer=s.first),yt(s=bt())&&(r.indicatorContent=s.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:["circular","circular",gi],showIndicators:["showIndicators","showIndicators",gi],showNavigators:["showNavigators","showNavigators",gi],autoplayInterval:["autoplayInterval","autoplayInterval",Dne],style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[bo,Rt],ngContentSelectors:L1e,decls:14,vars:23,consts:[["role","region",3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle","touchend","touchstart","touchmove"],[1,"p-carousel-items-container",3,"transitionend"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle","keydown",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngIf"],["class","p-carousel-prev-icon",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-carousel-prev-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass","ngStyle","keydown"],["indicatorContent",""],["type","button",3,"ngClass","ngStyle","tabindex","click"],[1,"p-carousel-footer"]],template:function(i,r){1&i&&(ha(N1e),T(0,"div",0),$(1,r1e,3,1,"div",1),T(2,"div",2)(3,"div",3),$(4,h1e,3,7,"button",4),T(5,"div",5),X("touchend",function(o){return r.onTouchEnd(o)})("touchstart",function(o){return r.onTouchStart(o)})("touchmove",function(o){return r.onTouchMove(o)}),T(6,"div",6,7),X("transitionend",function(){return r.onTransitionEnd()}),$(8,p1e,2,12,"div",8),$(9,_1e,2,12,"div",8),$(10,y1e,2,9,"div",8),C()(),$(11,E1e,3,7,"button",4),C(),$(12,k1e,3,5,"ul",9),C(),$(13,R1e,3,1,"div",10),C()),2&i&&(Mi(r.styleClass),R("ngClass",yl(18,P1e,r.isVertical(),!r.isVertical()))("ngStyle",r.style),be("id",r.id),I(1),R("ngIf",r.headerFacet||r.headerTemplate),I(1),Mi(r.contentClass),R("ngClass","p-carousel-content"),I(1),be("aria-live",r.allowAutoplay?"polite":"off"),I(1),R("ngIf",r.showNavigators),I(1),R("ngStyle",wr(21,O1e,r.isVertical()?r.verticalViewPortHeight:"auto")),I(3),R("ngForOf",r.clonedItemsForStarting),I(1),R("ngForOf",r.value),I(1),R("ngForOf",r.clonedItemsForFinishing),I(1),R("ngIf",r.showNavigators),I(1),R("ngIf",r.showIndicators),I(1),R("ngIf",r.footerFacet||r.footerTemplate))},dependencies:function(){return[Sw,mi,Er,Cl,$V,Jwe,W8,j8,z8,q8]},styles:["@layer primeng{.p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}}\n"],encapsulation:2,changeDetection:0})}return n})(),V1e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=we({type:n});static \u0275inj=xe({imports:[Dn,U8,e1e,W8,j8,z8,q8,Dn,U8]})}return n})();function B1e(n,t){if(1&n&&(T(0,"div",20),J(1,"img",21),C()),2&n){const e=t.$implicit;I(1),R("src",e.images.jpg.image_url,Os)}}function H1e(n,t){if(1&n&&(T(0,"div",20),J(1,"img",21),C()),2&n){const e=t.$implicit;I(1),R("src",e.images.jpg.image_url,Os)}}function $1e(n,t){if(1&n&&(T(0,"div",22)(1,"div",20),J(2,"img",21),T(3,"p",23),ee(4),C()()()),2&n){const e=t.$implicit;I(2),R("src",e.images.jpg.image_url,Os),I(2),ar(e.title)}}function U1e(n,t){if(1&n&&(T(0,"div",24)(1,"div",20),J(2,"img",21),C()()),2&n){const e=t.$implicit;I(2),R("src",e.images.jpg.image_url,Os)}}let K8=(()=>{class n{constructor(e){this.apiAnimeService=e,this.recomendaciones=[],this.animes=[],this.animesAiring=[],this.animesRange=[],this.opTipos=[],this.numPage=1,this.search="",this.numVisible=0}ngOnInit(){var e=this;return M(function*(){yield e.getAll(),yield e.getAnimeAiring(),yield e.getAnimeByRange(),e.numVisible=window.innerWidth<=768?2:6,window.addEventListener("resize",()=>{e.numVisible=window.innerWidth<=768?2:6})})()}getAll(){var e=this;return M(function*(){yield e.apiAnimeService.getAnimeByPage(e.numPage).subscribe(i=>{console.log(i),e.animes=i.data})})()}searchAnimesByName(){var e=this;return M(function*(){yield e.apiAnimeService.searchAnimesByName(e.search,e.numPage).subscribe(i=>{e.animes=i.data})})()}getAnimeAiring(){var e=this;return M(function*(){yield e.apiAnimeService.getAnimeAiring().subscribe(i=>{console.log(i),e.animesAiring=i.data})})()}getAnimeByRange(){var e=this;return M(function*(){yield e.apiAnimeService.getAnimeByRange().subscribe(i=>{console.log(i),e.animesRange=i.data})})()}saveAnime(e){this.recomendaciones.push(e)}aumentarNumero(){this.numPage++,this.getAll()}restNumber(){this.numPage--,this.getAll()}static#e=this.\u0275fac=function(i){return new(i||n)(y(zj))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-discover-page"]],decls:34,vars:13,consts:[[1,"body"],[1,"perfil-button"],[1,"container","list","col-lg-12"],[3,"value","numVisible","numScroll","circular","showIndicators"],["pTemplate","item"],[1,"table-container"],[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[3,"click"],["role","search",1,"d-flex"],["type","search","placeholder","Nombre","aria-label","Search","name","search",1,"form-control","me-2",3,"ngModel","ngModelChange"],[1,"btn","btn-outline-success",3,"click"],[1,"row"],["class","col-lg-2 col-6 col-md-4",4,"ngFor","ngForOf"],["cdkDropList","",1,"row",2,"background","black"],["cdkDrag","","class","col-lg-2 col-4 col-md-4",4,"ngFor","ngForOf"],[1,"card"],["alt","#",1,"imagen",3,"src"],[1,"col-lg-2","col-6","col-md-4"],[1,"title"],["cdkDrag","",1,"col-lg-2","col-4","col-md-4"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"header")(2,"button",1),ee(3,"Perfil"),C()(),T(4,"div",2)(5,"h4"),ee(6,"Airing"),C(),T(7,"p-carousel",3),$(8,B1e,2,1,"ng-template",4),C(),T(9,"h4"),ee(10,"Score +4"),C(),T(11,"p-carousel",3),$(12,H1e,2,1,"ng-template",4),C(),T(13,"h4"),ee(14,"Lista de Animes"),C(),T(15,"div",5)(16,"nav",6)(17,"div",7)(18,"button",8),J(19,"span",9),C(),T(20,"div",10)(21,"ul",11)(22,"button",12),X("click",function(){return r.restNumber()}),ee(23,"restar"),C(),T(24,"button",12),X("click",function(){return r.aumentarNumero()}),ee(25,"aumentar"),C()(),T(26,"div",13)(27,"input",14),X("ngModelChange",function(o){return r.search=o}),C(),T(28,"button",15),X("click",function(){return r.searchAnimesByName()}),ee(29,"Buscar"),C()()()()(),T(30,"div",16),$(31,$1e,5,2,"div",17),C(),T(32,"div",18),$(33,U1e,3,1,"div",19),C()()()()),2&i&&(I(7),R("value",r.animesAiring)("numVisible",r.numVisible)("numScroll",2)("circular",!0)("showIndicators",!1),I(4),R("value",r.animesRange)("numVisible",r.numVisible)("numScroll",2)("circular",!0)("showIndicators",!1),I(16),R("ngModel",r.search),I(4),R("ngForOf",r.animes),I(2),R("ngForOf",r.recomendaciones))},dependencies:[mi,yb,yg,Tk,nb,vM,mM,F1e,$8],styles:[".body[_ngcontent-%COMP%]{margin-top:10px;background-color:#1f1d3a;margin-bottom:10px;border-radius:10px}.card[_ngcontent-%COMP%]{padding:5px;margin:5px;background-color:transparent;border:none}mat-icon[_ngcontent-%COMP%]{margin-right:10px}.imagen[_ngcontent-%COMP%]{width:100%;height:250px;overflow:hidden;border:1px solid #000000;border-radius:10px}h4[_ngcontent-%COMP%]{text-align:left;margin-bottom:2%;margin-top:2%}.list[_ngcontent-%COMP%]{max-height:calc(95vh - 60px);overflow-y:auto}.list[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}header[_ngcontent-%COMP%]{background-color:#1f1d3a;color:#fff;padding:5px 20px;text-align:right;border-radius:10px}.perfil-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}.title[_ngcontent-%COMP%]{color:#fff;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}@media (max-width:1000px){.imagen[_ngcontent-%COMP%]{height:180px}.title[_ngcontent-%COMP%]{display:none}}"]})}return n})();const G1e=[{path:"",component:(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"menu","px-4","text-center"],[1,"row","gx-5"],[1,"column","col-lg-3"],[1,"column","col-lg-9"]],template:function(i,r){1&i&&(T(0,"div",0)(1,"div",1)(2,"div",2),J(3,"app-sidebar"),C(),T(4,"div",3),J(5,"app-discover-page"),C()()())},dependencies:[Uj,K8],styles:[".container[_ngcontent-%COMP%]{background-color:red}i[_ngcontent-%COMP%]{font-size:50px}.app-discover-page[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding-right:15px}"]})}return n})()},{path:"library",component:F0e},{path:"Sidebar",component:Uj},{path:"Workplace",component:L0e},{path:"Create",component:U0e},{path:"Tier",component:W0e},{path:"ListNext",component:Wwe},{path:"DiscoverPage",component:K8}];let z1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n});static#n=this.\u0275inj=xe({imports:[iH.forRoot(G1e,{useHash:!0}),Ok,iH]})}return n})(),j1e=(()=>{class n{constructor(){this.title="DATA"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&J(0,"router-outlet")},dependencies:[I1]})}return n})();const W1e_firebase={apiKey:"AIzaSyB14DmtasKcHP3qgspOmYnuoBj2uyoAsmg",authDomain:"data-aba0f.firebaseapp.com",projectId:"data-aba0f",storageBucket:"data-aba0f.appspot.com",messagingSenderId:"305549292857",appId:"1:305549292857:web:e5b4bdafba9fb4d61524e8"};class bM{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class X8 extends bM{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class q1e extends bM{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Y1e extends bM{constructor(t){super(),this.element=t instanceof Xe?t.nativeElement:t}}class K1e{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof X8?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof q1e?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Y1e?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class X1e extends K1e{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Ln.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}function Z1e(){}function TM(n){return null==n?Z1e:function(){return this.querySelector(n)}}function tSe(){return[]}function Q8(n){return null==n?tSe:function(){return this.querySelectorAll(n)}}function Z8(n){return function(){return this.matches(n)}}function J8(n){return function(t){return t.matches(n)}}var rSe=Array.prototype.find;function oSe(){return this.firstElementChild}var lSe=Array.prototype.filter;function cSe(){return Array.from(this.children)}function e6(n){return new Array(n.length)}function Mb(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function gSe(n,t,e,i,r,s){for(var a,o=0,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):e[o]=new Mb(n,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a)}function mSe(n,t,e,i,r,s,o){var a,l,f,c=new Map,u=t.length,d=s.length,h=new Array(u);for(a=0;a<u;++a)(l=t[a])&&(h[a]=f=o.call(l,l.__data__,a,t)+"",c.has(f)?r[a]=l:c.set(f,l));for(a=0;a<d;++a)f=o.call(n,s[a],a,s)+"",(l=c.get(f))?(i[a]=l,l.__data__=s[a],c.delete(f)):e[a]=new Mb(n,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(r[a]=l)}function _Se(n){return n.__data__}function ySe(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function SSe(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}Mb.prototype={constructor:Mb,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var xM="http://www.w3.org/1999/xhtml";const t6={svg:"http://www.w3.org/2000/svg",xhtml:xM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rb(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),t6.hasOwnProperty(t)?{space:t6[t],local:n}:n}function RSe(n){return function(){this.removeAttribute(n)}}function NSe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function PSe(n,t){return function(){this.setAttribute(n,t)}}function OSe(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function LSe(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function FSe(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function n6(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function BSe(n){return function(){this.style.removeProperty(n)}}function HSe(n,t,e){return function(){this.style.setProperty(n,t,e)}}function $Se(n,t,e){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function Jd(n,t){return n.style.getPropertyValue(t)||n6(n).getComputedStyle(n,null).getPropertyValue(t)}function GSe(n){return function(){delete this[n]}}function zSe(n,t){return function(){this[n]=t}}function jSe(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function i6(n){return n.trim().split(/^|\s+/)}function CM(n){return n.classList||new r6(n)}function r6(n){this._node=n,this._names=i6(n.getAttribute("class")||"")}function s6(n,t){for(var e=CM(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function o6(n,t){for(var e=CM(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function qSe(n){return function(){s6(this,n)}}function YSe(n){return function(){o6(this,n)}}function KSe(n,t){return function(){(t.apply(this,arguments)?s6:o6)(this,n)}}function QSe(){this.textContent=""}function ZSe(n){return function(){this.textContent=n}}function JSe(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function tDe(){this.innerHTML=""}function nDe(n){return function(){this.innerHTML=n}}function iDe(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function sDe(){this.nextSibling&&this.parentNode.appendChild(this)}function aDe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cDe(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===xM&&t.documentElement.namespaceURI===xM?t.createElement(n):t.createElementNS(e,n)}}function uDe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function a6(n){var t=Rb(n);return(t.local?uDe:cDe)(t)}function hDe(){return null}function pDe(){var n=this.parentNode;n&&n.removeChild(this)}function mDe(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function _De(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function xDe(n){return function(){var t=this.__on;if(t){for(var s,e=0,i=-1,r=t.length;e<r;++e)s=t[e],n.type&&s.type!==n.type||s.name!==n.name?t[++i]=s:this.removeEventListener(s.type,s.listener,s.options);++i?t.length=i:delete this.__on}}}function CDe(n,t,e){return function(){var r,i=this.__on,s=function bDe(n){return function(t){n.call(this,t,this.__data__)}}(t);if(i)for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=e),void(r.value=t);this.addEventListener(n.type,s,e),r={type:n.type,name:n.name,value:t,listener:s,options:e},i?i.push(r):this.__on=[r]}}function l6(n,t,e){var i=n6(n),r=i.CustomEvent;"function"==typeof r?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function SDe(n,t){return function(){return l6(this,n,t)}}function DDe(n,t){return function(){return l6(this,n,t.apply(this,arguments))}}r6.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var c6=[null];function Lr(n,t){this._groups=n,this._parents=t}function u6(){return new Lr([[document.documentElement]],c6)}Lr.prototype=u6.prototype={constructor:Lr,select:function J1e(n){"function"!=typeof n&&(n=TM(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,c,s=t[r],o=s.length,a=i[r]=new Array(o),u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Lr(i,this._parents)},selectAll:function iSe(n){n="function"==typeof n?function nSe(n){return function(){return function eSe(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):Q8(n);for(var t=this._groups,e=t.length,i=[],r=[],s=0;s<e;++s)for(var l,o=t[s],a=o.length,c=0;c<a;++c)(l=o[c])&&(i.push(n.call(l,l.__data__,c,o)),r.push(l));return new Lr(i,r)},selectChild:function aSe(n){return this.select(null==n?oSe:function sSe(n){return function(){return rSe.call(this.children,n)}}("function"==typeof n?n:J8(n)))},selectChildren:function dSe(n){return this.selectAll(null==n?cSe:function uSe(n){return function(){return lSe.call(this.children,n)}}("function"==typeof n?n:J8(n)))},filter:function hSe(n){"function"!=typeof n&&(n=Z8(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Lr(i,this._parents)},data:function vSe(n,t){if(!arguments.length)return Array.from(this,_Se);var e=t?mSe:gSe,i=this._parents,r=this._groups;"function"!=typeof n&&(n=function pSe(n){return function(){return n}}(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],d=r[c],h=d.length,f=ySe(n.call(u,u&&u.__data__,c,i)),p=f.length,m=a[c]=new Array(p),g=o[c]=new Array(p);e(u,d,m,g,l[c]=new Array(h),f,t);for(var x,E,_=0,b=0;_<p;++_)if(x=m[_]){for(_>=b&&(b=_+1);!(E=g[b])&&++b<p;);x._next=E||null}}return(o=new Lr(o,i))._enter=a,o._exit=l,o},enter:function fSe(){return new Lr(this._enter||this._groups.map(e6),this._parents)},exit:function bSe(){return new Lr(this._exit||this._groups.map(e6),this._parents)},join:function TSe(n,t,e){var i=this.enter(),r=this,s=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=t&&(r=t(r))&&(r=r.selection()),null==e?s.remove():e(s),i&&r?i.merge(r).order():r},merge:function xSe(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,r=e.length,o=Math.min(r,i.length),a=new Array(r),l=0;l<o;++l)for(var f,c=e[l],u=i[l],d=c.length,h=a[l]=new Array(d),p=0;p<d;++p)(f=c[p]||u[p])&&(h[p]=f);for(;l<r;++l)a[l]=e[l];return new Lr(a,this._parents)},selection:function IDe(){return this},order:function CSe(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var o,i=n[t],r=i.length-1,s=i[r];--r>=0;)(o=i[r])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function wSe(n){function t(d,h){return d&&h?n(d.__data__,h.__data__):!d-!h}n||(n=SSe);for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s){for(var c,o=e[s],a=o.length,l=r[s]=new Array(a),u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Lr(r,this._parents).order()},call:function DSe(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function ESe(){return Array.from(this)},node:function ASe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function ISe(){let n=0;for(const t of this)++n;return n},empty:function kSe(){return!this.node()},each:function MSe(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var a,r=t[e],s=0,o=r.length;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this},attr:function VSe(n,t){var e=Rb(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==t?e.local?NSe:RSe:"function"==typeof t?e.local?FSe:LSe:e.local?OSe:PSe)(e,t))},style:function USe(n,t,e){return arguments.length>1?this.each((null==t?BSe:"function"==typeof t?$Se:HSe)(n,t,e??"")):Jd(this.node(),n)},property:function WSe(n,t){return arguments.length>1?this.each((null==t?GSe:"function"==typeof t?jSe:zSe)(n,t)):this.node()[n]},classed:function XSe(n,t){var e=i6(n+"");if(arguments.length<2){for(var i=CM(this.node()),r=-1,s=e.length;++r<s;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof t?KSe:t?qSe:YSe)(e,t))},text:function eDe(n){return arguments.length?this.each(null==n?QSe:("function"==typeof n?JSe:ZSe)(n)):this.node().textContent},html:function rDe(n){return arguments.length?this.each(null==n?tDe:("function"==typeof n?iDe:nDe)(n)):this.node().innerHTML},raise:function oDe(){return this.each(sDe)},lower:function lDe(){return this.each(aDe)},append:function dDe(n){var t="function"==typeof n?n:a6(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function fDe(n,t){var e="function"==typeof n?n:a6(n),i=null==t?hDe:"function"==typeof t?t:TM(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function gDe(){return this.each(pDe)},clone:function vDe(n){return this.select(n?_De:mDe)},datum:function yDe(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function wDe(n,t,e){var r,o,i=function TDe(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}(n+""),s=i.length;if(!(arguments.length<2)){for(a=t?CDe:xDe,r=0;r<s;++r)this.each(a(i[r],t,e));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function EDe(n,t){return this.each(("function"==typeof t?DDe:SDe)(n,t))},[Symbol.iterator]:function*ADe(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var o,i=n[t],r=0,s=i.length;r<s;++r)(o=i[r])&&(yield o)}};const Gg=u6;var kDe={value:()=>{}};function d6(){for(var i,n=0,t=arguments.length,e={};n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new Nb(e)}function Nb(n){this._=n}function RDe(n,t){for(var r,e=0,i=n.length;e<i;++e)if((r=n[e]).name===t)return r.value}function h6(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=kDe,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:t,value:e}),n}Nb.prototype=d6.prototype={constructor:Nb,on:function(n,t){var r,e=this._,i=function MDe(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}(n+"",e),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(r=(n=i[s]).type)e[r]=h6(e[r],n.name,t);else if(null==t)for(r in e)e[r]=h6(e[r],n.name,null);return this}for(;++s<o;)if((r=(n=i[s]).type)&&(r=RDe(e[r],n.name)))return r},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new Nb(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var r,s,e=new Array(r),i=0;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(s=this._[n]).length;i<r;++i)s[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(t,e)}};const f6=d6;function DM(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function p6(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function zg(){}var Pb=1/.7,eh="\\s*([+-]?\\d+)\\s*",Wg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",so="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ODe=/^#([0-9a-f]{3,8})$/,LDe=new RegExp(`^rgb\\(${eh},${eh},${eh}\\)$`),FDe=new RegExp(`^rgb\\(${so},${so},${so}\\)$`),VDe=new RegExp(`^rgba\\(${eh},${eh},${eh},${Wg}\\)$`),BDe=new RegExp(`^rgba\\(${so},${so},${so},${Wg}\\)$`),HDe=new RegExp(`^hsl\\(${Wg},${so},${so}\\)$`),$De=new RegExp(`^hsla\\(${Wg},${so},${so},${Wg}\\)$`),g6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m6(){return this.rgb().formatHex()}function _6(){return this.rgb().formatRgb()}function Tc(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=ODe.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?v6(t):3===e?new gr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?Ob(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?Ob(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=LDe.exec(n))?new gr(t[1],t[2],t[3],1):(t=FDe.exec(n))?new gr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=VDe.exec(n))?Ob(t[1],t[2],t[3],t[4]):(t=BDe.exec(n))?Ob(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=HDe.exec(n))?T6(t[1],t[2]/100,t[3]/100,1):(t=$De.exec(n))?T6(t[1],t[2]/100,t[3]/100,t[4]):g6.hasOwnProperty(n)?v6(g6[n]):"transparent"===n?new gr(NaN,NaN,NaN,0):null}function v6(n){return new gr(n>>16&255,n>>8&255,255&n,1)}function Ob(n,t,e,i){return i<=0&&(n=t=e=NaN),new gr(n,t,e,i)}function Lb(n,t,e,i){return 1===arguments.length?function zDe(n){return n instanceof zg||(n=Tc(n)),n?new gr((n=n.rgb()).r,n.g,n.b,n.opacity):new gr}(n):new gr(n,t,e,i??1)}function gr(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}function y6(){return`#${Cc(this.r)}${Cc(this.g)}${Cc(this.b)}`}function b6(){const n=Fb(this.opacity);return`${1===n?"rgb(":"rgba("}${xc(this.r)}, ${xc(this.g)}, ${xc(this.b)}${1===n?")":`, ${n})`}`}function Fb(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function xc(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Cc(n){return((n=xc(n))<16?"0":"")+n.toString(16)}function T6(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Cs(n,t,e,i)}function x6(n){if(n instanceof Cs)return new Cs(n.h,n.s,n.l,n.opacity);if(n instanceof zg||(n=Tc(n)),!n)return new Cs;if(n instanceof Cs)return n;var t=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),s=Math.max(t,e,i),o=NaN,a=s-r,l=(s+r)/2;return a?(o=t===s?(e-i)/a+6*(e<i):e===s?(i-t)/a+2:(t-e)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new Cs(o,a,l,n.opacity)}function Cs(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}function C6(n){return(n=(n||0)%360)<0?n+360:n}function Vb(n){return Math.max(0,Math.min(1,n||0))}function EM(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function w6(n,t,e,i,r){var s=n*n,o=s*n;return((1-3*n+3*s-o)*t+(4-6*s+3*o)*e+(1+3*n+3*s-3*o)*i+o*r)/6}DM(zg,Tc,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:m6,formatHex:m6,formatHex8:function UDe(){return this.rgb().formatHex8()},formatHsl:function GDe(){return x6(this).formatHsl()},formatRgb:_6,toString:_6}),DM(gr,Lb,p6(zg,{brighter(n){return n=null==n?Pb:Math.pow(Pb,n),new gr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new gr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new gr(xc(this.r),xc(this.g),xc(this.b),Fb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y6,formatHex:y6,formatHex8:function jDe(){return`#${Cc(this.r)}${Cc(this.g)}${Cc(this.b)}${Cc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:b6,toString:b6})),DM(Cs,function WDe(n,t,e,i){return 1===arguments.length?x6(n):new Cs(n,t,e,i??1)},p6(zg,{brighter(n){return n=null==n?Pb:Math.pow(Pb,n),new Cs(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Cs(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new gr(EM(n>=240?n-240:n+120,r,i),EM(n,r,i),EM(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Cs(C6(this.h),Vb(this.s),Vb(this.l),Fb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Fb(this.opacity);return`${1===n?"hsl(":"hsla("}${C6(this.h)}, ${100*Vb(this.s)}%, ${100*Vb(this.l)}%${1===n?")":`, ${n})`}`}}));const AM=n=>()=>n;function D6(n,t){var e=t-n;return e?function S6(n,t){return function(e){return n+e*t}}(n,e):AM(isNaN(n)?t:n)}const Bb=function n(t){var e=function XDe(n){return 1==(n=+n)?D6:function(t,e){return e-t?function KDe(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}(t,e,n):AM(isNaN(t)?e:t)}}(t);function i(r,s){var o=e((r=Lb(r)).r,(s=Lb(s)).r),a=e(r.g,s.g),l=e(r.b,s.b),c=D6(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=n,i}(1);function E6(n){return function(t){var o,a,e=t.length,i=new Array(e),r=new Array(e),s=new Array(e);for(o=0;o<e;++o)a=Lb(t[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=n(i),r=n(r),s=n(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}function ws(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}E6(function qDe(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=n[i],s=n[i+1];return w6((e-i/t)*t,i>0?n[i-1]:2*r-s,r,s,i<t-1?n[i+2]:2*s-r)}}),E6(function YDe(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t);return w6((e-i/t)*t,n[(i+t-1)%t],n[i%t],n[(i+1)%t],n[(i+2)%t])}});var IM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kM=new RegExp(IM.source,"g");function I6(n,t){var i,r,s,e=IM.lastIndex=kM.lastIndex=0,o=-1,a=[],l=[];for(n+="",t+="";(i=IM.exec(n))&&(r=kM.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:ws(i,r)})),e=kM.lastIndex;return e<t.length&&(s=t.slice(e),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?function eEe(n){return function(t){return n(t)+""}}(l[0].x):function JDe(n){return function(){return n}}(t):(t=l.length,function(c){for(var d,u=0;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var $b,Kg,th=0,qg=0,Yg=0,M6=1e3,Ub=0,wc=0,Gb=0,Xg="object"==typeof performance&&performance.now?performance:Date,R6="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function MM(){return wc||(R6(rEe),wc=Xg.now()+Gb)}function rEe(){wc=0}function zb(){this._call=this._time=this._next=null}function N6(n,t,e){var i=new zb;return i.restart(n,t,e),i}function P6(){wc=(Ub=Xg.now())+Gb,th=qg=0;try{!function sEe(){MM(),++th;for(var t,n=$b;n;)(t=wc-n._time)>=0&&n._call.call(void 0,t),n=n._next;--th}()}finally{th=0,function aEe(){for(var n,e,t=$b,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:$b=e);Kg=n,RM(i)}(),wc=0}}function oEe(){var n=Xg.now(),t=n-Ub;t>M6&&(Gb-=t,Ub=n)}function RM(n){th||(qg&&(qg=clearTimeout(qg)),n-wc>24?(n<1/0&&(qg=setTimeout(P6,n-Xg.now()-Gb)),Yg&&(Yg=clearInterval(Yg))):(Yg||(Ub=Xg.now(),Yg=setInterval(oEe,M6)),th=1,R6(P6)))}function O6(n,t,e){var i=new zb;return i.restart(r=>{i.stop(),n(r+t)},t=null==t?0:+t,e),i}zb.prototype=N6.prototype={constructor:zb,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?MM():+e)+(null==t?0:+t),!this._next&&Kg!==this&&(Kg?Kg._next=this:$b=this,Kg=this),this._call=n,this._time=e,RM()},stop:function(){this._call&&(this._call=null,this._time=1/0,RM())}};var lEe=f6("start","end","cancel","interrupt"),cEe=[],L6=0,jb=3;function qb(n,t,e,i,r,s){var o=n.__transition;if(o){if(e in o)return}else n.__transition={};!function uEe(n,t,e){var r,i=n.__transition;function o(c){var u,d,h,f;if(1!==e.state)return l();for(u in i)if((f=i[u]).name===e.name){if(f.state===jb)return O6(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",n,n.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",n,n.__data__,f.index,f.group),delete i[u])}if(O6(function(){e.state===jb&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=jb,r=new Array(h=e.tween.length),u=0,d=-1;u<h;++u)(f=e.tween[u].value.call(n,n.__data__,e.index,e.group))&&(r[++d]=f);r.length=d+1}}function a(c){for(var u=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=5,1),d=-1,h=r.length;++d<h;)r[d].call(n,u);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),l())}function l(){for(var c in e.state=6,e.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=e,e.timer=N6(function s(c){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=c&&o(c-e.delay)},0,e.time)}(n,e,{name:t,index:i,group:r,on:lEe,tween:cEe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:L6})}function OM(n,t){var e=Ss(n,t);if(e.state>L6)throw new Error("too late; already scheduled");return e}function oo(n,t){var e=Ss(n,t);if(e.state>jb)throw new Error("too late; already running");return e}function Ss(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}var Yb,B6=180/Math.PI,FM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function H6(n,t,e,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+t*t))&&(n/=o,t/=o),(l=n*e+t*i)&&(e-=n*l,i-=t*l),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,l/=a),n*i<t*e&&(n=-n,t=-t,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,n)*B6,skewX:Math.atan(l)*B6,scaleX:o,scaleY:a}}function $6(n,t,e,i){function r(c){return c.length?c.pop()+" ":""}return function(c,u){var d=[],h=[];return c=n(c),u=n(u),function s(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push("translate(",null,t,null,e);p.push({i:m-4,x:ws(c,d)},{i:m-2,x:ws(u,h)})}else(d||h)&&f.push("translate("+d+t+h+e)}(c.translateX,c.translateY,u.translateX,u.translateY,d,h),function o(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(r(d)+"rotate(",null,i)-2,x:ws(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}(c.rotate,u.rotate,d,h),function a(c,u,d,h){c!==u?h.push({i:d.push(r(d)+"skewX(",null,i)-2,x:ws(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}(c.skewX,u.skewX,d,h),function l(c,u,d,h,f,p){if(c!==d||u!==h){var m=f.push(r(f)+"scale(",null,",",null,")");p.push({i:m-4,x:ws(c,d)},{i:m-2,x:ws(u,h)})}else(1!==d||1!==h)&&f.push(r(f)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var g,p=-1,m=h.length;++p<m;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var pEe=$6(function hEe(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?FM:H6(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),gEe=$6(function fEe(n){return null!=n&&(Yb||(Yb=document.createElementNS("http://www.w3.org/2000/svg","g")),Yb.setAttribute("transform",n),n=Yb.transform.baseVal.consolidate())?H6((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):FM},", ",")",")");function mEe(n,t){var e,i;return function(){var r=oo(this,n),s=r.tween;if(s!==e)for(var o=0,a=(i=e=s).length;o<a;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}r.tween=i}}function _Ee(n,t,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var s=oo(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:e},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function VM(n,t,e){var i=n._id;return n.each(function(){var r=oo(this,i);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return Ss(r,i).value[t]}}function U6(n,t){var e;return("number"==typeof t?ws:t instanceof Tc?Bb:(e=Tc(t))?(t=e,Bb):I6)(n,t)}function yEe(n){return function(){this.removeAttribute(n)}}function bEe(n){return function(){this.removeAttributeNS(n.space,n.local)}}function TEe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=t(i=o,e)}}function xEe(n,t,e){var i,s,r=e+"";return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=t(i=o,e)}}function CEe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttribute(n):(o=this.getAttribute(n))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function wEe(n,t,e){var i,r,s;return function(){var o,l,a=e(this);return null==a?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local))===(l=a+"")?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}function AEe(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function EEe(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}(n,s)),e}return r._value=t,r}function IEe(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&function DEe(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}(n,s)),e}return r._value=t,r}function MEe(n,t){return function(){OM(this,n).delay=+t.apply(this,arguments)}}function REe(n,t){return t=+t,function(){OM(this,n).delay=t}}function PEe(n,t){return function(){oo(this,n).duration=+t.apply(this,arguments)}}function OEe(n,t){return t=+t,function(){oo(this,n).duration=t}}var XEe=Gg.prototype.constructor;function G6(n){return function(){this.style.removeProperty(n)}}var pAe=0;function Ko(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function z6(){return++pAe}var Xo=Gg.prototype;Ko.prototype=function gAe(n){return Gg().transition(n)}.prototype={constructor:Ko,select:function YEe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=TM(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var u,d,a=i[o],l=a.length,c=s[o]=new Array(l),h=0;h<l;++h)(u=a[h])&&(d=n.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,qb(c[h],t,e,h,c,Ss(u,e)));return new Ko(s,this._parents,t,e)},selectAll:function KEe(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=Q8(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var u,l=i[a],c=l.length,d=0;d<c;++d)if(u=l[d]){for(var f,h=n.call(u,u.__data__,d,l),p=Ss(u,e),m=0,g=h.length;m<g;++m)(f=h[m])&&qb(f,t,e,m,h,p);s.push(h),o.push(u)}return new Ko(s,o,t,e)},selectChild:Xo.selectChild,selectChildren:Xo.selectChildren,filter:function $Ee(n){"function"!=typeof n&&(n=Z8(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var l,s=t[r],o=s.length,a=i[r]=[],c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new Ko(i,this._parents,this._name,this._id)},merge:function UEe(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,s=Math.min(i,e.length),o=new Array(i),a=0;a<s;++a)for(var h,l=t[a],c=e[a],u=l.length,d=o[a]=new Array(u),f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<i;++a)o[a]=t[a];return new Ko(o,this._parents,this._name,this._id)},selection:function QEe(){return new XEe(this._groups,this._parents)},transition:function hAe(){for(var n=this._name,t=this._id,e=z6(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)if(l=o[c]){var u=Ss(l,t);qb(l,n,e,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ko(i,this._parents,n,e)},call:Xo.call,nodes:Xo.nodes,node:Xo.node,size:Xo.size,empty:Xo.empty,each:Xo.each,on:function jEe(n,t){var e=this._id;return arguments.length<2?Ss(this.node(),e).on.on(n):this.each(function zEe(n,t,e){var i,r,s=function GEe(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?OM:oo;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(t,e),o.on=r}}(e,n,t))},attr:function SEe(n,t){var e=Rb(n),i="transform"===e?gEe:U6;return this.attrTween(n,"function"==typeof t?(e.local?wEe:CEe)(e,i,VM(this,"attr."+n,t)):null==t?(e.local?bEe:yEe)(e):(e.local?xEe:TEe)(e,i,t))},attrTween:function kEe(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var i=Rb(n);return this.tween(e,(i.local?AEe:IEe)(i,t))},style:function nAe(n,t,e){var i="transform"==(n+="")?pEe:U6;return null==t?this.styleTween(n,function ZEe(n,t){var e,i,r;return function(){var s=Jd(this,n),o=(this.style.removeProperty(n),Jd(this,n));return s===o?null:s===e&&o===i?r:r=t(e=s,i=o)}}(n,i)).on("end.style."+n,G6(n)):"function"==typeof t?this.styleTween(n,function eAe(n,t,e){var i,r,s;return function(){var o=Jd(this,n),a=e(this),l=a+"";return null==a&&(this.style.removeProperty(n),l=a=Jd(this,n)),o===l?null:o===i&&l===r?s:(r=l,s=t(i=o,a))}}(n,i,VM(this,"style."+n,t))).each(function tAe(n,t){var e,i,r,a,s="style."+t,o="end."+s;return function(){var l=oo(this,n),c=l.on,u=null==l.value[s]?a||(a=G6(t)):void 0;(c!==e||r!==u)&&(i=(e=c).copy()).on(o,r=u),l.on=i}}(this._id,n)):this.styleTween(n,function JEe(n,t,e){var i,s,r=e+"";return function(){var o=Jd(this,n);return o===r?null:o===i?s:s=t(i=o,e)}}(n,i,t),e).on("end.style."+n,null)},styleTween:function sAe(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function rAe(n,t,e){var i,r;function s(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&function iAe(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}(n,o,e)),i}return s._value=t,s}(n,t,e??""))},text:function lAe(n){return this.tween("text","function"==typeof n?function aAe(n){return function(){var t=n(this);this.textContent=t??""}}(VM(this,"text",n)):function oAe(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function dAe(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,function uAe(n){var t,e;function i(){var r=n.apply(this,arguments);return r!==e&&(t=(e=r)&&function cAe(n){return function(t){this.textContent=n.call(this,t)}}(r)),t}return i._value=n,i}(n))},remove:function qEe(){return this.on("end.remove",function WEe(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function vEe(n,t){var e=this._id;if(n+="",arguments.length<2){for(var o,i=Ss(this.node(),e).tween,r=0,s=i.length;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((null==t?mEe:_Ee)(e,n,t))},delay:function NEe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?MEe:REe)(t,n)):Ss(this.node(),t).delay},duration:function LEe(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?PEe:OEe)(t,n)):Ss(this.node(),t).duration},ease:function VEe(n){var t=this._id;return arguments.length?this.each(function FEe(n,t){if("function"!=typeof t)throw new Error;return function(){oo(this,n).ease=t}}(t,n)):Ss(this.node(),t).ease},easeVarying:function HEe(n){if("function"!=typeof n)throw new Error;return this.each(function BEe(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;oo(this,n).ease=e}}(this._id,n))},end:function fAe(){var n,t,e=this,i=e._id,r=e.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--r&&s()}};e.each(function(){var c=oo(this,i),u=c.on;u!==n&&((t=(n=u).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),0===r&&s()})},[Symbol.iterator]:Xo[Symbol.iterator]};var _Ae={time:null,delay:0,duration:250,ease:function mAe(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function vAe(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}Gg.prototype.interrupt=function dEe(n){return this.each(function(){!function LM(n,t){var i,r,o,e=n.__transition,s=!0;if(e){for(o in t=null==t?null:t+"",e)(i=e[o]).name===t?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[o]):s=!1;s&&delete n.__transition}}(this,n)})},Gg.prototype.transition=function yAe(n){var t,e;n instanceof Ko?(t=n._id,n=n._name):(t=z6(),(e=_Ae).time=MM(),n=null==n?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l,o=i[s],a=o.length,c=0;c<a;++c)(l=o[c])&&qb(l,n,t,c,o,e||vAe(l,t));return new Ko(i,this._parents,n,t)};Math;function Qg(n){return{type:n}}function Qb(n,t){return null==n||null==t?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function kAe(n,t){return null==n||null==t?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function jM(n){let t,e,i;function r(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}return 2!==n.length?(t=Qb,e=(a,l)=>Qb(n(a),l),i=(a,l)=>n(a)-l):(t=n===Qb||n===kAe?n:MAe,e=n,i=n),{left:r,center:function o(a,l,c=0,u=a.length){const d=r(a,l,c,u-1);return d>c&&i(a[d-1],l)>-i(a[d],l)?d-1:d},right:function s(a,l,c=0,u=a.length){if(c<u){if(0!==t(l,l))return u;do{const d=c+u>>>1;e(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}}}function MAe(){return 0}["w","e"].map(Qg),["n","s"].map(Qg),["n","w","e","s","nw","ne","sw","se"].map(Qg);const RAe=Math.sqrt(50),NAe=Math.sqrt(10),PAe=Math.sqrt(2);function Zb(n,t,e){const i=(t-n)/Math.max(0,e),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=RAe?10:s>=NAe?5:s>=PAe?2:1;let a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(n*c),l=Math.round(t*c),a/c<n&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(n/c),l=Math.round(t/c),a*c<n&&++a,l*c>t&&--l),l<a&&.5<=e&&e<2?Zb(n,t,2*e):[a,l,c]}function WM(n,t,e){return Zb(n=+n,t=+t,e=+e)[2]}function qM(n,t,e){e=+e;const i=(t=+t)<(n=+n),r=i?WM(t,n,e):WM(n,t,e);return(i?-1:1)*(r<0?1/-r:r)}const Zo=1e3,ss=6e4,Jo=60*ss,ea=24*Jo,YM=7*ea,X6=30*ea,KM=365*ea,XM=new Date,QM=new Date;function Jn(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),t(s,1),n(s),s),r.round=s=>{const o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=(s,o)=>(t(s=new Date(+s),null==o?1:Math.floor(o)),s),r.range=(s,o,a)=>{const l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;let c;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=s=>Jn(o=>{if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),e&&(r.count=(s,o)=>(XM.setTime(+s),QM.setTime(+o),n(XM),n(QM),Math.floor(e(XM,QM))),r.every=s=>(s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?o=>i(o)%s==0:o=>r.count(0,o)%s==0):r:null)),r}const Jb=Jn(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);Jb.every=n=>(n=Math.floor(n),isFinite(n)&&n>0?n>1?Jn(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):Jb:null);const rh=Jn(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*Zo)},(n,t)=>(t-n)/Zo,n=>n.getUTCSeconds()),ZM=Jn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Zo)},(n,t)=>{n.setTime(+n+t*ss)},(n,t)=>(t-n)/ss,n=>n.getMinutes()),Q6=Jn(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*ss)},(n,t)=>(t-n)/ss,n=>n.getUTCMinutes()),JM=Jn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Zo-n.getMinutes()*ss)},(n,t)=>{n.setTime(+n+t*Jo)},(n,t)=>(t-n)/Jo,n=>n.getHours()),Z6=Jn(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*Jo)},(n,t)=>(t-n)/Jo,n=>n.getUTCHours()),eR=Jn(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*ss)/ea,n=>n.getDate()-1),J6=(Jn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/ea,n=>n.getUTCDate()-1),Jn(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/ea,n=>Math.floor(n/ea)));function Sc(n){return Jn(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ss)/YM)}const tR=Sc(0);function Dc(n){return Jn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/YM)}Sc(1),Sc(2),Sc(3),Sc(4),Sc(5),Sc(6);const e9=Dc(0),nR=(Dc(1),Dc(2),Dc(3),Dc(4),Dc(5),Dc(6),Jn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear()),n=>n.getMonth())),t9=Jn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear()),n=>n.getUTCMonth()),eT=Jn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());eT.every=n=>isFinite(n=Math.floor(n))&&n>0?Jn(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)}):null;const iR=Jn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());function n9(n,t,e,i,r,s){const o=[[rh,1,Zo],[rh,5,5e3],[rh,15,15e3],[rh,30,3e4],[s,1,ss],[s,5,5*ss],[s,15,15*ss],[s,30,30*ss],[r,1,Jo],[r,3,3*Jo],[r,6,6*Jo],[r,12,12*Jo],[i,1,ea],[i,2,2*ea],[e,1,YM],[t,1,X6],[t,3,3*X6],[n,1,KM]];function l(c,u,d){const h=Math.abs(u-c)/d,f=jM(([,,g])=>g).right(o,h);if(f===o.length)return n.every(qM(c/KM,u/KM,d));if(0===f)return Jb.every(Math.max(qM(c,u,d),1));const[p,m]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return p.every(m)}return[function a(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&"function"==typeof d.range?d:l(c,u,d),p=f?f.range(c,+u+1):[];return h?p.reverse():p},l]}iR.every=n=>isFinite(n=Math.floor(n))&&n>0?Jn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null;const[N7e,P7e]=n9(iR,t9,e9,J6,Z6,Q6),[YAe,KAe]=n9(eT,nR,tR,eR,JM,ZM);var rR=new Date,sR=new Date;function ta(n,t,e,i){function r(s){return n(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=function(s){return n(s=new Date(+s)),s},r.ceil=function(s){return n(s=new Date(s-1)),t(s,1),n(s),s},r.round=function(s){var o=r(s),a=r.ceil(s);return s-o<a-s?o:a},r.offset=function(s,o){return t(s=new Date(+s),null==o?1:Math.floor(o)),s},r.range=function(s,o,a){var c,l=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<o&&a>0))return l;do{l.push(c=new Date(+s)),t(s,a),n(s)}while(c<s&&s<o);return l},r.filter=function(s){return ta(function(o){if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},function(o,a){if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););})},e&&(r.count=function(s,o){return rR.setTime(+s),sR.setTime(+o),n(rR),n(sR),Math.floor(e(rR,sR))},r.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?function(o){return i(o)%s==0}:function(o){return r.count(0,o)%s==0}):r:null}),r}const Zg=864e5,i9=7*Zg;function Ec(n){return ta(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/i9})}var r9=Ec(0),tT=Ec(1),sh=(Ec(2),Ec(3),Ec(4)),s9=(Ec(5),Ec(6),ta(function(n){n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t-n)/Zg},function(n){return n.getUTCDate()-1}));const o9=s9;function Ac(n){return ta(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/i9})}var a9=Ac(0),nT=Ac(1),oh=(Ac(2),Ac(3),Ac(4)),l9=(Ac(5),Ac(6),ta(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/Zg,n=>n.getDate()-1));const c9=l9;var aR=ta(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});aR.every=function(n){return isFinite(n=Math.floor(n))&&n>0?ta(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};const Jg=aR;var lR=ta(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});lR.every=function(n){return isFinite(n=Math.floor(n))&&n>0?ta(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};const em=lR;function cR(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function uR(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function tm(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}var u9={"-":"",_:" ",0:"0"},ai=/^\s*\d+/,sIe=/^%/,oIe=/[\\^$*+?|[\]().{}]/g;function Tt(n,t,e){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<e?new Array(e-s+1).join(t)+r:r)}function aIe(n){return n.replace(oIe,"\\$&")}function nm(n){return new RegExp("^(?:"+n.map(aIe).join("|")+")","i")}function im(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function lIe(n,t,e){var i=ai.exec(t.slice(e,e+1));return i?(n.w=+i[0],e+i[0].length):-1}function cIe(n,t,e){var i=ai.exec(t.slice(e,e+1));return i?(n.u=+i[0],e+i[0].length):-1}function uIe(n,t,e){var i=ai.exec(t.slice(e,e+2));return i?(n.U=+i[0],e+i[0].length):-1}function dIe(n,t,e){var i=ai.exec(t.slice(e,e+2));return i?(n.V=+i[0],e+i[0].length):-1}function hIe(n,t,e){var i=ai.exec(t.slice(e,e+2));return i?(n.W=+i[0],e+i[0].length):-1}function d9(n,t,e){var i=ai.exec(t.slice(e,e+4));return i?(n.y=+i[0],e+i[0].length):-1}function h9(n,t,e){var i=ai.exec(t.slice(e,e+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function fIe(n,t,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function pIe(n,t,e){var i=ai.exec(t.slice(e,e+1));return i?(n.q=3*i[0]-3,e+i[0].length):-1}function gIe(n,t,e){var i=ai.exec(t.slice(e,e+2));return i?(n.m=i[0]-1,e+i[0].length):-1}function f9(n,t,e){var i=ai.exec(t.slice(e,e+2));return i?(n.d=+i[0],e+i[0].length):-1}function mIe(n,t,e){var i=ai.exec(t.slice(e,e+3));return i?(n.m=0,n.d=+i[0],e+i[0].length):-1}function p9(n,t,e){var i=ai.exec(t.slice(e,e+2));return i?(n.H=+i[0],e+i[0].length):-1}function _Ie(n,t,e){var i=ai.exec(t.slice(e,e+2));return i?(n.M=+i[0],e+i[0].length):-1}function vIe(n,t,e){var i=ai.exec(t.slice(e,e+2));return i?(n.S=+i[0],e+i[0].length):-1}function yIe(n,t,e){var i=ai.exec(t.slice(e,e+3));return i?(n.L=+i[0],e+i[0].length):-1}function bIe(n,t,e){var i=ai.exec(t.slice(e,e+6));return i?(n.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function TIe(n,t,e){var i=sIe.exec(t.slice(e,e+1));return i?e+i[0].length:-1}function xIe(n,t,e){var i=ai.exec(t.slice(e));return i?(n.Q=+i[0],e+i[0].length):-1}function CIe(n,t,e){var i=ai.exec(t.slice(e));return i?(n.s=+i[0],e+i[0].length):-1}function g9(n,t){return Tt(n.getDate(),t,2)}function wIe(n,t){return Tt(n.getHours(),t,2)}function SIe(n,t){return Tt(n.getHours()%12||12,t,2)}function DIe(n,t){return Tt(1+c9.count(Jg(n),n),t,3)}function m9(n,t){return Tt(n.getMilliseconds(),t,3)}function EIe(n,t){return m9(n,t)+"000"}function AIe(n,t){return Tt(n.getMonth()+1,t,2)}function IIe(n,t){return Tt(n.getMinutes(),t,2)}function kIe(n,t){return Tt(n.getSeconds(),t,2)}function MIe(n){var t=n.getDay();return 0===t?7:t}function RIe(n,t){return Tt(a9.count(Jg(n)-1,n),t,2)}function _9(n){var t=n.getDay();return t>=4||0===t?oh(n):oh.ceil(n)}function NIe(n,t){return n=_9(n),Tt(oh.count(Jg(n),n)+(4===Jg(n).getDay()),t,2)}function PIe(n){return n.getDay()}function OIe(n,t){return Tt(nT.count(Jg(n)-1,n),t,2)}function LIe(n,t){return Tt(n.getFullYear()%100,t,2)}function FIe(n,t){return Tt((n=_9(n)).getFullYear()%100,t,2)}function VIe(n,t){return Tt(n.getFullYear()%1e4,t,4)}function BIe(n,t){var e=n.getDay();return Tt((n=e>=4||0===e?oh(n):oh.ceil(n)).getFullYear()%1e4,t,4)}function HIe(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tt(t/60|0,"0",2)+Tt(t%60,"0",2)}function v9(n,t){return Tt(n.getUTCDate(),t,2)}function $Ie(n,t){return Tt(n.getUTCHours(),t,2)}function UIe(n,t){return Tt(n.getUTCHours()%12||12,t,2)}function GIe(n,t){return Tt(1+o9.count(em(n),n),t,3)}function y9(n,t){return Tt(n.getUTCMilliseconds(),t,3)}function zIe(n,t){return y9(n,t)+"000"}function jIe(n,t){return Tt(n.getUTCMonth()+1,t,2)}function WIe(n,t){return Tt(n.getUTCMinutes(),t,2)}function qIe(n,t){return Tt(n.getUTCSeconds(),t,2)}function YIe(n){var t=n.getUTCDay();return 0===t?7:t}function KIe(n,t){return Tt(r9.count(em(n)-1,n),t,2)}function b9(n){var t=n.getUTCDay();return t>=4||0===t?sh(n):sh.ceil(n)}function XIe(n,t){return n=b9(n),Tt(sh.count(em(n),n)+(4===em(n).getUTCDay()),t,2)}function QIe(n){return n.getUTCDay()}function ZIe(n,t){return Tt(tT.count(em(n)-1,n),t,2)}function JIe(n,t){return Tt(n.getUTCFullYear()%100,t,2)}function eke(n,t){return Tt((n=b9(n)).getUTCFullYear()%100,t,2)}function tke(n,t){return Tt(n.getUTCFullYear()%1e4,t,4)}function nke(n,t){var e=n.getUTCDay();return Tt((n=e>=4||0===e?sh(n):sh.ceil(n)).getUTCFullYear()%1e4,t,4)}function ike(){return"+0000"}function T9(){return"%"}function x9(n){return+n}function C9(n){return Math.floor(+n/1e3)}!function ake(n){(function rIe(n){var t=n.dateTime,e=n.date,i=n.time,r=n.periods,s=n.days,o=n.shortDays,a=n.months,l=n.shortMonths,c=nm(r),u=im(r),d=nm(s),h=im(s),f=nm(o),p=im(o),m=nm(a),g=im(a),v=nm(l),_=im(l),b={a:function j(te){return o[te.getDay()]},A:function he(te){return s[te.getDay()]},b:function de(te){return l[te.getMonth()]},B:function ze(te){return a[te.getMonth()]},c:null,d:g9,e:g9,f:EIe,g:FIe,G:BIe,H:wIe,I:SIe,j:DIe,L:m9,m:AIe,M:IIe,p:function at(te){return r[+(te.getHours()>=12)]},q:function Ke(te){return 1+~~(te.getMonth()/3)},Q:x9,s:C9,S:kIe,u:MIe,U:RIe,V:NIe,w:PIe,W:OIe,x:null,X:null,y:LIe,Y:VIe,Z:HIe,"%":T9},x={a:function ei(te){return o[te.getUTCDay()]},A:function it(te){return s[te.getUTCDay()]},b:function li(te){return l[te.getUTCMonth()]},B:function mr(te){return a[te.getUTCMonth()]},c:null,d:v9,e:v9,f:zIe,g:eke,G:nke,H:$Ie,I:UIe,j:GIe,L:y9,m:jIe,M:WIe,p:function Ze(te){return r[+(te.getUTCHours()>=12)]},q:function gn(te){return 1+~~(te.getUTCMonth()/3)},Q:x9,s:C9,S:qIe,u:YIe,U:KIe,V:XIe,w:QIe,W:ZIe,x:null,X:null,y:JIe,Y:tke,Z:ike,"%":T9},E={a:function me(te,Ae,je){var z=f.exec(Ae.slice(je));return z?(te.w=p.get(z[0].toLowerCase()),je+z[0].length):-1},A:function ce(te,Ae,je){var z=d.exec(Ae.slice(je));return z?(te.w=h.get(z[0].toLowerCase()),je+z[0].length):-1},b:function ot(te,Ae,je){var z=v.exec(Ae.slice(je));return z?(te.m=_.get(z[0].toLowerCase()),je+z[0].length):-1},B:function Te(te,Ae,je){var z=m.exec(Ae.slice(je));return z?(te.m=g.get(z[0].toLowerCase()),je+z[0].length):-1},c:function nt(te,Ae,je){return Y(te,t,Ae,je)},d:f9,e:f9,f:bIe,g:h9,G:d9,H:p9,I:p9,j:mIe,L:yIe,m:gIe,M:_Ie,p:function Ce(te,Ae,je){var z=c.exec(Ae.slice(je));return z?(te.p=u.get(z[0].toLowerCase()),je+z[0].length):-1},q:pIe,Q:xIe,s:CIe,S:vIe,u:cIe,U:uIe,V:dIe,w:lIe,W:hIe,x:function un(te,Ae,je){return Y(te,e,Ae,je)},X:function G(te,Ae,je){return Y(te,i,Ae,je)},y:h9,Y:d9,Z:fIe,"%":TIe};function k(te,Ae){return function(je){var ci,De,dn,z=[],rn=-1,St=0,Di=te.length;for(je instanceof Date||(je=new Date(+je));++rn<Di;)37===te.charCodeAt(rn)&&(z.push(te.slice(St,rn)),null!=(De=u9[ci=te.charAt(++rn)])?ci=te.charAt(++rn):De="e"===ci?" ":"0",(dn=Ae[ci])&&(ci=dn(je,De)),z.push(ci),St=rn+1);return z.push(te.slice(St,rn)),z.join("")}}function U(te,Ae){return function(je){var St,Di,z=tm(1900,void 0,1);if(Y(z,te,je+="",0)!=je.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(1e3*z.s+("L"in z?z.L:0));if(Ae&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+12*z.p),void 0===z.m&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(Di=(St=uR(tm(z.y,0,1))).getUTCDay(),St=Di>4||0===Di?tT.ceil(St):tT(St),St=o9.offset(St,7*(z.V-1)),z.y=St.getUTCFullYear(),z.m=St.getUTCMonth(),z.d=St.getUTCDate()+(z.w+6)%7):(Di=(St=cR(tm(z.y,0,1))).getDay(),St=Di>4||0===Di?nT.ceil(St):nT(St),St=c9.offset(St,7*(z.V-1)),z.y=St.getFullYear(),z.m=St.getMonth(),z.d=St.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Di="Z"in z?uR(tm(z.y,0,1)).getUTCDay():cR(tm(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+7*z.W-(Di+5)%7:z.w+7*z.U-(Di+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,uR(z)):cR(z)}}function Y(te,Ae,je,z){for(var ci,De,rn=0,St=Ae.length,Di=je.length;rn<St;){if(z>=Di)return-1;if(37===(ci=Ae.charCodeAt(rn++))){if(ci=Ae.charAt(rn++),!(De=E[ci in u9?Ae.charAt(rn++):ci])||(z=De(te,je,z))<0)return-1}else if(ci!=je.charCodeAt(z++))return-1}return z}return b.x=k(e,b),b.X=k(i,b),b.c=k(t,b),x.x=k(e,x),x.X=k(i,x),x.c=k(t,x),{format:function(te){var Ae=k(te+="",b);return Ae.toString=function(){return te},Ae},parse:function(te){var Ae=U(te+="",!1);return Ae.toString=function(){return te},Ae},utcFormat:function(te){var Ae=k(te+="",x);return Ae.toString=function(){return te},Ae},utcParse:function(te){var Ae=U(te+="",!0);return Ae.toString=function(){return te},Ae}}})(n)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),jM(Qb),jM(function lke(n){return null===n?NaN:+n});var k9,xke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rT(n){if(!(t=xke.exec(n)))throw new Error("invalid format: "+n);var t;return new hR({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function hR(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function sT(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function M9(n,t){var e=sT(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}rT.prototype=hR.prototype,hR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const R9={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function Cke(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>M9(100*n,t),r:M9,s:function Ake(n,t){var e=sT(n,t);if(!e)return n+"";var i=e[0],r=e[1],s=r-(k9=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+sT(n,Math.max(0,t+s-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function N9(n){return n}var P9=Array.prototype.map,O9=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Ike(n){var t=void 0===n.grouping||void 0===n.thousands?N9:function Ske(n,t){return function(e,i){for(var r=e.length,s=[],o=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(e.substring(r-=a,r+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return s.reverse().join(t)}}(P9.call(n.grouping,Number),n.thousands+""),e=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",r=void 0===n.decimal?".":n.decimal+"",s=void 0===n.numerals?N9:function Dke(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}(P9.call(n.numerals,String)),o=void 0===n.percent?"%":n.percent+"",a=void 0===n.minus?"\u2212":n.minus+"",l=void 0===n.nan?"NaN":n.nan+"";function c(d){var h=(d=rT(d)).fill,f=d.align,p=d.sign,m=d.symbol,g=d.zero,v=d.width,_=d.comma,b=d.precision,x=d.trim,E=d.type;"n"===E?(_=!0,E="g"):R9[E]||(void 0===b&&(b=12),x=!0,E="g"),(g||"0"===h&&"="===f)&&(g=!0,h="0",f="=");var k="$"===m?e:"#"===m&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",U="$"===m?i:/[%p]/.test(E)?o:"",Y=R9[E],Ce=/[defgprs%]/.test(E);function me(ce){var nt,un,G,ot=k,Te=U;if("c"===E)Te=Y(ce)+Te,ce="";else{var j=(ce=+ce)<0||1/ce<0;if(ce=isNaN(ce)?l:Y(Math.abs(ce),b),x&&(ce=function Eke(n){e:for(var r,t=n.length,e=1,i=-1;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":0===i&&(i=e),r=e;break;default:if(!+n[e])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(r+1):n}(ce)),j&&0==+ce&&"+"!==p&&(j=!1),ot=(j?"("===p?p:a:"-"===p||"("===p?"":p)+ot,Te=("s"===E?O9[8+k9/3]:"")+Te+(j&&"("===p?")":""),Ce)for(nt=-1,un=ce.length;++nt<un;)if(48>(G=ce.charCodeAt(nt))||G>57){Te=(46===G?r+ce.slice(nt+1):ce.slice(nt))+Te,ce=ce.slice(0,nt);break}}_&&!g&&(ce=t(ce,1/0));var he=ot.length+ce.length+Te.length,de=he<v?new Array(v-he+1).join(h):"";switch(_&&g&&(ce=t(de+ce,de.length?v-Te.length:1/0),de=""),f){case"<":ce=ot+ce+Te+de;break;case"=":ce=ot+de+ce+Te;break;case"^":ce=de.slice(0,he=de.length>>1)+ot+ce+Te+de.slice(he);break;default:ce=de+ot+ce+Te}return s(ce)}return b=void 0===b?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),me.toString=function(){return d+""},me}return{format:c,formatPrefix:function u(d,h){var f=c(((d=rT(d)).type="f",d)),p=3*Math.max(-8,Math.min(8,Math.floor(function ch(n){return(n=sT(Math.abs(n)))?n[1]:NaN}(h)/3))),m=Math.pow(10,-p),g=O9[8+p/3];return function(v){return f(m*v)+g}}}}!function kke(n){Ike(n)}({thousands:",",grouping:[3],currency:["$",""]}),Map,Symbol("implicit");var Fke=Ja(178);const Vke=["caretElm"];function Bke(n,t){}const Hke=function(n){return{model:n}};function $ke(n,t){if(1&n&&(T(0,"span"),$(1,Bke,0,0,"ng-template",5),C()),2&n){const e=Q();I(1),R("ngTemplateOutlet",e.template)("ngTemplateOutletContext",wr(2,Hke,e.context))}}function Uke(n,t){1&n&&J(0,"span",6),2&n&&R("innerHTML",Q().title,QP)}function kRe(n,t,e){e=e||{};let i,r,s,o=null,a=0;function l(){a=!1===e.leading?0:+new Date,o=null,s=n.apply(i,r)}return function(){const c=+new Date;!a&&!1===e.leading&&(a=c);const u=t-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=n.apply(i,r)):!o&&!1!==e.trailing&&(o=setTimeout(l,u)),s}}function MRe(n,t){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:kRe(s.value,n,t)}),this[r]}}}}var tt=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",n}(tt||{});function Y9(n,t,e){return e===tt.Top?n.top-7:e===tt.Bottom?n.top+n.height-t.height+7:e===tt.Center?n.top+n.height/2-t.height/2:void 0}function K9(n,t,e){return e===tt.Left?n.left-7:e===tt.Right?n.left+n.width-t.width+7:e===tt.Center?n.left+n.width/2-t.width/2:void 0}class Fr{static calculateVerticalAlignment(t,e,i){let r=Y9(t,e,i);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,i,r){let s;r===tt.Top&&(s=t.height/2-i.height/2+7),r===tt.Bottom&&(s=e.height-t.height/2-i.height/2-7),r===tt.Center&&(s=e.height/2-i.height/2);const o=Y9(t,e,r);return o+e.height>window.innerHeight&&(s+=o+e.height-window.innerHeight),s}static calculateHorizontalAlignment(t,e,i){let r=K9(t,e,i);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,i,r){let s;r===tt.Left&&(s=t.width/2-i.width/2+7),r===tt.Right&&(s=e.width-t.width/2-i.width/2-7),r===tt.Center&&(s=e.width/2-i.width/2);const o=K9(t,e,r);return o+e.width>window.innerWidth&&(s+=o+e.width-window.innerWidth),s}static shouldFlip(t,e,i,r){let s=!1;return i===tt.Right&&t.left+t.width+e.width+r>window.innerWidth&&(s=!0),i===tt.Left&&t.left-e.width-r<0&&(s=!0),i===tt.Top&&t.top-e.height-r<0&&(s=!0),i===tt.Bottom&&t.top+t.height+e.height+r>window.innerHeight&&(s=!0),s}static positionCaret(t,e,i,r,s){let o=0,a=0;return t===tt.Right?(a=-7,o=Fr.calculateVerticalCaret(i,e,r,s)):t===tt.Left?(a=e.width,o=Fr.calculateVerticalCaret(i,e,r,s)):t===tt.Top?(o=e.height,a=Fr.calculateHorizontalCaret(i,e,r,s)):t===tt.Bottom&&(o=-7,a=Fr.calculateHorizontalCaret(i,e,r,s)),{top:o,left:a}}static positionContent(t,e,i,r,s){let o=0,a=0;return t===tt.Right?(a=i.left+i.width+r,o=Fr.calculateVerticalAlignment(i,e,s)):t===tt.Left?(a=i.left-e.width-r,o=Fr.calculateVerticalAlignment(i,e,s)):t===tt.Top?(o=i.top-e.height-r,a=Fr.calculateHorizontalAlignment(i,e,s)):t===tt.Bottom&&(o=i.top+i.height+r,a=Fr.calculateHorizontalAlignment(i,e,s)),{top:o,left:a}}static determinePlacement(t,e,i,r){if(Fr.shouldFlip(i,e,t,r)){if(t===tt.Right)return tt.Left;if(t===tt.Left)return tt.Right;if(t===tt.Top)return tt.Bottom;if(t===tt.Bottom)return tt.Top}return t}}let RRe=(()=>{class n{constructor(e,i,r){this.element=e,this.renderer=i,this.platformId=r}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Qr(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const r=e.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(e,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,r){const{top:s,left:o}=Fr.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${s}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,i){const r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=Fr.positionCaret(this.placement,i,e,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(e,i){this.placement=Fr.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return n.\u0275fac=function(e){return new(e||n)(y(Xe),y(qi),y(Ii))},n.\u0275cmp=We({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&bl(Vke,5),2&e){let r;yt(r=bt())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(e,i){1&e&&X("resize",function(){return i.onWindowResize()},0,EO),2&e&&Mi(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(T(0,"div"),J(1,"span",0,1),T(3,"div",2),$(4,$ke,2,4,"span",3),$(5,Uke,1,1,"span",4),C()()),2&e&&(I(1),function dF(n,t,e){ds(Tr,Bs,_u(F(),n,t,e),!0)}("tooltip-caret position-",i.placement,""),R("hidden",!i.showCaret),I(3),R("ngIf",!i.title),I(1),R("ngIf",i.title))},dependencies:[Er,Cl],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function gm(n,t,e,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}([MRe(100)],n.prototype,"onWindowResize",null),n})();class NRe{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const i=this.injectComponent(t,e);return this.register(t,i),i}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const i=e.indexOf(t);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e={...this.defaults.inputs},i={...this.defaults.outputs};return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs={...e,...t.inputs}),i&&(t.outputs={...i,...t.outputs}),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}let _R,X9=(()=>{class n{constructor(e,i,r){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(e){n.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function PRe(n){return n.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const r=Object.getOwnPropertyNames(i.inputs);for(const s of r)e.instance[s]=i.inputs[s]}if(void 0!==i.outputs){const r=Object.getOwnPropertyNames(i.outputs);for(const s of r)e.instance[s]=i.outputs[s]}}return e}appendComponent(e,i={},r){r||(r=this.getRootViewContainer());const s=this.getComponentRootNode(r),o=new X1e(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new X8(e),l=o.attach(a);return this.projectComponentBindings(l,i),l}}return n.globalRootViewContainer=null,n.\u0275fac=function(e){return new(e||n)(L(Co),L(cu),L(Ln))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),pR=(()=>{class n extends NRe{constructor(e){super(e),this.type=RRe}}return n.\u0275fac=function(e){return new(e||n)(L(X9))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),n7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn]]}),n})(),r7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({providers:[X9,pR],imports:[[Dn]]}),n})();typeof window<"u"?_R=window:typeof global<"u"&&(_R=global);let Vr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Dn,n7,r7],Dn,n7,r7]}),n})(),YRe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Vr]]}),n})(),h7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Vr]]}),n})();Fke();let QRe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Vr]]}),n})(),ZRe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Vr]]}),n})(),JRe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Vr]]}),n})(),f7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Vr]]}),n})();Math;let yR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Vr]]}),n})(),nNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Vr,yR,f7]]}),n})(),rNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Vr]]}),n})(),sNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Vr]]}),n})(),aNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Vr,yR,h7]]}),n})(),cNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[[Vr]]}),n})(),uNe=(()=>{class n{constructor(){!function lNe(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=we({type:n}),n.\u0275inj=xe({imports:[Vr,YRe,h7,QRe,ZRe,JRe,cNe,f7,nNe,rNe,yR,sNe,aNe]}),n})(),dNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=we({type:n,bootstrap:[j1e]});static#n=this.\u0275inj=xe({providers:[vg],imports:[aB,z1e,Iye,uNe,Woe,$Ce,Ok,Gwe,V1e,xde(()=>Cde(W1e_firebase)),rye(()=>sye())]})}return n})();Gre().bootstrapModule(dNe).catch(n=>console.error(n))},178:ao=>{function Br(Kt){return Kt instanceof Buffer?Buffer.from(Kt):new Kt.constructor(Kt.buffer.slice(),Kt.byteOffset,Kt.length)}ao.exports=function Ja(Kt){return(Kt=Kt||{}).circles?function Qe(Kt){var Xt=[],mn=[];return Kt.proto?function Dt(ye){if("object"!=typeof ye||null===ye)return ye;if(ye instanceof Date)return new Date(ye);if(Array.isArray(ye))return Be(ye,Dt);if(ye instanceof Map)return new Map(Be(Array.from(ye),Dt));if(ye instanceof Set)return new Set(Be(Array.from(ye),Dt));var ge={};for(var mt in Xt.push(ye),mn.push(ge),ye){var Oe=ye[mt];if("object"!=typeof Oe||null===Oe)ge[mt]=Oe;else if(Oe instanceof Date)ge[mt]=new Date(Oe);else if(Oe instanceof Map)ge[mt]=new Map(Be(Array.from(Oe),Dt));else if(Oe instanceof Set)ge[mt]=new Set(Be(Array.from(Oe),Dt));else if(ArrayBuffer.isView(Oe))ge[mt]=Br(Oe);else{var Vt=Xt.indexOf(Oe);ge[mt]=-1!==Vt?mn[Vt]:Dt(Oe)}}return Xt.pop(),mn.pop(),ge}:function $e(ye){if("object"!=typeof ye||null===ye)return ye;if(ye instanceof Date)return new Date(ye);if(Array.isArray(ye))return Be(ye,$e);if(ye instanceof Map)return new Map(Be(Array.from(ye),$e));if(ye instanceof Set)return new Set(Be(Array.from(ye),$e));var ge={};for(var mt in Xt.push(ye),mn.push(ge),ye)if(!1!==Object.hasOwnProperty.call(ye,mt)){var Oe=ye[mt];if("object"!=typeof Oe||null===Oe)ge[mt]=Oe;else if(Oe instanceof Date)ge[mt]=new Date(Oe);else if(Oe instanceof Map)ge[mt]=new Map(Be(Array.from(Oe),$e));else if(Oe instanceof Set)ge[mt]=new Set(Be(Array.from(Oe),$e));else if(ArrayBuffer.isView(Oe))ge[mt]=Br(Oe);else{var Vt=Xt.indexOf(Oe);ge[mt]=-1!==Vt?mn[Vt]:$e(Oe)}}return Xt.pop(),mn.pop(),ge};function Be(ye,ge){for(var mt=Object.keys(ye),Oe=new Array(mt.length),Vt=0;Vt<mt.length;Vt++){var Ds=mt[Vt],_r=ye[Ds];if("object"!=typeof _r||null===_r)Oe[Ds]=_r;else if(_r instanceof Date)Oe[Ds]=new Date(_r);else if(ArrayBuffer.isView(_r))Oe[Ds]=Br(_r);else{var Es=Xt.indexOf(_r);Oe[Ds]=-1!==Es?mn[Es]:ge(_r)}}return Oe}}(Kt):Kt.proto?function Be($e){if("object"!=typeof $e||null===$e)return $e;if($e instanceof Date)return new Date($e);if(Array.isArray($e))return Xt($e,Be);if($e instanceof Map)return new Map(Xt(Array.from($e),Be));if($e instanceof Set)return new Set(Xt(Array.from($e),Be));var Dt={};for(var ye in $e){var ge=$e[ye];Dt[ye]="object"!=typeof ge||null===ge?ge:ge instanceof Date?new Date(ge):ge instanceof Map?new Map(Xt(Array.from(ge),Be)):ge instanceof Set?new Set(Xt(Array.from(ge),Be)):ArrayBuffer.isView(ge)?Br(ge):Be(ge)}return Dt}:function mn($e){if("object"!=typeof $e||null===$e)return $e;if($e instanceof Date)return new Date($e);if(Array.isArray($e))return Xt($e,mn);if($e instanceof Map)return new Map(Xt(Array.from($e),mn));if($e instanceof Set)return new Set(Xt(Array.from($e),mn));var Dt={};for(var ye in $e)if(!1!==Object.hasOwnProperty.call($e,ye)){var ge=$e[ye];Dt[ye]="object"!=typeof ge||null===ge?ge:ge instanceof Date?new Date(ge):ge instanceof Map?new Map(Xt(Array.from(ge),mn)):ge instanceof Set?new Set(Xt(Array.from(ge),mn)):ArrayBuffer.isView(ge)?Br(ge):mn(ge)}return Dt};function Xt($e,Dt){for(var ye=Object.keys($e),ge=new Array(ye.length),mt=0;mt<ye.length;mt++){var Oe=ye[mt],Vt=$e[Oe];ge[Oe]="object"!=typeof Vt||null===Vt?Vt:Vt instanceof Date?new Date(Vt):ArrayBuffer.isView(Vt)?Br(Vt):Dt(Vt)}return ge}}},614:()=>{const ao=":";const nl=function(D,...w){if(nl.translate){const V=nl.translate(D,w);D=V[0],w=V[1]}let O=mm(D[0],D.raw[0]);for(let V=1;V<D.length;V++)O+=w[V-1]+mm(D[V],D.raw[V]);return O},gm=":";function mm(D,w){return w.charAt(0)===gm?D.substring(function dm(D,w){for(let O=1,V=1;O<D.length;O++,V++)if("\\"===w[V])V++;else if(D[O]===ao)return O;throw new Error(`Unterminated $localize metadata block in "${w}".`)}(D,w)+1):D}globalThis.$localize=nl}},ao=>{var Br=Qe=>ao(ao.s=Qe);Br(614),Br(985)}]);